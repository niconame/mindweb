<!doctype html>
<html>
	<head>
		<title>ZeParser benchmark</title>
		<style>
		</style>
	</head>
	<body>
		<h1>ZeParser benchmark</h1>
		<p>ES5 parser by Peter van der Zee, (c) qfox.nl</p>
		<p>This page demonstrates parsing various scripts. It does this 10x per script, this gives the browser enough time to warm up optimization engines. The avg drops the min and max result. Tokens can be white (-space..) or black. Units: kb = 1024 chars, k-tok = 1000 tokens, k-b-tok = 1000 black tokens.</p>

		<pre id="dbg"></pre>
	
<script id="legacy" type="x"> //  this is a combination of the minified versions of Ext.js (710k), mootools (90k), jquery (90k), prototype (160k, normal) and dojo (90k)
/*
 * Ext JS Library 3.3.1
 * Copyright(c) 2006-2010 Sencha Inc.
 * licensing@sencha.com
 * http://www.sencha.com/license
 */
(function(){var h=Ext.util,k=Ext.each,g=true,i=false;h.Observable=function(){var l=this,m=l.events;if(l.listeners){l.on(l.listeners);delete l.listeners}l.events=m||{}};h.Observable.prototype={filterOptRe:/^(?:scope|delay|buffer|single)$/,fireEvent:function(){var l=Array.prototype.slice.call(arguments,0),n=l[0].toLowerCase(),o=this,m=g,r=o.events[n],t,p,s;if(o.eventsSuspended===g){if(p=o.eventQueue){p.push(l)}}else{if(typeof r=="object"){if(r.bubble){if(r.fire.apply(r,l.slice(1))===i){return i}s=o.getBubbleTarget&&o.getBubbleTarget();if(s&&s.enableBubble){t=s.events[n];if(!t||typeof t!="object"||!t.bubble){s.enableBubble(n)}return s.fireEvent.apply(s,l)}}else{l.shift();m=r.fire.apply(r,l)}}}return m},addListener:function(l,n,m,s){var p=this,r,t,q;if(typeof l=="object"){s=l;for(r in s){t=s[r];if(!p.filterOptRe.test(r)){p.addListener(r,t.fn||t,t.scope||s.scope,t.fn?t:s)}}}else{l=l.toLowerCase();q=p.events[l]||g;if(typeof q=="boolean"){p.events[l]=q=new h.Event(p,l)}q.addListener(n,m,typeof s=="object"?s:{})}},removeListener:function(l,n,m){var o=this.events[l.toLowerCase()];if(typeof o=="object"){o.removeListener(n,m)}},purgeListeners:function(){var n=this.events,l,m;for(m in n){l=n[m];if(typeof l=="object"){l.clearListeners()}}},addEvents:function(p){var n=this;n.events=n.events||{};if(typeof p=="string"){var l=arguments,m=l.length;while(m--){n.events[l[m]]=n.events[l[m]]||g}}else{Ext.applyIf(n.events,p)}},hasListener:function(l){var m=this.events[l.toLowerCase()];return typeof m=="object"&&m.listeners.length>0},suspendEvents:function(l){this.eventsSuspended=g;if(l&&!this.eventQueue){this.eventQueue=[]}},resumeEvents:function(){var l=this,m=l.eventQueue||[];l.eventsSuspended=i;delete l.eventQueue;k(m,function(n){l.fireEvent.apply(l,n)})}};var d=h.Observable.prototype;d.on=d.addListener;d.un=d.removeListener;h.Observable.releaseCapture=function(l){l.fireEvent=d.fireEvent};function e(m,n,l){return function(){if(n.target==arguments[0]){m.apply(l,Array.prototype.slice.call(arguments,0))}}}function b(p,q,m,n){m.task=new h.DelayedTask();return function(){m.task.delay(q.buffer,p,n,Array.prototype.slice.call(arguments,0))}}function c(n,o,m,l){return function(){o.removeListener(m,l);return n.apply(l,arguments)}}function a(p,q,m,n){return function(){var l=new h.DelayedTask(),o=Array.prototype.slice.call(arguments,0);if(!m.tasks){m.tasks=[]}m.tasks.push(l);l.delay(q.delay||10,function(){m.tasks.remove(l);p.apply(n,o)},n)}}h.Event=function(m,l){this.name=l;this.obj=m;this.listeners=[]};h.Event.prototype={addListener:function(p,o,n){var q=this,m;o=o||q.obj;if(!q.isListening(p,o)){m=q.createListener(p,o,n);if(q.firing){q.listeners=q.listeners.slice(0)}q.listeners.push(m)}},createListener:function(q,p,r){r=r||{};p=p||this.obj;var m={fn:q,scope:p,options:r},n=q;if(r.target){n=e(n,r,p)}if(r.delay){n=a(n,r,m,p)}if(r.single){n=c(n,this,q,p)}if(r.buffer){n=b(n,r,m,p)}m.fireFn=n;return m},findListener:function(p,o){var q=this.listeners,n=q.length,m;o=o||this.obj;while(n--){m=q[n];if(m){if(m.fn==p&&m.scope==o){return n}}}return -1},isListening:function(m,l){return this.findListener(m,l)!=-1},removeListener:function(r,q){var p,m,n,s=this,o=i;if((p=s.findListener(r,q))!=-1){if(s.firing){s.listeners=s.listeners.slice(0)}m=s.listeners[p];if(m.task){m.task.cancel();delete m.task}n=m.tasks&&m.tasks.length;if(n){while(n--){m.tasks[n].cancel()}delete m.tasks}s.listeners.splice(p,1);o=g}return o},clearListeners:function(){var o=this,m=o.listeners,n=m.length;while(n--){o.removeListener(m[n].fn,m[n].scope)}},fire:function(){var r=this,q=r.listeners,m=q.length,p=0,n;if(m>0){r.firing=g;var o=Array.prototype.slice.call(arguments,0);for(;p<m;p++){n=q[p];if(n&&n.fireFn.apply(n.scope||r.obj||window,o)===i){return(r.firing=i)}}}r.firing=i;return g}}})();Ext.DomHelper=function(){var x=null,l=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,n=/^table|tbody|tr|td$/i,d=/tag|children|cn|html$/i,t=/td|tr|tbody/i,p=/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,v=/end/i,s,o="afterbegin",q="afterend",c="beforebegin",r="beforeend",a="<table>",i="</table>",b=a+"<tbody>",k="</tbody>"+i,m=b+"<tr>",w="</tr>"+k;function h(B,D,C,E,A,y){var z=s.insertHtml(E,Ext.getDom(B),u(D));return C?Ext.get(z,true):z}function u(D){var z="",y,C,B,E;if(typeof D=="string"){z=D}else{if(Ext.isArray(D)){for(var A=0;A<D.length;A++){if(D[A]){z+=u(D[A])}}}else{z+="<"+(D.tag=D.tag||"div");for(y in D){C=D[y];if(!d.test(y)){if(typeof C=="object"){z+=" "+y+'="';for(B in C){z+=B+":"+C[B]+";"}z+='"'}else{z+=" "+({cls:"class",htmlFor:"for"}[y]||y)+'="'+C+'"'}}}if(l.test(D.tag)){z+="/>"}else{z+=">";if((E=D.children||D.cn)){z+=u(E)}else{if(D.html){z+=D.html}}z+="</"+D.tag+">"}}}return z}function g(F,C,B,D){x.innerHTML=[C,B,D].join("");var y=-1,A=x,z;while(++y<F){A=A.firstChild}if(z=A.nextSibling){var E=document.createDocumentFragment();while(A){z=A.nextSibling;E.appendChild(A);A=z}A=E}return A}function e(y,z,B,A){var C,D;x=x||document.createElement("div");if(y=="td"&&(z==o||z==r)||!t.test(y)&&(z==c||z==q)){return}D=z==c?B:z==q?B.nextSibling:z==o?B.firstChild:null;if(z==c||z==q){B=B.parentNode}if(y=="td"||(y=="tr"&&(z==r||z==o))){C=g(4,m,A,w)}else{if((y=="tbody"&&(z==r||z==o))||(y=="tr"&&(z==c||z==q))){C=g(3,b,A,k)}else{C=g(2,a,A,i)}}B.insertBefore(C,D);return C}s={markup:function(y){return u(y)},applyStyles:function(y,z){if(z){var A;y=Ext.fly(y);if(typeof z=="function"){z=z.call()}if(typeof z=="string"){p.lastIndex=0;while((A=p.exec(z))){y.setStyle(A[1],A[2])}}else{if(typeof z=="object"){y.setStyle(z)}}}},insertHtml:function(D,y,E){var C={},A,G,F,H,B,z;D=D.toLowerCase();C[c]=["BeforeBegin","previousSibling"];C[q]=["AfterEnd","nextSibling"];if(y.insertAdjacentHTML){if(n.test(y.tagName)&&(z=e(y.tagName.toLowerCase(),D,y,E))){return z}C[o]=["AfterBegin","firstChild"];C[r]=["BeforeEnd","lastChild"];if((A=C[D])){y.insertAdjacentHTML(A[0],E);return y[A[1]]}}else{F=y.ownerDocument.createRange();G="setStart"+(v.test(D)?"After":"Before");if(C[D]){F[G](y);H=F.createContextualFragment(E);y.parentNode.insertBefore(H,D==c?y:y.nextSibling);return y[(D==c?"previous":"next")+"Sibling"]}else{B=(D==o?"first":"last")+"Child";if(y.firstChild){F[G](y[B]);H=F.createContextualFragment(E);if(D==o){y.insertBefore(H,y.firstChild)}else{y.appendChild(H)}}else{y.innerHTML=E}return y[B]}}throw'Illegal insertion point -> "'+D+'"'},insertBefore:function(y,A,z){return h(y,A,z,c)},insertAfter:function(y,A,z){return h(y,A,z,q,"nextSibling")},insertFirst:function(y,A,z){return h(y,A,z,o,"firstChild")},append:function(y,A,z){return h(y,A,z,r,"",true)},overwrite:function(y,A,z){y=Ext.getDom(y);y.innerHTML=u(A);return z?Ext.get(y.firstChild):y.firstChild},createHtml:u};return s}();Ext.Template=function(h){var k=this,c=arguments,e=[],d;if(Ext.isArray(h)){h=h.join("")}else{if(c.length>1){for(var g=0,b=c.length;g<b;g++){d=c[g];if(typeof d=="object"){Ext.apply(k,d)}else{e.push(d)}}h=e.join("")}}k.html=h;if(k.compiled){k.compile()}};Ext.Template.prototype={re:/\{([\w-]+)\}/g,applyTemplate:function(a){var b=this;return b.compiled?b.compiled(a):b.html.replace(b.re,function(c,d){return a[d]!==undefined?a[d]:""})},set:function(a,c){var b=this;b.html=a;b.compiled=null;return c?b.compile():b},compile:function(){var me=this,sep=Ext.isGecko?"+":",";function fn(m,name){name="values['"+name+"']";return"'"+sep+"("+name+" == undefined ? '' : "+name+")"+sep+"'"}eval("this.compiled = function(values){ return "+(Ext.isGecko?"'":"['")+me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+(Ext.isGecko?"';};":"'].join('');};"));return me},insertFirst:function(b,a,c){return this.doInsert("afterBegin",b,a,c)},insertBefore:function(b,a,c){return this.doInsert("beforeBegin",b,a,c)},insertAfter:function(b,a,c){return this.doInsert("afterEnd",b,a,c)},append:function(b,a,c){return this.doInsert("beforeEnd",b,a,c)},doInsert:function(c,e,b,a){e=Ext.getDom(e);var d=Ext.DomHelper.insertHtml(c,e,this.applyTemplate(b));return a?Ext.get(d,true):d},overwrite:function(b,a,c){b=Ext.getDom(b);b.innerHTML=this.applyTemplate(a);return c?Ext.get(b.firstChild,true):b.firstChild}};Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.Template.from=function(b,a){b=Ext.getDom(b);return new Ext.Template(b.value||b.innerHTML,a||"")};Ext.DomQuery=function(){var cache={},simpleCache={},valueCache={},nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w-\*]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,isIE=window.ActiveXObject?true:false,key=30803;eval("var batch = 30803;");function child(parent,index){var i=0,n=parent.firstChild;while(n){if(n.nodeType==1){if(++i==index){return n}}n=n.nextSibling}return null}function next(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n}function prev(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n}function children(parent){var n=parent.firstChild,nodeIndex=-1,nextNode;while(n){nextNode=n.nextSibling;if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){parent.removeChild(n)}else{n.nodeIndex=++nodeIndex}n=nextNode}return this}function byClassName(nodeSet,cls){if(!cls){return nodeSet}var result=[],ri=-1;for(var i=0,ci;ci=nodeSet[i];i++){if((" "+ci.className+" ").indexOf(cls)!=-1){result[++ri]=ci}}return result}function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0]}if(!n){return null}if(attr=="for"){return n.htmlFor}if(attr=="class"||attr=="className"){return n.className}return n.getAttribute(attr)||n[attr]}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs;if(!ns){return result}tagName=tagName||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns]}if(!mode){for(var i=0,ni;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(var j=0,ci;ci=cs[j];j++){result[++ri]=ci}}}else{if(mode=="/"||mode==">"){var utag=tagName.toUpperCase();for(var i=0,ni,cn;ni=ns[i];i++){cn=ni.childNodes;for(var j=0,cj;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj}}}}else{if(mode=="+"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n}}}else{if(mode=="~"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)){if(n.nodeName==utag||n.nodeName==tagName||tagName=="*"){result[++ri]=n}}}}}}}return result}function concat(a,b){if(b.slice){return a.concat(b)}for(var i=0,l=b.length;i<l;i++){a[a.length]=b[i]}return a}function byTag(cs,tagName){if(cs.tagName||cs==document){cs=[cs]}if(!tagName){return cs}var result=[],ri=-1;tagName=tagName.toLowerCase();for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){result[++ri]=ci}}return result}function byId(cs,id){if(cs.tagName||cs==document){cs=[cs]}if(!id){return cs}var result=[],ri=-1;for(var i=0,ci;ci=cs[i];i++){if(ci&&ci.id==id){result[++ri]=ci;return result}}return result}function byAttribute(cs,attr,value,op,custom){var result=[],ri=-1,useGetStyle=custom=="{",fn=Ext.DomQuery.operators[op],a,xml,hasXml;for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType!=1){continue}if(!hasXml){xml=Ext.DomQuery.isXml(ci);hasXml=true}if(!xml){if(useGetStyle){a=Ext.DomQuery.getStyle(ci,attr)}else{if(attr=="class"||attr=="className"){a=ci.className}else{if(attr=="for"){a=ci.htmlFor}else{if(attr=="href"){a=ci.getAttribute("href",2)}else{a=ci.getAttribute(attr)}}}}}else{a=ci.getAttribute(attr)}if((fn&&fn(a,value))||(!fn&&a)){result[++ri]=ci}}return result}function byPseudo(cs,name,value){return Ext.DomQuery.pseudos[name](cs,value)}function nodupIEXml(cs){var d=++key,r;cs[0].setAttribute("_nodup",d);r=[cs[0]];for(var i=1,len=cs.length;i<len;i++){var c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);r[r.length]=c}}for(var i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup")}return r}function nodup(cs){if(!cs){return[]}var len=cs.length,c,i,r=cs,cj,ri=-1;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs)}var d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d}else{r=[];for(var j=0;j<i;j++){r[++ri]=cs[j]}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj}}return r}}return r}function quickDiffIEXml(c1,c2){var d=++key,r=[];for(var i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d)}for(var i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i]}}for(var i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff")}return r}function quickDiff(c1,c2){var len1=c1.length,d=++key,r=[];if(!len1){return c2}if(isIE&&typeof c1[0].selectSingleNode!="undefined"){return quickDiffIEXml(c1,c2)}for(var i=0;i<len1;i++){c1[i]._qdiff=d}for(var i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i]}}return r}function quickId(ns,mode,root,id){if(ns==root){var d=root.ownerDocument||root;return d.getElementById(id)}ns=getNodes(ns,mode,"*");return byId(ns,id)}return{getStyle:function(el,name){return Ext.fly(el).getStyle(name)},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],mode,lastPath,matchers=Ext.DomQuery.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';path=path.replace(lmode[1],"")}while(path.substr(0,1)=="/"){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;var tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}else{if(path.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");'}}}else{if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}}while(!(modeMatch=path.match(modeRe))){var matched=false;for(var j=0;j<matchersLn;j++){var t=matchers[j];var m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i]});path=path.replace(m[0],"");matched=true;break}}if(!matched){throw'Error parsing selector, parsing failed at "'+path+'"'}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},jsSelect:function(path,root,type){root=root||document;if(typeof root=="string"){root=document.getElementById(root)}var paths=path.split(","),results=[];for(var i=0,len=paths.length;i<len;i++){var subPath=paths[i].replace(trimRe,"");if(!cache[subPath]){cache[subPath]=Ext.DomQuery.compile(subPath);if(!cache[subPath]){throw subPath+" is not a valid selector"}}var result=cache[subPath](root);if(result&&result!=document){results=results.concat(result)}}if(paths.length>1){return nodup(results)}return results},isXml:function(el){var docEl=(el?el.ownerDocument||el:0).documentElement;return docEl?docEl.nodeName!=="HTML":false},select:document.querySelectorAll?function(path,root,type){root=root||document;if(!Ext.DomQuery.isXml(root)){try{var cs=root.querySelectorAll(path);return Ext.toArray(cs)}catch(ex){}}return Ext.DomQuery.jsSelect.call(this,path,root,type)}:function(path,root,type){return Ext.DomQuery.jsSelect.call(this,path,root,type)},selectNode:function(path,root){return Ext.DomQuery.select(path,root)[0]},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");if(!valueCache[path]){valueCache[path]=Ext.DomQuery.compile(path,"select")}var n=valueCache[path](root),v;n=n[0]?n[0]:n;if(typeof n.normalize=="function"){n.normalize()}v=(n&&n.firstChild?n.firstChild.nodeValue:null);return((v===null||v===undefined||v==="")?defaultValue:v)},selectNumber:function(path,root,defaultValue){var v=Ext.DomQuery.selectValue(path,root,defaultValue||0);return parseFloat(v)},is:function(el,ss){if(typeof el=="string"){el=document.getElementById(el)}var isArray=Ext.isArray(el),result=Ext.DomQuery.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0)},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");if(!simpleCache[ss]){simpleCache[ss]=Ext.DomQuery.compile(ss,"simple")}var result=simpleCache[ss](els);return nonMatches?quickDiff(result,els):result},matchers:[{re:/^\.([\w-]+)/,select:'n = byClassName(n, " {1} ");'},{re:/^\:([\w-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w-]+)\s?(?:(=|.=)\s?['"]?(.*?)["']?)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{4}", "{3}", "{1}");'},{re:/^#([\w-]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,v){return a==v},"!=":function(a,v){return a!=v},"^=":function(a,v){return a&&a.substr(0,v.length)==v},"$=":function(a,v){return a&&a.substr(a.length-v.length)==v},"*=":function(a,v){return a&&a.indexOf(v)!==-1},"%=":function(a,v){return(a%v)==0},"|=":function(a,v){return a&&(a==v||a.substr(0,v.length+1)==v+"-")},"~=":function(a,v){return a&&(" "+a+" ").indexOf(" "+v+" ")!=-1}},pseudos:{"first-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"last-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"nth-child":function(c,a){var r=[],ri=-1,m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a),f=(m[1]||1)-0,l=m[2]-0;for(var i=0,n;n=c[i];i++){var pn=n.parentNode;if(batch!=pn._batch){var j=0;for(var cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j}}pn._batch=batch}if(f==1){if(l==0||n.nodeIndex==l){r[++ri]=n}}else{if((n.nodeIndex+l)%f==0){r[++ri]=n}}}return r},"only-child":function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci}}return r},empty:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var cns=ci.childNodes,j=0,cn,empty=true;while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break}}if(empty){r[++ri]=ci}}return r},contains:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if((ci.textContent||ci.innerText||"").indexOf(v)!=-1){r[++ri]=ci}}return r},nodeValue:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci}}return r},checked:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.checked==true){r[++ri]=ci}}return r},not:function(c,ss){return Ext.DomQuery.filter(c,ss,true)},any:function(c,selectors){var ss=selectors.split("|"),r=[],ri=-1,s;for(var i=0,ci;ci=c[i];i++){for(var j=0;s=ss[j];j++){if(Ext.DomQuery.is(ci,s)){r[++ri]=ci;break}}}return r},odd:function(c){return this["nth-child"](c,"odd")},even:function(c){return this["nth-child"](c,"even")},nth:function(c,a){return c[a-1]||[]},first:function(c){return c[0]||[]},last:function(c){return c[c.length-1]||[]},has:function(c,ss){var s=Ext.DomQuery.select,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci}}return r},next:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=next(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},prev:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r}}}}();Ext.query=Ext.DomQuery.select;Ext.util.DelayedTask=function(d,c,a){var e=this,g,b=function(){clearInterval(g);g=null;d.apply(c,a||[])};e.delay=function(i,l,k,h){e.cancel();d=l||d;c=k||c;a=h||a;g=setInterval(b,i)};e.cancel=function(){if(g){clearInterval(g);g=null}}};(function(){var h=document;Ext.Element=function(m,n){var o=typeof m=="string"?h.getElementById(m):m,p;if(!o){return null}p=o.id;if(!n&&p&&Ext.elCache[p]){return Ext.elCache[p].el}this.dom=o;this.id=p||Ext.id(o)};var d=Ext.DomHelper,e=Ext.Element,a=Ext.elCache;e.prototype={set:function(r,n){var p=this.dom,m,q,n=(n!==false)&&!!p.setAttribute;for(m in r){if(r.hasOwnProperty(m)){q=r[m];if(m=="style"){d.applyStyles(p,q)}else{if(m=="cls"){p.className=q}else{if(n){p.setAttribute(m,q)}else{p[m]=q}}}}}return this},defaultUnit:"px",is:function(m){return Ext.DomQuery.is(this.dom,m)},focus:function(p,o){var m=this,o=o||m.dom;try{if(Number(p)){m.focus.defer(p,null,[null,o])}else{o.focus()}}catch(n){}return m},blur:function(){try{this.dom.blur()}catch(m){}return this},getValue:function(m){var n=this.dom.value;return m?parseInt(n,10):n},addListener:function(m,p,o,n){Ext.EventManager.on(this.dom,m,p,o||this,n);return this},removeListener:function(m,o,n){Ext.EventManager.removeListener(this.dom,m,o,n||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this,true);return this},addUnits:function(m){if(m===""||m=="auto"||m===undefined){m=m||""}else{if(!isNaN(m)||!i.test(m)){m=m+(this.defaultUnit||"px")}}return m},load:function(n,o,m){Ext.Ajax.request(Ext.apply({params:o,url:n.url||n,callback:m,el:this.dom,indicatorText:n.indicatorText||""},Ext.isObject(n)?n:{}));return this},isBorderBox:function(){return Ext.isBorderBox||Ext.isForcedBorderBox||g[(this.dom.tagName||"").toLowerCase()]},remove:function(){var m=this,n=m.dom;if(n){delete m.dom;Ext.removeNode(n)}},hover:function(n,m,p,o){var q=this;q.on("mouseenter",n,p||q.dom,o);q.on("mouseleave",m,p||q.dom,o);return q},contains:function(m){return !m?false:Ext.lib.Dom.isAncestor(this.dom,m.dom?m.dom:m)},getAttributeNS:function(n,m){return this.getAttribute(m,n)},getAttribute:Ext.isIE?function(m,o){var p=this.dom,n=typeof p[o+":"+m];if(["undefined","unknown"].indexOf(n)==-1){return p[o+":"+m]}return p[m]}:function(m,n){var o=this.dom;return o.getAttributeNS(n,m)||o.getAttribute(n+":"+m)||o.getAttribute(m)||o[m]},update:function(m){if(this.dom){this.dom.innerHTML=m}return this}};var l=e.prototype;e.addMethods=function(m){Ext.apply(l,m)};l.on=l.addListener;l.un=l.removeListener;l.autoBoxAdjust=true;var i=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,c;e.get=function(n){var m,q,p;if(!n){return null}if(typeof n=="string"){if(!(q=h.getElementById(n))){return null}if(a[n]&&a[n].el){m=a[n].el;m.dom=q}else{m=e.addToCache(new e(q))}return m}else{if(n.tagName){if(!(p=n.id)){p=Ext.id(n)}if(a[p]&&a[p].el){m=a[p].el;m.dom=n}else{m=e.addToCache(new e(n))}return m}else{if(n instanceof e){if(n!=c){if(Ext.isIE&&(n.id==undefined||n.id=="")){n.dom=n.dom}else{n.dom=h.getElementById(n.id)||n.dom}}return n}else{if(n.isComposite){return n}else{if(Ext.isArray(n)){return e.select(n)}else{if(n==h){if(!c){var o=function(){};o.prototype=e.prototype;c=new o();c.dom=h}return c}}}}}}return null};e.addToCache=function(m,n){n=n||m.id;a[n]={el:m,data:{},events:{}};return m};e.data=function(n,m,o){n=e.get(n);if(!n){return null}var p=a[n.id].data;if(arguments.length==2){return p[m]}else{return(p[m]=o)}};function k(){if(!Ext.enableGarbageCollector){clearInterval(e.collectorThreadId)}else{var m,p,r,q;for(m in a){q=a[m];if(q.skipGC){continue}p=q.el;r=p.dom;if(!r||!r.parentNode||(!r.offsetParent&&!h.getElementById(m))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(r)}delete a[m]}}if(Ext.isIE){var n={};for(m in a){n[m]=a[m]}a=Ext.elCache=n}}}e.collectorThreadId=setInterval(k,30000);var b=function(){};b.prototype=e.prototype;e.Flyweight=function(m){this.dom=m};e.Flyweight.prototype=new b();e.Flyweight.prototype.isFlyweight=true;e._flyweights={};e.fly=function(o,m){var n=null;m=m||"_global";if(o=Ext.getDom(o)){(e._flyweights[m]=e._flyweights[m]||new e.Flyweight()).dom=o;n=e._flyweights[m]}return n};Ext.get=e.get;Ext.fly=e.fly;var g=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};if(Ext.isIE||Ext.isGecko){g.button=1}})();Ext.Element.addMethods(function(){var d="parentNode",b="nextSibling",c="previousSibling",e=Ext.DomQuery,a=Ext.get;return{findParent:function(n,m,h){var k=this.dom,g=document.body,l=0,i;if(Ext.isGecko&&Object.prototype.toString.call(k)=="[object XULElement]"){return null}m=m||50;if(isNaN(m)){i=Ext.getDom(m);m=Number.MAX_VALUE}while(k&&k.nodeType==1&&l<m&&k!=g&&k!=i){if(e.is(k,n)){return h?a(k):k}l++;k=k.parentNode}return null},findParentNode:function(k,i,g){var h=Ext.fly(this.dom.parentNode,"_internal");return h?h.findParent(k,i,g):null},up:function(h,g){return this.findParentNode(h,g,true)},select:function(g){return Ext.Element.select(g,this.dom)},query:function(g){return e.select(g,this.dom)},child:function(g,h){var i=e.selectNode(g,this.dom);return h?i:a(i)},down:function(g,h){var i=e.selectNode(" > "+g,this.dom);return h?i:a(i)},parent:function(g,h){return this.matchNode(d,d,g,h)},next:function(g,h){return this.matchNode(b,b,g,h)},prev:function(g,h){return this.matchNode(c,c,g,h)},first:function(g,h){return this.matchNode(b,"firstChild",g,h)},last:function(g,h){return this.matchNode(c,"lastChild",g,h)},matchNode:function(h,l,g,i){var k=this.dom[l];while(k){if(k.nodeType==1&&(!g||e.is(k,g))){return !i?a(k):k}k=k[h]}return null}}}());Ext.Element.addMethods(function(){var c=Ext.getDom,a=Ext.get,b=Ext.DomHelper;return{appendChild:function(d){return a(d).appendTo(this)},appendTo:function(d){c(d).appendChild(this.dom);return this},insertBefore:function(d){(d=c(d)).parentNode.insertBefore(this.dom,d);return this},insertAfter:function(d){(d=c(d)).parentNode.insertBefore(this.dom,d.nextSibling);return this},insertFirst:function(e,d){e=e||{};if(e.nodeType||e.dom||typeof e=="string"){e=c(e);this.dom.insertBefore(e,this.dom.firstChild);return !d?a(e):e}else{return this.createChild(e,this.dom.firstChild,d)}},replace:function(d){d=a(d);this.insertBefore(d);d.remove();return this},replaceWith:function(d){var e=this;if(d.nodeType||d.dom||typeof d=="string"){d=c(d);e.dom.parentNode.insertBefore(d,e.dom)}else{d=b.insertBefore(e.dom,d)}delete Ext.elCache[e.id];Ext.removeNode(e.dom);e.id=Ext.id(e.dom=d);Ext.Element.addToCache(e.isFlyweight?new Ext.Element(e.dom):e);return e},createChild:function(e,d,g){e=e||{tag:"div"};return d?b.insertBefore(d,e,g!==true):b[!this.dom.firstChild?"overwrite":"append"](this.dom,e,g!==true)},wrap:function(d,e){var g=b.insertBefore(this.dom,d||{tag:"div"},!e);g.dom?g.dom.appendChild(this.dom):g.appendChild(this.dom);return g},insertHtml:function(e,g,d){var h=b.insertHtml(e,this.dom,g);return d?Ext.get(h):h}}}());Ext.Element.addMethods(function(){var B=Ext.supports,h={},y=/(-[a-z])/gi,t=document.defaultView,E=/alpha\(opacity=(.*)\)/i,m=/^\s+|\s+$/g,C=Ext.Element,v=/\s+/,b=/\w/g,d="padding",c="margin",z="border",u="-left",r="-right",x="-top",p="-bottom",k="-width",s=Math,A="hidden",e="isClipped",l="overflow",o="overflow-x",n="overflow-y",D="originalClip",i={l:z+u+k,r:z+r+k,t:z+x+k,b:z+p+k},g={l:d+u,r:d+r,t:d+x,b:d+p},a={l:c+u,r:c+r,t:c+x,b:c+p},F=Ext.Element.data;function q(G,H){return H.charAt(1).toUpperCase()}function w(G){return h[G]||(h[G]=G=="float"?(B.cssFloat?"cssFloat":"styleFloat"):G.replace(y,q))}return{adjustWidth:function(G){var H=this;var I=(typeof G=="number");if(I&&H.autoBoxAdjust&&!H.isBorderBox()){G-=(H.getBorderWidth("lr")+H.getPadding("lr"))}return(I&&G<0)?0:G},adjustHeight:function(G){var H=this;var I=(typeof G=="number");if(I&&H.autoBoxAdjust&&!H.isBorderBox()){G-=(H.getBorderWidth("tb")+H.getPadding("tb"))}return(I&&G<0)?0:G},addClass:function(K){var L=this,J,G,I,H=[];if(!Ext.isArray(K)){if(typeof K=="string"&&!this.hasClass(K)){L.dom.className+=" "+K}}else{for(J=0,G=K.length;J<G;J++){I=K[J];if(typeof I=="string"&&(" "+L.dom.className+" ").indexOf(" "+I+" ")==-1){H.push(I)}}if(H.length){L.dom.className+=" "+H.join(" ")}}return L},removeClass:function(L){var M=this,K,H,G,J,I;if(!Ext.isArray(L)){L=[L]}if(M.dom&&M.dom.className){I=M.dom.className.replace(m,"").split(v);for(K=0,G=L.length;K<G;K++){J=L[K];if(typeof J=="string"){J=J.replace(m,"");H=I.indexOf(J);if(H!=-1){I.splice(H,1)}}}M.dom.className=I.join(" ")}return M},radioClass:function(J){var K=this.dom.parentNode.childNodes,H,I,G;J=Ext.isArray(J)?J:[J];for(I=0,G=K.length;I<G;I++){H=K[I];if(H&&H.nodeType==1){Ext.fly(H,"_internal").removeClass(J)}}return this.addClass(J)},toggleClass:function(G){return this.hasClass(G)?this.removeClass(G):this.addClass(G)},hasClass:function(G){return G&&(" "+this.dom.className+" ").indexOf(" "+G+" ")!=-1},replaceClass:function(H,G){return this.removeClass(H).addClass(G)},isStyle:function(G,H){return this.getStyle(G)==H},getStyle:function(){return t&&t.getComputedStyle?function(L){var J=this.dom,G,I,H,K;if(J==document){return null}L=w(L);H=(G=J.style[L])?G:(I=t.getComputedStyle(J,""))?I[L]:null;if(L=="marginRight"&&H!="0px"&&!B.correctRightMargin){K=J.style.display;J.style.display="inline-block";H=t.getComputedStyle(J,"").marginRight;J.style.display=K}if(L=="backgroundColor"&&H=="rgba(0, 0, 0, 0)"&&!B.correctTransparentColor){H="transparent"}return H}:function(K){var I=this.dom,G,H;if(I==document){return null}if(K=="opacity"){if(I.style.filter.match){if(G=I.style.filter.match(E)){var J=parseFloat(G[1]);if(!isNaN(J)){return J?J/100:0}}}return 1}K=w(K);return I.style[K]||((H=I.currentStyle)?H[K]:null)}}(),getColor:function(G,H,L){var J=this.getStyle(G),I=(typeof L!="undefined")?L:"#",K;if(!J||(/transparent|inherit/.test(J))){return H}if(/^r/.test(J)){Ext.each(J.slice(4,J.length-1).split(","),function(M){K=parseInt(M,10);I+=(K<16?"0":"")+K.toString(16)})}else{J=J.replace("#","");I+=J.length==3?J.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):J}return(I.length>5?I.toLowerCase():H)},setStyle:function(J,I){var G,H;if(typeof J!="object"){G={};G[J]=I;J=G}for(H in J){I=J[H];H=="opacity"?this.setOpacity(I):this.dom.style[w(H)]=I}return this},setOpacity:function(H,G){var K=this,I=K.dom.style;if(!G||!K.anim){if(Ext.isIE){var J=H<1?"alpha(opacity="+H*100+")":"",L=I.filter.replace(E,"").replace(m,"");I.zoom=1;I.filter=L+(L.length>0?" ":"")+J}else{I.opacity=H}}else{K.anim({opacity:{to:H}},K.preanim(arguments,1),null,0.35,"easeIn")}return K},clearOpacity:function(){var G=this.dom.style;if(Ext.isIE){if(!Ext.isEmpty(G.filter)){G.filter=G.filter.replace(E,"").replace(m,"")}}else{G.opacity=G["-moz-opacity"]=G["-khtml-opacity"]=""}return this},getHeight:function(I){var H=this,K=H.dom,J=Ext.isIE&&H.isStyle("display","none"),G=s.max(K.offsetHeight,J?0:K.clientHeight)||0;G=!I?G:G-H.getBorderWidth("tb")-H.getPadding("tb");return G<0?0:G},getWidth:function(H){var I=this,K=I.dom,J=Ext.isIE&&I.isStyle("display","none"),G=s.max(K.offsetWidth,J?0:K.clientWidth)||0;G=!H?G:G-I.getBorderWidth("lr")-I.getPadding("lr");return G<0?0:G},setWidth:function(H,G){var I=this;H=I.adjustWidth(H);!G||!I.anim?I.dom.style.width=I.addUnits(H):I.anim({width:{to:H}},I.preanim(arguments,1));return I},setHeight:function(G,H){var I=this;G=I.adjustHeight(G);!H||!I.anim?I.dom.style.height=I.addUnits(G):I.anim({height:{to:G}},I.preanim(arguments,1));return I},getBorderWidth:function(G){return this.addStyles(G,i)},getPadding:function(G){return this.addStyles(G,g)},clip:function(){var G=this,H=G.dom;if(!F(H,e)){F(H,e,true);F(H,D,{o:G.getStyle(l),x:G.getStyle(o),y:G.getStyle(n)});G.setStyle(l,A);G.setStyle(o,A);G.setStyle(n,A)}return G},unclip:function(){var G=this,I=G.dom;if(F(I,e)){F(I,e,false);var H=F(I,D);if(H.o){G.setStyle(l,H.o)}if(H.x){G.setStyle(o,H.x)}if(H.y){G.setStyle(n,H.y)}}return G},addStyles:function(N,M){var K=0,L=N.match(b),J,I,H,G=L.length;for(H=0;H<G;H++){J=L[H];I=J&&parseInt(this.getStyle(M[J]),10);if(I){K+=s.abs(I)}}return K},margins:a}}());(function(){var a=Ext.lib.Dom,b="left",g="right",d="top",i="bottom",h="position",c="static",e="relative",k="auto",l="z-index";Ext.Element.addMethods({getX:function(){return a.getX(this.dom)},getY:function(){return a.getY(this.dom)},getXY:function(){return a.getXY(this.dom)},getOffsetsTo:function(m){var p=this.getXY(),n=Ext.fly(m,"_internal").getXY();return[p[0]-n[0],p[1]-n[1]]},setX:function(m,n){return this.setXY([m,this.getY()],this.animTest(arguments,n,1))},setY:function(n,m){return this.setXY([this.getX(),n],this.animTest(arguments,m,1))},setLeft:function(m){this.setStyle(b,this.addUnits(m));return this},setTop:function(m){this.setStyle(d,this.addUnits(m));return this},setRight:function(m){this.setStyle(g,this.addUnits(m));return this},setBottom:function(m){this.setStyle(i,this.addUnits(m));return this},setXY:function(o,m){var n=this;if(!m||!n.anim){a.setXY(n.dom,o)}else{n.anim({points:{to:o}},n.preanim(arguments,1),"motion")}return n},setLocation:function(m,o,n){return this.setXY([m,o],this.animTest(arguments,n,2))},moveTo:function(m,o,n){return this.setXY([m,o],this.animTest(arguments,n,2))},getLeft:function(m){return !m?this.getX():parseInt(this.getStyle(b),10)||0},getRight:function(m){var n=this;return !m?n.getX()+n.getWidth():(n.getLeft(true)+n.getWidth())||0},getTop:function(m){return !m?this.getY():parseInt(this.getStyle(d),10)||0},getBottom:function(m){var n=this;return !m?n.getY()+n.getHeight():(n.getTop(true)+n.getHeight())||0},position:function(q,p,m,o){var n=this;if(!q&&n.isStyle(h,c)){n.setStyle(h,e)}else{if(q){n.setStyle(h,q)}}if(p){n.setStyle(l,p)}if(m||o){n.setXY([m||false,o||false])}},clearPositioning:function(m){m=m||"";this.setStyle({left:m,right:m,top:m,bottom:m,"z-index":"",position:c});return this},getPositioning:function(){var m=this.getStyle(b);var n=this.getStyle(d);return{position:this.getStyle(h),left:m,right:m?"":this.getStyle(g),top:n,bottom:n?"":this.getStyle(i),"z-index":this.getStyle(l)}},setPositioning:function(m){var o=this,n=o.dom.style;o.setStyle(m);if(m.right==k){n.right=""}if(m.bottom==k){n.bottom=""}return o},translatePoints:function(m,u){u=isNaN(m[1])?u:m[1];m=isNaN(m[0])?m:m[0];var q=this,r=q.isStyle(h,e),s=q.getXY(),n=parseInt(q.getStyle(b),10),p=parseInt(q.getStyle(d),10);n=!isNaN(n)?n:(r?0:q.dom.offsetLeft);p=!isNaN(p)?p:(r?0:q.dom.offsetTop);return{left:(m-s[0]+n),top:(u-s[1]+p)}},animTest:function(n,m,o){return !!m&&this.preanim?this.preanim(n,o):false}})})();Ext.Element.addMethods({isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},scrollTo:function(a,b){this.dom["scroll"+(/top/i.test(a)?"Top":"Left")]=b;return this},getScroll:function(){var i=this.dom,h=document,a=h.body,c=h.documentElement,b,g,e;if(i==h||i==a){if(Ext.isIE&&Ext.isStrict){b=c.scrollLeft;g=c.scrollTop}else{b=window.pageXOffset;g=window.pageYOffset}e={left:b||(a?a.scrollLeft:0),top:g||(a?a.scrollTop:0)}}else{e={left:i.scrollLeft,top:i.scrollTop}}return e}});Ext.Element.VISIBILITY=1;Ext.Element.DISPLAY=2;Ext.Element.OFFSETS=3;Ext.Element.ASCLASS=4;Ext.Element.visibilityCls="x-hide-nosize";Ext.Element.addMethods(function(){var e=Ext.Element,q="opacity",k="visibility",g="display",d="hidden",o="offsets",l="asclass",n="none",a="nosize",b="originalDisplay",c="visibilityMode",h="isVisible",i=e.data,m=function(s){var r=i(s,b);if(r===undefined){i(s,b,r="")}return r},p=function(s){var r=i(s,c);if(r===undefined){i(s,c,r=1)}return r};return{originalDisplay:"",visibilityMode:1,setVisibilityMode:function(r){i(this.dom,c,r);return this},animate:function(s,u,t,v,r){this.anim(s,{duration:u,callback:t,easing:v},r);return this},anim:function(u,v,s,x,t,r){s=s||"run";v=v||{};var w=this,y=Ext.lib.Anim[s](w.dom,u,(v.duration||x)||0.35,(v.easing||t)||"easeOut",function(){if(r){r.call(w)}if(v.callback){v.callback.call(v.scope||w,w,v)}},w);v.anim=y;return y},preanim:function(r,s){return !r[s]?false:(typeof r[s]=="object"?r[s]:{duration:r[s+1],callback:r[s+2],easing:r[s+3]})},isVisible:function(){var r=this,t=r.dom,s=i(t,h);if(typeof s=="boolean"){return s}s=!r.isStyle(k,d)&&!r.isStyle(g,n)&&!((p(t)==e.ASCLASS)&&r.hasClass(r.visibilityCls||e.visibilityCls));i(t,h,s);return s},setVisible:function(u,r){var x=this,s,z,y,w,v=x.dom,t=p(v);if(typeof r=="string"){switch(r){case g:t=e.DISPLAY;break;case k:t=e.VISIBILITY;break;case o:t=e.OFFSETS;break;case a:case l:t=e.ASCLASS;break}x.setVisibilityMode(t);r=false}if(!r||!x.anim){if(t==e.ASCLASS){x[u?"removeClass":"addClass"](x.visibilityCls||e.visibilityCls)}else{if(t==e.DISPLAY){return x.setDisplayed(u)}else{if(t==e.OFFSETS){if(!u){x.hideModeStyles={position:x.getStyle("position"),top:x.getStyle("top"),left:x.getStyle("left")};x.applyStyles({position:"absolute",top:"-10000px",left:"-10000px"})}else{x.applyStyles(x.hideModeStyles||{position:"",top:"",left:""});delete x.hideModeStyles}}else{x.fixDisplay();v.style.visibility=u?"visible":d}}}}else{if(u){x.setOpacity(0.01);x.setVisible(true)}x.anim({opacity:{to:(u?1:0)}},x.preanim(arguments,1),null,0.35,"easeIn",function(){u||x.setVisible(false).setOpacity(1)})}i(v,h,u);return x},hasMetrics:function(){var r=this.dom;return this.isVisible()||(p(r)==e.VISIBILITY)},toggle:function(r){var s=this;s.setVisible(!s.isVisible(),s.preanim(arguments,0));return s},setDisplayed:function(r){if(typeof r=="boolean"){r=r?m(this.dom):n}this.setStyle(g,r);return this},fixDisplay:function(){var r=this;if(r.isStyle(g,n)){r.setStyle(k,d);r.setStyle(g,m(this.dom));if(r.isStyle(g,n)){r.setStyle(g,"block")}}},hide:function(r){if(typeof r=="string"){this.setVisible(false,r);return this}this.setVisible(false,this.preanim(arguments,0));return this},show:function(r){if(typeof r=="string"){this.setVisible(true,r);return this}this.setVisible(true,this.preanim(arguments,0));return this}}}());(function(){var z=null,B=undefined,l=true,u=false,k="setX",h="setY",a="setXY",o="left",m="bottom",t="top",n="right",r="height",g="width",i="points",x="hidden",A="absolute",v="visible",e="motion",p="position",s="easeOut",d=new Ext.Element.Flyweight(),w={},y=function(C){return C||{}},q=function(C){d.dom=C;d.id=Ext.id(C);return d},c=function(C){if(!w[C]){w[C]=[]}return w[C]},b=function(D,C){w[D]=C};Ext.enableFx=l;Ext.Fx={switchStatements:function(D,E,C){return E.apply(this,C[D])},slideIn:function(I,F){F=y(F);var K=this,H=K.dom,N=H.style,P,C,M,E,D,N,J,O,L,G;I=I||"t";K.queueFx(F,function(){P=q(H).getXY();q(H).fixDisplay();C=q(H).getFxRestore();M={x:P[0],y:P[1],0:P[0],1:P[1],width:H.offsetWidth,height:H.offsetHeight};M.right=M.x+M.width;M.bottom=M.y+M.height;q(H).setWidth(M.width).setHeight(M.height);E=q(H).fxWrap(C.pos,F,x);N.visibility=v;N.position=A;function Q(){q(H).fxUnwrap(E,C.pos,F);N.width=C.width;N.height=C.height;q(H).afterFx(F)}O={to:[M.x,M.y]};L={to:M.width};G={to:M.height};function R(V,S,W,T,Y,aa,ad,ac,ab,X,U){var Z={};q(V).setWidth(W).setHeight(T);if(q(V)[Y]){q(V)[Y](aa)}S[ad]=S[ac]="0";if(ab){Z.width=ab}if(X){Z.height=X}if(U){Z.points=U}return Z}J=q(H).switchStatements(I.toLowerCase(),R,{t:[E,N,M.width,0,z,z,o,m,z,G,z],l:[E,N,0,M.height,z,z,n,t,L,z,z],r:[E,N,M.width,M.height,k,M.right,o,t,z,z,O],b:[E,N,M.width,M.height,h,M.bottom,o,t,z,G,O],tl:[E,N,0,0,z,z,n,m,L,G,O],bl:[E,N,0,0,h,M.y+M.height,n,t,L,G,O],br:[E,N,0,0,a,[M.right,M.bottom],o,t,L,G,O],tr:[E,N,0,0,k,M.x+M.width,o,m,L,G,O]});N.visibility=v;q(E).show();arguments.callee.anim=q(E).fxanim(J,F,e,0.5,s,Q)});return K},slideOut:function(G,E){E=y(E);var I=this,F=I.dom,L=F.style,M=I.getXY(),D,C,J,K,H={to:0};G=G||"t";I.queueFx(E,function(){C=q(F).getFxRestore();J={x:M[0],y:M[1],0:M[0],1:M[1],width:F.offsetWidth,height:F.offsetHeight};J.right=J.x+J.width;J.bottom=J.y+J.height;q(F).setWidth(J.width).setHeight(J.height);D=q(F).fxWrap(C.pos,E,v);L.visibility=v;L.position=A;q(D).setWidth(J.width).setHeight(J.height);function N(){E.useDisplay?q(F).setDisplayed(u):q(F).hide();q(F).fxUnwrap(D,C.pos,E);L.width=C.width;L.height=C.height;q(F).afterFx(E)}function O(P,X,V,Y,T,W,S,U,R){var Q={};P[X]=P[V]="0";Q[Y]=T;if(W){Q[W]=S}if(U){Q[U]=R}return Q}K=q(F).switchStatements(G.toLowerCase(),O,{t:[L,o,m,r,H],l:[L,n,t,g,H],r:[L,o,t,g,H,i,{to:[J.right,J.y]}],b:[L,o,t,r,H,i,{to:[J.x,J.bottom]}],tl:[L,n,m,g,H,r,H],bl:[L,n,t,g,H,r,H,i,{to:[J.x,J.bottom]}],br:[L,o,t,g,H,r,H,i,{to:[J.x+J.width,J.bottom]}],tr:[L,o,m,g,H,r,H,i,{to:[J.right,J.y]}]});arguments.callee.anim=q(D).fxanim(K,E,e,0.5,s,N)});return I},puff:function(I){I=y(I);var G=this,H=G.dom,D=H.style,E,C,F;G.queueFx(I,function(){E=q(H).getWidth();C=q(H).getHeight();q(H).clearOpacity();q(H).show();F=q(H).getFxRestore();function J(){I.useDisplay?q(H).setDisplayed(u):q(H).hide();q(H).clearOpacity();q(H).setPositioning(F.pos);D.width=F.width;D.height=F.height;D.fontSize="";q(H).afterFx(I)}arguments.callee.anim=q(H).fxanim({width:{to:q(H).adjustWidth(E*2)},height:{to:q(H).adjustHeight(C*2)},points:{by:[-E*0.5,-C*0.5]},opacity:{to:0},fontSize:{to:200,unit:"%"}},I,e,0.5,s,J)});return G},switchOff:function(G){G=y(G);var E=this,F=E.dom,C=F.style,D;E.queueFx(G,function(){q(F).clearOpacity();q(F).clip();D=q(F).getFxRestore();function H(){G.useDisplay?q(F).setDisplayed(u):q(F).hide();q(F).clearOpacity();q(F).setPositioning(D.pos);C.width=D.width;C.height=D.height;q(F).afterFx(G)}q(F).fxanim({opacity:{to:0.3}},z,z,0.1,z,function(){q(F).clearOpacity();(function(){q(F).fxanim({height:{to:1},points:{by:[0,q(F).getHeight()*0.5]}},G,e,0.3,"easeIn",H)}).defer(100)})});return E},highlight:function(E,I){I=y(I);var G=this,H=G.dom,C=I.attr||"backgroundColor",D={},F;G.queueFx(I,function(){q(H).clearOpacity();q(H).show();function J(){H.style[C]=F;q(H).afterFx(I)}F=H.style[C];D[C]={from:E||"ffff9c",to:I.endColor||q(H).getColor(C)||"ffffff"};arguments.callee.anim=q(H).fxanim(D,I,"color",1,"easeIn",J)});return G},frame:function(C,F,I){I=y(I);var E=this,H=E.dom,D,G;E.queueFx(I,function(){C=C||"#C3DAF9";if(C.length==6){C="#"+C}F=F||1;q(H).show();var M=q(H).getXY(),K={x:M[0],y:M[1],0:M[0],1:M[1],width:H.offsetWidth,height:H.offsetHeight},J=function(){D=q(document.body||document.documentElement).createChild({style:{position:A,"z-index":35000,border:"0px solid "+C}});return D.queueFx({},L)};arguments.callee.anim={isAnimated:true,stop:function(){F=0;D.stopFx()}};function L(){var N=Ext.isBorderBox?2:1;G=D.anim({top:{from:K.y,to:K.y-20},left:{from:K.x,to:K.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:K.height,to:K.height+20*N},width:{from:K.width,to:K.width+20*N}},{duration:I.duration||1,callback:function(){D.remove();--F>0?J():q(H).afterFx(I)}});arguments.callee.anim={isAnimated:true,stop:function(){G.stop()}}}J()});return E},pause:function(E){var D=this.dom,C;this.queueFx({},function(){C=setTimeout(function(){q(D).afterFx({})},E*1000);arguments.callee.anim={isAnimated:true,stop:function(){clearTimeout(C);q(D).afterFx({})}}});return this},fadeIn:function(E){E=y(E);var C=this,D=C.dom,F=E.endOpacity||1;C.queueFx(E,function(){q(D).setOpacity(0);q(D).fixDisplay();D.style.visibility=v;arguments.callee.anim=q(D).fxanim({opacity:{to:F}},E,z,0.5,s,function(){if(F==1){q(D).clearOpacity()}q(D).afterFx(E)})});return C},fadeOut:function(F){F=y(F);var D=this,E=D.dom,C=E.style,G=F.endOpacity||0;D.queueFx(F,function(){arguments.callee.anim=q(E).fxanim({opacity:{to:G}},F,z,0.5,s,function(){if(G==0){Ext.Element.data(E,"visibilityMode")==Ext.Element.DISPLAY||F.useDisplay?C.display="none":C.visibility=x;q(E).clearOpacity()}q(E).afterFx(F)})});return D},scale:function(C,D,E){this.shift(Ext.apply({},E,{width:C,height:D}));return this},shift:function(E){E=y(E);var D=this.dom,C={};this.queueFx(E,function(){for(var F in E){if(E[F]!=B){C[F]={to:E[F]}}}C.width?C.width.to=q(D).adjustWidth(E.width):C;C.height?C.height.to=q(D).adjustWidth(E.height):C;if(C.x||C.y||C.xy){C.points=C.xy||{to:[C.x?C.x.to:q(D).getX(),C.y?C.y.to:q(D).getY()]}}arguments.callee.anim=q(D).fxanim(C,E,e,0.35,s,function(){q(D).afterFx(E)})});return this},ghost:function(F,D){D=y(D);var H=this,E=H.dom,K=E.style,I={opacity:{to:0},points:{}},L=I.points,C,J,G;F=F||"b";H.queueFx(D,function(){C=q(E).getFxRestore();J=q(E).getWidth();G=q(E).getHeight();function M(){D.useDisplay?q(E).setDisplayed(u):q(E).hide();q(E).clearOpacity();q(E).setPositioning(C.pos);K.width=C.width;K.height=C.height;q(E).afterFx(D)}L.by=q(E).switchStatements(F.toLowerCase(),function(O,N){return[O,N]},{t:[0,-G],l:[-J,0],r:[J,0],b:[0,G],tl:[-J,-G],bl:[-J,G],br:[J,G],tr:[J,-G]});arguments.callee.anim=q(E).fxanim(I,D,e,0.5,s,M)});return H},syncFx:function(){var C=this;C.fxDefaults=Ext.apply(C.fxDefaults||{},{block:u,concurrent:l,stopFx:u});return C},sequenceFx:function(){var C=this;C.fxDefaults=Ext.apply(C.fxDefaults||{},{block:u,concurrent:u,stopFx:u});return C},nextFx:function(){var C=c(this.dom.id)[0];if(C){C.call(this)}},hasActiveFx:function(){return c(this.dom.id)[0]},stopFx:function(C){var D=this,F=D.dom.id;if(D.hasActiveFx()){var E=c(F)[0];if(E&&E.anim){if(E.anim.isAnimated){b(F,[E]);E.anim.stop(C!==undefined?C:l)}else{b(F,[])}}}return D},beforeFx:function(C){if(this.hasActiveFx()&&!C.concurrent){if(C.stopFx){this.stopFx();return l}return u}return l},hasFxBlock:function(){var C=c(this.dom.id);return C&&C[0]&&C[0].block},queueFx:function(F,C){var D=q(this.dom);if(!D.hasFxBlock()){Ext.applyIf(F,D.fxDefaults);if(!F.concurrent){var E=D.beforeFx(F);C.block=F.block;c(D.dom.id).push(C);if(E){D.nextFx()}}else{C.call(D)}}return D},fxWrap:function(I,G,E){var F=this.dom,D,C;if(!G.wrap||!(D=Ext.getDom(G.wrap))){if(G.fixPosition){C=q(F).getXY()}var H=document.createElement("div");H.style.visibility=E;D=F.parentNode.insertBefore(H,F);q(D).setPositioning(I);if(q(D).isStyle(p,"static")){q(D).position("relative")}q(F).clearPositioning("auto");q(D).clip();D.appendChild(F);if(C){q(D).setXY(C)}}return D},fxUnwrap:function(D,G,F){var E=this.dom;q(E).clearPositioning();q(E).setPositioning(G);if(!F.wrap){var C=q(D).dom.parentNode;C.insertBefore(E,D);q(D).remove()}},getFxRestore:function(){var C=this.dom.style;return{pos:this.getPositioning(),width:C.width,height:C.height}},afterFx:function(D){var C=this.dom,E=C.id;if(D.afterStyle){q(C).setStyle(D.afterStyle)}if(D.afterCls){q(C).addClass(D.afterCls)}if(D.remove==l){q(C).remove()}if(D.callback){D.callback.call(D.scope,q(C))}if(!D.concurrent){c(E).shift();q(C).nextFx()}},fxanim:function(F,G,D,H,E,C){D=D||"run";G=G||{};var I=Ext.lib.Anim[D](this.dom,F,(G.duration||H)||0.35,(G.easing||E)||s,C,this);G.anim=I;return I}};Ext.Fx.resize=Ext.Fx.scale;Ext.Element.addMethods(Ext.Fx)})();Ext.CompositeElementLite=function(b,a){this.elements=[];this.add(b,a);this.el=new Ext.Element.Flyweight()};Ext.CompositeElementLite.prototype={isComposite:true,getElement:function(a){var b=this.el;b.dom=a;b.id=a.id;return b},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(d,b){var e=this,g=e.elements;if(!d){return this}if(typeof d=="string"){d=Ext.Element.selectorFunction(d,b)}else{if(d.isComposite){d=d.elements}else{if(!Ext.isIterable(d)){d=[d]}}}for(var c=0,a=d.length;c<a;++c){g.push(e.transformElement(d[c]))}return e},invoke:function(g,b){var h=this,d=h.elements,a=d.length,k,c;for(c=0;c<a;c++){k=d[c];if(k){Ext.Element.prototype[g].apply(h.getElement(k),b)}}return h},item:function(b){var d=this,c=d.elements[b],a=null;if(c){a=d.getElement(c)}return a},addListener:function(b,k,h,g){var d=this.elements,a=d.length,c,l;for(c=0;c<a;c++){l=d[c];if(l){Ext.EventManager.on(l,b,k,h||l,g)}}return this},each:function(g,d){var h=this,c=h.elements,a=c.length,b,k;for(b=0;b<a;b++){k=c[b];if(k){k=this.getElement(k);if(g.call(d||k,k,h,b)===false){break}}}return h},fill:function(a){var b=this;b.elements=[];b.add(a);return b},filter:function(a){var b=[],d=this,c=Ext.isFunction(a)?a:function(e){return e.is(a)};d.each(function(h,e,g){if(c(h,g)!==false){b[b.length]=d.transformElement(h)}});d.elements=b;return d},indexOf:function(a){return this.elements.indexOf(this.transformElement(a))},replaceElement:function(e,c,a){var b=!isNaN(e)?e:this.indexOf(e),g;if(b>-1){c=Ext.getDom(c);if(a){g=this.elements[b];g.parentNode.insertBefore(c,g);Ext.removeNode(g)}this.elements.splice(b,1,c)}return this},clear:function(){this.elements=[]}};Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener;Ext.CompositeElementLite.importElementMethods=function(){var c,b=Ext.Element.prototype,a=Ext.CompositeElementLite.prototype;for(c in b){if(typeof b[c]=="function"){(function(d){a[d]=a[d]||function(){return this.invoke(d,arguments)}}).call(a,c)}}};Ext.CompositeElementLite.importElementMethods();if(Ext.DomQuery){Ext.Element.selectorFunction=Ext.DomQuery.select}Ext.Element.select=function(a,b){var c;if(typeof a=="string"){c=Ext.Element.selectorFunction(a,b)}else{if(a.length!==undefined){c=a}else{throw"Invalid selector"}}return new Ext.CompositeElementLite(c)};Ext.select=Ext.Element.select;(function(){var b="beforerequest",e="requestcomplete",d="requestexception",h=undefined,c="load",i="POST",a="GET",g=window;Ext.data.Connection=function(k){Ext.apply(this,k);this.addEvents(b,e,d);Ext.data.Connection.superclass.constructor.call(this)};Ext.extend(Ext.data.Connection,Ext.util.Observable,{timeout:30000,autoAbort:false,disableCaching:true,disableCachingParam:"_dc",request:function(q){var t=this;if(t.fireEvent(b,t,q)){if(q.el){if(!Ext.isEmpty(q.indicatorText)){t.indicatorText='<div class="loading-indicator">'+q.indicatorText+"</div>"}if(t.indicatorText){Ext.getDom(q.el).innerHTML=t.indicatorText}q.success=(Ext.isFunction(q.success)?q.success:function(){}).createInterceptor(function(o){Ext.getDom(q.el).innerHTML=o.responseText})}var m=q.params,l=q.url||t.url,k,r={success:t.handleResponse,failure:t.handleFailure,scope:t,argument:{options:q},timeout:Ext.num(q.timeout,t.timeout)},n,u;if(Ext.isFunction(m)){m=m.call(q.scope||g,q)}m=Ext.urlEncode(t.extraParams,Ext.isObject(m)?Ext.urlEncode(m):m);if(Ext.isFunction(l)){l=l.call(q.scope||g,q)}if((n=Ext.getDom(q.form))){l=l||n.action;if(q.isUpload||(/multipart\/form-data/i.test(n.getAttribute("enctype")))){return t.doFormUpload.call(t,q,m,l)}u=Ext.lib.Ajax.serializeForm(n);m=m?(m+"&"+u):u}k=q.method||t.method||((m||q.xmlData||q.jsonData)?i:a);if(k===a&&(t.disableCaching&&q.disableCaching!==false)||q.disableCaching===true){var s=q.disableCachingParam||t.disableCachingParam;l=Ext.urlAppend(l,s+"="+(new Date().getTime()))}q.headers=Ext.apply(q.headers||{},t.defaultHeaders||{});if(q.autoAbort===true||t.autoAbort){t.abort()}if((k==a||q.xmlData||q.jsonData)&&m){l=Ext.urlAppend(l,m);m=""}return(t.transId=Ext.lib.Ajax.request(k,l,r,m,q))}else{return q.callback?q.callback.apply(q.scope,[q,h,h]):null}},isLoading:function(k){return k?Ext.lib.Ajax.isCallInProgress(k):!!this.transId},abort:function(k){if(k||this.isLoading()){Ext.lib.Ajax.abort(k||this.transId)}},handleResponse:function(k){this.transId=false;var l=k.argument.options;k.argument=l?l.argument:null;this.fireEvent(e,this,k,l);if(l.success){l.success.call(l.scope,k,l)}if(l.callback){l.callback.call(l.scope,l,true,k)}},handleFailure:function(k,m){this.transId=false;var l=k.argument.options;k.argument=l?l.argument:null;this.fireEvent(d,this,k,l,m);if(l.failure){l.failure.call(l.scope,k,l)}if(l.callback){l.callback.call(l.scope,l,false,k)}},doFormUpload:function(r,k,l){var m=Ext.id(),w=document,s=w.createElement("iframe"),n=Ext.getDom(r.form),v=[],u,q="multipart/form-data",p={target:n.target,method:n.method,encoding:n.encoding,enctype:n.enctype,action:n.action};Ext.fly(s).set({id:m,name:m,cls:"x-hidden",src:Ext.SSL_SECURE_URL});w.body.appendChild(s);if(Ext.isIE){document.frames[m].name=m}Ext.fly(n).set({target:m,method:i,enctype:q,encoding:q,action:l||p.action});Ext.iterate(Ext.urlDecode(k,false),function(x,o){u=w.createElement("input");Ext.fly(u).set({type:"hidden",value:o,name:x});n.appendChild(u);v.push(u)});function t(){var y=this,x={responseText:"",responseXML:null,argument:r.argument},B,A;try{B=s.contentWindow.document||s.contentDocument||g.frames[m].document;if(B){if(B.body){if(/textarea/i.test((A=B.body.firstChild||{}).tagName)){x.responseText=A.value}else{x.responseText=B.body.innerHTML}}x.responseXML=B.XMLDocument||B}}catch(z){}Ext.EventManager.removeListener(s,c,t,y);y.fireEvent(e,y,x,r);function o(E,D,C){if(Ext.isFunction(E)){E.apply(D,C)}}o(r.success,r.scope,[x,r]);o(r.callback,r.scope,[r,true,x]);if(!y.debugUploads){setTimeout(function(){Ext.removeNode(s)},100)}}Ext.EventManager.on(s,c,t,this);n.submit();Ext.fly(n).set(p);Ext.each(v,function(o){Ext.removeNode(o)})}})})();Ext.Ajax=new Ext.data.Connection({autoAbort:false,serializeForm:function(a){return Ext.lib.Ajax.serializeForm(a)}});Ext.util.JSON=new (function(){var useHasOwn=!!{}.hasOwnProperty,isNative=function(){var useNative=null;return function(){if(useNative===null){useNative=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]"}return useNative}}(),pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return eval("("+json+")")},doEncode=function(o){if(!Ext.isDefined(o)||o===null){return"null"}else{if(Ext.isArray(o)){return encodeArray(o)}else{if(Ext.isDate(o)){return Ext.util.JSON.encodeDate(o)}else{if(Ext.isString(o)){return encodeString(o)}else{if(typeof o=="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{var a=["{"],b,i,v;for(i in o){if(!o.getElementsByTagName){if(!useHasOwn||o.hasOwnProperty(i)){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(doEncode(i),":",v===null?"null":doEncode(v));b=true}}}}a.push("}");return a.join("")}}}}}}},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},encodeString=function(s){if(/["\\\x00-\x1f]/.test(s)){return'"'+s.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+s+'"'},encodeArray=function(o){var a=["["],b,i,l=o.length,v;for(i=0;i<l;i+=1){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(v===null?"null":Ext.util.JSON.encode(v));b=true}}a.push("]");return a.join("")};this.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};this.encode=function(){var ec;return function(o){if(!ec){ec=isNative()?JSON.stringify:doEncode}return ec(o)}}();this.decode=function(){var dc;return function(json){if(!dc){dc=isNative()?JSON.parse:doDecode}return dc(json)}}()})();Ext.encode=Ext.util.JSON.encode;Ext.decode=Ext.util.JSON.decode;Ext.EventManager=function(){var A,q,k=false,m=Ext.isGecko||Ext.isWebKit||Ext.isSafari,p=Ext.lib.Event,r=Ext.lib.Dom,c=document,B=window,s="DOMContentLoaded",u="complete",g=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,v=[];function o(F){var I=false,E=0,D=v.length,G=false,H;if(F){if(F.getElementById||F.navigator){for(;E<D;++E){H=v[E];if(H.el===F){I=H.id;break}}if(!I){I=Ext.id(F);v.push({id:I,el:F});G=true}}else{I=Ext.id(F)}if(!Ext.elCache[I]){Ext.Element.addToCache(new Ext.Element(F),I);if(G){Ext.elCache[I].skipGC=true}}}return I}function n(F,H,K,G,E,M){F=Ext.getDom(F);var D=o(F),L=Ext.elCache[D].events,I;I=p.on(F,H,E);L[H]=L[H]||[];L[H].push([K,E,M,I,G]);if(F.addEventListener&&H=="mousewheel"){var J=["DOMMouseScroll",E,false];F.addEventListener.apply(F,J);Ext.EventManager.addListener(B,"unload",function(){F.removeEventListener.apply(F,J)})}if(F==c&&H=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.addListener(E)}}function d(){if(window!=top){return false}try{c.documentElement.doScroll("left")}catch(D){return false}b();return true}function C(D){if(Ext.isIE&&d()){return true}if(c.readyState==u){b();return true}k||(q=setTimeout(arguments.callee,2));return false}var l;function i(D){l||(l=Ext.query("style, link[rel=stylesheet]"));if(l.length==c.styleSheets.length){b();return true}k||(q=setTimeout(arguments.callee,2));return false}function z(D){c.removeEventListener(s,arguments.callee,false);i()}function b(D){if(!k){k=true;if(q){clearTimeout(q)}if(m){c.removeEventListener(s,b,false)}if(Ext.isIE&&C.bindIE){c.detachEvent("onreadystatechange",C)}p.un(B,"load",arguments.callee)}if(A&&!Ext.isReady){Ext.isReady=true;A.fire();A.listeners=[]}}function a(){A||(A=new Ext.util.Event());if(m){c.addEventListener(s,b,false)}if(Ext.isIE){if(!C()){C.bindIE=true;c.attachEvent("onreadystatechange",C)}}else{if(Ext.isOpera){(c.readyState==u&&i())||c.addEventListener(s,z,false)}else{if(Ext.isWebKit){C()}}}p.on(B,"load",b)}function y(D,E){return function(){var F=Ext.toArray(arguments);if(E.target==Ext.EventObject.setEvent(F[0]).target){D.apply(this,F)}}}function x(E,F,D){return function(G){D.delay(F.buffer,E,null,[new Ext.EventObjectImpl(G)])}}function t(H,G,D,F,E){return function(I){Ext.EventManager.removeListener(G,D,F,E);H(I)}}function e(E,F,D){return function(H){var G=new Ext.util.DelayedTask(E);if(!D.tasks){D.tasks=[]}D.tasks.push(G);G.delay(F.delay||10,E,null,[new Ext.EventObjectImpl(H)])}}function h(I,H,D,K,L){var E=(!D||typeof D=="boolean")?{}:D,F=Ext.getDom(I),G;K=K||E.fn;L=L||E.scope;if(!F){throw'Error listening for "'+H+'". Element "'+I+"\" doesn't exist."}function J(N){if(!Ext){return}N=Ext.EventObject.setEvent(N);var M;if(E.delegate){if(!(M=N.getTarget(E.delegate,F))){return}}else{M=N.target}if(E.stopEvent){N.stopEvent()}if(E.preventDefault){N.preventDefault()}if(E.stopPropagation){N.stopPropagation()}if(E.normalized===false){N=N.browserEvent}K.call(L||F,N,M,E)}if(E.target){J=y(J,E)}if(E.delay){J=e(J,E,K)}if(E.single){J=t(J,F,H,K,L)}if(E.buffer){G=new Ext.util.DelayedTask(J);J=x(J,E,G)}n(F,H,K,G,J,L);return J}var w={addListener:function(F,D,H,G,E){if(typeof D=="object"){var K=D,I,J;for(I in K){J=K[I];if(!g.test(I)){if(Ext.isFunction(J)){h(F,I,K,J,K.scope)}else{h(F,I,J)}}}}else{h(F,D,E,H,G)}},removeListener:function(F,J,N,O){F=Ext.getDom(F);var D=o(F),L=F&&(Ext.elCache[D].events)[J]||[],E,I,G,H,K,M;for(I=0,K=L.length;I<K;I++){if(Ext.isArray(M=L[I])&&M[0]==N&&(!O||M[2]==O)){if(M[4]){M[4].cancel()}H=N.tasks&&N.tasks.length;if(H){while(H--){N.tasks[H].cancel()}delete N.tasks}E=M[1];p.un(F,J,p.extAdapter?M[3]:E);if(E&&F.addEventListener&&J=="mousewheel"){F.removeEventListener("DOMMouseScroll",E,false)}if(E&&F==c&&J=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.removeListener(E)}L.splice(I,1);if(L.length===0){delete Ext.elCache[D].events[J]}for(H in Ext.elCache[D].events){return false}Ext.elCache[D].events={};return false}}},removeAll:function(F){F=Ext.getDom(F);var E=o(F),K=Ext.elCache[E]||{},N=K.events||{},J,I,L,G,M,H,D;for(G in N){if(N.hasOwnProperty(G)){J=N[G];for(I=0,L=J.length;I<L;I++){M=J[I];if(M[4]){M[4].cancel()}if(M[0].tasks&&(H=M[0].tasks.length)){while(H--){M[0].tasks[H].cancel()}delete M.tasks}D=M[1];p.un(F,G,p.extAdapter?M[3]:D);if(F.addEventListener&&D&&G=="mousewheel"){F.removeEventListener("DOMMouseScroll",D,false)}if(D&&F==c&&G=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.removeListener(D)}}}}if(Ext.elCache[E]){Ext.elCache[E].events={}}},getListeners:function(G,D){G=Ext.getDom(G);var I=o(G),E=Ext.elCache[I]||{},H=E.events||{},F=[];if(H&&H[D]){return H[D]}else{return null}},purgeElement:function(F,D,H){F=Ext.getDom(F);var E=o(F),K=Ext.elCache[E]||{},L=K.events||{},G,J,I;if(H){if(L&&L.hasOwnProperty(H)){J=L[H];for(G=0,I=J.length;G<I;G++){Ext.EventManager.removeListener(F,H,J[G][0])}}}else{Ext.EventManager.removeAll(F)}if(D&&F&&F.childNodes){for(G=0,I=F.childNodes.length;G<I;G++){Ext.EventManager.purgeElement(F.childNodes[G],D,H)}}},_unload:function(){var D;for(D in Ext.elCache){Ext.EventManager.removeAll(D)}delete Ext.elCache;delete Ext.Element._flyweights;var H,E,G,F=Ext.lib.Ajax;(typeof F.conn=="object")?E=F.conn:E={};for(G in E){H=E[G];if(H){F.abort({conn:H,tId:G})}}},onDocumentReady:function(F,E,D){if(Ext.isReady){A||(A=new Ext.util.Event());A.addListener(F,E,D);A.fire();A.listeners=[]}else{if(!A){a()}D=D||{};D.delay=D.delay||1;A.addListener(F,E,D)}},fireDocReady:b};w.on=w.addListener;w.un=w.removeListener;w.stoppedMouseDownEvent=new Ext.util.Event();return w}();Ext.onReady=Ext.EventManager.onDocumentReady;(function(){var a=function(){var c=document.body||document.getElementsByTagName("body")[0];if(!c){return false}var b=[" ",Ext.isIE?"ext-ie "+(Ext.isIE6?"ext-ie6":(Ext.isIE7?"ext-ie7":"ext-ie8")):Ext.isGecko?"ext-gecko "+(Ext.isGecko2?"ext-gecko2":"ext-gecko3"):Ext.isOpera?"ext-opera":Ext.isWebKit?"ext-webkit":""];if(Ext.isSafari){b.push("ext-safari "+(Ext.isSafari2?"ext-safari2":(Ext.isSafari3?"ext-safari3":"ext-safari4")))}else{if(Ext.isChrome){b.push("ext-chrome")}}if(Ext.isMac){b.push("ext-mac")}if(Ext.isLinux){b.push("ext-linux")}if(Ext.isStrict||Ext.isBorderBox){var d=c.parentNode;if(d){Ext.fly(d,"_internal").addClass(((Ext.isStrict&&Ext.isIE)||(!Ext.enableForcedBoxModel&&!Ext.isIE))?" ext-strict":" ext-border-box")}}if(Ext.enableForcedBoxModel&&!Ext.isIE){Ext.isForcedBorderBox=true;b.push("ext-forced-border-box")}Ext.fly(c,"_internal").addClass(b);return true};if(!a()){Ext.onReady(a)}})();(function(){var b=Ext.apply(Ext.supports,{correctRightMargin:true,correctTransparentColor:true,cssFloat:true});var a=function(){var g=document.createElement("div"),e=document,c,d;g.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="float:left;background-color:transparent;">';e.body.appendChild(g);d=g.lastChild;if((c=e.defaultView)){if(c.getComputedStyle(g.firstChild.firstChild,null).marginRight!="0px"){b.correctRightMargin=false}if(c.getComputedStyle(d,null).backgroundColor!="transparent"){b.correctTransparentColor=false}}b.cssFloat=!!d.style.cssFloat;e.body.removeChild(g)};if(Ext.isReady){a()}else{Ext.onReady(a)}})();Ext.EventObject=function(){var b=Ext.lib.Event,c=/(dbl)?click/,a={3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},d=Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2};Ext.EventObjectImpl=function(g){if(g){this.setEvent(g.browserEvent||g)}};Ext.EventObjectImpl.prototype={setEvent:function(h){var g=this;if(h==g||(h&&h.browserEvent)){return h}g.browserEvent=h;if(h){g.button=h.button?d[h.button]:(h.which?h.which-1:-1);if(c.test(h.type)&&g.button==-1){g.button=0}g.type=h.type;g.shiftKey=h.shiftKey;g.ctrlKey=h.ctrlKey||h.metaKey||false;g.altKey=h.altKey;g.keyCode=h.keyCode;g.charCode=h.charCode;g.target=b.getTarget(h);g.xy=b.getXY(h)}else{g.button=-1;g.shiftKey=false;g.ctrlKey=false;g.altKey=false;g.keyCode=0;g.charCode=0;g.target=null;g.xy=[0,0]}return g},stopEvent:function(){var e=this;if(e.browserEvent){if(e.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(e)}b.stopEvent(e.browserEvent)}},preventDefault:function(){if(this.browserEvent){b.preventDefault(this.browserEvent)}},stopPropagation:function(){var e=this;if(e.browserEvent){if(e.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(e)}b.stopPropagation(e.browserEvent)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(e){return Ext.isSafari?(a[e]||e):e},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getXY:function(){return this.xy},getTarget:function(g,h,e){return g?Ext.fly(this.target).findParent(g,h,e):(e?Ext.get(this.target):this.target)},getRelatedTarget:function(){return this.browserEvent?b.getRelatedTarget(this.browserEvent):null},getWheelDelta:function(){var g=this.browserEvent;var h=0;if(g.wheelDelta){h=g.wheelDelta/120}else{if(g.detail){h=-g.detail/3}}return h},within:function(h,i,e){if(h){var g=this[i?"getRelatedTarget":"getTarget"]();return g&&((e?(g==Ext.getDom(h)):false)||Ext.fly(h).contains(g))}return false}};return new Ext.EventObjectImpl()}();Ext.Loader=Ext.apply({},{load:function(k,i,l,c){var l=l||this,g=document.getElementsByTagName("head")[0],b=document.createDocumentFragment(),a=k.length,h=0,e=this;var m=function(n){g.appendChild(e.buildScriptTag(k[n],d))};var d=function(){h++;if(a==h&&typeof i=="function"){i.call(l)}else{if(c===true){m(h)}}};if(c===true){m.call(this,0)}else{Ext.each(k,function(o,n){b.appendChild(this.buildScriptTag(o,d))},this);g.appendChild(b)}},buildScriptTag:function(b,c){var a=document.createElement("script");a.type="text/javascript";a.src=b;if(a.readyState){a.onreadystatechange=function(){if(a.readyState=="loaded"||a.readyState=="complete"){a.onreadystatechange=null;c()}}}else{a.onload=c}return a}});Ext.ns("Ext.grid","Ext.list","Ext.dd","Ext.tree","Ext.form","Ext.menu","Ext.state","Ext.layout","Ext.app","Ext.ux","Ext.chart","Ext.direct");Ext.apply(Ext,function(){var c=Ext,a=0,b=null;return{emptyFn:function(){},BLANK_IMAGE_URL:Ext.isIE6||Ext.isIE7||Ext.isAir?"http://www.extjs.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",extendX:function(d,e){return Ext.extend(d,e(d.prototype))},getDoc:function(){return Ext.get(document)},num:function(e,d){e=Number(Ext.isEmpty(e)||Ext.isArray(e)||typeof e=="boolean"||(typeof e=="string"&&e.trim().length==0)?NaN:e);return isNaN(e)?d:e},value:function(g,d,e){return Ext.isEmpty(g,e)?d:g},escapeRe:function(d){return d.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},sequence:function(h,d,g,e){h[d]=h[d].createSequence(g,e)},addBehaviors:function(i){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(i)})}else{var e={},h,d,g;for(d in i){if((h=d.split("@"))[1]){g=h[0];if(!e[g]){e[g]=Ext.select(g)}e[g].on(h[1],i[d])}}e=null}},getScrollBarWidth:function(g){if(!Ext.isReady){return 0}if(g===true||b===null){var i=Ext.getBody().createChild('<div class="x-hide-offsets" style="width:100px;height:50px;overflow:hidden;"><div style="height:200px;"></div></div>'),h=i.child("div",true);var e=h.offsetWidth;i.setStyle("overflow",(Ext.isWebKit||Ext.isGecko)?"auto":"scroll");var d=h.offsetWidth;i.remove();b=e-d+2}return b},combine:function(){var g=arguments,e=g.length,k=[];for(var h=0;h<e;h++){var d=g[h];if(Ext.isArray(d)){k=k.concat(d)}else{if(d.length!==undefined&&!d.substr){k=k.concat(Array.prototype.slice.call(d,0))}else{k.push(d)}}}return k},copyTo:function(d,e,g){if(typeof g=="string"){g=g.split(/[,;\s]/)}Ext.each(g,function(h){if(e.hasOwnProperty(h)){d[h]=e[h]}},this);return d},destroy:function(){Ext.each(arguments,function(d){if(d){if(Ext.isArray(d)){this.destroy.apply(this,d)}else{if(typeof d.destroy=="function"){d.destroy()}else{if(d.dom){d.remove()}}}}},this)},destroyMembers:function(m,k,g,h){for(var l=1,e=arguments,d=e.length;l<d;l++){Ext.destroy(m[e[l]]);delete m[e[l]]}},clean:function(d){var e=[];Ext.each(d,function(g){if(!!g){e.push(g)}});return e},unique:function(d){var e=[],g={};Ext.each(d,function(h){if(!g[h]){e.push(h)}g[h]=true});return e},flatten:function(d){var g=[];function e(h){Ext.each(h,function(i){if(Ext.isArray(i)){e(i)}else{g.push(i)}});return g}return e(d)},min:function(d,e){var g=d[0];e=e||function(i,h){return i<h?-1:1};Ext.each(d,function(h){g=e(g,h)==-1?g:h});return g},max:function(d,e){var g=d[0];e=e||function(i,h){return i>h?1:-1};Ext.each(d,function(h){g=e(g,h)==1?g:h});return g},mean:function(d){return d.length>0?Ext.sum(d)/d.length:undefined},sum:function(d){var e=0;Ext.each(d,function(g){e+=g});return e},partition:function(d,e){var g=[[],[]];Ext.each(d,function(k,l,h){g[(e&&e(k,l,h))||(!e&&k)?0:1].push(k)});return g},invoke:function(d,e){var h=[],g=Array.prototype.slice.call(arguments,2);Ext.each(d,function(k,l){if(k&&typeof k[e]=="function"){h.push(k[e].apply(k,g))}else{h.push(undefined)}});return h},pluck:function(d,g){var e=[];Ext.each(d,function(h){e.push(h[g])});return e},zip:function(){var n=Ext.partition(arguments,function(i){return typeof i!="function"}),k=n[0],m=n[1][0],d=Ext.max(Ext.pluck(k,"length")),h=[];for(var l=0;l<d;l++){h[l]=[];if(m){h[l]=m.apply(m,Ext.pluck(k,l))}else{for(var g=0,e=k.length;g<e;g++){h[l].push(k[g][l])}}}return h},getCmp:function(d){return Ext.ComponentMgr.get(d)},useShims:c.isIE6||(c.isMac&&c.isGecko2),type:function(e){if(e===undefined||e===null){return false}if(e.htmlElement){return"element"}var d=typeof e;if(d=="object"&&e.nodeName){switch(e.nodeType){case 1:return"element";case 3:return(/\S/).test(e.nodeValue)?"textnode":"whitespace"}}if(d=="object"||d=="function"){switch(e.constructor){case Array:return"array";case RegExp:return"regexp";case Date:return"date"}if(typeof e.length=="number"&&typeof e.item=="function"){return"nodelist"}}return d},intercept:function(h,d,g,e){h[d]=h[d].createInterceptor(g,e)},callback:function(d,h,g,e){if(typeof d=="function"){if(e){d.defer(e,h,g||[])}else{d.apply(h,g||[])}}}}}());Ext.apply(Function.prototype,{createSequence:function(b,a){var c=this;return(typeof b!="function")?this:function(){var d=c.apply(this||window,arguments);b.apply(a||this||window,arguments);return d}}});Ext.applyIf(String,{escape:function(a){return a.replace(/('|\\)/g,"\\$1")},leftPad:function(d,b,c){var a=String(d);if(!c){c=" "}while(a.length<b){a=c+a}return a}});String.prototype.toggle=function(b,a){return this==b?a:b};String.prototype.trim=function(){var a=/^\s+|\s+$/g;return function(){return this.replace(a,"")}}();Date.prototype.getElapsed=function(a){return Math.abs((a||new Date()).getTime()-this.getTime())};Ext.applyIf(Number.prototype,{constrain:function(b,a){return Math.min(Math.max(this,b),a)}});Ext.lib.Dom.getRegion=function(a){return Ext.lib.Region.getRegion(a)};Ext.lib.Region=function(d,g,a,c){var e=this;e.top=d;e[1]=d;e.right=g;e.bottom=a;e.left=c;e[0]=c};Ext.lib.Region.prototype={contains:function(b){var a=this;return(b.left>=a.left&&b.right<=a.right&&b.top>=a.top&&b.bottom<=a.bottom)},getArea:function(){var a=this;return((a.bottom-a.top)*(a.right-a.left))},intersect:function(h){var g=this,d=Math.max(g.top,h.top),e=Math.min(g.right,h.right),a=Math.min(g.bottom,h.bottom),c=Math.max(g.left,h.left);if(a>=d&&e>=c){return new Ext.lib.Region(d,e,a,c)}},union:function(h){var g=this,d=Math.min(g.top,h.top),e=Math.max(g.right,h.right),a=Math.max(g.bottom,h.bottom),c=Math.min(g.left,h.left);return new Ext.lib.Region(d,e,a,c)},constrainTo:function(b){var a=this;a.top=a.top.constrain(b.top,b.bottom);a.bottom=a.bottom.constrain(b.top,b.bottom);a.left=a.left.constrain(b.left,b.right);a.right=a.right.constrain(b.left,b.right);return a},adjust:function(d,c,a,g){var e=this;e.top+=d;e.left+=c;e.right+=g;e.bottom+=a;return e}};Ext.lib.Region.getRegion=function(e){var h=Ext.lib.Dom.getXY(e),d=h[1],g=h[0]+e.offsetWidth,a=h[1]+e.offsetHeight,c=h[0];return new Ext.lib.Region(d,g,a,c)};Ext.lib.Point=function(a,c){if(Ext.isArray(a)){c=a[1];a=a[0]}var b=this;b.x=b.right=b.left=b[0]=a;b.y=b.top=b.bottom=b[1]=c};Ext.lib.Point.prototype=new Ext.lib.Region();Ext.apply(Ext.DomHelper,function(){var e,a="afterbegin",h="afterend",i="beforebegin",d="beforeend",b=/tag|children|cn|html$/i;function g(n,q,p,r,m,k){n=Ext.getDom(n);var l;if(e.useDom){l=c(q,null);if(k){n.appendChild(l)}else{(m=="firstChild"?n:n.parentNode).insertBefore(l,n[m]||n)}}else{l=Ext.DomHelper.insertHtml(r,n,Ext.DomHelper.createHtml(q))}return p?Ext.get(l,true):l}function c(k,s){var m,v=document,q,t,n,u;if(Ext.isArray(k)){m=v.createDocumentFragment();for(var r=0,p=k.length;r<p;r++){c(k[r],m)}}else{if(typeof k=="string"){m=v.createTextNode(k)}else{m=v.createElement(k.tag||"div");q=!!m.setAttribute;for(var t in k){if(!b.test(t)){n=k[t];if(t=="cls"){m.className=n}else{if(q){m.setAttribute(t,n)}else{m[t]=n}}}}Ext.DomHelper.applyStyles(m,k.style);if((u=k.children||k.cn)){c(u,m)}else{if(k.html){m.innerHTML=k.html}}}}if(s){s.appendChild(m)}return m}e={createTemplate:function(l){var k=Ext.DomHelper.createHtml(l);return new Ext.Template(k)},useDom:false,insertBefore:function(k,m,l){return g(k,m,l,i)},insertAfter:function(k,m,l){return g(k,m,l,h,"nextSibling")},insertFirst:function(k,m,l){return g(k,m,l,a,"firstChild")},append:function(k,m,l){return g(k,m,l,d,"",true)},createDom:c};return e}());Ext.apply(Ext.Template.prototype,{disableFormats:false,re:/\{([\w-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,argsRe:/^\s*['"](.*)["']\s*$/,compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,applyTemplate:function(b){var g=this,a=g.disableFormats!==true,e=Ext.util.Format,c=g;if(g.compiled){return g.compiled(b)}function d(k,n,q,l){if(q&&a){if(q.substr(0,5)=="this."){return c.call(q.substr(5),b[n],b)}else{if(l){var p=g.argsRe;l=l.split(",");for(var o=0,h=l.length;o<h;o++){l[o]=l[o].replace(p,"$1")}l=[b[n]].concat(l)}else{l=[b[n]]}return e[q].apply(e,l)}}else{return b[n]!==undefined?b[n]:""}}return g.html.replace(g.re,d)},compile:function(){var me=this,fm=Ext.util.Format,useF=me.disableFormats!==true,sep=Ext.isGecko?"+":",",body;function fn(m,name,format,args){if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"'"+sep+format+"values['"+name+"']"+args+")"+sep+"'"}if(Ext.isGecko){body="this.compiled = function(values){ return '"+me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn)+"';};"}else{body=["this.compiled = function(values){ return ['"];body.push(me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn));body.push("'].join('');};");body=body.join("")}eval(body);return me},call:function(c,b,a){return this[c](b,a)}});Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.util.Functions={createInterceptor:function(c,b,a){var d=c;if(!Ext.isFunction(b)){return c}else{return function(){var g=this,e=arguments;b.target=g;b.method=c;return(b.apply(a||g||window,e)!==false)?c.apply(g||window,e):null}}},createDelegate:function(c,d,b,a){if(!Ext.isFunction(c)){return c}return function(){var g=b||arguments;if(a===true){g=Array.prototype.slice.call(arguments,0);g=g.concat(b)}else{if(Ext.isNumber(a)){g=Array.prototype.slice.call(arguments,0);var e=[a,0].concat(b);Array.prototype.splice.apply(g,e)}}return c.apply(d||window,g)}},defer:function(d,c,e,b,a){d=Ext.util.Functions.createDelegate(d,e,b,a);if(c>0){return setTimeout(d,c)}d();return 0},createSequence:function(c,b,a){if(!Ext.isFunction(b)){return c}else{return function(){var d=c.apply(this||window,arguments);b.apply(a||this||window,arguments);return d}}}};Ext.defer=Ext.util.Functions.defer;Ext.createInterceptor=Ext.util.Functions.createInterceptor;Ext.createSequence=Ext.util.Functions.createSequence;Ext.createDelegate=Ext.util.Functions.createDelegate;Ext.apply(Ext.util.Observable.prototype,function(){function a(k){var i=(this.methodEvents=this.methodEvents||{})[k],d,c,g,h=this;if(!i){this.methodEvents[k]=i={};i.originalFn=this[k];i.methodName=k;i.before=[];i.after=[];var b=function(m,l,e){if((c=m.apply(l||h,e))!==undefined){if(typeof c=="object"){if(c.returnValue!==undefined){d=c.returnValue}else{d=c}g=!!c.cancel}else{if(c===false){g=true}else{d=c}}}};this[k]=function(){var m=Array.prototype.slice.call(arguments,0),l;d=c=undefined;g=false;for(var n=0,e=i.before.length;n<e;n++){l=i.before[n];b(l.fn,l.scope,m);if(g){return d}}if((c=i.originalFn.apply(h,m))!==undefined){d=c}for(var n=0,e=i.after.length;n<e;n++){l=i.after[n];b(l.fn,l.scope,m);if(g){return d}}return d}}return i}return{beforeMethod:function(d,c,b){a.call(this,d).before.push({fn:c,scope:b})},afterMethod:function(d,c,b){a.call(this,d).after.push({fn:c,scope:b})},removeMethodListener:function(k,g,d){var h=this.getMethodEvent(k);for(var c=0,b=h.before.length;c<b;c++){if(h.before[c].fn==g&&h.before[c].scope==d){h.before.splice(c,1);return}}for(var c=0,b=h.after.length;c<b;c++){if(h.after[c].fn==g&&h.after[c].scope==d){h.after.splice(c,1);return}}},relayEvents:function(k,e){var h=this;function g(i){return function(){return h.fireEvent.apply(h,[i].concat(Array.prototype.slice.call(arguments,0)))}}for(var d=0,b=e.length;d<b;d++){var c=e[d];h.events[c]=h.events[c]||true;k.on(c,g(c),h)}},enableBubble:function(e){var g=this;if(!Ext.isEmpty(e)){e=Ext.isArray(e)?e:Array.prototype.slice.call(arguments,0);for(var d=0,b=e.length;d<b;d++){var c=e[d];c=c.toLowerCase();var h=g.events[c]||true;if(typeof h=="boolean"){h=new Ext.util.Event(g,c);g.events[c]=h}h.bubble=true}}}}}());Ext.util.Observable.capture=function(c,b,a){c.fireEvent=c.fireEvent.createInterceptor(b,a)};Ext.util.Observable.observeClass=function(b,a){if(b){if(!b.fireEvent){Ext.apply(b,new Ext.util.Observable());Ext.util.Observable.capture(b.prototype,b.fireEvent,b)}if(typeof a=="object"){b.on(a)}return b}};Ext.apply(Ext.EventManager,function(){var c,k,e,b,a=Ext.lib.Dom,i=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,h=0,g=0,d=Ext.isWebKit?Ext.num(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1])>=525:!((Ext.isGecko&&!Ext.isWindows)||Ext.isOpera);return{doResizeEvent:function(){var m=a.getViewHeight(),l=a.getViewWidth();if(g!=m||h!=l){c.fire(h=l,g=m)}},onWindowResize:function(n,m,l){if(!c){c=new Ext.util.Event();k=new Ext.util.DelayedTask(this.doResizeEvent);Ext.EventManager.on(window,"resize",this.fireWindowResize,this)}c.addListener(n,m,l)},fireWindowResize:function(){if(c){k.delay(100)}},onTextResize:function(o,n,l){if(!e){e=new Ext.util.Event();var m=new Ext.Element(document.createElement("div"));m.dom.className="x-text-resize";m.dom.innerHTML="X";m.appendTo(document.body);b=m.dom.offsetHeight;setInterval(function(){if(m.dom.offsetHeight!=b){e.fire(b,b=m.dom.offsetHeight)}},this.textResizeInterval)}e.addListener(o,n,l)},removeResizeListener:function(m,l){if(c){c.removeListener(m,l)}},fireResize:function(){if(c){c.fire(a.getViewWidth(),a.getViewHeight())}},textResizeInterval:50,ieDeferSrc:false,getKeyEvent:function(){return d?"keydown":"keypress"},useKeydown:d}}());Ext.EventManager.on=Ext.EventManager.addListener;Ext.apply(Ext.EventObjectImpl.prototype,{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGEUP:33,PAGE_DOWN:34,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,isNavKeyPress:function(){var b=this,a=this.normalizeKey(b.keyCode);return(a>=33&&a<=40)||a==b.RETURN||a==b.TAB||a==b.ESC},isSpecialKey:function(){var a=this.normalizeKey(this.keyCode);return(this.type=="keypress"&&this.ctrlKey)||this.isNavKeyPress()||(a==this.BACKSPACE)||(a>=16&&a<=20)||(a>=44&&a<=46)},getPoint:function(){return new Ext.lib.Point(this.xy[0],this.xy[1])},hasModifier:function(){return((this.ctrlKey||this.altKey)||this.shiftKey)}});Ext.Element.addMethods({swallowEvent:function(a,b){var d=this;function c(g){g.stopPropagation();if(b){g.preventDefault()}}if(Ext.isArray(a)){Ext.each(a,function(g){d.on(g,c)});return d}d.on(a,c);return d},relayEvent:function(a,b){this.on(a,function(c){b.fireEvent(a,c)})},clean:function(b){var d=this,e=d.dom,g=e.firstChild,c=-1;if(Ext.Element.data(e,"isCleaned")&&b!==true){return d}while(g){var a=g.nextSibling;if(g.nodeType==3&&!(/\S/.test(g.nodeValue))){e.removeChild(g)}else{g.nodeIndex=++c}g=a}Ext.Element.data(e,"isCleaned",true);return d},load:function(){var a=this.getUpdater();a.update.apply(a,arguments);return this},getUpdater:function(){return this.updateManager||(this.updateManager=new Ext.Updater(this))},update:function(html,loadScripts,callback){if(!this.dom){return this}html=html||"";if(loadScripts!==true){this.dom.innerHTML=html;if(typeof callback=="function"){callback()}return this}var id=Ext.id(),dom=this.dom;html+='<span id="'+id+'"></span>';Ext.lib.Event.onAvailable(id,function(){var DOC=document,hd=DOC.getElementsByTagName("head")[0],re=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=([\'\"])(.*?)\1/i,typeRe=/\stype=([\'\"])(.*?)\1/i,match,attrs,srcMatch,typeMatch,el,s;while((match=re.exec(html))){attrs=match[1];srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){s=DOC.createElement("script");s.src=srcMatch[2];typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2])}else{window.eval(match[2])}}}}el=DOC.getElementById(id);if(el){Ext.removeNode(el)}if(typeof callback=="function"){callback()}});dom.innerHTML=html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,"");return this},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},createProxy:function(a,e,d){a=(typeof a=="object")?a:{tag:"div",cls:a};var c=this,b=e?Ext.DomHelper.append(e,a,true):Ext.DomHelper.insertBefore(c.dom,a,true);if(d&&c.setBox&&c.getBox){b.setBox(c.getBox())}return b}});Ext.Element.prototype.getUpdateManager=Ext.Element.prototype.getUpdater;Ext.Element.addMethods({getAnchorXY:function(e,m,t){e=(e||"tl").toLowerCase();t=t||{};var l=this,b=l.dom==document.body||l.dom==document,p=t.width||b?Ext.lib.Dom.getViewWidth():l.getWidth(),i=t.height||b?Ext.lib.Dom.getViewHeight():l.getHeight(),q,a=Math.round,c=l.getXY(),n=l.getScroll(),k=b?n.left:!m?c[0]:0,g=b?n.top:!m?c[1]:0,d={c:[a(p*0.5),a(i*0.5)],t:[a(p*0.5),0],l:[0,a(i*0.5)],r:[p,a(i*0.5)],b:[a(p*0.5),i],tl:[0,0],bl:[0,i],br:[p,i],tr:[p,0]};q=d[e];return[q[0]+k,q[1]+g]},anchorTo:function(b,h,c,a,l,m){var i=this,e=i.dom,k=!Ext.isEmpty(l),d=function(){Ext.fly(e).alignTo(b,h,c,a);Ext.callback(m,Ext.fly(e))},g=this.getAnchor();this.removeAnchor();Ext.apply(g,{fn:d,scroll:k});Ext.EventManager.onWindowResize(d,null);if(k){Ext.EventManager.on(window,"scroll",d,null,{buffer:!isNaN(l)?l:50})}d.call(i);return i},removeAnchor:function(){var b=this,a=this.getAnchor();if(a&&a.fn){Ext.EventManager.removeResizeListener(a.fn);if(a.scroll){Ext.EventManager.un(window,"scroll",a.fn)}delete a.fn}return b},getAnchor:function(){var b=Ext.Element.data,c=this.dom;if(!c){return}var a=b(c,"_anchor");if(!a){a=b(c,"_anchor",{})}return a},getAlignToXY:function(g,B,C){g=Ext.get(g);if(!g||!g.dom){throw"Element.alignToXY with an element that doesn't exist"}C=C||[0,0];B=(!B||B=="?"?"tl-bl?":(!(/-/).test(B)&&B!==""?"tl-"+B:B||"tl-bl")).toLowerCase();var L=this,I=L.dom,N,M,q,n,t,G,z,u=Ext.lib.Dom.getViewWidth()-10,H=Ext.lib.Dom.getViewHeight()-10,b,i,k,l,v,A,O=document,K=O.documentElement,s=O.body,F=(K.scrollLeft||s.scrollLeft||0)+5,E=(K.scrollTop||s.scrollTop||0)+5,J=false,e="",a="",D=B.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!D){throw"Element.alignTo with an invalid alignment "+B}e=D[1];a=D[2];J=!!D[3];N=L.getAnchorXY(e,true);M=g.getAnchorXY(a,false);q=M[0]-N[0]+C[0];n=M[1]-N[1]+C[1];if(J){t=L.getWidth();G=L.getHeight();z=g.getRegion();b=e.charAt(0);i=e.charAt(e.length-1);k=a.charAt(0);l=a.charAt(a.length-1);v=((b=="t"&&k=="b")||(b=="b"&&k=="t"));A=((i=="r"&&l=="l")||(i=="l"&&l=="r"));if(q+t>u+F){q=A?z.left-t:u+F-t}if(q<F){q=A?z.right:F}if(n+G>H+E){n=v?z.top-G:H+E-G}if(n<E){n=v?z.bottom:E}}return[q,n]},alignTo:function(c,a,e,b){var d=this;return d.setXY(d.getAlignToXY(c,a,e),d.preanim&&!!b?d.preanim(arguments,3):false)},adjustForConstraints:function(c,a,b){return this.getConstrainToXY(a||document,false,b,c)||c},getConstrainToXY:function(b,a,c,e){var d={top:0,left:0,bottom:0,right:0};return function(i,B,m,o){i=Ext.get(i);m=m?Ext.applyIf(m,d):d;var A,E,z=0,v=0;if(i.dom==document.body||i.dom==document){A=Ext.lib.Dom.getViewWidth();E=Ext.lib.Dom.getViewHeight()}else{A=i.dom.clientWidth;E=i.dom.clientHeight;if(!B){var u=i.getXY();z=u[0];v=u[1]}}var t=i.getScroll();z+=m.left+t.left;v+=m.top+t.top;A-=m.right;E-=m.bottom;var C=z+A,g=v+E,k=o||(!B?this.getXY():[this.getLeft(true),this.getTop(true)]),q=k[0],p=k[1],l=this.getConstrainOffset(),r=this.dom.offsetWidth+l,D=this.dom.offsetHeight+l;var n=false;if((q+r)>C){q=C-r;n=true}if((p+D)>g){p=g-D;n=true}if(q<z){q=z;n=true}if(p<v){p=v;n=true}return n?[q,p]:false}}(),getConstrainOffset:function(){return 0},getCenterXY:function(){return this.getAlignToXY(document,"c-c")},center:function(a){return this.alignTo(a||document,"c-c")}});Ext.Element.addMethods({select:function(a,b){return Ext.Element.select(a,b,this.dom)}});Ext.apply(Ext.Element.prototype,function(){var c=Ext.getDom,a=Ext.get,b=Ext.DomHelper;return{insertSibling:function(i,g,h){var k=this,e,d=(g||"before").toLowerCase()=="after",l;if(Ext.isArray(i)){l=k;Ext.each(i,function(m){e=Ext.fly(l,"_internal").insertSibling(m,g,h);if(d){l=e}});return e}i=i||{};if(i.nodeType||i.dom){e=k.dom.parentNode.insertBefore(c(i),d?k.dom.nextSibling:k.dom);if(!h){e=a(e)}}else{if(d&&!k.dom.nextSibling){e=b.append(k.dom.parentNode,i,!h)}else{e=b[d?"insertAfter":"insertBefore"](k.dom,i,!h)}}return e}}}());Ext.Element.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';Ext.Element.addMethods(function(){var a="_internal",b=/(\d+\.?\d+)px/;return{applyStyles:function(c){Ext.DomHelper.applyStyles(this.dom,c);return this},getStyles:function(){var c={};Ext.each(arguments,function(d){c[d]=this.getStyle(d)},this);return c},setOverflow:function(c){var d=this.dom;if(c=="auto"&&Ext.isMac&&Ext.isGecko2){d.style.overflow="hidden";(function(){d.style.overflow="auto"}).defer(1)}else{d.style.overflow=c}},boxWrap:function(c){c=c||"x-box";var d=Ext.get(this.insertHtml("beforeBegin","<div class='"+c+"'>"+String.format(Ext.Element.boxMarkup,c)+"</div>"));Ext.DomQuery.selectNode("."+c+"-mc",d.dom).appendChild(this.dom);return d},setSize:function(e,c,d){var g=this;if(typeof e=="object"){c=e.height;e=e.width}e=g.adjustWidth(e);c=g.adjustHeight(c);if(!d||!g.anim){g.dom.style.width=g.addUnits(e);g.dom.style.height=g.addUnits(c)}else{g.anim({width:{to:e},height:{to:c}},g.preanim(arguments,2))}return g},getComputedHeight:function(){var d=this,c=Math.max(d.dom.offsetHeight,d.dom.clientHeight);if(!c){c=parseFloat(d.getStyle("height"))||0;if(!d.isBorderBox()){c+=d.getFrameWidth("tb")}}return c},getComputedWidth:function(){var c=Math.max(this.dom.offsetWidth,this.dom.clientWidth);if(!c){c=parseFloat(this.getStyle("width"))||0;if(!this.isBorderBox()){c+=this.getFrameWidth("lr")}}return c},getFrameWidth:function(d,c){return c&&this.isBorderBox()?0:(this.getPadding(d)+this.getBorderWidth(d))},addClassOnOver:function(c){this.hover(function(){Ext.fly(this,a).addClass(c)},function(){Ext.fly(this,a).removeClass(c)});return this},addClassOnFocus:function(c){this.on("focus",function(){Ext.fly(this,a).addClass(c)},this.dom);this.on("blur",function(){Ext.fly(this,a).removeClass(c)},this.dom);return this},addClassOnClick:function(c){var d=this.dom;this.on("mousedown",function(){Ext.fly(d,a).addClass(c);var g=Ext.getDoc(),e=function(){Ext.fly(d,a).removeClass(c);g.removeListener("mouseup",e)};g.on("mouseup",e)});return this},getViewSize:function(){var g=document,h=this.dom,c=(h==g||h==g.body);if(c){var e=Ext.lib.Dom;return{width:e.getViewWidth(),height:e.getViewHeight()}}else{return{width:h.clientWidth,height:h.clientHeight}}},getStyleSize:function(){var k=this,c,i,m=document,n=this.dom,e=(n==m||n==m.body),g=n.style;if(e){var l=Ext.lib.Dom;return{width:l.getViewWidth(),height:l.getViewHeight()}}if(g.width&&g.width!="auto"){c=parseFloat(g.width);if(k.isBorderBox()){c-=k.getFrameWidth("lr")}}if(g.height&&g.height!="auto"){i=parseFloat(g.height);if(k.isBorderBox()){i-=k.getFrameWidth("tb")}}return{width:c||k.getWidth(true),height:i||k.getHeight(true)}},getSize:function(c){return{width:this.getWidth(c),height:this.getHeight(c)}},repaint:function(){var c=this.dom;this.addClass("x-repaint");setTimeout(function(){Ext.fly(c).removeClass("x-repaint")},1);return this},unselectable:function(){this.dom.unselectable="on";return this.swallowEvent("selectstart",true).applyStyles("-moz-user-select:none;-khtml-user-select:none;").addClass("x-unselectable")},getMargins:function(d){var e=this,c,g={t:"top",l:"left",r:"right",b:"bottom"},h={};if(!d){for(c in e.margins){h[g[c]]=parseFloat(e.getStyle(e.margins[c]))||0}return h}else{return e.addStyles.call(e,d,e.margins)}}}}());Ext.Element.addMethods({setBox:function(e,g,b){var d=this,a=e.width,c=e.height;if((g&&!d.autoBoxAdjust)&&!d.isBorderBox()){a-=(d.getBorderWidth("lr")+d.getPadding("lr"));c-=(d.getBorderWidth("tb")+d.getPadding("tb"))}d.setBounds(e.x,e.y,a,c,d.animTest.call(d,arguments,b,2));return d},getBox:function(k,q){var n=this,x,e,p,d=n.getBorderWidth,s=n.getPadding,g,a,v,o;if(!q){x=n.getXY()}else{e=parseInt(n.getStyle("left"),10)||0;p=parseInt(n.getStyle("top"),10)||0;x=[e,p]}var c=n.dom,u=c.offsetWidth,i=c.offsetHeight,m;if(!k){m={x:x[0],y:x[1],0:x[0],1:x[1],width:u,height:i}}else{g=d.call(n,"l")+s.call(n,"l");a=d.call(n,"r")+s.call(n,"r");v=d.call(n,"t")+s.call(n,"t");o=d.call(n,"b")+s.call(n,"b");m={x:x[0]+g,y:x[1]+v,0:x[0]+g,1:x[1]+v,width:u-(g+a),height:i-(v+o)}}m.right=m.x+m.width;m.bottom=m.y+m.height;return m},move:function(k,b,c){var g=this,n=g.getXY(),l=n[0],i=n[1],d=[l-b,i],m=[l+b,i],h=[l,i-b],a=[l,i+b],e={l:d,left:d,r:m,right:m,t:h,top:h,up:h,b:a,bottom:a,down:a};k=k.toLowerCase();g.moveTo(e[k][0],e[k][1],g.animTest.call(g,arguments,c,2))},setLeftTop:function(d,c){var b=this,a=b.dom.style;a.left=b.addUnits(d);a.top=b.addUnits(c);return b},getRegion:function(){return Ext.lib.Dom.getRegion(this.dom)},setBounds:function(b,g,d,a,c){var e=this;if(!c||!e.anim){e.setSize(d,a);e.setLocation(b,g)}else{e.anim({points:{to:[b,g]},width:{to:e.adjustWidth(d)},height:{to:e.adjustHeight(a)}},e.preanim(arguments,4),"motion")}return e},setRegion:function(b,a){return this.setBounds(b.left,b.top,b.right-b.left,b.bottom-b.top,this.animTest.call(this,arguments,a,1))}});Ext.Element.addMethods({scrollTo:function(b,d,a){var e=/top/i.test(b),c=this,g=c.dom,h;if(!a||!c.anim){h="scroll"+(e?"Top":"Left");g[h]=d}else{h="scroll"+(e?"Left":"Top");c.anim({scroll:{to:e?[g[h],d]:[d,g[h]]}},c.preanim(arguments,2),"scroll")}return c},scrollIntoView:function(e,i){var q=Ext.getDom(e)||Ext.getBody().dom,h=this.dom,g=this.getOffsetsTo(q),m=g[0]+q.scrollLeft,v=g[1]+q.scrollTop,s=v+h.offsetHeight,d=m+h.offsetWidth,a=q.clientHeight,n=parseInt(q.scrollTop,10),u=parseInt(q.scrollLeft,10),k=n+a,p=u+q.clientWidth;if(h.offsetHeight>a||v<n){q.scrollTop=v}else{if(s>k){q.scrollTop=s-a}}q.scrollTop=q.scrollTop;if(i!==false){if(h.offsetWidth>q.clientWidth||m<u){q.scrollLeft=m}else{if(d>p){q.scrollLeft=d-q.clientWidth}}q.scrollLeft=q.scrollLeft}return this},scrollChildIntoView:function(b,a){Ext.fly(b,"_scrollChildIntoView").scrollIntoView(this,a)},scroll:function(n,b,d){if(!this.isScrollable()){return false}var e=this.dom,g=e.scrollLeft,q=e.scrollTop,o=e.scrollWidth,m=e.scrollHeight,i=e.clientWidth,a=e.clientHeight,c=false,p,k={l:Math.min(g+b,o-i),r:p=Math.max(g-b,0),t:Math.max(q-b,0),b:Math.min(q+b,m-a)};k.d=k.b;k.u=k.t;n=n.substr(0,1);if((p=k[n])>-1){c=true;this.scrollTo(n=="l"||n=="r"?"left":"top",p,this.preanim(arguments,2))}return c}});Ext.Element.addMethods(function(){var d="visibility",b="display",a="hidden",h="none",c="x-masked",g="x-masked-relative",e=Ext.Element.data;return{isVisible:function(i){var k=!this.isStyle(d,a)&&!this.isStyle(b,h),l=this.dom.parentNode;if(i!==true||!k){return k}while(l&&!(/^body/i.test(l.tagName))){if(!Ext.fly(l,"_isVisible").isVisible()){return false}l=l.parentNode}return true},isDisplayed:function(){return !this.isStyle(b,h)},enableDisplayMode:function(i){this.setVisibilityMode(Ext.Element.DISPLAY);if(!Ext.isEmpty(i)){e(this.dom,"originalDisplay",i)}return this},mask:function(k,o){var q=this,m=q.dom,p=Ext.DomHelper,n="ext-el-mask-msg",i,r;if(!(/^body/i.test(m.tagName)&&q.getStyle("position")=="static")){q.addClass(g)}if(i=e(m,"maskMsg")){i.remove()}if(i=e(m,"mask")){i.remove()}r=p.append(m,{cls:"ext-el-mask"},true);e(m,"mask",r);q.addClass(c);r.setDisplayed(true);if(typeof k=="string"){var l=p.append(m,{cls:n,cn:{tag:"div"}},true);e(m,"maskMsg",l);l.dom.className=o?n+" "+o:n;l.dom.firstChild.innerHTML=k;l.setDisplayed(true);l.center(q)}if(Ext.isIE&&!(Ext.isIE7&&Ext.isStrict)&&q.getStyle("height")=="auto"){r.setSize(undefined,q.getHeight())}return r},unmask:function(){var l=this,m=l.dom,i=e(m,"mask"),k=e(m,"maskMsg");if(i){if(k){k.remove();e(m,"maskMsg",undefined)}i.remove();e(m,"mask",undefined);l.removeClass([c,g])}},isMasked:function(){var i=e(this.dom,"mask");return i&&i.isVisible()},createShim:function(){var i=document.createElement("iframe"),k;i.frameBorder="0";i.className="ext-shim";i.src=Ext.SSL_SECURE_URL;k=Ext.get(this.dom.parentNode.insertBefore(i,this.dom));k.autoBoxAdjust=false;return k}}}());Ext.Element.addMethods({addKeyListener:function(b,d,c){var a;if(typeof b!="object"||Ext.isArray(b)){a={key:b,fn:d,scope:c}}else{a={key:b.key,shift:b.shift,ctrl:b.ctrl,alt:b.alt,fn:d,scope:c}}return new Ext.KeyMap(this,a)},addKeyMap:function(a){return new Ext.KeyMap(this,a)}});Ext.CompositeElementLite.importElementMethods();Ext.apply(Ext.CompositeElementLite.prototype,{addElements:function(c,a){if(!c){return this}if(typeof c=="string"){c=Ext.Element.selectorFunction(c,a)}var b=this.elements;Ext.each(c,function(d){b.push(Ext.get(d))});return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!=-1},removeElement:function(d,e){var c=this,a=this.elements,b;Ext.each(d,function(g){if((b=(a[g]||a[g=c.indexOf(g)]))){if(e){if(b.dom){b.remove()}else{Ext.removeNode(b)}}a.splice(g,1)}});return this}});Ext.CompositeElement=Ext.extend(Ext.CompositeElementLite,{constructor:function(b,a){this.elements=[];this.add(b,a)},getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}});Ext.Element.select=function(a,d,b){var c;if(typeof a=="string"){c=Ext.Element.selectorFunction(a,b)}else{if(a.length!==undefined){c=a}else{throw"Invalid selector"}}return(d===true)?new Ext.CompositeElement(c):new Ext.CompositeElementLite(c)};Ext.select=Ext.Element.select;Ext.UpdateManager=Ext.Updater=Ext.extend(Ext.util.Observable,function(){var b="beforeupdate",d="update",c="failure";function a(h){var i=this;i.transaction=null;if(h.argument.form&&h.argument.reset){try{h.argument.form.reset()}catch(k){}}if(i.loadScripts){i.renderer.render(i.el,h,i,g.createDelegate(i,[h]))}else{i.renderer.render(i.el,h,i);g.call(i,h)}}function g(h,i,k){this.fireEvent(i||d,this.el,h);if(Ext.isFunction(h.argument.callback)){h.argument.callback.call(h.argument.scope,this.el,Ext.isEmpty(k)?true:false,h,h.argument.options)}}function e(h){g.call(this,h,c,!!(this.transaction=null))}return{constructor:function(i,h){var k=this;i=Ext.get(i);if(!h&&i.updateManager){return i.updateManager}k.el=i;k.defaultUrl=null;k.addEvents(b,d,c);Ext.apply(k,Ext.Updater.defaults);k.transaction=null;k.refreshDelegate=k.refresh.createDelegate(k);k.updateDelegate=k.update.createDelegate(k);k.formUpdateDelegate=(k.formUpdate||function(){}).createDelegate(k);k.renderer=k.renderer||k.getDefaultRenderer();Ext.Updater.superclass.constructor.call(k)},setRenderer:function(h){this.renderer=h},getRenderer:function(){return this.renderer},getDefaultRenderer:function(){return new Ext.Updater.BasicRenderer()},setDefaultUrl:function(h){this.defaultUrl=h},getEl:function(){return this.el},update:function(i,p,q,m){var l=this,h,k;if(l.fireEvent(b,l.el,i,p)!==false){if(Ext.isObject(i)){h=i;i=h.url;p=p||h.params;q=q||h.callback;m=m||h.discardUrl;k=h.scope;if(!Ext.isEmpty(h.nocache)){l.disableCaching=h.nocache}if(!Ext.isEmpty(h.text)){l.indicatorText='<div class="loading-indicator">'+h.text+"</div>"}if(!Ext.isEmpty(h.scripts)){l.loadScripts=h.scripts}if(!Ext.isEmpty(h.timeout)){l.timeout=h.timeout}}l.showLoading();if(!m){l.defaultUrl=i}if(Ext.isFunction(i)){i=i.call(l)}var n=Ext.apply({},{url:i,params:(Ext.isFunction(p)&&k)?p.createDelegate(k):p,success:a,failure:e,scope:l,callback:undefined,timeout:(l.timeout*1000),disableCaching:l.disableCaching,argument:{options:h,url:i,form:null,callback:q,scope:k||window,params:p}},h);l.transaction=Ext.Ajax.request(n)}},formUpdate:function(l,h,k,m){var i=this;if(i.fireEvent(b,i.el,l,h)!==false){if(Ext.isFunction(h)){h=h.call(i)}l=Ext.getDom(l);i.transaction=Ext.Ajax.request({form:l,url:h,success:a,failure:e,scope:i,timeout:(i.timeout*1000),argument:{url:h,form:l,callback:m,reset:k}});i.showLoading.defer(1,i)}},startAutoRefresh:function(i,k,m,n,h){var l=this;if(h){l.update(k||l.defaultUrl,m,n,true)}if(l.autoRefreshProcId){clearInterval(l.autoRefreshProcId)}l.autoRefreshProcId=setInterval(l.update.createDelegate(l,[k||l.defaultUrl,m,n,true]),i*1000)},stopAutoRefresh:function(){if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId);delete this.autoRefreshProcId}},isAutoRefreshing:function(){return !!this.autoRefreshProcId},showLoading:function(){if(this.showLoadIndicator){this.el.dom.innerHTML=this.indicatorText}},abort:function(){if(this.transaction){Ext.Ajax.abort(this.transaction)}},isUpdating:function(){return this.transaction?Ext.Ajax.isLoading(this.transaction):false},refresh:function(h){if(this.defaultUrl){this.update(this.defaultUrl,null,h,true)}}}}());Ext.Updater.defaults={timeout:30,disableCaching:false,showLoadIndicator:true,indicatorText:'<div class="loading-indicator">Loading...</div>',loadScripts:false,sslBlankUrl:Ext.SSL_SECURE_URL};Ext.Updater.updateElement=function(d,c,e,b){var a=Ext.get(d).getUpdater();Ext.apply(a,b);a.update(c,e,b?b.callback:null)};Ext.Updater.BasicRenderer=function(){};Ext.Updater.BasicRenderer.prototype={render:function(c,a,b,d){c.update(a.responseText,b.loadScripts,d)}};(function(){Date.useStrict=false;function b(d){var c=Array.prototype.slice.call(arguments,1);return d.replace(/\{(\d+)\}/g,function(e,g){return c[g]})}Date.formatCodeToRegex=function(d,c){var e=Date.parseCodes[d];if(e){e=typeof e=="function"?e():e;Date.parseCodes[d]=e}return e?Ext.applyIf({c:e.c?b(e.c,c||"{0}"):e.c},e):{g:0,c:null,s:Ext.escapeRe(d)}};var a=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{"M$":function(d,c){var e=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/");var g=(d||"").match(e);return g?new Date(((g[1]||"")+g[2])*1):null}},parseRegexes:[],formatFunctions:{"M$":function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(c){return Date.monthNames[c].substring(0,3)},getShortDayName:function(c){return Date.dayNames[c].substring(0,3)},getMonthNumber:function(c){return Date.monthNumbers[c.substring(0,1).toUpperCase()+c.substring(1,3).toLowerCase()]},formatCodes:{d:"String.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"String.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",m:"String.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"String.leftPad(this.getHours(), 2, '0')",i:"String.leftPad(this.getMinutes(), 2, '0')",s:"String.leftPad(this.getSeconds(), 2, '0')",u:"String.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var m="Y-m-dTH:i:sP",h=[],g=0,d=m.length;g<d;++g){var k=m.charAt(g);h.push(k=="T"?"'T'":Date.getFormatCode(k))}return h.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(p,c,o,l,g,k,e){l=l||0;g=g||0;k=k||0;e=e||0;var n=new Date(p<100?100:p,c-1,o,l,g,k,e).add(Date.YEAR,p<100?p-100:0);return p==n.getFullYear()&&c==n.getMonth()+1&&o==n.getDate()&&l==n.getHours()&&g==n.getMinutes()&&k==n.getSeconds()&&e==n.getMilliseconds()},parseDate:function(d,g,c){var e=Date.parseFunctions;if(e[g]==null){Date.createParser(g)}return e[g](d,Ext.isDefined(c)?c:Date.useStrict)},getFormatCode:function(d){var c=Date.formatCodes[d];if(c){c=typeof c=="function"?c():c;Date.formatCodes[d]=c}return c||("'"+String.escape(d)+"'")},createFormat:function(h){var g=[],c=false,e="";for(var d=0;d<h.length;++d){e=h.charAt(d);if(!c&&e=="\\"){c=true}else{if(c){c=false;g.push("'"+String.escape(e)+"'")}else{g.push(Date.getFormatCode(e))}}}Date.formatFunctions[h]=new Function("return "+g.join("+"))},createParser:function(){var c=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Date.defaults,","results = String(input).match(Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = (new Date()).clearTime();","y = Ext.num(y, Ext.num(def.y, dt.getFullYear()));","m = Ext.num(m, Ext.num(def.m - 1, dt.getMonth()));","d = Ext.num(d, Ext.num(def.d, dt.getDate()));","h  = Ext.num(h, Ext.num(def.h, dt.getHours()));","i  = Ext.num(i, Ext.num(def.i, dt.getMinutes()));","s  = Ext.num(s, Ext.num(def.s, dt.getSeconds()));","ms = Ext.num(ms, Ext.num(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms).add(Date.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (v.isLeapYear() && z <= 365))? v.add(Date.DAY, z) : null);","}else if(strict === true && !Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = new Date(y < 100 ? 100 : y, m, d, h, i, s, ms).add(Date.YEAR, y < 100 ? y - 100 : 0);","}","}","}","if(v){","if(zz != null){","v = v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(n){var e=Date.parseRegexes.length,p=1,g=[],m=[],l=false,d="",k=0,h,o;for(;k<n.length;++k){d=n.charAt(k);if(!l&&d=="\\"){l=true}else{if(l){l=false;m.push(String.escape(d))}else{h=a(d,p);p+=h.g;m.push(h.s);if(h.g&&h.c){if(h.calcLast){o=h.c}else{g.push(h.c)}}}}}if(o){g.push(o)}Date.parseRegexes[e]=new RegExp("^"+m.join("")+"$","i");Date.parseFunctions[n]=new Function("input","strict",b(c,e,g.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var c=[],d=0;d<7;c.push(Date.getShortDayName(d)),++d){}return{g:0,c:null,s:"(?:"+c.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"}},M:function(){for(var c=[],d=0;d<12;c.push(Date.getShortMonthName(d)),++d){}return Ext.applyIf({s:"("+c.join("|")+")"},a("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return a("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:function(){return a("A")},A:{calcLast:true,g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)"},g:function(){return a("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return a("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var e=[],c=[a("Y",1),a("m",2),a("d",3),a("h",4),a("i",5),a("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",a("P",8).c,"}else{",a("O",8).c,"}","}"].join("\n")}];for(var g=0,d=c.length;g<d;++g){e.push(c[g].c)}return{g:1,c:e.join(""),s:[c[0].s,"(?:","-",c[1].s,"(?:","-",c[2].s,"(?:","(?:T| )?",c[3].s,":",c[4].s,"(?::",c[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}}})}());Ext.apply(Date.prototype,{dateFormat:function(a){if(Date.formatFunctions[a]==null){Date.createFormat(a)}return Date.formatFunctions[a].call(this)},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(a?":":"")+String.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0")},getDayOfYear:function(){var b=0,e=this.clone(),a=this.getMonth(),c;for(c=0,e.setDate(1),e.setMonth(0);c<a;e.setMonth(++c)){b+=e.getDaysInMonth()}return b+this.getDate()-1},getWeekOfYear:function(){var a=86400000,b=7*a;return function(){var d=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/a,c=Math.floor(d/7),e=new Date(c*b).getUTCFullYear();return c-Math.floor(Date.UTC(e,0,7)/b)+1}}(),isLeapYear:function(){var a=this.getFullYear();return !!((a&3)==0&&(a%100||(a%400==0&&a)))},getFirstDayOfMonth:function(){var a=(this.getDay()-(this.getDate()-1))%7;return(a<0)?(a+7):a},getLastDayOfMonth:function(){return this.getLastDateOfMonth().getDay()},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1)},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth())},getDaysInMonth:function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(){var b=this.getMonth();return b==1&&this.isLeapYear()?29:a[b]}}(),getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(){return new Date(this.getTime())},isDST:function(){return new Date(this.getFullYear(),0,1).getTimezoneOffset()!=this.getTimezoneOffset()},clearTime:function(g){if(g){return this.clone().clearTime()}var b=this.getDate();this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);if(this.getDate()!=b){for(var a=1,e=this.add(Date.HOUR,a);e.getDate()!=b;a++,e=this.add(Date.HOUR,a)){}this.setDate(b);this.setHours(e.getHours())}return this},add:function(b,c){var e=this.clone();if(!b||c===0){return e}switch(b.toLowerCase()){case Date.MILLI:e.setMilliseconds(this.getMilliseconds()+c);break;case Date.SECOND:e.setSeconds(this.getSeconds()+c);break;case Date.MINUTE:e.setMinutes(this.getMinutes()+c);break;case Date.HOUR:e.setHours(this.getHours()+c);break;case Date.DAY:e.setDate(this.getDate()+c);break;case Date.MONTH:var a=this.getDate();if(a>28){a=Math.min(a,this.getFirstDateOfMonth().add("mo",c).getLastDateOfMonth().getDate())}e.setDate(a);e.setMonth(this.getMonth()+c);break;case Date.YEAR:e.setFullYear(this.getFullYear()+c);break}return e},between:function(c,a){var b=this.getTime();return c.getTime()<=b&&b<=a.getTime()}});Date.prototype.format=Date.prototype.dateFormat;if(Ext.isSafari&&(navigator.userAgent.match(/WebKit\/(\d+)/)[1]||NaN)<420){Ext.apply(Date.prototype,{_xMonth:Date.prototype.setMonth,_xDate:Date.prototype.setDate,setMonth:function(a){if(a<=-1){var d=Math.ceil(-a),c=Math.ceil(d/12),b=(d%12)?12-d%12:0;this.setFullYear(this.getFullYear()-c);return this._xMonth(b)}else{return this._xMonth(a)}},setDate:function(a){return this.setTime(this.getTime()-(this.getDate()-a)*86400000)}})}Ext.util.MixedCollection=function(b,a){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");this.allowFunctions=b===true;if(a){this.getKey=a}Ext.util.MixedCollection.superclass.constructor.call(this)};Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:false,add:function(b,c){if(arguments.length==1){c=arguments[0];b=this.getKey(c)}if(typeof b!="undefined"&&b!==null){var a=this.map[b];if(typeof a!="undefined"){return this.replace(b,c)}this.map[b]=c}this.length++;this.items.push(c);this.keys.push(b);this.fireEvent("add",this.length-1,c,b);return c},getKey:function(a){return a.id},replace:function(c,d){if(arguments.length==1){d=arguments[0];c=this.getKey(d)}var a=this.map[c];if(typeof c=="undefined"||c===null||typeof a=="undefined"){return this.add(c,d)}var b=this.indexOfKey(c);this.items[b]=d;this.map[c]=d;this.fireEvent("replace",c,a,d);return d},addAll:function(e){if(arguments.length>1||Ext.isArray(e)){var b=arguments.length>1?arguments:e;for(var d=0,a=b.length;d<a;d++){this.add(b[d])}}else{for(var c in e){if(this.allowFunctions||typeof e[c]!="function"){this.add(c,e[c])}}}},each:function(e,d){var b=[].concat(this.items);for(var c=0,a=b.length;c<a;c++){if(e.call(d||b[c],b[c],c,a)===false){break}}},eachKey:function(d,c){for(var b=0,a=this.keys.length;b<a;b++){d.call(c||window,this.keys[b],this.items[b],b,a)}},find:function(d,c){for(var b=0,a=this.items.length;b<a;b++){if(d.call(c||window,this.items[b],this.keys[b])){return this.items[b]}}return null},insert:function(a,b,c){if(arguments.length==2){c=arguments[1];b=this.getKey(c)}if(this.containsKey(b)){this.suspendEvents();this.removeKey(b);this.resumeEvents()}if(a>=this.length){return this.add(b,c)}this.length++;this.items.splice(a,0,c);if(typeof b!="undefined"&&b!==null){this.map[b]=c}this.keys.splice(a,0,b);this.fireEvent("add",a,c,b);return c},remove:function(a){return this.removeAt(this.indexOf(a))},removeAt:function(a){if(a<this.length&&a>=0){this.length--;var c=this.items[a];this.items.splice(a,1);var b=this.keys[a];if(typeof b!="undefined"){delete this.map[b]}this.keys.splice(a,1);this.fireEvent("remove",c,b);return c}return false},removeKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){return this.items.indexOf(a)},indexOfKey:function(a){return this.keys.indexOf(a)},item:function(b){var a=this.map[b],c=a!==undefined?a:(typeof b=="number")?this.items[b]:undefined;return typeof c!="function"||this.allowFunctions?c:null},itemAt:function(a){return this.items[a]},key:function(a){return this.map[a]},contains:function(a){return this.indexOf(a)!=-1},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(l,a,k){var d,e,b=String(a).toUpperCase()=="DESC"?-1:1,h=[],m=this.keys,g=this.items;k=k||function(i,c){return i-c};for(d=0,e=g.length;d<e;d++){h[h.length]={key:m[d],value:g[d],index:d}}h.sort(function(i,c){var n=k(i[l],c[l])*b;if(n===0){n=(i.index<c.index?-1:1)}return n});for(d=0,e=h.length;d<e;d++){g[d]=h[d].value;m[d]=h[d].key}this.fireEvent("sort",this)},sort:function(a,b){this._sort("value",a,b)},reorder:function(d){this.suspendEvents();var b=this.items,c=0,g=b.length,a=[],e=[],h;for(h in d){a[d[h]]=b[h]}for(c=0;c<g;c++){if(d[c]==undefined){e.push(b[c])}}for(c=0;c<g;c++){if(a[c]==undefined){a[c]=e.shift()}}this.clear();this.addAll(a);this.resumeEvents();this.fireEvent("sort",this)},keySort:function(a,b){this._sort("key",a,b||function(d,c){var g=String(d).toUpperCase(),e=String(c).toUpperCase();return g>e?1:(g<e?-1:0)})},getRange:function(e,a){var b=this.items;if(b.length<1){return[]}e=e||0;a=Math.min(typeof a=="undefined"?this.length-1:a,this.length-1);var c,d=[];if(e<=a){for(c=e;c<=a;c++){d[d.length]=b[c]}}else{for(c=e;c>=a;c--){d[d.length]=b[c]}}return d},filter:function(c,b,d,a){if(Ext.isEmpty(b,false)){return this.clone()}b=this.createValueMatcher(b,d,a);return this.filterBy(function(e){return e&&b.test(e[c])})},filterBy:function(g,e){var h=new Ext.util.MixedCollection();h.getKey=this.getKey;var b=this.keys,d=this.items;for(var c=0,a=d.length;c<a;c++){if(g.call(e||this,d[c],b[c])){h.add(b[c],d[c])}}return h},findIndex:function(c,b,e,d,a){if(Ext.isEmpty(b,false)){return -1}b=this.createValueMatcher(b,d,a);return this.findIndexBy(function(g){return g&&b.test(g[c])},null,e)},findIndexBy:function(g,e,h){var b=this.keys,d=this.items;for(var c=(h||0),a=d.length;c<a;c++){if(g.call(e||this,d[c],b[c])){return c}}return -1},createValueMatcher:function(c,e,a,b){if(!c.exec){var d=Ext.escapeRe;c=String(c);if(e===true){c=d(c)}else{c="^"+d(c);if(b===true){c+="$"}}c=new RegExp(c,a?"":"i")}return c},clone:function(){var e=new Ext.util.MixedCollection();var b=this.keys,d=this.items;for(var c=0,a=d.length;c<a;c++){e.add(b[c],d[c])}e.getKey=this.getKey;return e}});Ext.util.MixedCollection.prototype.get=Ext.util.MixedCollection.prototype.item;Ext.AbstractManager=Ext.extend(Object,{typeName:"type",constructor:function(a){Ext.apply(this,a||{});this.all=new Ext.util.MixedCollection();this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,d){var b=a[this.typeName]||a.type||d,c=this.types[b];if(c==undefined){throw new Error(String.format("The '{0}' type has not been registered with this manager",b))}return new c(a)},onAvailable:function(d,c,b){var a=this.all;a.on("add",function(e,g){if(g.id==d){c.call(b||g,g);a.un("add",c,b)}})}});Ext.util.Format=function(){var trimRe=/^\s+|\s+$/g,stripTagsRE=/<\/?[^>]+>/gi,stripScriptsRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe=/\r?\n/g;return{ellipsis:function(value,len,word){if(value&&value.length>len){if(word){var vs=value.substr(0,len-2),index=Math.max(vs.lastIndexOf(" "),vs.lastIndexOf("."),vs.lastIndexOf("!"),vs.lastIndexOf("?"));if(index==-1||index<(len-15)){return value.substr(0,len-3)+"..."}else{return vs.substr(0,index)+"..."}}else{return value.substr(0,len-3)+"..."}}return value},undef:function(value){return value!==undefined?value:""},defaultValue:function(value,defaultValue){return value!==undefined&&value!==""?value:defaultValue},htmlEncode:function(value){return !value?value:String(value).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(value){return !value?value:String(value).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},trim:function(value){return String(value).replace(trimRe,"")},substr:function(value,start,length){return String(value).substr(start,length)},lowercase:function(value){return String(value).toLowerCase()},uppercase:function(value){return String(value).toUpperCase()},capitalize:function(value){return !value?value:value.charAt(0).toUpperCase()+value.substr(1).toLowerCase()},call:function(value,fn){if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);args.unshift(value);return eval(fn).apply(window,args)}else{return eval(fn).call(window,value)}},usMoney:function(v){v=(Math.round((v-0)*100))/100;v=(v==Math.floor(v))?v+".00":((v*10==Math.floor(v*10))?v+"0":v);v=String(v);var ps=v.split("."),whole=ps[0],sub=ps[1]?"."+ps[1]:".00",r=/(\d+)(\d{3})/;while(r.test(whole)){whole=whole.replace(r,"$1,$2")}v=whole+sub;if(v.charAt(0)=="-"){return"-$"+v.substr(1)}return"$"+v},date:function(v,format){if(!v){return""}if(!Ext.isDate(v)){v=new Date(Date.parse(v))}return v.dateFormat(format||"m/d/Y")},dateRenderer:function(format){return function(v){return Ext.util.Format.date(v,format)}},stripTags:function(v){return !v?v:String(v).replace(stripTagsRE,"")},stripScripts:function(v){return !v?v:String(v).replace(stripScriptsRe,"")},fileSize:function(size){if(size<1024){return size+" bytes"}else{if(size<1048576){return(Math.round(((size*10)/1024))/10)+" KB"}else{return(Math.round(((size*10)/1048576))/10)+" MB"}}},math:function(){var fns={};return function(v,a){if(!fns[a]){fns[a]=new Function("v","return v "+a+";")}return fns[a](v)}}(),round:function(value,precision){var result=Number(value);if(typeof precision=="number"){precision=Math.pow(10,precision);result=Math.round(value*precision)/precision}return result},number:function(v,format){if(!format){return v}v=Ext.num(v,NaN);if(isNaN(v)){return""}var comma=",",dec=".",i18n=false,neg=v<0;v=Math.abs(v);if(format.substr(format.length-2)=="/i"){format=format.substr(0,format.length-2);i18n=true;comma=".";dec=","}var hasComma=format.indexOf(comma)!=-1,psplit=(i18n?format.replace(/[^\d\,]/g,""):format.replace(/[^\d\.]/g,"")).split(dec);if(1<psplit.length){v=v.toFixed(psplit[1].length)}else{if(2<psplit.length){throw ("NumberFormatException: invalid format, formats should have no more than 1 period: "+format)}else{v=v.toFixed(0)}}var fnum=v.toString();psplit=fnum.split(".");if(hasComma){var cnum=psplit[0],parr=[],j=cnum.length,m=Math.floor(j/3),n=cnum.length%3||3,i;for(i=0;i<j;i+=n){if(i!=0){n=3}parr[parr.length]=cnum.substr(i,n);m-=1}fnum=parr.join(comma);if(psplit[1]){fnum+=dec+psplit[1]}}else{if(psplit[1]){fnum=psplit[0]+dec+psplit[1]}}return(neg?"-":"")+format.replace(/[\d,?\.?]+/,fnum)},numberRenderer:function(format){return function(v){return Ext.util.Format.number(v,format)}},plural:function(v,s,p){return v+" "+(v==1?s:(p?p:s+"s"))},nl2br:function(v){return Ext.isEmpty(v)?"":v.replace(nl2brRe,"<br/>")}}}();Ext.XTemplate=function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var z=this,k=z.html,r=/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,d=/^<tpl\b[^>]*?for="(.*?)"/,w=/^<tpl\b[^>]*?if="(.*?)"/,y=/^<tpl\b[^>]*?exec="(.*?)"/,t,q=0,l=[],p="values",x="parent",n="xindex",o="xcount",e="return ",c="with(values){ ";k=["<tpl>",k,"</tpl>"].join("");while((t=k.match(r))){var b=t[0].match(d),a=t[0].match(w),B=t[0].match(y),g=null,h=null,u=null,A=b&&b[1]?b[1]:"";if(a){g=a&&a[1]?a[1]:null;if(g){h=new Function(p,x,n,o,c+e+(Ext.util.Format.htmlDecode(g))+"; }")}}if(B){g=B&&B[1]?B[1]:null;if(g){u=new Function(p,x,n,o,c+(Ext.util.Format.htmlDecode(g))+"; }")}}if(A){switch(A){case".":A=new Function(p,x,c+e+p+"; }");break;case"..":A=new Function(p,x,c+e+x+"; }");break;default:A=new Function(p,x,c+e+A+"; }")}}l.push({id:q,target:A,exec:u,test:h,body:t[1]||""});k=k.replace(t[0],"{xtpl"+q+"}");++q}for(var v=l.length-1;v>=0;--v){z.compileTpl(l[v])}z.master=l[l.length-1];z.tpls=l};Ext.extend(Ext.XTemplate,Ext.Template,{re:/\{([\w-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\\]\s?[\d\.\+\-\*\\\(\)]+)?\}/g,codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,applySubTemplate:function(a,l,k,d,c){var h=this,g,n=h.tpls[a],m,b=[];if((n.test&&!n.test.call(h,l,k,d,c))||(n.exec&&n.exec.call(h,l,k,d,c))){return""}m=n.target?n.target.call(h,l,k):l;g=m.length;k=n.target?l:k;if(n.target&&Ext.isArray(m)){for(var e=0,g=m.length;e<g;e++){b[b.length]=n.compiled.call(h,m[e],k,e+1,g)}return b.join("")}return n.compiled.call(h,m,k,d,c)},compileTpl:function(tpl){var fm=Ext.util.Format,useF=this.disableFormats!==true,sep=Ext.isGecko?"+":",",body;function fn(m,name,format,args,math){if(name.substr(0,4)=="xtpl"){return"'"+sep+"this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount)"+sep+"'"}var v;if(name==="."){v="values"}else{if(name==="#"){v="xindex"}else{if(name.indexOf(".")!=-1){v=name}else{v="values['"+name+"']"}}}if(math){v="("+v+math+")"}if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="("+v+" === undefined ? '' : "}return"'"+sep+format+v+args+")"+sep+"'"}function codeFn(m,code){return"'"+sep+"("+code.replace(/\\'/g,"'")+")"+sep+"'"}if(Ext.isGecko){body="tpl.compiled = function(values, parent, xindex, xcount){ return '"+tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn)+"';};"}else{body=["tpl.compiled = function(values, parent, xindex, xcount){ return ['"];body.push(tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn));body.push("'].join('');};");body=body.join("")}eval(body);return this},applyTemplate:function(a){return this.master.compiled.call(this,a,{},1,1)},compile:function(){return this}});Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate;Ext.XTemplate.from=function(a){a=Ext.getDom(a);return new Ext.XTemplate(a.value||a.innerHTML)};Ext.util.CSS=function(){var d=null;var c=document;var b=/(-[a-z])/gi;var a=function(e,g){return g.charAt(1).toUpperCase()};return{createStyleSheet:function(i,m){var h;var g=c.getElementsByTagName("head")[0];var l=c.createElement("style");l.setAttribute("type","text/css");if(m){l.setAttribute("id",m)}if(Ext.isIE){g.appendChild(l);h=l.styleSheet;h.cssText=i}else{try{l.appendChild(c.createTextNode(i))}catch(k){l.cssText=i}g.appendChild(l);h=l.styleSheet?l.styleSheet:(l.sheet||c.styleSheets[c.styleSheets.length-1])}this.cacheStyleSheet(h);return h},removeStyleSheet:function(g){var e=c.getElementById(g);if(e){e.parentNode.removeChild(e)}},swapStyleSheet:function(h,e){this.removeStyleSheet(h);var g=c.createElement("link");g.setAttribute("rel","stylesheet");g.setAttribute("type","text/css");g.setAttribute("id",h);g.setAttribute("href",e);c.getElementsByTagName("head")[0].appendChild(g)},refreshCache:function(){return this.getRules(true)},cacheStyleSheet:function(h){if(!d){d={}}try{var k=h.cssRules||h.rules;for(var g=k.length-1;g>=0;--g){d[k[g].selectorText.toLowerCase()]=k[g]}}catch(i){}},getRules:function(h){if(d===null||h){d={};var l=c.styleSheets;for(var k=0,g=l.length;k<g;k++){try{this.cacheStyleSheet(l[k])}catch(m){}}}return d},getRule:function(e,h){var g=this.getRules(h);if(!Ext.isArray(e)){return g[e.toLowerCase()]}for(var k=0;k<e.length;k++){if(g[e[k]]){return g[e[k].toLowerCase()]}}return null},updateRule:function(e,k,h){if(!Ext.isArray(e)){var l=this.getRule(e);if(l){l.style[k.replace(b,a)]=h;return true}}else{for(var g=0;g<e.length;g++){if(this.updateRule(e[g],k,h)){return true}}}return false}}}();Ext.util.ClickRepeater=Ext.extend(Ext.util.Observable,{constructor:function(b,a){this.el=Ext.get(b);this.el.unselectable();Ext.apply(this,a);this.addEvents("mousedown","click","mouseup");if(!this.disabled){this.disabled=true;this.enable()}if(this.handler){this.on("click",this.handler,this.scope||this)}Ext.util.ClickRepeater.superclass.constructor.call(this)},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(a){if(a||!this.disabled){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){if(this.preventDefault){a.preventDefault()}if(this.stopDefault){a.stopEvent()}},destroy:function(){this.disable(true);Ext.destroy(this.el);this.purgeListeners()},handleDblClick:function(a){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.el.blur();if(this.pressClass){this.el.addClass(this.pressClass)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a);if(this.accelerate){this.delay=400}this.timer=this.click.defer(this.delay||this.interval,this,[a])},click:function(a){this.fireEvent("click",this,a);this.timer=this.click.defer(this.accelerate?this.easeOutExpo(this.mousedownTime.getElapsed(),400,-390,12000):this.interval,this,[a])},easeOutExpo:function(e,a,h,g){return(e==g)?a+h:h*(-Math.pow(2,-10*e/g)+1)+a},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressClass){this.el.addClass(this.pressClass)}this.click()},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeClass(this.pressClass);this.fireEvent("mouseup",this,a)}});Ext.KeyNav=function(b,a){this.el=Ext.get(b);Ext.apply(this,a);if(!this.disabled){this.disabled=true;this.enable()}};Ext.KeyNav.prototype={disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,relay:function(c){var a=c.getKey(),b=this.keyToHandler[a];if(b&&this[b]){if(this.doRelay(c,this[b],b)!==true){c[this.defaultEventAction]()}}},doRelay:function(c,b,a){return b.call(this.scope||this,c,a)},enter:false,left:false,right:false,up:false,down:false,tab:false,esc:false,pageUp:false,pageDown:false,del:false,home:false,end:false,keyToHandler:{37:"left",39:"right",38:"up",40:"down",33:"pageUp",34:"pageDown",46:"del",36:"home",35:"end",13:"enter",27:"esc",9:"tab"},stopKeyUp:function(b){var a=b.getKey();if(a>=37&&a<=40){b.stopEvent()}},destroy:function(){this.disable()},enable:function(){if(this.disabled){if(Ext.isSafari2){this.el.on("keyup",this.stopKeyUp,this)}this.el.on(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=false}},disable:function(){if(!this.disabled){if(Ext.isSafari2){this.el.un("keyup",this.stopKeyUp,this)}this.el.un(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=true}},setDisabled:function(a){this[a?"disable":"enable"]()},isKeydown:function(){return this.forceKeyDown||Ext.EventManager.useKeydown}};Ext.KeyMap=function(c,b,a){this.el=Ext.get(c);this.eventName=a||"keydown";this.bindings=[];if(b){this.addBinding(b)}this.enable()};Ext.KeyMap.prototype={stopEvent:false,addBinding:function(b){if(Ext.isArray(b)){Ext.each(b,function(m){this.addBinding(m)},this);return}var k=b.key,g=b.fn||b.handler,l=b.scope;if(b.stopEvent){this.stopEvent=b.stopEvent}if(typeof k=="string"){var h=[];var e=k.toUpperCase();for(var c=0,d=e.length;c<d;c++){h.push(e.charCodeAt(c))}k=h}var a=Ext.isArray(k);var i=function(p){if(this.checkModifiers(b,p)){var n=p.getKey();if(a){for(var o=0,m=k.length;o<m;o++){if(k[o]==n){if(this.stopEvent){p.stopEvent()}g.call(l||window,n,p);return}}}else{if(n==k){if(this.stopEvent){p.stopEvent()}g.call(l||window,n,p)}}}};this.bindings.push(i)},checkModifiers:function(b,h){var k,d,g=["shift","ctrl","alt"];for(var c=0,a=g.length;c<a;++c){d=g[c];k=b[d];if(!(k===undefined||(k===h[d+"Key"]))){return false}}return true},on:function(b,d,c){var h,a,e,g;if(typeof b=="object"&&!Ext.isArray(b)){h=b.key;a=b.shift;e=b.ctrl;g=b.alt}else{h=b}this.addBinding({key:h,shift:a,ctrl:e,alt:g,fn:d,scope:c})},handleKeyDown:function(g){if(this.enabled){var c=this.bindings;for(var d=0,a=c.length;d<a;d++){c[d].call(this,g)}}},isEnabled:function(){return this.enabled},enable:function(){if(!this.enabled){this.el.on(this.eventName,this.handleKeyDown,this);this.enabled=true}},disable:function(){if(this.enabled){this.el.removeListener(this.eventName,this.handleKeyDown,this);this.enabled=false}},setDisabled:function(a){this[a?"disable":"enable"]()}};Ext.util.TextMetrics=function(){var a;return{measure:function(b,c,d){if(!a){a=Ext.util.TextMetrics.Instance(b,d)}a.bind(b);a.setFixedWidth(d||"auto");return a.getSize(c)},createInstance:function(b,c){return Ext.util.TextMetrics.Instance(b,c)}}}();Ext.util.TextMetrics.Instance=function(b,d){var c=new Ext.Element(document.createElement("div"));document.body.appendChild(c.dom);c.position("absolute");c.setLeftTop(-1000,-1000);c.hide();if(d){c.setWidth(d)}var a={getSize:function(g){c.update(g);var e=c.getSize();c.update("");return e},bind:function(e){c.setStyle(Ext.fly(e).getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(e){c.setWidth(e)},getWidth:function(e){c.dom.style.width="auto";return this.getSize(e).width},getHeight:function(e){return this.getSize(e).height}};a.bind(b);return a};Ext.Element.addMethods({getTextWidth:function(c,b,a){return(Ext.util.TextMetrics.measure(this.dom,Ext.value(c,this.dom.innerHTML,true)).width).constrain(b||0,a||1000000)}});Ext.util.Cookies={set:function(c,e){var a=arguments;var i=arguments.length;var b=(i>2)?a[2]:null;var h=(i>3)?a[3]:"/";var d=(i>4)?a[4]:null;var g=(i>5)?a[5]:false;document.cookie=c+"="+escape(e)+((b===null)?"":("; expires="+b.toGMTString()))+((h===null)?"":("; path="+h))+((d===null)?"":("; domain="+d))+((g===true)?"; secure":"")},get:function(d){var b=d+"=";var g=b.length;var a=document.cookie.length;var e=0;var c=0;while(e<a){c=e+g;if(document.cookie.substring(e,c)==b){return Ext.util.Cookies.getCookieVal(c)}e=document.cookie.indexOf(" ",e)+1;if(e===0){break}}return null},clear:function(a){if(Ext.util.Cookies.get(a)){document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT"}},getCookieVal:function(b){var a=document.cookie.indexOf(";",b);if(a==-1){a=document.cookie.length}return unescape(document.cookie.substring(b,a))}};Ext.handleError=function(a){throw a};Ext.Error=function(a){this.message=(this.lang[a])?this.lang[a]:a};Ext.Error.prototype=new Error();Ext.apply(Ext.Error.prototype,{lang:{},name:"Ext.Error",getName:function(){return this.name},getMessage:function(){return this.message},toJson:function(){return Ext.encode(this)}});Ext.ComponentMgr=function(){var c=new Ext.util.MixedCollection();var b={};var a={};return{register:function(d){c.add(d)},unregister:function(d){c.remove(d)},get:function(d){return c.get(d)},onAvailable:function(g,e,d){c.on("add",function(h,i){if(i.id==g){e.call(d||i,i);c.un("add",e,d)}})},all:c,types:b,ptypes:a,isRegistered:function(d){return b[d]!==undefined},isPluginRegistered:function(d){return a[d]!==undefined},registerType:function(e,d){b[e]=d;d.xtype=e},create:function(d,e){return d.render?d:new b[d.xtype||e](d)},registerPlugin:function(e,d){a[e]=d;d.ptype=e},createPlugin:function(e,g){var d=a[e.ptype||g];if(d.init){return d}else{return new d(e)}}}}();Ext.reg=Ext.ComponentMgr.registerType;Ext.preg=Ext.ComponentMgr.registerPlugin;Ext.create=Ext.ComponentMgr.create;Ext.Component=function(b){b=b||{};if(b.initialConfig){if(b.isAction){this.baseAction=b}b=b.initialConfig}else{if(b.tagName||b.dom||Ext.isString(b)){b={applyTo:b,id:b.id||b}}}this.initialConfig=b;Ext.apply(this,b);this.addEvents("added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","beforedestroy","destroy","beforestaterestore","staterestore","beforestatesave","statesave");this.getId();Ext.ComponentMgr.register(this);Ext.Component.superclass.constructor.call(this);if(this.baseAction){this.baseAction.addComponent(this)}this.initComponent();if(this.plugins){if(Ext.isArray(this.plugins)){for(var c=0,a=this.plugins.length;c<a;c++){this.plugins[c]=this.initPlugin(this.plugins[c])}}else{this.plugins=this.initPlugin(this.plugins)}}if(this.stateful!==false){this.initState()}if(this.applyTo){this.applyToMarkup(this.applyTo);delete this.applyTo}else{if(this.renderTo){this.render(this.renderTo);delete this.renderTo}}};Ext.Component.AUTO_ID=1000;Ext.extend(Ext.Component,Ext.util.Observable,{disabled:false,hidden:false,autoEl:"div",disabledClass:"x-item-disabled",allowDomMove:true,autoShow:false,hideMode:"display",hideParent:false,rendered:false,tplWriteMode:"overwrite",bubbleEvents:[],ctype:"Ext.Component",actionMode:"el",getActionEl:function(){return this[this.actionMode]},initPlugin:function(a){if(a.ptype&&!Ext.isFunction(a.init)){a=Ext.ComponentMgr.createPlugin(a)}else{if(Ext.isString(a)){a=Ext.ComponentMgr.createPlugin({ptype:a})}}a.init(this);return a},initComponent:function(){if(this.listeners){this.on(this.listeners);delete this.listeners}this.enableBubble(this.bubbleEvents)},render:function(b,a){if(!this.rendered&&this.fireEvent("beforerender",this)!==false){if(!b&&this.el){this.el=Ext.get(this.el);b=this.el.dom.parentNode;this.allowDomMove=false}this.container=Ext.get(b);if(this.ctCls){this.container.addClass(this.ctCls)}this.rendered=true;if(a!==undefined){if(Ext.isNumber(a)){a=this.container.dom.childNodes[a]}else{a=Ext.getDom(a)}}this.onRender(this.container,a||null);if(this.autoShow){this.el.removeClass(["x-hidden","x-hide-"+this.hideMode])}if(this.cls){this.el.addClass(this.cls);delete this.cls}if(this.style){this.el.applyStyles(this.style);delete this.style}if(this.overCls){this.el.addClassOnOver(this.overCls)}this.fireEvent("render",this);var c=this.getContentTarget();if(this.html){c.update(Ext.DomHelper.markup(this.html));delete this.html}if(this.contentEl){var d=Ext.getDom(this.contentEl);Ext.fly(d).removeClass(["x-hidden","x-hide-display"]);c.appendChild(d)}if(this.tpl){if(!this.tpl.compile){this.tpl=new Ext.XTemplate(this.tpl)}if(this.data){this.tpl[this.tplWriteMode](c,this.data);delete this.data}}this.afterRender(this.container);if(this.hidden){this.doHide()}if(this.disabled){this.disable(true)}if(this.stateful!==false){this.initStateEvents()}this.fireEvent("afterrender",this)}return this},update:function(b,d,a){var c=this.getContentTarget();if(this.tpl&&typeof b!=="string"){this.tpl[this.tplWriteMode](c,b||{})}else{var e=Ext.isObject(b)?Ext.DomHelper.markup(b):b;c.update(e,d,a)}},onAdded:function(a,b){this.ownerCt=a;this.initRef();this.fireEvent("added",this,a,b)},onRemoved:function(){this.removeRef();this.fireEvent("removed",this,this.ownerCt);delete this.ownerCt},initRef:function(){if(this.ref&&!this.refOwner){var d=this.ref.split("/"),c=d.length,b=0,a=this;while(a&&b<c){a=a.ownerCt;++b}if(a){a[this.refName=d[--b]]=this;this.refOwner=a}}},removeRef:function(){if(this.refOwner&&this.refName){delete this.refOwner[this.refName];delete this.refOwner}},initState:function(){if(Ext.state.Manager){var b=this.getStateId();if(b){var a=Ext.state.Manager.get(b);if(a){if(this.fireEvent("beforestaterestore",this,a)!==false){this.applyState(Ext.apply({},a));this.fireEvent("staterestore",this,a)}}}}},getStateId:function(){return this.stateId||((/^(ext-comp-|ext-gen)/).test(String(this.id))?null:this.id)},initStateEvents:function(){if(this.stateEvents){for(var a=0,b;b=this.stateEvents[a];a++){this.on(b,this.saveState,this,{delay:100})}}},applyState:function(a){if(a){Ext.apply(this,a)}},getState:function(){return null},saveState:function(){if(Ext.state.Manager&&this.stateful!==false){var b=this.getStateId();if(b){var a=this.getState();if(this.fireEvent("beforestatesave",this,a)!==false){Ext.state.Manager.set(b,a);this.fireEvent("statesave",this,a)}}}},applyToMarkup:function(a){this.allowDomMove=false;this.el=Ext.get(a);this.render(this.el.dom.parentNode)},addClass:function(a){if(this.el){this.el.addClass(a)}else{this.cls=this.cls?this.cls+" "+a:a}return this},removeClass:function(a){if(this.el){this.el.removeClass(a)}else{if(this.cls){this.cls=this.cls.split(" ").remove(a).join(" ")}}return this},onRender:function(b,a){if(!this.el&&this.autoEl){if(Ext.isString(this.autoEl)){this.el=document.createElement(this.autoEl)}else{var c=document.createElement("div");Ext.DomHelper.overwrite(c,this.autoEl);this.el=c.firstChild}if(!this.el.id){this.el.id=this.getId()}}if(this.el){this.el=Ext.get(this.el);if(this.allowDomMove!==false){b.dom.insertBefore(this.el.dom,a);if(c){Ext.removeNode(c);c=null}}}},getAutoCreate:function(){var a=Ext.isObject(this.autoCreate)?this.autoCreate:Ext.apply({},this.defaultAutoCreate);if(this.id&&!a.id){a.id=this.id}return a},afterRender:Ext.emptyFn,destroy:function(){if(!this.isDestroyed){if(this.fireEvent("beforedestroy",this)!==false){this.destroying=true;this.beforeDestroy();if(this.ownerCt&&this.ownerCt.remove){this.ownerCt.remove(this,false)}if(this.rendered){this.el.remove();if(this.actionMode=="container"||this.removeMode=="container"){this.container.remove()}}if(this.focusTask&&this.focusTask.cancel){this.focusTask.cancel()}this.onDestroy();Ext.ComponentMgr.unregister(this);this.fireEvent("destroy",this);this.purgeListeners();this.destroying=false;this.isDestroyed=true}}},deleteMembers:function(){var b=arguments;for(var c=0,a=b.length;c<a;++c){delete this[b[c]]}},beforeDestroy:Ext.emptyFn,onDestroy:Ext.emptyFn,getEl:function(){return this.el},getContentTarget:function(){return this.el},getId:function(){return this.id||(this.id="ext-comp-"+(++Ext.Component.AUTO_ID))},getItemId:function(){return this.itemId||this.getId()},focus:function(b,a){if(a){this.focusTask=new Ext.util.DelayedTask(this.focus,this,[b,false]);this.focusTask.delay(Ext.isNumber(a)?a:10);return this}if(this.rendered&&!this.isDestroyed){this.el.focus();if(b===true){this.el.dom.select()}}return this},blur:function(){if(this.rendered){this.el.blur()}return this},disable:function(a){if(this.rendered){this.onDisable()}this.disabled=true;if(a!==true){this.fireEvent("disable",this)}return this},onDisable:function(){this.getActionEl().addClass(this.disabledClass);this.el.dom.disabled=true},enable:function(){if(this.rendered){this.onEnable()}this.disabled=false;this.fireEvent("enable",this);return this},onEnable:function(){this.getActionEl().removeClass(this.disabledClass);this.el.dom.disabled=false},setDisabled:function(a){return this[a?"disable":"enable"]()},show:function(){if(this.fireEvent("beforeshow",this)!==false){this.hidden=false;if(this.autoRender){this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender)}if(this.rendered){this.onShow()}this.fireEvent("show",this)}return this},onShow:function(){this.getVisibilityEl().removeClass("x-hide-"+this.hideMode)},hide:function(){if(this.fireEvent("beforehide",this)!==false){this.doHide();this.fireEvent("hide",this)}return this},doHide:function(){this.hidden=true;if(this.rendered){this.onHide()}},onHide:function(){this.getVisibilityEl().addClass("x-hide-"+this.hideMode)},getVisibilityEl:function(){return this.hideParent?this.container:this.getActionEl()},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(){return this.rendered&&this.getVisibilityEl().isVisible()},cloneConfig:function(b){b=b||{};var c=b.id||Ext.id();var a=Ext.applyIf(b,this.initialConfig);a.id=c;return new this.constructor(a)},getXType:function(){return this.constructor.xtype},isXType:function(b,a){if(Ext.isFunction(b)){b=b.xtype}else{if(Ext.isObject(b)){b=b.constructor.xtype}}return !a?("/"+this.getXTypes()+"/").indexOf("/"+b+"/")!=-1:this.constructor.xtype==b},getXTypes:function(){var a=this.constructor;if(!a.xtypes){var d=[],b=this;while(b&&b.constructor.xtype){d.unshift(b.constructor.xtype);b=b.constructor.superclass}a.xtypeChain=d;a.xtypes=d.join("/")}return a.xtypes},findParentBy:function(a){for(var b=this.ownerCt;(b!=null)&&!a(b,this);b=b.ownerCt){}return b||null},findParentByType:function(b,a){return this.findParentBy(function(d){return d.isXType(b,a)})},bubble:function(c,b,a){var d=this;while(d){if(c.apply(b||d,a||[d])===false){break}d=d.ownerCt}return this},getPositionEl:function(){return this.positionEl||this.el},purgeListeners:function(){Ext.Component.superclass.purgeListeners.call(this);if(this.mons){this.on("beforedestroy",this.clearMons,this,{single:true})}},clearMons:function(){Ext.each(this.mons,function(a){a.item.un(a.ename,a.fn,a.scope)},this);this.mons=[]},createMons:function(){if(!this.mons){this.mons=[];this.on("beforedestroy",this.clearMons,this,{single:true})}},mon:function(g,b,d,c,a){this.createMons();if(Ext.isObject(b)){var k=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/;var i=b;for(var h in i){if(k.test(h)){continue}if(Ext.isFunction(i[h])){this.mons.push({item:g,ename:h,fn:i[h],scope:i.scope});g.on(h,i[h],i.scope,i)}else{this.mons.push({item:g,ename:h,fn:i[h],scope:i.scope});g.on(h,i[h])}}return}this.mons.push({item:g,ename:b,fn:d,scope:c});g.on(b,d,c,a)},mun:function(h,c,g,e){var k,d;this.createMons();for(var b=0,a=this.mons.length;b<a;++b){d=this.mons[b];if(h===d.item&&c==d.ename&&g===d.fn&&e===d.scope){this.mons.splice(b,1);h.un(c,g,e);k=true;break}}return k},nextSibling:function(){if(this.ownerCt){var a=this.ownerCt.items.indexOf(this);if(a!=-1&&a+1<this.ownerCt.items.getCount()){return this.ownerCt.items.itemAt(a+1)}}return null},previousSibling:function(){if(this.ownerCt){var a=this.ownerCt.items.indexOf(this);if(a>0){return this.ownerCt.items.itemAt(a-1)}}return null},getBubbleTarget:function(){return this.ownerCt}});Ext.reg("component",Ext.Component);Ext.Action=Ext.extend(Object,{constructor:function(a){this.initialConfig=a;this.itemId=a.itemId=(a.itemId||a.id||Ext.id());this.items=[]},isAction:true,setText:function(a){this.initialConfig.text=a;this.callEach("setText",[a])},getText:function(){return this.initialConfig.text},setIconClass:function(a){this.initialConfig.iconCls=a;this.callEach("setIconClass",[a])},getIconClass:function(){return this.initialConfig.iconCls},setDisabled:function(a){this.initialConfig.disabled=a;this.callEach("setDisabled",[a])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(a){this.initialConfig.hidden=a;this.callEach("setVisible",[!a])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(b,a){this.initialConfig.handler=b;this.initialConfig.scope=a;this.callEach("setHandler",[b,a])},each:function(b,a){Ext.each(this.items,b,a)},callEach:function(e,b){var d=this.items;for(var c=0,a=d.length;c<a;c++){d[c][e].apply(d[c],b)}},addComponent:function(a){this.items.push(a);a.on("destroy",this.removeComponent,this)},removeComponent:function(a){this.items.remove(a)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||window,arguments)}});(function(){Ext.Layer=function(d,c){d=d||{};var e=Ext.DomHelper,h=d.parentEl,g=h?Ext.getDom(h):document.body;if(c){this.dom=Ext.getDom(c)}if(!this.dom){var i=d.dh||{tag:"div",cls:"x-layer"};this.dom=e.append(g,i)}if(d.cls){this.addClass(d.cls)}this.constrain=d.constrain!==false;this.setVisibilityMode(Ext.Element.VISIBILITY);if(d.id){this.id=this.dom.id=d.id}else{this.id=Ext.id(this.dom)}this.zindex=d.zindex||this.getZIndex();this.position("absolute",this.zindex);if(d.shadow){this.shadowOffset=d.shadowOffset||4;this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:d.shadow})}else{this.shadowOffset=0}this.useShim=d.shim!==false&&Ext.useShims;this.useDisplay=d.useDisplay;this.hide()};var a=Ext.Element.prototype;var b=[];Ext.extend(Ext.Layer,Ext.Element,{getZIndex:function(){return this.zindex||parseInt((this.getShim()||this).getStyle("z-index"),10)||11000},getShim:function(){if(!this.useShim){return null}if(this.shim){return this.shim}var d=b.shift();if(!d){d=this.createShim();d.enableDisplayMode("block");d.dom.style.display="none";d.dom.style.visibility="visible"}var c=this.dom.parentNode;if(d.dom.parentNode!=c){c.insertBefore(d.dom,this.dom)}d.setStyle("z-index",this.getZIndex()-2);this.shim=d;return d},hideShim:function(){if(this.shim){this.shim.setDisplayed(false);b.push(this.shim);delete this.shim}},disableShadow:function(){if(this.shadow){this.shadowDisabled=true;this.shadow.hide();this.lastShadowOffset=this.shadowOffset;this.shadowOffset=0}},enableShadow:function(c){if(this.shadow){this.shadowDisabled=false;this.shadowOffset=this.lastShadowOffset;delete this.lastShadowOffset;if(c){this.sync(true)}}},sync:function(d){var o=this.shadow;if(!this.updating&&this.isVisible()&&(o||this.useShim)){var i=this.getShim(),n=this.getWidth(),k=this.getHeight(),e=this.getLeft(true),p=this.getTop(true);if(o&&!this.shadowDisabled){if(d&&!o.isVisible()){o.show(this)}else{o.realign(e,p,n,k)}if(i){if(d){i.show()}var m=o.el.getXY(),g=i.dom.style,c=o.el.getSize();g.left=(m[0])+"px";g.top=(m[1])+"px";g.width=(c.width)+"px";g.height=(c.height)+"px"}}else{if(i){if(d){i.show()}i.setSize(n,k);i.setLeftTop(e,p)}}}},destroy:function(){this.hideShim();if(this.shadow){this.shadow.hide()}this.removeAllListeners();Ext.removeNode(this.dom);delete this.dom},remove:function(){this.destroy()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(c){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var k=Ext.lib.Dom.getViewWidth(),d=Ext.lib.Dom.getViewHeight();var p=Ext.getDoc().getScroll();var o=this.getXY();var l=o[0],i=o[1];var c=this.shadowOffset;var m=this.dom.offsetWidth+c,e=this.dom.offsetHeight+c;var g=false;if((l+m)>k+p.left){l=k-m-c;g=true}if((i+e)>d+p.top){i=d-e-c;g=true}if(l<p.left){l=p.left;g=true}if(i<p.top){i=p.top;g=true}if(g){if(this.avoidY){var n=this.avoidY;if(i<=n&&(i+e)>=n){i=n-e-5}}o=[l,i];this.storeXY(o);a.setXY.call(this,o);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},isVisible:function(){return this.visible},showAction:function(){this.visible=true;if(this.useDisplay===true){this.setDisplayed("")}else{if(this.lastXY){a.setXY.call(this,this.lastXY)}else{if(this.lastLT){a.setLeftTop.call(this,this.lastLT[0],this.lastLT[1])}}}},hideAction:function(){this.visible=false;if(this.useDisplay===true){this.setDisplayed(false)}else{this.setLeftTop(-10000,-10000)}},setVisible:function(i,h,l,m,k){if(i){this.showAction()}if(h&&i){var g=function(){this.sync(true);if(m){m()}}.createDelegate(this);a.setVisible.call(this,true,true,l,g,k)}else{if(!i){this.hideUnders(true)}var g=m;if(h){g=function(){this.hideAction();if(m){m()}}.createDelegate(this)}a.setVisible.call(this,i,h,l,g,k);if(i){this.sync(true)}else{if(!h){this.hideAction()}}}return this},storeXY:function(c){delete this.lastLT;this.lastXY=c},storeLeftTop:function(d,c){delete this.lastXY;this.lastLT=[d,c]},beforeFx:function(){this.beforeAction();return Ext.Layer.superclass.beforeFx.apply(this,arguments)},afterFx:function(){Ext.Layer.superclass.afterFx.apply(this,arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(c){this.storeLeftTop(c,this.getTop(true));a.setLeft.apply(this,arguments);this.sync();return this},setTop:function(c){this.storeLeftTop(this.getLeft(true),c);a.setTop.apply(this,arguments);this.sync();return this},setLeftTop:function(d,c){this.storeLeftTop(d,c);a.setLeftTop.apply(this,arguments);this.sync();return this},setXY:function(k,h,l,m,i){this.fixDisplay();this.beforeAction();this.storeXY(k);var g=this.createCB(m);a.setXY.call(this,k,h,l,g,i);if(!h){g()}return this},createCB:function(e){var d=this;return function(){d.constrainXY();d.sync(true);if(e){e()}}},setX:function(g,h,k,l,i){this.setXY([g,this.getY()],h,k,l,i);return this},setY:function(l,g,i,k,h){this.setXY([this.getX(),l],g,i,k,h);return this},setSize:function(k,l,i,n,o,m){this.beforeAction();var g=this.createCB(o);a.setSize.call(this,k,l,i,n,g,m);if(!i){g()}return this},setWidth:function(i,h,l,m,k){this.beforeAction();var g=this.createCB(m);a.setWidth.call(this,i,h,l,g,k);if(!h){g()}return this},setHeight:function(k,i,m,n,l){this.beforeAction();var g=this.createCB(n);a.setHeight.call(this,k,i,m,g,l);if(!i){g()}return this},setBounds:function(p,n,q,i,o,l,m,k){this.beforeAction();var g=this.createCB(m);if(!o){this.storeXY([p,n]);a.setXY.call(this,[p,n]);a.setSize.call(this,q,i,o,l,g,k);g()}else{a.setBounds.call(this,p,n,q,i,o,l,g,k)}return this},setZIndex:function(c){this.zindex=c;this.setStyle("z-index",c+2);if(this.shadow){this.shadow.setZIndex(c+1)}if(this.shim){this.shim.setStyle("z-index",c)}return this}})})();Ext.Shadow=function(d){Ext.apply(this,d);if(typeof this.mode!="string"){this.mode=this.defaultMode}var e=this.offset,c={h:0},b=Math.floor(this.offset/2);switch(this.mode.toLowerCase()){case"drop":c.w=0;c.l=c.t=e;c.t-=1;if(Ext.isIE){c.l-=this.offset+b;c.t-=this.offset+b;c.w-=b;c.h-=b;c.t+=1}break;case"sides":c.w=(e*2);c.l=-e;c.t=e-1;if(Ext.isIE){c.l-=(this.offset-b);c.t-=this.offset+b;c.l+=1;c.w-=(this.offset-b)*2;c.w-=b+1;c.h-=1}break;case"frame":c.w=c.h=(e*2);c.l=c.t=-e;c.t+=1;c.h-=2;if(Ext.isIE){c.l-=(this.offset-b);c.t-=(this.offset-b);c.l+=1;c.w-=(this.offset+b+1);c.h-=(this.offset+b);c.h+=1}break}this.adjusts=c};Ext.Shadow.prototype={offset:4,defaultMode:"drop",show:function(a){a=Ext.get(a);if(!this.el){this.el=Ext.Shadow.Pool.pull();if(this.el.dom.nextSibling!=a.dom){this.el.insertBefore(a)}}this.el.setStyle("z-index",this.zIndex||parseInt(a.getStyle("z-index"),10)-1);if(Ext.isIE){this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=50) progid:DXImageTransform.Microsoft.Blur(pixelradius="+(this.offset)+")"}this.realign(a.getLeft(true),a.getTop(true),a.getWidth(),a.getHeight());this.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(b,u,r,g){if(!this.el){return}var o=this.adjusts,m=this.el.dom,v=m.style,i=0,q=(r+o.w),e=(g+o.h),k=q+"px",p=e+"px",n,c;v.left=(b+o.l)+"px";v.top=(u+o.t)+"px";if(v.width!=k||v.height!=p){v.width=k;v.height=p;if(!Ext.isIE){n=m.childNodes;c=Math.max(0,(q-12))+"px";n[0].childNodes[1].style.width=c;n[1].childNodes[1].style.width=c;n[2].childNodes[1].style.width=c;n[1].style.height=Math.max(0,(e-12))+"px"}}},hide:function(){if(this.el){this.el.dom.style.display="none";Ext.Shadow.Pool.push(this.el);delete this.el}},setZIndex:function(a){this.zIndex=a;if(this.el){this.el.setStyle("z-index",a)}}};Ext.Shadow.Pool=function(){var b=[],a=Ext.isIE?'<div class="x-ie-shadow"></div>':'<div class="x-shadow"><div class="xst"><div class="xstl"></div><div class="xstc"></div><div class="xstr"></div></div><div class="xsc"><div class="xsml"></div><div class="xsmc"></div><div class="xsmr"></div></div><div class="xsb"><div class="xsbl"></div><div class="xsbc"></div><div class="xsbr"></div></div></div>';return{pull:function(){var c=b.shift();if(!c){c=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,a));c.autoBoxAdjust=false}return c},push:function(c){b.push(c)}}}();Ext.BoxComponent=Ext.extend(Ext.Component,{initComponent:function(){Ext.BoxComponent.superclass.initComponent.call(this);this.addEvents("resize","move")},boxReady:false,deferHeight:false,setSize:function(b,d){if(typeof b=="object"){d=b.height;b=b.width}if(Ext.isDefined(b)&&Ext.isDefined(this.boxMinWidth)&&(b<this.boxMinWidth)){b=this.boxMinWidth}if(Ext.isDefined(d)&&Ext.isDefined(this.boxMinHeight)&&(d<this.boxMinHeight)){d=this.boxMinHeight}if(Ext.isDefined(b)&&Ext.isDefined(this.boxMaxWidth)&&(b>this.boxMaxWidth)){b=this.boxMaxWidth}if(Ext.isDefined(d)&&Ext.isDefined(this.boxMaxHeight)&&(d>this.boxMaxHeight)){d=this.boxMaxHeight}if(!this.boxReady){this.width=b;this.height=d;return this}if(this.cacheSizes!==false&&this.lastSize&&this.lastSize.width==b&&this.lastSize.height==d){return this}this.lastSize={width:b,height:d};var c=this.adjustSize(b,d),g=c.width,a=c.height,e;if(g!==undefined||a!==undefined){e=this.getResizeEl();if(!this.deferHeight&&g!==undefined&&a!==undefined){e.setSize(g,a)}else{if(!this.deferHeight&&a!==undefined){e.setHeight(a)}else{if(g!==undefined){e.setWidth(g)}}}this.onResize(g,a,b,d);this.fireEvent("resize",this,g,a,b,d)}return this},setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(undefined,a)},getSize:function(){return this.getResizeEl().getSize()},getWidth:function(){return this.getResizeEl().getWidth()},getHeight:function(){return this.getResizeEl().getHeight()},getOuterSize:function(){var a=this.getResizeEl();return{width:a.getWidth()+a.getMargins("lr"),height:a.getHeight()+a.getMargins("tb")}},getPosition:function(a){var b=this.getPositionEl();if(a===true){return[b.getLeft(true),b.getTop(true)]}return this.xy||b.getXY()},getBox:function(a){var c=this.getPosition(a);var b=this.getSize();b.x=c[0];b.y=c[1];return b},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},getResizeEl:function(){return this.resizeEl||this.el},setAutoScroll:function(a){if(this.rendered){this.getContentTarget().setOverflow(a?"auto":"")}this.autoScroll=a;return this},setPosition:function(a,g){if(a&&typeof a[1]=="number"){g=a[1];a=a[0]}this.x=a;this.y=g;if(!this.boxReady){return this}var b=this.adjustPosition(a,g);var e=b.x,d=b.y;var c=this.getPositionEl();if(e!==undefined||d!==undefined){if(e!==undefined&&d!==undefined){c.setLeftTop(e,d)}else{if(e!==undefined){c.setLeft(e)}else{if(d!==undefined){c.setTop(d)}}}this.onPosition(e,d);this.fireEvent("move",this,e,d)}return this},setPagePosition:function(a,c){if(a&&typeof a[1]=="number"){c=a[1];a=a[0]}this.pageX=a;this.pageY=c;if(!this.boxReady){return}if(a===undefined||c===undefined){return}var b=this.getPositionEl().translatePoints(a,c);this.setPosition(b.left,b.top);return this},afterRender:function(){Ext.BoxComponent.superclass.afterRender.call(this);if(this.resizeEl){this.resizeEl=Ext.get(this.resizeEl)}if(this.positionEl){this.positionEl=Ext.get(this.positionEl)}this.boxReady=true;Ext.isDefined(this.autoScroll)&&this.setAutoScroll(this.autoScroll);this.setSize(this.width,this.height);if(this.x||this.y){this.setPosition(this.x,this.y)}else{if(this.pageX||this.pageY){this.setPagePosition(this.pageX,this.pageY)}}},syncSize:function(){delete this.lastSize;this.setSize(this.autoWidth?undefined:this.getResizeEl().getWidth(),this.autoHeight?undefined:this.getResizeEl().getHeight());return this},onResize:function(d,b,a,c){},onPosition:function(a,b){},adjustSize:function(a,b){if(this.autoWidth){a="auto"}if(this.autoHeight){b="auto"}return{width:a,height:b}},adjustPosition:function(a,b){return{x:a,y:b}}});Ext.reg("box",Ext.BoxComponent);Ext.Spacer=Ext.extend(Ext.BoxComponent,{autoEl:"div"});Ext.reg("spacer",Ext.Spacer);Ext.SplitBar=function(c,e,b,d,a){this.el=Ext.get(c,true);this.el.dom.unselectable="on";this.resizingEl=Ext.get(e,true);this.orientation=b||Ext.SplitBar.HORIZONTAL;this.minSize=0;this.maxSize=2000;this.animate=false;this.useShim=false;this.shim=null;if(!a){this.proxy=Ext.SplitBar.createProxy(this.orientation)}else{this.proxy=Ext.get(a).dom}this.dd=new Ext.dd.DDProxy(this.el.dom.id,"XSplitBars",{dragElId:this.proxy.id});this.dd.b4StartDrag=this.onStartProxyDrag.createDelegate(this);this.dd.endDrag=this.onEndProxyDrag.createDelegate(this);this.dragSpecs={};this.adapter=new Ext.SplitBar.BasicLayoutAdapter();this.adapter.init(this);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.placement=d||(this.el.getX()>this.resizingEl.getX()?Ext.SplitBar.LEFT:Ext.SplitBar.RIGHT);this.el.addClass("x-splitbar-h")}else{this.placement=d||(this.el.getY()>this.resizingEl.getY()?Ext.SplitBar.TOP:Ext.SplitBar.BOTTOM);this.el.addClass("x-splitbar-v")}this.addEvents("resize","moved","beforeresize","beforeapply");Ext.SplitBar.superclass.constructor.call(this)};Ext.extend(Ext.SplitBar,Ext.util.Observable,{onStartProxyDrag:function(a,e){this.fireEvent("beforeresize",this);this.overlay=Ext.DomHelper.append(document.body,{cls:"x-drag-overlay",html:"&#160;"},true);this.overlay.unselectable();this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();Ext.get(this.proxy).setDisplayed("block");var c=this.adapter.getElementSize(this);this.activeMinSize=this.getMinimumSize();this.activeMaxSize=this.getMaximumSize();var d=c-this.activeMinSize;var b=Math.max(this.activeMaxSize-c,0);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.dd.resetConstraints();this.dd.setXConstraint(this.placement==Ext.SplitBar.LEFT?d:b,this.placement==Ext.SplitBar.LEFT?b:d,this.tickSize);this.dd.setYConstraint(0,0)}else{this.dd.resetConstraints();this.dd.setXConstraint(0,0);this.dd.setYConstraint(this.placement==Ext.SplitBar.TOP?d:b,this.placement==Ext.SplitBar.TOP?b:d,this.tickSize)}this.dragSpecs.startSize=c;this.dragSpecs.startPoint=[a,e];Ext.dd.DDProxy.prototype.b4StartDrag.call(this.dd,a,e)},onEndProxyDrag:function(c){Ext.get(this.proxy).setDisplayed(false);var b=Ext.lib.Event.getXY(c);if(this.overlay){Ext.destroy(this.overlay);delete this.overlay}var a;if(this.orientation==Ext.SplitBar.HORIZONTAL){a=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.LEFT?b[0]-this.dragSpecs.startPoint[0]:this.dragSpecs.startPoint[0]-b[0])}else{a=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.TOP?b[1]-this.dragSpecs.startPoint[1]:this.dragSpecs.startPoint[1]-b[1])}a=Math.min(Math.max(a,this.activeMinSize),this.activeMaxSize);if(a!=this.dragSpecs.startSize){if(this.fireEvent("beforeapply",this,a)!==false){this.adapter.setElementSize(this,a);this.fireEvent("moved",this,a);this.fireEvent("resize",this,a)}}},getAdapter:function(){return this.adapter},setAdapter:function(a){this.adapter=a;this.adapter.init(this)},getMinimumSize:function(){return this.minSize},setMinimumSize:function(a){this.minSize=a},getMaximumSize:function(){return this.maxSize},setMaximumSize:function(a){this.maxSize=a},setCurrentSize:function(b){var a=this.animate;this.animate=false;this.adapter.setElementSize(this,b);this.animate=a},destroy:function(a){Ext.destroy(this.shim,Ext.get(this.proxy));this.dd.unreg();if(a){this.el.remove()}this.purgeListeners()}});Ext.SplitBar.createProxy=function(b){var c=new Ext.Element(document.createElement("div"));document.body.appendChild(c.dom);c.unselectable();var a="x-splitbar-proxy";c.addClass(a+" "+(b==Ext.SplitBar.HORIZONTAL?a+"-h":a+"-v"));return c.dom};Ext.SplitBar.BasicLayoutAdapter=function(){};Ext.SplitBar.BasicLayoutAdapter.prototype={init:function(a){},getElementSize:function(a){if(a.orientation==Ext.SplitBar.HORIZONTAL){return a.resizingEl.getWidth()}else{return a.resizingEl.getHeight()}},setElementSize:function(b,a,c){if(b.orientation==Ext.SplitBar.HORIZONTAL){if(!b.animate){b.resizingEl.setWidth(a);if(c){c(b,a)}}else{b.resizingEl.setWidth(a,true,0.1,c,"easeOut")}}else{if(!b.animate){b.resizingEl.setHeight(a);if(c){c(b,a)}}else{b.resizingEl.setHeight(a,true,0.1,c,"easeOut")}}}};Ext.SplitBar.AbsoluteLayoutAdapter=function(a){this.basic=new Ext.SplitBar.BasicLayoutAdapter();this.container=Ext.get(a)};Ext.SplitBar.AbsoluteLayoutAdapter.prototype={init:function(a){this.basic.init(a)},getElementSize:function(a){return this.basic.getElementSize(a)},setElementSize:function(b,a,c){this.basic.setElementSize(b,a,this.moveSplitter.createDelegate(this,[b]))},moveSplitter:function(a){var b=Ext.SplitBar;switch(a.placement){case b.LEFT:a.el.setX(a.resizingEl.getRight());break;case b.RIGHT:a.el.setStyle("right",(this.container.getWidth()-a.resizingEl.getLeft())+"px");break;case b.TOP:a.el.setY(a.resizingEl.getBottom());break;case b.BOTTOM:a.el.setY(a.resizingEl.getTop()-a.el.getHeight());break}}};Ext.SplitBar.VERTICAL=1;Ext.SplitBar.HORIZONTAL=2;Ext.SplitBar.LEFT=1;Ext.SplitBar.RIGHT=2;Ext.SplitBar.TOP=3;Ext.SplitBar.BOTTOM=4;Ext.Container=Ext.extend(Ext.BoxComponent,{bufferResize:50,autoDestroy:true,forceLayout:false,defaultType:"panel",resizeEvent:"resize",bubbleEvents:["add","remove"],initComponent:function(){Ext.Container.superclass.initComponent.call(this);this.addEvents("afterlayout","beforeadd","beforeremove","add","remove");var a=this.items;if(a){delete this.items;this.add(a)}},initItems:function(){if(!this.items){this.items=new Ext.util.MixedCollection(false,this.getComponentId);this.getLayout()}},setLayout:function(a){if(this.layout&&this.layout!=a){this.layout.setContainer(null)}this.layout=a;this.initItems();a.setContainer(this)},afterRender:function(){Ext.Container.superclass.afterRender.call(this);if(!this.layout){this.layout="auto"}if(Ext.isObject(this.layout)&&!this.layout.layout){this.layoutConfig=this.layout;this.layout=this.layoutConfig.type}if(Ext.isString(this.layout)){this.layout=new Ext.Container.LAYOUTS[this.layout.toLowerCase()](this.layoutConfig)}this.setLayout(this.layout);if(this.activeItem!==undefined&&this.layout.setActiveItem){var a=this.activeItem;delete this.activeItem;this.layout.setActiveItem(a)}if(!this.ownerCt){this.doLayout(false,true)}if(this.monitorResize===true){Ext.EventManager.onWindowResize(this.doLayout,this,[false])}},getLayoutTarget:function(){return this.el},getComponentId:function(a){return a.getItemId()},add:function(b){this.initItems();var e=arguments.length>1;if(e||Ext.isArray(b)){var a=[];Ext.each(e?arguments:b,function(h){a.push(this.add(h))},this);return a}var g=this.lookupComponent(this.applyDefaults(b));var d=this.items.length;if(this.fireEvent("beforeadd",this,g,d)!==false&&this.onBeforeAdd(g)!==false){this.items.add(g);g.onAdded(this,d);this.onAdd(g);this.fireEvent("add",this,g,d)}return g},onAdd:function(a){},onAdded:function(a,b){this.ownerCt=a;this.initRef();this.cascade(function(d){d.initRef()});this.fireEvent("added",this,a,b)},insert:function(e,b){var d=arguments,h=d.length,a=[],g,k;this.initItems();if(h>2){for(g=h-1;g>=1;--g){a.push(this.insert(e,d[g]))}return a}k=this.lookupComponent(this.applyDefaults(b));e=Math.min(e,this.items.length);if(this.fireEvent("beforeadd",this,k,e)!==false&&this.onBeforeAdd(k)!==false){if(k.ownerCt==this){this.items.remove(k)}this.items.insert(e,k);k.onAdded(this,e);this.onAdd(k);this.fireEvent("add",this,k,e)}return k},applyDefaults:function(b){var a=this.defaults;if(a){if(Ext.isFunction(a)){a=a.call(this,b)}if(Ext.isString(b)){b=Ext.ComponentMgr.get(b);Ext.apply(b,a)}else{if(!b.events){Ext.applyIf(b.isAction?b.initialConfig:b,a)}else{Ext.apply(b,a)}}}return b},onBeforeAdd:function(a){if(a.ownerCt){a.ownerCt.remove(a,false)}if(this.hideBorders===true){a.border=(a.border===true)}},remove:function(a,b){this.initItems();var d=this.getComponent(a);if(d&&this.fireEvent("beforeremove",this,d)!==false){this.doRemove(d,b);this.fireEvent("remove",this,d)}return d},onRemove:function(a){},doRemove:function(e,d){var b=this.layout,a=b&&this.rendered;if(a){b.onRemove(e)}this.items.remove(e);e.onRemoved();this.onRemove(e);if(d===true||(d!==false&&this.autoDestroy)){e.destroy()}if(a){b.afterRemove(e)}},removeAll:function(c){this.initItems();var e,g=[],b=[];this.items.each(function(h){g.push(h)});for(var d=0,a=g.length;d<a;++d){e=g[d];this.remove(e,c);if(e.ownerCt!==this){b.push(e)}}return b},getComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.items.get(a)},lookupComponent:function(a){if(Ext.isString(a)){return Ext.ComponentMgr.get(a)}else{if(!a.events){return this.createComponent(a)}}return a},createComponent:function(a,d){if(a.render){return a}var b=Ext.create(Ext.apply({ownerCt:this},a),d||this.defaultType);delete b.initialConfig.ownerCt;delete b.ownerCt;return b},canLayout:function(){var a=this.getVisibilityEl();return a&&a.dom&&!a.isStyle("display","none")},doLayout:function(g,e){var l=this.rendered,k=e||this.forceLayout;if(this.collapsed||!this.canLayout()){this.deferLayout=this.deferLayout||!g;if(!k){return}g=g&&!this.deferLayout}else{delete this.deferLayout}if(l&&this.layout){this.layout.layout()}if(g!==true&&this.items){var d=this.items.items;for(var b=0,a=d.length;b<a;b++){var h=d[b];if(h.doLayout){h.doLayout(false,k)}}}if(l){this.onLayout(g,k)}this.hasLayout=true;delete this.forceLayout},onLayout:Ext.emptyFn,shouldBufferLayout:function(){var a=this.hasLayout;if(this.ownerCt){return a?!this.hasLayoutPending():false}return a},hasLayoutPending:function(){var a=false;this.ownerCt.bubble(function(b){if(b.layoutPending){a=true;return false}});return a},onShow:function(){Ext.Container.superclass.onShow.call(this);if(Ext.isDefined(this.deferLayout)){delete this.deferLayout;this.doLayout(true)}},getLayout:function(){if(!this.layout){var a=new Ext.layout.AutoLayout(this.layoutConfig);this.setLayout(a)}return this.layout},beforeDestroy:function(){var a;if(this.items){while(a=this.items.first()){this.doRemove(a,true)}}if(this.monitorResize){Ext.EventManager.removeResizeListener(this.doLayout,this)}Ext.destroy(this.layout);Ext.Container.superclass.beforeDestroy.call(this)},cascade:function(g,e,b){if(g.apply(e||this,b||[this])!==false){if(this.items){var d=this.items.items;for(var c=0,a=d.length;c<a;c++){if(d[c].cascade){d[c].cascade(g,e,b)}else{g.apply(e||d[c],b||[d[c]])}}}}return this},findById:function(c){var a=null,b=this;this.cascade(function(d){if(b!=d&&d.id===c){a=d;return false}});return a},findByType:function(b,a){return this.findBy(function(d){return d.isXType(b,a)})},find:function(b,a){return this.findBy(function(d){return d[b]===a})},findBy:function(d,c){var a=[],b=this;this.cascade(function(e){if(b!=e&&d.call(c||e,e,b)===true){a.push(e)}});return a},get:function(a){return this.getComponent(a)}});Ext.Container.LAYOUTS={};Ext.reg("container",Ext.Container);Ext.layout.ContainerLayout=Ext.extend(Object,{monitorResize:false,activeItem:null,constructor:function(a){this.id=Ext.id(null,"ext-layout-");Ext.apply(this,a)},type:"container",IEMeasureHack:function(l,g){var a=l.dom.childNodes,b=a.length,o,n=[],m,h,k;for(h=0;h<b;h++){o=a[h];m=Ext.get(o);if(m){n[h]=m.getStyle("display");m.setStyle({display:"none"})}}k=l?l.getViewSize(g):{};for(h=0;h<b;h++){o=a[h];m=Ext.get(o);if(m){m.setStyle({display:n[h]})}}return k},getLayoutTargetSize:Ext.EmptyFn,layout:function(){var a=this.container,b=a.getLayoutTarget();if(!(this.hasLayout||Ext.isEmpty(this.targetCls))){b.addClass(this.targetCls)}this.onLayout(a,b);a.fireEvent("afterlayout",a,this)},onLayout:function(a,b){this.renderAll(a,b)},isValidParent:function(b,a){return a&&b.getPositionEl().dom.parentNode==(a.dom||a)},renderAll:function(e,g){var b=e.items.items,d,h,a=b.length;for(d=0;d<a;d++){h=b[d];if(h&&(!h.rendered||!this.isValidParent(h,g))){this.renderItem(h,d,g)}}},renderItem:function(d,a,b){if(d){if(!d.rendered){d.render(b,a);this.configureItem(d)}else{if(!this.isValidParent(d,b)){if(Ext.isNumber(a)){a=b.dom.childNodes[a]}b.dom.insertBefore(d.getPositionEl().dom,a||null);d.container=b;this.configureItem(d)}}}},getRenderedItems:function(g){var e=g.getLayoutTarget(),h=g.items.items,a=h.length,d,k,b=[];for(d=0;d<a;d++){if((k=h[d]).rendered&&this.isValidParent(k,e)&&k.shouldLayout!==false){b.push(k)}}return b},configureItem:function(b){if(this.extraCls){var a=b.getPositionEl?b.getPositionEl():b;a.addClass(this.extraCls)}if(b.doLayout&&this.forceLayout){b.doLayout()}if(this.renderHidden&&b!=this.activeItem){b.hide()}},onRemove:function(b){if(this.activeItem==b){delete this.activeItem}if(b.rendered&&this.extraCls){var a=b.getPositionEl?b.getPositionEl():b;a.removeClass(this.extraCls)}},afterRemove:function(a){if(a.removeRestore){a.removeMode="container";delete a.removeRestore}},onResize:function(){var c=this.container,a;if(c.collapsed){return}if(a=c.bufferResize&&c.shouldBufferLayout()){if(!this.resizeTask){this.resizeTask=new Ext.util.DelayedTask(this.runLayout,this);this.resizeBuffer=Ext.isNumber(a)?a:50}c.layoutPending=true;this.resizeTask.delay(this.resizeBuffer)}else{this.runLayout()}},runLayout:function(){var a=this.container;this.layout();a.onLayout();delete a.layoutPending},setContainer:function(b){if(this.monitorResize&&b!=this.container){var a=this.container;if(a){a.un(a.resizeEvent,this.onResize,this)}if(b){b.on(b.resizeEvent,this.onResize,this)}}this.container=b},parseMargins:function(b){if(Ext.isNumber(b)){b=b.toString()}var c=b.split(" "),a=c.length;if(a==1){c[1]=c[2]=c[3]=c[0]}else{if(a==2){c[2]=c[0];c[3]=c[1]}else{if(a==3){c[3]=c[1]}}}return{top:parseInt(c[0],10)||0,right:parseInt(c[1],10)||0,bottom:parseInt(c[2],10)||0,left:parseInt(c[3],10)||0}},fieldTpl:(function(){var a=new Ext.Template('<div class="x-form-item {itemCls}" tabIndex="-1">','<label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}</label>','<div class="x-form-element" id="x-form-el-{id}" style="{elementStyle}">','</div><div class="{clearCls}"></div>',"</div>");a.disableFormats=true;return a.compile()})(),destroy:function(){if(this.resizeTask&&this.resizeTask.cancel){this.resizeTask.cancel()}if(this.container){this.container.un(this.container.resizeEvent,this.onResize,this)}if(!Ext.isEmpty(this.targetCls)){var a=this.container.getLayoutTarget();if(a){a.removeClass(this.targetCls)}}}});Ext.layout.AutoLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"auto",monitorResize:true,onLayout:function(d,g){Ext.layout.AutoLayout.superclass.onLayout.call(this,d,g);var e=this.getRenderedItems(d),a=e.length,b,h;for(b=0;b<a;b++){h=e[b];if(h.doLayout){h.doLayout(true)}}}});Ext.Container.LAYOUTS.auto=Ext.layout.AutoLayout;Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"fit",getLayoutTargetSize:function(){var a=this.container.getLayoutTarget();if(!a){return{}}return a.getStyleSize()},onLayout:function(a,b){Ext.layout.FitLayout.superclass.onLayout.call(this,a,b);if(!a.collapsed){this.setItemSize(this.activeItem||a.items.itemAt(0),this.getLayoutTargetSize())}},setItemSize:function(b,a){if(b&&a.height>0){b.setSize(a)}}});Ext.Container.LAYOUTS.fit=Ext.layout.FitLayout;Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{deferredRender:false,layoutOnCardChange:false,renderHidden:true,type:"card",setActiveItem:function(d){var a=this.activeItem,b=this.container;d=b.getComponent(d);if(d&&a!=d){if(a){a.hide();if(a.hidden!==true){return false}a.fireEvent("deactivate",a)}var c=d.doLayout&&(this.layoutOnCardChange||!d.rendered);this.activeItem=d;delete d.deferLayout;d.show();this.layout();if(c){d.doLayout()}d.fireEvent("activate",d)}},renderAll:function(a,b){if(this.deferredRender){this.renderItem(this.activeItem,undefined,b)}else{Ext.layout.CardLayout.superclass.renderAll.call(this,a,b)}}});Ext.Container.LAYOUTS.card=Ext.layout.CardLayout;Ext.layout.AnchorLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,getLayoutTargetSize:function(){var b=this.container.getLayoutTarget(),a={};if(b){a=b.getViewSize();if(Ext.isIE&&Ext.isStrict&&a.width==0){a=b.getStyleSize()}a.width-=b.getPadding("lr");a.height-=b.getPadding("tb")}return a},onLayout:function(n,x){Ext.layout.AnchorLayout.superclass.onLayout.call(this,n,x);var q=this.getLayoutTargetSize(),l=q.width,p=q.height,r=x.getStyle("overflow"),o=this.getRenderedItems(n),u=o.length,g=[],k,a,w,m,h,c,e,d,v=0,t,b;if(l<20&&p<20){return}if(n.anchorSize){if(typeof n.anchorSize=="number"){a=n.anchorSize}else{a=n.anchorSize.width;w=n.anchorSize.height}}else{a=n.initialConfig.width;w=n.initialConfig.height}for(t=0;t<u;t++){m=o[t];b=m.getPositionEl();if(!m.anchor&&m.items&&!Ext.isNumber(m.width)&&!(Ext.isIE6&&Ext.isStrict)){m.anchor=this.defaultAnchor}if(m.anchor){h=m.anchorSpec;if(!h){d=m.anchor.split(" ");m.anchorSpec=h={right:this.parseAnchor(d[0],m.initialConfig.width,a),bottom:this.parseAnchor(d[1],m.initialConfig.height,w)}}c=h.right?this.adjustWidthAnchor(h.right(l)-b.getMargins("lr"),m):undefined;e=h.bottom?this.adjustHeightAnchor(h.bottom(p)-b.getMargins("tb"),m):undefined;if(c||e){g.push({component:m,width:c||undefined,height:e||undefined})}}}for(t=0,u=g.length;t<u;t++){k=g[t];k.component.setSize(k.width,k.height)}if(r&&r!="hidden"&&!this.adjustmentPass){var s=this.getLayoutTargetSize();if(s.width!=q.width||s.height!=q.height){this.adjustmentPass=true;this.onLayout(n,x)}}delete this.adjustmentPass},parseAnchor:function(c,h,b){if(c&&c!="none"){var e;if(this.parseAnchorRE.test(c)){var g=b-h;return function(a){if(a!==e){e=a;return a-g}}}else{if(c.indexOf("%")!=-1){var d=parseFloat(c.replace("%",""))*0.01;return function(a){if(a!==e){e=a;return Math.floor(a*d)}}}else{c=parseInt(c,10);if(!isNaN(c)){return function(a){if(a!==e){e=a;return a+c}}}}}}return false},adjustWidthAnchor:function(b,a){return b},adjustHeightAnchor:function(b,a){return b}});Ext.Container.LAYOUTS.anchor=Ext.layout.AnchorLayout;Ext.layout.ColumnLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"column",extraCls:"x-column",scrollOffset:0,targetCls:"x-column-layout-ct",isValidParent:function(b,a){return this.innerCt&&b.getPositionEl().dom.parentNode==this.innerCt.dom},getLayoutTargetSize:function(){var b=this.container.getLayoutTarget(),a;if(b){a=b.getViewSize();if(Ext.isIE&&Ext.isStrict&&a.width==0){a=b.getStyleSize()}a.width-=b.getPadding("lr");a.height-=b.getPadding("tb")}return a},renderAll:function(a,b){if(!this.innerCt){this.innerCt=b.createChild({cls:"x-column-inner"});this.innerCt.createChild({cls:"x-clear"})}Ext.layout.ColumnLayout.superclass.renderAll.call(this,a,this.innerCt)},onLayout:function(e,l){var g=e.items.items,k=g.length,o,b,a,p=[];this.renderAll(e,l);var s=this.getLayoutTargetSize();if(s.width<1&&s.height<1){return}var q=s.width-this.scrollOffset,d=s.height,r=q;this.innerCt.setWidth(q);for(b=0;b<k;b++){o=g[b];a=o.getPositionEl().getMargins("lr");p[b]=a;if(!o.columnWidth){r-=(o.getWidth()+a)}}r=r<0?0:r;for(b=0;b<k;b++){o=g[b];a=p[b];if(o.columnWidth){o.setSize(Math.floor(o.columnWidth*r)-a)}}if(Ext.isIE){if(b=l.getStyle("overflow")&&b!="hidden"&&!this.adjustmentPass){var n=this.getLayoutTargetSize();if(n.width!=s.width){this.adjustmentPass=true;this.onLayout(e,l)}}}delete this.adjustmentPass}});Ext.Container.LAYOUTS.column=Ext.layout.ColumnLayout;Ext.layout.BorderLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,rendered:false,type:"border",targetCls:"x-border-layout-ct",getLayoutTargetSize:function(){var a=this.container.getLayoutTarget();return a?a.getViewSize():{}},onLayout:function(g,J){var k,C,G,p,y=g.items.items,D=y.length;if(!this.rendered){k=[];for(C=0;C<D;C++){G=y[C];p=G.region;if(G.collapsed){k.push(G)}G.collapsed=false;if(!G.rendered){G.render(J,C);G.getPositionEl().addClass("x-border-panel")}this[p]=p!="center"&&G.split?new Ext.layout.BorderLayout.SplitRegion(this,G.initialConfig,p):new Ext.layout.BorderLayout.Region(this,G.initialConfig,p);this[p].render(J,G)}this.rendered=true}var x=this.getLayoutTargetSize();if(x.width<20||x.height<20){if(k){this.restoreCollapsed=k}return}else{if(this.restoreCollapsed){k=this.restoreCollapsed;delete this.restoreCollapsed}}var u=x.width,E=x.height,t=u,B=E,q=0,r=0,z=this.north,v=this.south,o=this.west,F=this.east,G=this.center,I,A,d,H;if(!G&&Ext.layout.BorderLayout.WARN!==false){throw"No center region defined in BorderLayout "+g.id}if(z&&z.isVisible()){I=z.getSize();A=z.getMargins();I.width=u-(A.left+A.right);I.x=A.left;I.y=A.top;q=I.height+I.y+A.bottom;B-=q;z.applyLayout(I)}if(v&&v.isVisible()){I=v.getSize();A=v.getMargins();I.width=u-(A.left+A.right);I.x=A.left;H=(I.height+A.top+A.bottom);I.y=E-H+A.top;B-=H;v.applyLayout(I)}if(o&&o.isVisible()){I=o.getSize();A=o.getMargins();I.height=B-(A.top+A.bottom);I.x=A.left;I.y=q+A.top;d=(I.width+A.left+A.right);r+=d;t-=d;o.applyLayout(I)}if(F&&F.isVisible()){I=F.getSize();A=F.getMargins();I.height=B-(A.top+A.bottom);d=(I.width+A.left+A.right);I.x=u-d+A.left;I.y=q+A.top;t-=d;F.applyLayout(I)}if(G){A=G.getMargins();var l={x:r+A.left,y:q+A.top,width:t-(A.left+A.right),height:B-(A.top+A.bottom)};G.applyLayout(l)}if(k){for(C=0,D=k.length;C<D;C++){k[C].collapse(false)}}if(Ext.isIE&&Ext.isStrict){J.repaint()}if(C=J.getStyle("overflow")&&C!="hidden"&&!this.adjustmentPass){var a=this.getLayoutTargetSize();if(a.width!=x.width||a.height!=x.height){this.adjustmentPass=true;this.onLayout(g,J)}}delete this.adjustmentPass},destroy:function(){var b=["north","south","east","west"],a,c;for(a=0;a<b.length;a++){c=this[b[a]];if(c){if(c.destroy){c.destroy()}else{if(c.split){c.split.destroy(true)}}}}Ext.layout.BorderLayout.superclass.destroy.call(this)}});Ext.layout.BorderLayout.Region=function(b,a,c){Ext.apply(this,a);this.layout=b;this.position=c;this.state={};if(typeof this.margins=="string"){this.margins=this.layout.parseMargins(this.margins)}this.margins=Ext.applyIf(this.margins||{},this.defaultMargins);if(this.collapsible){if(typeof this.cmargins=="string"){this.cmargins=this.layout.parseMargins(this.cmargins)}if(this.collapseMode=="mini"&&!this.cmargins){this.cmargins={left:0,top:0,right:0,bottom:0}}else{this.cmargins=Ext.applyIf(this.cmargins||{},c=="north"||c=="south"?this.defaultNSCMargins:this.defaultEWCMargins)}}};Ext.layout.BorderLayout.Region.prototype={collapsible:false,split:false,floatable:true,minWidth:50,minHeight:50,defaultMargins:{left:0,top:0,right:0,bottom:0},defaultNSCMargins:{left:5,top:5,right:5,bottom:5},defaultEWCMargins:{left:5,top:0,right:5,bottom:0},floatingZIndex:100,isCollapsed:false,render:function(b,c){this.panel=c;c.el.enableDisplayMode();this.targetEl=b;this.el=c.el;var a=c.getState,d=this.position;c.getState=function(){return Ext.apply(a.call(c)||{},this.state)}.createDelegate(this);if(d!="center"){c.allowQueuedExpand=false;c.on({beforecollapse:this.beforeCollapse,collapse:this.onCollapse,beforeexpand:this.beforeExpand,expand:this.onExpand,hide:this.onHide,show:this.onShow,scope:this});if(this.collapsible||this.floatable){c.collapseEl="el";c.slideAnchor=this.getSlideAnchor()}if(c.tools&&c.tools.toggle){c.tools.toggle.addClass("x-tool-collapse-"+d);c.tools.toggle.addClassOnOver("x-tool-collapse-"+d+"-over")}}},getCollapsedEl:function(){if(!this.collapsedEl){if(!this.toolTemplate){var b=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');b.disableFormats=true;b.compile();Ext.layout.BorderLayout.Region.prototype.toolTemplate=b}this.collapsedEl=this.targetEl.createChild({cls:"x-layout-collapsed x-layout-collapsed-"+this.position,id:this.panel.id+"-xcollapsed"});this.collapsedEl.enableDisplayMode("block");if(this.collapseMode=="mini"){this.collapsedEl.addClass("x-layout-cmini-"+this.position);this.miniCollapsedEl=this.collapsedEl.createChild({cls:"x-layout-mini x-layout-mini-"+this.position,html:"&#160;"});this.miniCollapsedEl.addClassOnOver("x-layout-mini-over");this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this.onExpandClick,this,{stopEvent:true})}else{if(this.collapsible!==false&&!this.hideCollapseTool){var a=this.expandToolEl=this.toolTemplate.append(this.collapsedEl.dom,{id:"expand-"+this.position},true);a.addClassOnOver("x-tool-expand-"+this.position+"-over");a.on("click",this.onExpandClick,this,{stopEvent:true})}if(this.floatable!==false||this.titleCollapse){this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this[this.floatable?"collapseClick":"onExpandClick"],this)}}}return this.collapsedEl},onExpandClick:function(a){if(this.isSlid){this.panel.expand(false)}else{this.panel.expand()}},onCollapseClick:function(a){this.panel.collapse()},beforeCollapse:function(c,a){this.lastAnim=a;if(this.splitEl){this.splitEl.hide()}this.getCollapsedEl().show();var b=this.panel.getEl();this.originalZIndex=b.getStyle("z-index");b.setStyle("z-index",100);this.isCollapsed=true;this.layout.layout()},onCollapse:function(a){this.panel.el.setStyle("z-index",1);if(this.lastAnim===false||this.panel.animCollapse===false){this.getCollapsedEl().dom.style.visibility="visible"}else{this.getCollapsedEl().slideIn(this.panel.slideAnchor,{duration:0.2})}this.state.collapsed=true;this.panel.saveState()},beforeExpand:function(a){if(this.isSlid){this.afterSlideIn()}var b=this.getCollapsedEl();this.el.show();if(this.position=="east"||this.position=="west"){this.panel.setSize(undefined,b.getHeight())}else{this.panel.setSize(b.getWidth(),undefined)}b.hide();b.dom.style.visibility="hidden";this.panel.el.setStyle("z-index",this.floatingZIndex)},onExpand:function(){this.isCollapsed=false;if(this.splitEl){this.splitEl.show()}this.layout.layout();this.panel.el.setStyle("z-index",this.originalZIndex);this.state.collapsed=false;this.panel.saveState()},collapseClick:function(a){if(this.isSlid){a.stopPropagation();this.slideIn()}else{a.stopPropagation();this.slideOut()}},onHide:function(){if(this.isCollapsed){this.getCollapsedEl().hide()}else{if(this.splitEl){this.splitEl.hide()}}},onShow:function(){if(this.isCollapsed){this.getCollapsedEl().show()}else{if(this.splitEl){this.splitEl.show()}}},isVisible:function(){return !this.panel.hidden},getMargins:function(){return this.isCollapsed&&this.cmargins?this.cmargins:this.margins},getSize:function(){return this.isCollapsed?this.getCollapsedEl().getSize():this.panel.getSize()},setPanel:function(a){this.panel=a},getMinWidth:function(){return this.minWidth},getMinHeight:function(){return this.minHeight},applyLayoutCollapsed:function(a){var b=this.getCollapsedEl();b.setLeftTop(a.x,a.y);b.setSize(a.width,a.height)},applyLayout:function(a){if(this.isCollapsed){this.applyLayoutCollapsed(a)}else{this.panel.setPosition(a.x,a.y);this.panel.setSize(a.width,a.height)}},beforeSlide:function(){this.panel.beforeEffect()},afterSlide:function(){this.panel.afterEffect()},initAutoHide:function(){if(this.autoHide!==false){if(!this.autoHideHd){this.autoHideSlideTask=new Ext.util.DelayedTask(this.slideIn,this);this.autoHideHd={mouseout:function(a){if(!a.within(this.el,true)){this.autoHideSlideTask.delay(500)}},mouseover:function(a){this.autoHideSlideTask.cancel()},scope:this}}this.el.on(this.autoHideHd);this.collapsedEl.on(this.autoHideHd)}},clearAutoHide:function(){if(this.autoHide!==false){this.el.un("mouseout",this.autoHideHd.mouseout);this.el.un("mouseover",this.autoHideHd.mouseover);this.collapsedEl.un("mouseout",this.autoHideHd.mouseout);this.collapsedEl.un("mouseover",this.autoHideHd.mouseover)}},clearMonitor:function(){Ext.getDoc().un("click",this.slideInIf,this)},slideOut:function(){if(this.isSlid||this.el.hasActiveFx()){return}this.isSlid=true;var b=this.panel.tools,c,a;if(b&&b.toggle){b.toggle.hide()}this.el.show();a=this.panel.collapsed;this.panel.collapsed=false;if(this.position=="east"||this.position=="west"){c=this.panel.deferHeight;this.panel.deferHeight=false;this.panel.setSize(undefined,this.collapsedEl.getHeight());this.panel.deferHeight=c}else{this.panel.setSize(this.collapsedEl.getWidth(),undefined)}this.panel.collapsed=a;this.restoreLT=[this.el.dom.style.left,this.el.dom.style.top];this.el.alignTo(this.collapsedEl,this.getCollapseAnchor());this.el.setStyle("z-index",this.floatingZIndex+2);this.panel.el.replaceClass("x-panel-collapsed","x-panel-floating");if(this.animFloat!==false){this.beforeSlide();this.el.slideIn(this.getSlideAnchor(),{callback:function(){this.afterSlide();this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this)},scope:this,block:true})}else{this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this)}},afterSlideIn:function(){this.clearAutoHide();this.isSlid=false;this.clearMonitor();this.el.setStyle("z-index","");this.panel.el.replaceClass("x-panel-floating","x-panel-collapsed");this.el.dom.style.left=this.restoreLT[0];this.el.dom.style.top=this.restoreLT[1];var a=this.panel.tools;if(a&&a.toggle){a.toggle.show()}},slideIn:function(a){if(!this.isSlid||this.el.hasActiveFx()){Ext.callback(a);return}this.isSlid=false;if(this.animFloat!==false){this.beforeSlide();this.el.slideOut(this.getSlideAnchor(),{callback:function(){this.el.hide();this.afterSlide();this.afterSlideIn();Ext.callback(a)},scope:this,block:true})}else{this.el.hide();this.afterSlideIn()}},slideInIf:function(a){if(!a.within(this.el)){this.slideIn()}},anchors:{west:"left",east:"right",north:"top",south:"bottom"},sanchors:{west:"l",east:"r",north:"t",south:"b"},canchors:{west:"tl-tr",east:"tr-tl",north:"tl-bl",south:"bl-tl"},getAnchor:function(){return this.anchors[this.position]},getCollapseAnchor:function(){return this.canchors[this.position]},getSlideAnchor:function(){return this.sanchors[this.position]},getAlignAdj:function(){var a=this.cmargins;switch(this.position){case"west":return[0,0];break;case"east":return[0,0];break;case"north":return[0,0];break;case"south":return[0,0];break}},getExpandAdj:function(){var b=this.collapsedEl,a=this.cmargins;switch(this.position){case"west":return[-(a.right+b.getWidth()+a.left),0];break;case"east":return[a.right+b.getWidth()+a.left,0];break;case"north":return[0,-(a.top+a.bottom+b.getHeight())];break;case"south":return[0,a.top+a.bottom+b.getHeight()];break}},destroy:function(){if(this.autoHideSlideTask&&this.autoHideSlideTask.cancel){this.autoHideSlideTask.cancel()}Ext.destroyMembers(this,"miniCollapsedEl","collapsedEl","expandToolEl")}};Ext.layout.BorderLayout.SplitRegion=function(b,a,c){Ext.layout.BorderLayout.SplitRegion.superclass.constructor.call(this,b,a,c);this.applyLayout=this.applyFns[c]};Ext.extend(Ext.layout.BorderLayout.SplitRegion,Ext.layout.BorderLayout.Region,{splitTip:"Drag to resize.",collapsibleSplitTip:"Drag to resize. Double click to hide.",useSplitTips:false,splitSettings:{north:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.TOP,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},south:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.BOTTOM,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},east:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.RIGHT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"},west:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.LEFT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"}},applyFns:{west:function(c){if(this.isCollapsed){return this.applyLayoutCollapsed(c)}var d=this.splitEl.dom,b=d.style;this.panel.setPosition(c.x,c.y);var a=d.offsetWidth;b.left=(c.x+c.width-a)+"px";b.top=(c.y)+"px";b.height=Math.max(0,c.height)+"px";this.panel.setSize(c.width-a,c.height)},east:function(c){if(this.isCollapsed){return this.applyLayoutCollapsed(c)}var d=this.splitEl.dom,b=d.style;var a=d.offsetWidth;this.panel.setPosition(c.x+a,c.y);b.left=(c.x)+"px";b.top=(c.y)+"px";b.height=Math.max(0,c.height)+"px";this.panel.setSize(c.width-a,c.height)},north:function(c){if(this.isCollapsed){return this.applyLayoutCollapsed(c)}var d=this.splitEl.dom,b=d.style;var a=d.offsetHeight;this.panel.setPosition(c.x,c.y);b.left=(c.x)+"px";b.top=(c.y+c.height-a)+"px";b.width=Math.max(0,c.width)+"px";this.panel.setSize(c.width,c.height-a)},south:function(c){if(this.isCollapsed){return this.applyLayoutCollapsed(c)}var d=this.splitEl.dom,b=d.style;var a=d.offsetHeight;this.panel.setPosition(c.x,c.y+a);b.left=(c.x)+"px";b.top=(c.y)+"px";b.width=Math.max(0,c.width)+"px";this.panel.setSize(c.width,c.height-a)}},render:function(a,c){Ext.layout.BorderLayout.SplitRegion.superclass.render.call(this,a,c);var d=this.position;this.splitEl=a.createChild({cls:"x-layout-split x-layout-split-"+d,html:"&#160;",id:this.panel.id+"-xsplit"});if(this.collapseMode=="mini"){this.miniSplitEl=this.splitEl.createChild({cls:"x-layout-mini x-layout-mini-"+d,html:"&#160;"});this.miniSplitEl.addClassOnOver("x-layout-mini-over");this.miniSplitEl.on("click",this.onCollapseClick,this,{stopEvent:true})}var b=this.splitSettings[d];this.split=new Ext.SplitBar(this.splitEl.dom,c.el,b.orientation);this.split.tickSize=this.tickSize;this.split.placement=b.placement;this.split.getMaximumSize=this[b.maxFn].createDelegate(this);this.split.minSize=this.minSize||this[b.minProp];this.split.on("beforeapply",this.onSplitMove,this);this.split.useShim=this.useShim===true;this.maxSize=this.maxSize||this[b.maxProp];if(c.hidden){this.splitEl.hide()}if(this.useSplitTips){this.splitEl.dom.title=this.collapsible?this.collapsibleSplitTip:this.splitTip}if(this.collapsible){this.splitEl.on("dblclick",this.onCollapseClick,this)}},getSize:function(){if(this.isCollapsed){return this.collapsedEl.getSize()}var a=this.panel.getSize();if(this.position=="north"||this.position=="south"){a.height+=this.splitEl.dom.offsetHeight}else{a.width+=this.splitEl.dom.offsetWidth}return a},getHMaxSize:function(){var b=this.maxSize||10000;var a=this.layout.center;return Math.min(b,(this.el.getWidth()+a.el.getWidth())-a.getMinWidth())},getVMaxSize:function(){var b=this.maxSize||10000;var a=this.layout.center;return Math.min(b,(this.el.getHeight()+a.el.getHeight())-a.getMinHeight())},onSplitMove:function(b,a){var c=this.panel.getSize();this.lastSplitSize=a;if(this.position=="north"||this.position=="south"){this.panel.setSize(c.width,a);this.state.height=a}else{this.panel.setSize(a,c.height);this.state.width=a}this.layout.layout();this.panel.saveState();return false},getSplitBar:function(){return this.split},destroy:function(){Ext.destroy(this.miniSplitEl,this.split,this.splitEl);Ext.layout.BorderLayout.SplitRegion.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.border=Ext.layout.BorderLayout;Ext.layout.FormLayout=Ext.extend(Ext.layout.AnchorLayout,{labelSeparator:":",trackLabels:true,type:"form",onRemove:function(d){Ext.layout.FormLayout.superclass.onRemove.call(this,d);if(this.trackLabels){d.un("show",this.onFieldShow,this);d.un("hide",this.onFieldHide,this)}var b=d.getPositionEl(),a=d.getItemCt&&d.getItemCt();if(d.rendered&&a){if(b&&b.dom){b.insertAfter(a)}Ext.destroy(a);Ext.destroyMembers(d,"label","itemCt");if(d.customItemCt){Ext.destroyMembers(d,"getItemCt","customItemCt")}}},setContainer:function(a){Ext.layout.FormLayout.superclass.setContainer.call(this,a);if(a.labelAlign){a.addClass("x-form-label-"+a.labelAlign)}if(a.hideLabels){Ext.apply(this,{labelStyle:"display:none",elementStyle:"padding-left:0;",labelAdjust:0})}else{this.labelSeparator=Ext.isDefined(a.labelSeparator)?a.labelSeparator:this.labelSeparator;a.labelWidth=a.labelWidth||100;if(Ext.isNumber(a.labelWidth)){var b=Ext.isNumber(a.labelPad)?a.labelPad:5;Ext.apply(this,{labelAdjust:a.labelWidth+b,labelStyle:"width:"+a.labelWidth+"px;",elementStyle:"padding-left:"+(a.labelWidth+b)+"px"})}if(a.labelAlign=="top"){Ext.apply(this,{labelStyle:"width:auto;",labelAdjust:0,elementStyle:"padding-left:0;"})}}},isHide:function(a){return a.hideLabel||this.container.hideLabels},onFieldShow:function(a){a.getItemCt().removeClass("x-hide-"+a.hideMode);if(a.isComposite){a.doLayout()}},onFieldHide:function(a){a.getItemCt().addClass("x-hide-"+a.hideMode)},getLabelStyle:function(e){var b="",c=[this.labelStyle,e];for(var d=0,a=c.length;d<a;++d){if(c[d]){b+=c[d];if(b.substr(-1,1)!=";"){b+=";"}}}return b},renderItem:function(e,a,d){if(e&&(e.isFormField||e.fieldLabel)&&e.inputType!="hidden"){var b=this.getTemplateArgs(e);if(Ext.isNumber(a)){a=d.dom.childNodes[a]||null}if(a){e.itemCt=this.fieldTpl.insertBefore(a,b,true)}else{e.itemCt=this.fieldTpl.append(d,b,true)}if(!e.getItemCt){Ext.apply(e,{getItemCt:function(){return e.itemCt},customItemCt:true})}e.label=e.getItemCt().child("label.x-form-item-label");if(!e.rendered){e.render("x-form-el-"+e.id)}else{if(!this.isValidParent(e,d)){Ext.fly("x-form-el-"+e.id).appendChild(e.getPositionEl())}}if(this.trackLabels){if(e.hidden){this.onFieldHide(e)}e.on({scope:this,show:this.onFieldShow,hide:this.onFieldHide})}this.configureItem(e)}else{Ext.layout.FormLayout.superclass.renderItem.apply(this,arguments)}},getTemplateArgs:function(b){var a=!b.fieldLabel||b.hideLabel;return{id:b.id,label:b.fieldLabel,itemCls:(b.itemCls||this.container.itemCls||"")+(b.hideLabel?" x-hide-label":""),clearCls:b.clearCls||"x-form-clear-left",labelStyle:this.getLabelStyle(b.labelStyle),elementStyle:this.elementStyle||"",labelSeparator:a?"":(Ext.isDefined(b.labelSeparator)?b.labelSeparator:this.labelSeparator)}},adjustWidthAnchor:function(a,d){if(d.label&&!this.isHide(d)&&(this.container.labelAlign!="top")){var b=Ext.isIE6||(Ext.isIE&&!Ext.isStrict);return a-this.labelAdjust+(b?-3:0)}return a},adjustHeightAnchor:function(a,b){if(b.label&&!this.isHide(b)&&(this.container.labelAlign=="top")){return a-b.label.getHeight()}return a},isValidParent:function(b,a){return a&&this.container.getEl().contains(b.getPositionEl())}});Ext.Container.LAYOUTS.form=Ext.layout.FormLayout;Ext.layout.AccordionLayout=Ext.extend(Ext.layout.FitLayout,{fill:true,autoWidth:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:false,animate:false,sequence:false,activeOnTop:false,type:"accordion",renderItem:function(a){if(this.animate===false){a.animCollapse=false}a.collapsible=true;if(this.autoWidth){a.autoWidth=true}if(this.titleCollapse){a.titleCollapse=true}if(this.hideCollapseTool){a.hideCollapseTool=true}if(this.collapseFirst!==undefined){a.collapseFirst=this.collapseFirst}if(!this.activeItem&&!a.collapsed){this.setActiveItem(a,true)}else{if(this.activeItem&&this.activeItem!=a){a.collapsed=true}}Ext.layout.AccordionLayout.superclass.renderItem.apply(this,arguments);a.header.addClass("x-accordion-hd");a.on("beforeexpand",this.beforeExpand,this)},onRemove:function(a){Ext.layout.AccordionLayout.superclass.onRemove.call(this,a);if(a.rendered){a.header.removeClass("x-accordion-hd")}a.un("beforeexpand",this.beforeExpand,this)},beforeExpand:function(c,b){var a=this.activeItem;if(a){if(this.sequence){delete this.activeItem;if(!a.collapsed){a.collapse({callback:function(){c.expand(b||true)},scope:this});return false}}else{a.collapse(this.animate)}}this.setActive(c);if(this.activeOnTop){c.el.dom.parentNode.insertBefore(c.el.dom,c.el.dom.parentNode.firstChild)}this.layout()},setItemSize:function(g,e){if(this.fill&&g){var d=0,c,b=this.getRenderedItems(this.container),a=b.length,h;for(c=0;c<a;c++){if((h=b[c])!=g&&!h.hidden){d+=h.header.getHeight()}}e.height-=d;g.setSize(e)}},setActiveItem:function(a){this.setActive(a,true)},setActive:function(c,b){var a=this.activeItem;c=this.container.getComponent(c);if(a!=c){if(c.rendered&&c.collapsed&&b){c.expand()}else{if(a){a.fireEvent("deactivate",a)}this.activeItem=c;c.fireEvent("activate",c)}}}});Ext.Container.LAYOUTS.accordion=Ext.layout.AccordionLayout;Ext.layout.Accordion=Ext.layout.AccordionLayout;Ext.layout.TableLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:false,type:"table",targetCls:"x-table-layout-ct",tableAttrs:null,setContainer:function(a){Ext.layout.TableLayout.superclass.setContainer.call(this,a);this.currentRow=0;this.currentColumn=0;this.cells=[]},onLayout:function(d,g){var e=d.items.items,a=e.length,h,b;if(!this.table){g.addClass("x-table-layout-ct");this.table=g.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true)}this.renderAll(d,g)},getRow:function(a){var b=this.table.tBodies[0].childNodes[a];if(!b){b=document.createElement("tr");this.table.tBodies[0].appendChild(b)}return b},getNextCell:function(k){var a=this.getNextNonSpan(this.currentColumn,this.currentRow);var g=this.currentColumn=a[0],e=this.currentRow=a[1];for(var i=e;i<e+(k.rowspan||1);i++){if(!this.cells[i]){this.cells[i]=[]}for(var d=g;d<g+(k.colspan||1);d++){this.cells[i][d]=true}}var h=document.createElement("td");if(k.cellId){h.id=k.cellId}var b="x-table-layout-cell";if(k.cellCls){b+=" "+k.cellCls}h.className=b;if(k.colspan){h.colSpan=k.colspan}if(k.rowspan){h.rowSpan=k.rowspan}this.getRow(e).appendChild(h);return h},getNextNonSpan:function(a,c){var b=this.columns;while((b&&a>=b)||(this.cells[c]&&this.cells[c][a])){if(b&&a>=b){c++;a=0}else{a++}}return[a,c]},renderItem:function(e,a,d){if(!this.table){this.table=d.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true)}if(e&&!e.rendered){e.render(this.getNextCell(e));this.configureItem(e)}else{if(e&&!this.isValidParent(e,d)){var b=this.getNextCell(e);b.insertBefore(e.getPositionEl().dom,null);e.container=Ext.get(b);this.configureItem(e)}}},isValidParent:function(b,a){return b.getPositionEl().up("table",5).dom.parentNode===(a.dom||a)},destroy:function(){delete this.table;Ext.layout.TableLayout.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.table=Ext.layout.TableLayout;Ext.layout.AbsoluteLayout=Ext.extend(Ext.layout.AnchorLayout,{extraCls:"x-abs-layout-item",type:"absolute",onLayout:function(a,b){b.position();this.paddingLeft=b.getPadding("l");this.paddingTop=b.getPadding("t");Ext.layout.AbsoluteLayout.superclass.onLayout.call(this,a,b)},adjustWidthAnchor:function(b,a){return b?b-a.getPosition(true)[0]+this.paddingLeft:b},adjustHeightAnchor:function(b,a){return b?b-a.getPosition(true)[1]+this.paddingTop:b}});Ext.Container.LAYOUTS.absolute=Ext.layout.AbsoluteLayout;Ext.layout.BoxLayout=Ext.extend(Ext.layout.ContainerLayout,{defaultMargins:{left:0,top:0,right:0,bottom:0},padding:"0",pack:"start",monitorResize:true,type:"box",scrollOffset:0,extraCls:"x-box-item",targetCls:"x-box-layout-ct",innerCls:"x-box-inner",constructor:function(a){Ext.layout.BoxLayout.superclass.constructor.call(this,a);if(Ext.isString(this.defaultMargins)){this.defaultMargins=this.parseMargins(this.defaultMargins)}var d=this.overflowHandler;if(typeof d=="string"){d={type:d}}var c="none";if(d&&d.type!=undefined){c=d.type}var b=Ext.layout.boxOverflow[c];if(b[this.type]){b=b[this.type]}this.overflowHandler=new b(this,d)},onLayout:function(b,h){Ext.layout.BoxLayout.superclass.onLayout.call(this,b,h);var d=this.getLayoutTargetSize(),i=this.getVisibleItems(b),c=this.calculateChildBoxes(i,d),g=c.boxes,k=c.meta;if(d.width>0){var l=this.overflowHandler,a=k.tooNarrow?"handleOverflow":"clearOverflow";var e=l[a](c,d);if(e){if(e.targetSize){d=e.targetSize}if(e.recalculate){i=this.getVisibleItems(b);c=this.calculateChildBoxes(i,d);g=c.boxes}}}this.layoutTargetLastSize=d;this.childBoxCache=c;this.updateInnerCtSize(d,c);this.updateChildBoxes(g);this.handleTargetOverflow(d,b,h)},updateChildBoxes:function(c){for(var b=0,e=c.length;b<e;b++){var d=c[b],a=d.component;if(d.dirtySize){a.setSize(d.width,d.height)}if(isNaN(d.left)||isNaN(d.top)){continue}a.setPosition(d.left,d.top)}},updateInnerCtSize:function(c,h){var i=this.align,g=this.padding,e=c.width,a=c.height;if(this.type=="hbox"){var b=e,d=h.meta.maxHeight+g.top+g.bottom;if(i=="stretch"){d=a}else{if(i=="middle"){d=Math.max(a,d)}}}else{var d=a,b=h.meta.maxWidth+g.left+g.right;if(i=="stretch"){b=e}else{if(i=="center"){b=Math.max(e,b)}}}this.innerCt.setSize(b||undefined,d||undefined)},handleTargetOverflow:function(d,a,c){var e=c.getStyle("overflow");if(e&&e!="hidden"&&!this.adjustmentPass){var b=this.getLayoutTargetSize();if(b.width!=d.width||b.height!=d.height){this.adjustmentPass=true;this.onLayout(a,c)}}delete this.adjustmentPass},isValidParent:function(b,a){return this.innerCt&&b.getPositionEl().dom.parentNode==this.innerCt.dom},getVisibleItems:function(g){var g=g||this.container,e=g.getLayoutTarget(),h=g.items.items,a=h.length,d,k,b=[];for(d=0;d<a;d++){if((k=h[d]).rendered&&this.isValidParent(k,e)&&k.hidden!==true&&k.collapsed!==true&&k.shouldLayout!==false){b.push(k)}}return b},renderAll:function(a,b){if(!this.innerCt){this.innerCt=b.createChild({cls:this.innerCls});this.padding=this.parseMargins(this.padding)}Ext.layout.BoxLayout.superclass.renderAll.call(this,a,this.innerCt)},getLayoutTargetSize:function(){var b=this.container.getLayoutTarget(),a;if(b){a=b.getViewSize();if(Ext.isIE&&Ext.isStrict&&a.width==0){a=b.getStyleSize()}a.width-=b.getPadding("lr");a.height-=b.getPadding("tb")}return a},renderItem:function(a){if(Ext.isString(a.margins)){a.margins=this.parseMargins(a.margins)}else{if(!a.margins){a.margins=this.defaultMargins}}Ext.layout.BoxLayout.superclass.renderItem.apply(this,arguments)},destroy:function(){Ext.destroy(this.overflowHandler);Ext.layout.BoxLayout.superclass.destroy.apply(this,arguments)}});Ext.ns("Ext.layout.boxOverflow");Ext.layout.boxOverflow.None=Ext.extend(Object,{constructor:function(b,a){this.layout=b;Ext.apply(this,a||{})},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn});Ext.layout.boxOverflow.none=Ext.layout.boxOverflow.None;Ext.layout.boxOverflow.Menu=Ext.extend(Ext.layout.boxOverflow.None,{afterCls:"x-strip-right",noItemsMenuText:'<div class="x-toolbar-no-items">(None)</div>',constructor:function(a){Ext.layout.boxOverflow.Menu.superclass.constructor.apply(this,arguments);this.menuItems=[]},createInnerElements:function(){if(!this.afterCt){this.afterCt=this.layout.innerCt.insertSibling({cls:this.afterCls},"before")}},clearOverflow:function(a,g){var e=g.width+(this.afterCt?this.afterCt.getWidth():0),b=this.menuItems;this.hideTrigger();for(var c=0,d=b.length;c<d;c++){b.pop().component.show()}return{targetSize:{height:g.height,width:e}}},showTrigger:function(){this.createMenu();this.menuTrigger.show()},hideTrigger:function(){if(this.menuTrigger!=undefined){this.menuTrigger.hide()}},beforeMenuShow:function(h){var b=this.menuItems,a=b.length,g,e;var c=function(k,i){return k.isXType("buttongroup")&&!(i instanceof Ext.Toolbar.Separator)};this.clearMenu();h.removeAll();for(var d=0;d<a;d++){g=b[d].component;if(e&&(c(g,e)||c(e,g))){h.add("-")}this.addComponentToMenu(h,g);e=g}if(h.items.length<1){h.add(this.noItemsMenuText)}},createMenuConfig:function(c,a){var b=Ext.apply({},c.initialConfig),d=c.toggleGroup;Ext.copyTo(b,c,["iconCls","icon","itemId","disabled","handler","scope","menu"]);Ext.apply(b,{text:c.overflowText||c.text,hideOnClick:a});if(d||c.enableToggle){Ext.apply(b,{group:d,checked:c.pressed,listeners:{checkchange:function(g,e){c.toggle(e)}}})}delete b.ownerCt;delete b.xtype;delete b.id;return b},addComponentToMenu:function(b,a){if(a instanceof Ext.Toolbar.Separator){b.add("-")}else{if(Ext.isFunction(a.isXType)){if(a.isXType("splitbutton")){b.add(this.createMenuConfig(a,true))}else{if(a.isXType("button")){b.add(this.createMenuConfig(a,!a.menu))}else{if(a.isXType("buttongroup")){a.items.each(function(c){this.addComponentToMenu(b,c)},this)}}}}}},clearMenu:function(){var a=this.moreMenu;if(a&&a.items){a.items.each(function(b){delete b.menu})}},createMenu:function(){if(!this.menuTrigger){this.createInnerElements();this.menu=new Ext.menu.Menu({ownerCt:this.layout.container,listeners:{scope:this,beforeshow:this.beforeMenuShow}});this.menuTrigger=new Ext.Button({iconCls:"x-toolbar-more-icon",cls:"x-toolbar-more",menu:this.menu,renderTo:this.afterCt})}},destroy:function(){Ext.destroy(this.menu,this.menuTrigger)}});Ext.layout.boxOverflow.menu=Ext.layout.boxOverflow.Menu;Ext.layout.boxOverflow.HorizontalMenu=Ext.extend(Ext.layout.boxOverflow.Menu,{constructor:function(){Ext.layout.boxOverflow.HorizontalMenu.superclass.constructor.apply(this,arguments);var c=this,b=c.layout,a=b.calculateChildBoxes;b.calculateChildBoxes=function(d,i){var m=a.apply(b,arguments),l=m.meta,e=c.menuItems;var k=0;for(var g=0,h=e.length;g<h;g++){k+=e[g].width}l.minimumWidth+=k;l.tooNarrow=l.minimumWidth>i.width;return m}},handleOverflow:function(d,h){this.showTrigger();var l=h.width-this.afterCt.getWidth(),m=d.boxes,e=0,s=false;for(var p=0,c=m.length;p<c;p++){e+=m[p].width}var a=l-e,g=0;for(var p=0,c=this.menuItems.length;p<c;p++){var o=this.menuItems[p],n=o.component,b=o.width;if(b<a){n.show();a-=b;g++;s=true}else{break}}if(s){this.menuItems=this.menuItems.slice(g)}else{for(var k=m.length-1;k>=0;k--){var r=m[k].component,q=m[k].left+m[k].width;if(q>=l){this.menuItems.unshift({component:r,width:m[k].width});r.hide()}else{break}}}if(this.menuItems.length==0){this.hideTrigger()}return{targetSize:{height:h.height,width:l},recalculate:s}}});Ext.layout.boxOverflow.menu.hbox=Ext.layout.boxOverflow.HorizontalMenu;Ext.layout.boxOverflow.Scroller=Ext.extend(Ext.layout.boxOverflow.None,{animateScroll:true,scrollIncrement:100,wheelIncrement:3,scrollRepeatInterval:400,scrollDuration:0.4,beforeCls:"x-strip-left",afterCls:"x-strip-right",scrollerCls:"x-strip-scroller",beforeScrollerCls:"x-strip-scroller-left",afterScrollerCls:"x-strip-scroller-right",createWheelListener:function(){this.layout.innerCt.on({scope:this,mousewheel:function(a){a.stopEvent();this.scrollBy(a.getWheelDelta()*this.wheelIncrement*-1,false)}})},handleOverflow:function(a,b){this.createInnerElements();this.showScrollers()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){this.createScrollers();this.beforeScroller.show();this.afterScroller.show();this.updateScrollButtons()},hideScrollers:function(){if(this.beforeScroller!=undefined){this.beforeScroller.hide();this.afterScroller.hide()}},createScrollers:function(){if(!this.beforeScroller&&!this.afterScroller){var a=this.beforeCt.createChild({cls:String.format("{0} {1} ",this.scrollerCls,this.beforeScrollerCls)});var b=this.afterCt.createChild({cls:String.format("{0} {1}",this.scrollerCls,this.afterScrollerCls)});a.addClassOnOver(this.beforeScrollerCls+"-hover");b.addClassOnOver(this.afterScrollerCls+"-hover");a.setVisibilityMode(Ext.Element.DISPLAY);b.setVisibilityMode(Ext.Element.DISPLAY);this.beforeRepeater=new Ext.util.ClickRepeater(a,{interval:this.scrollRepeatInterval,handler:this.scrollLeft,scope:this});this.afterRepeater=new Ext.util.ClickRepeater(b,{interval:this.scrollRepeatInterval,handler:this.scrollRight,scope:this});this.beforeScroller=a;this.afterScroller=b}},destroy:function(){Ext.destroy(this.beforeScroller,this.afterScroller,this.beforeRepeater,this.afterRepeater,this.beforeCt,this.afterCt)},scrollBy:function(b,a){this.scrollTo(this.getScrollPosition()+b,a)},getItem:function(a){if(Ext.isString(a)){a=Ext.getCmp(a)}else{if(Ext.isNumber(a)){a=this.items[a]}}return a},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){if(this.beforeScroller==undefined||this.afterScroller==undefined){return}var d=this.atExtremeBefore()?"addClass":"removeClass",c=this.atExtremeAfter()?"addClass":"removeClass",a=this.beforeScrollerCls+"-disabled",b=this.afterScrollerCls+"-disabled";this.beforeScroller[d](a);this.afterScroller[c](b);this.scrolling=false},atExtremeBefore:function(){return this.getScrollPosition()===0},scrollLeft:function(a){this.scrollBy(-this.scrollIncrement,a)},scrollRight:function(a){this.scrollBy(this.scrollIncrement,a)},scrollToItem:function(d,b){d=this.getItem(d);if(d!=undefined){var a=this.getItemVisibility(d);if(!a.fullyVisible){var c=d.getBox(true,true),e=c.x;if(a.hiddenRight){e-=(this.layout.innerCt.getWidth()-c.width)}this.scrollTo(e,b)}}},getItemVisibility:function(e){var d=this.getItem(e).getBox(true,true),a=d.x,c=d.x+d.width,g=this.getScrollPosition(),b=this.layout.innerCt.getWidth()+g;return{hiddenLeft:a<g,hiddenRight:c>b,fullyVisible:a>g&&c<b}}});Ext.layout.boxOverflow.scroller=Ext.layout.boxOverflow.Scroller;Ext.layout.boxOverflow.VerticalScroller=Ext.extend(Ext.layout.boxOverflow.Scroller,{scrollIncrement:75,wheelIncrement:2,handleOverflow:function(a,b){Ext.layout.boxOverflow.VerticalScroller.superclass.handleOverflow.apply(this,arguments);return{targetSize:{height:b.height-(this.beforeCt.getHeight()+this.afterCt.getHeight()),width:b.width}}},createInnerElements:function(){var a=this.layout.innerCt;if(!this.beforeCt){this.beforeCt=a.insertSibling({cls:this.beforeCls},"before");this.afterCt=a.insertSibling({cls:this.afterCls},"after");this.createWheelListener()}},scrollTo:function(a,b){var d=this.getScrollPosition(),c=a.constrain(0,this.getMaxScrollBottom());if(c!=d&&!this.scrolling){if(b==undefined){b=this.animateScroll}this.layout.innerCt.scrollTo("top",c,b?this.getScrollAnim():false);if(b){this.scrolling=true}else{this.scrolling=false;this.updateScrollButtons()}}},getScrollPosition:function(){return parseInt(this.layout.innerCt.dom.scrollTop,10)||0},getMaxScrollBottom:function(){return this.layout.innerCt.dom.scrollHeight-this.layout.innerCt.getHeight()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollBottom()}});Ext.layout.boxOverflow.scroller.vbox=Ext.layout.boxOverflow.VerticalScroller;Ext.layout.boxOverflow.HorizontalScroller=Ext.extend(Ext.layout.boxOverflow.Scroller,{handleOverflow:function(a,b){Ext.layout.boxOverflow.HorizontalScroller.superclass.handleOverflow.apply(this,arguments);return{targetSize:{height:b.height,width:b.width-(this.beforeCt.getWidth()+this.afterCt.getWidth())}}},createInnerElements:function(){var a=this.layout.innerCt;if(!this.beforeCt){this.afterCt=a.insertSibling({cls:this.afterCls},"before");this.beforeCt=a.insertSibling({cls:this.beforeCls},"before");this.createWheelListener()}},scrollTo:function(a,b){var d=this.getScrollPosition(),c=a.constrain(0,this.getMaxScrollRight());if(c!=d&&!this.scrolling){if(b==undefined){b=this.animateScroll}this.layout.innerCt.scrollTo("left",c,b?this.getScrollAnim():false);if(b){this.scrolling=true}else{this.scrolling=false;this.updateScrollButtons()}}},getScrollPosition:function(){return parseInt(this.layout.innerCt.dom.scrollLeft,10)||0},getMaxScrollRight:function(){return this.layout.innerCt.dom.scrollWidth-this.layout.innerCt.getWidth()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollRight()}});Ext.layout.boxOverflow.scroller.hbox=Ext.layout.boxOverflow.HorizontalScroller;Ext.layout.HBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"top",type:"hbox",calculateChildBoxes:function(s,b){var G=s.length,S=this.padding,E=S.top,V=S.left,z=E+S.bottom,P=V+S.right,a=b.width-this.scrollOffset,e=b.height,p=Math.max(0,e-z),Q=this.pack=="start",X=this.pack=="center",B=this.pack=="end",M=0,R=0,U=0,m=0,Y=0,I=[],l,K,N,W,x,k,T,J,c,y,r,O;for(T=0;T<G;T++){l=s[T];N=l.height;K=l.width;k=!l.hasLayout&&typeof l.doLayout=="function";if(typeof K!="number"){if(l.flex&&!K){U+=l.flex}else{if(!K&&k){l.doLayout()}W=l.getSize();K=W.width;N=W.height}}x=l.margins;y=x.left+x.right;M+=y+(K||0);m+=y+(l.flex?l.minWidth||0:K);Y+=y+(l.minWidth||K||0);if(typeof N!="number"){if(k){l.doLayout()}N=l.getHeight()}R=Math.max(R,N+x.top+x.bottom);I.push({component:l,height:N||undefined,width:K||undefined})}var L=m-a,q=Y>a;var o=Math.max(0,a-M-P);if(q){for(T=0;T<G;T++){I[T].width=s[T].minWidth||s[T].width||I[T].width}}else{if(L>0){var D=[];for(var F=0,w=G;F<w;F++){var C=s[F],u=C.minWidth||0;if(C.flex){I[F].width=u}else{D.push({minWidth:u,available:I[F].width-u,index:F})}}D.sort(function(Z,i){return Z.available>i.available?1:-1});for(var T=0,w=D.length;T<w;T++){var H=D[T].index;if(H==undefined){continue}var C=s[H],n=I[H],v=n.width,u=C.minWidth,d=Math.max(u,v-Math.ceil(L/(w-T))),g=v-d;I[H].width=d;L-=g}}else{var h=o,t=U;for(T=0;T<G;T++){l=s[T];J=I[T];x=l.margins;r=x.top+x.bottom;if(Q&&l.flex&&!l.width){c=Math.ceil((l.flex/t)*h);h-=c;t-=l.flex;J.width=c;J.dirtySize=true}}}}if(X){V+=o/2}else{if(B){V+=o}}for(T=0;T<G;T++){l=s[T];J=I[T];x=l.margins;V+=x.left;r=x.top+x.bottom;J.left=V;J.top=E+x.top;switch(this.align){case"stretch":O=p-r;J.height=O.constrain(l.minHeight||0,l.maxHeight||1000000);J.dirtySize=true;break;case"stretchmax":O=R-r;J.height=O.constrain(l.minHeight||0,l.maxHeight||1000000);J.dirtySize=true;break;case"middle":var A=p-J.height-r;if(A>0){J.top=E+r+(A/2)}}V+=J.width+x.right}return{boxes:I,meta:{maxHeight:R,nonFlexWidth:M,desiredWidth:m,minimumWidth:Y,shortfall:m-a,tooNarrow:q}}}});Ext.Container.LAYOUTS.hbox=Ext.layout.HBoxLayout;Ext.layout.VBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"left",type:"vbox",calculateChildBoxes:function(q,b){var G=q.length,T=this.padding,E=T.top,W=T.left,z=E+T.bottom,Q=W+T.right,a=b.width-this.scrollOffset,d=b.height,M=Math.max(0,a-Q),R=this.pack=="start",Y=this.pack=="center",B=this.pack=="end",m=0,w=0,V=0,N=0,o=0,I=[],k,K,P,X,v,h,U,J,c,y,p,e;for(U=0;U<G;U++){k=q[U];P=k.height;K=k.width;h=!k.hasLayout&&typeof k.doLayout=="function";if(typeof P!="number"){if(k.flex&&!P){V+=k.flex}else{if(!P&&h){k.doLayout()}X=k.getSize();K=X.width;P=X.height}}v=k.margins;p=v.top+v.bottom;m+=p+(P||0);N+=p+(k.flex?k.minHeight||0:P);o+=p+(k.minHeight||P||0);if(typeof K!="number"){if(h){k.doLayout()}K=k.getWidth()}w=Math.max(w,K+v.left+v.right);I.push({component:k,height:P||undefined,width:K||undefined})}var O=N-d,n=o>d;var s=Math.max(0,(d-m-z));if(n){for(U=0,t=G;U<t;U++){I[U].height=q[U].minHeight||q[U].height||I[U].height}}else{if(O>0){var L=[];for(var F=0,t=G;F<t;F++){var C=q[F],u=C.minHeight||0;if(C.flex){I[F].height=u}else{L.push({minHeight:u,available:I[F].height-u,index:F})}}L.sort(function(Z,i){return Z.available>i.available?1:-1});for(var U=0,t=L.length;U<t;U++){var H=L[U].index;if(H==undefined){continue}var C=q[H],l=I[H],x=l.height,u=C.minHeight,D=Math.max(u,x-Math.ceil(O/(t-U))),g=x-D;I[H].height=D;O-=g}}else{var S=s,r=V;for(U=0;U<G;U++){k=q[U];J=I[U];v=k.margins;y=v.left+v.right;if(R&&k.flex&&!k.height){flexedHeight=Math.ceil((k.flex/r)*S);S-=flexedHeight;r-=k.flex;J.height=flexedHeight;J.dirtySize=true}}}}if(Y){E+=s/2}else{if(B){E+=s}}for(U=0;U<G;U++){k=q[U];J=I[U];v=k.margins;E+=v.top;y=v.left+v.right;J.left=W+v.left;J.top=E;switch(this.align){case"stretch":e=M-y;J.width=e.constrain(k.minWidth||0,k.maxWidth||1000000);J.dirtySize=true;break;case"stretchmax":e=w-y;J.width=e.constrain(k.minWidth||0,k.maxWidth||1000000);J.dirtySize=true;break;case"center":var A=M-J.width-y;if(A>0){J.left=W+y+(A/2)}}E+=J.height+v.bottom}return{boxes:I,meta:{maxWidth:w,nonFlexHeight:m,desiredHeight:N,minimumHeight:o,shortfall:N-d,tooNarrow:n}}}});Ext.Container.LAYOUTS.vbox=Ext.layout.VBoxLayout;Ext.layout.ToolbarLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"toolbar",triggerWidth:18,noItemsMenuText:'<div class="x-toolbar-no-items">(None)</div>',lastOverflow:false,tableHTML:['<table cellspacing="0" class="x-toolbar-ct">',"<tbody>","<tr>",'<td class="x-toolbar-left" align="{0}">','<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-left-row"></tr>',"</tbody>","</table>","</td>",'<td class="x-toolbar-right" align="right">','<table cellspacing="0" class="x-toolbar-right-ct">',"<tbody>","<tr>","<td>",'<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-right-row"></tr>',"</tbody>","</table>","</td>","<td>",'<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-extras-row"></tr>',"</tbody>","</table>","</td>","</tr>","</tbody>","</table>","</td>","</tr>","</tbody>","</table>"].join(""),onLayout:function(e,k){if(!this.leftTr){var h=e.buttonAlign=="center"?"center":"left";k.addClass("x-toolbar-layout-ct");k.insertHtml("beforeEnd",String.format(this.tableHTML,h));this.leftTr=k.child("tr.x-toolbar-left-row",true);this.rightTr=k.child("tr.x-toolbar-right-row",true);this.extrasTr=k.child("tr.x-toolbar-extras-row",true);if(this.hiddenItem==undefined){this.hiddenItems=[]}}var l=e.buttonAlign=="right"?this.rightTr:this.leftTr,m=e.items.items,d=0;for(var b=0,g=m.length,n;b<g;b++,d++){n=m[b];if(n.isFill){l=this.rightTr;d=-1}else{if(!n.rendered){n.render(this.insertCell(n,l,d));this.configureItem(n)}else{if(!n.xtbHidden&&!this.isValidParent(n,l.childNodes[d])){var a=this.insertCell(n,l,d);a.appendChild(n.getPositionEl().dom);n.container=Ext.get(a)}}}}this.cleanup(this.leftTr);this.cleanup(this.rightTr);this.cleanup(this.extrasTr);this.fitToSize(k)},cleanup:function(b){var e=b.childNodes,a,d;for(a=e.length-1;a>=0&&(d=e[a]);a--){if(!d.firstChild){b.removeChild(d)}}},insertCell:function(e,b,a){var d=document.createElement("td");d.className="x-toolbar-cell";b.insertBefore(d,b.childNodes[a]||null);return d},hideItem:function(a){this.hiddenItems.push(a);a.xtbHidden=true;a.xtbWidth=a.getPositionEl().dom.parentNode.offsetWidth;a.hide()},unhideItem:function(a){a.show();a.xtbHidden=false;this.hiddenItems.remove(a)},getItemWidth:function(a){return a.hidden?(a.xtbWidth||0):a.getPositionEl().dom.parentNode.offsetWidth},fitToSize:function(l){if(this.container.enableOverflow===false){return}var b=l.dom.clientWidth,k=l.dom.firstChild.offsetWidth,n=b-this.triggerWidth,a=this.lastWidth||0,c=this.hiddenItems,e=c.length!=0,o=b>=a;this.lastWidth=b;if(k>b||(e&&o)){var m=this.container.items.items,h=m.length,d=0,p;for(var g=0;g<h;g++){p=m[g];if(!p.isFill){d+=this.getItemWidth(p);if(d>n){if(!(p.hidden||p.xtbHidden)){this.hideItem(p)}}else{if(p.xtbHidden){this.unhideItem(p)}}}}}e=c.length!=0;if(e){this.initMore();if(!this.lastOverflow){this.container.fireEvent("overflowchange",this.container,true);this.lastOverflow=true}}else{if(this.more){this.clearMenu();this.more.destroy();delete this.more;if(this.lastOverflow){this.container.fireEvent("overflowchange",this.container,false);this.lastOverflow=false}}}},createMenuConfig:function(c,a){var b=Ext.apply({},c.initialConfig),d=c.toggleGroup;Ext.copyTo(b,c,["iconCls","icon","itemId","disabled","handler","scope","menu"]);Ext.apply(b,{text:c.overflowText||c.text,hideOnClick:a});if(d||c.enableToggle){Ext.apply(b,{group:d,checked:c.pressed,listeners:{checkchange:function(g,e){c.toggle(e)}}})}delete b.ownerCt;delete b.xtype;delete b.id;return b},addComponentToMenu:function(b,a){if(a instanceof Ext.Toolbar.Separator){b.add("-")}else{if(Ext.isFunction(a.isXType)){if(a.isXType("splitbutton")){b.add(this.createMenuConfig(a,true))}else{if(a.isXType("button")){b.add(this.createMenuConfig(a,!a.menu))}else{if(a.isXType("buttongroup")){a.items.each(function(c){this.addComponentToMenu(b,c)},this)}}}}}},clearMenu:function(){var a=this.moreMenu;if(a&&a.items){a.items.each(function(b){delete b.menu})}},beforeMoreShow:function(h){var b=this.container.items.items,a=b.length,g,e;var c=function(k,i){return k.isXType("buttongroup")&&!(i instanceof Ext.Toolbar.Separator)};this.clearMenu();h.removeAll();for(var d=0;d<a;d++){g=b[d];if(g.xtbHidden){if(e&&(c(g,e)||c(e,g))){h.add("-")}this.addComponentToMenu(h,g);e=g}}if(h.items.length<1){h.add(this.noItemsMenuText)}},initMore:function(){if(!this.more){this.moreMenu=new Ext.menu.Menu({ownerCt:this.container,listeners:{beforeshow:this.beforeMoreShow,scope:this}});this.more=new Ext.Button({iconCls:"x-toolbar-more-icon",cls:"x-toolbar-more",menu:this.moreMenu,ownerCt:this.container});var a=this.insertCell(this.more,this.extrasTr,100);this.more.render(a)}},destroy:function(){Ext.destroy(this.more,this.moreMenu);delete this.leftTr;delete this.rightTr;delete this.extrasTr;Ext.layout.ToolbarLayout.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.toolbar=Ext.layout.ToolbarLayout;Ext.layout.MenuLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"menu",setContainer:function(a){this.monitorResize=!a.floating;a.on("autosize",this.doAutoSize,this);Ext.layout.MenuLayout.superclass.setContainer.call(this,a)},renderItem:function(g,b,e){if(!this.itemTpl){this.itemTpl=Ext.layout.MenuLayout.prototype.itemTpl=new Ext.XTemplate('<li id="{itemId}" class="{itemCls}">','<tpl if="needsIcon">','<img alt="{altText}" src="{icon}" class="{iconCls}"/>',"</tpl>","</li>")}if(g&&!g.rendered){if(Ext.isNumber(b)){b=e.dom.childNodes[b]}var d=this.getItemArgs(g);g.render(g.positionEl=b?this.itemTpl.insertBefore(b,d,true):this.itemTpl.append(e,d,true));g.positionEl.menuItemId=g.getItemId();if(!d.isMenuItem&&d.needsIcon){g.positionEl.addClass("x-menu-list-item-indent")}this.configureItem(g)}else{if(g&&!this.isValidParent(g,e)){if(Ext.isNumber(b)){b=e.dom.childNodes[b]}e.dom.insertBefore(g.getActionEl().dom,b||null)}}},getItemArgs:function(d){var a=d instanceof Ext.menu.Item,b=!(a||d instanceof Ext.menu.Separator);return{isMenuItem:a,needsIcon:b&&(d.icon||d.iconCls),icon:d.icon||Ext.BLANK_IMAGE_URL,iconCls:"x-menu-item-icon "+(d.iconCls||""),itemId:"x-menu-el-"+d.id,itemCls:"x-menu-list-item ",altText:d.altText||""}},isValidParent:function(b,a){return b.el.up("li.x-menu-list-item",5).dom.parentNode===(a.dom||a)},onLayout:function(a,b){Ext.layout.MenuLayout.superclass.onLayout.call(this,a,b);this.doAutoSize()},doAutoSize:function(){var c=this.container,a=c.width;if(c.floating){if(a){c.setWidth(a)}else{if(Ext.isIE){c.setWidth(Ext.isStrict&&(Ext.isIE7||Ext.isIE8)?"auto":c.minWidth);var d=c.getEl(),b=d.dom.offsetWidth;c.setWidth(c.getLayoutTarget().getWidth()+d.getFrameWidth("lr"))}}}}});Ext.Container.LAYOUTS.menu=Ext.layout.MenuLayout;Ext.Viewport=Ext.extend(Ext.Container,{initComponent:function(){Ext.Viewport.superclass.initComponent.call(this);document.getElementsByTagName("html")[0].className+=" x-viewport";this.el=Ext.getBody();this.el.setHeight=Ext.emptyFn;this.el.setWidth=Ext.emptyFn;this.el.setSize=Ext.emptyFn;this.el.dom.scroll="no";this.allowDomMove=false;this.autoWidth=true;this.autoHeight=true;Ext.EventManager.onWindowResize(this.fireResize,this);this.renderTo=this.el},fireResize:function(a,b){this.fireEvent("resize",this,a,b,a,b)}});Ext.reg("viewport",Ext.Viewport);Ext.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",collapsedCls:"x-panel-collapsed",maskDisabled:true,animCollapse:Ext.enableFx,headerAsText:true,buttonAlign:"right",collapsed:false,collapseFirst:true,minButtonWidth:75,elements:"body",preventBodyReset:false,padding:undefined,resizeEvent:"bodyresize",toolTarget:"header",collapseEl:"bwrap",slideAnchor:"t",disabledClass:"",deferHeight:true,expandDefaults:{duration:0.25},collapseDefaults:{duration:0.25},initComponent:function(){Ext.Panel.superclass.initComponent.call(this);this.addEvents("bodyresize","titlechange","iconchange","collapse","expand","beforecollapse","beforeexpand","beforeclose","close","activate","deactivate");if(this.unstyled){this.baseCls="x-plain"}this.toolbars=[];if(this.tbar){this.elements+=",tbar";this.topToolbar=this.createToolbar(this.tbar);this.tbar=null}if(this.bbar){this.elements+=",bbar";this.bottomToolbar=this.createToolbar(this.bbar);this.bbar=null}if(this.header===true){this.elements+=",header";this.header=null}else{if(this.headerCfg||(this.title&&this.header!==false)){this.elements+=",header"}}if(this.footerCfg||this.footer===true){this.elements+=",footer";this.footer=null}if(this.buttons){this.fbar=this.buttons;this.buttons=null}if(this.fbar){this.createFbar(this.fbar)}if(this.autoLoad){this.on("render",this.doAutoLoad,this,{delay:10})}},createFbar:function(b){var a=this.minButtonWidth;this.elements+=",footer";this.fbar=this.createToolbar(b,{buttonAlign:this.buttonAlign,toolbarCls:"x-panel-fbar",enableOverflow:false,defaults:function(d){return{minWidth:d.minWidth||a}}});this.fbar.items.each(function(d){d.minWidth=d.minWidth||this.minButtonWidth},this);this.buttons=this.fbar.items.items},createToolbar:function(b,c){var a;if(Ext.isArray(b)){b={items:b}}a=b.events?Ext.apply(b,c):this.createComponent(Ext.apply({},b,c),"toolbar");this.toolbars.push(a);return a},createElement:function(a,c){if(this[a]){c.appendChild(this[a].dom);return}if(a==="bwrap"||this.elements.indexOf(a)!=-1){if(this[a+"Cfg"]){this[a]=Ext.fly(c).createChild(this[a+"Cfg"])}else{var b=document.createElement("div");b.className=this[a+"Cls"];this[a]=Ext.get(c.appendChild(b))}if(this[a+"CssClass"]){this[a].addClass(this[a+"CssClass"])}if(this[a+"Style"]){this[a].applyStyles(this[a+"Style"])}}},onRender:function(g,e){Ext.Panel.superclass.onRender.call(this,g,e);this.createClasses();var a=this.el,h=a.dom,l,i;if(this.collapsible&&!this.hideCollapseTool){this.tools=this.tools?this.tools.slice(0):[];this.tools[this.collapseFirst?"unshift":"push"]({id:"toggle",handler:this.toggleCollapse,scope:this})}if(this.tools){i=this.tools;this.elements+=(this.header!==false)?",header":""}this.tools={};a.addClass(this.baseCls);if(h.firstChild){this.header=a.down("."+this.headerCls);this.bwrap=a.down("."+this.bwrapCls);var k=this.bwrap?this.bwrap:a;this.tbar=k.down("."+this.tbarCls);this.body=k.down("."+this.bodyCls);this.bbar=k.down("."+this.bbarCls);this.footer=k.down("."+this.footerCls);this.fromMarkup=true}if(this.preventBodyReset===true){a.addClass("x-panel-reset")}if(this.cls){a.addClass(this.cls)}if(this.buttons){this.elements+=",footer"}if(this.frame){a.insertHtml("afterBegin",String.format(Ext.Element.boxMarkup,this.baseCls));this.createElement("header",h.firstChild.firstChild.firstChild);this.createElement("bwrap",h);l=this.bwrap.dom;var c=h.childNodes[1],b=h.childNodes[2];l.appendChild(c);l.appendChild(b);var m=l.firstChild.firstChild.firstChild;this.createElement("tbar",m);this.createElement("body",m);this.createElement("bbar",m);this.createElement("footer",l.lastChild.firstChild.firstChild);if(!this.footer){this.bwrap.dom.lastChild.className+=" x-panel-nofooter"}this.ft=Ext.get(this.bwrap.dom.lastChild);this.mc=Ext.get(m)}else{this.createElement("header",h);this.createElement("bwrap",h);l=this.bwrap.dom;this.createElement("tbar",l);this.createElement("body",l);this.createElement("bbar",l);this.createElement("footer",l);if(!this.header){this.body.addClass(this.bodyCls+"-noheader");if(this.tbar){this.tbar.addClass(this.tbarCls+"-noheader")}}}if(Ext.isDefined(this.padding)){this.body.setStyle("padding",this.body.addUnits(this.padding))}if(this.border===false){this.el.addClass(this.baseCls+"-noborder");this.body.addClass(this.bodyCls+"-noborder");if(this.header){this.header.addClass(this.headerCls+"-noborder")}if(this.footer){this.footer.addClass(this.footerCls+"-noborder")}if(this.tbar){this.tbar.addClass(this.tbarCls+"-noborder")}if(this.bbar){this.bbar.addClass(this.bbarCls+"-noborder")}}if(this.bodyBorder===false){this.body.addClass(this.bodyCls+"-noborder")}this.bwrap.enableDisplayMode("block");if(this.header){this.header.unselectable();if(this.headerAsText){this.header.dom.innerHTML='<span class="'+this.headerTextCls+'">'+this.header.dom.innerHTML+"</span>";if(this.iconCls){this.setIconClass(this.iconCls)}}}if(this.floating){this.makeFloating(this.floating)}if(this.collapsible&&this.titleCollapse&&this.header){this.mon(this.header,"click",this.toggleCollapse,this);this.header.setStyle("cursor","pointer")}if(i){this.addTool.apply(this,i)}if(this.fbar){this.footer.addClass("x-panel-btns");this.fbar.ownerCt=this;this.fbar.render(this.footer);this.footer.createChild({cls:"x-clear"})}if(this.tbar&&this.topToolbar){this.topToolbar.ownerCt=this;this.topToolbar.render(this.tbar)}if(this.bbar&&this.bottomToolbar){this.bottomToolbar.ownerCt=this;this.bottomToolbar.render(this.bbar)}},setIconClass:function(b){var a=this.iconCls;this.iconCls=b;if(this.rendered&&this.header){if(this.frame){this.header.addClass("x-panel-icon");this.header.replaceClass(a,this.iconCls)}else{var e=this.header,c=e.child("img.x-panel-inline-icon");if(c){Ext.fly(c).replaceClass(a,this.iconCls)}else{var d=e.child("span."+this.headerTextCls);if(d){Ext.DomHelper.insertBefore(d.dom,{tag:"img",alt:"",src:Ext.BLANK_IMAGE_URL,cls:"x-panel-inline-icon "+this.iconCls})}}}}this.fireEvent("iconchange",this,b,a)},makeFloating:function(a){this.floating=true;this.el=new Ext.Layer(Ext.apply({},a,{shadow:Ext.isDefined(this.shadow)?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:false,shim:this.shim===false?false:undefined}),this.el)},getTopToolbar:function(){return this.topToolbar},getBottomToolbar:function(){return this.bottomToolbar},getFooterToolbar:function(){return this.fbar},addButton:function(a,c,b){if(!this.fbar){this.createFbar([])}if(c){if(Ext.isString(a)){a={text:a}}a=Ext.apply({handler:c,scope:b},a)}return this.fbar.add(a)},addTool:function(){if(!this.rendered){if(!this.tools){this.tools=[]}Ext.each(arguments,function(a){this.tools.push(a)},this);return}if(!this[this.toolTarget]){return}if(!this.toolTemplate){var h=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');h.disableFormats=true;h.compile();Ext.Panel.prototype.toolTemplate=h}for(var g=0,d=arguments,c=d.length;g<c;g++){var b=d[g];if(!this.tools[b.id]){var k="x-tool-"+b.id+"-over";var e=this.toolTemplate.insertFirst(this[this.toolTarget],b,true);this.tools[b.id]=e;e.enableDisplayMode("block");this.mon(e,"click",this.createToolHandler(e,b,k,this));if(b.on){this.mon(e,b.on)}if(b.hidden){e.hide()}if(b.qtip){if(Ext.isObject(b.qtip)){Ext.QuickTips.register(Ext.apply({target:e.id},b.qtip))}else{e.dom.qtip=b.qtip}}e.addClassOnOver(k)}}},onLayout:function(b,a){Ext.Panel.superclass.onLayout.apply(this,arguments);if(this.hasLayout&&this.toolbars.length>0){Ext.each(this.toolbars,function(c){c.doLayout(undefined,a)});this.syncHeight()}},syncHeight:function(){var b=this.toolbarHeight,c=this.body,a=this.lastSize.height,d;if(this.autoHeight||!Ext.isDefined(a)||a=="auto"){return}if(b!=this.getToolbarHeight()){b=Math.max(0,a-this.getFrameHeight());c.setHeight(b);d=c.getSize();this.toolbarHeight=this.getToolbarHeight();this.onBodyResize(d.width,d.height)}},onShow:function(){if(this.floating){return this.el.show()}Ext.Panel.superclass.onShow.call(this)},onHide:function(){if(this.floating){return this.el.hide()}Ext.Panel.superclass.onHide.call(this)},createToolHandler:function(c,a,d,b){return function(g){c.removeClass(d);if(a.stopEvent!==false){g.stopEvent()}if(a.handler){a.handler.call(a.scope||c,g,c,b,a)}}},afterRender:function(){if(this.floating&&!this.hidden){this.el.show()}if(this.title){this.setTitle(this.title)}Ext.Panel.superclass.afterRender.call(this);if(this.collapsed){this.collapsed=false;this.collapse(false)}this.initEvents()},getKeyMap:function(){if(!this.keyMap){this.keyMap=new Ext.KeyMap(this.el,this.keys)}return this.keyMap},initEvents:function(){if(this.keys){this.getKeyMap()}if(this.draggable){this.initDraggable()}if(this.toolbars.length>0){Ext.each(this.toolbars,function(a){a.doLayout();a.on({scope:this,afterlayout:this.syncHeight,remove:this.syncHeight})},this);this.syncHeight()}},initDraggable:function(){this.dd=new Ext.Panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},beforeEffect:function(a){if(this.floating){this.el.beforeAction()}if(a!==false){this.el.addClass("x-panel-animated")}},afterEffect:function(a){this.syncShadow();this.el.removeClass("x-panel-animated")},createEffect:function(c,b,d){var e={scope:d,block:true};if(c===true){e.callback=b;return e}else{if(!c.callback){e.callback=b}else{e.callback=function(){b.call(d);Ext.callback(c.callback,c.scope)}}}return Ext.applyIf(e,c)},collapse:function(b){if(this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforecollapse",this,b)===false){return}var a=b===true||(b!==false&&this.animCollapse);this.beforeEffect(a);this.onCollapse(a,b);return this},onCollapse:function(a,b){if(a){this[this.collapseEl].slideOut(this.slideAnchor,Ext.apply(this.createEffect(b||true,this.afterCollapse,this),this.collapseDefaults))}else{this[this.collapseEl].hide(this.hideMode);this.afterCollapse(false)}},afterCollapse:function(a){this.collapsed=true;this.el.addClass(this.collapsedCls);if(a!==false){this[this.collapseEl].hide(this.hideMode)}this.afterEffect(a);this.cascade(function(b){if(b.lastSize){b.lastSize={width:undefined,height:undefined}}});this.fireEvent("collapse",this)},expand:function(b){if(!this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforeexpand",this,b)===false){return}var a=b===true||(b!==false&&this.animCollapse);this.el.removeClass(this.collapsedCls);this.beforeEffect(a);this.onExpand(a,b);return this},onExpand:function(a,b){if(a){this[this.collapseEl].slideIn(this.slideAnchor,Ext.apply(this.createEffect(b||true,this.afterExpand,this),this.expandDefaults))}else{this[this.collapseEl].show(this.hideMode);this.afterExpand(false)}},afterExpand:function(a){this.collapsed=false;if(a!==false){this[this.collapseEl].show(this.hideMode)}this.afterEffect(a);if(this.deferLayout){delete this.deferLayout;this.doLayout(true)}this.fireEvent("expand",this)},toggleCollapse:function(a){this[this.collapsed?"expand":"collapse"](a);return this},onDisable:function(){if(this.rendered&&this.maskDisabled){this.el.mask()}Ext.Panel.superclass.onDisable.call(this)},onEnable:function(){if(this.rendered&&this.maskDisabled){this.el.unmask()}Ext.Panel.superclass.onEnable.call(this)},onResize:function(g,d,c,e){var a=g,b=d;if(Ext.isDefined(a)||Ext.isDefined(b)){if(!this.collapsed){if(Ext.isNumber(a)){this.body.setWidth(a=this.adjustBodyWidth(a-this.getFrameWidth()))}else{if(a=="auto"){a=this.body.setWidth("auto").dom.offsetWidth}else{a=this.body.dom.offsetWidth}}if(this.tbar){this.tbar.setWidth(a);if(this.topToolbar){this.topToolbar.setSize(a)}}if(this.bbar){this.bbar.setWidth(a);if(this.bottomToolbar){this.bottomToolbar.setSize(a);if(Ext.isIE){this.bbar.setStyle("position","static");this.bbar.setStyle("position","")}}}if(this.footer){this.footer.setWidth(a);if(this.fbar){this.fbar.setSize(Ext.isIE?(a-this.footer.getFrameWidth("lr")):"auto")}}if(Ext.isNumber(b)){b=Math.max(0,b-this.getFrameHeight());this.body.setHeight(b)}else{if(b=="auto"){this.body.setHeight(b)}}if(this.disabled&&this.el._mask){this.el._mask.setSize(this.el.dom.clientWidth,this.el.getHeight())}}else{this.queuedBodySize={width:a,height:b};if(!this.queuedExpand&&this.allowQueuedExpand!==false){this.queuedExpand=true;this.on("expand",function(){delete this.queuedExpand;this.onResize(this.queuedBodySize.width,this.queuedBodySize.height)},this,{single:true})}}this.onBodyResize(a,b)}this.syncShadow();Ext.Panel.superclass.onResize.call(this,g,d,c,e)},onBodyResize:function(a,b){this.fireEvent("bodyresize",this,a,b)},getToolbarHeight:function(){var a=0;if(this.rendered){Ext.each(this.toolbars,function(b){a+=b.getHeight()},this)}return a},adjustBodyHeight:function(a){return a},adjustBodyWidth:function(a){return a},onPosition:function(){this.syncShadow()},getFrameWidth:function(){var b=this.el.getFrameWidth("lr")+this.bwrap.getFrameWidth("lr");if(this.frame){var a=this.bwrap.dom.firstChild;b+=(Ext.fly(a).getFrameWidth("l")+Ext.fly(a.firstChild).getFrameWidth("r"));b+=this.mc.getFrameWidth("lr")}return b},getFrameHeight:function(){var a=this.el.getFrameWidth("tb")+this.bwrap.getFrameWidth("tb");a+=(this.tbar?this.tbar.getHeight():0)+(this.bbar?this.bbar.getHeight():0);if(this.frame){a+=this.el.dom.firstChild.offsetHeight+this.ft.dom.offsetHeight+this.mc.getFrameWidth("tb")}else{a+=(this.header?this.header.getHeight():0)+(this.footer?this.footer.getHeight():0)}return a},getInnerWidth:function(){return this.getSize().width-this.getFrameWidth()},getInnerHeight:function(){return this.body.getHeight()},syncShadow:function(){if(this.floating){this.el.sync(true)}},getLayoutTarget:function(){return this.body},getContentTarget:function(){return this.body},setTitle:function(b,a){this.title=b;if(this.header&&this.headerAsText){this.header.child("span").update(b)}if(a){this.setIconClass(a)}this.fireEvent("titlechange",this,b);return this},getUpdater:function(){return this.body.getUpdater()},load:function(){var a=this.body.getUpdater();a.update.apply(a,arguments);return this},beforeDestroy:function(){Ext.Panel.superclass.beforeDestroy.call(this);if(this.header){this.header.removeAllListeners()}if(this.tools){for(var a in this.tools){Ext.destroy(this.tools[a])}}if(this.toolbars.length>0){Ext.each(this.toolbars,function(b){b.un("afterlayout",this.syncHeight,this);b.un("remove",this.syncHeight,this)},this)}if(Ext.isArray(this.buttons)){while(this.buttons.length){Ext.destroy(this.buttons[0])}}if(this.rendered){Ext.destroy(this.ft,this.header,this.footer,this.tbar,this.bbar,this.body,this.mc,this.bwrap,this.dd);if(this.fbar){Ext.destroy(this.fbar,this.fbar.el)}}Ext.destroy(this.toolbars)},createClasses:function(){this.headerCls=this.baseCls+"-header";this.headerTextCls=this.baseCls+"-header-text";this.bwrapCls=this.baseCls+"-bwrap";this.tbarCls=this.baseCls+"-tbar";this.bodyCls=this.baseCls+"-body";this.bbarCls=this.baseCls+"-bbar";this.footerCls=this.baseCls+"-footer"},createGhost:function(a,e,b){var d=document.createElement("div");d.className="x-panel-ghost "+(a?a:"");if(this.header){d.appendChild(this.el.dom.firstChild.cloneNode(true))}Ext.fly(d.appendChild(document.createElement("ul"))).setHeight(this.bwrap.getHeight());d.style.width=this.el.dom.offsetWidth+"px";if(!b){this.container.dom.appendChild(d)}else{Ext.getDom(b).appendChild(d)}if(e!==false&&this.el.useShim!==false){var c=new Ext.Layer({shadow:false,useDisplay:true,constrain:false},d);c.show();return c}else{return new Ext.Element(d)}},doAutoLoad:function(){var a=this.body.getUpdater();if(this.renderer){a.setRenderer(this.renderer)}a.update(Ext.isObject(this.autoLoad)?this.autoLoad:{url:this.autoLoad})},getTool:function(a){return this.tools[a]}});Ext.reg("panel",Ext.Panel);Ext.Editor=function(b,a){if(b.field){this.field=Ext.create(b.field,"textfield");a=Ext.apply({},b);delete a.field}else{this.field=b}Ext.Editor.superclass.constructor.call(this,a)};Ext.extend(Ext.Editor,Ext.Component,{allowBlur:true,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:true,cancelOnEsc:true,updateEl:false,initComponent:function(){Ext.Editor.superclass.initComponent.call(this);this.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onRender:function(b,a){this.el=new Ext.Layer({shadow:this.shadow,cls:"x-editor",parentEl:b,shim:this.shim,shadowOffset:this.shadowOffset||4,id:this.id,constrain:this.constrain});if(this.zIndex){this.el.setZIndex(this.zIndex)}this.el.setStyle("overflow",Ext.isGecko?"auto":"hidden");if(this.field.msgTarget!="title"){this.field.msgTarget="qtip"}this.field.inEditor=true;this.mon(this.field,{scope:this,blur:this.onBlur,specialkey:this.onSpecialKey});if(this.field.grow){this.mon(this.field,"autosize",this.el.sync,this.el,{delay:1})}this.field.render(this.el).show();this.field.getEl().dom.name="";if(this.swallowKeys){this.field.el.swallowEvent(["keypress","keydown"])}},onSpecialKey:function(g,d){var b=d.getKey(),a=this.completeOnEnter&&b==d.ENTER,c=this.cancelOnEsc&&b==d.ESC;if(a||c){d.stopEvent();if(a){this.completeEdit()}else{this.cancelEdit()}if(g.triggerBlur){g.triggerBlur()}}this.fireEvent("specialkey",g,d)},startEdit:function(b,c){if(this.editing){this.completeEdit()}this.boundEl=Ext.get(b);var a=c!==undefined?c:this.boundEl.dom.innerHTML;if(!this.rendered){this.render(this.parentEl||document.body)}if(this.fireEvent("beforestartedit",this,this.boundEl,a)!==false){this.startValue=a;this.field.reset();this.field.setValue(a);this.realign(true);this.editing=true;this.show()}},doAutoSize:function(){if(this.autoSize){var b=this.boundEl.getSize(),a=this.field.getSize();switch(this.autoSize){case"width":this.setSize(b.width,a.height);break;case"height":this.setSize(a.width,b.height);break;case"none":this.setSize(a.width,a.height);break;default:this.setSize(b.width,b.height)}}},setSize:function(a,b){delete this.field.lastSize;this.field.setSize(a,b);if(this.el){if(Ext.isGecko2||Ext.isOpera||(Ext.isIE7&&Ext.isStrict)){this.el.setSize(a,b)}this.el.sync()}},realign:function(a){if(a===true){this.doAutoSize()}this.el.alignTo(this.boundEl,this.alignment,this.offsets)},completeEdit:function(a){if(!this.editing){return}if(this.field.assertValue){this.field.assertValue()}var b=this.getValue();if(!this.field.isValid()){if(this.revertInvalid!==false){this.cancelEdit(a)}return}if(String(b)===String(this.startValue)&&this.ignoreNoChange){this.hideEdit(a);return}if(this.fireEvent("beforecomplete",this,b,this.startValue)!==false){b=this.getValue();if(this.updateEl&&this.boundEl){this.boundEl.update(b)}this.hideEdit(a);this.fireEvent("complete",this,b,this.startValue)}},onShow:function(){this.el.show();if(this.hideEl!==false){this.boundEl.hide()}this.field.show().focus(false,true);this.fireEvent("startedit",this.boundEl,this.startValue)},cancelEdit:function(a){if(this.editing){var b=this.getValue();this.setValue(this.startValue);this.hideEdit(a);this.fireEvent("canceledit",this,b,this.startValue)}},hideEdit:function(a){if(a!==true){this.editing=false;this.hide()}},onBlur:function(){if(this.allowBlur===true&&this.editing&&this.selectSameEditor!==true){this.completeEdit()}},onHide:function(){if(this.editing){this.completeEdit();return}this.field.blur();if(this.field.collapse){this.field.collapse()}this.el.hide();if(this.hideEl!==false){this.boundEl.show()}},setValue:function(a){this.field.setValue(a)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){Ext.destroyMembers(this,"field");delete this.parentEl;delete this.boundEl}});Ext.reg("editor",Ext.Editor);Ext.ColorPalette=Ext.extend(Ext.Component,{itemCls:"x-color-palette",value:null,clickEvent:"click",ctype:"Ext.ColorPalette",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],initComponent:function(){Ext.ColorPalette.superclass.initComponent.call(this);this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope,true)}},onRender:function(b,a){this.autoEl={tag:"div",cls:this.itemCls};Ext.ColorPalette.superclass.onRender.call(this,b,a);var c=this.tpl||new Ext.XTemplate('<tpl for="."><a href="#" class="color-{.}" hidefocus="on"><em><span style="background:#{.}" unselectable="on">&#160;</span></em></a></tpl>');c.overwrite(this.el,this.colors);this.mon(this.el,this.clickEvent,this.handleClick,this,{delegate:"a"});if(this.clickEvent!="click"){this.mon(this.el,"click",Ext.emptyFn,this,{delegate:"a",preventDefault:true})}},afterRender:function(){Ext.ColorPalette.superclass.afterRender.call(this);if(this.value){var a=this.value;this.value=null;this.select(a,true)}},handleClick:function(b,a){b.preventDefault();if(!this.disabled){var d=a.className.match(/(?:^|\s)color-(.{6})(?:\s|$)/)[1];this.select(d.toUpperCase())}},select:function(b,a){b=b.replace("#","");if(b!=this.value||this.allowReselect){var c=this.el;if(this.value){c.child("a.color-"+this.value).removeClass("x-color-palette-sel")}c.child("a.color-"+b).addClass("x-color-palette-sel");this.value=b;if(a!==true){this.fireEvent("select",this,b)}}}});Ext.reg("colorpalette",Ext.ColorPalette);Ext.DatePicker=Ext.extend(Ext.BoxComponent,{todayText:"Today",okText:"&#160;OK&#160;",cancelText:"Cancel",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",format:"m/d/y",disabledDaysText:"Disabled",disabledDatesText:"Disabled",monthNames:Date.monthNames,dayNames:Date.dayNames,nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",startDay:0,showToday:true,focusOnSelect:true,initHour:12,initComponent:function(){Ext.DatePicker.superclass.initComponent.call(this);this.value=this.value?this.value.clearTime(true):new Date().clearTime();this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope||this)}this.initDisabledDays()},initDisabledDays:function(){if(!this.disabledDatesRE&&this.disabledDates){var b=this.disabledDates,a=b.length-1,c="(?:";Ext.each(b,function(g,e){c+=Ext.isDate(g)?"^"+Ext.escapeRe(g.dateFormat(this.format))+"$":b[e];if(e!=a){c+="|"}},this);this.disabledDatesRE=new RegExp(c+")")}},setDisabledDates:function(a){if(Ext.isArray(a)){this.disabledDates=a;this.disabledDatesRE=null}else{this.disabledDatesRE=a}this.initDisabledDays();this.update(this.value,true)},setDisabledDays:function(a){this.disabledDays=a;this.update(this.value,true)},setMinDate:function(a){this.minDate=a;this.update(this.value,true)},setMaxDate:function(a){this.maxDate=a;this.update(this.value,true)},setValue:function(a){this.value=a.clearTime(true);this.update(this.value)},getValue:function(){return this.value},focus:function(){this.update(this.activeDate)},onEnable:function(a){Ext.DatePicker.superclass.onEnable.call(this);this.doDisabled(false);this.update(a?this.value:this.activeDate);if(Ext.isIE){this.el.repaint()}},onDisable:function(){Ext.DatePicker.superclass.onDisable.call(this);this.doDisabled(true);if(Ext.isIE&&!Ext.isIE8){Ext.each([].concat(this.textNodes,this.el.query("th span")),function(a){Ext.fly(a).repaint()})}},doDisabled:function(a){this.keyNav.setDisabled(a);this.prevRepeater.setDisabled(a);this.nextRepeater.setDisabled(a);if(this.showToday){this.todayKeyListener.setDisabled(a);this.todayBtn.setDisabled(a)}},onRender:function(e,b){var a=['<table cellspacing="0">','<tr><td class="x-date-left"><a href="#" title="',this.prevText,'">&#160;</a></td><td class="x-date-middle" align="center"></td><td class="x-date-right"><a href="#" title="',this.nextText,'">&#160;</a></td></tr>','<tr><td colspan="3"><table class="x-date-inner" cellspacing="0"><thead><tr>'],c=this.dayNames,h;for(h=0;h<7;h++){var l=this.startDay+h;if(l>6){l=l-7}a.push("<th><span>",c[l].substr(0,1),"</span></th>")}a[a.length]="</tr></thead><tbody><tr>";for(h=0;h<42;h++){if(h%7===0&&h!==0){a[a.length]="</tr><tr>"}a[a.length]='<td><a href="#" hidefocus="on" class="x-date-date" tabIndex="1"><em><span></span></em></a></td>'}a.push("</tr></tbody></table></td></tr>",this.showToday?'<tr><td colspan="3" class="x-date-bottom" align="center"></td></tr>':"",'</table><div class="x-date-mp"></div>');var k=document.createElement("div");k.className="x-date-picker";k.innerHTML=a.join("");e.dom.insertBefore(k,b);this.el=Ext.get(k);this.eventEl=Ext.get(k.firstChild);this.prevRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-left a"),{handler:this.showPrevMonth,scope:this,preventDefault:true,stopDefault:true});this.nextRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-right a"),{handler:this.showNextMonth,scope:this,preventDefault:true,stopDefault:true});this.monthPicker=this.el.down("div.x-date-mp");this.monthPicker.enableDisplayMode("block");this.keyNav=new Ext.KeyNav(this.eventEl,{left:function(d){if(d.ctrlKey){this.showPrevMonth()}else{this.update(this.activeDate.add("d",-1))}},right:function(d){if(d.ctrlKey){this.showNextMonth()}else{this.update(this.activeDate.add("d",1))}},up:function(d){if(d.ctrlKey){this.showNextYear()}else{this.update(this.activeDate.add("d",-7))}},down:function(d){if(d.ctrlKey){this.showPrevYear()}else{this.update(this.activeDate.add("d",7))}},pageUp:function(d){this.showNextMonth()},pageDown:function(d){this.showPrevMonth()},enter:function(d){d.stopPropagation();return true},scope:this});this.el.unselectable();this.cells=this.el.select("table.x-date-inner tbody td");this.textNodes=this.el.query("table.x-date-inner tbody span");this.mbtn=new Ext.Button({text:"&#160;",tooltip:this.monthYearText,renderTo:this.el.child("td.x-date-middle",true)});this.mbtn.el.child("em").addClass("x-btn-arrow");if(this.showToday){this.todayKeyListener=this.eventEl.addKeyListener(Ext.EventObject.SPACE,this.selectToday,this);var g=(new Date()).dateFormat(this.format);this.todayBtn=new Ext.Button({renderTo:this.el.child("td.x-date-bottom",true),text:String.format(this.todayText,g),tooltip:String.format(this.todayTip,g),handler:this.selectToday,scope:this})}this.mon(this.eventEl,"mousewheel",this.handleMouseWheel,this);this.mon(this.eventEl,"click",this.handleDateClick,this,{delegate:"a.x-date-date"});this.mon(this.mbtn,"click",this.showMonthPicker,this);this.onEnable(true)},createMonthPicker:function(){if(!this.monthPicker.dom.firstChild){var a=['<table border="0" cellspacing="0">'];for(var b=0;b<6;b++){a.push('<tr><td class="x-date-mp-month"><a href="#">',Date.getShortMonthName(b),"</a></td>",'<td class="x-date-mp-month x-date-mp-sep"><a href="#">',Date.getShortMonthName(b+6),"</a></td>",b===0?'<td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-prev"></a></td><td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-next"></a></td></tr>':'<td class="x-date-mp-year"><a href="#"></a></td><td class="x-date-mp-year"><a href="#"></a></td></tr>')}a.push('<tr class="x-date-mp-btns"><td colspan="4"><button type="button" class="x-date-mp-ok">',this.okText,'</button><button type="button" class="x-date-mp-cancel">',this.cancelText,"</button></td></tr>","</table>");this.monthPicker.update(a.join(""));this.mon(this.monthPicker,"click",this.onMonthClick,this);this.mon(this.monthPicker,"dblclick",this.onMonthDblClick,this);this.mpMonths=this.monthPicker.select("td.x-date-mp-month");this.mpYears=this.monthPicker.select("td.x-date-mp-year");this.mpMonths.each(function(c,d,e){e+=1;if((e%2)===0){c.dom.xmonth=5+Math.round(e*0.5)}else{c.dom.xmonth=Math.round((e-1)*0.5)}})}},showMonthPicker:function(){if(!this.disabled){this.createMonthPicker();var a=this.el.getSize();this.monthPicker.setSize(a);this.monthPicker.child("table").setSize(a);this.mpSelMonth=(this.activeDate||this.value).getMonth();this.updateMPMonth(this.mpSelMonth);this.mpSelYear=(this.activeDate||this.value).getFullYear();this.updateMPYear(this.mpSelYear);this.monthPicker.slideIn("t",{duration:0.2})}},updateMPYear:function(e){this.mpyear=e;var c=this.mpYears.elements;for(var b=1;b<=10;b++){var d=c[b-1],a;if((b%2)===0){a=e+Math.round(b*0.5);d.firstChild.innerHTML=a;d.xyear=a}else{a=e-(5-Math.round(b*0.5));d.firstChild.innerHTML=a;d.xyear=a}this.mpYears.item(b-1)[a==this.mpSelYear?"addClass":"removeClass"]("x-date-mp-sel")}},updateMPMonth:function(a){this.mpMonths.each(function(b,c,d){b[b.dom.xmonth==a?"addClass":"removeClass"]("x-date-mp-sel")})},selectMPMonth:function(a){},onMonthClick:function(g,b){g.stopEvent();var c=new Ext.Element(b),a;if(c.is("button.x-date-mp-cancel")){this.hideMonthPicker()}else{if(c.is("button.x-date-mp-ok")){var h=new Date(this.mpSelYear,this.mpSelMonth,(this.activeDate||this.value).getDate());if(h.getMonth()!=this.mpSelMonth){h=new Date(this.mpSelYear,this.mpSelMonth,1).getLastDateOfMonth()}this.update(h);this.hideMonthPicker()}else{if((a=c.up("td.x-date-mp-month",2))){this.mpMonths.removeClass("x-date-mp-sel");a.addClass("x-date-mp-sel");this.mpSelMonth=a.dom.xmonth}else{if((a=c.up("td.x-date-mp-year",2))){this.mpYears.removeClass("x-date-mp-sel");a.addClass("x-date-mp-sel");this.mpSelYear=a.dom.xyear}else{if(c.is("a.x-date-mp-prev")){this.updateMPYear(this.mpyear-10)}else{if(c.is("a.x-date-mp-next")){this.updateMPYear(this.mpyear+10)}}}}}}},onMonthDblClick:function(d,b){d.stopEvent();var c=new Ext.Element(b),a;if((a=c.up("td.x-date-mp-month",2))){this.update(new Date(this.mpSelYear,a.dom.xmonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker()}else{if((a=c.up("td.x-date-mp-year",2))){this.update(new Date(a.dom.xyear,this.mpSelMonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker()}}},hideMonthPicker:function(a){if(this.monthPicker){if(a===true){this.monthPicker.hide()}else{this.monthPicker.slideOut("t",{duration:0.2})}}},showPrevMonth:function(a){this.update(this.activeDate.add("mo",-1))},showNextMonth:function(a){this.update(this.activeDate.add("mo",1))},showPrevYear:function(){this.update(this.activeDate.add("y",-1))},showNextYear:function(){this.update(this.activeDate.add("y",1))},handleMouseWheel:function(a){a.stopEvent();if(!this.disabled){var b=a.getWheelDelta();if(b>0){this.showPrevMonth()}else{if(b<0){this.showNextMonth()}}}},handleDateClick:function(b,a){b.stopEvent();if(!this.disabled&&a.dateValue&&!Ext.fly(a.parentNode).hasClass("x-date-disabled")){this.cancelFocus=this.focusOnSelect===false;this.setValue(new Date(a.dateValue));delete this.cancelFocus;this.fireEvent("select",this,this.value)}},selectToday:function(){if(this.todayBtn&&!this.todayBtn.disabled){this.setValue(new Date().clearTime());this.fireEvent("select",this,this.value)}},update:function(H,B){if(this.rendered){var a=this.activeDate,q=this.isVisible();this.activeDate=H;if(!B&&a&&this.el){var p=H.getTime();if(a.getMonth()==H.getMonth()&&a.getFullYear()==H.getFullYear()){this.cells.removeClass("x-date-selected");this.cells.each(function(d){if(d.dom.firstChild.dateValue==p){d.addClass("x-date-selected");if(q&&!this.cancelFocus){Ext.fly(d.dom.firstChild).focus(50)}return false}},this);return}}var l=H.getDaysInMonth(),r=H.getFirstDateOfMonth(),g=r.getDay()-this.startDay;if(g<0){g+=7}l+=g;var C=H.add("mo",-1),h=C.getDaysInMonth()-g,e=this.cells.elements,s=this.textNodes,E=(new Date(C.getFullYear(),C.getMonth(),h,this.initHour)),D=new Date().clearTime().getTime(),x=H.clearTime(true).getTime(),v=this.minDate?this.minDate.clearTime(true):Number.NEGATIVE_INFINITY,z=this.maxDate?this.maxDate.clearTime(true):Number.POSITIVE_INFINITY,G=this.disabledDatesRE,u=this.disabledDatesText,J=this.disabledDays?this.disabledDays.join(""):false,F=this.disabledDaysText,A=this.format;if(this.showToday){var n=new Date().clearTime(),c=(n<v||n>z||(G&&A&&G.test(n.dateFormat(A)))||(J&&J.indexOf(n.getDay())!=-1));if(!this.disabled){this.todayBtn.setDisabled(c);this.todayKeyListener[c?"disable":"enable"]()}}var m=function(K,d){d.title="";var i=E.clearTime(true).getTime();d.firstChild.dateValue=i;if(i==D){d.className+=" x-date-today";d.title=K.todayText}if(i==x){d.className+=" x-date-selected";if(q){Ext.fly(d.firstChild).focus(50)}}if(i<v){d.className=" x-date-disabled";d.title=K.minText;return}if(i>z){d.className=" x-date-disabled";d.title=K.maxText;return}if(J){if(J.indexOf(E.getDay())!=-1){d.title=F;d.className=" x-date-disabled"}}if(G&&A){var w=E.dateFormat(A);if(G.test(w)){d.title=u.replace("%0",w);d.className=" x-date-disabled"}}};var y=0;for(;y<g;y++){s[y].innerHTML=(++h);E.setDate(E.getDate()+1);e[y].className="x-date-prevday";m(this,e[y])}for(;y<l;y++){var b=y-g+1;s[y].innerHTML=(b);E.setDate(E.getDate()+1);e[y].className="x-date-active";m(this,e[y])}var I=0;for(;y<42;y++){s[y].innerHTML=(++I);E.setDate(E.getDate()+1);e[y].className="x-date-nextday";m(this,e[y])}this.mbtn.setText(this.monthNames[H.getMonth()]+" "+H.getFullYear());if(!this.internalRender){var k=this.el.dom.firstChild,o=k.offsetWidth;this.el.setWidth(o+this.el.getBorderWidth("lr"));Ext.fly(k).setWidth(o);this.internalRender=true;if(Ext.isOpera&&!this.secondPass){k.rows[0].cells[1].style.width=(o-(k.rows[0].cells[0].offsetWidth+k.rows[0].cells[2].offsetWidth))+"px";this.secondPass=true;this.update.defer(10,this,[H])}}}},beforeDestroy:function(){if(this.rendered){Ext.destroy(this.keyNav,this.monthPicker,this.eventEl,this.mbtn,this.nextRepeater,this.prevRepeater,this.cells.el,this.todayBtn);delete this.textNodes;delete this.cells.elements}}});Ext.reg("datepicker",Ext.DatePicker);Ext.LoadMask=function(c,b){this.el=Ext.get(c);Ext.apply(this,b);if(this.store){this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad});this.removeMask=Ext.value(this.removeMask,false)}else{var a=this.el.getUpdater();a.showLoadIndicator=false;a.on({scope:this,beforeupdate:this.onBeforeLoad,update:this.onLoad,failure:this.onLoad});this.removeMask=Ext.value(this.removeMask,true)}};Ext.LoadMask.prototype={msg:"Loading...",msgCls:"x-mask-loading",disabled:false,disable:function(){this.disabled=true},enable:function(){this.disabled=false},onLoad:function(){this.el.unmask(this.removeMask)},onBeforeLoad:function(){if(!this.disabled){this.el.mask(this.msg,this.msgCls)}},show:function(){this.onBeforeLoad()},hide:function(){this.onLoad()},destroy:function(){if(this.store){this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.onLoad,this)}else{var a=this.el.getUpdater();a.un("beforeupdate",this.onBeforeLoad,this);a.un("update",this.onLoad,this);a.un("failure",this.onLoad,this)}}};Ext.ns("Ext.slider");Ext.slider.Thumb=Ext.extend(Object,{dragging:false,constructor:function(a){Ext.apply(this,a||{},{cls:"x-slider-thumb",constrain:false});Ext.slider.Thumb.superclass.constructor.call(this,a);if(this.slider.vertical){Ext.apply(this,Ext.slider.Thumb.Vertical)}},render:function(){this.el=this.slider.innerEl.insertFirst({cls:this.cls});this.initEvents()},enable:function(){this.disabled=false;this.el.removeClass(this.slider.disabledClass)},disable:function(){this.disabled=true;this.el.addClass(this.slider.disabledClass)},initEvents:function(){var a=this.el;a.addClassOnOver("x-slider-thumb-over");this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeDragStart.createDelegate(this),onStart:this.onDragStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onDragEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(a)},onBeforeDragStart:function(a){if(this.disabled){return false}else{this.slider.promoteThumb(this);return true}},onDragStart:function(a){this.el.addClass("x-slider-thumb-drag");this.dragging=true;this.dragStartValue=this.value;this.slider.fireEvent("dragstart",this.slider,a,this)},onDrag:function(g){var c=this.slider,b=this.index,d=this.getNewValue();if(this.constrain){var a=c.thumbs[b+1],h=c.thumbs[b-1];if(h!=undefined&&d<=h.value){d=h.value}if(a!=undefined&&d>=a.value){d=a.value}}c.setValue(b,d,false);c.fireEvent("drag",c,g,this)},getNewValue:function(){var a=this.slider,b=a.innerEl.translatePoints(this.tracker.getXY());return Ext.util.Format.round(a.reverseValue(b.left),a.decimalPrecision)},onDragEnd:function(c){var a=this.slider,b=this.value;this.el.removeClass("x-slider-thumb-drag");this.dragging=false;a.fireEvent("dragend",a,c);if(this.dragStartValue!=b){a.fireEvent("changecomplete",a,b,this)}},destroy:function(){Ext.destroyMembers(this,"tracker","el")}});Ext.slider.MultiSlider=Ext.extend(Ext.BoxComponent,{vertical:false,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,constrainThumbs:true,topThumbZIndex:10000,initComponent:function(){if(!Ext.isDefined(this.value)){this.value=this.minValue}this.thumbs=[];Ext.slider.MultiSlider.superclass.initComponent.call(this);this.keyIncrement=Math.max(this.increment,this.keyIncrement);this.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend");if(this.values==undefined||Ext.isEmpty(this.values)){this.values=[0]}var a=this.values;for(var b=0;b<a.length;b++){this.addThumb(a[b])}if(this.vertical){Ext.apply(this,Ext.slider.Vertical)}},addThumb:function(b){var a=new Ext.slider.Thumb({value:b,slider:this,index:this.thumbs.length,constrain:this.constrainThumbs});this.thumbs.push(a);if(this.rendered){a.render()}},promoteThumb:function(d){var a=this.thumbs,g,b;for(var e=0,c=a.length;e<c;e++){b=a[e];if(b==d){g=this.topThumbZIndex}else{g=""}b.el.setStyle("zIndex",g)}},onRender:function(){this.autoEl={cls:"x-slider "+(this.vertical?"x-slider-vert":"x-slider-horz"),cn:{cls:"x-slider-end",cn:{cls:"x-slider-inner",cn:[{tag:"a",cls:"x-slider-focus",href:"#",tabIndex:"-1",hidefocus:"on"}]}}};Ext.slider.MultiSlider.superclass.onRender.apply(this,arguments);this.endEl=this.el.first();this.innerEl=this.endEl.first();this.focusEl=this.innerEl.child(".x-slider-focus");for(var b=0;b<this.thumbs.length;b++){this.thumbs[b].render()}var a=this.innerEl.child(".x-slider-thumb");this.halfThumb=(this.vertical?a.getHeight():a.getWidth())/2;this.initEvents()},initEvents:function(){this.mon(this.el,{scope:this,mousedown:this.onMouseDown,keydown:this.onKeyDown});this.focusEl.swallowEvent("click",true)},onMouseDown:function(d){if(this.disabled){return}var c=false;for(var b=0;b<this.thumbs.length;b++){c=c||d.target==this.thumbs[b].el.dom}if(this.clickToChange&&!c){var a=this.innerEl.translatePoints(d.getXY());this.onClickChange(a)}this.focus()},onClickChange:function(c){if(c.top>this.clickRange[0]&&c.top<this.clickRange[1]){var a=this.getNearest(c,"left"),b=a.index;this.setValue(b,Ext.util.Format.round(this.reverseValue(c.left),this.decimalPrecision),undefined,true)}},getNearest:function(l,b){var n=b=="top"?this.innerEl.getHeight()-l[b]:l[b],g=this.reverseValue(n),k=(this.maxValue-this.minValue)+5,e=0,c=null;for(var d=0;d<this.thumbs.length;d++){var a=this.thumbs[d],m=a.value,h=Math.abs(m-g);if(Math.abs(h<=k)){c=a;e=d;k=h}}return c},onKeyDown:function(b){if(this.disabled||this.thumbs.length!==1){b.preventDefault();return}var a=b.getKey(),c;switch(a){case b.UP:case b.RIGHT:b.stopEvent();c=b.ctrlKey?this.maxValue:this.getValue(0)+this.keyIncrement;this.setValue(0,c,undefined,true);break;case b.DOWN:case b.LEFT:b.stopEvent();c=b.ctrlKey?this.minValue:this.getValue(0)-this.keyIncrement;this.setValue(0,c,undefined,true);break;default:b.preventDefault()}},doSnap:function(b){if(!(this.increment&&b)){return b}var d=b,c=this.increment,a=b%c;if(a!=0){d-=a;if(a*2>=c){d+=c}else{if(a*2<-c){d-=c}}}return d.constrain(this.minValue,this.maxValue)},afterRender:function(){Ext.slider.MultiSlider.superclass.afterRender.apply(this,arguments);for(var c=0;c<this.thumbs.length;c++){var b=this.thumbs[c];if(b.value!==undefined){var a=this.normalizeValue(b.value);if(a!==b.value){this.setValue(c,a,false)}else{this.moveThumb(c,this.translateValue(a),false)}}}},getRatio:function(){var a=this.innerEl.getWidth(),b=this.maxValue-this.minValue;return b==0?a:(a/b)},normalizeValue:function(a){a=this.doSnap(a);a=Ext.util.Format.round(a,this.decimalPrecision);a=a.constrain(this.minValue,this.maxValue);return a},setMinValue:function(e){this.minValue=e;var d=0,b=this.thumbs,a=b.length,c;for(;d<a;++d){c=b[d];c.value=c.value<e?e:c.value}this.syncThumb()},setMaxValue:function(e){this.maxValue=e;var d=0,b=this.thumbs,a=b.length,c;for(;d<a;++d){c=b[d];c.value=c.value>e?e:c.value}this.syncThumb()},setValue:function(d,c,b,g){var a=this.thumbs[d],e=a.el;c=this.normalizeValue(c);if(c!==a.value&&this.fireEvent("beforechange",this,c,a.value,a)!==false){a.value=c;if(this.rendered){this.moveThumb(d,this.translateValue(c),b!==false);this.fireEvent("change",this,c,a);if(g){this.fireEvent("changecomplete",this,c,a)}}}},translateValue:function(a){var b=this.getRatio();return(a*b)-(this.minValue*b)-this.halfThumb},reverseValue:function(b){var a=this.getRatio();return(b+(this.minValue*a))/a},moveThumb:function(d,c,b){var a=this.thumbs[d].el;if(!b||this.animate===false){a.setLeft(c)}else{a.shift({left:c,stopFx:true,duration:0.35})}},focus:function(){this.focusEl.focus(10)},onResize:function(c,e){var b=this.thumbs,a=b.length,d=0;for(;d<a;++d){b[d].el.stopFx()}if(Ext.isNumber(c)){this.innerEl.setWidth(c-(this.el.getPadding("l")+this.endEl.getPadding("r")))}this.syncThumb();Ext.slider.MultiSlider.superclass.onResize.apply(this,arguments)},onDisable:function(){Ext.slider.MultiSlider.superclass.onDisable.call(this);for(var b=0;b<this.thumbs.length;b++){var a=this.thumbs[b],c=a.el;a.disable();if(Ext.isIE){var d=c.getXY();c.hide();this.innerEl.addClass(this.disabledClass).dom.disabled=true;if(!this.thumbHolder){this.thumbHolder=this.endEl.createChild({cls:"x-slider-thumb "+this.disabledClass})}this.thumbHolder.show().setXY(d)}}},onEnable:function(){Ext.slider.MultiSlider.superclass.onEnable.call(this);for(var b=0;b<this.thumbs.length;b++){var a=this.thumbs[b],c=a.el;a.enable();if(Ext.isIE){this.innerEl.removeClass(this.disabledClass).dom.disabled=false;if(this.thumbHolder){this.thumbHolder.hide()}c.show();this.syncThumb()}}},syncThumb:function(){if(this.rendered){for(var a=0;a<this.thumbs.length;a++){this.moveThumb(a,this.translateValue(this.thumbs[a].value))}}},getValue:function(a){return this.thumbs[a].value},getValues:function(){var a=[];for(var b=0;b<this.thumbs.length;b++){a.push(this.thumbs[b].value)}return a},beforeDestroy:function(){var b=this.thumbs;for(var c=0,a=b.length;c<a;++c){b[c].destroy();b[c]=null}Ext.destroyMembers(this,"endEl","innerEl","focusEl","thumbHolder");Ext.slider.MultiSlider.superclass.beforeDestroy.call(this)}});Ext.reg("multislider",Ext.slider.MultiSlider);Ext.slider.SingleSlider=Ext.extend(Ext.slider.MultiSlider,{constructor:function(a){a=a||{};Ext.applyIf(a,{values:[a.value||0]});Ext.slider.SingleSlider.superclass.constructor.call(this,a)},getValue:function(){return Ext.slider.SingleSlider.superclass.getValue.call(this,0)},setValue:function(d,b){var c=Ext.toArray(arguments),a=c.length;if(a==1||(a<=3&&typeof arguments[1]!="number")){c.unshift(0)}return Ext.slider.SingleSlider.superclass.setValue.apply(this,c)},syncThumb:function(){return Ext.slider.SingleSlider.superclass.syncThumb.apply(this,[0].concat(arguments))},getNearest:function(){return this.thumbs[0]}});Ext.Slider=Ext.slider.SingleSlider;Ext.reg("slider",Ext.slider.SingleSlider);Ext.slider.Vertical={onResize:function(a,b){this.innerEl.setHeight(b-(this.el.getPadding("t")+this.endEl.getPadding("b")));this.syncThumb()},getRatio:function(){var b=this.innerEl.getHeight(),a=this.maxValue-this.minValue;return b/a},moveThumb:function(d,c,b){var a=this.thumbs[d],e=a.el;if(!b||this.animate===false){e.setBottom(c)}else{e.shift({bottom:c,stopFx:true,duration:0.35})}},onClickChange:function(c){if(c.left>this.clickRange[0]&&c.left<this.clickRange[1]){var a=this.getNearest(c,"top"),b=a.index,d=this.minValue+this.reverseValue(this.innerEl.getHeight()-c.top);this.setValue(b,Ext.util.Format.round(d,this.decimalPrecision),undefined,true)}}};Ext.slider.Thumb.Vertical={getNewValue:function(){var b=this.slider,c=b.innerEl,d=c.translatePoints(this.tracker.getXY()),a=c.getHeight()-d.top;return b.minValue+Ext.util.Format.round(a/b.getRatio(),b.decimalPrecision)}};Ext.ProgressBar=Ext.extend(Ext.BoxComponent,{baseCls:"x-progress",animate:false,waitTimer:null,initComponent:function(){Ext.ProgressBar.superclass.initComponent.call(this);this.addEvents("update")},onRender:function(d,a){var c=new Ext.Template('<div class="{cls}-wrap">','<div class="{cls}-inner">','<div class="{cls}-bar">','<div class="{cls}-text">',"<div>&#160;</div>","</div>","</div>",'<div class="{cls}-text {cls}-text-back">',"<div>&#160;</div>","</div>","</div>","</div>");this.el=a?c.insertBefore(a,{cls:this.baseCls},true):c.append(d,{cls:this.baseCls},true);if(this.id){this.el.dom.id=this.id}var b=this.el.dom.firstChild;this.progressBar=Ext.get(b.firstChild);if(this.textEl){this.textEl=Ext.get(this.textEl);delete this.textTopEl}else{this.textTopEl=Ext.get(this.progressBar.dom.firstChild);var e=Ext.get(b.childNodes[1]);this.textTopEl.setStyle("z-index",99).addClass("x-hidden");this.textEl=new Ext.CompositeElement([this.textTopEl.dom.firstChild,e.dom.firstChild]);this.textEl.setWidth(b.offsetWidth)}this.progressBar.setHeight(b.offsetHeight)},afterRender:function(){Ext.ProgressBar.superclass.afterRender.call(this);if(this.value){this.updateProgress(this.value,this.text)}else{this.updateText(this.text)}},updateProgress:function(c,d,b){this.value=c||0;if(d){this.updateText(d)}if(this.rendered&&!this.isDestroyed){var a=Math.floor(c*this.el.dom.firstChild.offsetWidth);this.progressBar.setWidth(a,b===true||(b!==false&&this.animate));if(this.textTopEl){this.textTopEl.removeClass("x-hidden").setWidth(a)}}this.fireEvent("update",this,c,d);return this},wait:function(b){if(!this.waitTimer){var a=this;b=b||{};this.updateText(b.text);this.waitTimer=Ext.TaskMgr.start({run:function(c){var d=b.increment||10;c-=1;this.updateProgress(((((c+d)%d)+1)*(100/d))*0.01,null,b.animate)},interval:b.interval||1000,duration:b.duration,onStop:function(){if(b.fn){b.fn.apply(b.scope||this)}this.reset()},scope:a})}return this},isWaiting:function(){return this.waitTimer!==null},updateText:function(a){this.text=a||"&#160;";if(this.rendered){this.textEl.update(this.text)}return this},syncProgressBar:function(){if(this.value){this.updateProgress(this.value,this.text)}return this},setSize:function(a,c){Ext.ProgressBar.superclass.setSize.call(this,a,c);if(this.textTopEl){var b=this.el.dom.firstChild;this.textEl.setSize(b.offsetWidth,b.offsetHeight)}this.syncProgressBar();return this},reset:function(a){this.updateProgress(0);if(this.textTopEl){this.textTopEl.addClass("x-hidden")}this.clearTimer();if(a===true){this.hide()}return this},clearTimer:function(){if(this.waitTimer){this.waitTimer.onStop=null;Ext.TaskMgr.stop(this.waitTimer);this.waitTimer=null}},onDestroy:function(){this.clearTimer();if(this.rendered){if(this.textEl.isComposite){this.textEl.clear()}Ext.destroyMembers(this,"textEl","progressBar","textTopEl")}Ext.ProgressBar.superclass.onDestroy.call(this)}});Ext.reg("progress",Ext.ProgressBar);(function(){var a=Ext.EventManager;var b=Ext.lib.Dom;Ext.dd.DragDrop=function(e,c,d){if(e){this.init(e,c,d)}};Ext.dd.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(c,d){},startDrag:function(c,d){},b4Drag:function(c){},onDrag:function(c){},onDragEnter:function(c,d){},b4DragOver:function(c){},onDragOver:function(c,d){},b4DragOut:function(c){},onDragOut:function(c,d){},b4DragDrop:function(c){},onDragDrop:function(c,d){},onInvalidDrop:function(c){},b4EndDrag:function(c){},endDrag:function(c){},b4MouseDown:function(c){},onMouseDown:function(c){},onMouseUp:function(c){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(k,h,p){if(Ext.isNumber(h)){h={left:h,right:h,top:h,bottom:h}}h=h||this.defaultPadding;var m=Ext.get(this.getEl()).getBox(),d=Ext.get(k),o=d.getScroll(),l,e=d.dom;if(e==document.body){l={x:o.left,y:o.top,width:Ext.lib.Dom.getViewWidth(),height:Ext.lib.Dom.getViewHeight()}}else{var n=d.getXY();l={x:n[0],y:n[1],width:e.clientWidth,height:e.clientHeight}}var i=m.y-l.y,g=m.x-l.x;this.resetConstraints();this.setXConstraint(g-(h.left||0),l.width-g-m.width-(h.right||0),this.xTickSize);this.setYConstraint(i-(h.top||0),l.height-i-m.height-(h.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(e,c,d){this.initTarget(e,c,d);a.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(e,c,d){this.config=d||{};this.DDM=Ext.dd.DDM;this.groups={};if(typeof e!=="string"){e=Ext.id(e)}this.id=e;this.addToGroup((c)?c:"default");this.handleElId=e;this.setDragElId(e);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(e,c,g,d){if(!c&&0!==c){this.padding=[e,e,e,e]}else{if(!g&&0!==g){this.padding=[e,c,e,c]}else{this.padding=[e,c,g,d]}}},setInitPosition:function(g,e){var h=this.getEl();if(!this.DDM.verifyEl(h)){return}var d=g||0;var c=e||0;var i=b.getXY(h);this.initPageX=i[0]-d;this.initPageY=i[1]-c;this.lastPageX=i[0];this.lastPageY=i[1];this.setStartPosition(i)},setStartPosition:function(d){var c=d||b.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=c[0];this.startPageY=c[1]},addToGroup:function(c){this.groups[c]=true;this.DDM.regDragDrop(this,c)},removeFromGroup:function(c){if(this.groups[c]){delete this.groups[c]}this.DDM.removeDDFromGroup(this,c)},setDragElId:function(c){this.dragElId=c},setHandleElId:function(c){if(typeof c!=="string"){c=Ext.id(c)}this.handleElId=c;this.DDM.regHandle(this.id,c)},setOuterHandleElId:function(c){if(typeof c!=="string"){c=Ext.id(c)}a.on(c,"mousedown",this.handleMouseDown,this);this.setHandleElId(c);this.hasOuterHandles=true},unreg:function(){a.un(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return(this.DDM.isLocked()||this.locked)},handleMouseDown:function(g,d){if(this.primaryButtonOnly&&g.button!=0){return}if(this.isLocked()){return}this.DDM.refreshCache(this.groups);var c=new Ext.lib.Point(Ext.lib.Event.getPageX(g),Ext.lib.Event.getPageY(g));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(c,this)){}else{if(this.clickValidator(g)){this.setStartPosition();this.b4MouseDown(g);this.onMouseDown(g);this.DDM.handleMouseDown(g,this);this.DDM.stopEvent(g)}else{}}},clickValidator:function(d){var c=d.getTarget();return(this.isValidHandleChild(c)&&(this.id==this.handleElId||this.DDM.handleWasClicked(c,this.id)))},addInvalidHandleType:function(c){var d=c.toUpperCase();this.invalidHandleTypes[d]=d},addInvalidHandleId:function(c){if(typeof c!=="string"){c=Ext.id(c)}this.invalidHandleIds[c]=c},addInvalidHandleClass:function(c){this.invalidHandleClasses.push(c)},removeInvalidHandleType:function(c){var d=c.toUpperCase();delete this.invalidHandleTypes[d]},removeInvalidHandleId:function(c){if(typeof c!=="string"){c=Ext.id(c)}delete this.invalidHandleIds[c]},removeInvalidHandleClass:function(d){for(var e=0,c=this.invalidHandleClasses.length;e<c;++e){if(this.invalidHandleClasses[e]==d){delete this.invalidHandleClasses[e]}}},isValidHandleChild:function(h){var g=true;var l;try{l=h.nodeName.toUpperCase()}catch(k){l=h.nodeName}g=g&&!this.invalidHandleTypes[l];g=g&&!this.invalidHandleIds[h.id];for(var d=0,c=this.invalidHandleClasses.length;g&&d<c;++d){g=!Ext.fly(h).hasClass(this.invalidHandleClasses[d])}return g},setXTicks:function(g,c){this.xTicks=[];this.xTickSize=c;var e={};for(var d=this.initPageX;d>=this.minX;d=d-c){if(!e[d]){this.xTicks[this.xTicks.length]=d;e[d]=true}}for(d=this.initPageX;d<=this.maxX;d=d+c){if(!e[d]){this.xTicks[this.xTicks.length]=d;e[d]=true}}this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(g,c){this.yTicks=[];this.yTickSize=c;var e={};for(var d=this.initPageY;d>=this.minY;d=d-c){if(!e[d]){this.yTicks[this.yTicks.length]=d;e[d]=true}}for(d=this.initPageY;d<=this.maxY;d=d+c){if(!e[d]){this.yTicks[this.yTicks.length]=d;e[d]=true}}this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(e,d,c){this.leftConstraint=e;this.rightConstraint=d;this.minX=this.initPageX-e;this.maxX=this.initPageX+d;if(c){this.setXTicks(this.initPageX,c)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(c,e,d){this.topConstraint=c;this.bottomConstraint=e;this.minY=this.initPageY-c;this.maxY=this.initPageY+e;if(d){this.setYTicks(this.initPageY,d)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var d=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var c=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(d,c)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(l,g){if(!g){return l}else{if(g[0]>=l){return g[0]}else{for(var d=0,c=g.length;d<c;++d){var e=d+1;if(g[e]&&g[e]>=l){var k=l-g[d];var h=g[e]-l;return(h>k)?g[d]:g[e]}}return g[g.length-1]}}},toString:function(){return("DragDrop "+this.id)}}})();if(!Ext.dd.DragDropMgr){Ext.dd.DragDropMgr=function(){var a=Ext.EventManager;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(d,c){for(var e in this.ids){for(var b in this.ids[e]){var g=this.ids[e][b];if(!this.isTypeOfDD(g)){continue}g[d].apply(g,c)}}},_onLoad:function(){this.init();a.on(document,"mouseup",this.handleMouseUp,this,true);a.on(document,"mousemove",this.handleMouseMove,this,true);a.on(window,"unload",this._onUnload,this,true);a.on(window,"resize",this._onResize,this,true)},_onResize:function(b){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(c,b){if(!this.initialized){this.init()}if(!this.ids[b]){this.ids[b]={}}this.ids[b][c.id]=c},removeDDFromGroup:function(d,b){if(!this.ids[b]){this.ids[b]={}}var c=this.ids[b];if(c&&c[d.id]){delete c[d.id]}},_remove:function(c){for(var b in c.groups){if(b&&this.ids[b]&&this.ids[b][c.id]){delete this.ids[b][c.id]}}delete this.handleIds[c.id]},regHandle:function(c,b){if(!this.handleIds[c]){this.handleIds[c]={}}this.handleIds[c][b]=b},isDragDrop:function(b){return(this.getDDById(b))?true:false},getRelated:function(h,c){var g=[];for(var e in h.groups){for(var d in this.ids[e]){var b=this.ids[e][d];if(!this.isTypeOfDD(b)){continue}if(!c||b.isTarget){g[g.length]=b}}}return g},isLegalTarget:function(g,e){var c=this.getRelated(g,true);for(var d=0,b=c.length;d<b;++d){if(c[d].id==e.id){return true}}return false},isTypeOfDD:function(b){return(b&&b.__ygDragDrop)},isHandle:function(c,b){return(this.handleIds[c]&&this.handleIds[c][b])},getDDById:function(c){for(var b in this.ids){if(this.ids[b][c]){return this.ids[b][c]}}return null},handleMouseDown:function(d,c){if(Ext.QuickTips){Ext.QuickTips.ddDisable()}if(this.dragCurrent){this.handleMouseUp(d)}this.currentTarget=d.getTarget();this.dragCurrent=c;var b=c.getEl();this.startX=d.getPageX();this.startY=d.getPageY();this.deltaX=this.startX-b.offsetLeft;this.deltaY=this.startY-b.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var e=Ext.dd.DDM;e.startDrag(e.startX,e.startY)},this.clickTimeThresh)},startDrag:function(b,c){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(b,c);this.dragCurrent.startDrag(b,c)}this.dragThreshMet=true},handleMouseUp:function(b){if(Ext.QuickTips){Ext.QuickTips.ddEnable()}if(!this.dragCurrent){return}clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(b,true)}else{}this.stopDrag(b);this.stopEvent(b)},stopEvent:function(b){if(this.stopPropagation){b.stopPropagation()}if(this.preventDefault){b.preventDefault()}},stopDrag:function(b){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(b);this.dragCurrent.endDrag(b)}this.dragCurrent.onMouseUp(b)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(d){if(!this.dragCurrent){return true}if(Ext.isIE&&(d.button!==0&&d.button!==1&&d.button!==2)){this.stopEvent(d);return this.handleMouseUp(d)}if(!this.dragThreshMet){var c=Math.abs(this.startX-d.getPageX());var b=Math.abs(this.startY-d.getPageY());if(c>this.clickPixelThresh||b>this.clickPixelThresh){this.startDrag(this.startX,this.startY)}}if(this.dragThreshMet){this.dragCurrent.b4Drag(d);this.dragCurrent.onDrag(d);if(!this.dragCurrent.moveOnly){this.fireEvents(d,false)}}this.stopEvent(d);return true},fireEvents:function(o,p){var r=this.dragCurrent;if(!r||r.isLocked()){return}var s=o.getPoint();var b=[];var g=[];var m=[];var k=[];var d=[];for(var h in this.dragOvers){var c=this.dragOvers[h];if(!this.isTypeOfDD(c)){continue}if(!this.isOverTarget(s,c,this.mode)){g.push(c)}b[h]=true;delete this.dragOvers[h]}for(var q in r.groups){if("string"!=typeof q){continue}for(h in this.ids[q]){var l=this.ids[q][h];if(!this.isTypeOfDD(l)){continue}if(l.isTarget&&!l.isLocked()&&((l!=r)||(r.ignoreSelf===false))){if(this.isOverTarget(s,l,this.mode)){if(p){k.push(l)}else{if(!b[l.id]){d.push(l)}else{m.push(l)}this.dragOvers[l.id]=l}}}}}if(this.mode){if(g.length){r.b4DragOut(o,g);r.onDragOut(o,g)}if(d.length){r.onDragEnter(o,d)}if(m.length){r.b4DragOver(o,m);r.onDragOver(o,m)}if(k.length){r.b4DragDrop(o,k);r.onDragDrop(o,k)}}else{var n=0;for(h=0,n=g.length;h<n;++h){r.b4DragOut(o,g[h].id);r.onDragOut(o,g[h].id)}for(h=0,n=d.length;h<n;++h){r.onDragEnter(o,d[h].id)}for(h=0,n=m.length;h<n;++h){r.b4DragOver(o,m[h].id);r.onDragOver(o,m[h].id)}for(h=0,n=k.length;h<n;++h){r.b4DragDrop(o,k[h].id);r.onDragDrop(o,k[h].id)}}if(p&&!k.length){r.onInvalidDrop(o)}},getBestMatch:function(d){var g=null;var c=d.length;if(c==1){g=d[0]}else{for(var e=0;e<c;++e){var b=d[e];if(b.cursorIsOver){g=b;break}else{if(!g||g.overlap.getArea()<b.overlap.getArea()){g=b}}}}return g},refreshCache:function(c){for(var b in c){if("string"!=typeof b){continue}for(var d in this.ids[b]){var e=this.ids[b][d];if(this.isTypeOfDD(e)){var g=this.getLocation(e);if(g){this.locationCache[e.id]=g}else{delete this.locationCache[e.id]}}}}},verifyEl:function(c){if(c){var b;if(Ext.isIE){try{b=c.offsetParent}catch(d){}}else{b=c.offsetParent}if(b){return true}}return false},getLocation:function(k){if(!this.isTypeOfDD(k)){return null}var h=k.getEl(),o,g,d,q,p,s,c,n,i;try{o=Ext.lib.Dom.getXY(h)}catch(m){}if(!o){return null}g=o[0];d=g+h.offsetWidth;q=o[1];p=q+h.offsetHeight;s=q-k.padding[0];c=d+k.padding[1];n=p+k.padding[2];i=g-k.padding[3];return new Ext.lib.Region(s,c,n,i)},isOverTarget:function(l,b,d){var g=this.locationCache[b.id];if(!g||!this.useCache){g=this.getLocation(b);this.locationCache[b.id]=g}if(!g){return false}b.cursorIsOver=g.contains(l);var k=this.dragCurrent;if(!k||!k.getTargetCoord||(!d&&!k.constrainX&&!k.constrainY)){return b.cursorIsOver}b.overlap=null;var h=k.getTargetCoord(l.x,l.y);var c=k.getDragEl();var e=new Ext.lib.Region(h.y,h.x+c.offsetWidth,h.y+c.offsetHeight,h.x);var i=e.intersect(g);if(i){b.overlap=i;return(d)?true:b.cursorIsOver}else{return false}},_onUnload:function(c,b){Ext.dd.DragDropMgr.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var b in this.elementCache){delete this.elementCache[b]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(c){var b=this.elementCache[c];if(!b||!b.el){b=this.elementCache[c]=new this.ElementWrapper(Ext.getDom(c))}return b},getElement:function(b){return Ext.getDom(b)},getCss:function(c){var b=Ext.getDom(c);return(b)?b.style:null},ElementWrapper:function(b){this.el=b||null;this.id=this.el&&b.id;this.css=this.el&&b.style},getPosX:function(b){return Ext.lib.Dom.getX(b)},getPosY:function(b){return Ext.lib.Dom.getY(b)},swapNode:function(d,b){if(d.swapNode){d.swapNode(b)}else{var e=b.parentNode;var c=b.nextSibling;if(c==d){e.insertBefore(d,b)}else{if(b==d.nextSibling){e.insertBefore(b,d)}else{d.parentNode.replaceChild(b,d);e.insertBefore(d,c)}}}},getScroll:function(){var d,b,e=document.documentElement,c=document.body;if(e&&(e.scrollTop||e.scrollLeft)){d=e.scrollTop;b=e.scrollLeft}else{if(c){d=c.scrollTop;b=c.scrollLeft}else{}}return{top:d,left:b}},getStyle:function(c,b){return Ext.fly(c).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(b,d){var c=Ext.lib.Dom.getXY(d);Ext.lib.Dom.setXY(b,c)},numericSort:function(d,c){return(d-c)},_timeoutCount:0,_addListeners:function(){var b=Ext.dd.DDM;if(Ext.lib.Event&&document){b._onLoad()}else{if(b._timeoutCount>2000){}else{setTimeout(b._addListeners,10);if(document&&document.body){b._timeoutCount+=1}}}},handleWasClicked:function(b,d){if(this.isHandle(d,b.id)){return true}else{var c=b.parentNode;while(c){if(this.isHandle(d,c.id)){return true}else{c=c.parentNode}}}return false}}}();Ext.dd.DDM=Ext.dd.DragDropMgr;Ext.dd.DDM._addListeners()}Ext.dd.DD=function(c,a,b){if(c){this.init(c,a,b)}};Ext.extend(Ext.dd.DD,Ext.dd.DragDrop,{scroll:true,autoOffset:function(c,b){var a=c-this.startPageX;var d=b-this.startPageY;this.setDelta(a,d)},setDelta:function(b,a){this.deltaX=b;this.deltaY=a},setDragElPos:function(c,b){var a=this.getDragEl();this.alignElWithMouse(a,c,b)},alignElWithMouse:function(c,h,g){var e=this.getTargetCoord(h,g);var b=c.dom?c:Ext.fly(c,"_dd");if(!this.deltaSetXY){var i=[e.x,e.y];b.setXY(i);var d=b.getLeft(true);var a=b.getTop(true);this.deltaSetXY=[d-e.x,a-e.y]}else{b.setLeftTop(e.x+this.deltaSetXY[0],e.y+this.deltaSetXY[1])}this.cachePosition(e.x,e.y);this.autoScroll(e.x,e.y,c.offsetHeight,c.offsetWidth);return e},cachePosition:function(b,a){if(b){this.lastPageX=b;this.lastPageY=a}else{var c=Ext.lib.Dom.getXY(this.getEl());this.lastPageX=c[0];this.lastPageY=c[1]}},autoScroll:function(m,l,e,n){if(this.scroll){var o=Ext.lib.Dom.getViewHeight();var b=Ext.lib.Dom.getViewWidth();var q=this.DDM.getScrollTop();var d=this.DDM.getScrollLeft();var k=e+l;var p=n+m;var i=(o+q-l-this.deltaY);var g=(b+d-m-this.deltaX);var c=40;var a=(document.all)?80:30;if(k>o&&i<c){window.scrollTo(d,q+a)}if(l<q&&q>0&&l-q<c){window.scrollTo(d,q-a)}if(p>b&&g<c){window.scrollTo(d+a,q)}if(m<d&&d>0&&m-d<c){window.scrollTo(d-a,q)}}},getTargetCoord:function(c,b){var a=c-this.deltaX;var d=b-this.deltaY;if(this.constrainX){if(a<this.minX){a=this.minX}if(a>this.maxX){a=this.maxX}}if(this.constrainY){if(d<this.minY){d=this.minY}if(d>this.maxY){d=this.maxY}}a=this.getTick(a,this.xTicks);d=this.getTick(d,this.yTicks);return{x:a,y:d}},applyConfig:function(){Ext.dd.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return("DD "+this.id)}});Ext.dd.DDProxy=function(c,a,b){if(c){this.init(c,a,b);this.initFrame()}};Ext.dd.DDProxy.dragElId="ygddfdiv";Ext.extend(Ext.dd.DDProxy,Ext.dd.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var b=this;var a=document.body;if(!a||!a.firstChild){setTimeout(function(){b.createFrame()},50);return}var d=this.getDragEl();if(!d){d=document.createElement("div");d.id=this.dragElId;var c=d.style;c.position="absolute";c.visibility="hidden";c.cursor="move";c.border="2px solid #aaa";c.zIndex=999;a.insertBefore(d,a.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(e,d){var c=this.getEl();var a=this.getDragEl();var b=a.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(b.width,10)/2),Math.round(parseInt(b.height,10)/2))}this.setDragElPos(e,d);Ext.fly(a).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(b){var a=b.getPageX();var c=b.getPageY();this.autoOffset(a,c);this.setDragElPos(a,c)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide()},endDrag:function(c){var b=this.getEl();var a=this.getDragEl();a.style.visibility="";this.beforeMove();b.style.visibility="hidden";Ext.dd.DDM.moveToEl(b,a);a.style.visibility="hidden";b.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}});Ext.dd.DDTarget=function(c,a,b){if(c){this.initTarget(c,a,b)}};Ext.extend(Ext.dd.DDTarget,Ext.dd.DragDrop,{getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}});Ext.dd.DragTracker=Ext.extend(Ext.util.Observable,{active:false,tolerance:5,autoStart:false,constructor:function(a){Ext.apply(this,a);this.addEvents("mousedown","mouseup","mousemove","dragstart","dragend","drag");this.dragRegion=new Ext.lib.Region(0,0,0,0);if(this.el){this.initEl(this.el)}Ext.dd.DragTracker.superclass.constructor.call(this,a)},initEl:function(a){this.el=Ext.get(a);a.on("mousedown",this.onMouseDown,this,this.delegate?{delegate:this.delegate}:undefined)},destroy:function(){this.el.un("mousedown",this.onMouseDown,this);delete this.el},onMouseDown:function(b,a){if(this.fireEvent("mousedown",this,b)!==false&&this.onBeforeStart(b)!==false){this.startXY=this.lastXY=b.getXY();this.dragTarget=this.delegate?a:this.el.dom;if(this.preventDefault!==false){b.preventDefault()}Ext.getDoc().on({scope:this,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect});if(this.autoStart){this.timer=this.triggerStart.defer(this.autoStart===true?1000:this.autoStart,this,[b])}}},onMouseMove:function(d,c){if(this.active&&Ext.isIE&&!d.browserEvent.button){d.preventDefault();this.onMouseUp(d);return}d.preventDefault();var b=d.getXY(),a=this.startXY;this.lastXY=b;if(!this.active){if(Math.abs(a[0]-b[0])>this.tolerance||Math.abs(a[1]-b[1])>this.tolerance){this.triggerStart(d)}else{return}}this.fireEvent("mousemove",this,d);this.onDrag(d);this.fireEvent("drag",this,d)},onMouseUp:function(c){var b=Ext.getDoc(),a=this.active;b.un("mousemove",this.onMouseMove,this);b.un("mouseup",this.onMouseUp,this);b.un("selectstart",this.stopSelect,this);c.preventDefault();this.clearStart();this.active=false;delete this.elRegion;this.fireEvent("mouseup",this,c);if(a){this.onEnd(c);this.fireEvent("dragend",this,c)}},triggerStart:function(a){this.clearStart();this.active=true;this.onStart(a);this.fireEvent("dragstart",this,a)},clearStart:function(){if(this.timer){clearTimeout(this.timer);delete this.timer}},stopSelect:function(a){a.stopEvent();return false},onBeforeStart:function(a){},onStart:function(a){},onDrag:function(a){},onEnd:function(a){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getXY:function(a){return a?this.constrainModes[a].call(this,this.lastXY):this.lastXY},getOffset:function(c){var b=this.getXY(c),a=this.startXY;return[a[0]-b[0],a[1]-b[1]]},constrainModes:{point:function(b){if(!this.elRegion){this.elRegion=this.getDragCt().getRegion()}var a=this.dragRegion;a.left=b[0];a.top=b[1];a.right=b[0];a.bottom=b[1];a.constrainTo(this.elRegion);return[a.left,a.top]}}});Ext.dd.ScrollManager=function(){var c=Ext.dd.DragDropMgr;var e={};var b=null;var i={};var h=function(m){b=null;a()};var k=function(){if(c.dragCurrent){c.refreshCache(c.dragCurrent.groups)}};var d=function(){if(c.dragCurrent){var m=Ext.dd.ScrollManager;var n=i.el.ddScrollConfig?i.el.ddScrollConfig.increment:m.increment;if(!m.animate){if(i.el.scroll(i.dir,n)){k()}}else{i.el.scroll(i.dir,n,true,m.animDuration,k)}}};var a=function(){if(i.id){clearInterval(i.id)}i.id=0;i.el=null;i.dir=""};var g=function(n,m){a();i.el=n;i.dir=m;var p=n.ddScrollConfig?n.ddScrollConfig.ddGroup:undefined,o=(n.ddScrollConfig&&n.ddScrollConfig.frequency)?n.ddScrollConfig.frequency:Ext.dd.ScrollManager.frequency;if(p===undefined||c.dragCurrent.ddGroup==p){i.id=setInterval(d,o)}};var l=function(p,s){if(s||!c.dragCurrent){return}var t=Ext.dd.ScrollManager;if(!b||b!=c.dragCurrent){b=c.dragCurrent;t.refreshCache()}var u=Ext.lib.Event.getXY(p);var v=new Ext.lib.Point(u[0],u[1]);for(var n in e){var o=e[n],m=o._region;var q=o.ddScrollConfig?o.ddScrollConfig:t;if(m&&m.contains(v)&&o.isScrollable()){if(m.bottom-v.y<=q.vthresh){if(i.el!=o){g(o,"down")}return}else{if(m.right-v.x<=q.hthresh){if(i.el!=o){g(o,"left")}return}else{if(v.y-m.top<=q.vthresh){if(i.el!=o){g(o,"up")}return}else{if(v.x-m.left<=q.hthresh){if(i.el!=o){g(o,"right")}return}}}}}}a()};c.fireEvents=c.fireEvents.createSequence(l,c);c.stopDrag=c.stopDrag.createSequence(h,c);return{register:function(o){if(Ext.isArray(o)){for(var n=0,m=o.length;n<m;n++){this.register(o[n])}}else{o=Ext.get(o);e[o.id]=o}},unregister:function(o){if(Ext.isArray(o)){for(var n=0,m=o.length;n<m;n++){this.unregister(o[n])}}else{o=Ext.get(o);delete e[o.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,ddGroup:undefined,refreshCache:function(){for(var m in e){if(typeof e[m]=="object"){e[m]._region=e[m].getRegion()}}}}}();Ext.dd.Registry=function(){var d={};var b={};var a=0;var c=function(g,e){if(typeof g=="string"){return g}var h=g.id;if(!h&&e!==false){h="extdd-"+(++a);g.id=h}return h};return{register:function(k,l){l=l||{};if(typeof k=="string"){k=document.getElementById(k)}l.ddel=k;d[c(k)]=l;if(l.isHandle!==false){b[l.ddel.id]=l}if(l.handles){var h=l.handles;for(var g=0,e=h.length;g<e;g++){b[c(h[g])]=l}}},unregister:function(k){var m=c(k,false);var l=d[m];if(l){delete d[m];if(l.handles){var h=l.handles;for(var g=0,e=h.length;g<e;g++){delete b[c(h[g],false)]}}}},getHandle:function(e){if(typeof e!="string"){e=e.id}return b[e]},getHandleFromEvent:function(h){var g=Ext.lib.Event.getTarget(h);return g?b[g.id]:null},getTarget:function(e){if(typeof e!="string"){e=e.id}return d[e]},getTargetFromEvent:function(h){var g=Ext.lib.Event.getTarget(h);return g?d[g.id]||b[g.id]:null}}}();Ext.dd.StatusProxy=function(a){Ext.apply(this,a);this.id=this.id||Ext.id();this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:"x-dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!a||a.shadow!==false});this.ghost=Ext.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed};Ext.dd.StatusProxy.prototype={dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceClass(this.dropStatus,a);this.dropStatus=a}},reset:function(a){this.el.dom.className="x-dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;if(a){this.ghost.update("")}},update:function(a){if(typeof a=="string"){this.ghost.update(a)}else{this.ghost.update("");a.style.margin="0";this.ghost.dom.appendChild(a)}var b=this.ghost.dom.firstChild;if(b){Ext.fly(b).setStyle("float","none")}},getEl:function(){return this.el},getGhost:function(){return this.ghost},hide:function(a){this.el.hide();if(a){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},show:function(){this.el.show()},sync:function(){this.el.sync()},repair:function(b,c,a){this.callback=c;this.scope=a;if(b&&this.animRepair!==false){this.el.addClass("x-dd-drag-repair");this.el.hideUnders(true);this.anim=this.el.shift({duration:this.repairDuration||0.5,easing:"easeOut",xy:b,stopFx:true,callback:this.afterRepair,scope:this})}else{this.afterRepair()}},afterRepair:function(){this.hide(true);if(typeof this.callback=="function"){this.callback.call(this.scope||this)}this.callback=null;this.scope=null},destroy:function(){Ext.destroy(this.ghost,this.el)}};Ext.dd.DragSource=function(b,a){this.el=Ext.get(b);if(!this.dragData){this.dragData={}}Ext.apply(this,a);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy()}Ext.dd.DragSource.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false};Ext.extend(Ext.dd.DragSource,Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",getDragData:function(a){return this.dragData},onDragEnter:function(c,d){var b=Ext.dd.DragDropMgr.getDDById(d);this.cachedTarget=b;if(this.beforeDragEnter(b,c,d)!==false){if(b.isNotifyTarget){var a=b.notifyEnter(this,c,this.dragData);this.proxy.setStatus(a)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(b,c,d)}}},beforeDragEnter:function(b,a,c){return true},alignElWithMouse:function(){Ext.dd.DragSource.superclass.alignElWithMouse.apply(this,arguments);this.proxy.sync()},onDragOver:function(c,d){var b=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(d);if(this.beforeDragOver(b,c,d)!==false){if(b.isNotifyTarget){var a=b.notifyOver(this,c,this.dragData);this.proxy.setStatus(a)}if(this.afterDragOver){this.afterDragOver(b,c,d)}}},beforeDragOver:function(b,a,c){return true},onDragOut:function(b,c){var a=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(c);if(this.beforeDragOut(a,b,c)!==false){if(a.isNotifyTarget){a.notifyOut(this,b,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(a,b,c)}}this.cachedTarget=null},beforeDragOut:function(b,a,c){return true},onDragDrop:function(b,c){var a=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(c);if(this.beforeDragDrop(a,b,c)!==false){if(a.isNotifyTarget){if(a.notifyDrop(this,b,this.dragData)){this.onValidDrop(a,b,c)}else{this.onInvalidDrop(a,b,c)}}else{this.onValidDrop(a,b,c)}if(this.afterDragDrop){this.afterDragDrop(a,b,c)}}delete this.cachedTarget},beforeDragDrop:function(b,a,c){return true},onValidDrop:function(b,a,c){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(b,a,c)}},getRepairXY:function(b,a){return this.el.getXY()},onInvalidDrop:function(b,a,c){this.beforeInvalidDrop(b,a,c);if(this.cachedTarget){if(this.cachedTarget.isNotifyTarget){this.cachedTarget.notifyOut(this,a,this.dragData)}this.cacheTarget=null}this.proxy.repair(this.getRepairXY(a,this.dragData),this.afterRepair,this);if(this.afterInvalidDrop){this.afterInvalidDrop(a,c)}},afterRepair:function(){if(Ext.enableFx){this.el.highlight(this.hlColor||"c3daf9")}this.dragging=false},beforeInvalidDrop:function(b,a,c){return true},handleMouseDown:function(b){if(this.dragging){return}var a=this.getDragData(b);if(a&&this.onBeforeDrag(a,b)!==false){this.dragData=a;this.proxy.stop();Ext.dd.DragSource.superclass.handleMouseDown.apply(this,arguments)}},onBeforeDrag:function(a,b){return true},onStartDrag:Ext.emptyFn,startDrag:function(a,b){this.proxy.reset();this.dragging=true;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(a,c){var b=this.el.dom.cloneNode(true);b.id=Ext.id();this.proxy.update(b);this.onStartDrag(a,c);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20)},destroy:function(){Ext.dd.DragSource.superclass.destroy.call(this);Ext.destroy(this.proxy)}});Ext.dd.DropTarget=Ext.extend(Ext.dd.DDTarget,{constructor:function(b,a){this.el=Ext.get(b);Ext.apply(this,a);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}Ext.dd.DropTarget.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:true})},dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(a,c,b){if(this.overClass){this.el.addClass(this.overClass)}return this.dropAllowed},notifyOver:function(a,c,b){return this.dropAllowed},notifyOut:function(a,c,b){if(this.overClass){this.el.removeClass(this.overClass)}},notifyDrop:function(a,c,b){return false},destroy:function(){Ext.dd.DropTarget.superclass.destroy.call(this);if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.dd.DragZone=Ext.extend(Ext.dd.DragSource,{constructor:function(b,a){Ext.dd.DragZone.superclass.constructor.call(this,b,a);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(a,b);return true},afterRepair:function(){if(Ext.enableFx){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9")}this.dragging=false},getRepairXY:function(a){return Ext.Element.fly(this.dragData.ddel).getXY()},destroy:function(){Ext.dd.DragZone.superclass.destroy.call(this);if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.dd.DropZone=function(b,a){Ext.dd.DropZone.superclass.constructor.call(this,b,a)};Ext.extend(Ext.dd.DropZone,Ext.dd.DropTarget,{getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(d,a,c,b){},onNodeOver:function(d,a,c,b){return this.dropAllowed},onNodeOut:function(d,a,c,b){},onNodeDrop:function(d,a,c,b){return false},onContainerOver:function(a,c,b){return this.dropNotAllowed},onContainerDrop:function(a,c,b){return false},notifyEnter:function(a,c,b){return this.dropNotAllowed},notifyOver:function(a,c,b){var d=this.getTargetFromEvent(c);if(!d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,c,b);this.lastOverNode=null}return this.onContainerOver(a,c,b)}if(this.lastOverNode!=d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,c,b)}this.onNodeEnter(d,a,c,b);this.lastOverNode=d}return this.onNodeOver(d,a,c,b)},notifyOut:function(a,c,b){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,c,b);this.lastOverNode=null}},notifyDrop:function(a,c,b){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,c,b);this.lastOverNode=null}var d=this.getTargetFromEvent(c);return d?this.onNodeDrop(d,a,c,b):this.onContainerDrop(a,c,b)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});Ext.Element.addMethods({initDD:function(c,b,d){var a=new Ext.dd.DD(Ext.id(this.dom),c,b);return Ext.apply(a,d)},initDDProxy:function(c,b,d){var a=new Ext.dd.DDProxy(Ext.id(this.dom),c,b);return Ext.apply(a,d)},initDDTarget:function(c,b,d){var a=new Ext.dd.DDTarget(Ext.id(this.dom),c,b);return Ext.apply(a,d)}});Ext.data.Api=(function(){var a={};return{actions:{create:"create",read:"read",update:"update",destroy:"destroy"},restActions:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},isAction:function(b){return(Ext.data.Api.actions[b])?true:false},getVerb:function(b){if(a[b]){return a[b]}for(var c in this.actions){if(this.actions[c]===b){a[b]=c;break}}return(a[b]!==undefined)?a[b]:null},isValid:function(b){var e=[];var d=this.actions;for(var c in b){if(!(c in d)){e.push(c)}}return(!e.length)?true:e},hasUniqueUrl:function(c,g){var b=(c.api[g])?c.api[g].url:null;var e=true;for(var d in c.api){if((e=(d===g)?true:(c.api[d].url!=b)?true:false)===false){break}}return e},prepare:function(b){if(!b.api){b.api={}}for(var d in this.actions){var c=this.actions[d];b.api[c]=b.api[c]||b.url||b.directFn;if(typeof(b.api[c])=="string"){b.api[c]={url:b.api[c],method:(b.restful===true)?Ext.data.Api.restActions[c]:undefined}}}},restify:function(b){b.restful=true;for(var c in this.restActions){b.api[this.actions[c]].method||(b.api[this.actions[c]].method=this.restActions[c])}b.onWrite=b.onWrite.createInterceptor(function(i,k,g,e){var d=k.reader;var h=new Ext.data.Response({action:i,raw:g});switch(g.status){case 200:return true;break;case 201:if(Ext.isEmpty(h.raw.responseText)){h.success=true}else{return true}break;case 204:h.success=true;h.data=null;break;default:return true;break}if(h.success===true){this.fireEvent("write",this,i,h.data,h,e,k.request.arg)}else{this.fireEvent("exception",this,"remote",i,k,h,e)}k.request.callback.call(k.request.scope,h.data,h,h.success);return false},b)}}})();Ext.data.Response=function(b,a){Ext.apply(this,b,{raw:a})};Ext.data.Response.prototype={message:null,success:false,status:null,root:null,raw:null,getMessage:function(){return this.message},getSuccess:function(){return this.success},getStatus:function(){return this.status},getRoot:function(){return this.root},getRawResponse:function(){return this.raw}};Ext.data.Api.Error=Ext.extend(Ext.Error,{constructor:function(b,a){this.arg=a;Ext.Error.call(this,b)},name:"Ext.data.Api"});Ext.apply(Ext.data.Api.Error.prototype,{lang:{"action-url-undefined":"No fallback url defined for this action.  When defining a DataProxy api, please be sure to define an url for each CRUD action in Ext.data.Api.actions or define a default url in addition to your api-configuration.",invalid:"received an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions defined in Ext.data.Api.actions","invalid-url":"Invalid url.  Please review your proxy configuration.",execute:'Attempted to execute an unknown action.  Valid API actions are defined in Ext.data.Api.actions"'}});Ext.data.SortTypes={none:function(a){return a},stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){if(!a){return 0}if(Ext.isDate(a)){return a.getTime()}return Date.parse(String(a))},asFloat:function(a){var b=parseFloat(String(a).replace(/,/g,""));return isNaN(b)?0:b},asInt:function(a){var b=parseInt(String(a).replace(/,/g,""),10);return isNaN(b)?0:b}};Ext.data.Record=function(a,b){this.id=(b||b===0)?b:Ext.data.Record.id(this);this.data=a||{}};Ext.data.Record.create=function(e){var c=Ext.extend(Ext.data.Record,{});var d=c.prototype;d.fields=new Ext.util.MixedCollection(false,function(g){return g.name});for(var b=0,a=e.length;b<a;b++){d.fields.add(new Ext.data.Field(e[b]))}c.getField=function(g){return d.fields.get(g)};return c};Ext.data.Record.PREFIX="ext-record";Ext.data.Record.AUTO_ID=1;Ext.data.Record.EDIT="edit";Ext.data.Record.REJECT="reject";Ext.data.Record.COMMIT="commit";Ext.data.Record.id=function(a){a.phantom=true;return[Ext.data.Record.PREFIX,"-",Ext.data.Record.AUTO_ID++].join("")};Ext.data.Record.prototype={dirty:false,editing:false,error:null,modified:null,phantom:false,join:function(a){this.store=a},set:function(a,c){var b=Ext.isPrimitive(c)?String:Ext.encode;if(b(this.data[a])==b(c)){return}this.dirty=true;if(!this.modified){this.modified={}}if(this.modified[a]===undefined){this.modified[a]=this.data[a]}this.data[a]=c;if(!this.editing){this.afterEdit()}},afterEdit:function(){if(this.store!=undefined&&typeof this.store.afterEdit=="function"){this.store.afterEdit(this)}},afterReject:function(){if(this.store){this.store.afterReject(this)}},afterCommit:function(){if(this.store){this.store.afterCommit(this)}},get:function(a){return this.data[a]},beginEdit:function(){this.editing=true;this.modified=this.modified||{}},cancelEdit:function(){this.editing=false;delete this.modified},endEdit:function(){this.editing=false;if(this.dirty){this.afterEdit()}},reject:function(b){var a=this.modified;for(var c in a){if(typeof a[c]!="function"){this.data[c]=a[c]}}this.dirty=false;delete this.modified;this.editing=false;if(b!==true){this.afterReject()}},commit:function(a){this.dirty=false;delete this.modified;this.editing=false;if(a!==true){this.afterCommit()}},getChanges:function(){var a=this.modified,b={};for(var c in a){if(a.hasOwnProperty(c)){b[c]=this.data[c]}}return b},hasError:function(){return this.error!==null},clearError:function(){this.error=null},copy:function(a){return new this.constructor(Ext.apply({},this.data),a||this.id)},isModified:function(a){return !!(this.modified&&this.modified.hasOwnProperty(a))},isValid:function(){return this.fields.find(function(a){return(a.allowBlank===false&&Ext.isEmpty(this.data[a.name]))?true:false},this)?false:true},markDirty:function(){this.dirty=true;if(!this.modified){this.modified={}}this.fields.each(function(a){this.modified[a.name]=this.data[a.name]},this)}};Ext.StoreMgr=Ext.apply(new Ext.util.MixedCollection(),{register:function(){for(var a=0,b;(b=arguments[a]);a++){this.add(b)}},unregister:function(){for(var a=0,b;(b=arguments[a]);a++){this.remove(this.lookup(b))}},lookup:function(e){if(Ext.isArray(e)){var b=["field1"],d=!Ext.isArray(e[0]);if(!d){for(var c=2,a=e[0].length;c<=a;++c){b.push("field"+c)}}return new Ext.data.ArrayStore({fields:b,data:e,expandData:d,autoDestroy:true,autoCreated:true})}return Ext.isObject(e)?(e.events?e:Ext.create(e,"store")):this.get(e)},getKey:function(a){return a.storeId}});Ext.data.Store=Ext.extend(Ext.util.Observable,{writer:undefined,remoteSort:false,autoDestroy:false,pruneModifiedRecords:false,lastOptions:null,autoSave:true,batch:true,restful:false,paramNames:undefined,defaultParamNames:{start:"start",limit:"limit",sort:"sort",dir:"dir"},isDestroyed:false,hasMultiSort:false,batchKey:"_ext_batch_",constructor:function(a){this.data=new Ext.util.MixedCollection(false);this.data.getKey=function(b){return b.id};this.removed=[];if(a&&a.data){this.inlineData=a.data;delete a.data}Ext.apply(this,a);this.baseParams=Ext.isObject(this.baseParams)?this.baseParams:{};this.paramNames=Ext.applyIf(this.paramNames||{},this.defaultParamNames);if((this.url||this.api)&&!this.proxy){this.proxy=new Ext.data.HttpProxy({url:this.url,api:this.api})}if(this.restful===true&&this.proxy){this.batch=false;Ext.data.Api.restify(this.proxy)}if(this.reader){if(!this.recordType){this.recordType=this.reader.recordType}if(this.reader.onMetaChange){this.reader.onMetaChange=this.reader.onMetaChange.createSequence(this.onMetaChange,this)}if(this.writer){if(this.writer instanceof (Ext.data.DataWriter)===false){this.writer=this.buildWriter(this.writer)}this.writer.meta=this.reader.meta;this.pruneModifiedRecords=true}}if(this.recordType){this.fields=this.recordType.prototype.fields}this.modified=[];this.addEvents("datachanged","metachange","add","remove","update","clear","exception","beforeload","load","loadexception","beforewrite","write","beforesave","save");if(this.proxy){this.relayEvents(this.proxy,["loadexception","exception"])}if(this.writer){this.on({scope:this,add:this.createRecords,remove:this.destroyRecord,update:this.updateRecord,clear:this.onClear})}this.sortToggle={};if(this.sortField){this.setDefaultSort(this.sortField,this.sortDir)}else{if(this.sortInfo){this.setDefaultSort(this.sortInfo.field,this.sortInfo.direction)}}Ext.data.Store.superclass.constructor.call(this);if(this.id){this.storeId=this.id;delete this.id}if(this.storeId){Ext.StoreMgr.register(this)}if(this.inlineData){this.loadData(this.inlineData);delete this.inlineData}else{if(this.autoLoad){this.load.defer(10,this,[typeof this.autoLoad=="object"?this.autoLoad:undefined])}}this.batchCounter=0;this.batches={}},buildWriter:function(b){var a=undefined,c=(b.format||"json").toLowerCase();switch(c){case"json":a=Ext.data.JsonWriter;break;case"xml":a=Ext.data.XmlWriter;break;default:a=Ext.data.JsonWriter}return new a(b)},destroy:function(){if(!this.isDestroyed){if(this.storeId){Ext.StoreMgr.unregister(this)}this.clearData();this.data=null;Ext.destroy(this.proxy);this.reader=this.writer=null;this.purgeListeners();this.isDestroyed=true}},add:function(c){var e,a,b,d;c=[].concat(c);if(c.length<1){return}for(e=0,a=c.length;e<a;e++){b=c[e];b.join(this);if(b.dirty||b.phantom){this.modified.push(b)}}d=this.data.length;this.data.addAll(c);if(this.snapshot){this.snapshot.addAll(c)}this.fireEvent("add",this,c,d)},addSorted:function(a){var b=this.findInsertIndex(a);this.insert(b,a)},doUpdate:function(a){this.data.replace(a.id,a);if(this.snapshot){this.snapshot.replace(a.id,a)}this.fireEvent("update",this,a,Ext.data.Record.COMMIT)},remove:function(a){if(Ext.isArray(a)){Ext.each(a,function(c){this.remove(c)},this);return}var b=this.data.indexOf(a);if(b>-1){a.join(null);this.data.removeAt(b)}if(this.pruneModifiedRecords){this.modified.remove(a)}if(this.snapshot){this.snapshot.remove(a)}if(b>-1){this.fireEvent("remove",this,a,b)}},removeAt:function(a){this.remove(this.getAt(a))},removeAll:function(b){var a=[];this.each(function(c){a.push(c)});this.clearData();if(this.snapshot){this.snapshot.clear()}if(this.pruneModifiedRecords){this.modified=[]}if(b!==true){this.fireEvent("clear",this,a)}},onClear:function(b,a){Ext.each(a,function(d,c){this.destroyRecord(this,d,c)},this)},insert:function(d,c){var e,a,b;c=[].concat(c);for(e=0,a=c.length;e<a;e++){b=c[e];this.data.insert(d+e,b);b.join(this);if(b.dirty||b.phantom){this.modified.push(b)}}if(this.snapshot){this.snapshot.addAll(c)}this.fireEvent("add",this,c,d)},indexOf:function(a){return this.data.indexOf(a)},indexOfId:function(a){return this.data.indexOfKey(a)},getById:function(a){return(this.snapshot||this.data).key(a)},getAt:function(a){return this.data.itemAt(a)},getRange:function(b,a){return this.data.getRange(b,a)},storeOptions:function(a){a=Ext.apply({},a);delete a.callback;delete a.scope;this.lastOptions=a},clearData:function(){this.data.each(function(a){a.join(null)});this.data.clear()},load:function(b){b=Ext.apply({},b);this.storeOptions(b);if(this.sortInfo&&this.remoteSort){var a=this.paramNames;b.params=Ext.apply({},b.params);b.params[a.sort]=this.sortInfo.field;b.params[a.dir]=this.sortInfo.direction}try{return this.execute("read",null,b)}catch(c){this.handleException(c);return false}},updateRecord:function(b,a,c){if(c==Ext.data.Record.EDIT&&this.autoSave===true&&(!a.phantom||(a.phantom&&a.isValid()))){this.save()}},createRecords:function(c,b,e){var d=this.modified,h=b.length,a,g;for(g=0;g<h;g++){a=b[g];if(a.phantom&&a.isValid()){a.markDirty();if(d.indexOf(a)==-1){d.push(a)}}}if(this.autoSave===true){this.save()}},destroyRecord:function(b,a,c){if(this.modified.indexOf(a)!=-1){this.modified.remove(a)}if(!a.phantom){this.removed.push(a);a.lastIndex=c;if(this.autoSave===true){this.save()}}},execute:function(e,a,c,b){if(!Ext.data.Api.isAction(e)){throw new Ext.data.Api.Error("execute",e)}c=Ext.applyIf(c||{},{params:{}});if(b!==undefined){this.addToBatch(b)}var d=true;if(e==="read"){d=this.fireEvent("beforeload",this,c);Ext.applyIf(c.params,this.baseParams)}else{if(this.writer.listful===true&&this.restful!==true){a=(Ext.isArray(a))?a:[a]}else{if(Ext.isArray(a)&&a.length==1){a=a.shift()}}if((d=this.fireEvent("beforewrite",this,e,a,c))!==false){this.writer.apply(c.params,this.baseParams,e,a)}}if(d!==false){if(this.writer&&this.proxy.url&&!this.proxy.restful&&!Ext.data.Api.hasUniqueUrl(this.proxy,e)){c.params.xaction=e}this.proxy.request(Ext.data.Api.actions[e],a,c.params,this.reader,this.createCallback(e,a,b),this,c)}return d},save:function(){if(!this.writer){throw new Ext.data.Store.Error("writer-undefined")}var h=[],k,l,e,c={},d;if(this.removed.length){h.push(["destroy",this.removed])}var b=[].concat(this.getModifiedRecords());if(b.length){var g=[];for(d=b.length-1;d>=0;d--){if(b[d].phantom===true){var a=b.splice(d,1).shift();if(a.isValid()){g.push(a)}}else{if(!b[d].isValid()){b.splice(d,1)}}}if(g.length){h.push(["create",g])}if(b.length){h.push(["update",b])}}k=h.length;if(k){e=++this.batchCounter;for(d=0;d<k;++d){l=h[d];c[l[0]]=l[1]}if(this.fireEvent("beforesave",this,c)!==false){for(d=0;d<k;++d){l=h[d];this.doTransaction(l[0],l[1],e)}return e}}return -1},doTransaction:function(e,b,c){function g(h){try{this.execute(e,h,undefined,c)}catch(i){this.handleException(i)}}if(this.batch===false){for(var d=0,a=b.length;d<a;d++){g.call(this,b[d])}}else{g.call(this,b)}},addToBatch:function(c){var a=this.batches,d=this.batchKey+c,e=a[d];if(!e){a[d]=e={id:c,count:0,data:{}}}++e.count},removeFromBatch:function(d,h,g){var c=this.batches,e=this.batchKey+d,i=c[e],a;if(i){a=i.data[h]||[];i.data[h]=a.concat(g);if(i.count===1){g=i.data;delete c[e];this.fireEvent("save",this,d,g)}else{--i.count}}},createCallback:function(c,a,b){var d=Ext.data.Api.actions;return(c=="read")?this.loadRecords:function(g,e,h){this["on"+Ext.util.Format.capitalize(c)+"Records"](h,a,[].concat(g));if(h===true){this.fireEvent("write",this,c,g,e,a)}this.removeFromBatch(b,c,g)}},clearModified:function(a){if(Ext.isArray(a)){for(var b=a.length-1;b>=0;b--){this.modified.splice(this.modified.indexOf(a[b]),1)}}else{this.modified.splice(this.modified.indexOf(a),1)}},reMap:function(b){if(Ext.isArray(b)){for(var d=0,a=b.length;d<a;d++){this.reMap(b[d])}}else{delete this.data.map[b._phid];this.data.map[b.id]=b;var c=this.data.keys.indexOf(b._phid);this.data.keys.splice(c,1,b.id);delete b._phid}},onCreateRecords:function(d,a,b){if(d===true){try{this.reader.realize(a,b);this.reMap(a)}catch(c){this.handleException(c);if(Ext.isArray(a)){this.onCreateRecords(d,a,b)}}}},onUpdateRecords:function(d,a,b){if(d===true){try{this.reader.update(a,b)}catch(c){this.handleException(c);if(Ext.isArray(a)){this.onUpdateRecords(d,a,b)}}}},onDestroyRecords:function(e,b,d){b=(b instanceof Ext.data.Record)?[b]:[].concat(b);for(var c=0,a=b.length;c<a;c++){this.removed.splice(this.removed.indexOf(b[c]),1)}if(e===false){for(c=b.length-1;c>=0;c--){this.insert(b[c].lastIndex,b[c])}}},handleException:function(a){Ext.handleError(a)},reload:function(a){this.load(Ext.applyIf(a||{},this.lastOptions))},loadRecords:function(b,m,h){var e,g;if(this.isDestroyed===true){return}if(!b||h===false){if(h!==false){this.fireEvent("load",this,[],m)}if(m.callback){m.callback.call(m.scope||this,[],m,false,b)}return}var a=b.records,k=b.totalRecords||a.length;if(!m||m.add!==true){if(this.pruneModifiedRecords){this.modified=[]}for(e=0,g=a.length;e<g;e++){a[e].join(this)}if(this.snapshot){this.data=this.snapshot;delete this.snapshot}this.clearData();this.data.addAll(a);this.totalLength=k;this.applySort();this.fireEvent("datachanged",this)}else{var l=[],d,c=0;for(e=0,g=a.length;e<g;++e){d=a[e];if(this.indexOfId(d.id)>-1){this.doUpdate(d)}else{l.push(d);++c}}this.totalLength=Math.max(k,this.data.length+c);this.add(l)}this.fireEvent("load",this,a,m);if(m.callback){m.callback.call(m.scope||this,a,m,true)}},loadData:function(c,a){var b=this.reader.readRecords(c);this.loadRecords(b,{add:a},true)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalLength||0},getSortState:function(){return this.sortInfo},applySort:function(){if((this.sortInfo||this.multiSortInfo)&&!this.remoteSort){this.sortData()}},sortData:function(){var a=this.hasMultiSort?this.multiSortInfo:this.sortInfo,k=a.direction||"ASC",h=a.sorters,c=[];if(!this.hasMultiSort){h=[{direction:k,field:a.field}]}for(var d=0,b=h.length;d<b;d++){c.push(this.createSortFunction(h[d].field,h[d].direction))}if(c.length==0){return}var g=k.toUpperCase()=="DESC"?-1:1;var e=function(n,m){var l=c[0].call(this,n,m);if(c.length>1){for(var p=1,o=c.length;p<o;p++){l=l||c[p].call(this,n,m)}}return g*l};this.data.sort(k,e);if(this.snapshot&&this.snapshot!=this.data){this.snapshot.sort(k,e)}},createSortFunction:function(c,b){b=b||"ASC";var a=b.toUpperCase()=="DESC"?-1:1;var d=this.fields.get(c).sortType;return function(g,e){var i=d(g.data[c]),h=d(e.data[c]);return a*(i>h?1:(i<h?-1:0))}},setDefaultSort:function(b,a){a=a?a.toUpperCase():"ASC";this.sortInfo={field:b,direction:a};this.sortToggle[b]=a},sort:function(b,a){if(Ext.isArray(arguments[0])){return this.multiSort.call(this,b,a)}else{return this.singleSort(b,a)}},singleSort:function(g,c){var e=this.fields.get(g);if(!e){return false}var b=e.name,a=this.sortInfo||null,d=this.sortToggle?this.sortToggle[b]:null;if(!c){if(a&&a.field==b){c=(this.sortToggle[b]||"ASC").toggle("ASC","DESC")}else{c=e.sortDir}}this.sortToggle[b]=c;this.sortInfo={field:b,direction:c};this.hasMultiSort=false;if(this.remoteSort){if(!this.load(this.lastOptions)){if(d){this.sortToggle[b]=d}if(a){this.sortInfo=a}}}else{this.applySort();this.fireEvent("datachanged",this)}return true},multiSort:function(b,a){this.hasMultiSort=true;a=a||"ASC";if(this.multiSortInfo&&a==this.multiSortInfo.direction){a=a.toggle("ASC","DESC")}this.multiSortInfo={sorters:b,direction:a};if(this.remoteSort){this.singleSort(b[0].field,b[0].direction)}else{this.applySort();this.fireEvent("datachanged",this)}},each:function(b,a){this.data.each(b,a)},getModifiedRecords:function(){return this.modified},sum:function(e,g,a){var c=this.data.items,b=0;g=g||0;a=(a||a===0)?a:c.length-1;for(var d=g;d<=a;d++){b+=(c[d].data[e]||0)}return b},createFilterFn:function(d,c,e,a,b){if(Ext.isEmpty(c,false)){return false}c=this.data.createValueMatcher(c,e,a,b);return function(g){return c.test(g.data[d])}},createMultipleFilterFn:function(a){return function(b){var k=true;for(var d=0,c=a.length;d<c;d++){var h=a[d],g=h.fn,e=h.scope;k=k&&g.call(e,b)}return k}},filter:function(n,m,h,k,e){var l;if(Ext.isObject(n)){n=[n]}if(Ext.isArray(n)){var b=[];for(var g=0,d=n.length;g<d;g++){var a=n[g],c=a.fn,o=a.scope||this;if(!Ext.isFunction(c)){c=this.createFilterFn(a.property,a.value,a.anyMatch,a.caseSensitive,a.exactMatch)}b.push({fn:c,scope:o})}l=this.createMultipleFilterFn(b)}else{l=this.createFilterFn(n,m,h,k,e)}return l?this.filterBy(l):this.clearFilter()},filterBy:function(b,a){this.snapshot=this.snapshot||this.data;this.data=this.queryBy(b,a||this);this.fireEvent("datachanged",this)},clearFilter:function(a){if(this.isFiltered()){this.data=this.snapshot;delete this.snapshot;if(a!==true){this.fireEvent("datachanged",this)}}},isFiltered:function(){return !!this.snapshot&&this.snapshot!=this.data},query:function(d,c,e,a){var b=this.createFilterFn(d,c,e,a);return b?this.queryBy(b):this.data.clone()},queryBy:function(b,a){var c=this.snapshot||this.data;return c.filterBy(b,a||this)},find:function(d,c,g,e,a){var b=this.createFilterFn(d,c,e,a);return b?this.data.findIndexBy(b,null,g):-1},findExact:function(b,a,c){return this.data.findIndexBy(function(d){return d.get(b)===a},this,c)},findBy:function(b,a,c){return this.data.findIndexBy(b,a,c)},collect:function(k,m,b){var h=(b===true&&this.snapshot)?this.snapshot.items:this.data.items;var n,o,a=[],c={};for(var e=0,g=h.length;e<g;e++){n=h[e].data[k];o=String(n);if((m||!Ext.isEmpty(n))&&!c[o]){c[o]=true;a[a.length]=n}}return a},afterEdit:function(a){if(this.modified.indexOf(a)==-1){this.modified.push(a)}this.fireEvent("update",this,a,Ext.data.Record.EDIT)},afterReject:function(a){this.modified.remove(a);this.fireEvent("update",this,a,Ext.data.Record.REJECT)},afterCommit:function(a){this.modified.remove(a);this.fireEvent("update",this,a,Ext.data.Record.COMMIT)},commitChanges:function(){var a=this.modified.slice(0),c=a.length,b;for(b=0;b<c;b++){a[b].commit()}this.modified=[];this.removed=[]},rejectChanges:function(){var a=this.modified.slice(0),e=this.removed.slice(0).reverse(),c=a.length,d=e.length,b;for(b=0;b<c;b++){a[b].reject()}for(b=0;b<d;b++){this.insert(e[b].lastIndex||0,e[b]);e[b].reject()}this.modified=[];this.removed=[]},onMetaChange:function(a){this.recordType=this.reader.recordType;this.fields=this.recordType.prototype.fields;delete this.snapshot;if(this.reader.meta.sortInfo){this.sortInfo=this.reader.meta.sortInfo}else{if(this.sortInfo&&!this.fields.get(this.sortInfo.field)){delete this.sortInfo}}if(this.writer){this.writer.meta=this.reader.meta}this.modified=[];this.fireEvent("metachange",this,this.reader.meta)},findInsertIndex:function(a){this.suspendEvents();var c=this.data.clone();this.data.add(a);this.applySort();var b=this.data.indexOf(a);this.data=c;this.resumeEvents();return b},setBaseParam:function(a,b){this.baseParams=this.baseParams||{};this.baseParams[a]=b}});Ext.reg("store",Ext.data.Store);Ext.data.Store.Error=Ext.extend(Ext.Error,{name:"Ext.data.Store"});Ext.apply(Ext.data.Store.Error.prototype,{lang:{"writer-undefined":"Attempted to execute a write-action without a DataWriter installed."}});Ext.data.Field=Ext.extend(Object,{constructor:function(b){if(Ext.isString(b)){b={name:b}}Ext.apply(this,b);var d=Ext.data.Types,a=this.sortType,c;if(this.type){if(Ext.isString(this.type)){this.type=Ext.data.Types[this.type.toUpperCase()]||d.AUTO}}else{this.type=d.AUTO}if(Ext.isString(a)){this.sortType=Ext.data.SortTypes[a]}else{if(Ext.isEmpty(a)){this.sortType=this.type.sortType}}if(!this.convert){this.convert=this.type.convert}},dateFormat:null,useNull:false,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:true});Ext.data.DataReader=function(a,b){this.meta=a;this.recordType=Ext.isArray(b)?Ext.data.Record.create(b):b;if(this.recordType){this.buildExtractors()}};Ext.data.DataReader.prototype={getTotal:Ext.emptyFn,getRoot:Ext.emptyFn,getMessage:Ext.emptyFn,getSuccess:Ext.emptyFn,getId:Ext.emptyFn,buildExtractors:Ext.emptyFn,extractValues:Ext.emptyFn,realize:function(a,c){if(Ext.isArray(a)){for(var b=a.length-1;b>=0;b--){if(Ext.isArray(c)){this.realize(a.splice(b,1).shift(),c.splice(b,1).shift())}else{this.realize(a.splice(b,1).shift(),c)}}}else{if(Ext.isArray(c)&&c.length==1){c=c.shift()}if(!this.isData(c)){throw new Ext.data.DataReader.Error("realize",a)}a.phantom=false;a._phid=a.id;a.id=this.getId(c);a.data=c;a.commit()}},update:function(a,c){if(Ext.isArray(a)){for(var b=a.length-1;b>=0;b--){if(Ext.isArray(c)){this.update(a.splice(b,1).shift(),c.splice(b,1).shift())}else{this.update(a.splice(b,1).shift(),c)}}}else{if(Ext.isArray(c)&&c.length==1){c=c.shift()}if(this.isData(c)){a.data=Ext.apply(a.data,c)}a.commit()}},extractData:function(l,a){var k=(this instanceof Ext.data.JsonReader)?"json":"node";var c=[];if(this.isData(l)&&!(this instanceof Ext.data.XmlReader)){l=[l]}var h=this.recordType.prototype.fields,p=h.items,o=h.length,c=[];if(a===true){var m=this.recordType;for(var e=0;e<l.length;e++){var b=l[e];var g=new m(this.extractValues(b,p,o),this.getId(b));g[k]=b;c.push(g)}}else{for(var e=0;e<l.length;e++){var d=this.extractValues(l[e],p,o);d[this.meta.idProperty]=this.getId(l[e]);c.push(d)}}return c},isData:function(a){return(a&&Ext.isObject(a)&&!Ext.isEmpty(this.getId(a)))?true:false},onMetaChange:function(a){delete this.ef;this.meta=a;this.recordType=Ext.data.Record.create(a.fields);this.buildExtractors()}};Ext.data.DataReader.Error=Ext.extend(Ext.Error,{constructor:function(b,a){this.arg=a;Ext.Error.call(this,b)},name:"Ext.data.DataReader"});Ext.apply(Ext.data.DataReader.Error.prototype,{lang:{update:"#update received invalid data from server.  Please see docs for DataReader#update and review your DataReader configuration.",realize:"#realize was called with invalid remote-data.  Please see the docs for DataReader#realize and review your DataReader configuration.","invalid-response":"#readResponse received an invalid response from the server."}});Ext.data.DataWriter=function(a){Ext.apply(this,a)};Ext.data.DataWriter.prototype={writeAllFields:false,listful:false,apply:function(e,g,d,a){var c=[],b=d+"Record";if(Ext.isArray(a)){Ext.each(a,function(h){c.push(this[b](h))},this)}else{if(a instanceof Ext.data.Record){c=this[b](a)}}this.render(e,g,c)},render:Ext.emptyFn,updateRecord:Ext.emptyFn,createRecord:Ext.emptyFn,destroyRecord:Ext.emptyFn,toHash:function(g,c){var e=g.fields.map,d={},b=(this.writeAllFields===false&&g.phantom===false)?g.getChanges():g.data,a;Ext.iterate(b,function(i,h){if((a=e[i])){d[a.mapping?a.mapping:a.name]=h}});if(g.phantom){if(g.fields.containsKey(this.meta.idProperty)&&Ext.isEmpty(g.data[this.meta.idProperty])){delete d[this.meta.idProperty]}}else{d[this.meta.idProperty]=g.id}return d},toArray:function(b){var a=[];Ext.iterate(b,function(d,c){a.push({name:d,value:c})},this);return a}};Ext.data.DataProxy=function(a){a=a||{};this.api=a.api;this.url=a.url;this.restful=a.restful;this.listeners=a.listeners;this.prettyUrls=a.prettyUrls;this.addEvents("exception","beforeload","load","loadexception","beforewrite","write");Ext.data.DataProxy.superclass.constructor.call(this);try{Ext.data.Api.prepare(this)}catch(b){if(b instanceof Ext.data.Api.Error){b.toConsole()}}Ext.data.DataProxy.relayEvents(this,["beforewrite","write","exception"])};Ext.extend(Ext.data.DataProxy,Ext.util.Observable,{restful:false,setApi:function(){if(arguments.length==1){var a=Ext.data.Api.isValid(arguments[0]);if(a===true){this.api=arguments[0]}else{throw new Ext.data.Api.Error("invalid",a)}}else{if(arguments.length==2){if(!Ext.data.Api.isAction(arguments[0])){throw new Ext.data.Api.Error("invalid",arguments[0])}this.api[arguments[0]]=arguments[1]}}Ext.data.Api.prepare(this)},isApiAction:function(a){return(this.api[a])?true:false},request:function(e,b,g,a,h,d,c){if(!this.api[e]&&!this.load){throw new Ext.data.DataProxy.Error("action-undefined",e)}g=g||{};if((e===Ext.data.Api.actions.read)?this.fireEvent("beforeload",this,g):this.fireEvent("beforewrite",this,e,b,g)!==false){this.doRequest.apply(this,arguments)}else{h.call(d||this,null,c,false)}},load:null,doRequest:function(e,b,g,a,h,d,c){this.load(g,a,h,d,c)},onRead:Ext.emptyFn,onWrite:Ext.emptyFn,buildUrl:function(d,b){b=b||null;var c=(this.conn&&this.conn.url)?this.conn.url:(this.api[d])?this.api[d].url:this.url;if(!c){throw new Ext.data.Api.Error("invalid-url",d)}var e=null;var a=c.match(/(.*)(\.json|\.xml|\.html)$/);if(a){e=a[2];c=a[1]}if((this.restful===true||this.prettyUrls===true)&&b instanceof Ext.data.Record&&!b.phantom){c+="/"+b.id}return(e===null)?c:c+e},destroy:function(){this.purgeListeners()}});Ext.apply(Ext.data.DataProxy,Ext.util.Observable.prototype);Ext.util.Observable.call(Ext.data.DataProxy);Ext.data.DataProxy.Error=Ext.extend(Ext.Error,{constructor:function(b,a){this.arg=a;Ext.Error.call(this,b)},name:"Ext.data.DataProxy"});Ext.apply(Ext.data.DataProxy.Error.prototype,{lang:{"action-undefined":"DataProxy attempted to execute an API-action but found an undefined url / function.  Please review your Proxy url/api-configuration.","api-invalid":"Recieved an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions from Ext.data.Api.actions."}});Ext.data.Request=function(a){Ext.apply(this,a)};Ext.data.Request.prototype={action:undefined,rs:undefined,params:undefined,callback:Ext.emptyFn,scope:undefined,reader:undefined};Ext.data.Response=function(a){Ext.apply(this,a)};Ext.data.Response.prototype={action:undefined,success:undefined,message:undefined,data:undefined,raw:undefined,records:undefined};Ext.data.ScriptTagProxy=function(a){Ext.apply(this,a);Ext.data.ScriptTagProxy.superclass.constructor.call(this,a);this.head=document.getElementsByTagName("head")[0]};Ext.data.ScriptTagProxy.TRANS_ID=1000;Ext.extend(Ext.data.ScriptTagProxy,Ext.data.DataProxy,{timeout:30000,callbackParam:"callback",nocache:true,doRequest:function(e,g,d,h,k,l,m){var c=Ext.urlEncode(Ext.apply(d,this.extraParams));var b=this.buildUrl(e,g);if(!b){throw new Ext.data.Api.Error("invalid-url",b)}b=Ext.urlAppend(b,c);if(this.nocache){b=Ext.urlAppend(b,"_dc="+(new Date().getTime()))}var a=++Ext.data.ScriptTagProxy.TRANS_ID;var n={id:a,action:e,cb:"stcCallback"+a,scriptId:"stcScript"+a,params:d,arg:m,url:b,callback:k,scope:l,reader:h};window[n.cb]=this.createCallback(e,g,n);b+=String.format("&{0}={1}",this.callbackParam,n.cb);if(this.autoAbort!==false){this.abort()}n.timeoutId=this.handleFailure.defer(this.timeout,this,[n]);var i=document.createElement("script");i.setAttribute("src",b);i.setAttribute("type","text/javascript");i.setAttribute("id",n.scriptId);this.head.appendChild(i);this.trans=n},createCallback:function(d,b,c){var a=this;return function(e){a.trans=false;a.destroyTrans(c,true);if(d===Ext.data.Api.actions.read){a.onRead.call(a,d,c,e)}else{a.onWrite.call(a,d,c,e,b)}}},onRead:function(d,c,b){var a;try{a=c.reader.readRecords(b)}catch(g){this.fireEvent("loadexception",this,c,b,g);this.fireEvent("exception",this,"response",d,c,b,g);c.callback.call(c.scope||window,null,c.arg,false);return}if(a.success===false){this.fireEvent("loadexception",this,c,b);this.fireEvent("exception",this,"remote",d,c,b,null)}else{this.fireEvent("load",this,b,c.arg)}c.callback.call(c.scope||window,a,c.arg,a.success)},onWrite:function(h,g,c,b){var a=g.reader;try{var d=a.readResponse(h,c)}catch(i){this.fireEvent("exception",this,"response",h,g,d,i);g.callback.call(g.scope||window,null,d,false);return}if(!d.success===true){this.fireEvent("exception",this,"remote",h,g,d,b);g.callback.call(g.scope||window,null,d,false);return}this.fireEvent("write",this,h,d.data,d,b,g.arg);g.callback.call(g.scope||window,d.data,d,true)},isLoading:function(){return this.trans?true:false},abort:function(){if(this.isLoading()){this.destroyTrans(this.trans)}},destroyTrans:function(b,a){this.head.removeChild(document.getElementById(b.scriptId));clearTimeout(b.timeoutId);if(a){window[b.cb]=undefined;try{delete window[b.cb]}catch(c){}}else{window[b.cb]=function(){window[b.cb]=undefined;try{delete window[b.cb]}catch(d){}}}},handleFailure:function(a){this.trans=false;this.destroyTrans(a,false);if(a.action===Ext.data.Api.actions.read){this.fireEvent("loadexception",this,null,a.arg)}this.fireEvent("exception",this,"response",a.action,{response:null,options:a.arg});a.callback.call(a.scope||window,null,a.arg,false)},destroy:function(){this.abort();Ext.data.ScriptTagProxy.superclass.destroy.call(this)}});Ext.data.HttpProxy=function(a){Ext.data.HttpProxy.superclass.constructor.call(this,a);this.conn=a;this.conn.url=null;this.useAjax=!a||!a.events;var c=Ext.data.Api.actions;this.activeRequest={};for(var b in c){this.activeRequest[c[b]]=undefined}};Ext.extend(Ext.data.HttpProxy,Ext.data.DataProxy,{getConnection:function(){return this.useAjax?Ext.Ajax:this.conn},setUrl:function(a,b){this.conn.url=a;if(b===true){this.url=a;this.api=null;Ext.data.Api.prepare(this)}},doRequest:function(g,d,i,c,b,e,a){var h={method:(this.api[g])?this.api[g]["method"]:undefined,request:{callback:b,scope:e,arg:a},reader:c,callback:this.createCallback(g,d),scope:this};if(i.jsonData){h.jsonData=i.jsonData}else{if(i.xmlData){h.xmlData=i.xmlData}else{h.params=i||{}}}this.conn.url=this.buildUrl(g,d);if(this.useAjax){Ext.applyIf(h,this.conn);if(this.activeRequest[g]){}this.activeRequest[g]=Ext.Ajax.request(h)}else{this.conn.request(h)}this.conn.url=null},createCallback:function(b,a){return function(e,d,c){this.activeRequest[b]=undefined;if(!d){if(b===Ext.data.Api.actions.read){this.fireEvent("loadexception",this,e,c)}this.fireEvent("exception",this,"response",b,e,c);e.request.callback.call(e.request.scope,null,e.request.arg,false);return}if(b===Ext.data.Api.actions.read){this.onRead(b,e,c)}else{this.onWrite(b,e,c,a)}}},onRead:function(d,h,b){var a;try{a=h.reader.read(b)}catch(g){this.fireEvent("loadexception",this,h,b,g);this.fireEvent("exception",this,"response",d,h,b,g);h.request.callback.call(h.request.scope,null,h.request.arg,false);return}if(a.success===false){this.fireEvent("loadexception",this,h,b);var c=h.reader.readResponse(d,b);this.fireEvent("exception",this,"remote",d,h,c,null)}else{this.fireEvent("load",this,h,h.request.arg)}h.request.callback.call(h.request.scope,a,h.request.arg,a.success)},onWrite:function(g,i,c,b){var a=i.reader;var d;try{d=a.readResponse(g,c)}catch(h){this.fireEvent("exception",this,"response",g,i,c,h);i.request.callback.call(i.request.scope,null,i.request.arg,false);return}if(d.success===true){this.fireEvent("write",this,g,d.data,d,b,i.request.arg)}else{this.fireEvent("exception",this,"remote",g,i,d,b)}i.request.callback.call(i.request.scope,d.data,d,d.success)},destroy:function(){if(!this.useAjax){this.conn.abort()}else{if(this.activeRequest){var b=Ext.data.Api.actions;for(var a in b){if(this.activeRequest[b[a]]){Ext.Ajax.abort(this.activeRequest[b[a]])}}}}Ext.data.HttpProxy.superclass.destroy.call(this)}});Ext.data.MemoryProxy=function(b){var a={};a[Ext.data.Api.actions.read]=true;Ext.data.MemoryProxy.superclass.constructor.call(this,{api:a});this.data=b};Ext.extend(Ext.data.MemoryProxy,Ext.data.DataProxy,{doRequest:function(b,c,a,d,h,i,k){a=a||{};var l;try{l=d.readRecords(this.data)}catch(g){this.fireEvent("loadexception",this,null,k,g);this.fireEvent("exception",this,"response",b,k,null,g);h.call(i,null,k,false);return}h.call(i,l,k,true)}});Ext.data.Types=new function(){var a=Ext.data.SortTypes;Ext.apply(this,{stripRe:/[\$,%]/g,AUTO:{convert:function(b){return b},sortType:a.none,type:"auto"},STRING:{convert:function(b){return(b===undefined||b===null)?"":String(b)},sortType:a.asUCString,type:"string"},INT:{convert:function(b){return b!==undefined&&b!==null&&b!==""?parseInt(String(b).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:a.none,type:"int"},FLOAT:{convert:function(b){return b!==undefined&&b!==null&&b!==""?parseFloat(String(b).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:a.none,type:"float"},BOOL:{convert:function(b){return b===true||b==="true"||b==1},sortType:a.none,type:"bool"},DATE:{convert:function(c){var d=this.dateFormat;if(!c){return null}if(Ext.isDate(c)){return c}if(d){if(d=="timestamp"){return new Date(c*1000)}if(d=="time"){return new Date(parseInt(c,10))}return Date.parseDate(c,d)}var b=Date.parse(c);return b?new Date(b):null},sortType:a.asDate,type:"date"}});Ext.apply(this,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})};Ext.data.JsonWriter=Ext.extend(Ext.data.DataWriter,{encode:true,encodeDelete:false,constructor:function(a){Ext.data.JsonWriter.superclass.constructor.call(this,a)},render:function(c,d,b){if(this.encode===true){Ext.apply(c,d);c[this.meta.root]=Ext.encode(b)}else{var a=Ext.apply({},d);a[this.meta.root]=b;c.jsonData=a}},createRecord:function(a){return this.toHash(a)},updateRecord:function(a){return this.toHash(a)},destroyRecord:function(b){if(this.encodeDelete){var a={};a[this.meta.idProperty]=b.id;return a}else{return b.id}}});Ext.data.JsonReader=function(a,b){a=a||{};Ext.applyIf(a,{idProperty:"id",successProperty:"success",totalProperty:"total"});Ext.data.JsonReader.superclass.constructor.call(this,a,b||a.fields)};Ext.extend(Ext.data.JsonReader,Ext.data.DataReader,{read:function(a){var b=a.responseText;var c=Ext.decode(b);if(!c){throw {message:"JsonReader.read: Json object not found"}}return this.readRecords(c)},readResponse:function(e,b){var g=(b.responseText!==undefined)?Ext.decode(b.responseText):b;if(!g){throw new Ext.data.JsonReader.Error("response")}var a=this.getRoot(g);if(e===Ext.data.Api.actions.create){var d=Ext.isDefined(a);if(d&&Ext.isEmpty(a)){throw new Ext.data.JsonReader.Error("root-empty",this.meta.root)}else{if(!d){throw new Ext.data.JsonReader.Error("root-undefined-response",this.meta.root)}}}var c=new Ext.data.Response({action:e,success:this.getSuccess(g),data:(a)?this.extractData(a,false):[],message:this.getMessage(g),raw:g});if(Ext.isEmpty(c.success)){throw new Ext.data.JsonReader.Error("successProperty-response",this.meta.successProperty)}return c},readRecords:function(a){this.jsonData=a;if(a.metaData){this.onMetaChange(a.metaData)}var n=this.meta,h=this.recordType,b=h.prototype.fields,m=b.items,i=b.length,k;var g=this.getRoot(a),e=g.length,d=e,l=true;if(n.totalProperty){k=parseInt(this.getTotal(a),10);if(!isNaN(k)){d=k}}if(n.successProperty){k=this.getSuccess(a);if(k===false||k==="false"){l=false}}return{success:l,records:this.extractData(g,true),totalRecords:d}},buildExtractors:function(){if(this.ef){return}var m=this.meta,h=this.recordType,e=h.prototype.fields,l=e.items,k=e.length;if(m.totalProperty){this.getTotal=this.createAccessor(m.totalProperty)}if(m.successProperty){this.getSuccess=this.createAccessor(m.successProperty)}if(m.messageProperty){this.getMessage=this.createAccessor(m.messageProperty)}this.getRoot=m.root?this.createAccessor(m.root):function(g){return g};if(m.id||m.idProperty){var d=this.createAccessor(m.id||m.idProperty);this.getId=function(i){var g=d(i);return(g===undefined||g==="")?null:g}}else{this.getId=function(){return null}}var c=[];for(var b=0;b<k;b++){e=l[b];var a=(e.mapping!==undefined&&e.mapping!==null)?e.mapping:e.name;c.push(this.createAccessor(a))}this.ef=c},simpleAccess:function(b,a){return b[a]},createAccessor:function(){var a=/[\[\.]/;return function(c){if(Ext.isEmpty(c)){return Ext.emptyFn}if(Ext.isFunction(c)){return c}var b=String(c).search(a);if(b>=0){return new Function("obj","return obj"+(b>0?".":"")+c)}return function(d){return d[c]}}}(),extractValues:function(h,d,a){var g,c={};for(var e=0;e<a;e++){g=d[e];var b=this.ef[e](h);c[g.name]=g.convert((b!==undefined)?b:g.defaultValue,h)}return c}});Ext.data.JsonReader.Error=Ext.extend(Ext.Error,{constructor:function(b,a){this.arg=a;Ext.Error.call(this,b)},name:"Ext.data.JsonReader"});Ext.apply(Ext.data.JsonReader.Error.prototype,{lang:{response:"An error occurred while json-decoding your server response","successProperty-response":'Could not locate your "successProperty" in your server response.  Please review your JsonReader config to ensure the config-property "successProperty" matches the property in your server-response.  See the JsonReader docs.',"root-undefined-config":'Your JsonReader was configured without a "root" property.  Please review your JsonReader config and make sure to define the root property.  See the JsonReader docs.',"idProperty-undefined":'Your JsonReader was configured without an "idProperty"  Please review your JsonReader configuration and ensure the "idProperty" is set (e.g.: "id").  See the JsonReader docs.',"root-empty":'Data was expected to be returned by the server in the "root" property of the response.  Please review your JsonReader configuration to ensure the "root" property matches that returned in the server-response.  See JsonReader docs.'}});Ext.data.ArrayReader=Ext.extend(Ext.data.JsonReader,{readRecords:function(r){this.arrayData=r;var l=this.meta,d=l?Ext.num(l.idIndex,l.id):null,b=this.recordType,q=b.prototype.fields,z=[],e=true,g;var u=this.getRoot(r);for(var y=0,A=u.length;y<A;y++){var t=u[y],a={},p=((d||d===0)&&t[d]!==undefined&&t[d]!==""?t[d]:null);for(var x=0,m=q.length;x<m;x++){var B=q.items[x],w=B.mapping!==undefined&&B.mapping!==null?B.mapping:x;g=t[w]!==undefined?t[w]:B.defaultValue;g=B.convert(g,t);a[B.name]=g}var c=new b(a,p);c.json=t;z[z.length]=c}var h=z.length;if(l.totalProperty){g=parseInt(this.getTotal(r),10);if(!isNaN(g)){h=g}}if(l.successProperty){g=this.getSuccess(r);if(g===false||g==="false"){e=false}}return{success:e,records:z,totalRecords:h}}});Ext.data.ArrayStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.ArrayStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.ArrayReader(a)}))},loadData:function(e,b){if(this.expandData===true){var d=[];for(var c=0,a=e.length;c<a;c++){d[d.length]=[e[c]]}e=d}Ext.data.ArrayStore.superclass.loadData.call(this,e,b)}});Ext.reg("arraystore",Ext.data.ArrayStore);Ext.data.SimpleStore=Ext.data.ArrayStore;Ext.reg("simplestore",Ext.data.SimpleStore);Ext.data.JsonStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.JsonStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.JsonReader(a)}))}});Ext.reg("jsonstore",Ext.data.JsonStore);Ext.data.XmlWriter=function(a){Ext.data.XmlWriter.superclass.constructor.apply(this,arguments);this.tpl=(typeof(this.tpl)==="string")?new Ext.XTemplate(this.tpl).compile():this.tpl.compile()};Ext.extend(Ext.data.XmlWriter,Ext.data.DataWriter,{documentRoot:"xrequest",forceDocumentRoot:false,root:"records",xmlVersion:"1.0",xmlEncoding:"ISO-8859-15",tpl:'<tpl for="."><\u003fxml version="{version}" encoding="{encoding}"\u003f><tpl if="documentRoot"><{documentRoot}><tpl for="baseParams"><tpl for="."><{name}>{value}</{name}></tpl></tpl></tpl><tpl if="records.length&gt;1"><{root}></tpl><tpl for="records"><{parent.record}><tpl for="."><{name}>{value}</{name}></tpl></{parent.record}></tpl><tpl if="records.length&gt;1"></{root}></tpl><tpl if="documentRoot"></{documentRoot}></tpl></tpl>',render:function(b,c,a){c=this.toArray(c);b.xmlData=this.tpl.applyTemplate({version:this.xmlVersion,encoding:this.xmlEncoding,documentRoot:(c.length>0||this.forceDocumentRoot===true)?this.documentRoot:false,record:this.meta.record,root:this.root,baseParams:c,records:(Ext.isArray(a[0]))?a:[a]})},createRecord:function(a){return this.toArray(this.toHash(a))},updateRecord:function(a){return this.toArray(this.toHash(a))},destroyRecord:function(b){var a={};a[this.meta.idProperty]=b.id;return this.toArray(a)}});Ext.data.XmlReader=function(a,b){a=a||{};Ext.applyIf(a,{idProperty:a.idProperty||a.idPath||a.id,successProperty:a.successProperty||a.success});Ext.data.XmlReader.superclass.constructor.call(this,a,b||a.fields)};Ext.extend(Ext.data.XmlReader,Ext.data.DataReader,{read:function(a){var b=a.responseXML;if(!b){throw {message:"XmlReader.read: XML Document not available"}}return this.readRecords(b)},readRecords:function(d){this.xmlData=d;var a=d.documentElement||d,c=Ext.DomQuery,g=0,e=true;if(this.meta.totalProperty){g=this.getTotal(a,0)}if(this.meta.successProperty){e=this.getSuccess(a)}var b=this.extractData(c.select(this.meta.record,a),true);return{success:e,records:b,totalRecords:g||b.length}},readResponse:function(g,b){var e=Ext.DomQuery,h=b.responseXML,a=h.documentElement||h;var c=new Ext.data.Response({action:g,success:this.getSuccess(a),message:this.getMessage(a),data:this.extractData(e.select(this.meta.record,a)||e.select(this.meta.root,a),false),raw:h});if(Ext.isEmpty(c.success)){throw new Ext.data.DataReader.Error("successProperty-response",this.meta.successProperty)}if(g===Ext.data.Api.actions.create){var d=Ext.isDefined(c.data);if(d&&Ext.isEmpty(c.data)){throw new Ext.data.JsonReader.Error("root-empty",this.meta.root)}else{if(!d){throw new Ext.data.JsonReader.Error("root-undefined-response",this.meta.root)}}}return c},getSuccess:function(){return true},buildExtractors:function(){if(this.ef){return}var m=this.meta,h=this.recordType,e=h.prototype.fields,l=e.items,k=e.length;if(m.totalProperty){this.getTotal=this.createAccessor(m.totalProperty)}if(m.successProperty){this.getSuccess=this.createAccessor(m.successProperty)}if(m.messageProperty){this.getMessage=this.createAccessor(m.messageProperty)}this.getRoot=function(g){return(!Ext.isEmpty(g[this.meta.record]))?g[this.meta.record]:g[this.meta.root]};if(m.idPath||m.idProperty){var d=this.createAccessor(m.idPath||m.idProperty);this.getId=function(g){var i=d(g)||g.id;return(i===undefined||i==="")?null:i}}else{this.getId=function(){return null}}var c=[];for(var b=0;b<k;b++){e=l[b];var a=(e.mapping!==undefined&&e.mapping!==null)?e.mapping:e.name;c.push(this.createAccessor(a))}this.ef=c},createAccessor:function(){var a=Ext.DomQuery;return function(b){if(Ext.isFunction(b)){return b}switch(b){case this.meta.totalProperty:return function(c,d){return a.selectNumber(b,c,d)};break;case this.meta.successProperty:return function(d,e){var c=a.selectValue(b,d,true);var g=c!==false&&c!=="false";return g};break;default:return function(c,d){return a.selectValue(b,c,d)};break}}}(),extractValues:function(h,d,a){var g,c={};for(var e=0;e<a;e++){g=d[e];var b=this.ef[e](h);c[g.name]=g.convert((b!==undefined)?b:g.defaultValue,h)}return c}});Ext.data.XmlStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.XmlStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.XmlReader(a)}))}});Ext.reg("xmlstore",Ext.data.XmlStore);Ext.data.GroupingStore=Ext.extend(Ext.data.Store,{constructor:function(d){d=d||{};this.hasMultiSort=true;this.multiSortInfo=this.multiSortInfo||{sorters:[]};var e=this.multiSortInfo.sorters,c=d.groupField||this.groupField,b=d.sortInfo||this.sortInfo,a=d.groupDir||this.groupDir;if(c){e.push({field:c,direction:a})}if(b){e.push(b)}Ext.data.GroupingStore.superclass.constructor.call(this,d);this.addEvents("groupchange");this.applyGroupField()},remoteGroup:false,groupOnSort:false,groupDir:"ASC",clearGrouping:function(){this.groupField=false;if(this.remoteGroup){if(this.baseParams){delete this.baseParams.groupBy;delete this.baseParams.groupDir}var a=this.lastOptions;if(a&&a.params){delete a.params.groupBy;delete a.params.groupDir}this.reload()}else{this.sort();this.fireEvent("datachanged",this)}},groupBy:function(e,a,d){d=d?(String(d).toUpperCase()=="DESC"?"DESC":"ASC"):this.groupDir;if(this.groupField==e&&this.groupDir==d&&!a){return}var c=this.multiSortInfo.sorters;if(c.length>0&&c[0].field==this.groupField){c.shift()}this.groupField=e;this.groupDir=d;this.applyGroupField();var b=function(){this.fireEvent("groupchange",this,this.getGroupState())};if(this.groupOnSort){this.sort(e,d);b.call(this);return}if(this.remoteGroup){this.on("load",b,this,{single:true});this.reload()}else{this.sort(c);b.call(this)}},sort:function(h,c){if(this.remoteSort){return Ext.data.GroupingStore.superclass.sort.call(this,h,c)}var g=[];if(Ext.isArray(arguments[0])){g=arguments[0]}else{if(h==undefined){g=this.sortInfo?[this.sortInfo]:[]}else{var e=this.fields.get(h);if(!e){return false}var b=e.name,a=this.sortInfo||null,d=this.sortToggle?this.sortToggle[b]:null;if(!c){if(a&&a.field==b){c=(this.sortToggle[b]||"ASC").toggle("ASC","DESC")}else{c=e.sortDir}}this.sortToggle[b]=c;this.sortInfo={field:b,direction:c};g=[this.sortInfo]}}if(this.groupField){g.unshift({direction:this.groupDir,field:this.groupField})}return this.multiSort.call(this,g,c)},applyGroupField:function(){if(this.remoteGroup){if(!this.baseParams){this.baseParams={}}Ext.apply(this.baseParams,{groupBy:this.groupField,groupDir:this.groupDir});var a=this.lastOptions;if(a&&a.params){a.params.groupDir=this.groupDir;delete a.params.groupBy}}},applyGrouping:function(a){if(this.groupField!==false){this.groupBy(this.groupField,true,this.groupDir);return true}else{if(a===true){this.fireEvent("datachanged",this)}return false}},getGroupState:function(){return this.groupOnSort&&this.groupField!==false?(this.sortInfo?this.sortInfo.field:undefined):this.groupField}});Ext.reg("groupingstore",Ext.data.GroupingStore);Ext.data.DirectProxy=function(a){Ext.apply(this,a);if(typeof this.paramOrder=="string"){this.paramOrder=this.paramOrder.split(/[\s,|]/)}Ext.data.DirectProxy.superclass.constructor.call(this,a)};Ext.extend(Ext.data.DirectProxy,Ext.data.DataProxy,{paramOrder:undefined,paramsAsHash:true,directFn:undefined,doRequest:function(b,c,a,e,l,m,o){var k=[],h=this.api[b]||this.directFn;switch(b){case Ext.data.Api.actions.create:k.push(a.jsonData);break;case Ext.data.Api.actions.read:if(h.directCfg.method.len>0){if(this.paramOrder){for(var d=0,g=this.paramOrder.length;d<g;d++){k.push(a[this.paramOrder[d]])}}else{if(this.paramsAsHash){k.push(a)}}}break;case Ext.data.Api.actions.update:k.push(a.jsonData);break;case Ext.data.Api.actions.destroy:k.push(a.jsonData);break}var n={params:a||{},request:{callback:l,scope:m,arg:o},reader:e};k.push(this.createCallback(b,c,n),this);h.apply(window,k)},createCallback:function(d,a,b){var c=this;return function(e,g){if(!g.status){if(d===Ext.data.Api.actions.read){c.fireEvent("loadexception",c,b,g,null)}c.fireEvent("exception",c,"remote",d,b,g,null);b.request.callback.call(b.request.scope,null,b.request.arg,false);return}if(d===Ext.data.Api.actions.read){c.onRead(d,b,e,g)}else{c.onWrite(d,b,e,g,a)}}},onRead:function(g,e,a,d){var b;try{b=e.reader.readRecords(a)}catch(c){this.fireEvent("loadexception",this,e,d,c);this.fireEvent("exception",this,"response",g,e,d,c);e.request.callback.call(e.request.scope,null,e.request.arg,false);return}this.fireEvent("load",this,d,e.request.arg);e.request.callback.call(e.request.scope,b,e.request.arg,true)},onWrite:function(g,d,a,c,b){var e=d.reader.extractData(d.reader.getRoot(a),false);var h=d.reader.getSuccess(a);h=(h!==false);if(h){this.fireEvent("write",this,g,e,c,b,d.request.arg)}else{this.fireEvent("exception",this,"remote",g,d,a,b)}d.request.callback.call(d.request.scope,e,c,h)}});Ext.data.DirectStore=Ext.extend(Ext.data.Store,{constructor:function(a){var b=Ext.apply({},{batchTransactions:false},a);Ext.data.DirectStore.superclass.constructor.call(this,Ext.apply(b,{proxy:Ext.isDefined(b.proxy)?b.proxy:new Ext.data.DirectProxy(Ext.copyTo({},b,"paramOrder,paramsAsHash,directFn,api")),reader:(!Ext.isDefined(b.reader)&&b.fields)?new Ext.data.JsonReader(Ext.copyTo({},b,"totalProperty,root,idProperty"),b.fields):b.reader}))}});Ext.reg("directstore",Ext.data.DirectStore);Ext.Direct=Ext.extend(Ext.util.Observable,{exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"},constructor:function(){this.addEvents("event","exception");this.transactions={};this.providers={}},addProvider:function(e){var c=arguments;if(c.length>1){for(var d=0,b=c.length;d<b;d++){this.addProvider(c[d])}return}if(!e.events){e=new Ext.Direct.PROVIDERS[e.type](e)}e.id=e.id||Ext.id();this.providers[e.id]=e;e.on("data",this.onProviderData,this);e.on("exception",this.onProviderException,this);if(!e.isConnected()){e.connect()}return e},getProvider:function(a){return this.providers[a]},removeProvider:function(b){var a=b.id?b:this.providers[b];a.un("data",this.onProviderData,this);a.un("exception",this.onProviderException,this);delete this.providers[a.id];return a},addTransaction:function(a){this.transactions[a.tid]=a;return a},removeTransaction:function(a){delete this.transactions[a.tid||a];return a},getTransaction:function(a){return this.transactions[a.tid||a]},onProviderData:function(d,c){if(Ext.isArray(c)){for(var b=0,a=c.length;b<a;b++){this.onProviderData(d,c[b])}return}if(c.name&&c.name!="event"&&c.name!="exception"){this.fireEvent(c.name,c)}else{if(c.type=="exception"){this.fireEvent("exception",c)}}this.fireEvent("event",c,d)},createEvent:function(a,b){return new Ext.Direct.eventTypes[a.type](Ext.apply(a,b))}});Ext.Direct=new Ext.Direct();Ext.Direct.TID=1;Ext.Direct.PROVIDERS={};Ext.Direct.Transaction=function(a){Ext.apply(this,a);this.tid=++Ext.Direct.TID;this.retryCount=0};Ext.Direct.Transaction.prototype={send:function(){this.provider.queueTransaction(this)},retry:function(){this.retryCount++;this.send()},getProvider:function(){return this.provider}};Ext.Direct.Event=function(a){Ext.apply(this,a)};Ext.Direct.Event.prototype={status:true,getData:function(){return this.data}};Ext.Direct.RemotingEvent=Ext.extend(Ext.Direct.Event,{type:"rpc",getTransaction:function(){return this.transaction||Ext.Direct.getTransaction(this.tid)}});Ext.Direct.ExceptionEvent=Ext.extend(Ext.Direct.RemotingEvent,{status:false,type:"exception"});Ext.Direct.eventTypes={rpc:Ext.Direct.RemotingEvent,event:Ext.Direct.Event,exception:Ext.Direct.ExceptionEvent};Ext.direct.Provider=Ext.extend(Ext.util.Observable,{priority:1,constructor:function(a){Ext.apply(this,a);this.addEvents("connect","disconnect","data","exception");Ext.direct.Provider.superclass.constructor.call(this,a)},isConnected:function(){return false},connect:Ext.emptyFn,disconnect:Ext.emptyFn});Ext.direct.JsonProvider=Ext.extend(Ext.direct.Provider,{parseResponse:function(a){if(!Ext.isEmpty(a.responseText)){if(typeof a.responseText=="object"){return a.responseText}return Ext.decode(a.responseText)}return null},getEvents:function(k){var g=null;try{g=this.parseResponse(k)}catch(h){var d=new Ext.Direct.ExceptionEvent({data:h,xhr:k,code:Ext.Direct.exceptions.PARSE,message:"Error parsing json response: \n\n "+g});return[d]}var c=[];if(Ext.isArray(g)){for(var b=0,a=g.length;b<a;b++){c.push(Ext.Direct.createEvent(g[b]))}}else{c.push(Ext.Direct.createEvent(g))}return c}});Ext.direct.PollingProvider=Ext.extend(Ext.direct.JsonProvider,{priority:3,interval:3000,constructor:function(a){Ext.direct.PollingProvider.superclass.constructor.call(this,a);this.addEvents("beforepoll","poll")},isConnected:function(){return !!this.pollTask},connect:function(){if(this.url&&!this.pollTask){this.pollTask=Ext.TaskMgr.start({run:function(){if(this.fireEvent("beforepoll",this)!==false){if(typeof this.url=="function"){this.url(this.baseParams)}else{Ext.Ajax.request({url:this.url,callback:this.onData,scope:this,params:this.baseParams})}}},interval:this.interval,scope:this});this.fireEvent("connect",this)}else{if(!this.url){throw"Error initializing PollingProvider, no url configured."}}},disconnect:function(){if(this.pollTask){Ext.TaskMgr.stop(this.pollTask);delete this.pollTask;this.fireEvent("disconnect",this)}},onData:function(d,k,h){if(k){var c=this.getEvents(h);for(var b=0,a=c.length;b<a;b++){var g=c[b];this.fireEvent("data",this,g)}}else{var g=new Ext.Direct.ExceptionEvent({data:g,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:h});this.fireEvent("data",this,g)}}});Ext.Direct.PROVIDERS.polling=Ext.direct.PollingProvider;Ext.direct.RemotingProvider=Ext.extend(Ext.direct.JsonProvider,{enableBuffer:10,maxRetries:1,timeout:undefined,constructor:function(a){Ext.direct.RemotingProvider.superclass.constructor.call(this,a);this.addEvents("beforecall","call");this.namespace=(Ext.isString(this.namespace))?Ext.ns(this.namespace):this.namespace||window;this.transactions={};this.callBuffer=[]},initAPI:function(){var h=this.actions;for(var k in h){var d=this.namespace[k]||(this.namespace[k]={}),e=h[k];for(var g=0,b=e.length;g<b;g++){var a=e[g];d[a.name]=this.createMethod(k,a)}}},isConnected:function(){return !!this.connected},connect:function(){if(this.url){this.initAPI();this.connected=true;this.fireEvent("connect",this)}else{if(!this.url){throw"Error initializing RemotingProvider, no url configured."}}},disconnect:function(){if(this.connected){this.connected=false;this.fireEvent("disconnect",this)}},onData:function(a,h,k){if(h){var l=this.getEvents(k);for(var b=0,c=l.length;b<c;b++){var d=l[b],m=this.getTransaction(d);this.fireEvent("data",this,d);if(m){this.doCallback(m,d,true);Ext.Direct.removeTransaction(m)}}}else{var g=[].concat(a.ts);for(var b=0,c=g.length;b<c;b++){var m=this.getTransaction(g[b]);if(m&&m.retryCount<this.maxRetries){m.retry()}else{var d=new Ext.Direct.ExceptionEvent({data:d,transaction:m,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:k});this.fireEvent("data",this,d);if(m){this.doCallback(m,d,false);Ext.Direct.removeTransaction(m)}}}}},getCallData:function(a){return{action:a.action,method:a.method,data:a.data,type:"rpc",tid:a.tid}},doSend:function(d){var g={url:this.url,callback:this.onData,scope:this,ts:d,timeout:this.timeout},b;if(Ext.isArray(d)){b=[];for(var c=0,a=d.length;c<a;c++){b.push(this.getCallData(d[c]))}}else{b=this.getCallData(d)}if(this.enableUrlEncode){var e={};e[Ext.isString(this.enableUrlEncode)?this.enableUrlEncode:"data"]=Ext.encode(b);g.params=e}else{g.jsonData=b}Ext.Ajax.request(g)},combineAndSend:function(){var a=this.callBuffer.length;if(a>0){this.doSend(a==1?this.callBuffer[0]:this.callBuffer);this.callBuffer=[]}},queueTransaction:function(a){if(a.form){this.processForm(a);return}this.callBuffer.push(a);if(this.enableBuffer){if(!this.callTask){this.callTask=new Ext.util.DelayedTask(this.combineAndSend,this)}this.callTask.delay(Ext.isNumber(this.enableBuffer)?this.enableBuffer:10)}else{this.combineAndSend()}},doCall:function(i,a,b){var h=null,e=b[a.len],g=b[a.len+1];if(a.len!==0){h=b.slice(0,a.len)}var d=new Ext.Direct.Transaction({provider:this,args:b,action:i,method:a.name,data:h,cb:g&&Ext.isFunction(e)?e.createDelegate(g):e});if(this.fireEvent("beforecall",this,d,a)!==false){Ext.Direct.addTransaction(d);this.queueTransaction(d);this.fireEvent("call",this,d,a)}},doForm:function(k,b,g,i,e){var d=new Ext.Direct.Transaction({provider:this,action:k,method:b.name,args:[g,i,e],cb:e&&Ext.isFunction(i)?i.createDelegate(e):i,isForm:true});if(this.fireEvent("beforecall",this,d,b)!==false){Ext.Direct.addTransaction(d);var a=String(g.getAttribute("enctype")).toLowerCase()=="multipart/form-data",h={extTID:d.tid,extAction:k,extMethod:b.name,extType:"rpc",extUpload:String(a)};Ext.apply(d,{form:Ext.getDom(g),isUpload:a,params:i&&Ext.isObject(i.params)?Ext.apply(h,i.params):h});this.fireEvent("call",this,d,b);this.processForm(d)}},processForm:function(a){Ext.Ajax.request({url:this.url,params:a.params,callback:this.onData,scope:this,form:a.form,isUpload:a.isUpload,ts:a})},createMethod:function(d,a){var b;if(!a.formHandler){b=function(){this.doCall(d,a,Array.prototype.slice.call(arguments,0))}.createDelegate(this)}else{b=function(e,g,c){this.doForm(d,a,e,g,c)}.createDelegate(this)}b.directCfg={action:d,method:a};return b},getTransaction:function(a){return a&&a.tid?Ext.Direct.getTransaction(a.tid):null},doCallback:function(c,g){var d=g.status?"success":"failure";if(c&&c.cb){var b=c.cb,a=Ext.isDefined(g.result)?g.result:g.data;if(Ext.isFunction(b)){b(a,g)}else{Ext.callback(b[d],b.scope,[a,g]);Ext.callback(b.callback,b.scope,[a,g])}}}});Ext.Direct.PROVIDERS.remoting=Ext.direct.RemotingProvider;Ext.Resizable=Ext.extend(Ext.util.Observable,{constructor:function(d,e){this.el=Ext.get(d);if(e&&e.wrap){e.resizeChild=this.el;this.el=this.el.wrap(typeof e.wrap=="object"?e.wrap:{cls:"xresizable-wrap"});this.el.id=this.el.dom.id=e.resizeChild.id+"-rzwrap";this.el.setStyle("overflow","hidden");this.el.setPositioning(e.resizeChild.getPositioning());e.resizeChild.clearPositioning();if(!e.width||!e.height){var g=e.resizeChild.getSize();this.el.setSize(g.width,g.height)}if(e.pinned&&!e.adjustments){e.adjustments="auto"}}this.proxy=this.el.createProxy({tag:"div",cls:"x-resizable-proxy",id:this.el.id+"-rzproxy"},Ext.getBody());this.proxy.unselectable();this.proxy.enableDisplayMode("block");Ext.apply(this,e);if(this.pinned){this.disableTrackOver=true;this.el.addClass("x-resizable-pinned")}var l=this.el.getStyle("position");if(l!="absolute"&&l!="fixed"){this.el.setStyle("position","relative")}if(!this.handles){this.handles="s,e,se";if(this.multiDirectional){this.handles+=",n,w"}}if(this.handles=="all"){this.handles="n s e w ne nw se sw"}var p=this.handles.split(/\s*?[,;]\s*?| /);var c=Ext.Resizable.positions;for(var k=0,m=p.length;k<m;k++){if(p[k]&&c[p[k]]){var o=c[p[k]];this[o]=new Ext.Resizable.Handle(this,o,this.disableTrackOver,this.transparent,this.handleCls)}}this.corner=this.southeast;if(this.handles.indexOf("n")!=-1||this.handles.indexOf("w")!=-1){this.updateBox=true}this.activeHandle=null;if(this.resizeChild){if(typeof this.resizeChild=="boolean"){this.resizeChild=Ext.get(this.el.dom.firstChild,true)}else{this.resizeChild=Ext.get(this.resizeChild,true)}}if(this.adjustments=="auto"){var b=this.resizeChild;var n=this.west,h=this.east,a=this.north,p=this.south;if(b&&(n||a)){b.position("relative");b.setLeft(n?n.el.getWidth():0);b.setTop(a?a.el.getHeight():0)}this.adjustments=[(h?-h.el.getWidth():0)+(n?-n.el.getWidth():0),(a?-a.el.getHeight():0)+(p?-p.el.getHeight():0)-1]}if(this.draggable){this.dd=this.dynamic?this.el.initDD(null):this.el.initDDProxy(null,{dragElId:this.proxy.id});this.dd.setHandleElId(this.resizeChild?this.resizeChild.id:this.el.id);if(this.constrainTo){this.dd.constrainTo(this.constrainTo)}}this.addEvents("beforeresize","resize");if(this.width!==null&&this.height!==null){this.resizeTo(this.width,this.height)}else{this.updateChildSize()}if(Ext.isIE){this.el.dom.style.zoom=1}Ext.Resizable.superclass.constructor.call(this)},adjustments:[0,0],animate:false,disableTrackOver:false,draggable:false,duration:0.35,dynamic:false,easing:"easeOutStrong",enabled:true,handles:false,multiDirectional:false,height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:5,minWidth:5,maxHeight:10000,maxWidth:10000,minX:0,minY:0,pinned:false,preserveRatio:false,resizeChild:false,transparent:false,resizeTo:function(b,a){this.el.setSize(b,a);this.updateChildSize();this.fireEvent("resize",this,b,a,null)},startSizing:function(c,b){this.fireEvent("beforeresize",this,c);if(this.enabled){if(!this.overlay){this.overlay=this.el.createProxy({tag:"div",cls:"x-resizable-overlay",html:"&#160;"},Ext.getBody());this.overlay.unselectable();this.overlay.enableDisplayMode("block");this.overlay.on({scope:this,mousemove:this.onMouseMove,mouseup:this.onMouseUp})}this.overlay.setStyle("cursor",b.el.getStyle("cursor"));this.resizing=true;this.startBox=this.el.getBox();this.startPoint=c.getXY();this.offsets=[(this.startBox.x+this.startBox.width)-this.startPoint[0],(this.startBox.y+this.startBox.height)-this.startPoint[1]];this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();if(this.constrainTo){var a=Ext.get(this.constrainTo);this.resizeRegion=a.getRegion().adjust(a.getFrameWidth("t"),a.getFrameWidth("l"),-a.getFrameWidth("b"),-a.getFrameWidth("r"))}this.proxy.setStyle("visibility","hidden");this.proxy.show();this.proxy.setBox(this.startBox);if(!this.dynamic){this.proxy.setStyle("visibility","visible")}}},onMouseDown:function(a,b){if(this.enabled){b.stopEvent();this.activeHandle=a;this.startSizing(b,a)}},onMouseUp:function(b){this.activeHandle=null;var a=this.resizeElement();this.resizing=false;this.handleOut();this.overlay.hide();this.proxy.hide();this.fireEvent("resize",this,a.width,a.height,b)},updateChildSize:function(){if(this.resizeChild){var d=this.el;var e=this.resizeChild;var c=this.adjustments;if(d.dom.offsetWidth){var a=d.getSize(true);e.setSize(a.width+c[0],a.height+c[1])}if(Ext.isIE){setTimeout(function(){if(d.dom.offsetWidth){var g=d.getSize(true);e.setSize(g.width+c[0],g.height+c[1])}},10)}}},snap:function(c,e,b){if(!e||!c){return c}var d=c;var a=c%e;if(a>0){if(a>(e/2)){d=c+(e-a)}else{d=c-a}}return Math.max(b,d)},resizeElement:function(){var a=this.proxy.getBox();if(this.updateBox){this.el.setBox(a,false,this.animate,this.duration,null,this.easing)}else{this.el.setSize(a.width,a.height,this.animate,this.duration,null,this.easing)}this.updateChildSize();if(!this.dynamic){this.proxy.hide()}if(this.draggable&&this.constrainTo){this.dd.resetConstraints();this.dd.constrainTo(this.constrainTo)}return a},constrain:function(b,c,a,d){if(b-c<a){c=b-a}else{if(b-c>d){c=b-d}}return c},onMouseMove:function(A){if(this.enabled&&this.activeHandle){try{if(this.resizeRegion&&!this.resizeRegion.contains(A.getPoint())){return}var u=this.curSize||this.startBox,m=this.startBox.x,l=this.startBox.y,c=m,b=l,n=u.width,v=u.height,d=n,p=v,o=this.minWidth,B=this.minHeight,t=this.maxWidth,E=this.maxHeight,i=this.widthIncrement,a=this.heightIncrement,C=A.getXY(),s=-(this.startPoint[0]-Math.max(this.minX,C[0])),q=-(this.startPoint[1]-Math.max(this.minY,C[1])),k=this.activeHandle.position,F,g;switch(k){case"east":n+=s;n=Math.min(Math.max(o,n),t);break;case"south":v+=q;v=Math.min(Math.max(B,v),E);break;case"southeast":n+=s;v+=q;n=Math.min(Math.max(o,n),t);v=Math.min(Math.max(B,v),E);break;case"north":q=this.constrain(v,q,B,E);l+=q;v-=q;break;case"west":s=this.constrain(n,s,o,t);m+=s;n-=s;break;case"northeast":n+=s;n=Math.min(Math.max(o,n),t);q=this.constrain(v,q,B,E);l+=q;v-=q;break;case"northwest":s=this.constrain(n,s,o,t);q=this.constrain(v,q,B,E);l+=q;v-=q;m+=s;n-=s;break;case"southwest":s=this.constrain(n,s,o,t);v+=q;v=Math.min(Math.max(B,v),E);m+=s;n-=s;break}var r=this.snap(n,i,o);var D=this.snap(v,a,B);if(r!=n||D!=v){switch(k){case"northeast":l-=D-v;break;case"north":l-=D-v;break;case"southwest":m-=r-n;break;case"west":m-=r-n;break;case"northwest":m-=r-n;l-=D-v;break}n=r;v=D}if(this.preserveRatio){switch(k){case"southeast":case"east":v=p*(n/d);v=Math.min(Math.max(B,v),E);n=d*(v/p);break;case"south":n=d*(v/p);n=Math.min(Math.max(o,n),t);v=p*(n/d);break;case"northeast":n=d*(v/p);n=Math.min(Math.max(o,n),t);v=p*(n/d);break;case"north":F=n;n=d*(v/p);n=Math.min(Math.max(o,n),t);v=p*(n/d);m+=(F-n)/2;break;case"southwest":v=p*(n/d);v=Math.min(Math.max(B,v),E);F=n;n=d*(v/p);m+=F-n;break;case"west":g=v;v=p*(n/d);v=Math.min(Math.max(B,v),E);l+=(g-v)/2;F=n;n=d*(v/p);m+=F-n;break;case"northwest":F=n;g=v;v=p*(n/d);v=Math.min(Math.max(B,v),E);n=d*(v/p);l+=g-v;m+=F-n;break}}this.proxy.setBounds(m,l,n,v);if(this.dynamic){this.resizeElement()}}catch(z){}}},handleOver:function(){if(this.enabled){this.el.addClass("x-resizable-over")}},handleOut:function(){if(!this.resizing){this.el.removeClass("x-resizable-over")}},getEl:function(){return this.el},getResizeChild:function(){return this.resizeChild},destroy:function(b){Ext.destroy(this.dd,this.overlay,this.proxy);this.overlay=null;this.proxy=null;var c=Ext.Resizable.positions;for(var a in c){if(typeof c[a]!="function"&&this[c[a]]){this[c[a]].destroy()}}if(b){this.el.update("");Ext.destroy(this.el);this.el=null}this.purgeListeners()},syncHandleHeight:function(){var a=this.el.getHeight(true);if(this.west){this.west.el.setHeight(a)}if(this.east){this.east.el.setHeight(a)}}});Ext.Resizable.positions={n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"};Ext.Resizable.Handle=Ext.extend(Object,{constructor:function(d,g,c,e,a){if(!this.tpl){var b=Ext.DomHelper.createTemplate({tag:"div",cls:"x-resizable-handle x-resizable-handle-{0}"});b.compile();Ext.Resizable.Handle.prototype.tpl=b}this.position=g;this.rz=d;this.el=this.tpl.append(d.el.dom,[this.position],true);this.el.unselectable();if(e){this.el.setOpacity(0)}if(!Ext.isEmpty(a)){this.el.addClass(a)}this.el.on("mousedown",this.onMouseDown,this);if(!c){this.el.on({scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut})}},afterResize:function(a){},onMouseDown:function(a){this.rz.onMouseDown(this,a)},onMouseOver:function(a){this.rz.handleOver(this,a)},onMouseOut:function(a){this.rz.handleOut(this,a)},destroy:function(){Ext.destroy(this.el);this.el=null}});Ext.Window=Ext.extend(Ext.Panel,{baseCls:"x-window",resizable:true,draggable:true,closable:true,closeAction:"close",constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:100,minWidth:200,expandOnShow:true,showAnimDuration:0.25,hideAnimDuration:0.25,collapsible:false,initHidden:undefined,hidden:true,elements:"header,body",frame:true,floating:true,initComponent:function(){this.initTools();Ext.Window.superclass.initComponent.call(this);this.addEvents("resize","maximize","minimize","restore");if(Ext.isDefined(this.initHidden)){this.hidden=this.initHidden}if(this.hidden===false){this.hidden=true;this.show()}},getState:function(){return Ext.apply(Ext.Window.superclass.getState.call(this)||{},this.getBox(true))},onRender:function(b,a){Ext.Window.superclass.onRender.call(this,b,a);if(this.plain){this.el.addClass("x-window-plain")}this.focusEl=this.el.createChild({tag:"a",href:"#",cls:"x-dlg-focus",tabIndex:"-1",html:"&#160;"});this.focusEl.swallowEvent("click",true);this.proxy=this.el.createProxy("x-window-proxy");this.proxy.enableDisplayMode("block");if(this.modal){this.mask=this.container.createChild({cls:"ext-el-mask"},this.el.dom);this.mask.enableDisplayMode("block");this.mask.hide();this.mon(this.mask,"click",this.focus,this)}if(this.maximizable){this.mon(this.header,"dblclick",this.toggleMaximize,this)}},initEvents:function(){Ext.Window.superclass.initEvents.call(this);if(this.animateTarget){this.setAnimateTarget(this.animateTarget)}if(this.resizable){this.resizer=new Ext.Resizable(this.el,{minWidth:this.minWidth,minHeight:this.minHeight,handles:this.resizeHandles||"all",pinned:true,resizeElement:this.resizerAction,handleCls:"x-window-handle"});this.resizer.window=this;this.mon(this.resizer,"beforeresize",this.beforeResize,this)}if(this.draggable){this.header.addClass("x-window-draggable")}this.mon(this.el,"mousedown",this.toFront,this);this.manager=this.manager||Ext.WindowMgr;this.manager.register(this);if(this.maximized){this.maximized=false;this.maximize()}if(this.closable){var a=this.getKeyMap();a.on(27,this.onEsc,this);a.disable()}},initDraggable:function(){this.dd=new Ext.Window.DD(this)},onEsc:function(a,b){b.stopEvent();this[this.closeAction]()},beforeDestroy:function(){if(this.rendered){this.hide();this.clearAnchor();Ext.destroy(this.focusEl,this.resizer,this.dd,this.proxy,this.mask)}Ext.Window.superclass.beforeDestroy.call(this)},onDestroy:function(){if(this.manager){this.manager.unregister(this)}Ext.Window.superclass.onDestroy.call(this)},initTools:function(){if(this.minimizable){this.addTool({id:"minimize",handler:this.minimize.createDelegate(this,[])})}if(this.maximizable){this.addTool({id:"maximize",handler:this.maximize.createDelegate(this,[])});this.addTool({id:"restore",handler:this.restore.createDelegate(this,[]),hidden:true})}if(this.closable){this.addTool({id:"close",handler:this[this.closeAction].createDelegate(this,[])})}},resizerAction:function(){var a=this.proxy.getBox();this.proxy.hide();this.window.handleResize(a);return a},beforeResize:function(){this.resizer.minHeight=Math.max(this.minHeight,this.getFrameHeight()+40);this.resizer.minWidth=Math.max(this.minWidth,this.getFrameWidth()+40);this.resizeBox=this.el.getBox()},updateHandles:function(){if(Ext.isIE&&this.resizer){this.resizer.syncHandleHeight();this.el.repaint()}},handleResize:function(b){var a=this.resizeBox;if(a.x!=b.x||a.y!=b.y){this.updateBox(b)}else{this.setSize(b);if(Ext.isIE6&&Ext.isStrict){this.doLayout()}}this.focus();this.updateHandles();this.saveState()},focus:function(){var e=this.focusEl,a=this.defaultButton,c=typeof a,d,b;if(Ext.isDefined(a)){if(Ext.isNumber(a)&&this.fbar){e=this.fbar.items.get(a)}else{if(Ext.isString(a)){e=Ext.getCmp(a)}else{e=a}}d=e.getEl();b=Ext.getDom(this.container);if(d&&b){if(b!=document.body&&!Ext.lib.Region.getRegion(b).contains(Ext.lib.Region.getRegion(d.dom))){return}}}e=e||this.focusEl;e.focus.defer(10,e)},setAnimateTarget:function(a){a=Ext.get(a);this.animateTarget=a},beforeShow:function(){delete this.el.lastXY;delete this.el.lastLT;if(this.x===undefined||this.y===undefined){var a=this.el.getAlignToXY(this.container,"c-c");var b=this.el.translatePoints(a[0],a[1]);this.x=this.x===undefined?b.left:this.x;this.y=this.y===undefined?b.top:this.y}this.el.setLeftTop(this.x,this.y);if(this.expandOnShow){this.expand(false)}if(this.modal){Ext.getBody().addClass("x-body-masked");this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.mask.show()}},show:function(c,a,b){if(!this.rendered){this.render(Ext.getBody())}if(this.hidden===false){this.toFront();return this}if(this.fireEvent("beforeshow",this)===false){return this}if(a){this.on("show",a,b,{single:true})}this.hidden=false;if(Ext.isDefined(c)){this.setAnimateTarget(c)}this.beforeShow();if(this.animateTarget){this.animShow()}else{this.afterShow()}return this},afterShow:function(b){if(this.isDestroyed){return false}this.proxy.hide();this.el.setStyle("display","block");this.el.show();if(this.maximized){this.fitContainer()}if(Ext.isMac&&Ext.isGecko2){this.cascade(this.setAutoScroll)}if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.onWindowResize(this.onWindowResize,this)}this.doConstrain();this.doLayout();if(this.keyMap){this.keyMap.enable()}this.toFront();this.updateHandles();if(b&&(Ext.isIE||Ext.isWebKit)){var a=this.getSize();this.onResize(a.width,a.height)}this.onShow();this.fireEvent("show",this)},animShow:function(){this.proxy.show();this.proxy.setBox(this.animateTarget.getBox());this.proxy.setOpacity(0);var a=this.getBox();this.el.setStyle("display","none");this.proxy.shift(Ext.apply(a,{callback:this.afterShow.createDelegate(this,[true],false),scope:this,easing:"easeNone",duration:this.showAnimDuration,opacity:0.5}))},hide:function(c,a,b){if(this.hidden||this.fireEvent("beforehide",this)===false){return this}if(a){this.on("hide",a,b,{single:true})}this.hidden=true;if(c!==undefined){this.setAnimateTarget(c)}if(this.modal){this.mask.hide();Ext.getBody().removeClass("x-body-masked")}if(this.animateTarget){this.animHide()}else{this.el.hide();this.afterHide()}return this},afterHide:function(){this.proxy.hide();if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.removeResizeListener(this.onWindowResize,this)}if(this.keyMap){this.keyMap.disable()}this.onHide();this.fireEvent("hide",this)},animHide:function(){this.proxy.setOpacity(0.5);this.proxy.show();var a=this.getBox(false);this.proxy.setBox(a);this.el.hide();this.proxy.shift(Ext.apply(this.animateTarget.getBox(),{callback:this.afterHide,scope:this,duration:this.hideAnimDuration,easing:"easeNone",opacity:0}))},onShow:Ext.emptyFn,onHide:Ext.emptyFn,onWindowResize:function(){if(this.maximized){this.fitContainer()}if(this.modal){this.mask.setSize("100%","100%");var a=this.mask.dom.offsetHeight;this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true))}this.doConstrain()},doConstrain:function(){if(this.constrain||this.constrainHeader){var b;if(this.constrain){b={right:this.el.shadowOffset,left:this.el.shadowOffset,bottom:this.el.shadowOffset}}else{var a=this.getSize();b={right:-(a.width-100),bottom:-(a.height-25)}}var c=this.el.getConstrainToXY(this.container,true,b);if(c){this.setPosition(c[0],c[1])}}},ghost:function(a){var c=this.createGhost(a);var b=this.getBox(true);c.setLeftTop(b.x,b.y);c.setWidth(b.width);this.el.hide();this.activeGhost=c;return c},unghost:function(b,a){if(!this.activeGhost){return}if(b!==false){this.el.show();this.focus.defer(10,this);if(Ext.isMac&&Ext.isGecko2){this.cascade(this.setAutoScroll)}}if(a!==false){this.setPosition(this.activeGhost.getLeft(true),this.activeGhost.getTop(true))}this.activeGhost.hide();this.activeGhost.remove();delete this.activeGhost},minimize:function(){this.fireEvent("minimize",this);return this},close:function(){if(this.fireEvent("beforeclose",this)!==false){if(this.hidden){this.doClose()}else{this.hide(null,this.doClose,this)}}},doClose:function(){this.fireEvent("close",this);this.destroy()},maximize:function(){if(!this.maximized){this.expand(false);this.restoreSize=this.getSize();this.restorePos=this.getPosition(true);if(this.maximizable){this.tools.maximize.hide();this.tools.restore.show()}this.maximized=true;this.el.disableShadow();if(this.dd){this.dd.lock()}if(this.collapsible){this.tools.toggle.hide()}this.el.addClass("x-window-maximized");this.container.addClass("x-window-maximized-ct");this.setPosition(0,0);this.fitContainer();this.fireEvent("maximize",this)}return this},restore:function(){if(this.maximized){var a=this.tools;this.el.removeClass("x-window-maximized");if(a.restore){a.restore.hide()}if(a.maximize){a.maximize.show()}this.setPosition(this.restorePos[0],this.restorePos[1]);this.setSize(this.restoreSize.width,this.restoreSize.height);delete this.restorePos;delete this.restoreSize;this.maximized=false;this.el.enableShadow(true);if(this.dd){this.dd.unlock()}if(this.collapsible&&a.toggle){a.toggle.show()}this.container.removeClass("x-window-maximized-ct");this.doConstrain();this.fireEvent("restore",this)}return this},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},fitContainer:function(){var a=this.container.getViewSize(false);this.setSize(a.width,a.height)},setZIndex:function(a){if(this.modal){this.mask.setStyle("z-index",a)}this.el.setZIndex(++a);a+=5;if(this.resizer){this.resizer.proxy.setStyle("z-index",++a)}this.lastZIndex=a},alignTo:function(b,a,c){var d=this.el.getAlignToXY(b,a,c);this.setPagePosition(d[0],d[1]);return this},anchorTo:function(c,e,d,b){this.clearAnchor();this.anchorTarget={el:c,alignment:e,offsets:d};Ext.EventManager.onWindowResize(this.doAnchor,this);var a=typeof b;if(a!="undefined"){Ext.EventManager.on(window,"scroll",this.doAnchor,this,{buffer:a=="number"?b:50})}return this.doAnchor()},doAnchor:function(){var a=this.anchorTarget;this.alignTo(a.el,a.alignment,a.offsets);return this},clearAnchor:function(){if(this.anchorTarget){Ext.EventManager.removeResizeListener(this.doAnchor,this);Ext.EventManager.un(window,"scroll",this.doAnchor,this);delete this.anchorTarget}return this},toFront:function(a){if(this.manager.bringToFront(this)){if(!a||!a.getTarget().focus){this.focus()}}return this},setActive:function(a){if(a){if(!this.maximized){this.el.enableShadow(true)}this.fireEvent("activate",this)}else{this.el.disableShadow();this.fireEvent("deactivate",this)}},toBack:function(){this.manager.sendToBack(this);return this},center:function(){var a=this.el.getAlignToXY(this.container,"c-c");this.setPagePosition(a[0],a[1]);return this}});Ext.reg("window",Ext.Window);Ext.Window.DD=Ext.extend(Ext.dd.DD,{constructor:function(a){this.win=a;Ext.Window.DD.superclass.constructor.call(this,a.el.id,"WindowDD-"+a.id);this.setHandleElId(a.header.id);this.scroll=false},moveOnly:true,headerOffsets:[100,25],startDrag:function(){var a=this.win;this.proxy=a.ghost(a.initialConfig.cls);if(a.constrain!==false){var c=a.el.shadowOffset;this.constrainTo(a.container,{right:c,left:c,bottom:c})}else{if(a.constrainHeader!==false){var b=this.proxy.getSize();this.constrainTo(a.container,{right:-(b.width-this.headerOffsets[0]),bottom:-(b.height-this.headerOffsets[1])})}}},b4Drag:Ext.emptyFn,onDrag:function(a){this.alignElWithMouse(this.proxy,a.getPageX(),a.getPageY())},endDrag:function(a){this.win.unghost();this.win.saveState()}});Ext.WindowGroup=function(){var g={};var d=[];var e=null;var c=function(k,i){return(!k._lastAccess||k._lastAccess<i._lastAccess)?-1:1};var h=function(){var m=d,k=m.length;if(k>0){m.sort(c);var l=m[0].manager.zseed;for(var n=0;n<k;n++){var o=m[n];if(o&&!o.hidden){o.setZIndex(l+(n*10))}}}a()};var b=function(i){if(i!=e){if(e){e.setActive(false)}e=i;if(i){i.setActive(true)}}};var a=function(){for(var k=d.length-1;k>=0;--k){if(!d[k].hidden){b(d[k]);return}}b(null)};return{zseed:9000,register:function(i){if(i.manager){i.manager.unregister(i)}i.manager=this;g[i.id]=i;d.push(i);i.on("hide",a)},unregister:function(i){delete i.manager;delete g[i.id];i.un("hide",a);d.remove(i)},get:function(i){return typeof i=="object"?i:g[i]},bringToFront:function(i){i=this.get(i);if(i!=e){i._lastAccess=new Date().getTime();h();return true}return false},sendToBack:function(i){i=this.get(i);i._lastAccess=-(new Date().getTime());h();return i},hideAll:function(){for(var i in g){if(g[i]&&typeof g[i]!="function"&&g[i].isVisible()){g[i].hide()}}},getActive:function(){return e},getBy:function(m,l){var n=[];for(var k=d.length-1;k>=0;--k){var o=d[k];if(m.call(l||o,o)!==false){n.push(o)}}return n},each:function(k,i){for(var l in g){if(g[l]&&typeof g[l]!="function"){if(k.call(i||g[l],g[l])===false){return}}}}}};Ext.WindowMgr=new Ext.WindowGroup();Ext.MessageBox=function(){var v,b,r,u,h,m,t,a,o,q,k,g,s,w,p,i="",d="",n=["ok","yes","no","cancel"];var c=function(y){s[y].blur();if(v.isVisible()){v.hide();x();Ext.callback(b.fn,b.scope||window,[y,w.dom.value,b],1)}};var x=function(){if(b&&b.cls){v.el.removeClass(b.cls)}o.reset()};var e=function(A,y,z){if(b&&b.closable!==false){v.hide();x()}if(z){z.stopEvent()}};var l=function(y){var A=0,z;if(!y){Ext.each(n,function(B){s[B].hide()});return A}v.footer.dom.style.display="";Ext.iterate(s,function(B,C){z=y[B];if(z){C.show();C.setText(Ext.isString(z)?z:Ext.MessageBox.buttonText[B]);A+=C.getEl().getWidth()+15}else{C.hide()}});return A};return{getDialog:function(y){if(!v){var A=[];s={};Ext.each(n,function(B){A.push(s[B]=new Ext.Button({text:this.buttonText[B],handler:c.createCallback(B),hideMode:"offsets"}))},this);v=new Ext.Window({autoCreate:true,title:y,resizable:false,constrain:true,constrainHeader:true,minimizable:false,maximizable:false,stateful:false,modal:true,shim:true,buttonAlign:"center",width:400,height:100,minHeight:80,plain:true,footer:true,closable:true,close:function(){if(b&&b.buttons&&b.buttons.no&&!b.buttons.cancel){c("no")}else{c("cancel")}},fbar:new Ext.Toolbar({items:A,enableOverflow:false})});v.render(document.body);v.getEl().addClass("x-window-dlg");r=v.mask;h=v.body.createChild({html:'<div class="ext-mb-icon"></div><div class="ext-mb-content"><span class="ext-mb-text"></span><br /><div class="ext-mb-fix-cursor"><input type="text" class="ext-mb-input" /><textarea class="ext-mb-textarea"></textarea></div></div>'});k=Ext.get(h.dom.firstChild);var z=h.dom.childNodes[1];m=Ext.get(z.firstChild);t=Ext.get(z.childNodes[2].firstChild);t.enableDisplayMode();t.addKeyListener([10,13],function(){if(v.isVisible()&&b&&b.buttons){if(b.buttons.ok){c("ok")}else{if(b.buttons.yes){c("yes")}}}});a=Ext.get(z.childNodes[2].childNodes[1]);a.enableDisplayMode();o=new Ext.ProgressBar({renderTo:h});h.createChild({cls:"x-clear"})}return v},updateText:function(B){if(!v.isVisible()&&!b.width){v.setSize(this.maxWidth,100)}m.update(B?B+" ":"&#160;");var z=d!=""?(k.getWidth()+k.getMargins("lr")):0,D=m.getWidth()+m.getMargins("lr"),A=v.getFrameWidth("lr"),C=v.body.getFrameWidth("lr"),y;y=Math.max(Math.min(b.width||z+D+A+C,b.maxWidth||this.maxWidth),Math.max(b.minWidth||this.minWidth,p||0));if(b.prompt===true){w.setWidth(y-z-A-C)}if(b.progress===true||b.wait===true){o.setSize(y-z-A-C)}if(Ext.isIE&&y==p){y+=4}m.update(B||"&#160;");v.setSize(y,"auto").center();return this},updateProgress:function(z,y,A){o.updateProgress(z,y);if(A){this.updateText(A)}return this},isVisible:function(){return v&&v.isVisible()},hide:function(){var y=v?v.activeGhost:null;if(this.isVisible()||y){v.hide();x();if(y){v.unghost(false,false)}}return this},show:function(B){if(this.isVisible()){this.hide()}b=B;var C=this.getDialog(b.title||"&#160;");C.setTitle(b.title||"&#160;");var y=(b.closable!==false&&b.progress!==true&&b.wait!==true);C.tools.close.setDisplayed(y);w=t;b.prompt=b.prompt||(b.multiline?true:false);if(b.prompt){if(b.multiline){t.hide();a.show();a.setHeight(Ext.isNumber(b.multiline)?b.multiline:this.defaultTextHeight);w=a}else{t.show();a.hide()}}else{t.hide();a.hide()}w.dom.value=b.value||"";if(b.prompt){C.focusEl=w}else{var A=b.buttons;var z=null;if(A&&A.ok){z=s.ok}else{if(A&&A.yes){z=s.yes}}if(z){C.focusEl=z}}if(Ext.isDefined(b.iconCls)){C.setIconClass(b.iconCls)}this.setIcon(Ext.isDefined(b.icon)?b.icon:i);p=l(b.buttons);o.setVisible(b.progress===true||b.wait===true);this.updateProgress(0,b.progressText);this.updateText(b.msg);if(b.cls){C.el.addClass(b.cls)}C.proxyDrag=b.proxyDrag===true;C.modal=b.modal!==false;C.mask=b.modal!==false?r:false;if(!C.isVisible()){document.body.appendChild(v.el.dom);C.setAnimateTarget(b.animEl);C.on("show",function(){if(y===true){C.keyMap.enable()}else{C.keyMap.disable()}},this,{single:true});C.show(b.animEl)}if(b.wait===true){o.wait(b.waitConfig)}return this},setIcon:function(y){if(!v){i=y;return}i=undefined;if(y&&y!=""){k.removeClass("x-hidden");k.replaceClass(d,y);h.addClass("x-dlg-icon");d=y}else{k.replaceClass(d,"x-hidden");h.removeClass("x-dlg-icon");d=""}return this},progress:function(A,z,y){this.show({title:A,msg:z,buttons:false,progress:true,closable:false,minWidth:this.minProgressWidth,progressText:y});return this},wait:function(A,z,y){this.show({title:z,msg:A,buttons:false,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:y});return this},alert:function(B,A,z,y){this.show({title:B,msg:A,buttons:this.OK,fn:z,scope:y,minWidth:this.minWidth});return this},confirm:function(B,A,z,y){this.show({title:B,msg:A,buttons:this.YESNO,fn:z,scope:y,icon:this.QUESTION,minWidth:this.minWidth});return this},prompt:function(D,C,A,z,y,B){this.show({title:D,msg:C,buttons:this.OKCANCEL,fn:A,minWidth:this.minPromptWidth,scope:z,prompt:true,multiline:y,value:B});return this},OK:{ok:true},CANCEL:{cancel:true},OKCANCEL:{ok:true,cancel:true},YESNO:{yes:true,no:true},YESNOCANCEL:{yes:true,no:true,cancel:true},INFO:"ext-mb-info",WARNING:"ext-mb-warning",QUESTION:"ext-mb-question",ERROR:"ext-mb-error",defaultTextHeight:75,maxWidth:600,minWidth:100,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",cancel:"Cancel",yes:"Yes",no:"No"}}}();Ext.Msg=Ext.MessageBox;Ext.dd.PanelProxy=Ext.extend(Object,{constructor:function(a,b){this.panel=a;this.id=this.panel.id+"-ddproxy";Ext.apply(this,b)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){if(this.ghost){if(this.proxy){this.proxy.remove();delete this.proxy}this.panel.el.dom.style.display="";this.ghost.remove();delete this.ghost}},show:function(){if(!this.ghost){this.ghost=this.panel.createGhost(this.panel.initialConfig.cls,undefined,Ext.getBody());this.ghost.setXY(this.panel.el.getXY());if(this.insertProxy){this.proxy=this.panel.el.insertSibling({cls:"x-panel-dd-spacer"});this.proxy.setSize(this.panel.getSize())}this.panel.el.dom.style.display="none"}},repair:function(b,c,a){this.hide();if(typeof c=="function"){c.call(a||this)}},moveProxy:function(a,b){if(this.proxy){a.insertBefore(this.proxy.dom,b)}}});Ext.Panel.DD=Ext.extend(Ext.dd.DragSource,{constructor:function(b,a){this.panel=b;this.dragData={panel:b};this.proxy=new Ext.dd.PanelProxy(b,a);Ext.Panel.DD.superclass.constructor.call(this,b.el,a);var d=b.header,c=b.body;if(d){this.setHandleElId(d.id);c=b.header}c.setStyle("cursor","move");this.scroll=false},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(a,b){this.proxy.show()},b4MouseDown:function(b){var a=b.getPageX(),c=b.getPageY();this.autoOffset(a,c)},onInitDrag:function(a,b){this.onStartDrag(a,b);return true},createFrame:Ext.emptyFn,getDragEl:function(a){return this.proxy.ghost.dom},endDrag:function(a){this.proxy.hide();this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b)}});Ext.state.Provider=Ext.extend(Ext.util.Observable,{constructor:function(){this.addEvents("statechange");this.state={};Ext.state.Provider.superclass.constructor.call(this)},get:function(b,a){return typeof this.state[b]=="undefined"?a:this.state[b]},clear:function(a){delete this.state[a];this.fireEvent("statechange",this,a,null)},set:function(a,b){this.state[a]=b;this.fireEvent("statechange",this,a,b)},decodeValue:function(b){var e=/^(a|n|d|b|s|o|e)\:(.*)$/,h=e.exec(unescape(b)),d,c,a,g;if(!h||!h[1]){return}c=h[1];a=h[2];switch(c){case"e":return null;case"n":return parseFloat(a);case"d":return new Date(Date.parse(a));case"b":return(a=="1");case"a":d=[];if(a!=""){Ext.each(a.split("^"),function(i){d.push(this.decodeValue(i))},this)}return d;case"o":d={};if(a!=""){Ext.each(a.split("^"),function(i){g=i.split("=");d[g[0]]=this.decodeValue(g[1])},this)}return d;default:return a}},encodeValue:function(c){var b,g="",e=0,a,d;if(c==null){return"e:1"}else{if(typeof c=="number"){b="n:"+c}else{if(typeof c=="boolean"){b="b:"+(c?"1":"0")}else{if(Ext.isDate(c)){b="d:"+c.toGMTString()}else{if(Ext.isArray(c)){for(a=c.length;e<a;e++){g+=this.encodeValue(c[e]);if(e!=a-1){g+="^"}}b="a:"+g}else{if(typeof c=="object"){for(d in c){if(typeof c[d]!="function"&&c[d]!==undefined){g+=d+"="+this.encodeValue(c[d])+"^"}}b="o:"+g.substring(0,g.length-1)}else{b="s:"+c}}}}}}return escape(b)}});Ext.state.Manager=function(){var a=new Ext.state.Provider();return{setProvider:function(b){a=b},get:function(c,b){return a.get(c,b)},set:function(b,c){a.set(b,c)},clear:function(b){a.clear(b)},getProvider:function(){return a}}}();Ext.state.CookieProvider=Ext.extend(Ext.state.Provider,{constructor:function(a){Ext.state.CookieProvider.superclass.constructor.call(this);this.path="/";this.expires=new Date(new Date().getTime()+(1000*60*60*24*7));this.domain=null;this.secure=false;Ext.apply(this,a);this.state=this.readCookies()},set:function(a,b){if(typeof b=="undefined"||b===null){this.clear(a);return}this.setCookie(a,b);Ext.state.CookieProvider.superclass.set.call(this,a,b)},clear:function(a){this.clearCookie(a);Ext.state.CookieProvider.superclass.clear.call(this,a)},readCookies:function(){var d={},h=document.cookie+";",b=/\s?(.*?)=(.*?);/g,g,a,e;while((g=b.exec(h))!=null){a=g[1];e=g[2];if(a&&a.substring(0,3)=="ys-"){d[a.substr(3)]=this.decodeValue(e)}}return d},setCookie:function(a,b){document.cookie="ys-"+a+"="+this.encodeValue(b)+((this.expires==null)?"":("; expires="+this.expires.toGMTString()))+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"")},clearCookie:function(a){document.cookie="ys-"+a+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"")}});Ext.DataView=Ext.extend(Ext.BoxComponent,{selectedClass:"x-view-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,last:false,initComponent:function(){Ext.DataView.superclass.initComponent.call(this);if(Ext.isString(this.tpl)||Ext.isArray(this.tpl)){this.tpl=new Ext.XTemplate(this.tpl)}this.addEvents("beforeclick","click","mouseenter","mouseleave","containerclick","dblclick","contextmenu","containercontextmenu","selectionchange","beforeselect");this.store=Ext.StoreMgr.lookup(this.store);this.all=new Ext.CompositeElementLite();this.selected=new Ext.CompositeElementLite()},afterRender:function(){Ext.DataView.superclass.afterRender.call(this);this.mon(this.getTemplateTarget(),{click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu,scope:this});if(this.overClass||this.trackOver){this.mon(this.getTemplateTarget(),{mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this})}if(this.store){this.bindStore(this.store,true)}},refresh:function(){this.clearSelections(false,true);var b=this.getTemplateTarget(),a=this.store.getRange();b.update("");if(a.length<1){if(!this.deferEmptyText||this.hasSkippedEmptyText){b.update(this.emptyText)}this.all.clear()}else{this.tpl.overwrite(b,this.collectData(a,0));this.all.fill(Ext.query(this.itemSelector,b.dom));this.updateIndexes(0)}this.hasSkippedEmptyText=true},getTemplateTarget:function(){return this.el},prepareData:function(a){return a},collectData:function(b,e){var d=[],c=0,a=b.length;for(;c<a;c++){d[d.length]=this.prepareData(b[c].data,e+c,b[c])}return d},bufferRender:function(a,b){var c=document.createElement("div");this.tpl.overwrite(c,this.collectData(a,b));return Ext.query(this.itemSelector,c)},onUpdate:function(g,a){var b=this.store.indexOf(a);if(b>-1){var e=this.isSelected(b),c=this.all.elements[b],d=this.bufferRender([a],b)[0];this.all.replaceElement(b,d,true);if(e){this.selected.replaceElement(c,d);this.all.item(b).addClass(this.selectedClass)}this.updateIndexes(b,b)}},onAdd:function(g,d,e){if(this.all.getCount()===0){this.refresh();return}var c=this.bufferRender(d,e),h,b=this.all.elements;if(e<this.all.getCount()){h=this.all.item(e).insertSibling(c,"before",true);b.splice.apply(b,[e,0].concat(c))}else{h=this.all.last().insertSibling(c,"after",true);b.push.apply(b,c)}this.updateIndexes(e)},onRemove:function(c,a,b){this.deselect(b);this.all.removeElement(b,true);this.updateIndexes(b);if(this.store.getCount()===0){this.refresh()}},refreshNode:function(a){this.onUpdate(this.store,this.store.getAt(a))},updateIndexes:function(d,c){var b=this.all.elements;d=d||0;c=c||((c===0)?0:(b.length-1));for(var a=d;a<=c;a++){b[a].viewIndex=a}},getStore:function(){return this.store},bindStore:function(a,b){if(!b&&this.store){if(a!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("datachanged",this.onDataChanged,this);this.store.un("add",this.onAdd,this);this.store.un("remove",this.onRemove,this);this.store.un("update",this.onUpdate,this);this.store.un("clear",this.refresh,this)}if(!a){this.store=null}}if(a){a=Ext.StoreMgr.lookup(a);a.on({scope:this,beforeload:this.onBeforeLoad,datachanged:this.onDataChanged,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh})}this.store=a;if(a){this.refresh()}},onDataChanged:function(){if(this.blockRefresh!==true){this.refresh.apply(this,arguments)}},findItemFromChild:function(a){return Ext.fly(a).findParent(this.itemSelector,this.getTemplateTarget())},onClick:function(c){var b=c.getTarget(this.itemSelector,this.getTemplateTarget()),a;if(b){a=this.indexOf(b);if(this.onItemClick(b,a,c)!==false){this.fireEvent("click",this,a,b,c)}}else{if(this.fireEvent("containerclick",this,c)!==false){this.onContainerClick(c)}}},onContainerClick:function(a){this.clearSelections()},onContextMenu:function(b){var a=b.getTarget(this.itemSelector,this.getTemplateTarget());if(a){this.fireEvent("contextmenu",this,this.indexOf(a),a,b)}else{this.fireEvent("containercontextmenu",this,b)}},onDblClick:function(b){var a=b.getTarget(this.itemSelector,this.getTemplateTarget());if(a){this.fireEvent("dblclick",this,this.indexOf(a),a,b)}},onMouseOver:function(b){var a=b.getTarget(this.itemSelector,this.getTemplateTarget());if(a&&a!==this.lastItem){this.lastItem=a;Ext.fly(a).addClass(this.overClass);this.fireEvent("mouseenter",this,this.indexOf(a),a,b)}},onMouseOut:function(a){if(this.lastItem){if(!a.within(this.lastItem,true,true)){Ext.fly(this.lastItem).removeClass(this.overClass);this.fireEvent("mouseleave",this,this.indexOf(this.lastItem),this.lastItem,a);delete this.lastItem}}},onItemClick:function(b,a,c){if(this.fireEvent("beforeclick",this,a,b,c)===false){return false}if(this.multiSelect){this.doMultiSelection(b,a,c);c.preventDefault()}else{if(this.singleSelect){this.doSingleSelection(b,a,c);c.preventDefault()}}return true},doSingleSelection:function(b,a,c){if(c.ctrlKey&&this.isSelected(a)){this.deselect(a)}else{this.select(a,false)}},doMultiSelection:function(c,a,d){if(d.shiftKey&&this.last!==false){var b=this.last;this.selectRange(b,a,d.ctrlKey);this.last=b}else{if((d.ctrlKey||this.simpleSelect)&&this.isSelected(a)){this.deselect(a)}else{this.select(a,d.ctrlKey||d.shiftKey||this.simpleSelect)}}},getSelectionCount:function(){return this.selected.getCount()},getSelectedNodes:function(){return this.selected.elements},getSelectedIndexes:function(){var b=[],d=this.selected.elements,c=0,a=d.length;for(;c<a;c++){b.push(d[c].viewIndex)}return b},getSelectedRecords:function(){return this.getRecords(this.selected.elements)},getRecords:function(c){var b=[],d=0,a=c.length;for(;d<a;d++){b[b.length]=this.store.getAt(c[d].viewIndex)}return b},getRecord:function(a){return this.store.getAt(a.viewIndex)},clearSelections:function(a,b){if((this.multiSelect||this.singleSelect)&&this.selected.getCount()>0){if(!b){this.selected.removeClass(this.selectedClass)}this.selected.clear();this.last=false;if(!a){this.fireEvent("selectionchange",this,this.selected.elements)}}},isSelected:function(a){return this.selected.contains(this.getNode(a))},deselect:function(a){if(this.isSelected(a)){a=this.getNode(a);this.selected.removeElement(a);if(this.last==a.viewIndex){this.last=false}Ext.fly(a).removeClass(this.selectedClass);this.fireEvent("selectionchange",this,this.selected.elements)}},select:function(d,g,b){if(Ext.isArray(d)){if(!g){this.clearSelections(true)}for(var c=0,a=d.length;c<a;c++){this.select(d[c],true,true)}if(!b){this.fireEvent("selectionchange",this,this.selected.elements)}}else{var e=this.getNode(d);if(!g){this.clearSelections(true)}if(e&&!this.isSelected(e)){if(this.fireEvent("beforeselect",this,e,this.selected.elements)!==false){Ext.fly(e).addClass(this.selectedClass);this.selected.add(e);this.last=e.viewIndex;if(!b){this.fireEvent("selectionchange",this,this.selected.elements)}}}}},selectRange:function(c,a,b){if(!b){this.clearSelections(true)}this.select(this.getNodes(c,a),true)},getNode:function(b){if(Ext.isString(b)){return document.getElementById(b)}else{if(Ext.isNumber(b)){return this.all.elements[b]}else{if(b instanceof Ext.data.Record){var a=this.store.indexOf(b);return this.all.elements[a]}}}return b},getNodes:function(e,a){var d=this.all.elements,b=[],c;e=e||0;a=!Ext.isDefined(a)?Math.max(d.length-1,0):a;if(e<=a){for(c=e;c<=a&&d[c];c++){b.push(d[c])}}else{for(c=e;c>=a&&d[c];c--){b.push(d[c])}}return b},indexOf:function(a){a=this.getNode(a);if(Ext.isNumber(a.viewIndex)){return a.viewIndex}return this.all.indexOf(a)},onBeforeLoad:function(){if(this.loadingText){this.clearSelections(false,true);this.getTemplateTarget().update('<div class="loading-indicator">'+this.loadingText+"</div>");this.all.clear()}},onDestroy:function(){this.all.clear();this.selected.clear();Ext.DataView.superclass.onDestroy.call(this);this.bindStore(null)}});Ext.DataView.prototype.setStore=Ext.DataView.prototype.bindStore;Ext.reg("dataview",Ext.DataView);Ext.list.ListView=Ext.extend(Ext.DataView,{itemSelector:"dl",selectedClass:"x-list-selected",overClass:"x-list-over",scrollOffset:undefined,columnResize:true,columnSort:true,maxColumnWidth:Ext.isIE?99:100,initComponent:function(){if(this.columnResize){this.colResizer=new Ext.list.ColumnResizer(this.colResizer);this.colResizer.init(this)}if(this.columnSort){this.colSorter=new Ext.list.Sorter(this.columnSort);this.colSorter.init(this)}if(!this.internalTpl){this.internalTpl=new Ext.XTemplate('<div class="x-list-header"><div class="x-list-header-inner">','<tpl for="columns">','<div style="width:{[values.width*100]}%;text-align:{align};"><em unselectable="on" id="',this.id,'-xlhd-{#}">',"{header}","</em></div>","</tpl>",'<div class="x-clear"></div>',"</div></div>",'<div class="x-list-body"><div class="x-list-body-inner">',"</div></div>")}if(!this.tpl){this.tpl=new Ext.XTemplate('<tpl for="rows">',"<dl>",'<tpl for="parent.columns">','<dt style="width:{[values.width*100]}%;text-align:{align};">','<em unselectable="on"<tpl if="cls"> class="{cls}</tpl>">',"{[values.tpl.apply(parent)]}","</em></dt>","</tpl>",'<div class="x-clear"></div>',"</dl>","</tpl>")}var l=this.columns,h=0,k=0,m=l.length,b=[];for(var g=0;g<m;g++){var n=l[g];if(!n.isColumn){n.xtype=n.xtype?(/^lv/.test(n.xtype)?n.xtype:"lv"+n.xtype):"lvcolumn";n=Ext.create(n)}if(n.width){h+=n.width*100;if(h>this.maxColumnWidth){n.width-=(h-this.maxColumnWidth)/100}k++}b.push(n)}l=this.columns=b;if(k<m){var d=m-k;if(h<this.maxColumnWidth){var a=((this.maxColumnWidth-h)/d)/100;for(var e=0;e<m;e++){var n=l[e];if(!n.width){n.width=a}}}}Ext.list.ListView.superclass.initComponent.call(this)},onRender:function(){this.autoEl={cls:"x-list-wrap"};Ext.list.ListView.superclass.onRender.apply(this,arguments);this.internalTpl.overwrite(this.el,{columns:this.columns});this.innerBody=Ext.get(this.el.dom.childNodes[1].firstChild);this.innerHd=Ext.get(this.el.dom.firstChild.firstChild);if(this.hideHeaders){this.el.dom.firstChild.style.display="none"}},getTemplateTarget:function(){return this.innerBody},collectData:function(){var a=Ext.list.ListView.superclass.collectData.apply(this,arguments);return{columns:this.columns,rows:a}},verifyInternalSize:function(){if(this.lastSize){this.onResize(this.lastSize.width,this.lastSize.height)}},onResize:function(c,e){var b=this.innerBody.dom,g=this.innerHd.dom,d=c-Ext.num(this.scrollOffset,Ext.getScrollBarWidth())+"px",a;if(!b){return}a=b.parentNode;if(Ext.isNumber(c)){if(this.reserveScrollOffset||((a.offsetWidth-a.clientWidth)>10)){b.style.width=d;g.style.width=d}else{b.style.width=c+"px";g.style.width=c+"px";setTimeout(function(){if((a.offsetWidth-a.clientWidth)>10){b.style.width=d;g.style.width=d}},10)}}if(Ext.isNumber(e)){a.style.height=Math.max(0,e-g.parentNode.offsetHeight)+"px"}},updateIndexes:function(){Ext.list.ListView.superclass.updateIndexes.apply(this,arguments);this.verifyInternalSize()},findHeaderIndex:function(g){g=g.dom||g;var a=g.parentNode,d=a.parentNode.childNodes,b=0,e;for(;e=d[b];b++){if(e==a){return b}}return -1},setHdWidths:function(){var d=this.innerHd.dom.getElementsByTagName("div"),c=0,b=this.columns,a=b.length;for(;c<a;c++){d[c].style.width=(b[c].width*100)+"%"}}});Ext.reg("listview",Ext.list.ListView);Ext.ListView=Ext.list.ListView;Ext.list.Column=Ext.extend(Object,{isColumn:true,align:"left",header:"",width:null,cls:"",constructor:function(a){if(!a.tpl){a.tpl=new Ext.XTemplate("{"+a.dataIndex+"}")}else{if(Ext.isString(a.tpl)){a.tpl=new Ext.XTemplate(a.tpl)}}Ext.apply(this,a)}});Ext.reg("lvcolumn",Ext.list.Column);Ext.list.NumberColumn=Ext.extend(Ext.list.Column,{format:"0,000.00",constructor:function(a){a.tpl=a.tpl||new Ext.XTemplate("{"+a.dataIndex+':number("'+(a.format||this.format)+'")}');Ext.list.NumberColumn.superclass.constructor.call(this,a)}});Ext.reg("lvnumbercolumn",Ext.list.NumberColumn);Ext.list.DateColumn=Ext.extend(Ext.list.Column,{format:"m/d/Y",constructor:function(a){a.tpl=a.tpl||new Ext.XTemplate("{"+a.dataIndex+':date("'+(a.format||this.format)+'")}');Ext.list.DateColumn.superclass.constructor.call(this,a)}});Ext.reg("lvdatecolumn",Ext.list.DateColumn);Ext.list.BooleanColumn=Ext.extend(Ext.list.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(e){e.tpl=e.tpl||new Ext.XTemplate("{"+e.dataIndex+":this.format}");var b=this.trueText,d=this.falseText,a=this.undefinedText;e.tpl.format=function(c){if(c===undefined){return a}if(!c||c==="false"){return d}return b};Ext.list.DateColumn.superclass.constructor.call(this,e)}});Ext.reg("lvbooleancolumn",Ext.list.BooleanColumn);Ext.list.ColumnResizer=Ext.extend(Ext.util.Observable,{minPct:0.05,constructor:function(a){Ext.apply(this,a);Ext.list.ColumnResizer.superclass.constructor.call(this)},init:function(a){this.view=a;a.on("render",this.initEvents,this)},initEvents:function(a){a.mon(a.innerHd,"mousemove",this.handleHdMove,this);this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeStart.createDelegate(this),onStart:this.onStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(a.innerHd);a.on("beforedestroy",this.tracker.destroy,this.tracker)},handleHdMove:function(i,d){var c=5,b=i.getPageX(),k=i.getTarget("em",3,true);if(k){var h=k.getRegion(),g=k.dom.style,a=k.dom.parentNode;if(b-h.left<=c&&a!=a.parentNode.firstChild){this.activeHd=Ext.get(a.previousSibling.firstChild);g.cursor=Ext.isWebKit?"e-resize":"col-resize"}else{if(h.right-b<=c&&a!=a.parentNode.lastChild.previousSibling){this.activeHd=k;g.cursor=Ext.isWebKit?"w-resize":"col-resize"}else{delete this.activeHd;g.cursor=""}}}},onBeforeStart:function(a){this.dragHd=this.activeHd;return !!this.dragHd},onStart:function(g){var d=this,b=d.view,c=d.dragHd,a=d.tracker.getXY()[0];d.proxy=b.el.createChild({cls:"x-list-resizer"});d.dragX=c.getX();d.headerIndex=b.findHeaderIndex(c);d.headersDisabled=b.disableHeaders;b.disableHeaders=true;d.proxy.setHeight(b.el.getHeight());d.proxy.setX(d.dragX);d.proxy.setWidth(a-d.dragX);this.setBoundaries()},setBoundaries:function(k){var l=this.view,h=this.headerIndex,c=l.innerHd.getWidth(),k=l.innerHd.getX(),b=Math.ceil(c*this.minPct),m=c-b,e=l.columns.length,d=l.innerHd.select("em",true),g=b+k,a=m+k,i;if(e==2){this.minX=g;this.maxX=a}else{i=d.item(h+2);this.minX=d.item(h).getX()+b;this.maxX=i?i.getX()-b:a;if(h==0){this.minX=g}else{if(h==e-2){this.maxX=a}}}},onDrag:function(c){var b=this,a=b.tracker.getXY()[0].constrain(b.minX,b.maxX);b.proxy.setWidth(a-this.dragX)},onEnd:function(i){var g=this.proxy.getWidth(),h=this.headerIndex,m=this.view,c=m.columns,b=m.innerHd.getWidth(),l=Math.ceil(g*m.maxColumnWidth/b)/100,d=this.headersDisabled,n=c[h],k=c[h+1],a=n.width+k.width;this.proxy.remove();n.width=l;k.width=a-l;delete this.dragHd;m.setHdWidths();m.refresh();setTimeout(function(){m.disableHeaders=d},100)}});Ext.ListView.ColumnResizer=Ext.list.ColumnResizer;Ext.list.Sorter=Ext.extend(Ext.util.Observable,{sortClasses:["sort-asc","sort-desc"],constructor:function(a){Ext.apply(this,a);Ext.list.Sorter.superclass.constructor.call(this)},init:function(a){this.view=a;a.on("render",this.initEvents,this)},initEvents:function(a){a.mon(a.innerHd,"click",this.onHdClick,this);a.innerHd.setStyle("cursor","pointer");a.mon(a.store,"datachanged",this.updateSortState,this);this.updateSortState.defer(10,this,[a.store])},updateSortState:function(c){var g=c.getSortState();if(!g){return}this.sortState=g;var e=this.view.columns,h=-1;for(var d=0,a=e.length;d<a;d++){if(e[d].dataIndex==g.field){h=d;break}}if(h!=-1){var b=g.direction;this.updateSortIcon(h,b)}},updateSortIcon:function(b,a){var d=this.sortClasses;var c=this.view.innerHd.select("em").removeClass(d);c.item(b).addClass(d[a=="DESC"?1:0])},onHdClick:function(c){var b=c.getTarget("em",3);if(b&&!this.view.disableHeaders){var a=this.view.findHeaderIndex(b);this.view.store.sort(this.view.columns[a].dataIndex)}}});Ext.ListView.Sorter=Ext.list.Sorter;Ext.TabPanel=Ext.extend(Ext.Panel,{deferredRender:true,tabWidth:120,minTabWidth:30,resizeTabs:false,enableTabScroll:false,scrollIncrement:0,scrollRepeatInterval:400,scrollDuration:0.35,animScroll:true,tabPosition:"top",baseCls:"x-tab-panel",autoTabs:false,autoTabSelector:"div.x-tab",activeTab:undefined,tabMargin:2,plain:false,wheelIncrement:20,idDelimiter:"__",itemCls:"x-tab-item",elements:"body",headerAsText:false,frame:false,hideBorders:true,initComponent:function(){this.frame=false;Ext.TabPanel.superclass.initComponent.call(this);this.addEvents("beforetabchange","tabchange","contextmenu");this.setLayout(new Ext.layout.CardLayout(Ext.apply({layoutOnCardChange:this.layoutOnTabChange,deferredRender:this.deferredRender},this.layoutConfig)));if(this.tabPosition=="top"){this.elements+=",header";this.stripTarget="header"}else{this.elements+=",footer";this.stripTarget="footer"}if(!this.stack){this.stack=Ext.TabPanel.AccessStack()}this.initItems()},onRender:function(c,a){Ext.TabPanel.superclass.onRender.call(this,c,a);if(this.plain){var g=this.tabPosition=="top"?"header":"footer";this[g].addClass("x-tab-panel-"+g+"-plain")}var b=this[this.stripTarget];this.stripWrap=b.createChild({cls:"x-tab-strip-wrap",cn:{tag:"ul",cls:"x-tab-strip x-tab-strip-"+this.tabPosition}});var e=(this.tabPosition=="bottom"?this.stripWrap:null);b.createChild({cls:"x-tab-strip-spacer"},e);this.strip=new Ext.Element(this.stripWrap.dom.firstChild);this.edge=this.strip.createChild({tag:"li",cls:"x-tab-edge",cn:[{tag:"span",cls:"x-tab-strip-text",cn:"&#160;"}]});this.strip.createChild({cls:"x-clear"});this.body.addClass("x-tab-panel-body-"+this.tabPosition);if(!this.itemTpl){var d=new Ext.Template('<li class="{cls}" id="{id}"><a class="x-tab-strip-close"></a>','<a class="x-tab-right" href="#"><em class="x-tab-left">','<span class="x-tab-strip-inner"><span class="x-tab-strip-text {iconCls}">{text}</span></span>',"</em></a></li>");d.disableFormats=true;d.compile();Ext.TabPanel.prototype.itemTpl=d}this.items.each(this.initTab,this)},afterRender:function(){Ext.TabPanel.superclass.afterRender.call(this);if(this.autoTabs){this.readTabs(false)}if(this.activeTab!==undefined){var a=Ext.isObject(this.activeTab)?this.activeTab:this.items.get(this.activeTab);delete this.activeTab;this.setActiveTab(a)}},initEvents:function(){Ext.TabPanel.superclass.initEvents.call(this);this.mon(this.strip,{scope:this,mousedown:this.onStripMouseDown,contextmenu:this.onStripContextMenu});if(this.enableTabScroll){this.mon(this.strip,"mousewheel",this.onWheel,this)}},findTargets:function(c){var b=null,a=c.getTarget("li:not(.x-tab-edge)",this.strip);if(a){b=this.getComponent(a.id.split(this.idDelimiter)[1]);if(b.disabled){return{close:null,item:null,el:null}}}return{close:c.getTarget(".x-tab-strip-close",this.strip),item:b,el:a}},onStripMouseDown:function(b){if(b.button!==0){return}b.preventDefault();var a=this.findTargets(b);if(a.close){if(a.item.fireEvent("beforeclose",a.item)!==false){a.item.fireEvent("close",a.item);this.remove(a.item)}return}if(a.item&&a.item!=this.activeTab){this.setActiveTab(a.item)}},onStripContextMenu:function(b){b.preventDefault();var a=this.findTargets(b);if(a.item){this.fireEvent("contextmenu",this,a.item,b)}},readTabs:function(d){if(d===true){this.items.each(function(h){this.remove(h)},this)}var c=this.el.query(this.autoTabSelector);for(var b=0,a=c.length;b<a;b++){var e=c[b],g=e.getAttribute("title");e.removeAttribute("title");this.add({title:g,contentEl:e})}},initTab:function(d,b){var e=this.strip.dom.childNodes[b],g=this.getTemplateArgs(d),c=e?this.itemTpl.insertBefore(e,g):this.itemTpl.append(this.strip,g),a="x-tab-strip-over",h=Ext.get(c);h.hover(function(){if(!d.disabled){h.addClass(a)}},function(){h.removeClass(a)});if(d.tabTip){h.child("span.x-tab-strip-text",true).qtip=d.tabTip}d.tabEl=c;h.select("a").on("click",function(i){if(!i.getPageX()){this.onStripMouseDown(i)}},this,{preventDefault:true});d.on({scope:this,disable:this.onItemDisabled,enable:this.onItemEnabled,titlechange:this.onItemTitleChanged,iconchange:this.onItemIconChanged,beforeshow:this.onBeforeShowItem})},getTemplateArgs:function(b){var a=b.closable?"x-tab-strip-closable":"";if(b.disabled){a+=" x-item-disabled"}if(b.iconCls){a+=" x-tab-with-icon"}if(b.tabCls){a+=" "+b.tabCls}return{id:this.id+this.idDelimiter+b.getItemId(),text:b.title,cls:a,iconCls:b.iconCls||""}},onAdd:function(b){Ext.TabPanel.superclass.onAdd.call(this,b);if(this.rendered){var a=this.items;this.initTab(b,a.indexOf(b));this.delegateUpdates()}},onBeforeAdd:function(b){var a=b.events?(this.items.containsKey(b.getItemId())?b:null):this.items.get(b);if(a){this.setActiveTab(b);return false}Ext.TabPanel.superclass.onBeforeAdd.apply(this,arguments);var c=b.elements;b.elements=c?c.replace(",header",""):c;b.border=(b.border===true)},onRemove:function(d){var b=Ext.get(d.tabEl);if(b){b.select("a").removeAllListeners();Ext.destroy(b)}Ext.TabPanel.superclass.onRemove.call(this,d);this.stack.remove(d);delete d.tabEl;d.un("disable",this.onItemDisabled,this);d.un("enable",this.onItemEnabled,this);d.un("titlechange",this.onItemTitleChanged,this);d.un("iconchange",this.onItemIconChanged,this);d.un("beforeshow",this.onBeforeShowItem,this);if(d==this.activeTab){var a=this.stack.next();if(a){this.setActiveTab(a)}else{if(this.items.getCount()>0){this.setActiveTab(0)}else{this.setActiveTab(null)}}}if(!this.destroying){this.delegateUpdates()}},onBeforeShowItem:function(a){if(a!=this.activeTab){this.setActiveTab(a);return false}},onItemDisabled:function(b){var a=this.getTabEl(b);if(a){Ext.fly(a).addClass("x-item-disabled")}this.stack.remove(b)},onItemEnabled:function(b){var a=this.getTabEl(b);if(a){Ext.fly(a).removeClass("x-item-disabled")}},onItemTitleChanged:function(b){var a=this.getTabEl(b);if(a){Ext.fly(a).child("span.x-tab-strip-text",true).innerHTML=b.title}},onItemIconChanged:function(d,a,c){var b=this.getTabEl(d);if(b){b=Ext.get(b);b.child("span.x-tab-strip-text").replaceClass(c,a);b[Ext.isEmpty(a)?"removeClass":"addClass"]("x-tab-with-icon")}},getTabEl:function(a){var b=this.getComponent(a);return b?b.tabEl:null},onResize:function(){Ext.TabPanel.superclass.onResize.apply(this,arguments);this.delegateUpdates()},beginUpdate:function(){this.suspendUpdates=true},endUpdate:function(){this.suspendUpdates=false;this.delegateUpdates()},hideTabStripItem:function(b){b=this.getComponent(b);var a=this.getTabEl(b);if(a){a.style.display="none";this.delegateUpdates()}this.stack.remove(b)},unhideTabStripItem:function(b){b=this.getComponent(b);var a=this.getTabEl(b);if(a){a.style.display="";this.delegateUpdates()}},delegateUpdates:function(){var a=this.rendered;if(this.suspendUpdates){return}if(this.resizeTabs&&a){this.autoSizeTabs()}if(this.enableTabScroll&&a){this.autoScrollTabs()}},autoSizeTabs:function(){var h=this.items.length,b=this.tabPosition!="bottom"?"header":"footer",c=this[b].dom.offsetWidth,a=this[b].dom.clientWidth;if(!this.resizeTabs||h<1||!a){return}var l=Math.max(Math.min(Math.floor((a-4)/h)-this.tabMargin,this.tabWidth),this.minTabWidth);this.lastTabWidth=l;var n=this.strip.query("li:not(.x-tab-edge)");for(var e=0,k=n.length;e<k;e++){var m=n[e],o=Ext.fly(m).child(".x-tab-strip-inner",true),g=m.offsetWidth,d=o.offsetWidth;o.style.width=(l-(g-d))+"px"}},adjustBodyWidth:function(a){if(this.header){this.header.setWidth(a)}if(this.footer){this.footer.setWidth(a)}return a},setActiveTab:function(c){c=this.getComponent(c);if(this.fireEvent("beforetabchange",this,c,this.activeTab)===false){return}if(!this.rendered){this.activeTab=c;return}if(this.activeTab!=c){if(this.activeTab){var a=this.getTabEl(this.activeTab);if(a){Ext.fly(a).removeClass("x-tab-strip-active")}}this.activeTab=c;if(c){var b=this.getTabEl(c);Ext.fly(b).addClass("x-tab-strip-active");this.stack.add(c);this.layout.setActiveItem(c);this.delegateUpdates();if(this.scrolling){this.scrollToTab(c,this.animScroll)}}this.fireEvent("tabchange",this,c)}},getActiveTab:function(){return this.activeTab||null},getItem:function(a){return this.getComponent(a)},autoScrollTabs:function(){this.pos=this.tabPosition=="bottom"?this.footer:this.header;var h=this.items.length,d=this.pos.dom.offsetWidth,c=this.pos.dom.clientWidth,g=this.stripWrap,e=g.dom,b=e.offsetWidth,i=this.getScrollPos(),a=this.edge.getOffsetsTo(this.stripWrap)[0]+i;if(!this.enableTabScroll||b<20){return}if(h==0||a<=c){e.scrollLeft=0;g.setWidth(c);if(this.scrolling){this.scrolling=false;this.pos.removeClass("x-tab-scrolling");this.scrollLeft.hide();this.scrollRight.hide();if(Ext.isAir||Ext.isWebKit){e.style.marginLeft="";e.style.marginRight=""}}}else{if(!this.scrolling){this.pos.addClass("x-tab-scrolling");if(Ext.isAir||Ext.isWebKit){e.style.marginLeft="18px";e.style.marginRight="18px"}}c-=g.getMargins("lr");g.setWidth(c>20?c:20);if(!this.scrolling){if(!this.scrollLeft){this.createScrollers()}else{this.scrollLeft.show();this.scrollRight.show()}}this.scrolling=true;if(i>(a-c)){e.scrollLeft=a-c}else{this.scrollToTab(this.activeTab,false)}this.updateScrollButtons()}},createScrollers:function(){this.pos.addClass("x-tab-scrolling-"+this.tabPosition);var c=this.stripWrap.dom.offsetHeight;var a=this.pos.insertFirst({cls:"x-tab-scroller-left"});a.setHeight(c);a.addClassOnOver("x-tab-scroller-left-over");this.leftRepeater=new Ext.util.ClickRepeater(a,{interval:this.scrollRepeatInterval,handler:this.onScrollLeft,scope:this});this.scrollLeft=a;var b=this.pos.insertFirst({cls:"x-tab-scroller-right"});b.setHeight(c);b.addClassOnOver("x-tab-scroller-right-over");this.rightRepeater=new Ext.util.ClickRepeater(b,{interval:this.scrollRepeatInterval,handler:this.onScrollRight,scope:this});this.scrollRight=b},getScrollWidth:function(){return this.edge.getOffsetsTo(this.stripWrap)[0]+this.getScrollPos()},getScrollPos:function(){return parseInt(this.stripWrap.dom.scrollLeft,10)||0},getScrollArea:function(){return parseInt(this.stripWrap.dom.clientWidth,10)||0},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},getScrollIncrement:function(){return this.scrollIncrement||(this.resizeTabs?this.lastTabWidth+2:100)},scrollToTab:function(e,a){if(!e){return}var c=this.getTabEl(e),h=this.getScrollPos(),d=this.getScrollArea(),g=Ext.fly(c).getOffsetsTo(this.stripWrap)[0]+h,b=g+c.offsetWidth;if(g<h){this.scrollTo(g,a)}else{if(b>(h+d)){this.scrollTo(b-d,a)}}},scrollTo:function(b,a){this.stripWrap.scrollTo("left",b,a?this.getScrollAnim():false);if(!a){this.updateScrollButtons()}},onWheel:function(g){var h=g.getWheelDelta()*this.wheelIncrement*-1;g.stopEvent();var i=this.getScrollPos(),c=i+h,a=this.getScrollWidth()-this.getScrollArea();var b=Math.max(0,Math.min(a,c));if(b!=i){this.scrollTo(b,false)}},onScrollRight:function(){var a=this.getScrollWidth()-this.getScrollArea(),c=this.getScrollPos(),b=Math.min(a,c+this.getScrollIncrement());if(b!=c){this.scrollTo(b,this.animScroll)}},onScrollLeft:function(){var b=this.getScrollPos(),a=Math.max(0,b-this.getScrollIncrement());if(a!=b){this.scrollTo(a,this.animScroll)}},updateScrollButtons:function(){var a=this.getScrollPos();this.scrollLeft[a===0?"addClass":"removeClass"]("x-tab-scroller-left-disabled");this.scrollRight[a>=(this.getScrollWidth()-this.getScrollArea())?"addClass":"removeClass"]("x-tab-scroller-right-disabled")},beforeDestroy:function(){Ext.destroy(this.leftRepeater,this.rightRepeater);this.deleteMembers("strip","edge","scrollLeft","scrollRight","stripWrap");this.activeTab=null;Ext.TabPanel.superclass.beforeDestroy.apply(this)}});Ext.reg("tabpanel",Ext.TabPanel);Ext.TabPanel.prototype.activate=Ext.TabPanel.prototype.setActiveTab;Ext.TabPanel.AccessStack=function(){var a=[];return{add:function(b){a.push(b);if(a.length>10){a.shift()}},remove:function(e){var d=[];for(var c=0,b=a.length;c<b;c++){if(a[c]!=e){d.push(a[c])}}a=d},next:function(){return a.pop()}}};Ext.Button=Ext.extend(Ext.BoxComponent,{hidden:false,disabled:false,pressed:false,enableToggle:false,menuAlign:"tl-bl?",type:"button",menuClassTarget:"tr:nth(2)",clickEvent:"click",handleMouseEvents:true,tooltipType:"qtip",buttonSelector:"button:first-child",scale:"small",iconAlign:"left",arrowAlign:"right",initComponent:function(){if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu);this.menu.ownerCt=this}Ext.Button.superclass.initComponent.call(this);this.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(this.menu){this.menu.ownerCt=undefined}if(Ext.isString(this.toggleGroup)){this.enableToggle=true}},getTemplateArgs:function(){return[this.type,"x-btn-"+this.scale+" x-btn-icon-"+this.scale+"-"+this.iconAlign,this.getMenuClass(),this.cls,this.id]},setButtonClass:function(){if(this.useSetClass){if(!Ext.isEmpty(this.oldCls)){this.el.removeClass([this.oldCls,"x-btn-pressed"])}this.oldCls=(this.iconCls||this.icon)?(this.text?"x-btn-text-icon":"x-btn-icon"):"x-btn-noicon";this.el.addClass([this.oldCls,this.pressed?"x-btn-pressed":null])}},getMenuClass:function(){return this.menu?(this.arrowAlign!="bottom"?"x-btn-arrow":"x-btn-arrow-bottom"):""},onRender:function(c,a){if(!this.template){if(!Ext.Button.buttonTemplate){Ext.Button.buttonTemplate=new Ext.Template('<table id="{4}" cellspacing="0" class="x-btn {3}"><tbody class="{1}">','<tr><td class="x-btn-tl"><i>&#160;</i></td><td class="x-btn-tc"></td><td class="x-btn-tr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-ml"><i>&#160;</i></td><td class="x-btn-mc"><em class="{2}" unselectable="on"><button type="{0}"></button></em></td><td class="x-btn-mr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-bl"><i>&#160;</i></td><td class="x-btn-bc"></td><td class="x-btn-br"><i>&#160;</i></td></tr>',"</tbody></table>");Ext.Button.buttonTemplate.compile()}this.template=Ext.Button.buttonTemplate}var b,d=this.getTemplateArgs();if(a){b=this.template.insertBefore(a,d,true)}else{b=this.template.append(c,d,true)}this.btnEl=b.child(this.buttonSelector);this.mon(this.btnEl,{scope:this,focus:this.onFocus,blur:this.onBlur});this.initButtonEl(b,this.btnEl);Ext.ButtonToggleMgr.register(this)},initButtonEl:function(b,c){this.el=b;this.setIcon(this.icon);this.setText(this.text);this.setIconClass(this.iconCls);if(Ext.isDefined(this.tabIndex)){c.dom.tabIndex=this.tabIndex}if(this.tooltip){this.setTooltip(this.tooltip,true)}if(this.handleMouseEvents){this.mon(b,{scope:this,mouseover:this.onMouseOver,mousedown:this.onMouseDown})}if(this.menu){this.mon(this.menu,{scope:this,show:this.onMenuShow,hide:this.onMenuHide})}if(this.repeat){var a=new Ext.util.ClickRepeater(b,Ext.isObject(this.repeat)?this.repeat:{});this.mon(a,"click",this.onRepeatClick,this)}else{this.mon(b,this.clickEvent,this.onClick,this)}},afterRender:function(){Ext.Button.superclass.afterRender.call(this);this.useSetClass=true;this.setButtonClass();this.doc=Ext.getDoc();this.doAutoWidth()},setIconClass:function(a){this.iconCls=a;if(this.el){this.btnEl.dom.className="";this.btnEl.addClass(["x-btn-text",a||""]);this.setButtonClass()}return this},setTooltip:function(b,a){if(this.rendered){if(!a){this.clearTip()}if(Ext.isObject(b)){Ext.QuickTips.register(Ext.apply({target:this.btnEl.id},b));this.tooltip=b}else{this.btnEl.dom[this.tooltipType]=b}}else{this.tooltip=b}return this},clearTip:function(){if(Ext.isObject(this.tooltip)){Ext.QuickTips.unregister(this.btnEl)}},beforeDestroy:function(){if(this.rendered){this.clearTip()}if(this.menu&&this.destroyMenu!==false){Ext.destroy(this.btnEl,this.menu)}Ext.destroy(this.repeater)},onDestroy:function(){if(this.rendered){this.doc.un("mouseover",this.monitorMouseOver,this);this.doc.un("mouseup",this.onMouseUp,this);delete this.doc;delete this.btnEl;Ext.ButtonToggleMgr.unregister(this)}Ext.Button.superclass.onDestroy.call(this)},doAutoWidth:function(){if(this.autoWidth!==false&&this.el&&this.text&&this.width===undefined){this.el.setWidth("auto");if(Ext.isIE7&&Ext.isStrict){var a=this.btnEl;if(a&&a.getWidth()>20){a.clip();a.setWidth(Ext.util.TextMetrics.measure(a,this.text).width+a.getFrameWidth("lr"))}}if(this.minWidth){if(this.el.getWidth()<this.minWidth){this.el.setWidth(this.minWidth)}}}},setHandler:function(b,a){this.handler=b;this.scope=a;return this},setText:function(a){this.text=a;if(this.el){this.btnEl.update(a||"&#160;");this.setButtonClass()}this.doAutoWidth();return this},setIcon:function(a){this.icon=a;if(this.el){this.btnEl.setStyle("background-image",a?"url("+a+")":"");this.setButtonClass()}return this},getText:function(){return this.text},toggle:function(b,a){b=b===undefined?!this.pressed:!!b;if(b!=this.pressed){if(this.rendered){this.el[b?"addClass":"removeClass"]("x-btn-pressed")}this.pressed=b;if(!a){this.fireEvent("toggle",this,b);if(this.toggleHandler){this.toggleHandler.call(this.scope||this,this,b)}}}return this},onDisable:function(){this.onDisableChange(true)},onEnable:function(){this.onDisableChange(false)},onDisableChange:function(a){if(this.el){if(!Ext.isIE6||!this.text){this.el[a?"addClass":"removeClass"](this.disabledClass)}this.el.dom.disabled=a}this.disabled=a},showMenu:function(){if(this.rendered&&this.menu){if(this.tooltip){Ext.QuickTips.getQuickTip().cancelShow(this.btnEl)}if(this.menu.isVisible()){this.menu.hide()}this.menu.ownerCt=this;this.menu.show(this.el,this.menuAlign)}return this},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){return this.menu&&this.menu.ownerCt==this&&this.menu.isVisible()},onRepeatClick:function(a,b){this.onClick(b)},onClick:function(a){if(a){a.preventDefault()}if(a.button!==0){return}if(!this.disabled){this.doToggle();if(this.menu&&!this.hasVisibleMenu()&&!this.ignoreNextClick){this.showMenu()}this.fireEvent("click",this,a);if(this.handler){this.handler.call(this.scope||this,this,a)}}},doToggle:function(){if(this.enableToggle&&(this.allowDepress!==false||!this.pressed)){this.toggle()}},isMenuTriggerOver:function(b,a){return this.menu&&!a},isMenuTriggerOut:function(b,a){return this.menu&&!a},onMouseOver:function(b){if(!this.disabled){var a=b.within(this.el,true);if(!a){this.el.addClass("x-btn-over");if(!this.monitoringMouseOver){this.doc.on("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=true}this.fireEvent("mouseover",this,b)}if(this.isMenuTriggerOver(b,a)){this.fireEvent("menutriggerover",this,this.menu,b)}}},monitorMouseOver:function(a){if(a.target!=this.el.dom&&!a.within(this.el)){if(this.monitoringMouseOver){this.doc.un("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=false}this.onMouseOut(a)}},onMouseOut:function(b){var a=b.within(this.el)&&b.target!=this.el.dom;this.el.removeClass("x-btn-over");this.fireEvent("mouseout",this,b);if(this.isMenuTriggerOut(b,a)){this.fireEvent("menutriggerout",this,this.menu,b)}},focus:function(){this.btnEl.focus()},blur:function(){this.btnEl.blur()},onFocus:function(a){if(!this.disabled){this.el.addClass("x-btn-focus")}},onBlur:function(a){this.el.removeClass("x-btn-focus")},getClickEl:function(b,a){return this.el},onMouseDown:function(a){if(!this.disabled&&a.button===0){this.getClickEl(a).addClass("x-btn-click");this.doc.on("mouseup",this.onMouseUp,this)}},onMouseUp:function(a){if(a.button===0){this.getClickEl(a,true).removeClass("x-btn-click");this.doc.un("mouseup",this.onMouseUp,this)}},onMenuShow:function(a){if(this.menu.ownerCt==this){this.menu.ownerCt=this;this.ignoreNextClick=0;this.el.addClass("x-btn-menu-active");this.fireEvent("menushow",this,this.menu)}},onMenuHide:function(a){if(this.menu.ownerCt==this){this.el.removeClass("x-btn-menu-active");this.ignoreNextClick=this.restoreClick.defer(250,this);this.fireEvent("menuhide",this,this.menu);delete this.menu.ownerCt}},restoreClick:function(){this.ignoreNextClick=0}});Ext.reg("button",Ext.Button);Ext.ButtonToggleMgr=function(){var a={};function b(e,k){if(k){var h=a[e.toggleGroup];for(var d=0,c=h.length;d<c;d++){if(h[d]!=e){h[d].toggle(false)}}}}return{register:function(c){if(!c.toggleGroup){return}var d=a[c.toggleGroup];if(!d){d=a[c.toggleGroup]=[]}d.push(c);c.on("toggle",b)},unregister:function(c){if(!c.toggleGroup){return}var d=a[c.toggleGroup];if(d){d.remove(c);c.un("toggle",b)}},getPressed:function(h){var e=a[h];if(e){for(var d=0,c=e.length;d<c;d++){if(e[d].pressed===true){return e[d]}}}return null}}}();Ext.SplitButton=Ext.extend(Ext.Button,{arrowSelector:"em",split:true,initComponent:function(){Ext.SplitButton.superclass.initComponent.call(this);this.addEvents("arrowclick")},onRender:function(){Ext.SplitButton.superclass.onRender.apply(this,arguments);if(this.arrowTooltip){this.el.child(this.arrowSelector).dom[this.tooltipType]=this.arrowTooltip}},setArrowHandler:function(b,a){this.arrowHandler=b;this.scope=a},getMenuClass:function(){return"x-btn-split"+(this.arrowAlign=="bottom"?"-bottom":"")},isClickOnArrow:function(c){if(this.arrowAlign!="bottom"){var b=this.el.child("em.x-btn-split");var a=b.getRegion().right-b.getPadding("r");return c.getPageX()>a}else{return c.getPageY()>this.btnEl.getRegion().bottom}},onClick:function(b,a){b.preventDefault();if(!this.disabled){if(this.isClickOnArrow(b)){if(this.menu&&!this.menu.isVisible()&&!this.ignoreNextClick){this.showMenu()}this.fireEvent("arrowclick",this,b);if(this.arrowHandler){this.arrowHandler.call(this.scope||this,this,b)}}else{this.doToggle();this.fireEvent("click",this,b);if(this.handler){this.handler.call(this.scope||this,this,b)}}}},isMenuTriggerOver:function(a){return this.menu&&a.target.tagName==this.arrowSelector},isMenuTriggerOut:function(b,a){return this.menu&&b.target.tagName!=this.arrowSelector}});Ext.reg("splitbutton",Ext.SplitButton);Ext.CycleButton=Ext.extend(Ext.SplitButton,{getItemText:function(a){if(a&&this.showText===true){var b="";if(this.prependText){b+=this.prependText}b+=a.text;return b}return undefined},setActiveItem:function(c,a){if(!Ext.isObject(c)){c=this.menu.getComponent(c)}if(c){if(!this.rendered){this.text=this.getItemText(c);this.iconCls=c.iconCls}else{var b=this.getItemText(c);if(b){this.setText(b)}this.setIconClass(c.iconCls)}this.activeItem=c;if(!c.checked){c.setChecked(true,false)}if(this.forceIcon){this.setIconClass(this.forceIcon)}if(!a){this.fireEvent("change",this,c)}}},getActiveItem:function(){return this.activeItem},initComponent:function(){this.addEvents("change");if(this.changeHandler){this.on("change",this.changeHandler,this.scope||this);delete this.changeHandler}this.itemCount=this.items.length;this.menu={cls:"x-cycle-menu",items:[]};var a=0;Ext.each(this.items,function(c,b){Ext.apply(c,{group:c.group||this.id,itemIndex:b,checkHandler:this.checkHandler,scope:this,checked:c.checked||false});this.menu.items.push(c);if(c.checked){a=b}},this);Ext.CycleButton.superclass.initComponent.call(this);this.on("click",this.toggleSelected,this);this.setActiveItem(a,true)},checkHandler:function(a,b){if(b){this.setActiveItem(a)}},toggleSelected:function(){var a=this.menu;a.render();if(!a.hasLayout){a.doLayout()}var d,b;for(var c=1;c<this.itemCount;c++){d=(this.activeItem.itemIndex+c)%this.itemCount;b=a.items.itemAt(d);if(!b.disabled){b.setChecked(true);break}}}});Ext.reg("cycle",Ext.CycleButton);Ext.Toolbar=function(a){if(Ext.isArray(a)){a={items:a,layout:"toolbar"}}else{a=Ext.apply({layout:"toolbar"},a);if(a.buttons){a.items=a.buttons}}Ext.Toolbar.superclass.constructor.call(this,a)};(function(){var a=Ext.Toolbar;Ext.extend(a,Ext.Container,{defaultType:"button",enableOverflow:false,trackMenus:true,internalDefaults:{removeMode:"container",hideParent:true},toolbarCls:"x-toolbar",initComponent:function(){a.superclass.initComponent.call(this);this.addEvents("overflowchange")},onRender:function(c,b){if(!this.el){if(!this.autoCreate){this.autoCreate={cls:this.toolbarCls+" x-small-editor"}}this.el=c.createChild(Ext.apply({id:this.id},this.autoCreate),b);Ext.Toolbar.superclass.onRender.apply(this,arguments)}},lookupComponent:function(b){if(Ext.isString(b)){if(b=="-"){b=new a.Separator()}else{if(b==" "){b=new a.Spacer()}else{if(b=="->"){b=new a.Fill()}else{b=new a.TextItem(b)}}}this.applyDefaults(b)}else{if(b.isFormField||b.render){b=this.createComponent(b)}else{if(b.tag){b=new a.Item({autoEl:b})}else{if(b.tagName){b=new a.Item({el:b})}else{if(Ext.isObject(b)){b=b.xtype?this.createComponent(b):this.constructButton(b)}}}}}return b},applyDefaults:function(e){if(!Ext.isString(e)){e=Ext.Toolbar.superclass.applyDefaults.call(this,e);var b=this.internalDefaults;if(e.events){Ext.applyIf(e.initialConfig,b);Ext.apply(e,b)}else{Ext.applyIf(e,b)}}return e},addSeparator:function(){return this.add(new a.Separator())},addSpacer:function(){return this.add(new a.Spacer())},addFill:function(){this.add(new a.Fill())},addElement:function(b){return this.addItem(new a.Item({el:b}))},addItem:function(b){return this.add.apply(this,arguments)},addButton:function(c){if(Ext.isArray(c)){var e=[];for(var d=0,b=c.length;d<b;d++){e.push(this.addButton(c[d]))}return e}return this.add(this.constructButton(c))},addText:function(b){return this.addItem(new a.TextItem(b))},addDom:function(b){return this.add(new a.Item({autoEl:b}))},addField:function(b){return this.add(b)},insertButton:function(c,g){if(Ext.isArray(g)){var e=[];for(var d=0,b=g.length;d<b;d++){e.push(this.insertButton(c+d,g[d]))}return e}return Ext.Toolbar.superclass.insert.call(this,c,g)},trackMenu:function(c,b){if(this.trackMenus&&c.menu){var d=b?"mun":"mon";this[d](c,"menutriggerover",this.onButtonTriggerOver,this);this[d](c,"menushow",this.onButtonMenuShow,this);this[d](c,"menuhide",this.onButtonMenuHide,this)}},constructButton:function(d){var c=d.events?d:this.createComponent(d,d.split?"splitbutton":this.defaultType);return c},onAdd:function(b){Ext.Toolbar.superclass.onAdd.call(this);this.trackMenu(b);if(this.disabled){b.disable()}},onRemove:function(b){Ext.Toolbar.superclass.onRemove.call(this);if(b==this.activeMenuBtn){delete this.activeMenuBtn}this.trackMenu(b,true)},onDisable:function(){this.items.each(function(b){if(b.disable){b.disable()}})},onEnable:function(){this.items.each(function(b){if(b.enable){b.enable()}})},onButtonTriggerOver:function(b){if(this.activeMenuBtn&&this.activeMenuBtn!=b){this.activeMenuBtn.hideMenu();b.showMenu();this.activeMenuBtn=b}},onButtonMenuShow:function(b){this.activeMenuBtn=b},onButtonMenuHide:function(b){delete this.activeMenuBtn}});Ext.reg("toolbar",Ext.Toolbar);a.Item=Ext.extend(Ext.BoxComponent,{hideParent:true,enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.reg("tbitem",a.Item);a.Separator=Ext.extend(a.Item,{onRender:function(c,b){this.el=c.createChild({tag:"span",cls:"xtb-sep"},b)}});Ext.reg("tbseparator",a.Separator);a.Spacer=Ext.extend(a.Item,{onRender:function(c,b){this.el=c.createChild({tag:"div",cls:"xtb-spacer",style:this.width?"width:"+this.width+"px":""},b)}});Ext.reg("tbspacer",a.Spacer);a.Fill=Ext.extend(a.Item,{render:Ext.emptyFn,isFill:true});Ext.reg("tbfill",a.Fill);a.TextItem=Ext.extend(a.Item,{constructor:function(b){a.TextItem.superclass.constructor.call(this,Ext.isString(b)?{text:b}:b)},onRender:function(c,b){this.autoEl={cls:"xtb-text",html:this.text||""};a.TextItem.superclass.onRender.call(this,c,b)},setText:function(b){if(this.rendered){this.el.update(b)}else{this.text=b}}});Ext.reg("tbtext",a.TextItem);a.Button=Ext.extend(Ext.Button,{});a.SplitButton=Ext.extend(Ext.SplitButton,{});Ext.reg("tbbutton",a.Button);Ext.reg("tbsplit",a.SplitButton)})();Ext.ButtonGroup=Ext.extend(Ext.Panel,{baseCls:"x-btn-group",layout:"table",defaultType:"button",frame:true,internalDefaults:{removeMode:"container",hideParent:true},initComponent:function(){this.layoutConfig=this.layoutConfig||{};Ext.applyIf(this.layoutConfig,{columns:this.columns});if(!this.title){this.addClass("x-btn-group-notitle")}this.on("afterlayout",this.onAfterLayout,this);Ext.ButtonGroup.superclass.initComponent.call(this)},applyDefaults:function(b){b=Ext.ButtonGroup.superclass.applyDefaults.call(this,b);var a=this.internalDefaults;if(b.events){Ext.applyIf(b.initialConfig,a);Ext.apply(b,a)}else{Ext.applyIf(b,a)}return b},onAfterLayout:function(){var a=this.body.getFrameWidth("lr")+this.body.dom.firstChild.offsetWidth;this.body.setWidth(a);this.el.setWidth(a+this.getFrameWidth())}});Ext.reg("buttongroup",Ext.ButtonGroup);(function(){var a=Ext.Toolbar;Ext.PagingToolbar=Ext.extend(Ext.Toolbar,{pageSize:20,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",initComponent:function(){var c=[this.first=new a.Button({tooltip:this.firstText,overflowText:this.firstText,iconCls:"x-tbar-page-first",disabled:true,handler:this.moveFirst,scope:this}),this.prev=new a.Button({tooltip:this.prevText,overflowText:this.prevText,iconCls:"x-tbar-page-prev",disabled:true,handler:this.movePrevious,scope:this}),"-",this.beforePageText,this.inputItem=new Ext.form.NumberField({cls:"x-tbar-page-number",allowDecimals:false,allowNegative:false,enableKeyEvents:true,selectOnFocus:true,submitValue:false,listeners:{scope:this,keydown:this.onPagingKeyDown,blur:this.onPagingBlur}}),this.afterTextItem=new a.TextItem({text:String.format(this.afterPageText,1)}),"-",this.next=new a.Button({tooltip:this.nextText,overflowText:this.nextText,iconCls:"x-tbar-page-next",disabled:true,handler:this.moveNext,scope:this}),this.last=new a.Button({tooltip:this.lastText,overflowText:this.lastText,iconCls:"x-tbar-page-last",disabled:true,handler:this.moveLast,scope:this}),"-",this.refresh=new a.Button({tooltip:this.refreshText,overflowText:this.refreshText,iconCls:"x-tbar-loading",handler:this.doRefresh,scope:this})];var b=this.items||this.buttons||[];if(this.prependButtons){this.items=b.concat(c)}else{this.items=c.concat(b)}delete this.buttons;if(this.displayInfo){this.items.push("->");this.items.push(this.displayItem=new a.TextItem({}))}Ext.PagingToolbar.superclass.initComponent.call(this);this.addEvents("change","beforechange");this.on("afterlayout",this.onFirstLayout,this,{single:true});this.cursor=0;this.bindStore(this.store,true)},onFirstLayout:function(){if(this.dsLoaded){this.onLoad.apply(this,this.dsLoaded)}},updateInfo:function(){if(this.displayItem){var b=this.store.getCount();var c=b==0?this.emptyMsg:String.format(this.displayMsg,this.cursor+1,this.cursor+b,this.store.getTotalCount());this.displayItem.setText(c)}},onLoad:function(b,e,k){if(!this.rendered){this.dsLoaded=[b,e,k];return}var g=this.getParams();this.cursor=(k.params&&k.params[g.start])?k.params[g.start]:0;var i=this.getPageData(),c=i.activePage,h=i.pages;this.afterTextItem.setText(String.format(this.afterPageText,i.pages));this.inputItem.setValue(c);this.first.setDisabled(c==1);this.prev.setDisabled(c==1);this.next.setDisabled(c==h);this.last.setDisabled(c==h);this.refresh.enable();this.updateInfo();this.fireEvent("change",this,i)},getPageData:function(){var b=this.store.getTotalCount();return{total:b,activePage:Math.ceil((this.cursor+this.pageSize)/this.pageSize),pages:b<this.pageSize?1:Math.ceil(b/this.pageSize)}},changePage:function(b){this.doLoad(((b-1)*this.pageSize).constrain(0,this.store.getTotalCount()))},onLoadError:function(){if(!this.rendered){return}this.refresh.enable()},readPage:function(e){var b=this.inputItem.getValue(),c;if(!b||isNaN(c=parseInt(b,10))){this.inputItem.setValue(e.activePage);return false}return c},onPagingFocus:function(){this.inputItem.select()},onPagingBlur:function(b){this.inputItem.setValue(this.getPageData().activePage)},onPagingKeyDown:function(i,h){var c=h.getKey(),l=this.getPageData(),g;if(c==h.RETURN){h.stopEvent();g=this.readPage(l);if(g!==false){g=Math.min(Math.max(1,g),l.pages)-1;this.doLoad(g*this.pageSize)}}else{if(c==h.HOME||c==h.END){h.stopEvent();g=c==h.HOME?1:l.pages;i.setValue(g)}else{if(c==h.UP||c==h.PAGEUP||c==h.DOWN||c==h.PAGEDOWN){h.stopEvent();if((g=this.readPage(l))){var b=h.shiftKey?10:1;if(c==h.DOWN||c==h.PAGEDOWN){b*=-1}g+=b;if(g>=1&g<=l.pages){i.setValue(g)}}}}}},getParams:function(){return this.paramNames||this.store.paramNames},beforeLoad:function(){if(this.rendered&&this.refresh){this.refresh.disable()}},doLoad:function(d){var c={},b=this.getParams();c[b.start]=d;c[b.limit]=this.pageSize;if(this.fireEvent("beforechange",this,c)!==false){this.store.load({params:c})}},moveFirst:function(){this.doLoad(0)},movePrevious:function(){this.doLoad(Math.max(0,this.cursor-this.pageSize))},moveNext:function(){this.doLoad(this.cursor+this.pageSize)},moveLast:function(){var c=this.store.getTotalCount(),b=c%this.pageSize;this.doLoad(b?(c-b):c-this.pageSize)},doRefresh:function(){this.doLoad(this.cursor)},bindStore:function(c,d){var b;if(!d&&this.store){if(c!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.beforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.onLoadError,this)}if(!c){this.store=null}}if(c){c=Ext.StoreMgr.lookup(c);c.on({scope:this,beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError});b=true}this.store=c;if(b){this.onLoad(c,null,{})}},unbind:function(b){this.bindStore(null)},bind:function(b){this.bindStore(b)},onDestroy:function(){this.bindStore(null);Ext.PagingToolbar.superclass.onDestroy.call(this)}})})();Ext.reg("paging",Ext.PagingToolbar);Ext.History=(function(){var e,c;var l=false;var d;function g(){var m=location.href,n=m.indexOf("#");return n>=0?m.substr(n+1):null}function a(){c.value=d}function h(m){d=m;Ext.History.fireEvent("change",m)}function i(n){var m=['<html><body><div id="state">',Ext.util.Format.htmlEncode(n),"</div></body></html>"].join("");try{var p=e.contentWindow.document;p.open();p.write(m);p.close();return true}catch(o){return false}}function b(){if(!e.contentWindow||!e.contentWindow.document){setTimeout(b,10);return}var p=e.contentWindow.document;var n=p.getElementById("state");var m=n?n.innerText:null;var o=g();setInterval(function(){p=e.contentWindow.document;n=p.getElementById("state");var r=n?n.innerText:null;var q=g();if(r!==m){m=r;h(m);top.location.hash=m;o=m;a()}else{if(q!==o){o=q;i(q)}}},50);l=true;Ext.History.fireEvent("ready",Ext.History)}function k(){d=c.value?c.value:g();if(Ext.isIE){b()}else{var m=g();setInterval(function(){var n=g();if(n!==m){m=n;h(m);a()}},50);l=true;Ext.History.fireEvent("ready",Ext.History)}}return{fieldId:"x-history-field",iframeId:"x-history-frame",events:{},init:function(n,m){if(l){Ext.callback(n,m,[this]);return}if(!Ext.isReady){Ext.onReady(function(){Ext.History.init(n,m)});return}c=Ext.getDom(Ext.History.fieldId);if(Ext.isIE){e=Ext.getDom(Ext.History.iframeId)}this.addEvents("ready","change");if(n){this.on("ready",n,m,{single:true})}k()},add:function(m,n){if(n!==false){if(this.getToken()==m){return true}}if(Ext.isIE){return i(m)}else{top.location.hash=m;return true}},back:function(){history.go(-1)},forward:function(){history.go(1)},getToken:function(){return l?d:g()}}})();Ext.apply(Ext.History,new Ext.util.Observable());Ext.Tip=Ext.extend(Ext.Panel,{minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",autoRender:true,quickShowInterval:250,frame:true,hidden:true,baseCls:"x-tip",floating:{shadow:true,shim:true,useDisplay:true,constrain:false},autoHeight:true,closeAction:"hide",initComponent:function(){Ext.Tip.superclass.initComponent.call(this);if(this.closable&&!this.title){this.elements+=",header"}},afterRender:function(){Ext.Tip.superclass.afterRender.call(this);if(this.closable){this.addTool({id:"close",handler:this[this.closeAction],scope:this})}},showAt:function(a){Ext.Tip.superclass.show.call(this);if(this.measureWidth!==false&&(!this.initialConfig||typeof this.initialConfig.width!="number")){this.doAutoWidth()}if(this.constrainPosition){a=this.el.adjustForConstraints(a)}this.setPagePosition(a[0],a[1])},doAutoWidth:function(a){a=a||0;var b=this.body.getTextWidth();if(this.title){b=Math.max(b,this.header.child("span").getTextWidth(this.title))}b+=this.getFrameWidth()+(this.closable?20:0)+this.body.getPadding("lr")+a;this.setWidth(b.constrain(this.minWidth,this.maxWidth));if(Ext.isIE7&&!this.repainted){this.el.repaint();this.repainted=true}},showBy:function(a,b){if(!this.rendered){this.render(Ext.getBody())}this.showAt(this.el.getAlignToXY(a,b||this.defaultAlign))},initDraggable:function(){this.dd=new Ext.Tip.DD(this,typeof this.draggable=="boolean"?null:this.draggable);this.header.addClass("x-tip-draggable")}});Ext.reg("tip",Ext.Tip);Ext.Tip.DD=function(b,a){Ext.apply(this,a);this.tip=b;Ext.Tip.DD.superclass.constructor.call(this,b.el.id,"WindowDD-"+b.id);this.setHandleElId(b.header.id);this.scroll=false};Ext.extend(Ext.Tip.DD,Ext.dd.DD,{moveOnly:true,scroll:false,headerOffsets:[100,25],startDrag:function(){this.tip.el.disableShadow()},endDrag:function(a){this.tip.el.enableShadow(true)}});Ext.ToolTip=Ext.extend(Ext.Tip,{showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,constrainPosition:false,initComponent:function(){Ext.ToolTip.superclass.initComponent.call(this);this.lastActive=new Date();this.initTarget(this.target);this.origAnchor=this.anchor},onRender:function(b,a){Ext.ToolTip.superclass.onRender.call(this,b,a);this.anchorCls="x-tip-anchor-"+this.getAnchorPosition();this.anchorEl=this.el.createChild({cls:"x-tip-anchor "+this.anchorCls})},afterRender:function(){Ext.ToolTip.superclass.afterRender.call(this);this.anchorEl.setStyle("z-index",this.el.getZIndex()+1).setVisibilityMode(Ext.Element.DISPLAY)},initTarget:function(c){var a;if((a=Ext.get(c))){if(this.target){var b=Ext.get(this.target);this.mun(b,"mouseover",this.onTargetOver,this);this.mun(b,"mouseout",this.onTargetOut,this);this.mun(b,"mousemove",this.onMouseMove,this)}this.mon(a,{mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this});this.target=a}if(this.anchor){this.anchorTarget=this.target}},onMouseMove:function(b){var a=this.delegate?b.getTarget(this.delegate):this.triggerElement=true;if(a){this.targetXY=b.getXY();if(a===this.triggerElement){if(!this.hidden&&this.trackMouse){this.setPagePosition(this.getTargetXY())}}else{this.hide();this.lastActive=new Date(0);this.onTargetOver(b)}}else{if(!this.closable&&this.isVisible()){this.hide()}}},getTargetXY:function(){if(this.delegate){this.anchorTarget=this.triggerElement}if(this.anchor){this.targetCounter++;var c=this.getOffsets(),m=(this.anchorToTarget&&!this.trackMouse)?this.el.getAlignToXY(this.anchorTarget,this.getAnchorAlign()):this.targetXY,a=Ext.lib.Dom.getViewWidth()-5,h=Ext.lib.Dom.getViewHeight()-5,i=document.documentElement,e=document.body,l=(i.scrollLeft||e.scrollLeft||0)+5,k=(i.scrollTop||e.scrollTop||0)+5,b=[m[0]+c[0],m[1]+c[1]],g=this.getSize();this.anchorEl.removeClass(this.anchorCls);if(this.targetCounter<2){if(b[0]<l){if(this.anchorToTarget){this.defaultAlign="l-r";if(this.mouseOffset){this.mouseOffset[0]*=-1}}this.anchor="left";return this.getTargetXY()}if(b[0]+g.width>a){if(this.anchorToTarget){this.defaultAlign="r-l";if(this.mouseOffset){this.mouseOffset[0]*=-1}}this.anchor="right";return this.getTargetXY()}if(b[1]<k){if(this.anchorToTarget){this.defaultAlign="t-b";if(this.mouseOffset){this.mouseOffset[1]*=-1}}this.anchor="top";return this.getTargetXY()}if(b[1]+g.height>h){if(this.anchorToTarget){this.defaultAlign="b-t";if(this.mouseOffset){this.mouseOffset[1]*=-1}}this.anchor="bottom";return this.getTargetXY()}}this.anchorCls="x-tip-anchor-"+this.getAnchorPosition();this.anchorEl.addClass(this.anchorCls);this.targetCounter=0;return b}else{var d=this.getMouseOffset();return[this.targetXY[0]+d[0],this.targetXY[1]+d[1]]}},getMouseOffset:function(){var a=this.anchor?[0,0]:[15,18];if(this.mouseOffset){a[0]+=this.mouseOffset[0];a[1]+=this.mouseOffset[1]}return a},getAnchorPosition:function(){if(this.anchor){this.tipAnchor=this.anchor.charAt(0)}else{var a=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!a){throw"AnchorTip.defaultAlign is invalid"}this.tipAnchor=a[1].charAt(0)}switch(this.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var b,a=this.getAnchorPosition().charAt(0);if(this.anchorToTarget&&!this.trackMouse){switch(a){case"t":b=[0,9];break;case"b":b=[0,-13];break;case"r":b=[-13,0];break;default:b=[9,0];break}}else{switch(a){case"t":b=[-15-this.anchorOffset,30];break;case"b":b=[-19-this.anchorOffset,-13-this.el.dom.offsetHeight];break;case"r":b=[-15-this.el.dom.offsetWidth,-13-this.anchorOffset];break;default:b=[25,-13-this.anchorOffset];break}}var c=this.getMouseOffset();b[0]+=c[0];b[1]+=c[1];return b},onTargetOver:function(b){if(this.disabled||b.within(this.target.dom,true)){return}var a=b.getTarget(this.delegate);if(a){this.triggerElement=a;this.clearTimer("hide");this.targetXY=b.getXY();this.delayShow()}},delayShow:function(){if(this.hidden&&!this.showTimer){if(this.lastActive.getElapsed()<this.quickShowInterval){this.show()}else{this.showTimer=this.show.defer(this.showDelay,this)}}else{if(!this.hidden&&this.autoHide!==false){this.show()}}},onTargetOut:function(a){if(this.disabled||a.within(this.target.dom,true)){return}this.clearTimer("show");if(this.autoHide!==false){this.delayHide()}},delayHide:function(){if(!this.hidden&&!this.hideTimer){this.hideTimer=this.hide.defer(this.hideDelay,this)}},hide:function(){this.clearTimer("dismiss");this.lastActive=new Date();if(this.anchorEl){this.anchorEl.hide()}Ext.ToolTip.superclass.hide.call(this);delete this.triggerElement},show:function(){if(this.anchor){this.showAt([-1000,-1000]);this.origConstrainPosition=this.constrainPosition;this.constrainPosition=false;this.anchor=this.origAnchor}this.showAt(this.getTargetXY());if(this.anchor){this.anchorEl.show();this.syncAnchor();this.constrainPosition=this.origConstrainPosition}else{this.anchorEl.hide()}},showAt:function(a){this.lastActive=new Date();this.clearTimers();Ext.ToolTip.superclass.showAt.call(this,a);if(this.dismissDelay&&this.autoHide!==false){this.dismissTimer=this.hide.defer(this.dismissDelay,this)}if(this.anchor&&!this.anchorEl.isVisible()){this.syncAnchor();this.anchorEl.show()}else{this.anchorEl.hide()}},syncAnchor:function(){var a,b,c;switch(this.tipAnchor.charAt(0)){case"t":a="b";b="tl";c=[20+this.anchorOffset,2];break;case"r":a="l";b="tr";c=[-2,11+this.anchorOffset];break;case"b":a="t";b="bl";c=[20+this.anchorOffset,-2];break;default:a="r";b="tl";c=[2,11+this.anchorOffset];break}this.anchorEl.alignTo(this.el,a+"-"+b,c)},setPagePosition:function(a,b){Ext.ToolTip.superclass.setPagePosition.call(this,a,b);if(this.anchor){this.syncAnchor()}},clearTimer:function(a){a=a+"Timer";clearTimeout(this[a]);delete this[a]},clearTimers:function(){this.clearTimer("show");this.clearTimer("dismiss");this.clearTimer("hide")},onShow:function(){Ext.ToolTip.superclass.onShow.call(this);Ext.getDoc().on("mousedown",this.onDocMouseDown,this)},onHide:function(){Ext.ToolTip.superclass.onHide.call(this);Ext.getDoc().un("mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(a){if(this.autoHide!==true&&!this.closable&&!a.within(this.el.dom)){this.disable();this.doEnable.defer(100,this)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.clearTimers();this.hide()},adjustPosition:function(a,d){if(this.contstrainPosition){var c=this.targetXY[1],b=this.getSize().height;if(d<=c&&(d+b)>=c){d=c-b-5}}return{x:a,y:d}},beforeDestroy:function(){this.clearTimers();Ext.destroy(this.anchorEl);delete this.anchorEl;delete this.target;delete this.anchorTarget;delete this.triggerElement;Ext.ToolTip.superclass.beforeDestroy.call(this)},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);Ext.ToolTip.superclass.onDestroy.call(this)}});Ext.reg("tooltip",Ext.ToolTip);Ext.QuickTip=Ext.extend(Ext.ToolTip,{interceptTitles:false,tagConfig:{namespace:"ext",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};Ext.QuickTip.superclass.initComponent.call(this)},register:function(e){var h=Ext.isArray(e)?e:arguments;for(var g=0,a=h.length;g<a;g++){var l=h[g];var k=l.target;if(k){if(Ext.isArray(k)){for(var d=0,b=k.length;d<b;d++){this.targets[Ext.id(k[d])]=l}}else{this.targets[Ext.id(k)]=l}}}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(b){var a=this.activeTarget;b=Ext.get(b).dom;if(this.isVisible()){if(a&&a.el==b){this.hide()}}else{if(a&&a.el==b){this.clearTimer("show")}}},getTipCfg:function(d){var b=d.getTarget(),c,a;if(this.interceptTitles&&b.title&&Ext.isString(b.title)){c=b.title;b.qtip=c;b.removeAttribute("title");d.preventDefault()}else{a=this.tagConfig;c=b.qtip||Ext.fly(b).getAttribute(a.attribute,a.namespace)}return c},onTargetOver:function(i){if(this.disabled){return}this.targetXY=i.getXY();var c=i.getTarget();if(!c||c.nodeType!==1||c==document||c==document.body){return}if(this.activeTarget&&((c==this.activeTarget.el)||Ext.fly(this.activeTarget.el).contains(c))){this.clearTimer("hide");this.show();return}if(c&&this.targets[c.id]){this.activeTarget=this.targets[c.id];this.activeTarget.el=c;this.anchor=this.activeTarget.anchor;if(this.anchor){this.anchorTarget=c}this.delayShow();return}var g,h=Ext.fly(c),b=this.tagConfig,d=b.namespace;if(g=this.getTipCfg(i)){var a=h.getAttribute(b.hide,d);this.activeTarget={el:c,text:g,width:h.getAttribute(b.width,d),autoHide:a!="user"&&a!=="false",title:h.getAttribute(b.title,d),cls:h.getAttribute(b.cls,d),align:h.getAttribute(b.align,d)};this.anchor=h.getAttribute(b.anchor,d);if(this.anchor){this.anchorTarget=c}this.delayShow()}},onTargetOut:function(a){if(this.activeTarget&&a.within(this.activeTarget.el)&&!this.getTipCfg(a)){return}this.clearTimer("show");if(this.autoHide!==false){this.delayHide()}},showAt:function(b){var a=this.activeTarget;if(a){if(!this.rendered){this.render(Ext.getBody());this.activeTarget=a}if(a.width){this.setWidth(a.width);this.body.setWidth(this.adjustBodyWidth(a.width-this.getFrameWidth()));this.measureWidth=false}else{this.measureWidth=true}this.setTitle(a.title||"");this.body.update(a.text);this.autoHide=a.autoHide;this.dismissDelay=a.dismissDelay||this.dismissDelay;if(this.lastCls){this.el.removeClass(this.lastCls);delete this.lastCls}if(a.cls){this.el.addClass(a.cls);this.lastCls=a.cls}if(this.anchor){this.constrainPosition=false}else{if(a.align){b=this.el.getAlignToXY(a.el,a.align);this.constrainPosition=false}else{this.constrainPosition=true}}}Ext.QuickTip.superclass.showAt.call(this,b)},hide:function(){delete this.activeTarget;Ext.QuickTip.superclass.hide.call(this)}});Ext.reg("quicktip",Ext.QuickTip);Ext.QuickTips=function(){var b,a=false;return{init:function(c){if(!b){if(!Ext.isReady){Ext.onReady(function(){Ext.QuickTips.init(c)});return}b=new Ext.QuickTip({elements:"header,body",disabled:a});if(c!==false){b.render(Ext.getBody())}}},ddDisable:function(){if(b&&!a){b.disable()}},ddEnable:function(){if(b&&!a){b.enable()}},enable:function(){if(b){b.enable()}a=false},disable:function(){if(b){b.disable()}a=true},isEnabled:function(){return b!==undefined&&!b.disabled},getQuickTip:function(){return b},register:function(){b.register.apply(b,arguments)},unregister:function(){b.unregister.apply(b,arguments)},tips:function(){b.register.apply(b,arguments)}}}();Ext.slider.Tip=Ext.extend(Ext.Tip,{minWidth:10,offsets:[0,-10],init:function(a){a.on({scope:this,dragstart:this.onSlide,drag:this.onSlide,dragend:this.hide,destroy:this.destroy})},onSlide:function(b,c,a){this.show();this.body.update(this.getText(a));this.doAutoWidth();this.el.alignTo(a.el,"b-t?",this.offsets)},getText:function(a){return String(a.value)}});Ext.ux.SliderTip=Ext.slider.Tip;Ext.tree.TreePanel=Ext.extend(Ext.Panel,{rootVisible:true,animate:Ext.enableFx,lines:true,enableDD:false,hlDrop:Ext.enableFx,pathSeparator:"/",bubbleEvents:[],initComponent:function(){Ext.tree.TreePanel.superclass.initComponent.call(this);if(!this.eventModel){this.eventModel=new Ext.tree.TreeEventModel(this)}var a=this.loader;if(!a){a=new Ext.tree.TreeLoader({dataUrl:this.dataUrl,requestMethod:this.requestMethod})}else{if(Ext.isObject(a)&&!a.load){a=new Ext.tree.TreeLoader(a)}}this.loader=a;this.nodeHash={};if(this.root){var b=this.root;delete this.root;this.setRootNode(b)}this.addEvents("append","remove","movenode","insert","beforeappend","beforeremove","beforemovenode","beforeinsert","beforeload","load","textchange","beforeexpandnode","beforecollapsenode","expandnode","disabledchange","collapsenode","beforeclick","click","containerclick","checkchange","beforedblclick","dblclick","containerdblclick","contextmenu","containercontextmenu","beforechildrenrendered","startdrag","enddrag","dragdrop","beforenodedrop","nodedrop","nodedragover");if(this.singleExpand){this.on("beforeexpandnode",this.restrictExpand,this)}},proxyNodeEvent:function(c,b,a,h,g,e,d){if(c=="collapse"||c=="expand"||c=="beforecollapse"||c=="beforeexpand"||c=="move"||c=="beforemove"){c=c+"node"}return this.fireEvent(c,b,a,h,g,e,d)},getRootNode:function(){return this.root},setRootNode:function(b){this.destroyRoot();if(!b.render){b=this.loader.createNode(b)}this.root=b;b.ownerTree=this;b.isRoot=true;this.registerNode(b);if(!this.rootVisible){var a=b.attributes.uiProvider;b.ui=a?new a(b):new Ext.tree.RootTreeNodeUI(b)}if(this.innerCt){this.clearInnerCt();this.renderRoot()}return b},clearInnerCt:function(){this.innerCt.update("")},renderRoot:function(){this.root.render();if(!this.rootVisible){this.root.renderChildren()}},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a){this.nodeHash[a.id]=a},unregisterNode:function(a){delete this.nodeHash[a.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"},restrictExpand:function(a){var b=a.parentNode;if(b){if(b.expandedChild&&b.expandedChild.parentNode==b){b.expandedChild.collapse()}b.expandedChild=a}},getChecked:function(b,c){c=c||this.root;var d=[];var e=function(){if(this.attributes.checked){d.push(!b?this:(b=="id"?this.id:this.attributes[b]))}};c.cascade(e);return d},getLoader:function(){return this.loader},expandAll:function(){this.root.expand(true)},collapseAll:function(){this.root.collapse(true)},getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.tree.DefaultSelectionModel()}return this.selModel},expandPath:function(g,a,h){if(Ext.isEmpty(g)){if(h){h(false,undefined)}return}a=a||"id";var d=g.split(this.pathSeparator);var c=this.root;if(c.attributes[a]!=d[1]){if(h){h(false,null)}return}var b=1;var e=function(){if(++b==d.length){if(h){h(true,c)}return}var i=c.findChild(a,d[b]);if(!i){if(h){h(false,c)}return}c=i;i.expand(false,false,e)};c.expand(false,false,e)},selectPath:function(e,a,g){if(Ext.isEmpty(e)){if(g){g(false,undefined)}return}a=a||"id";var c=e.split(this.pathSeparator),b=c.pop();if(c.length>1){var d=function(i,h){if(i&&h){var k=h.findChild(a,b);if(k){k.select();if(g){g(true,k)}}else{if(g){g(false,k)}}}else{if(g){g(false,k)}}};this.expandPath(c.join(this.pathSeparator),a,d)}else{this.root.select();if(g){g(true,this.root)}}},getTreeEl:function(){return this.body},onRender:function(b,a){Ext.tree.TreePanel.superclass.onRender.call(this,b,a);this.el.addClass("x-tree");this.innerCt=this.body.createChild({tag:"ul",cls:"x-tree-root-ct "+(this.useArrows?"x-tree-arrows":this.lines?"x-tree-lines":"x-tree-no-lines")})},initEvents:function(){Ext.tree.TreePanel.superclass.initEvents.call(this);if(this.containerScroll){Ext.dd.ScrollManager.register(this.body)}if((this.enableDD||this.enableDrop)&&!this.dropZone){this.dropZone=new Ext.tree.TreeDropZone(this,this.dropConfig||{ddGroup:this.ddGroup||"TreeDD",appendOnly:this.ddAppendOnly===true})}if((this.enableDD||this.enableDrag)&&!this.dragZone){this.dragZone=new Ext.tree.TreeDragZone(this,this.dragConfig||{ddGroup:this.ddGroup||"TreeDD",scroll:this.ddScroll})}this.getSelectionModel().init(this)},afterRender:function(){Ext.tree.TreePanel.superclass.afterRender.call(this);this.renderRoot()},beforeDestroy:function(){if(this.rendered){Ext.dd.ScrollManager.unregister(this.body);Ext.destroy(this.dropZone,this.dragZone)}this.destroyRoot();Ext.destroy(this.loader);this.nodeHash=this.root=this.loader=null;Ext.tree.TreePanel.superclass.beforeDestroy.call(this)},destroyRoot:function(){if(this.root&&this.root.destroy){this.root.destroy(true)}}});Ext.tree.TreePanel.nodeTypes={};Ext.reg("treepanel",Ext.tree.TreePanel);Ext.tree.TreeEventModel=function(a){this.tree=a;this.tree.on("render",this.initEvents,this)};Ext.tree.TreeEventModel.prototype={initEvents:function(){var a=this.tree;if(a.trackMouseOver!==false){a.mon(a.innerCt,{scope:this,mouseover:this.delegateOver,mouseout:this.delegateOut})}a.mon(a.getTreeEl(),{scope:this,click:this.delegateClick,dblclick:this.delegateDblClick,contextmenu:this.delegateContextMenu})},getNode:function(b){var a;if(a=b.getTarget(".x-tree-node-el",10)){var c=Ext.fly(a,"_treeEvents").getAttribute("tree-node-id","ext");if(c){return this.tree.getNodeById(c)}}return null},getNodeTarget:function(b){var a=b.getTarget(".x-tree-node-icon",1);if(!a){a=b.getTarget(".x-tree-node-el",6)}return a},delegateOut:function(b,a){if(!this.beforeEvent(b)){return}if(b.getTarget(".x-tree-ec-icon",1)){var c=this.getNode(b);this.onIconOut(b,c);if(c==this.lastEcOver){delete this.lastEcOver}}if((a=this.getNodeTarget(b))&&!b.within(a,true)){this.onNodeOut(b,this.getNode(b))}},delegateOver:function(b,a){if(!this.beforeEvent(b)){return}if(Ext.isGecko&&!this.trackingDoc){Ext.getBody().on("mouseover",this.trackExit,this);this.trackingDoc=true}if(this.lastEcOver){this.onIconOut(b,this.lastEcOver);delete this.lastEcOver}if(b.getTarget(".x-tree-ec-icon",1)){this.lastEcOver=this.getNode(b);this.onIconOver(b,this.lastEcOver)}if(a=this.getNodeTarget(b)){this.onNodeOver(b,this.getNode(b))}},trackExit:function(a){if(this.lastOverNode){if(this.lastOverNode.ui&&!a.within(this.lastOverNode.ui.getEl())){this.onNodeOut(a,this.lastOverNode)}delete this.lastOverNode;Ext.getBody().un("mouseover",this.trackExit,this);this.trackingDoc=false}},delegateClick:function(b,a){if(this.beforeEvent(b)){if(b.getTarget("input[type=checkbox]",1)){this.onCheckboxClick(b,this.getNode(b))}else{if(b.getTarget(".x-tree-ec-icon",1)){this.onIconClick(b,this.getNode(b))}else{if(this.getNodeTarget(b)){this.onNodeClick(b,this.getNode(b))}}}}else{this.checkContainerEvent(b,"click")}},delegateDblClick:function(b,a){if(this.beforeEvent(b)){if(this.getNodeTarget(b)){this.onNodeDblClick(b,this.getNode(b))}}else{this.checkContainerEvent(b,"dblclick")}},delegateContextMenu:function(b,a){if(this.beforeEvent(b)){if(this.getNodeTarget(b)){this.onNodeContextMenu(b,this.getNode(b))}}else{this.checkContainerEvent(b,"contextmenu")}},checkContainerEvent:function(b,a){if(this.disabled){b.stopEvent();return false}this.onContainerEvent(b,a)},onContainerEvent:function(b,a){this.tree.fireEvent("container"+a,this.tree,b)},onNodeClick:function(b,a){a.ui.onClick(b)},onNodeOver:function(b,a){this.lastOverNode=a;a.ui.onOver(b)},onNodeOut:function(b,a){a.ui.onOut(b)},onIconOver:function(b,a){a.ui.addClass("x-tree-ec-over")},onIconOut:function(b,a){a.ui.removeClass("x-tree-ec-over")},onIconClick:function(b,a){a.ui.ecClick(b)},onCheckboxClick:function(b,a){a.ui.onCheckChange(b)},onNodeDblClick:function(b,a){a.ui.onDblClick(b)},onNodeContextMenu:function(b,a){a.ui.onContextMenu(b)},beforeEvent:function(b){var a=this.getNode(b);if(this.disabled||!a||!a.ui){b.stopEvent();return false}return true},disable:function(){this.disabled=true},enable:function(){this.disabled=false}};Ext.tree.DefaultSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(a){this.selNode=null;this.addEvents("selectionchange","beforeselect");Ext.apply(this,a);Ext.tree.DefaultSelectionModel.superclass.constructor.call(this)},init:function(a){this.tree=a;a.mon(a.getTreeEl(),"keydown",this.onKeyDown,this);a.on("click",this.onNodeClick,this)},onNodeClick:function(a,b){this.select(a)},select:function(c,a){if(!Ext.fly(c.ui.wrap).isVisible()&&a){return a.call(this,c)}var b=this.selNode;if(c==b){c.ui.onSelectedChange(true)}else{if(this.fireEvent("beforeselect",this,c,b)!==false){if(b&&b.ui){b.ui.onSelectedChange(false)}this.selNode=c;c.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,c,b)}}return c},unselect:function(b,a){if(this.selNode==b){this.clearSelections(a)}},clearSelections:function(a){var b=this.selNode;if(b){b.ui.onSelectedChange(false);this.selNode=null;if(a!==true){this.fireEvent("selectionchange",this,null)}}return b},getSelectedNode:function(){return this.selNode},isSelected:function(a){return this.selNode==a},selectPrevious:function(a){if(!(a=a||this.selNode||this.lastSelNode)){return null}var c=a.previousSibling;if(c){if(!c.isExpanded()||c.childNodes.length<1){return this.select(c,this.selectPrevious)}else{var b=c.lastChild;while(b&&b.isExpanded()&&Ext.fly(b.ui.wrap).isVisible()&&b.childNodes.length>0){b=b.lastChild}return this.select(b,this.selectPrevious)}}else{if(a.parentNode&&(this.tree.rootVisible||!a.parentNode.isRoot)){return this.select(a.parentNode,this.selectPrevious)}}return null},selectNext:function(b){if(!(b=b||this.selNode||this.lastSelNode)){return null}if(b.firstChild&&b.isExpanded()&&Ext.fly(b.ui.wrap).isVisible()){return this.select(b.firstChild,this.selectNext)}else{if(b.nextSibling){return this.select(b.nextSibling,this.selectNext)}else{if(b.parentNode){var a=null;b.parentNode.bubble(function(){if(this.nextSibling){a=this.getOwnerTree().selModel.select(this.nextSibling,this.selectNext);return false}});return a}}}return null},onKeyDown:function(c){var b=this.selNode||this.lastSelNode;var d=this;if(!b){return}var a=c.getKey();switch(a){case c.DOWN:c.stopEvent();this.selectNext();break;case c.UP:c.stopEvent();this.selectPrevious();break;case c.RIGHT:c.preventDefault();if(b.hasChildNodes()){if(!b.isExpanded()){b.expand()}else{if(b.firstChild){this.select(b.firstChild,c)}}}break;case c.LEFT:c.preventDefault();if(b.hasChildNodes()&&b.isExpanded()){b.collapse()}else{if(b.parentNode&&(this.tree.rootVisible||b.parentNode!=this.tree.getRootNode())){this.select(b.parentNode,c)}}break}}});Ext.tree.MultiSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(a){this.selNodes=[];this.selMap={};this.addEvents("selectionchange");Ext.apply(this,a);Ext.tree.MultiSelectionModel.superclass.constructor.call(this)},init:function(a){this.tree=a;a.mon(a.getTreeEl(),"keydown",this.onKeyDown,this);a.on("click",this.onNodeClick,this)},onNodeClick:function(a,b){if(b.ctrlKey&&this.isSelected(a)){this.unselect(a)}else{this.select(a,b,b.ctrlKey)}},select:function(a,c,b){if(b!==true){this.clearSelections(true)}if(this.isSelected(a)){this.lastSelNode=a;return a}this.selNodes.push(a);this.selMap[a.id]=a;this.lastSelNode=a;a.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,this.selNodes);return a},unselect:function(b){if(this.selMap[b.id]){b.ui.onSelectedChange(false);var c=this.selNodes;var a=c.indexOf(b);if(a!=-1){this.selNodes.splice(a,1)}delete this.selMap[b.id];this.fireEvent("selectionchange",this,this.selNodes)}},clearSelections:function(b){var d=this.selNodes;if(d.length>0){for(var c=0,a=d.length;c<a;c++){d[c].ui.onSelectedChange(false)}this.selNodes=[];this.selMap={};if(b!==true){this.fireEvent("selectionchange",this,this.selNodes)}}},isSelected:function(a){return this.selMap[a.id]?true:false},getSelectedNodes:function(){return this.selNodes.concat([])},onKeyDown:Ext.tree.DefaultSelectionModel.prototype.onKeyDown,selectNext:Ext.tree.DefaultSelectionModel.prototype.selectNext,selectPrevious:Ext.tree.DefaultSelectionModel.prototype.selectPrevious});Ext.data.Tree=Ext.extend(Ext.util.Observable,{constructor:function(a){this.nodeHash={};this.root=null;if(a){this.setRootNode(a)}this.addEvents("append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert");Ext.data.Tree.superclass.constructor.call(this)},pathSeparator:"/",proxyNodeEvent:function(){return this.fireEvent.apply(this,arguments)},getRootNode:function(){return this.root},setRootNode:function(a){this.root=a;a.ownerTree=this;a.isRoot=true;this.registerNode(a);return a},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a){this.nodeHash[a.id]=a},unregisterNode:function(a){delete this.nodeHash[a.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"}});Ext.data.Node=Ext.extend(Ext.util.Observable,{constructor:function(a){this.attributes=a||{};this.leaf=this.attributes.leaf;this.id=this.attributes.id;if(!this.id){this.id=Ext.id(null,"xnode-");this.attributes.id=this.id}this.childNodes=[];this.parentNode=null;this.firstChild=null;this.lastChild=null;this.previousSibling=null;this.nextSibling=null;this.addEvents({append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true});this.listeners=this.attributes.listeners;Ext.data.Node.superclass.constructor.call(this)},fireEvent:function(b){if(Ext.data.Node.superclass.fireEvent.apply(this,arguments)===false){return false}var a=this.getOwnerTree();if(a){if(a.proxyNodeEvent.apply(a,arguments)===false){return false}}return true},isLeaf:function(){return this.leaf===true},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},isLast:function(){return(!this.parentNode?true:this.parentNode.lastChild==this)},isFirst:function(){return(!this.parentNode?true:this.parentNode.firstChild==this)},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){return this.attributes.expandable||this.hasChildNodes()},appendChild:function(e){var g=false;if(Ext.isArray(e)){g=e}else{if(arguments.length>1){g=arguments}}if(g){for(var d=0,a=g.length;d<a;d++){this.appendChild(g[d])}}else{if(this.fireEvent("beforeappend",this.ownerTree,this,e)===false){return false}var b=this.childNodes.length;var c=e.parentNode;if(c){if(e.fireEvent("beforemove",e.getOwnerTree(),e,c,this,b)===false){return false}c.removeChild(e)}b=this.childNodes.length;if(b===0){this.setFirstChild(e)}this.childNodes.push(e);e.parentNode=this;var h=this.childNodes[b-1];if(h){e.previousSibling=h;h.nextSibling=e}else{e.previousSibling=null}e.nextSibling=null;this.setLastChild(e);e.setOwnerTree(this.getOwnerTree());this.fireEvent("append",this.ownerTree,this,e,b);if(c){e.fireEvent("move",this.ownerTree,e,c,this,b)}return e}},removeChild:function(c,b){var a=this.childNodes.indexOf(c);if(a==-1){return false}if(this.fireEvent("beforeremove",this.ownerTree,this,c)===false){return false}this.childNodes.splice(a,1);if(c.previousSibling){c.previousSibling.nextSibling=c.nextSibling}if(c.nextSibling){c.nextSibling.previousSibling=c.previousSibling}if(this.firstChild==c){this.setFirstChild(c.nextSibling)}if(this.lastChild==c){this.setLastChild(c.previousSibling)}this.fireEvent("remove",this.ownerTree,this,c);if(b){c.destroy(true)}else{c.clear()}return c},clear:function(a){this.setOwnerTree(null,a);this.parentNode=this.previousSibling=this.nextSibling=null;if(a){this.firstChild=this.lastChild=null}},destroy:function(a){if(a===true){this.purgeListeners();this.clear(true);Ext.each(this.childNodes,function(b){b.destroy(true)});this.childNodes=null}else{this.remove(true)}},insertBefore:function(d,a){if(!a){return this.appendChild(d)}if(d==a){return false}if(this.fireEvent("beforeinsert",this.ownerTree,this,d,a)===false){return false}var b=this.childNodes.indexOf(a);var c=d.parentNode;var e=b;if(c==this&&this.childNodes.indexOf(d)<b){e--}if(c){if(d.fireEvent("beforemove",d.getOwnerTree(),d,c,this,b,a)===false){return false}c.removeChild(d)}if(e===0){this.setFirstChild(d)}this.childNodes.splice(e,0,d);d.parentNode=this;var g=this.childNodes[e-1];if(g){d.previousSibling=g;g.nextSibling=d}else{d.previousSibling=null}d.nextSibling=a;a.previousSibling=d;d.setOwnerTree(this.getOwnerTree());this.fireEvent("insert",this.ownerTree,this,d,a);if(c){d.fireEvent("move",this.ownerTree,d,c,this,e,a)}return d},remove:function(a){if(this.parentNode){this.parentNode.removeChild(this,a)}return this},removeAll:function(a){var c=this.childNodes,b;while((b=c[0])){this.removeChild(b,a)}return this},item:function(a){return this.childNodes[a]},replaceChild:function(a,c){var b=c?c.nextSibling:null;this.removeChild(c);this.insertBefore(a,b);return c},indexOf:function(a){return this.childNodes.indexOf(a)},getOwnerTree:function(){if(!this.ownerTree){var a=this;while(a){if(a.ownerTree){this.ownerTree=a.ownerTree;break}a=a.parentNode}}return this.ownerTree},getDepth:function(){var b=0;var a=this;while(a.parentNode){++b;a=a.parentNode}return b},setOwnerTree:function(a,b){if(a!=this.ownerTree){if(this.ownerTree){this.ownerTree.unregisterNode(this)}this.ownerTree=a;if(b!==true){Ext.each(this.childNodes,function(c){c.setOwnerTree(a)})}if(a){a.registerNode(this)}}},setId:function(b){if(b!==this.id){var a=this.ownerTree;if(a){a.unregisterNode(this)}this.id=this.attributes.id=b;if(a){a.registerNode(this)}this.onIdChange(b)}},onIdChange:Ext.emptyFn,getPath:function(c){c=c||"id";var e=this.parentNode;var a=[this.attributes[c]];while(e){a.unshift(e.attributes[c]);e=e.parentNode}var d=this.getOwnerTree().pathSeparator;return d+a.join(d)},bubble:function(c,b,a){var d=this;while(d){if(c.apply(b||d,a||[d])===false){break}d=d.parentNode}},cascade:function(g,e,b){if(g.apply(e||this,b||[this])!==false){var d=this.childNodes;for(var c=0,a=d.length;c<a;c++){d[c].cascade(g,e,b)}}},eachChild:function(g,e,b){var d=this.childNodes;for(var c=0,a=d.length;c<a;c++){if(g.apply(e||d[c],b||[d[c]])===false){break}}},findChild:function(b,c,a){return this.findChildBy(function(){return this.attributes[b]==c},null,a)},findChildBy:function(h,g,b){var e=this.childNodes,a=e.length,d=0,k,c;for(;d<a;d++){k=e[d];if(h.call(g||k,k)===true){return k}else{if(b){c=k.findChildBy(h,g,b);if(c!=null){return c}}}}return null},sort:function(e,d){var c=this.childNodes;var a=c.length;if(a>0){var g=d?function(){e.apply(d,arguments)}:e;c.sort(g);for(var b=0;b<a;b++){var h=c[b];h.previousSibling=c[b-1];h.nextSibling=c[b+1];if(b===0){this.setFirstChild(h)}if(b==a-1){this.setLastChild(h)}}}},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){var b=this.parentNode;while(b){if(b==a){return true}b=b.parentNode}return false},toString:function(){return"[Node"+(this.id?" "+this.id:"")+"]"}});Ext.tree.TreeNode=Ext.extend(Ext.data.Node,{constructor:function(a){a=a||{};if(Ext.isString(a)){a={text:a}}this.childrenRendered=false;this.rendered=false;Ext.tree.TreeNode.superclass.constructor.call(this,a);this.expanded=a.expanded===true;this.isTarget=a.isTarget!==false;this.draggable=a.draggable!==false&&a.allowDrag!==false;this.allowChildren=a.allowChildren!==false&&a.allowDrop!==false;this.text=a.text;this.disabled=a.disabled===true;this.hidden=a.hidden===true;this.addEvents("textchange","beforeexpand","beforecollapse","expand","disabledchange","collapse","beforeclick","click","checkchange","beforedblclick","dblclick","contextmenu","beforechildrenrendered");var b=this.attributes.uiProvider||this.defaultUI||Ext.tree.TreeNodeUI;this.ui=new b(this)},preventHScroll:true,isExpanded:function(){return this.expanded},getUI:function(){return this.ui},getLoader:function(){var a;return this.loader||((a=this.getOwnerTree())&&a.loader?a.loader:(this.loader=new Ext.tree.TreeLoader()))},setFirstChild:function(a){var b=this.firstChild;Ext.tree.TreeNode.superclass.setFirstChild.call(this,a);if(this.childrenRendered&&b&&a!=b){b.renderIndent(true,true)}if(this.rendered){this.renderIndent(true,true)}},setLastChild:function(b){var a=this.lastChild;Ext.tree.TreeNode.superclass.setLastChild.call(this,b);if(this.childrenRendered&&a&&b!=a){a.renderIndent(true,true)}if(this.rendered){this.renderIndent(true,true)}},appendChild:function(b){if(!b.render&&!Ext.isArray(b)){b=this.getLoader().createNode(b)}var a=Ext.tree.TreeNode.superclass.appendChild.call(this,b);if(a&&this.childrenRendered){a.render()}this.ui.updateExpandIcon();return a},removeChild:function(b,a){this.ownerTree.getSelectionModel().unselect(b);Ext.tree.TreeNode.superclass.removeChild.apply(this,arguments);if(!a){var c=b.ui.rendered;if(c){b.ui.remove()}if(c&&this.childNodes.length<1){this.collapse(false,false)}else{this.ui.updateExpandIcon()}if(!this.firstChild&&!this.isHiddenRoot()){this.childrenRendered=false}}return b},insertBefore:function(c,a){if(!c.render){c=this.getLoader().createNode(c)}var b=Ext.tree.TreeNode.superclass.insertBefore.call(this,c,a);if(b&&a&&this.childrenRendered){c.render()}this.ui.updateExpandIcon();return b},setText:function(b){var a=this.text;this.text=this.attributes.text=b;if(this.rendered){this.ui.onTextChange(this,b,a)}this.fireEvent("textchange",this,b,a)},setIconCls:function(b){var a=this.attributes.iconCls;this.attributes.iconCls=b;if(this.rendered){this.ui.onIconClsChange(this,b,a)}},setTooltip:function(a,b){this.attributes.qtip=a;this.attributes.qtipTitle=b;if(this.rendered){this.ui.onTipChange(this,a,b)}},setIcon:function(a){this.attributes.icon=a;if(this.rendered){this.ui.onIconChange(this,a)}},setHref:function(a,b){this.attributes.href=a;this.attributes.hrefTarget=b;if(this.rendered){this.ui.onHrefChange(this,a,b)}},setCls:function(b){var a=this.attributes.cls;this.attributes.cls=b;if(this.rendered){this.ui.onClsChange(this,b,a)}},select:function(){var a=this.getOwnerTree();if(a){a.getSelectionModel().select(this)}},unselect:function(a){var b=this.getOwnerTree();if(b){b.getSelectionModel().unselect(this,a)}},isSelected:function(){var a=this.getOwnerTree();return a?a.getSelectionModel().isSelected(this):false},expand:function(a,c,d,b){if(!this.expanded){if(this.fireEvent("beforeexpand",this,a,c)===false){return}if(!this.childrenRendered){this.renderChildren()}this.expanded=true;if(!this.isHiddenRoot()&&(this.getOwnerTree().animate&&c!==false)||c){this.ui.animExpand(function(){this.fireEvent("expand",this);this.runCallback(d,b||this,[this]);if(a===true){this.expandChildNodes(true,true)}}.createDelegate(this));return}else{this.ui.expand();this.fireEvent("expand",this);this.runCallback(d,b||this,[this])}}else{this.runCallback(d,b||this,[this])}if(a===true){this.expandChildNodes(true)}},runCallback:function(a,c,b){if(Ext.isFunction(a)){a.apply(c,b)}},isHiddenRoot:function(){return this.isRoot&&!this.getOwnerTree().rootVisible},collapse:function(b,g,h,e){if(this.expanded&&!this.isHiddenRoot()){if(this.fireEvent("beforecollapse",this,b,g)===false){return}this.expanded=false;if((this.getOwnerTree().animate&&g!==false)||g){this.ui.animCollapse(function(){this.fireEvent("collapse",this);this.runCallback(h,e||this,[this]);if(b===true){this.collapseChildNodes(true)}}.createDelegate(this));return}else{this.ui.collapse();this.fireEvent("collapse",this);this.runCallback(h,e||this,[this])}}else{if(!this.expanded){this.runCallback(h,e||this,[this])}}if(b===true){var d=this.childNodes;for(var c=0,a=d.length;c<a;c++){d[c].collapse(true,false)}}},delayedExpand:function(a){if(!this.expandProcId){this.expandProcId=this.expand.defer(a,this)}},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId)}this.expandProcId=false},toggle:function(){if(this.expanded){this.collapse()}else{this.expand()}},ensureVisible:function(c,b){var a=this.getOwnerTree();a.expandPath(this.parentNode?this.parentNode.getPath():this.getPath(),false,function(){var d=a.getNodeById(this.id);a.getTreeEl().scrollChildIntoView(d.ui.anchor);this.runCallback(c,b||this,[this])}.createDelegate(this))},expandChildNodes:function(b,e){var d=this.childNodes,c,a=d.length;for(c=0;c<a;c++){d[c].expand(b,e)}},collapseChildNodes:function(b){var d=this.childNodes;for(var c=0,a=d.length;c<a;c++){d[c].collapse(b)}},disable:function(){this.disabled=true;this.unselect();if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,true)}this.fireEvent("disabledchange",this,true)},enable:function(){this.disabled=false;if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,false)}this.fireEvent("disabledchange",this,false)},renderChildren:function(b){if(b!==false){this.fireEvent("beforechildrenrendered",this)}var d=this.childNodes;for(var c=0,a=d.length;c<a;c++){d[c].render(true)}this.childrenRendered=true},sort:function(e,d){Ext.tree.TreeNode.superclass.sort.apply(this,arguments);if(this.childrenRendered){var c=this.childNodes;for(var b=0,a=c.length;b<a;b++){c[b].render(true)}}},render:function(a){this.ui.render(a);if(!this.rendered){this.getOwnerTree().registerNode(this);this.rendered=true;if(this.expanded){this.expanded=false;this.expand(false,false)}}},renderIndent:function(b,e){if(e){this.ui.childIndent=null}this.ui.renderIndent();if(b===true&&this.childrenRendered){var d=this.childNodes;for(var c=0,a=d.length;c<a;c++){d[c].renderIndent(true,e)}}},beginUpdate:function(){this.childrenRendered=false},endUpdate:function(){if(this.expanded&&this.rendered){this.renderChildren()}},destroy:function(a){if(a===true){this.unselect(true)}Ext.tree.TreeNode.superclass.destroy.call(this,a);Ext.destroy(this.ui,this.loader);this.ui=this.loader=null},onIdChange:function(a){this.ui.onIdChange(a)}});Ext.tree.TreePanel.nodeTypes.node=Ext.tree.TreeNode;Ext.tree.AsyncTreeNode=function(a){this.loaded=a&&a.loaded===true;this.loading=false;Ext.tree.AsyncTreeNode.superclass.constructor.apply(this,arguments);this.addEvents("beforeload","load")};Ext.extend(Ext.tree.AsyncTreeNode,Ext.tree.TreeNode,{expand:function(b,e,h,c){if(this.loading){var g;var d=function(){if(!this.loading){clearInterval(g);this.expand(b,e,h,c)}}.createDelegate(this);g=setInterval(d,200);return}if(!this.loaded){if(this.fireEvent("beforeload",this)===false){return}this.loading=true;this.ui.beforeLoad(this);var a=this.loader||this.attributes.loader||this.getOwnerTree().getLoader();if(a){a.load(this,this.loadComplete.createDelegate(this,[b,e,h,c]),this);return}}Ext.tree.AsyncTreeNode.superclass.expand.call(this,b,e,h,c)},isLoading:function(){return this.loading},loadComplete:function(a,c,d,b){this.loading=false;this.loaded=true;this.ui.afterLoad(this);this.fireEvent("load",this);this.expand(a,c,d,b)},isLoaded:function(){return this.loaded},hasChildNodes:function(){if(!this.isLeaf()&&!this.loaded){return true}else{return Ext.tree.AsyncTreeNode.superclass.hasChildNodes.call(this)}},reload:function(b,a){this.collapse(false,false);while(this.firstChild){this.removeChild(this.firstChild).destroy()}this.childrenRendered=false;this.loaded=false;if(this.isHiddenRoot()){this.expanded=false}this.expand(false,false,b,a)}});Ext.tree.TreePanel.nodeTypes.async=Ext.tree.AsyncTreeNode;Ext.tree.TreeNodeUI=Ext.extend(Object,{constructor:function(a){Ext.apply(this,{node:a,rendered:false,animating:false,wasLeaf:true,ecc:"x-tree-ec-icon x-tree-elbow",emptyIcon:Ext.BLANK_IMAGE_URL})},removeChild:function(a){if(this.rendered){this.ctNode.removeChild(a.ui.getEl())}},beforeLoad:function(){this.addClass("x-tree-node-loading")},afterLoad:function(){this.removeClass("x-tree-node-loading")},onTextChange:function(b,c,a){if(this.rendered){this.textNode.innerHTML=c}},onIconClsChange:function(c,a,b){if(this.rendered){Ext.fly(this.iconNode).replaceClass(b,a)}},onIconChange:function(b,a){if(this.rendered){var c=Ext.isEmpty(a);this.iconNode.src=c?this.emptyIcon:a;Ext.fly(this.iconNode)[c?"removeClass":"addClass"]("x-tree-node-inline-icon")}},onTipChange:function(b,c,d){if(this.rendered){var a=Ext.isDefined(d);if(this.textNode.setAttributeNS){this.textNode.setAttributeNS("ext","qtip",c);if(a){this.textNode.setAttributeNS("ext","qtitle",d)}}else{this.textNode.setAttribute("ext:qtip",c);if(a){this.textNode.setAttribute("ext:qtitle",d)}}}},onHrefChange:function(b,a,c){if(this.rendered){this.anchor.href=this.getHref(a);if(Ext.isDefined(c)){this.anchor.target=c}}},onClsChange:function(c,a,b){if(this.rendered){Ext.fly(this.elNode).replaceClass(b,a)}},onDisableChange:function(a,b){this.disabled=b;if(this.checkbox){this.checkbox.disabled=b}this[b?"addClass":"removeClass"]("x-tree-node-disabled")},onSelectedChange:function(a){if(a){this.focus();this.addClass("x-tree-selected")}else{this.removeClass("x-tree-selected")}},onMove:function(a,h,e,g,d,b){this.childIndent=null;if(this.rendered){var i=g.ui.getContainer();if(!i){this.holder=document.createElement("div");this.holder.appendChild(this.wrap);return}var c=b?b.ui.getEl():null;if(c){i.insertBefore(this.wrap,c)}else{i.appendChild(this.wrap)}this.node.renderIndent(true,e!=g)}},addClass:function(a){if(this.elNode){Ext.fly(this.elNode).addClass(a)}},removeClass:function(a){if(this.elNode){Ext.fly(this.elNode).removeClass(a)}},remove:function(){if(this.rendered){this.holder=document.createElement("div");this.holder.appendChild(this.wrap)}},fireEvent:function(){return this.node.fireEvent.apply(this.node,arguments)},initEvents:function(){this.node.on("move",this.onMove,this);if(this.node.disabled){this.onDisableChange(this.node,true)}if(this.node.hidden){this.hide()}var b=this.node.getOwnerTree();var a=b.enableDD||b.enableDrag||b.enableDrop;if(a&&(!this.node.isRoot||b.rootVisible)){Ext.dd.Registry.register(this.elNode,{node:this.node,handles:this.getDDHandles(),isHandle:false})}},getDDHandles:function(){return[this.iconNode,this.textNode,this.elNode]},hide:function(){this.node.hidden=true;if(this.wrap){this.wrap.style.display="none"}},show:function(){this.node.hidden=false;if(this.wrap){this.wrap.style.display=""}},onContextMenu:function(a){if(this.node.hasListener("contextmenu")||this.node.getOwnerTree().hasListener("contextmenu")){a.preventDefault();this.focus();this.fireEvent("contextmenu",this.node,a)}},onClick:function(c){if(this.dropping){c.stopEvent();return}if(this.fireEvent("beforeclick",this.node,c)!==false){var b=c.getTarget("a");if(!this.disabled&&this.node.attributes.href&&b){this.fireEvent("click",this.node,c);return}else{if(b&&c.ctrlKey){c.stopEvent()}}c.preventDefault();if(this.disabled){return}if(this.node.attributes.singleClickExpand&&!this.animating&&this.node.isExpandable()){this.node.toggle()}this.fireEvent("click",this.node,c)}else{c.stopEvent()}},onDblClick:function(a){a.preventDefault();if(this.disabled){return}if(this.fireEvent("beforedblclick",this.node,a)!==false){if(this.checkbox){this.toggleCheck()}if(!this.animating&&this.node.isExpandable()){this.node.toggle()}this.fireEvent("dblclick",this.node,a)}},onOver:function(a){this.addClass("x-tree-node-over")},onOut:function(a){this.removeClass("x-tree-node-over")},onCheckChange:function(){var a=this.checkbox.checked;this.checkbox.defaultChecked=a;this.node.attributes.checked=a;this.fireEvent("checkchange",this.node,a)},ecClick:function(a){if(!this.animating&&this.node.isExpandable()){this.node.toggle()}},startDrop:function(){this.dropping=true},endDrop:function(){setTimeout(function(){this.dropping=false}.createDelegate(this),50)},expand:function(){this.updateExpandIcon();this.ctNode.style.display=""},focus:function(){if(!this.node.preventHScroll){try{this.anchor.focus()}catch(c){}}else{try{var b=this.node.getOwnerTree().getTreeEl().dom;var a=b.scrollLeft;this.anchor.focus();b.scrollLeft=a}catch(c){}}},toggleCheck:function(b){var a=this.checkbox;if(a){a.checked=(b===undefined?!a.checked:b);this.onCheckChange()}},blur:function(){try{this.anchor.blur()}catch(a){}},animExpand:function(b){var a=Ext.get(this.ctNode);a.stopFx();if(!this.node.isExpandable()){this.updateExpandIcon();this.ctNode.style.display="";Ext.callback(b);return}this.animating=true;this.updateExpandIcon();a.slideIn("t",{callback:function(){this.animating=false;Ext.callback(b)},scope:this,duration:this.node.ownerTree.duration||0.25})},highlight:function(){var a=this.node.getOwnerTree();Ext.fly(this.wrap).highlight(a.hlColor||"C3DAF9",{endColor:a.hlBaseColor})},collapse:function(){this.updateExpandIcon();this.ctNode.style.display="none"},animCollapse:function(b){var a=Ext.get(this.ctNode);a.enableDisplayMode("block");a.stopFx();this.animating=true;this.updateExpandIcon();a.slideOut("t",{callback:function(){this.animating=false;Ext.callback(b)},scope:this,duration:this.node.ownerTree.duration||0.25})},getContainer:function(){return this.ctNode},getEl:function(){return this.wrap},appendDDGhost:function(a){a.appendChild(this.elNode.cloneNode(true))},getDDRepairXY:function(){return Ext.lib.Dom.getXY(this.iconNode)},onRender:function(){this.render()},render:function(c){var e=this.node,b=e.attributes;var d=e.parentNode?e.parentNode.ui.getContainer():e.ownerTree.innerCt.dom;if(!this.rendered){this.rendered=true;this.renderElements(e,b,d,c);if(b.qtip){this.onTipChange(e,b.qtip,b.qtipTitle)}else{if(b.qtipCfg){b.qtipCfg.target=Ext.id(this.textNode);Ext.QuickTips.register(b.qtipCfg)}}this.initEvents();if(!this.node.expanded){this.updateExpandIcon(true)}}else{if(c===true){d.appendChild(this.wrap)}}},renderElements:function(e,l,k,m){this.indentMarkup=e.parentNode?e.parentNode.ui.getChildIndent():"";var g=Ext.isBoolean(l.checked),b,c=this.getHref(l.href),d=['<li class="x-tree-node"><div ext:tree-node-id="',e.id,'" class="x-tree-node-el x-tree-node-leaf x-unselectable ',l.cls,'" unselectable="on">','<span class="x-tree-node-indent">',this.indentMarkup,"</span>",'<img alt="" src="',this.emptyIcon,'" class="x-tree-ec-icon x-tree-elbow" />','<img alt="" src="',l.icon||this.emptyIcon,'" class="x-tree-node-icon',(l.icon?" x-tree-node-inline-icon":""),(l.iconCls?" "+l.iconCls:""),'" unselectable="on" />',g?('<input class="x-tree-node-cb" type="checkbox" '+(l.checked?'checked="checked" />':"/>")):"",'<a hidefocus="on" class="x-tree-node-anchor" href="',c,'" tabIndex="1" ',l.hrefTarget?' target="'+l.hrefTarget+'"':"",'><span unselectable="on">',e.text,"</span></a></div>",'<ul class="x-tree-node-ct" style="display:none;"></ul>',"</li>"].join("");if(m!==true&&e.nextSibling&&(b=e.nextSibling.ui.getEl())){this.wrap=Ext.DomHelper.insertHtml("beforeBegin",b,d)}else{this.wrap=Ext.DomHelper.insertHtml("beforeEnd",k,d)}this.elNode=this.wrap.childNodes[0];this.ctNode=this.wrap.childNodes[1];var i=this.elNode.childNodes;this.indentNode=i[0];this.ecNode=i[1];this.iconNode=i[2];var h=3;if(g){this.checkbox=i[3];this.checkbox.defaultChecked=this.checkbox.checked;h++}this.anchor=i[h];this.textNode=i[h].firstChild},getHref:function(a){return Ext.isEmpty(a)?(Ext.isGecko?"":"#"):a},getAnchor:function(){return this.anchor},getTextEl:function(){return this.textNode},getIconEl:function(){return this.iconNode},isChecked:function(){return this.checkbox?this.checkbox.checked:false},updateExpandIcon:function(){if(this.rendered){var g=this.node,d,c,a=g.isLast()?"x-tree-elbow-end":"x-tree-elbow",e=g.hasChildNodes();if(e||g.attributes.expandable){if(g.expanded){a+="-minus";d="x-tree-node-collapsed";c="x-tree-node-expanded"}else{a+="-plus";d="x-tree-node-expanded";c="x-tree-node-collapsed"}if(this.wasLeaf){this.removeClass("x-tree-node-leaf");this.wasLeaf=false}if(this.c1!=d||this.c2!=c){Ext.fly(this.elNode).replaceClass(d,c);this.c1=d;this.c2=c}}else{if(!this.wasLeaf){Ext.fly(this.elNode).replaceClass("x-tree-node-expanded","x-tree-node-collapsed");delete this.c1;delete this.c2;this.wasLeaf=true}}var b="x-tree-ec-icon "+a;if(this.ecc!=b){this.ecNode.className=b;this.ecc=b}}},onIdChange:function(a){if(this.rendered){this.elNode.setAttribute("ext:tree-node-id",a)}},getChildIndent:function(){if(!this.childIndent){var a=[],b=this.node;while(b){if(!b.isRoot||(b.isRoot&&b.ownerTree.rootVisible)){if(!b.isLast()){a.unshift('<img alt="" src="'+this.emptyIcon+'" class="x-tree-elbow-line" />')}else{a.unshift('<img alt="" src="'+this.emptyIcon+'" class="x-tree-icon" />')}}b=b.parentNode}this.childIndent=a.join("")}return this.childIndent},renderIndent:function(){if(this.rendered){var a="",b=this.node.parentNode;if(b){a=b.ui.getChildIndent()}if(this.indentMarkup!=a){this.indentNode.innerHTML=a;this.indentMarkup=a}this.updateExpandIcon()}},destroy:function(){if(this.elNode){Ext.dd.Registry.unregister(this.elNode.id)}Ext.each(["textnode","anchor","checkbox","indentNode","ecNode","iconNode","elNode","ctNode","wrap","holder"],function(a){if(this[a]){Ext.fly(this[a]).remove();delete this[a]}},this);delete this.node}});Ext.tree.RootTreeNodeUI=Ext.extend(Ext.tree.TreeNodeUI,{render:function(){if(!this.rendered){var a=this.node.ownerTree.innerCt.dom;this.node.expanded=true;a.innerHTML='<div class="x-tree-root-node"></div>';this.wrap=this.ctNode=a.firstChild}},collapse:Ext.emptyFn,expand:Ext.emptyFn});Ext.tree.TreeLoader=function(a){this.baseParams={};Ext.apply(this,a);this.addEvents("beforeload","load","loadexception");Ext.tree.TreeLoader.superclass.constructor.call(this);if(Ext.isString(this.paramOrder)){this.paramOrder=this.paramOrder.split(/[\s,|]/)}};Ext.extend(Ext.tree.TreeLoader,Ext.util.Observable,{uiProviders:{},clearOnLoad:true,paramOrder:undefined,paramsAsHash:false,nodeParameter:"node",directFn:undefined,load:function(b,c,a){if(this.clearOnLoad){while(b.firstChild){b.removeChild(b.firstChild)}}if(this.doPreload(b)){this.runCallback(c,a||b,[b])}else{if(this.directFn||this.dataUrl||this.url){this.requestData(b,c,a||b)}}},doPreload:function(d){if(d.attributes.children){if(d.childNodes.length<1){var c=d.attributes.children;d.beginUpdate();for(var b=0,a=c.length;b<a;b++){var e=d.appendChild(this.createNode(c[b]));if(this.preloadChildren){this.doPreload(e)}}d.endUpdate()}return true}return false},getParams:function(g){var e=Ext.apply({},this.baseParams),h=this.nodeParameter,b=this.paramOrder;h&&(e[h]=g.id);if(this.directFn){var c=[g.id];if(b){if(h&&b.indexOf(h)>-1){c=[]}for(var d=0,a=b.length;d<a;d++){c.push(e[b[d]])}}else{if(this.paramsAsHash){c=[e]}}return c}else{return e}},requestData:function(c,d,b){if(this.fireEvent("beforeload",this,c,d)!==false){if(this.directFn){var a=this.getParams(c);a.push(this.processDirectResponse.createDelegate(this,[{callback:d,node:c,scope:b}],true));this.directFn.apply(window,a)}else{this.transId=Ext.Ajax.request({method:this.requestMethod,url:this.dataUrl||this.url,success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{callback:d,node:c,scope:b},params:this.getParams(c)})}}else{this.runCallback(d,b||c,[])}},processDirectResponse:function(a,b,c){if(b.status){this.handleResponse({responseData:Ext.isArray(a)?a:null,responseText:a,argument:c})}else{this.handleFailure({argument:c})}},runCallback:function(a,c,b){if(Ext.isFunction(a)){a.apply(c,b)}},isLoading:function(){return !!this.transId},abort:function(){if(this.isLoading()){Ext.Ajax.abort(this.transId)}},createNode:function(attr){if(this.baseAttrs){Ext.applyIf(attr,this.baseAttrs)}if(this.applyLoader!==false&&!attr.loader){attr.loader=this}if(Ext.isString(attr.uiProvider)){attr.uiProvider=this.uiProviders[attr.uiProvider]||eval(attr.uiProvider)}if(attr.nodeType){return new Ext.tree.TreePanel.nodeTypes[attr.nodeType](attr)}else{return attr.leaf?new Ext.tree.TreeNode(attr):new Ext.tree.AsyncTreeNode(attr)}},processResponse:function(d,c,l,m){var p=d.responseText;try{var a=d.responseData||Ext.decode(p);c.beginUpdate();for(var g=0,h=a.length;g<h;g++){var b=this.createNode(a[g]);if(b){c.appendChild(b)}}c.endUpdate();this.runCallback(l,m||c,[c])}catch(k){this.handleFailure(d)}},handleResponse:function(c){this.transId=false;var b=c.argument;this.processResponse(c,b.node,b.callback,b.scope);this.fireEvent("load",this,b.node,c)},handleFailure:function(c){this.transId=false;var b=c.argument;this.fireEvent("loadexception",this,b.node,c);this.runCallback(b.callback,b.scope||b.node,[b.node])},destroy:function(){this.abort();this.purgeListeners()}});Ext.tree.TreeFilter=function(a,b){this.tree=a;this.filtered={};Ext.apply(this,b)};Ext.tree.TreeFilter.prototype={clearBlank:false,reverse:false,autoClear:false,remove:false,filter:function(d,a,b){a=a||"text";var c;if(typeof d=="string"){var e=d.length;if(e==0&&this.clearBlank){this.clear();return}d=d.toLowerCase();c=function(g){return g.attributes[a].substr(0,e).toLowerCase()==d}}else{if(d.exec){c=function(g){return d.test(g.attributes[a])}}else{throw"Illegal filter type, must be string or regex"}}this.filterBy(c,null,b)},filterBy:function(d,c,b){b=b||this.tree.root;if(this.autoClear){this.clear()}var a=this.filtered,i=this.reverse;var e=function(l){if(l==b){return true}if(a[l.id]){return false}var k=d.call(c||l,l);if(!k||i){a[l.id]=l;l.ui.hide();return false}return true};b.cascade(e);if(this.remove){for(var h in a){if(typeof h!="function"){var g=a[h];if(g&&g.parentNode){g.parentNode.removeChild(g)}}}}},clear:function(){var b=this.tree;var a=this.filtered;for(var d in a){if(typeof d!="function"){var c=a[d];if(c){c.ui.show()}}}this.filtered={}}};Ext.tree.TreeSorter=Ext.extend(Object,{constructor:function(a,b){Ext.apply(this,b);a.on({scope:this,beforechildrenrendered:this.doSort,append:this.updateSort,insert:this.updateSort,textchange:this.updateSortParent});var c=this.dir&&this.dir.toLowerCase()=="desc",d=this.property||"text";sortType=this.sortType;folderSort=this.folderSort;caseSensitive=this.caseSensitive===true;leafAttr=this.leafAttr||"leaf";if(Ext.isString(sortType)){sortType=Ext.data.SortTypes[sortType]}this.sortFn=function(l,i){var g=l.attributes,e=i.attributes;if(folderSort){if(g[leafAttr]&&!e[leafAttr]){return 1}if(!g[leafAttr]&&e[leafAttr]){return -1}}var k=g[d],h=e[d],m=sortType?sortType(k):(caseSensitive?k:k.toUpperCase());v2=sortType?sortType(h):(caseSensitive?h:h.toUpperCase());if(m<v2){return c?1:-1}else{if(m>v2){return c?-1:1}}return 0}},doSort:function(a){a.sort(this.sortFn)},updateSort:function(a,b){if(b.childrenRendered){this.doSort.defer(1,this,[b])}},updateSortParent:function(a){var b=a.parentNode;if(b&&b.childrenRendered){this.doSort.defer(1,this,[b])}}});if(Ext.dd.DropZone){Ext.tree.TreeDropZone=function(a,b){this.allowParentInsert=b.allowParentInsert||false;this.allowContainerDrop=b.allowContainerDrop||false;this.appendOnly=b.appendOnly||false;Ext.tree.TreeDropZone.superclass.constructor.call(this,a.getTreeEl(),b);this.tree=a;this.dragOverData={};this.lastInsertClass="x-tree-no-status"};Ext.extend(Ext.tree.TreeDropZone,Ext.dd.DropZone,{ddGroup:"TreeDD",expandDelay:1000,expandNode:function(a){if(a.hasChildNodes()&&!a.isExpanded()){a.expand(false,null,this.triggerCacheRefresh.createDelegate(this))}},queueExpand:function(a){this.expandProcId=this.expandNode.defer(this.expandDelay,this,[a])},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false}},isValidDropPoint:function(a,l,i,d,c){if(!a||!c){return false}var g=a.node;var h=c.node;if(!(g&&g.isTarget&&l)){return false}if(l=="append"&&g.allowChildren===false){return false}if((l=="above"||l=="below")&&(g.parentNode&&g.parentNode.allowChildren===false)){return false}if(h&&(g==h||h.contains(g))){return false}var b=this.dragOverData;b.tree=this.tree;b.target=g;b.data=c;b.point=l;b.source=i;b.rawEvent=d;b.dropNode=h;b.cancel=false;var k=this.tree.fireEvent("nodedragover",b);return b.cancel===false&&k!==false},getDropPoint:function(h,g,m){var o=g.node;if(o.isRoot){return o.allowChildren!==false?"append":false}var c=g.ddel;var p=Ext.lib.Dom.getY(c),k=p+c.offsetHeight;var i=Ext.lib.Event.getPageY(h);var l=o.allowChildren===false||o.isLeaf();if(this.appendOnly||o.parentNode.allowChildren===false){return l?false:"append"}var d=false;if(!this.allowParentInsert){d=o.hasChildNodes()&&o.isExpanded()}var a=(k-p)/(l?2:3);if(i>=p&&i<(p+a)){return"above"}else{if(!d&&(l||i>=k-a&&i<=k)){return"below"}else{return"append"}}},onNodeEnter:function(d,a,c,b){this.cancelExpand()},onContainerOver:function(a,c,b){if(this.allowContainerDrop&&this.isValidDropPoint({ddel:this.tree.getRootNode().ui.elNode,node:this.tree.getRootNode()},"append",a,c,b)){return this.dropAllowed}return this.dropNotAllowed},onNodeOver:function(b,i,h,g){var l=this.getDropPoint(h,b,i);var c=b.node;if(!this.expandProcId&&l=="append"&&c.hasChildNodes()&&!b.node.isExpanded()){this.queueExpand(c)}else{if(l!="append"){this.cancelExpand()}}var d=this.dropNotAllowed;if(this.isValidDropPoint(b,l,i,h,g)){if(l){var a=b.ddel;var k;if(l=="above"){d=b.node.isFirst()?"x-tree-drop-ok-above":"x-tree-drop-ok-between";k="x-tree-drag-insert-above"}else{if(l=="below"){d=b.node.isLast()?"x-tree-drop-ok-below":"x-tree-drop-ok-between";k="x-tree-drag-insert-below"}else{d="x-tree-drop-ok-append";k="x-tree-drag-append"}}if(this.lastInsertClass!=k){Ext.fly(a).replaceClass(this.lastInsertClass,k);this.lastInsertClass=k}}}return d},onNodeOut:function(d,a,c,b){this.cancelExpand();this.removeDropIndicators(d)},onNodeDrop:function(i,b,h,d){var a=this.getDropPoint(h,i,b);var g=i.node;g.ui.startDrop();if(!this.isValidDropPoint(i,a,b,h,d)){g.ui.endDrop();return false}var c=d.node||(b.getTreeNode?b.getTreeNode(d,g,a,h):null);return this.processDrop(g,d,a,b,h,c)},onContainerDrop:function(a,g,c){if(this.allowContainerDrop&&this.isValidDropPoint({ddel:this.tree.getRootNode().ui.elNode,node:this.tree.getRootNode()},"append",a,g,c)){var d=this.tree.getRootNode();d.ui.startDrop();var b=c.node||(a.getTreeNode?a.getTreeNode(c,d,"append",g):null);return this.processDrop(d,c,"append",a,g,b)}return false},processDrop:function(k,h,b,a,i,d){var g={tree:this.tree,target:k,data:h,point:b,source:a,rawEvent:i,dropNode:d,cancel:!d,dropStatus:false};var c=this.tree.fireEvent("beforenodedrop",g);if(c===false||g.cancel===true||!g.dropNode){k.ui.endDrop();return g.dropStatus}k=g.target;if(b=="append"&&!k.isExpanded()){k.expand(false,null,function(){this.completeDrop(g)}.createDelegate(this))}else{this.completeDrop(g)}return true},completeDrop:function(h){var d=h.dropNode,e=h.point,c=h.target;if(!Ext.isArray(d)){d=[d]}var g;for(var b=0,a=d.length;b<a;b++){g=d[b];if(e=="above"){c.parentNode.insertBefore(g,c)}else{if(e=="below"){c.parentNode.insertBefore(g,c.nextSibling)}else{c.appendChild(g)}}}g.ui.focus();if(Ext.enableFx&&this.tree.hlDrop){g.ui.highlight()}c.ui.endDrop();this.tree.fireEvent("nodedrop",h)},afterNodeMoved:function(a,c,g,d,b){if(Ext.enableFx&&this.tree.hlDrop){b.ui.focus();b.ui.highlight()}this.tree.fireEvent("nodedrop",this.tree,d,c,a,g)},getTree:function(){return this.tree},removeDropIndicators:function(b){if(b&&b.ddel){var a=b.ddel;Ext.fly(a).removeClass(["x-tree-drag-insert-above","x-tree-drag-insert-below","x-tree-drag-append"]);this.lastInsertClass="_noclass"}},beforeDragDrop:function(b,a,c){this.cancelExpand();return true},afterRepair:function(a){if(a&&Ext.enableFx){a.node.ui.highlight()}this.hideProxy()}})}if(Ext.dd.DragZone){Ext.tree.TreeDragZone=function(a,b){Ext.tree.TreeDragZone.superclass.constructor.call(this,a.innerCt,b);this.tree=a};Ext.extend(Ext.tree.TreeDragZone,Ext.dd.DragZone,{ddGroup:"TreeDD",onBeforeDrag:function(a,b){var c=a.node;return c&&c.draggable&&!c.disabled},onInitDrag:function(b){var a=this.dragData;this.tree.getSelectionModel().select(a.node);this.tree.eventModel.disable();this.proxy.update("");a.node.ui.appendDDGhost(this.proxy.ghost.dom);this.tree.fireEvent("startdrag",this.tree,a.node,b)},getRepairXY:function(b,a){return a.node.ui.getDDRepairXY()},onEndDrag:function(a,b){this.tree.eventModel.enable.defer(100,this.tree.eventModel);this.tree.fireEvent("enddrag",this.tree,a.node,b)},onValidDrop:function(a,b,c){this.tree.fireEvent("dragdrop",this.tree,this.dragData.node,a,b);this.hideProxy()},beforeInvalidDrop:function(a,c){var b=this.tree.getSelectionModel();b.clearSelections();b.select(this.dragData.node)},afterRepair:function(){if(Ext.enableFx&&this.tree.hlDrop){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9")}this.dragging=false}})}Ext.tree.TreeEditor=function(a,c,b){c=c||{};var d=c.events?c:new Ext.form.TextField(c);Ext.tree.TreeEditor.superclass.constructor.call(this,d,b);this.tree=a;if(!a.rendered){a.on("render",this.initEditor,this)}else{this.initEditor(a)}};Ext.extend(Ext.tree.TreeEditor,Ext.Editor,{alignment:"l-l",autoSize:false,hideEl:false,cls:"x-small-editor x-tree-editor",shim:false,shadow:"frame",maxWidth:250,editDelay:350,initEditor:function(a){a.on({scope:this,beforeclick:this.beforeNodeClick,dblclick:this.onNodeDblClick});this.on({scope:this,complete:this.updateNode,beforestartedit:this.fitToTree,specialkey:this.onSpecialKey});this.on("startedit",this.bindScroll,this,{delay:10})},fitToTree:function(b,c){var e=this.tree.getTreeEl().dom,d=c.dom;if(e.scrollLeft>d.offsetLeft){e.scrollLeft=d.offsetLeft}var a=Math.min(this.maxWidth,(e.clientWidth>20?e.clientWidth:e.offsetWidth)-Math.max(0,d.offsetLeft-e.scrollLeft)-5);this.setSize(a,"")},triggerEdit:function(a,c){this.completeEdit();if(a.attributes.editable!==false){this.editNode=a;if(this.tree.autoScroll){Ext.fly(a.ui.getEl()).scrollIntoView(this.tree.body)}var b=a.text||"";if(!Ext.isGecko&&Ext.isEmpty(a.text)){a.setText("&#160;")}this.autoEditTimer=this.startEdit.defer(this.editDelay,this,[a.ui.textNode,b]);return false}},bindScroll:function(){this.tree.getTreeEl().on("scroll",this.cancelEdit,this)},beforeNodeClick:function(a,b){clearTimeout(this.autoEditTimer);if(this.tree.getSelectionModel().isSelected(a)){b.stopEvent();return this.triggerEdit(a)}},onNodeDblClick:function(a,b){clearTimeout(this.autoEditTimer)},updateNode:function(a,b){this.tree.getTreeEl().un("scroll",this.cancelEdit,this);this.editNode.setText(b)},onHide:function(){Ext.tree.TreeEditor.superclass.onHide.call(this);if(this.editNode){this.editNode.ui.focus.defer(50,this.editNode.ui)}},onSpecialKey:function(c,b){var a=b.getKey();if(a==b.ESC){b.stopEvent();this.cancelEdit()}else{if(a==b.ENTER&&!b.hasModifier()){b.stopEvent();this.completeEdit()}}},onDestroy:function(){clearTimeout(this.autoEditTimer);Ext.tree.TreeEditor.superclass.onDestroy.call(this);var a=this.tree;a.un("beforeclick",this.beforeNodeClick,this);a.un("dblclick",this.onNodeDblClick,this)}});
/* SWFObject v2.2 <http://code.google.com/p/swfobject/> 
    is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
var swfobject=function(){var F="undefined",t="object",U="Shockwave Flash",Y="ShockwaveFlash.ShockwaveFlash",s="application/x-shockwave-flash",T="SWFObjectExprInst",z="onreadystatechange",Q=window,l=document,v=navigator,V=false,W=[i],q=[],P=[],K=[],n,S,G,D,L=false,a=false,p,I,o=true,O=function(){var ac=typeof l.getElementById!=F&&typeof l.getElementsByTagName!=F&&typeof l.createElement!=F,aj=v.userAgent.toLowerCase(),aa=v.platform.toLowerCase(),ag=aa?(/win/).test(aa):/win/.test(aj),ae=aa?(/mac/).test(aa):/mac/.test(aj),ah=/webkit/.test(aj)?parseFloat(aj.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,Z=!+"\v1",ai=[0,0,0],ad=null;if(typeof v.plugins!=F&&typeof v.plugins[U]==t){ad=v.plugins[U].description;if(ad&&!(typeof v.mimeTypes!=F&&v.mimeTypes[s]&&!v.mimeTypes[s].enabledPlugin)){V=true;Z=false;ad=ad.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ai[0]=parseInt(ad.replace(/^(.*)\..*$/,"$1"),10);ai[1]=parseInt(ad.replace(/^.*\.(.*)\s.*$/,"$1"),10);ai[2]=/[a-zA-Z]/.test(ad)?parseInt(ad.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof Q.ActiveXObject!=F){try{var af=new ActiveXObject(Y);if(af){ad=af.GetVariable("$version");if(ad){Z=true;ad=ad.split(" ")[1].split(",");ai=[parseInt(ad[0],10),parseInt(ad[1],10),parseInt(ad[2],10)]}}}catch(ab){}}}return{w3:ac,pv:ai,wk:ah,ie:Z,win:ag,mac:ae}}(),m=function(){if(!O.w3){return}if((typeof l.readyState!=F&&l.readyState=="complete")||(typeof l.readyState==F&&(l.getElementsByTagName("body")[0]||l.body))){g()}if(!L){if(typeof l.addEventListener!=F){l.addEventListener("DOMContentLoaded",g,false)}if(O.ie&&O.win){l.attachEvent(z,function(){if(l.readyState=="complete"){l.detachEvent(z,arguments.callee);g()}});if(Q==top){(function(){if(L){return}try{l.documentElement.doScroll("left")}catch(Z){setTimeout(arguments.callee,0);return}g()})()}}if(O.wk){(function(){if(L){return}if(!(/loaded|complete/).test(l.readyState)){setTimeout(arguments.callee,0);return}g()})()}u(g)}}();function g(){if(L){return}try{var ab=l.getElementsByTagName("body")[0].appendChild(E("span"));ab.parentNode.removeChild(ab)}catch(ac){return}L=true;var Z=W.length;for(var aa=0;aa<Z;aa++){W[aa]()}}function M(Z){if(L){Z()}else{W[W.length]=Z}}function u(aa){if(typeof Q.addEventListener!=F){Q.addEventListener("load",aa,false)}else{if(typeof l.addEventListener!=F){l.addEventListener("load",aa,false)}else{if(typeof Q.attachEvent!=F){k(Q,"onload",aa)}else{if(typeof Q.onload=="function"){var Z=Q.onload;Q.onload=function(){Z();aa()}}else{Q.onload=aa}}}}}function i(){if(V){X()}else{J()}}function X(){var Z=l.getElementsByTagName("body")[0];var ac=E(t);ac.setAttribute("type",s);var ab=Z.appendChild(ac);if(ab){var aa=0;(function(){if(typeof ab.GetVariable!=F){var ad=ab.GetVariable("$version");if(ad){ad=ad.split(" ")[1].split(",");O.pv=[parseInt(ad[0],10),parseInt(ad[1],10),parseInt(ad[2],10)]}}else{if(aa<10){aa++;setTimeout(arguments.callee,10);return}}Z.removeChild(ac);ab=null;J()})()}else{J()}}function J(){var ai=q.length;if(ai>0){for(var ah=0;ah<ai;ah++){var aa=q[ah].id;var ad=q[ah].callbackFn;var ac={success:false,id:aa};if(O.pv[0]>0){var ag=c(aa);if(ag){if(H(q[ah].swfVersion)&&!(O.wk&&O.wk<312)){y(aa,true);if(ad){ac.success=true;ac.ref=B(aa);ad(ac)}}else{if(q[ah].expressInstall&&C()){var ak={};ak.data=q[ah].expressInstall;ak.width=ag.getAttribute("width")||"0";ak.height=ag.getAttribute("height")||"0";if(ag.getAttribute("class")){ak.styleclass=ag.getAttribute("class")}if(ag.getAttribute("align")){ak.align=ag.getAttribute("align")}var aj={};var Z=ag.getElementsByTagName("param");var ae=Z.length;for(var af=0;af<ae;af++){if(Z[af].getAttribute("name").toLowerCase()!="movie"){aj[Z[af].getAttribute("name")]=Z[af].getAttribute("value")}}R(ak,aj,aa,ad)}else{r(ag);if(ad){ad(ac)}}}}}else{y(aa,true);if(ad){var ab=B(aa);if(ab&&typeof ab.SetVariable!=F){ac.success=true;ac.ref=ab}ad(ac)}}}}}function B(ac){var Z=null;var aa=c(ac);if(aa&&aa.nodeName=="OBJECT"){if(typeof aa.SetVariable!=F){Z=aa}else{var ab=aa.getElementsByTagName(t)[0];if(ab){Z=ab}}}return Z}function C(){return !a&&H("6.0.65")&&(O.win||O.mac)&&!(O.wk&&O.wk<312)}function R(ac,ad,Z,ab){a=true;G=ab||null;D={success:false,id:Z};var ag=c(Z);if(ag){if(ag.nodeName=="OBJECT"){n=h(ag);S=null}else{n=ag;S=Z}ac.id=T;if(typeof ac.width==F||(!(/%$/).test(ac.width)&&parseInt(ac.width,10)<310)){ac.width="310"}if(typeof ac.height==F||(!(/%$/).test(ac.height)&&parseInt(ac.height,10)<137)){ac.height="137"}l.title=l.title.slice(0,47)+" - Flash Player Installation";var af=O.ie&&O.win?"ActiveX":"PlugIn",ae="MMredirectURL="+Q.location.toString().replace(/&/g,"%26")+"&MMplayerType="+af+"&MMdoctitle="+l.title;if(typeof ad.flashvars!=F){ad.flashvars+="&"+ae}else{ad.flashvars=ae}if(O.ie&&O.win&&ag.readyState!=4){var aa=E("div");Z+="SWFObjectNew";aa.setAttribute("id",Z);ag.parentNode.insertBefore(aa,ag);ag.style.display="none";(function(){if(ag.readyState==4){ag.parentNode.removeChild(ag)}else{setTimeout(arguments.callee,10)}})()}w(ac,ad,Z)}}function r(aa){if(O.ie&&O.win&&aa.readyState!=4){var Z=E("div");aa.parentNode.insertBefore(Z,aa);Z.parentNode.replaceChild(h(aa),Z);aa.style.display="none";(function(){if(aa.readyState==4){aa.parentNode.removeChild(aa)}else{setTimeout(arguments.callee,10)}})()}else{aa.parentNode.replaceChild(h(aa),aa)}}function h(ae){var ad=E("div");if(O.win&&O.ie){ad.innerHTML=ae.innerHTML}else{var aa=ae.getElementsByTagName(t)[0];if(aa){var af=aa.childNodes;if(af){var Z=af.length;for(var ab=0;ab<Z;ab++){if(!(af[ab].nodeType==1&&af[ab].nodeName=="PARAM")&&!(af[ab].nodeType==8)){ad.appendChild(af[ab].cloneNode(true))}}}}}return ad}function w(ak,ai,aa){var Z,ac=c(aa);if(O.wk&&O.wk<312){return Z}if(ac){if(typeof ak.id==F){ak.id=aa}if(O.ie&&O.win){var aj="";for(var ag in ak){if(ak[ag]!=Object.prototype[ag]){if(ag.toLowerCase()=="data"){ai.movie=ak[ag]}else{if(ag.toLowerCase()=="styleclass"){aj+=' class="'+ak[ag]+'"'}else{if(ag.toLowerCase()!="classid"){aj+=" "+ag+'="'+ak[ag]+'"'}}}}}var ah="";for(var af in ai){if(ai[af]!=Object.prototype[af]){ah+='<param name="'+af+'" value="'+ai[af]+'" />'}}ac.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+aj+">"+ah+"</object>";P[P.length]=ak.id;Z=c(ak.id)}else{var ab=E(t);ab.setAttribute("type",s);for(var ae in ak){if(ak[ae]!=Object.prototype[ae]){if(ae.toLowerCase()=="styleclass"){ab.setAttribute("class",ak[ae])}else{if(ae.toLowerCase()!="classid"){ab.setAttribute(ae,ak[ae])}}}}for(var ad in ai){if(ai[ad]!=Object.prototype[ad]&&ad.toLowerCase()!="movie"){e(ab,ad,ai[ad])}}ac.parentNode.replaceChild(ab,ac);Z=ab}}return Z}function e(ab,Z,aa){var ac=E("param");ac.setAttribute("name",Z);ac.setAttribute("value",aa);ab.appendChild(ac)}function A(aa){var Z=c(aa);if(Z&&Z.nodeName=="OBJECT"){if(O.ie&&O.win){Z.style.display="none";(function(){if(Z.readyState==4){b(aa)}else{setTimeout(arguments.callee,10)}})()}else{Z.parentNode.removeChild(Z)}}}function b(ab){var aa=c(ab);if(aa){for(var Z in aa){if(typeof aa[Z]=="function"){aa[Z]=null}}aa.parentNode.removeChild(aa)}}function c(ab){var Z=null;try{Z=l.getElementById(ab)}catch(aa){}return Z}function E(Z){return l.createElement(Z)}function k(ab,Z,aa){ab.attachEvent(Z,aa);K[K.length]=[ab,Z,aa]}function H(ab){var aa=O.pv,Z=ab.split(".");Z[0]=parseInt(Z[0],10);Z[1]=parseInt(Z[1],10)||0;Z[2]=parseInt(Z[2],10)||0;return(aa[0]>Z[0]||(aa[0]==Z[0]&&aa[1]>Z[1])||(aa[0]==Z[0]&&aa[1]==Z[1]&&aa[2]>=Z[2]))?true:false}function x(ae,aa,af,ad){if(O.ie&&O.mac){return}var ac=l.getElementsByTagName("head")[0];if(!ac){return}var Z=(af&&typeof af=="string")?af:"screen";if(ad){p=null;I=null}if(!p||I!=Z){var ab=E("style");ab.setAttribute("type","text/css");ab.setAttribute("media",Z);p=ac.appendChild(ab);if(O.ie&&O.win&&typeof l.styleSheets!=F&&l.styleSheets.length>0){p=l.styleSheets[l.styleSheets.length-1]}I=Z}if(O.ie&&O.win){if(p&&typeof p.addRule==t){p.addRule(ae,aa)}}else{if(p&&typeof l.createTextNode!=F){p.appendChild(l.createTextNode(ae+" {"+aa+"}"))}}}function y(ab,Z){if(!o){return}var aa=Z?"visible":"hidden";if(L&&c(ab)){c(ab).style.visibility=aa}else{x("#"+ab,"visibility:"+aa)}}function N(aa){var ab=/[\\\"<>\.;]/;var Z=ab.exec(aa)!=null;return Z&&typeof encodeURIComponent!=F?encodeURIComponent(aa):aa}var d=function(){if(O.ie&&O.win){window.attachEvent("onunload",function(){var ae=K.length;for(var ad=0;ad<ae;ad++){K[ad][0].detachEvent(K[ad][1],K[ad][2])}var ab=P.length;for(var ac=0;ac<ab;ac++){A(P[ac])}for(var aa in O){O[aa]=null}O=null;for(var Z in swfobject){swfobject[Z]=null}swfobject=null})}}();return{registerObject:function(ad,Z,ac,ab){if(O.w3&&ad&&Z){var aa={};aa.id=ad;aa.swfVersion=Z;aa.expressInstall=ac;aa.callbackFn=ab;q[q.length]=aa;y(ad,false)}else{if(ab){ab({success:false,id:ad})}}},getObjectById:function(Z){if(O.w3){return B(Z)}},embedSWF:function(ad,aj,ag,ai,aa,ac,ab,af,ah,ae){var Z={success:false,id:aj};if(O.w3&&!(O.wk&&O.wk<312)&&ad&&aj&&ag&&ai&&aa){y(aj,false);M(function(){ag+="";ai+="";var al={};if(ah&&typeof ah===t){for(var an in ah){al[an]=ah[an]}}al.data=ad;al.width=ag;al.height=ai;var ao={};if(af&&typeof af===t){for(var am in af){ao[am]=af[am]}}if(ab&&typeof ab===t){for(var ak in ab){if(typeof ao.flashvars!=F){ao.flashvars+="&"+ak+"="+ab[ak]}else{ao.flashvars=ak+"="+ab[ak]}}}if(H(aa)){var ap=w(al,ao,aj);if(al.id==aj){y(aj,true)}Z.success=true;Z.ref=ap}else{if(ac&&C()){al.data=ac;R(al,ao,aj,ae);return}else{y(aj,true)}}if(ae){ae(Z)}})}else{if(ae){ae(Z)}}},switchOffAutoHideShow:function(){o=false},ua:O,getFlashPlayerVersion:function(){return{major:O.pv[0],minor:O.pv[1],release:O.pv[2]}},hasFlashPlayerVersion:H,createSWF:function(ab,aa,Z){if(O.w3){return w(ab,aa,Z)}else{return undefined}},showExpressInstall:function(ab,ac,Z,aa){if(O.w3&&C()){R(ab,ac,Z,aa)}},removeSWF:function(Z){if(O.w3){A(Z)}},createCSS:function(ac,ab,aa,Z){if(O.w3){x(ac,ab,aa,Z)}},addDomLoadEvent:M,addLoadEvent:u,getQueryParamValue:function(ac){var ab=l.location.search||l.location.hash;if(ab){if(/\?/.test(ab)){ab=ab.split("?")[1]}if(ac==null){return N(ab)}var aa=ab.split("&");for(var Z=0;Z<aa.length;Z++){if(aa[Z].substring(0,aa[Z].indexOf("="))==ac){return N(aa[Z].substring((aa[Z].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var Z=c(T);if(Z&&n){Z.parentNode.replaceChild(n,Z);if(S){y(S,true);if(O.ie&&O.win){n.style.display="block"}}if(G){G(D)}}a=false}}}}();Ext.FlashComponent=Ext.extend(Ext.BoxComponent,{flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",flashVars:undefined,flashParams:undefined,url:undefined,swfId:undefined,swfWidth:"100%",swfHeight:"100%",expressInstall:false,initComponent:function(){Ext.FlashComponent.superclass.initComponent.call(this);this.addEvents("initialize")},onRender:function(){Ext.FlashComponent.superclass.onRender.apply(this,arguments);var b=Ext.apply({allowScriptAccess:"always",bgcolor:this.backgroundColor,wmode:this.wmode},this.flashParams),a=Ext.apply({allowedDomain:document.location.hostname,YUISwfId:this.getId(),YUIBridgeCallback:"Ext.FlashEventProxy.onEvent"},this.flashVars);new swfobject.embedSWF(this.url,this.id,this.swfWidth,this.swfHeight,this.flashVersion,this.expressInstall?Ext.FlashComponent.EXPRESS_INSTALL_URL:undefined,a,b);this.swf=Ext.getDom(this.id);this.el=Ext.get(this.swf)},getSwfId:function(){return this.swfId||(this.swfId="extswf"+(++Ext.Component.AUTO_ID))},getId:function(){return this.id||(this.id="extflashcmp"+(++Ext.Component.AUTO_ID))},onFlashEvent:function(a){switch(a.type){case"swfReady":this.initSwf();return;case"log":return}a.component=this;this.fireEvent(a.type.toLowerCase().replace(/event$/,""),a)},initSwf:function(){this.onSwfReady(!!this.isInitialized);this.isInitialized=true;this.fireEvent("initialize",this)},beforeDestroy:function(){if(this.rendered){swfobject.removeSWF(this.swf.id)}Ext.FlashComponent.superclass.beforeDestroy.call(this)},onSwfReady:Ext.emptyFn});Ext.FlashComponent.EXPRESS_INSTALL_URL="http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf";Ext.reg("flash",Ext.FlashComponent);Ext.FlashEventProxy={onEvent:function(c,b){var a=Ext.getCmp(c);if(a){a.onFlashEvent(b)}else{arguments.callee.defer(10,this,[c,b])}}};Ext.chart.Chart=Ext.extend(Ext.FlashComponent,{refreshBuffer:100,chartStyle:{padding:10,animationEnabled:true,font:{name:"Tahoma",color:4473924,size:11},dataTip:{padding:5,border:{color:10075112,size:1},background:{color:14346230,alpha:0.9},font:{name:"Tahoma",color:1393291,size:10,bold:true}}},extraStyle:null,seriesStyles:null,disableCaching:Ext.isIE||Ext.isOpera,disableCacheParam:"_dc",initComponent:function(){Ext.chart.Chart.superclass.initComponent.call(this);if(!this.url){this.url=Ext.chart.Chart.CHART_URL}if(this.disableCaching){this.url=Ext.urlAppend(this.url,String.format("{0}={1}",this.disableCacheParam,new Date().getTime()))}this.addEvents("itemmouseover","itemmouseout","itemclick","itemdoubleclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh");this.store=Ext.StoreMgr.lookup(this.store)},setStyle:function(a,b){this.swf.setStyle(a,Ext.encode(b))},setStyles:function(a){this.swf.setStyles(Ext.encode(a))},setSeriesStyles:function(b){this.seriesStyles=b;var a=[];Ext.each(b,function(c){a.push(Ext.encode(c))});this.swf.setSeriesStyles(a)},setCategoryNames:function(a){this.swf.setCategoryNames(a)},setLegendRenderer:function(c,b){var a=this;b=b||a;a.removeFnProxy(a.legendFnName);a.legendFnName=a.createFnProxy(function(d){return c.call(b,d)});a.swf.setLegendLabelFunction(a.legendFnName)},setTipRenderer:function(c,b){var a=this;b=b||a;a.removeFnProxy(a.tipFnName);a.tipFnName=a.createFnProxy(function(h,e,g){var d=a.store.getAt(e);return c.call(b,a,d,e,g)});a.swf.setDataTipFunction(a.tipFnName)},setSeries:function(a){this.series=a;this.refresh()},bindStore:function(a,b){if(!b&&this.store){if(a!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("datachanged",this.refresh,this);this.store.un("add",this.delayRefresh,this);this.store.un("remove",this.delayRefresh,this);this.store.un("update",this.delayRefresh,this);this.store.un("clear",this.refresh,this)}}if(a){a=Ext.StoreMgr.lookup(a);a.on({scope:this,datachanged:this.refresh,add:this.delayRefresh,remove:this.delayRefresh,update:this.delayRefresh,clear:this.refresh})}this.store=a;if(a&&!b){this.refresh()}},onSwfReady:function(b){Ext.chart.Chart.superclass.onSwfReady.call(this,b);var a;this.swf.setType(this.type);if(this.chartStyle){this.setStyles(Ext.apply({},this.extraStyle,this.chartStyle))}if(this.categoryNames){this.setCategoryNames(this.categoryNames)}if(this.tipRenderer){a=this.getFunctionRef(this.tipRenderer);this.setTipRenderer(a.fn,a.scope)}if(this.legendRenderer){a=this.getFunctionRef(this.legendRenderer);this.setLegendRenderer(a.fn,a.scope)}if(!b){this.bindStore(this.store,true)}this.refresh.defer(10,this)},delayRefresh:function(){if(!this.refreshTask){this.refreshTask=new Ext.util.DelayedTask(this.refresh,this)}this.refreshTask.delay(this.refreshBuffer)},refresh:function(){if(this.fireEvent("beforerefresh",this)!==false){var m=false;var k=[],c=this.store.data.items;for(var g=0,l=c.length;g<l;g++){k[g]=c[g].data}var e=[];var d=0;var n=null;var h=0;if(this.series){d=this.series.length;for(h=0;h<d;h++){n=this.series[h];var b={};for(var a in n){if(a=="style"&&n.style!==null){b.style=Ext.encode(n.style);m=true}else{b[a]=n[a]}}e.push(b)}}if(d>0){for(h=0;h<d;h++){n=e[h];if(!n.type){n.type=this.type}n.dataProvider=k}}else{e.push({type:this.type,dataProvider:k})}this.swf.setDataProvider(e);if(this.seriesStyles){this.setSeriesStyles(this.seriesStyles)}this.fireEvent("refresh",this)}},createFnProxy:function(a){var b="extFnProxy"+(++Ext.chart.Chart.PROXY_FN_ID);Ext.chart.Chart.proxyFunction[b]=a;return"Ext.chart.Chart.proxyFunction."+b},removeFnProxy:function(a){if(!Ext.isEmpty(a)){a=a.replace("Ext.chart.Chart.proxyFunction.","");delete Ext.chart.Chart.proxyFunction[a]}},getFunctionRef:function(a){if(Ext.isFunction(a)){return{fn:a,scope:this}}else{return{fn:a.fn,scope:a.scope||this}}},onDestroy:function(){if(this.refreshTask&&this.refreshTask.cancel){this.refreshTask.cancel()}Ext.chart.Chart.superclass.onDestroy.call(this);this.bindStore(null);this.removeFnProxy(this.tipFnName);this.removeFnProxy(this.legendFnName)}});Ext.reg("chart",Ext.chart.Chart);Ext.chart.Chart.PROXY_FN_ID=0;Ext.chart.Chart.proxyFunction={};Ext.chart.Chart.CHART_URL="http://yui.yahooapis.com/2.8.2/build/charts/assets/charts.swf";Ext.chart.PieChart=Ext.extend(Ext.chart.Chart,{type:"pie",onSwfReady:function(a){Ext.chart.PieChart.superclass.onSwfReady.call(this,a);this.setDataField(this.dataField);this.setCategoryField(this.categoryField)},setDataField:function(a){this.dataField=a;this.swf.setDataField(a)},setCategoryField:function(a){this.categoryField=a;this.swf.setCategoryField(a)}});Ext.reg("piechart",Ext.chart.PieChart);Ext.chart.CartesianChart=Ext.extend(Ext.chart.Chart,{onSwfReady:function(a){Ext.chart.CartesianChart.superclass.onSwfReady.call(this,a);this.labelFn=[];if(this.xField){this.setXField(this.xField)}if(this.yField){this.setYField(this.yField)}if(this.xAxis){this.setXAxis(this.xAxis)}if(this.xAxes){this.setXAxes(this.xAxes)}if(this.yAxis){this.setYAxis(this.yAxis)}if(this.yAxes){this.setYAxes(this.yAxes)}if(Ext.isDefined(this.constrainViewport)){this.swf.setConstrainViewport(this.constrainViewport)}},setXField:function(a){this.xField=a;this.swf.setHorizontalField(a)},setYField:function(a){this.yField=a;this.swf.setVerticalField(a)},setXAxis:function(a){this.xAxis=this.createAxis("xAxis",a);this.swf.setHorizontalAxis(this.xAxis)},setXAxes:function(c){var b;for(var a=0;a<c.length;a++){b=this.createAxis("xAxis"+a,c[a]);this.swf.setHorizontalAxis(b)}},setYAxis:function(a){this.yAxis=this.createAxis("yAxis",a);this.swf.setVerticalAxis(this.yAxis)},setYAxes:function(c){var b;for(var a=0;a<c.length;a++){b=this.createAxis("yAxis"+a,c[a]);this.swf.setVerticalAxis(b)}},createAxis:function(b,d){var e=Ext.apply({},d),c,a;if(this[b]){a=this[b].labelFunction;this.removeFnProxy(a);this.labelFn.remove(a)}if(e.labelRenderer){c=this.getFunctionRef(e.labelRenderer);e.labelFunction=this.createFnProxy(function(g){return c.fn.call(c.scope,g)});delete e.labelRenderer;this.labelFn.push(e.labelFunction)}if(b.indexOf("xAxis")>-1&&e.position=="left"){e.position="bottom"}return e},onDestroy:function(){Ext.chart.CartesianChart.superclass.onDestroy.call(this);Ext.each(this.labelFn,function(a){this.removeFnProxy(a)},this)}});Ext.reg("cartesianchart",Ext.chart.CartesianChart);Ext.chart.LineChart=Ext.extend(Ext.chart.CartesianChart,{type:"line"});Ext.reg("linechart",Ext.chart.LineChart);Ext.chart.ColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"column"});Ext.reg("columnchart",Ext.chart.ColumnChart);Ext.chart.StackedColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"stackcolumn"});Ext.reg("stackedcolumnchart",Ext.chart.StackedColumnChart);Ext.chart.BarChart=Ext.extend(Ext.chart.CartesianChart,{type:"bar"});Ext.reg("barchart",Ext.chart.BarChart);Ext.chart.StackedBarChart=Ext.extend(Ext.chart.CartesianChart,{type:"stackbar"});Ext.reg("stackedbarchart",Ext.chart.StackedBarChart);Ext.chart.Axis=function(a){Ext.apply(this,a)};Ext.chart.Axis.prototype={type:null,orientation:"horizontal",reverse:false,labelFunction:null,hideOverlappingLabels:true,labelSpacing:2};Ext.chart.NumericAxis=Ext.extend(Ext.chart.Axis,{type:"numeric",minimum:NaN,maximum:NaN,majorUnit:NaN,minorUnit:NaN,snapToUnits:true,alwaysShowZero:true,scale:"linear",roundMajorUnit:true,calculateByLabelSize:true,position:"left",adjustMaximumByMajorUnit:true,adjustMinimumByMajorUnit:true});Ext.chart.TimeAxis=Ext.extend(Ext.chart.Axis,{type:"time",minimum:null,maximum:null,majorUnit:NaN,majorTimeUnit:null,minorUnit:NaN,minorTimeUnit:null,snapToUnits:true,stackingEnabled:false,calculateByLabelSize:true});Ext.chart.CategoryAxis=Ext.extend(Ext.chart.Axis,{type:"category",categoryNames:null,calculateCategoryCount:false});Ext.chart.Series=function(a){Ext.apply(this,a)};Ext.chart.Series.prototype={type:null,displayName:null};Ext.chart.CartesianSeries=Ext.extend(Ext.chart.Series,{xField:null,yField:null,showInLegend:true,axis:"primary"});Ext.chart.ColumnSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"column"});Ext.chart.LineSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"line"});Ext.chart.BarSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"bar"});Ext.chart.PieSeries=Ext.extend(Ext.chart.Series,{type:"pie",dataField:null,categoryField:null});Ext.menu.Menu=Ext.extend(Ext.Container,{minWidth:120,shadow:"sides",subMenuAlign:"tl-tr?",defaultAlign:"tl-bl?",allowOtherMenus:false,ignoreParentClicks:false,enableScrolling:true,maxHeight:null,scrollIncrement:24,showSeparator:true,defaultOffsets:[0,0],plain:false,floating:true,zIndex:15000,hidden:true,layout:"menu",hideMode:"offsets",scrollerHeight:8,autoLayout:true,defaultType:"menuitem",bufferResize:false,initComponent:function(){if(Ext.isArray(this.initialConfig)){Ext.apply(this,{items:this.initialConfig})}this.addEvents("click","mouseover","mouseout","itemclick");Ext.menu.MenuMgr.register(this);if(this.floating){Ext.EventManager.onWindowResize(this.hide,this)}else{if(this.initialConfig.hidden!==false){this.hidden=false}this.internalDefaults={hideOnClick:false}}Ext.menu.Menu.superclass.initComponent.call(this);if(this.autoLayout){var a=this.doLayout.createDelegate(this,[]);this.on({add:a,remove:a})}},getLayoutTarget:function(){return this.ul},onRender:function(b,a){if(!b){b=Ext.getBody()}var c={id:this.getId(),cls:"x-menu "+((this.floating)?"x-menu-floating x-layer ":"")+(this.cls||"")+(this.plain?" x-menu-plain":"")+(this.showSeparator?"":" x-menu-nosep"),style:this.style,cn:[{tag:"a",cls:"x-menu-focus",href:"#",onclick:"return false;",tabIndex:"-1"},{tag:"ul",cls:"x-menu-list"}]};if(this.floating){this.el=new Ext.Layer({shadow:this.shadow,dh:c,constrain:false,parentEl:b,zindex:this.zIndex})}else{this.el=b.createChild(c)}Ext.menu.Menu.superclass.onRender.call(this,b,a);if(!this.keyNav){this.keyNav=new Ext.menu.MenuNav(this)}this.focusEl=this.el.child("a.x-menu-focus");this.ul=this.el.child("ul.x-menu-list");this.mon(this.ul,{scope:this,click:this.onClick,mouseover:this.onMouseOver,mouseout:this.onMouseOut});if(this.enableScrolling){this.mon(this.el,{scope:this,delegate:".x-menu-scroller",click:this.onScroll,mouseover:this.deactivateActive})}},findTargetItem:function(b){var a=b.getTarget(".x-menu-list-item",this.ul,true);if(a&&a.menuItemId){return this.items.get(a.menuItemId)}},onClick:function(b){var a=this.findTargetItem(b);if(a){if(a.isFormField){this.setActiveItem(a)}else{if(a instanceof Ext.menu.BaseItem){if(a.menu&&this.ignoreParentClicks){a.expandMenu();b.preventDefault()}else{if(a.onClick){a.onClick(b);this.fireEvent("click",this,a,b)}}}}}},setActiveItem:function(a,b){if(a!=this.activeItem){this.deactivateActive();if((this.activeItem=a).isFormField){a.focus()}else{a.activate(b)}}else{if(b){a.expandMenu()}}},deactivateActive:function(){var b=this.activeItem;if(b){if(b.isFormField){if(b.collapse){b.collapse()}}else{b.deactivate()}delete this.activeItem}},tryActivate:function(g,e){var b=this.items;for(var c=g,a=b.length;c>=0&&c<a;c+=e){var d=b.get(c);if(d.isVisible()&&!d.disabled&&(d.canActivate||d.isFormField)){this.setActiveItem(d,false);return d}}return false},onMouseOver:function(b){var a=this.findTargetItem(b);if(a){if(a.canActivate&&!a.disabled){this.setActiveItem(a,true)}}this.over=true;this.fireEvent("mouseover",this,b,a)},onMouseOut:function(b){var a=this.findTargetItem(b);if(a){if(a==this.activeItem&&a.shouldDeactivate&&a.shouldDeactivate(b)){this.activeItem.deactivate();delete this.activeItem}}this.over=false;this.fireEvent("mouseout",this,b,a)},onScroll:function(d,b){if(d){d.stopEvent()}var a=this.ul.dom,c=Ext.fly(b).is(".x-menu-scroller-top");a.scrollTop+=this.scrollIncrement*(c?-1:1);if(c?a.scrollTop<=0:a.scrollTop+this.activeMax>=a.scrollHeight){this.onScrollerOut(null,b)}},onScrollerIn:function(d,b){var a=this.ul.dom,c=Ext.fly(b).is(".x-menu-scroller-top");if(c?a.scrollTop>0:a.scrollTop+this.activeMax<a.scrollHeight){Ext.fly(b).addClass(["x-menu-item-active","x-menu-scroller-active"])}},onScrollerOut:function(b,a){Ext.fly(a).removeClass(["x-menu-item-active","x-menu-scroller-active"])},show:function(b,c,a){if(this.floating){this.parentMenu=a;if(!this.el){this.render();this.doLayout(false,true)}this.showAt(this.el.getAlignToXY(b,c||this.defaultAlign,this.defaultOffsets),a)}else{Ext.menu.Menu.superclass.show.call(this)}},showAt:function(b,a){if(this.fireEvent("beforeshow",this)!==false){this.parentMenu=a;if(!this.el){this.render()}if(this.enableScrolling){this.el.setXY(b);b[1]=this.constrainScroll(b[1]);b=[this.el.adjustForConstraints(b)[0],b[1]]}else{b=this.el.adjustForConstraints(b)}this.el.setXY(b);this.el.show();Ext.menu.Menu.superclass.onShow.call(this);if(Ext.isIE){this.fireEvent("autosize",this);if(!Ext.isIE8){this.el.repaint()}}this.hidden=false;this.focus();this.fireEvent("show",this)}},constrainScroll:function(i){var b,d=this.ul.setHeight("auto").getHeight(),a=i,h,e,g,c;if(this.floating){e=Ext.fly(this.el.dom.parentNode);g=e.getScroll().top;c=e.getViewSize().height;h=i-g;b=this.maxHeight?this.maxHeight:c-h;if(d>c){b=c;a=i-h}else{if(b<d){a=i-(d-b);b=d}}}else{b=this.getHeight()}if(this.maxHeight){b=Math.min(this.maxHeight,b)}if(d>b&&b>0){this.activeMax=b-this.scrollerHeight*2-this.el.getFrameWidth("tb")-Ext.num(this.el.shadowOffset,0);this.ul.setHeight(this.activeMax);this.createScrollers();this.el.select(".x-menu-scroller").setDisplayed("")}else{this.ul.setHeight(d);this.el.select(".x-menu-scroller").setDisplayed("none")}this.ul.dom.scrollTop=0;return a},createScrollers:function(){if(!this.scroller){this.scroller={pos:0,top:this.el.insertFirst({tag:"div",cls:"x-menu-scroller x-menu-scroller-top",html:"&#160;"}),bottom:this.el.createChild({tag:"div",cls:"x-menu-scroller x-menu-scroller-bottom",html:"&#160;"})};this.scroller.top.hover(this.onScrollerIn,this.onScrollerOut,this);this.scroller.topRepeater=new Ext.util.ClickRepeater(this.scroller.top,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.top],false)}});this.scroller.bottom.hover(this.onScrollerIn,this.onScrollerOut,this);this.scroller.bottomRepeater=new Ext.util.ClickRepeater(this.scroller.bottom,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.bottom],false)}})}},onLayout:function(){if(this.isVisible()){if(this.enableScrolling){this.constrainScroll(this.el.getTop())}if(this.floating){this.el.sync()}}},focus:function(){if(!this.hidden){this.doFocus.defer(50,this)}},doFocus:function(){if(!this.hidden){this.focusEl.focus()}},hide:function(a){if(!this.isDestroyed){this.deepHide=a;Ext.menu.Menu.superclass.hide.call(this);delete this.deepHide}},onHide:function(){Ext.menu.Menu.superclass.onHide.call(this);this.deactivateActive();if(this.el&&this.floating){this.el.hide()}var a=this.parentMenu;if(this.deepHide===true&&a){if(a.floating){a.hide(true)}else{a.deactivateActive()}}},lookupComponent:function(a){if(Ext.isString(a)){a=(a=="separator"||a=="-")?new Ext.menu.Separator():new Ext.menu.TextItem(a);this.applyDefaults(a)}else{if(Ext.isObject(a)){a=this.getMenuItem(a)}else{if(a.tagName||a.el){a=new Ext.BoxComponent({el:a})}}}return a},applyDefaults:function(b){if(!Ext.isString(b)){b=Ext.menu.Menu.superclass.applyDefaults.call(this,b);var a=this.internalDefaults;if(a){if(b.events){Ext.applyIf(b.initialConfig,a);Ext.apply(b,a)}else{Ext.applyIf(b,a)}}}return b},getMenuItem:function(a){if(!a.isXType){if(!a.xtype&&Ext.isBoolean(a.checked)){return new Ext.menu.CheckItem(a)}return Ext.create(a,this.defaultType)}return a},addSeparator:function(){return this.add(new Ext.menu.Separator())},addElement:function(a){return this.add(new Ext.menu.BaseItem({el:a}))},addItem:function(a){return this.add(a)},addMenuItem:function(a){return this.add(this.getMenuItem(a))},addText:function(a){return this.add(new Ext.menu.TextItem(a))},onDestroy:function(){Ext.EventManager.removeResizeListener(this.hide,this);var a=this.parentMenu;if(a&&a.activeChild==this){delete a.activeChild}delete this.parentMenu;Ext.menu.Menu.superclass.onDestroy.call(this);Ext.menu.MenuMgr.unregister(this);if(this.keyNav){this.keyNav.disable()}var b=this.scroller;if(b){Ext.destroy(b.topRepeater,b.bottomRepeater,b.top,b.bottom)}Ext.destroy(this.el,this.focusEl,this.ul)}});Ext.reg("menu",Ext.menu.Menu);Ext.menu.MenuNav=Ext.extend(Ext.KeyNav,function(){function a(d,c){if(!c.tryActivate(c.items.indexOf(c.activeItem)-1,-1)){c.tryActivate(c.items.length-1,-1)}}function b(d,c){if(!c.tryActivate(c.items.indexOf(c.activeItem)+1,1)){c.tryActivate(0,1)}}return{constructor:function(c){Ext.menu.MenuNav.superclass.constructor.call(this,c.el);this.scope=this.menu=c},doRelay:function(g,d){var c=g.getKey();if(this.menu.activeItem&&this.menu.activeItem.isFormField&&c!=g.TAB){return false}if(!this.menu.activeItem&&g.isNavKeyPress()&&c!=g.SPACE&&c!=g.RETURN){this.menu.tryActivate(0,1);return false}return d.call(this.scope||this,g,this.menu)},tab:function(d,c){d.stopEvent();if(d.shiftKey){a(d,c)}else{b(d,c)}},up:a,down:b,right:function(d,c){if(c.activeItem){c.activeItem.expandMenu(true)}},left:function(d,c){c.hide();if(c.parentMenu&&c.parentMenu.activeItem){c.parentMenu.activeItem.activate()}},enter:function(d,c){if(c.activeItem){d.stopPropagation();c.activeItem.onClick(d);c.fireEvent("click",this,c.activeItem);return true}}}}());Ext.menu.MenuMgr=function(){var g,d,c={},a=false,l=new Date();function n(){g={};d=new Ext.util.MixedCollection();Ext.getDoc().addKeyListener(27,function(){if(d.length>0){i()}})}function i(){if(d&&d.length>0){var o=d.clone();o.each(function(p){p.hide()});return true}return false}function e(o){d.remove(o);if(d.length<1){Ext.getDoc().un("mousedown",m);a=false}}function k(o){var p=d.last();l=new Date();d.add(o);if(!a){Ext.getDoc().on("mousedown",m);a=true}if(o.parentMenu){o.getEl().setZIndex(parseInt(o.parentMenu.getEl().getStyle("z-index"),10)+3);o.parentMenu.activeChild=o}else{if(p&&!p.isDestroyed&&p.isVisible()){o.getEl().setZIndex(parseInt(p.getEl().getStyle("z-index"),10)+3)}}}function b(o){if(o.activeChild){o.activeChild.hide()}if(o.autoHideTimer){clearTimeout(o.autoHideTimer);delete o.autoHideTimer}}function h(o){var p=o.parentMenu;if(!p&&!o.allowOtherMenus){i()}else{if(p&&p.activeChild){p.activeChild.hide()}}}function m(o){if(l.getElapsed()>50&&d.length>0&&!o.getTarget(".x-menu")){i()}}return{hideAll:function(){return i()},register:function(o){if(!g){n()}g[o.id]=o;o.on({beforehide:b,hide:e,beforeshow:h,show:k})},get:function(o){if(typeof o=="string"){if(!g){return null}return g[o]}else{if(o.events){return o}else{if(typeof o.length=="number"){return new Ext.menu.Menu({items:o})}else{return Ext.create(o,"menu")}}}},unregister:function(o){delete g[o.id];o.un("beforehide",b);o.un("hide",e);o.un("beforeshow",h);o.un("show",k)},registerCheckable:function(o){var p=o.group;if(p){if(!c[p]){c[p]=[]}c[p].push(o)}},unregisterCheckable:function(o){var p=o.group;if(p){c[p].remove(o)}},onCheckChange:function(q,r){if(q.group&&r){var t=c[q.group],p=0,o=t.length,s;for(;p<o;p++){s=t[p];if(s!=q){s.setChecked(false)}}}},getCheckedItem:function(q){var r=c[q];if(r){for(var p=0,o=r.length;p<o;p++){if(r[p].checked){return r[p]}}}return null},setCheckedItem:function(q,s){var r=c[q];if(r){for(var p=0,o=r.length;p<o;p++){if(r[p].id==s){r[p].setChecked(true)}}}return null}}}();Ext.menu.BaseItem=Ext.extend(Ext.Component,{canActivate:false,activeClass:"x-menu-item-active",hideOnClick:true,clickHideDelay:1,ctype:"Ext.menu.BaseItem",actionMode:"container",initComponent:function(){Ext.menu.BaseItem.superclass.initComponent.call(this);this.addEvents("click","activate","deactivate");if(this.handler){this.on("click",this.handler,this.scope)}},onRender:function(b,a){Ext.menu.BaseItem.superclass.onRender.apply(this,arguments);if(this.ownerCt&&this.ownerCt instanceof Ext.menu.Menu){this.parentMenu=this.ownerCt}else{this.container.addClass("x-menu-list-item");this.mon(this.el,{scope:this,click:this.onClick,mouseenter:this.activate,mouseleave:this.deactivate})}},setHandler:function(b,a){if(this.handler){this.un("click",this.handler,this.scope)}this.on("click",this.handler=b,this.scope=a)},onClick:function(a){if(!this.disabled&&this.fireEvent("click",this,a)!==false&&(this.parentMenu&&this.parentMenu.fireEvent("itemclick",this,a)!==false)){this.handleClick(a)}else{a.stopEvent()}},activate:function(){if(this.disabled){return false}var a=this.container;a.addClass(this.activeClass);this.region=a.getRegion().adjust(2,2,-2,-2);this.fireEvent("activate",this);return true},deactivate:function(){this.container.removeClass(this.activeClass);this.fireEvent("deactivate",this)},shouldDeactivate:function(a){return !this.region||!this.region.contains(a.getPoint())},handleClick:function(b){var a=this.parentMenu;if(this.hideOnClick){if(a.floating){a.hide.defer(this.clickHideDelay,a,[true])}else{a.deactivateActive()}}},expandMenu:Ext.emptyFn,hideMenu:Ext.emptyFn});Ext.reg("menubaseitem",Ext.menu.BaseItem);Ext.menu.TextItem=Ext.extend(Ext.menu.BaseItem,{hideOnClick:false,itemCls:"x-menu-text",constructor:function(a){if(typeof a=="string"){a={text:a}}Ext.menu.TextItem.superclass.constructor.call(this,a)},onRender:function(){var a=document.createElement("span");a.className=this.itemCls;a.innerHTML=this.text;this.el=a;Ext.menu.TextItem.superclass.onRender.apply(this,arguments)}});Ext.reg("menutextitem",Ext.menu.TextItem);Ext.menu.Separator=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-sep",hideOnClick:false,activeClass:"",onRender:function(a){var b=document.createElement("span");b.className=this.itemCls;b.innerHTML="&#160;";this.el=b;a.addClass("x-menu-sep-li");Ext.menu.Separator.superclass.onRender.apply(this,arguments)}});Ext.reg("menuseparator",Ext.menu.Separator);Ext.menu.Item=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-item",canActivate:true,showDelay:200,altText:"",hideDelay:200,ctype:"Ext.menu.Item",initComponent:function(){Ext.menu.Item.superclass.initComponent.call(this);if(this.menu){this.menu=Ext.menu.MenuMgr.get(this.menu);this.menu.ownerCt=this}},onRender:function(d,b){if(!this.itemTpl){this.itemTpl=Ext.menu.Item.prototype.itemTpl=new Ext.XTemplate('<a id="{id}" class="{cls}" hidefocus="true" unselectable="on" href="{href}"','<tpl if="hrefTarget">',' target="{hrefTarget}"',"</tpl>",">",'<img alt="{altText}" src="{icon}" class="x-menu-item-icon {iconCls}"/>','<span class="x-menu-item-text">{text}</span>',"</a>")}var c=this.getTemplateArgs();this.el=b?this.itemTpl.insertBefore(b,c,true):this.itemTpl.append(d,c,true);this.iconEl=this.el.child("img.x-menu-item-icon");this.textEl=this.el.child(".x-menu-item-text");if(!this.href){this.mon(this.el,"click",Ext.emptyFn,null,{preventDefault:true})}Ext.menu.Item.superclass.onRender.call(this,d,b)},getTemplateArgs:function(){return{id:this.id,cls:this.itemCls+(this.menu?" x-menu-item-arrow":"")+(this.cls?" "+this.cls:""),href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon||Ext.BLANK_IMAGE_URL,iconCls:this.iconCls||"",text:this.itemText||this.text||"&#160;",altText:this.altText||""}},setText:function(a){this.text=a||"&#160;";if(this.rendered){this.textEl.update(this.text);this.parentMenu.layout.doAutoSize()}},setIconClass:function(a){var b=this.iconCls;this.iconCls=a;if(this.rendered){this.iconEl.replaceClass(b,this.iconCls)}},beforeDestroy:function(){if(this.menu){delete this.menu.ownerCt;this.menu.destroy()}Ext.menu.Item.superclass.beforeDestroy.call(this)},handleClick:function(a){if(!this.href){a.stopEvent()}Ext.menu.Item.superclass.handleClick.apply(this,arguments)},activate:function(a){if(Ext.menu.Item.superclass.activate.apply(this,arguments)){this.focus();if(a){this.expandMenu()}}return true},shouldDeactivate:function(a){if(Ext.menu.Item.superclass.shouldDeactivate.call(this,a)){if(this.menu&&this.menu.isVisible()){return !this.menu.getEl().getRegion().contains(a.getPoint())}return true}return false},deactivate:function(){Ext.menu.Item.superclass.deactivate.apply(this,arguments);this.hideMenu()},expandMenu:function(a){if(!this.disabled&&this.menu){clearTimeout(this.hideTimer);delete this.hideTimer;if(!this.menu.isVisible()&&!this.showTimer){this.showTimer=this.deferExpand.defer(this.showDelay,this,[a])}else{if(this.menu.isVisible()&&a){this.menu.tryActivate(0,1)}}}},deferExpand:function(a){delete this.showTimer;this.menu.show(this.container,this.parentMenu.subMenuAlign||"tl-tr?",this.parentMenu);if(a){this.menu.tryActivate(0,1)}},hideMenu:function(){clearTimeout(this.showTimer);delete this.showTimer;if(!this.hideTimer&&this.menu&&this.menu.isVisible()){this.hideTimer=this.deferHide.defer(this.hideDelay,this)}},deferHide:function(){delete this.hideTimer;if(this.menu.over){this.parentMenu.setActiveItem(this,false)}else{this.menu.hide()}}});Ext.reg("menuitem",Ext.menu.Item);Ext.menu.CheckItem=Ext.extend(Ext.menu.Item,{itemCls:"x-menu-item x-menu-check-item",groupClass:"x-menu-group-item",checked:false,ctype:"Ext.menu.CheckItem",initComponent:function(){Ext.menu.CheckItem.superclass.initComponent.call(this);this.addEvents("beforecheckchange","checkchange");if(this.checkHandler){this.on("checkchange",this.checkHandler,this.scope)}Ext.menu.MenuMgr.registerCheckable(this)},onRender:function(a){Ext.menu.CheckItem.superclass.onRender.apply(this,arguments);if(this.group){this.el.addClass(this.groupClass)}if(this.checked){this.checked=false;this.setChecked(true,true)}},destroy:function(){Ext.menu.MenuMgr.unregisterCheckable(this);Ext.menu.CheckItem.superclass.destroy.apply(this,arguments)},setChecked:function(b,a){var c=a===true;if(this.checked!=b&&(c||this.fireEvent("beforecheckchange",this,b)!==false)){Ext.menu.MenuMgr.onCheckChange(this,b);if(this.container){this.container[b?"addClass":"removeClass"]("x-menu-item-checked")}this.checked=b;if(!c){this.fireEvent("checkchange",this,b)}}},handleClick:function(a){if(!this.disabled&&!(this.checked&&this.group)){this.setChecked(!this.checked)}Ext.menu.CheckItem.superclass.handleClick.apply(this,arguments)}});Ext.reg("menucheckitem",Ext.menu.CheckItem);Ext.menu.DateMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:false,hideOnClick:true,pickerId:null,cls:"x-date-menu",initComponent:function(){this.on("beforeshow",this.onBeforeShow,this);if(this.strict=(Ext.isIE7&&Ext.isStrict)){this.on("show",this.onShow,this,{single:true,delay:20})}Ext.apply(this,{plain:true,showSeparator:false,items:this.picker=new Ext.DatePicker(Ext.applyIf({internalRender:this.strict||!Ext.isIE,ctCls:"x-menu-date-item",id:this.pickerId},this.initialConfig))});this.picker.purgeListeners();Ext.menu.DateMenu.superclass.initComponent.call(this);this.relayEvents(this.picker,["select"]);this.on("show",this.picker.focus,this.picker);this.on("select",this.menuHide,this);if(this.handler){this.on("select",this.handler,this.scope||this)}},menuHide:function(){if(this.hideOnClick){this.hide(true)}},onBeforeShow:function(){if(this.picker){this.picker.hideMonthPicker(true)}},onShow:function(){var a=this.picker.getEl();a.setWidth(a.getWidth())}});Ext.reg("datemenu",Ext.menu.DateMenu);Ext.menu.ColorMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:false,hideOnClick:true,cls:"x-color-menu",paletteId:null,initComponent:function(){Ext.apply(this,{plain:true,showSeparator:false,items:this.palette=new Ext.ColorPalette(Ext.applyIf({id:this.paletteId},this.initialConfig))});this.palette.purgeListeners();Ext.menu.ColorMenu.superclass.initComponent.call(this);this.relayEvents(this.palette,["select"]);this.on("select",this.menuHide,this);if(this.handler){this.on("select",this.handler,this.scope||this)}},menuHide:function(){if(this.hideOnClick){this.hide(true)}}});Ext.reg("colormenu",Ext.menu.ColorMenu);Ext.form.Field=Ext.extend(Ext.BoxComponent,{invalidClass:"x-form-invalid",invalidText:"The value in this field is invalid",focusClass:"x-form-focus",validationEvent:"keyup",validateOnBlur:true,validationDelay:250,defaultAutoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off"},fieldClass:"x-form-field",msgTarget:"qtip",msgFx:"normal",readOnly:false,disabled:false,submitValue:true,isFormField:true,msgDisplay:"",hasFocus:false,initComponent:function(){Ext.form.Field.superclass.initComponent.call(this);this.addEvents("focus","blur","specialkey","change","invalid","valid")},getName:function(){return this.rendered&&this.el.dom.name?this.el.dom.name:this.name||this.id||""},onRender:function(c,a){if(!this.el){var b=this.getAutoCreate();if(!b.name){b.name=this.name||this.id}if(this.inputType){b.type=this.inputType}this.autoEl=b}Ext.form.Field.superclass.onRender.call(this,c,a);if(this.submitValue===false){this.el.dom.removeAttribute("name")}var d=this.el.dom.type;if(d){if(d=="password"){d="text"}this.el.addClass("x-form-"+d)}if(this.readOnly){this.setReadOnly(true)}if(this.tabIndex!==undefined){this.el.dom.setAttribute("tabIndex",this.tabIndex)}this.el.addClass([this.fieldClass,this.cls])},getItemCt:function(){return this.itemCt},initValue:function(){if(this.value!==undefined){this.setValue(this.value)}else{if(!Ext.isEmpty(this.el.dom.value)&&this.el.dom.value!=this.emptyText){this.setValue(this.el.dom.value)}}this.originalValue=this.getValue()},isDirty:function(){if(this.disabled||!this.rendered){return false}return String(this.getValue())!==String(this.originalValue)},setReadOnly:function(a){if(this.rendered){this.el.dom.readOnly=a}this.readOnly=a},afterRender:function(){Ext.form.Field.superclass.afterRender.call(this);this.initEvents();this.initValue()},fireKey:function(a){if(a.isSpecialKey()){this.fireEvent("specialkey",this,a)}},reset:function(){this.setValue(this.originalValue);this.clearInvalid()},initEvents:function(){this.mon(this.el,Ext.EventManager.getKeyEvent(),this.fireKey,this);this.mon(this.el,"focus",this.onFocus,this);this.mon(this.el,"blur",this.onBlur,this,this.inEditor?{buffer:10}:null)},preFocus:Ext.emptyFn,onFocus:function(){this.preFocus();if(this.focusClass){this.el.addClass(this.focusClass)}if(!this.hasFocus){this.hasFocus=true;this.startValue=this.getValue();this.fireEvent("focus",this)}},beforeBlur:Ext.emptyFn,onBlur:function(){this.beforeBlur();if(this.focusClass){this.el.removeClass(this.focusClass)}this.hasFocus=false;if(this.validationEvent!==false&&(this.validateOnBlur||this.validationEvent=="blur")){this.validate()}var a=this.getValue();if(String(a)!==String(this.startValue)){this.fireEvent("change",this,a,this.startValue)}this.fireEvent("blur",this);this.postBlur()},postBlur:Ext.emptyFn,isValid:function(a){if(this.disabled){return true}var c=this.preventMark;this.preventMark=a===true;var b=this.validateValue(this.processValue(this.getRawValue()));this.preventMark=c;return b},validate:function(){if(this.disabled||this.validateValue(this.processValue(this.getRawValue()))){this.clearInvalid();return true}return false},processValue:function(a){return a},validateValue:function(b){var a=this.getErrors(b)[0];if(a==undefined){return true}else{this.markInvalid(a);return false}},getErrors:function(){return[]},getActiveError:function(){return this.activeError||""},markInvalid:function(c){if(this.rendered&&!this.preventMark){c=c||this.invalidText;var a=this.getMessageHandler();if(a){a.mark(this,c)}else{if(this.msgTarget){this.el.addClass(this.invalidClass);var b=Ext.getDom(this.msgTarget);if(b){b.innerHTML=c;b.style.display=this.msgDisplay}}}}this.setActiveError(c)},clearInvalid:function(){if(this.rendered&&!this.preventMark){this.el.removeClass(this.invalidClass);var a=this.getMessageHandler();if(a){a.clear(this)}else{if(this.msgTarget){this.el.removeClass(this.invalidClass);var b=Ext.getDom(this.msgTarget);if(b){b.innerHTML="";b.style.display="none"}}}}this.unsetActiveError()},setActiveError:function(b,a){this.activeError=b;if(a!==true){this.fireEvent("invalid",this,b)}},unsetActiveError:function(a){delete this.activeError;if(a!==true){this.fireEvent("valid",this)}},getMessageHandler:function(){return Ext.form.MessageTargets[this.msgTarget]},getErrorCt:function(){return this.el.findParent(".x-form-element",5,true)||this.el.findParent(".x-form-field-wrap",5,true)},alignErrorEl:function(){this.errorEl.setWidth(this.getErrorCt().getWidth(true)-20)},alignErrorIcon:function(){this.errorIcon.alignTo(this.el,"tl-tr",[2,0])},getRawValue:function(){var a=this.rendered?this.el.getValue():Ext.value(this.value,"");if(a===this.emptyText){a=""}return a},getValue:function(){if(!this.rendered){return this.value}var a=this.el.getValue();if(a===this.emptyText||a===undefined){a=""}return a},setRawValue:function(a){return this.rendered?(this.el.dom.value=(Ext.isEmpty(a)?"":a)):""},setValue:function(a){this.value=a;if(this.rendered){this.el.dom.value=(Ext.isEmpty(a)?"":a);this.validate()}return this},append:function(a){this.setValue([this.getValue(),a].join(""))}});Ext.form.MessageTargets={qtip:{mark:function(a,b){a.el.addClass(a.invalidClass);a.el.dom.qtip=b;a.el.dom.qclass="x-form-invalid-tip";if(Ext.QuickTips){Ext.QuickTips.enable()}},clear:function(a){a.el.removeClass(a.invalidClass);a.el.dom.qtip=""}},title:{mark:function(a,b){a.el.addClass(a.invalidClass);a.el.dom.title=b},clear:function(a){a.el.dom.title=""}},under:{mark:function(b,c){b.el.addClass(b.invalidClass);if(!b.errorEl){var a=b.getErrorCt();if(!a){b.el.dom.title=c;return}b.errorEl=a.createChild({cls:"x-form-invalid-msg"});b.on("resize",b.alignErrorEl,b);b.on("destroy",function(){Ext.destroy(this.errorEl)},b)}b.alignErrorEl();b.errorEl.update(c);Ext.form.Field.msgFx[b.msgFx].show(b.errorEl,b)},clear:function(a){a.el.removeClass(a.invalidClass);if(a.errorEl){Ext.form.Field.msgFx[a.msgFx].hide(a.errorEl,a)}else{a.el.dom.title=""}}},side:{mark:function(b,c){b.el.addClass(b.invalidClass);if(!b.errorIcon){var a=b.getErrorCt();if(!a){b.el.dom.title=c;return}b.errorIcon=a.createChild({cls:"x-form-invalid-icon"});if(b.ownerCt){b.ownerCt.on("afterlayout",b.alignErrorIcon,b);b.ownerCt.on("expand",b.alignErrorIcon,b)}b.on("resize",b.alignErrorIcon,b);b.on("destroy",function(){Ext.destroy(this.errorIcon)},b)}b.alignErrorIcon();b.errorIcon.dom.qtip=c;b.errorIcon.dom.qclass="x-form-invalid-tip";b.errorIcon.show()},clear:function(a){a.el.removeClass(a.invalidClass);if(a.errorIcon){a.errorIcon.dom.qtip="";a.errorIcon.hide()}else{a.el.dom.title=""}}}};Ext.form.Field.msgFx={normal:{show:function(a,b){a.setDisplayed("block")},hide:function(a,b){a.setDisplayed(false).update("")}},slide:{show:function(a,b){a.slideIn("t",{stopFx:true})},hide:function(a,b){a.slideOut("t",{stopFx:true,useDisplay:true})}},slideRight:{show:function(a,b){a.fixDisplay();a.alignTo(b.el,"tl-tr");a.slideIn("l",{stopFx:true})},hide:function(a,b){a.slideOut("l",{stopFx:true,useDisplay:true})}}};Ext.reg("field",Ext.form.Field);Ext.form.TextField=Ext.extend(Ext.form.Field,{grow:false,growMin:30,growMax:800,vtype:null,maskRe:null,disableKeyFilter:false,allowBlank:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",selectOnFocus:false,blankText:"This field is required",validator:null,regex:null,regexText:"",emptyText:null,emptyClass:"x-form-empty-field",initComponent:function(){Ext.form.TextField.superclass.initComponent.call(this);this.addEvents("autosize","keydown","keyup","keypress")},initEvents:function(){Ext.form.TextField.superclass.initEvents.call(this);if(this.validationEvent=="keyup"){this.validationTask=new Ext.util.DelayedTask(this.validate,this);this.mon(this.el,"keyup",this.filterValidation,this)}else{if(this.validationEvent!==false&&this.validationEvent!="blur"){this.mon(this.el,this.validationEvent,this.validate,this,{buffer:this.validationDelay})}}if(this.selectOnFocus||this.emptyText){this.mon(this.el,"mousedown",this.onMouseDown,this);if(this.emptyText){this.applyEmptyText()}}if(this.maskRe||(this.vtype&&this.disableKeyFilter!==true&&(this.maskRe=Ext.form.VTypes[this.vtype+"Mask"]))){this.mon(this.el,"keypress",this.filterKeys,this)}if(this.grow){this.mon(this.el,"keyup",this.onKeyUpBuffered,this,{buffer:50});this.mon(this.el,"click",this.autoSize,this)}if(this.enableKeyEvents){this.mon(this.el,{scope:this,keyup:this.onKeyUp,keydown:this.onKeyDown,keypress:this.onKeyPress})}},onMouseDown:function(a){if(!this.hasFocus){this.mon(this.el,"mouseup",Ext.emptyFn,this,{single:true,preventDefault:true})}},processValue:function(a){if(this.stripCharsRe){var b=a.replace(this.stripCharsRe,"");if(b!==a){this.setRawValue(b);return b}}return a},filterValidation:function(a){if(!a.isNavKeyPress()){this.validationTask.delay(this.validationDelay)}},onDisable:function(){Ext.form.TextField.superclass.onDisable.call(this);if(Ext.isIE){this.el.dom.unselectable="on"}},onEnable:function(){Ext.form.TextField.superclass.onEnable.call(this);if(Ext.isIE){this.el.dom.unselectable=""}},onKeyUpBuffered:function(a){if(this.doAutoSize(a)){this.autoSize()}},doAutoSize:function(a){return !a.isNavKeyPress()},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},reset:function(){Ext.form.TextField.superclass.reset.call(this);this.applyEmptyText()},applyEmptyText:function(){if(this.rendered&&this.emptyText&&this.getRawValue().length<1&&!this.hasFocus){this.setRawValue(this.emptyText);this.el.addClass(this.emptyClass)}},preFocus:function(){var a=this.el,b;if(this.emptyText){if(a.dom.value==this.emptyText){this.setRawValue("");b=true}a.removeClass(this.emptyClass)}if(this.selectOnFocus||b){a.dom.select()}},postBlur:function(){this.applyEmptyText()},filterKeys:function(b){if(b.ctrlKey){return}var a=b.getKey();if(Ext.isGecko&&(b.isNavKeyPress()||a==b.BACKSPACE||(a==b.DELETE&&b.button==-1))){return}var c=String.fromCharCode(b.getCharCode());if(!Ext.isGecko&&b.isSpecialKey()&&!c){return}if(!this.maskRe.test(c)){b.stopEvent()}},setValue:function(a){if(this.emptyText&&this.el&&!Ext.isEmpty(a)){this.el.removeClass(this.emptyClass)}Ext.form.TextField.superclass.setValue.apply(this,arguments);this.applyEmptyText();this.autoSize();return this},getErrors:function(a){var d=Ext.form.TextField.superclass.getErrors.apply(this,arguments);a=Ext.isDefined(a)?a:this.processValue(this.getRawValue());if(Ext.isFunction(this.validator)){var c=this.validator(a);if(c!==true){d.push(c)}}if(a.length<1||a===this.emptyText){if(this.allowBlank){return d}else{d.push(this.blankText)}}if(!this.allowBlank&&(a.length<1||a===this.emptyText)){d.push(this.blankText)}if(a.length<this.minLength){d.push(String.format(this.minLengthText,this.minLength))}if(a.length>this.maxLength){d.push(String.format(this.maxLengthText,this.maxLength))}if(this.vtype){var b=Ext.form.VTypes;if(!b[this.vtype](a,this)){d.push(this.vtypeText||b[this.vtype+"Text"])}}if(this.regex&&!this.regex.test(a)){d.push(this.regexText)}return d},selectText:function(h,a){var c=this.getRawValue();var e=false;if(c.length>0){h=h===undefined?0:h;a=a===undefined?c.length:a;var g=this.el.dom;if(g.setSelectionRange){g.setSelectionRange(h,a)}else{if(g.createTextRange){var b=g.createTextRange();b.moveStart("character",h);b.moveEnd("character",a-c.length);b.select()}}e=Ext.isGecko||Ext.isOpera}else{e=true}if(e){this.focus()}},autoSize:function(){if(!this.grow||!this.rendered){return}if(!this.metrics){this.metrics=Ext.util.TextMetrics.createInstance(this.el)}var c=this.el;var b=c.dom.value;var e=document.createElement("div");e.appendChild(document.createTextNode(b));b=e.innerHTML;Ext.removeNode(e);e=null;b+="&#160;";var a=Math.min(this.growMax,Math.max(this.metrics.getWidth(b)+10,this.growMin));this.el.setWidth(a);this.fireEvent("autosize",this,a)},onDestroy:function(){if(this.validationTask){this.validationTask.cancel();this.validationTask=null}Ext.form.TextField.superclass.onDestroy.call(this)}});Ext.reg("textfield",Ext.form.TextField);Ext.form.TriggerField=Ext.extend(Ext.form.TextField,{defaultAutoCreate:{tag:"input",type:"text",size:"16",autocomplete:"off"},hideTrigger:false,editable:true,readOnly:false,wrapFocusClass:"x-trigger-wrap-focus",autoSize:Ext.emptyFn,monitorTab:true,deferHeight:true,mimicing:false,actionMode:"wrap",defaultTriggerWidth:17,onResize:function(a,c){Ext.form.TriggerField.superclass.onResize.call(this,a,c);var b=this.getTriggerWidth();if(Ext.isNumber(a)){this.el.setWidth(a-b)}this.wrap.setWidth(this.el.getWidth()+b)},getTriggerWidth:function(){var a=this.trigger.getWidth();if(!this.hideTrigger&&!this.readOnly&&a===0){a=this.defaultTriggerWidth}return a},alignErrorIcon:function(){if(this.wrap){this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0])}},onRender:function(b,a){this.doc=Ext.isIE?Ext.getBody():Ext.getDoc();Ext.form.TriggerField.superclass.onRender.call(this,b,a);this.wrap=this.el.wrap({cls:"x-form-field-wrap x-form-field-trigger-wrap"});this.trigger=this.wrap.createChild(this.triggerConfig||{tag:"img",src:Ext.BLANK_IMAGE_URL,alt:"",cls:"x-form-trigger "+this.triggerClass});this.initTrigger();if(!this.width){this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth())}this.resizeEl=this.positionEl=this.wrap},getWidth:function(){return(this.el.getWidth()+this.trigger.getWidth())},updateEditState:function(){if(this.rendered){if(this.readOnly){this.el.dom.readOnly=true;this.el.addClass("x-trigger-noedit");this.mun(this.el,"click",this.onTriggerClick,this);this.trigger.setDisplayed(false)}else{if(!this.editable){this.el.dom.readOnly=true;this.el.addClass("x-trigger-noedit");this.mon(this.el,"click",this.onTriggerClick,this)}else{this.el.dom.readOnly=false;this.el.removeClass("x-trigger-noedit");this.mun(this.el,"click",this.onTriggerClick,this)}this.trigger.setDisplayed(!this.hideTrigger)}this.onResize(this.width||this.wrap.getWidth())}},setHideTrigger:function(a){if(a!=this.hideTrigger){this.hideTrigger=a;this.updateEditState()}},setEditable:function(a){if(a!=this.editable){this.editable=a;this.updateEditState()}},setReadOnly:function(a){if(a!=this.readOnly){this.readOnly=a;this.updateEditState()}},afterRender:function(){Ext.form.TriggerField.superclass.afterRender.call(this);this.updateEditState()},initTrigger:function(){this.mon(this.trigger,"click",this.onTriggerClick,this,{preventDefault:true});this.trigger.addClassOnOver("x-form-trigger-over");this.trigger.addClassOnClick("x-form-trigger-click")},onDestroy:function(){Ext.destroy(this.trigger,this.wrap);if(this.mimicing){this.doc.un("mousedown",this.mimicBlur,this)}delete this.doc;Ext.form.TriggerField.superclass.onDestroy.call(this)},onFocus:function(){Ext.form.TriggerField.superclass.onFocus.call(this);if(!this.mimicing){this.wrap.addClass(this.wrapFocusClass);this.mimicing=true;this.doc.on("mousedown",this.mimicBlur,this,{delay:10});if(this.monitorTab){this.on("specialkey",this.checkTab,this)}}},checkTab:function(a,b){if(b.getKey()==b.TAB){this.triggerBlur()}},onBlur:Ext.emptyFn,mimicBlur:function(a){if(!this.isDestroyed&&!this.wrap.contains(a.target)&&this.validateBlur(a)){this.triggerBlur()}},triggerBlur:function(){this.mimicing=false;this.doc.un("mousedown",this.mimicBlur,this);if(this.monitorTab&&this.el){this.un("specialkey",this.checkTab,this)}Ext.form.TriggerField.superclass.onBlur.call(this);if(this.wrap){this.wrap.removeClass(this.wrapFocusClass)}},beforeBlur:Ext.emptyFn,validateBlur:function(a){return true},onTriggerClick:Ext.emptyFn});Ext.form.TwinTriggerField=Ext.extend(Ext.form.TriggerField,{initComponent:function(){Ext.form.TwinTriggerField.superclass.initComponent.call(this);this.triggerConfig={tag:"span",cls:"x-form-twin-triggers",cn:[{tag:"img",src:Ext.BLANK_IMAGE_URL,alt:"",cls:"x-form-trigger "+this.trigger1Class},{tag:"img",src:Ext.BLANK_IMAGE_URL,alt:"",cls:"x-form-trigger "+this.trigger2Class}]}},getTrigger:function(a){return this.triggers[a]},afterRender:function(){Ext.form.TwinTriggerField.superclass.afterRender.call(this);var c=this.triggers,b=0,a=c.length;for(;b<a;++b){if(this["hideTrigger"+(b+1)]){c[b].hide()}}},initTrigger:function(){var a=this.trigger.select(".x-form-trigger",true),b=this;a.each(function(d,g,c){var e="Trigger"+(c+1);d.hide=function(){var h=b.wrap.getWidth();this.dom.style.display="none";b.el.setWidth(h-b.trigger.getWidth());b["hidden"+e]=true};d.show=function(){var h=b.wrap.getWidth();this.dom.style.display="";b.el.setWidth(h-b.trigger.getWidth());b["hidden"+e]=false};this.mon(d,"click",this["on"+e+"Click"],this,{preventDefault:true});d.addClassOnOver("x-form-trigger-over");d.addClassOnClick("x-form-trigger-click")},this);this.triggers=a.elements},getTriggerWidth:function(){var a=0;Ext.each(this.triggers,function(d,c){var e="Trigger"+(c+1),b=d.getWidth();if(b===0&&!this["hidden"+e]){a+=this.defaultTriggerWidth}else{a+=b}},this);return a},onDestroy:function(){Ext.destroy(this.triggers);Ext.form.TwinTriggerField.superclass.onDestroy.call(this)},onTrigger1Click:Ext.emptyFn,onTrigger2Click:Ext.emptyFn});Ext.reg("trigger",Ext.form.TriggerField);Ext.form.TextArea=Ext.extend(Ext.form.TextField,{growMin:60,growMax:1000,growAppend:"&#160;\n&#160;",enterIsSpecial:false,preventScrollbars:false,onRender:function(b,a){if(!this.el){this.defaultAutoCreate={tag:"textarea",style:"width:100px;height:60px;",autocomplete:"off"}}Ext.form.TextArea.superclass.onRender.call(this,b,a);if(this.grow){this.textSizeEl=Ext.DomHelper.append(document.body,{tag:"pre",cls:"x-form-grow-sizer"});if(this.preventScrollbars){this.el.setStyle("overflow","hidden")}this.el.setHeight(this.growMin)}},onDestroy:function(){Ext.removeNode(this.textSizeEl);Ext.form.TextArea.superclass.onDestroy.call(this)},fireKey:function(a){if(a.isSpecialKey()&&(this.enterIsSpecial||(a.getKey()!=a.ENTER||a.hasModifier()))){this.fireEvent("specialkey",this,a)}},doAutoSize:function(a){return !a.isNavKeyPress()||a.getKey()==a.ENTER},filterValidation:function(a){if(!a.isNavKeyPress()||(!this.enterIsSpecial&&a.keyCode==a.ENTER)){this.validationTask.delay(this.validationDelay)}},autoSize:function(){if(!this.grow||!this.textSizeEl){return}var c=this.el,a=Ext.util.Format.htmlEncode(c.dom.value),d=this.textSizeEl,b;Ext.fly(d).setWidth(this.el.getWidth());if(a.length<1){a="&#160;&#160;"}else{a+=this.growAppend;if(Ext.isIE){a=a.replace(/\n/g,"&#160;<br />")}}d.innerHTML=a;b=Math.min(this.growMax,Math.max(d.offsetHeight,this.growMin));if(b!=this.lastHeight){this.lastHeight=b;this.el.setHeight(b);this.fireEvent("autosize",this,b)}}});Ext.reg("textarea",Ext.form.TextArea);Ext.form.NumberField=Ext.extend(Ext.form.TextField,{fieldClass:"x-form-field x-form-num-field",allowDecimals:true,decimalSeparator:".",decimalPrecision:2,allowNegative:true,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",baseChars:"0123456789",autoStripChars:false,initEvents:function(){var a=this.baseChars+"";if(this.allowDecimals){a+=this.decimalSeparator}if(this.allowNegative){a+="-"}a=Ext.escapeRe(a);this.maskRe=new RegExp("["+a+"]");if(this.autoStripChars){this.stripCharsRe=new RegExp("[^"+a+"]","gi")}Ext.form.NumberField.superclass.initEvents.call(this)},getErrors:function(b){var c=Ext.form.NumberField.superclass.getErrors.apply(this,arguments);b=Ext.isDefined(b)?b:this.processValue(this.getRawValue());if(b.length<1){return c}b=String(b).replace(this.decimalSeparator,".");if(isNaN(b)){c.push(String.format(this.nanText,b))}var a=this.parseValue(b);if(a<this.minValue){c.push(String.format(this.minText,this.minValue))}if(a>this.maxValue){c.push(String.format(this.maxText,this.maxValue))}return c},getValue:function(){return this.fixPrecision(this.parseValue(Ext.form.NumberField.superclass.getValue.call(this)))},setValue:function(a){a=this.fixPrecision(a);a=Ext.isNumber(a)?a:parseFloat(String(a).replace(this.decimalSeparator,"."));a=isNaN(a)?"":String(a).replace(".",this.decimalSeparator);return Ext.form.NumberField.superclass.setValue.call(this,a)},setMinValue:function(a){this.minValue=Ext.num(a,Number.NEGATIVE_INFINITY)},setMaxValue:function(a){this.maxValue=Ext.num(a,Number.MAX_VALUE)},parseValue:function(a){a=parseFloat(String(a).replace(this.decimalSeparator,"."));return isNaN(a)?"":a},fixPrecision:function(b){var a=isNaN(b);if(!this.allowDecimals||this.decimalPrecision==-1||a||!b){return a?"":b}return parseFloat(parseFloat(b).toFixed(this.decimalPrecision))},beforeBlur:function(){var a=this.parseValue(this.getRawValue());if(!Ext.isEmpty(a)){this.setValue(a)}}});Ext.reg("numberfield",Ext.form.NumberField);Ext.form.DateField=Ext.extend(Ext.form.TriggerField,{format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerClass:"x-form-date-trigger",showToday:true,startDay:0,defaultAutoCreate:{tag:"input",type:"text",size:"10",autocomplete:"off"},initTime:"12",initTimeFormat:"H",safeParse:function(b,c){if(/[gGhH]/.test(c.replace(/(\\.)/g,""))){return Date.parseDate(b,c)}else{var a=Date.parseDate(b+" "+this.initTime,c+" "+this.initTimeFormat);if(a){return a.clearTime()}}},initComponent:function(){Ext.form.DateField.superclass.initComponent.call(this);this.addEvents("select");if(Ext.isString(this.minValue)){this.minValue=this.parseDate(this.minValue)}if(Ext.isString(this.maxValue)){this.maxValue=this.parseDate(this.maxValue)}this.disabledDatesRE=null;this.initDisabledDays()},initEvents:function(){Ext.form.DateField.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{down:function(a){this.onTriggerClick()},scope:this,forceKeyDown:true})},initDisabledDays:function(){if(this.disabledDates){var b=this.disabledDates,a=b.length-1,c="(?:";Ext.each(b,function(g,e){c+=Ext.isDate(g)?"^"+Ext.escapeRe(g.dateFormat(this.format))+"$":b[e];if(e!=a){c+="|"}},this);this.disabledDatesRE=new RegExp(c+")")}},setDisabledDates:function(a){this.disabledDates=a;this.initDisabledDays();if(this.menu){this.menu.picker.setDisabledDates(this.disabledDatesRE)}},setDisabledDays:function(a){this.disabledDays=a;if(this.menu){this.menu.picker.setDisabledDays(a)}},setMinValue:function(a){this.minValue=(Ext.isString(a)?this.parseDate(a):a);if(this.menu){this.menu.picker.setMinDate(this.minValue)}},setMaxValue:function(a){this.maxValue=(Ext.isString(a)?this.parseDate(a):a);if(this.menu){this.menu.picker.setMaxDate(this.maxValue)}},getErrors:function(e){var h=Ext.form.DateField.superclass.getErrors.apply(this,arguments);e=this.formatDate(e||this.processValue(this.getRawValue()));if(e.length<1){return h}var c=e;e=this.parseDate(e);if(!e){h.push(String.format(this.invalidText,c,this.format));return h}var g=e.getTime();if(this.minValue&&g<this.minValue.clearTime().getTime()){h.push(String.format(this.minText,this.formatDate(this.minValue)))}if(this.maxValue&&g>this.maxValue.clearTime().getTime()){h.push(String.format(this.maxText,this.formatDate(this.maxValue)))}if(this.disabledDays){var a=e.getDay();for(var b=0;b<this.disabledDays.length;b++){if(a===this.disabledDays[b]){h.push(this.disabledDaysText);break}}}var d=this.formatDate(e);if(this.disabledDatesRE&&this.disabledDatesRE.test(d)){h.push(String.format(this.disabledDatesText,d))}return h},validateBlur:function(){return !this.menu||!this.menu.isVisible()},getValue:function(){return this.parseDate(Ext.form.DateField.superclass.getValue.call(this))||""},setValue:function(a){return Ext.form.DateField.superclass.setValue.call(this,this.formatDate(this.parseDate(a)))},parseDate:function(g){if(!g||Ext.isDate(g)){return g}var b=this.safeParse(g,this.format),c=this.altFormats,e=this.altFormatsArray;if(!b&&c){e=e||c.split("|");for(var d=0,a=e.length;d<a&&!b;d++){b=this.safeParse(g,e[d])}}return b},onDestroy:function(){Ext.destroy(this.menu,this.keyNav);Ext.form.DateField.superclass.onDestroy.call(this)},formatDate:function(a){return Ext.isDate(a)?a.dateFormat(this.format):a},onTriggerClick:function(){if(this.disabled){return}if(this.menu==null){this.menu=new Ext.menu.DateMenu({hideOnClick:false,focusOnSelect:false})}this.onFocus();Ext.apply(this.menu.picker,{minDate:this.minValue,maxDate:this.maxValue,disabledDatesRE:this.disabledDatesRE,disabledDatesText:this.disabledDatesText,disabledDays:this.disabledDays,disabledDaysText:this.disabledDaysText,format:this.format,showToday:this.showToday,startDay:this.startDay,minText:String.format(this.minText,this.formatDate(this.minValue)),maxText:String.format(this.maxText,this.formatDate(this.maxValue))});this.menu.picker.setValue(this.getValue()||new Date());this.menu.show(this.el,"tl-bl?");this.menuEvents("on")},menuEvents:function(a){this.menu[a]("select",this.onSelect,this);this.menu[a]("hide",this.onMenuHide,this);this.menu[a]("show",this.onFocus,this)},onSelect:function(a,b){this.setValue(b);this.fireEvent("select",this,b);this.menu.hide()},onMenuHide:function(){this.focus(false,60);this.menuEvents("un")},beforeBlur:function(){var a=this.parseDate(this.getRawValue());if(a){this.setValue(a)}}});Ext.reg("datefield",Ext.form.DateField);Ext.form.DisplayField=Ext.extend(Ext.form.Field,{validationEvent:false,validateOnBlur:false,defaultAutoCreate:{tag:"div"},fieldClass:"x-form-display-field",htmlEncode:false,initEvents:Ext.emptyFn,isValid:function(){return true},validate:function(){return true},getRawValue:function(){var a=this.rendered?this.el.dom.innerHTML:Ext.value(this.value,"");if(a===this.emptyText){a=""}if(this.htmlEncode){a=Ext.util.Format.htmlDecode(a)}return a},getValue:function(){return this.getRawValue()},getName:function(){return this.name},setRawValue:function(a){if(this.htmlEncode){a=Ext.util.Format.htmlEncode(a)}return this.rendered?(this.el.dom.innerHTML=(Ext.isEmpty(a)?"":a)):(this.value=a)},setValue:function(a){this.setRawValue(a);return this}});Ext.reg("displayfield",Ext.form.DisplayField);Ext.form.ComboBox=Ext.extend(Ext.form.TriggerField,{defaultAutoCreate:{tag:"input",type:"text",size:"24",autocomplete:"off"},listClass:"",selectedClass:"x-combo-selected",listEmptyText:"",triggerClass:"x-form-arrow-trigger",shadow:"sides",listAlign:"tl-bl?",maxHeight:300,minHeight:90,triggerAction:"query",minChars:4,autoSelect:true,typeAhead:false,queryDelay:500,pageSize:0,selectOnFocus:false,queryParam:"query",loadingText:"Loading...",resizable:false,handleHeight:8,allQuery:"",mode:"remote",minListWidth:70,forceSelection:false,typeAheadDelay:250,lazyInit:true,clearFilterOnReset:true,submitValue:undefined,initComponent:function(){Ext.form.ComboBox.superclass.initComponent.call(this);this.addEvents("expand","collapse","beforeselect","select","beforequery");if(this.transform){var c=Ext.getDom(this.transform);if(!this.hiddenName){this.hiddenName=c.name}if(!this.store){this.mode="local";var k=[],e=c.options;for(var b=0,a=e.length;b<a;b++){var h=e[b],g=(h.hasAttribute?h.hasAttribute("value"):h.getAttributeNode("value").specified)?h.value:h.text;if(h.selected&&Ext.isEmpty(this.value,true)){this.value=g}k.push([g,h.text])}this.store=new Ext.data.ArrayStore({idIndex:0,fields:["value","text"],data:k,autoDestroy:true});this.valueField="value";this.displayField="text"}c.name=Ext.id();if(!this.lazyRender){this.target=true;this.el=Ext.DomHelper.insertBefore(c,this.autoCreate||this.defaultAutoCreate);this.render(this.el.parentNode,c)}Ext.removeNode(c)}else{if(this.store){this.store=Ext.StoreMgr.lookup(this.store);if(this.store.autoCreated){this.displayField=this.valueField="field1";if(!this.store.expandData){this.displayField="field2"}this.mode="local"}}}this.selectedIndex=-1;if(this.mode=="local"){if(!Ext.isDefined(this.initialConfig.queryDelay)){this.queryDelay=10}if(!Ext.isDefined(this.initialConfig.minChars)){this.minChars=0}}},onRender:function(b,a){if(this.hiddenName&&!Ext.isDefined(this.submitValue)){this.submitValue=false}Ext.form.ComboBox.superclass.onRender.call(this,b,a);if(this.hiddenName){this.hiddenField=this.el.insertSibling({tag:"input",type:"hidden",name:this.hiddenName,id:(this.hiddenId||Ext.id())},"before",true)}if(Ext.isGecko){this.el.dom.setAttribute("autocomplete","off")}if(!this.lazyInit){this.initList()}else{this.on("focus",this.initList,this,{single:true})}},initValue:function(){Ext.form.ComboBox.superclass.initValue.call(this);if(this.hiddenField){this.hiddenField.value=Ext.value(Ext.isDefined(this.hiddenValue)?this.hiddenValue:this.value,"")}},getParentZIndex:function(){var a;if(this.ownerCt){this.findParentBy(function(b){a=parseInt(b.getPositionEl().getStyle("z-index"),10);return !!a})}return a},getZIndex:function(b){b=b||Ext.getDom(this.getListParent()||Ext.getBody());var a=parseInt(Ext.fly(b).getStyle("z-index"),10);if(!a){a=this.getParentZIndex()}return(a||12000)+5},initList:function(){if(!this.list){var a="x-combo-list",c=Ext.getDom(this.getListParent()||Ext.getBody());this.list=new Ext.Layer({parentEl:c,shadow:this.shadow,cls:[a,this.listClass].join(" "),constrain:false,zindex:this.getZIndex(c)});var b=this.listWidth||Math.max(this.wrap.getWidth(),this.minListWidth);this.list.setSize(b,0);this.list.swallowEvent("mousewheel");this.assetHeight=0;if(this.syncFont!==false){this.list.setStyle("font-size",this.el.getStyle("font-size"))}if(this.title){this.header=this.list.createChild({cls:a+"-hd",html:this.title});this.assetHeight+=this.header.getHeight()}this.innerList=this.list.createChild({cls:a+"-inner"});this.mon(this.innerList,"mouseover",this.onViewOver,this);this.mon(this.innerList,"mousemove",this.onViewMove,this);this.innerList.setWidth(b-this.list.getFrameWidth("lr"));if(this.pageSize){this.footer=this.list.createChild({cls:a+"-ft"});this.pageTb=new Ext.PagingToolbar({store:this.store,pageSize:this.pageSize,renderTo:this.footer});this.assetHeight+=this.footer.getHeight()}if(!this.tpl){this.tpl='<tpl for="."><div class="'+a+'-item">{'+this.displayField+"}</div></tpl>"}this.view=new Ext.DataView({applyTo:this.innerList,tpl:this.tpl,singleSelect:true,selectedClass:this.selectedClass,itemSelector:this.itemSelector||"."+a+"-item",emptyText:this.listEmptyText,deferEmptyText:false});this.mon(this.view,{containerclick:this.onViewClick,click:this.onViewClick,scope:this});this.bindStore(this.store,true);if(this.resizable){this.resizer=new Ext.Resizable(this.list,{pinned:true,handles:"se"});this.mon(this.resizer,"resize",function(g,d,e){this.maxHeight=e-this.handleHeight-this.list.getFrameWidth("tb")-this.assetHeight;this.listWidth=d;this.innerList.setWidth(d-this.list.getFrameWidth("lr"));this.restrictHeight()},this);this[this.pageSize?"footer":"innerList"].setStyle("margin-bottom",this.handleHeight+"px")}}},getListParent:function(){return document.body},getStore:function(){return this.store},bindStore:function(a,b){if(this.store&&!b){if(this.store!==a&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.collapse,this)}if(!a){this.store=null;if(this.view){this.view.bindStore(null)}if(this.pageTb){this.pageTb.bindStore(null)}}}if(a){if(!b){this.lastQuery=null;if(this.pageTb){this.pageTb.bindStore(a)}}this.store=Ext.StoreMgr.lookup(a);this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.collapse});if(this.view){this.view.bindStore(a)}}},reset:function(){if(this.clearFilterOnReset&&this.mode=="local"){this.store.clearFilter()}Ext.form.ComboBox.superclass.reset.call(this)},initEvents:function(){Ext.form.ComboBox.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{up:function(a){this.inKeyMode=true;this.selectPrev()},down:function(a){if(!this.isExpanded()){this.onTriggerClick()}else{this.inKeyMode=true;this.selectNext()}},enter:function(a){this.onViewClick()},esc:function(a){this.collapse()},tab:function(a){if(this.forceSelection===true){this.collapse()}else{this.onViewClick(false)}return true},scope:this,doRelay:function(c,b,a){if(a=="down"||this.scope.isExpanded()){var d=Ext.KeyNav.prototype.doRelay.apply(this,arguments);if(!Ext.isIE&&Ext.EventManager.useKeydown){this.scope.fireKey(c)}return d}return true},forceKeyDown:true,defaultEventAction:"stopEvent"});this.queryDelay=Math.max(this.queryDelay||10,this.mode=="local"?10:250);this.dqTask=new Ext.util.DelayedTask(this.initQuery,this);if(this.typeAhead){this.taTask=new Ext.util.DelayedTask(this.onTypeAhead,this)}if(!this.enableKeyEvents){this.mon(this.el,"keyup",this.onKeyUp,this)}},onDestroy:function(){if(this.dqTask){this.dqTask.cancel();this.dqTask=null}this.bindStore(null);Ext.destroy(this.resizer,this.view,this.pageTb,this.list);Ext.destroyMembers(this,"hiddenField");Ext.form.ComboBox.superclass.onDestroy.call(this)},fireKey:function(a){if(!this.isExpanded()){Ext.form.ComboBox.superclass.fireKey.call(this,a)}},onResize:function(a,b){Ext.form.ComboBox.superclass.onResize.apply(this,arguments);if(!isNaN(a)&&this.isVisible()&&this.list){this.doResize(a)}else{this.bufferSize=a}},doResize:function(a){if(!Ext.isDefined(this.listWidth)){var b=Math.max(a,this.minListWidth);this.list.setWidth(b);this.innerList.setWidth(b-this.list.getFrameWidth("lr"))}},onEnable:function(){Ext.form.ComboBox.superclass.onEnable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=false}},onDisable:function(){Ext.form.ComboBox.superclass.onDisable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=true}},onBeforeLoad:function(){if(!this.hasFocus){return}this.innerList.update(this.loadingText?'<div class="loading-indicator">'+this.loadingText+"</div>":"");this.restrictHeight();this.selectedIndex=-1},onLoad:function(){if(!this.hasFocus){return}if(this.store.getCount()>0||this.listEmptyText){this.expand();this.restrictHeight();if(this.lastQuery==this.allQuery){if(this.editable){this.el.dom.select()}if(this.autoSelect!==false&&!this.selectByValue(this.value,true)){this.select(0,true)}}else{if(this.autoSelect!==false){this.selectNext()}if(this.typeAhead&&this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE){this.taTask.delay(this.typeAheadDelay)}}}else{this.collapse()}},onTypeAhead:function(){if(this.store.getCount()>0){var b=this.store.getAt(0);var c=b.data[this.displayField];var a=c.length;var d=this.getRawValue().length;if(d!=a){this.setRawValue(c);this.selectText(d,c.length)}}},assertValue:function(){var b=this.getRawValue(),a;if(this.valueField&&Ext.isDefined(this.value)){a=this.findRecord(this.valueField,this.value)}if(!a||a.get(this.displayField)!=b){a=this.findRecord(this.displayField,b)}if(!a&&this.forceSelection){if(b.length>0&&b!=this.emptyText){this.el.dom.value=Ext.value(this.lastSelectionText,"");this.applyEmptyText()}else{this.clearValue()}}else{if(a&&this.valueField){if(this.value==b){return}b=a.get(this.valueField||this.displayField)}this.setValue(b)}},onSelect:function(a,b){if(this.fireEvent("beforeselect",this,a,b)!==false){this.setValue(a.data[this.valueField||this.displayField]);this.collapse();this.fireEvent("select",this,a,b)}},getName:function(){var a=this.hiddenField;return a&&a.name?a.name:this.hiddenName||Ext.form.ComboBox.superclass.getName.call(this)},getValue:function(){if(this.valueField){return Ext.isDefined(this.value)?this.value:""}else{return Ext.form.ComboBox.superclass.getValue.call(this)}},clearValue:function(){if(this.hiddenField){this.hiddenField.value=""}this.setRawValue("");this.lastSelectionText="";this.applyEmptyText();this.value=""},setValue:function(a){var c=a;if(this.valueField){var b=this.findRecord(this.valueField,a);if(b){c=b.data[this.displayField]}else{if(Ext.isDefined(this.valueNotFoundText)){c=this.valueNotFoundText}}}this.lastSelectionText=c;if(this.hiddenField){this.hiddenField.value=Ext.value(a,"")}Ext.form.ComboBox.superclass.setValue.call(this,c);this.value=a;return this},findRecord:function(c,b){var a;if(this.store.getCount()>0){this.store.each(function(d){if(d.data[c]==b){a=d;return false}})}return a},onViewMove:function(b,a){this.inKeyMode=false},onViewOver:function(d,b){if(this.inKeyMode){return}var c=this.view.findItemFromChild(b);if(c){var a=this.view.indexOf(c);this.select(a,false)}},onViewClick:function(b){var a=this.view.getSelectedIndexes()[0],c=this.store,d=c.getAt(a);if(d){this.onSelect(d,a)}else{this.collapse()}if(b!==false){this.el.focus()}},restrictHeight:function(){this.innerList.dom.style.height="";var b=this.innerList.dom,e=this.list.getFrameWidth("tb")+(this.resizable?this.handleHeight:0)+this.assetHeight,c=Math.max(b.clientHeight,b.offsetHeight,b.scrollHeight),a=this.getPosition()[1]-Ext.getBody().getScroll().top,g=Ext.lib.Dom.getViewHeight()-a-this.getSize().height,d=Math.max(a,g,this.minHeight||0)-this.list.shadowOffset-e-5;c=Math.min(c,d,this.maxHeight);this.innerList.setHeight(c);this.list.beginUpdate();this.list.setHeight(c+e);this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign));this.list.endUpdate()},isExpanded:function(){return this.list&&this.list.isVisible()},selectByValue:function(a,c){if(!Ext.isEmpty(a,true)){var b=this.findRecord(this.valueField||this.displayField,a);if(b){this.select(this.store.indexOf(b),c);return true}}return false},select:function(a,c){this.selectedIndex=a;this.view.select(a);if(c!==false){var b=this.view.getNode(a);if(b){this.innerList.scrollChildIntoView(b,false)}}},selectNext:function(){var a=this.store.getCount();if(a>0){if(this.selectedIndex==-1){this.select(0)}else{if(this.selectedIndex<a-1){this.select(this.selectedIndex+1)}}}},selectPrev:function(){var a=this.store.getCount();if(a>0){if(this.selectedIndex==-1){this.select(0)}else{if(this.selectedIndex!==0){this.select(this.selectedIndex-1)}}}},onKeyUp:function(b){var a=b.getKey();if(this.editable!==false&&this.readOnly!==true&&(a==b.BACKSPACE||!b.isSpecialKey())){this.lastKey=a;this.dqTask.delay(this.queryDelay)}Ext.form.ComboBox.superclass.onKeyUp.call(this,b)},validateBlur:function(){return !this.list||!this.list.isVisible()},initQuery:function(){this.doQuery(this.getRawValue())},beforeBlur:function(){this.assertValue()},postBlur:function(){Ext.form.ComboBox.superclass.postBlur.call(this);this.collapse();this.inKeyMode=false},doQuery:function(c,b){c=Ext.isEmpty(c)?"":c;var a={query:c,forceAll:b,combo:this,cancel:false};if(this.fireEvent("beforequery",a)===false||a.cancel){return false}c=a.query;b=a.forceAll;if(b===true||(c.length>=this.minChars)){if(this.lastQuery!==c){this.lastQuery=c;if(this.mode=="local"){this.selectedIndex=-1;if(b){this.store.clearFilter()}else{this.store.filter(this.displayField,c)}this.onLoad()}else{this.store.baseParams[this.queryParam]=c;this.store.load({params:this.getParams(c)});this.expand()}}else{this.selectedIndex=-1;this.onLoad()}}},getParams:function(a){var b={},c=this.store.paramNames;if(this.pageSize){b[c.start]=0;b[c.limit]=this.pageSize}return b},collapse:function(){if(!this.isExpanded()){return}this.list.hide();Ext.getDoc().un("mousewheel",this.collapseIf,this);Ext.getDoc().un("mousedown",this.collapseIf,this);this.fireEvent("collapse",this)},collapseIf:function(a){if(!this.isDestroyed&&!a.within(this.wrap)&&!a.within(this.list)){this.collapse()}},expand:function(){if(this.isExpanded()||!this.hasFocus){return}if(this.title||this.pageSize){this.assetHeight=0;if(this.title){this.assetHeight+=this.header.getHeight()}if(this.pageSize){this.assetHeight+=this.footer.getHeight()}}if(this.bufferSize){this.doResize(this.bufferSize);delete this.bufferSize}this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign));this.list.setZIndex(this.getZIndex());this.list.show();if(Ext.isGecko2){this.innerList.setOverflow("auto")}this.mon(Ext.getDoc(),{scope:this,mousewheel:this.collapseIf,mousedown:this.collapseIf});this.fireEvent("expand",this)},onTriggerClick:function(){if(this.readOnly||this.disabled){return}if(this.isExpanded()){this.collapse();this.el.focus()}else{this.onFocus({});if(this.triggerAction=="all"){this.doQuery(this.allQuery,true)}else{this.doQuery(this.getRawValue())}this.el.focus()}}});Ext.reg("combo",Ext.form.ComboBox);Ext.form.Checkbox=Ext.extend(Ext.form.Field,{focusClass:undefined,fieldClass:"x-form-field",checked:false,boxLabel:"&#160;",defaultAutoCreate:{tag:"input",type:"checkbox",autocomplete:"off"},actionMode:"wrap",initComponent:function(){Ext.form.Checkbox.superclass.initComponent.call(this);this.addEvents("check")},onResize:function(){Ext.form.Checkbox.superclass.onResize.apply(this,arguments);if(!this.boxLabel&&!this.fieldLabel){this.el.alignTo(this.wrap,"c-c")}},initEvents:function(){Ext.form.Checkbox.superclass.initEvents.call(this);this.mon(this.el,{scope:this,click:this.onClick,change:this.onClick})},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,onRender:function(b,a){Ext.form.Checkbox.superclass.onRender.call(this,b,a);if(this.inputValue!==undefined){this.el.dom.value=this.inputValue}this.wrap=this.el.wrap({cls:"x-form-check-wrap"});if(this.boxLabel){this.wrap.createChild({tag:"label",htmlFor:this.el.id,cls:"x-form-cb-label",html:this.boxLabel})}if(this.checked){this.setValue(true)}else{this.checked=this.el.dom.checked}if(Ext.isIE&&!Ext.isStrict){this.wrap.repaint()}this.resizeEl=this.positionEl=this.wrap},onDestroy:function(){Ext.destroy(this.wrap);Ext.form.Checkbox.superclass.onDestroy.call(this)},initValue:function(){this.originalValue=this.getValue()},getValue:function(){if(this.rendered){return this.el.dom.checked}return this.checked},onClick:function(){if(this.el.dom.checked!=this.checked){this.setValue(this.el.dom.checked)}},setValue:function(a){var c=this.checked,b=this.inputValue;this.checked=(a===true||a==="true"||a=="1"||(b?a==b:String(a).toLowerCase()=="on"));if(this.rendered){this.el.dom.checked=this.checked;this.el.dom.defaultChecked=this.checked}if(c!=this.checked){this.fireEvent("check",this,this.checked);if(this.handler){this.handler.call(this.scope||this,this,this.checked)}}return this}});Ext.reg("checkbox",Ext.form.Checkbox);Ext.form.CheckboxGroup=Ext.extend(Ext.form.Field,{columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkbox",groupCls:"x-form-check-group",initComponent:function(){this.addEvents("change");this.on("change",this.validate,this);Ext.form.CheckboxGroup.superclass.initComponent.call(this)},onRender:function(k,g){if(!this.el){var q={autoEl:{id:this.id},cls:this.groupCls,layout:"column",renderTo:k,bufferResize:false};var a={xtype:"container",defaultType:this.defaultType,layout:"form",defaults:{hideLabel:true,anchor:"100%"}};if(this.items[0].items){Ext.apply(q,{layoutConfig:{columns:this.items.length},defaults:this.defaults,items:this.items});for(var e=0,n=this.items.length;e<n;e++){Ext.applyIf(this.items[e],a)}}else{var d,o=[];if(typeof this.columns=="string"){this.columns=this.items.length}if(!Ext.isArray(this.columns)){var m=[];for(var e=0;e<this.columns;e++){m.push((100/this.columns)*0.01)}this.columns=m}d=this.columns.length;for(var e=0;e<d;e++){var b=Ext.apply({items:[]},a);b[this.columns[e]<=1?"columnWidth":"width"]=this.columns[e];if(this.defaults){b.defaults=Ext.apply(b.defaults||{},this.defaults)}o.push(b)}if(this.vertical){var s=Math.ceil(this.items.length/d),p=0;for(var e=0,n=this.items.length;e<n;e++){if(e>0&&e%s==0){p++}if(this.items[e].fieldLabel){this.items[e].hideLabel=false}o[p].items.push(this.items[e])}}else{for(var e=0,n=this.items.length;e<n;e++){var r=e%d;if(this.items[e].fieldLabel){this.items[e].hideLabel=false}o[r].items.push(this.items[e])}}Ext.apply(q,{layoutConfig:{columns:d},items:o})}this.panel=new Ext.Container(q);this.panel.ownerCt=this;this.el=this.panel.getEl();if(this.forId&&this.itemCls){var c=this.el.up(this.itemCls).child("label",true);if(c){c.setAttribute("htmlFor",this.forId)}}var h=this.panel.findBy(function(i){return i.isFormField},this);this.items=new Ext.util.MixedCollection();this.items.addAll(h)}Ext.form.CheckboxGroup.superclass.onRender.call(this,k,g)},initValue:function(){if(this.value){this.setValue.apply(this,this.buffered?this.value:[this.value]);delete this.buffered;delete this.value}},afterRender:function(){Ext.form.CheckboxGroup.superclass.afterRender.call(this);this.eachItem(function(a){a.on("check",this.fireChecked,this);a.inGroup=true})},doLayout:function(){if(this.rendered){this.panel.forceLayout=this.ownerCt.forceLayout;this.panel.doLayout()}},fireChecked:function(){var a=[];this.eachItem(function(b){if(b.checked){a.push(b)}});this.fireEvent("change",this,a)},getErrors:function(){var b=Ext.form.CheckboxGroup.superclass.getErrors.apply(this,arguments);if(!this.allowBlank){var a=true;this.eachItem(function(c){if(c.checked){return(a=false)}});if(a){b.push(this.blankText)}}return b},isDirty:function(){if(this.disabled||!this.rendered){return false}var a=false;this.eachItem(function(b){if(b.isDirty()){a=true;return false}});return a},setReadOnly:function(a){if(this.rendered){this.eachItem(function(b){b.setReadOnly(a)})}this.readOnly=a},onDisable:function(){this.eachItem(function(a){a.disable()})},onEnable:function(){this.eachItem(function(a){a.enable()})},onResize:function(a,b){this.panel.setSize(a,b);this.panel.doLayout()},reset:function(){if(this.originalValue){this.eachItem(function(a){if(a.setValue){a.setValue(false);a.originalValue=a.getValue()}});this.resetOriginal=true;this.setValue(this.originalValue);delete this.resetOriginal}else{this.eachItem(function(a){if(a.reset){a.reset()}})}(function(){this.clearInvalid()}).defer(50,this)},setValue:function(){if(this.rendered){this.onSetValue.apply(this,arguments)}else{this.buffered=true;this.value=arguments}return this},onSetValue:function(d,c){if(arguments.length==1){if(Ext.isArray(d)){Ext.each(d,function(h,e){if(Ext.isObject(h)&&h.setValue){h.setValue(true);if(this.resetOriginal===true){h.originalValue=h.getValue()}}else{var g=this.items.itemAt(e);if(g){g.setValue(h)}}},this)}else{if(Ext.isObject(d)){for(var a in d){var b=this.getBox(a);if(b){b.setValue(d[a])}}}else{this.setValueForItem(d)}}}else{var b=this.getBox(d);if(b){b.setValue(c)}}},beforeDestroy:function(){Ext.destroy(this.panel);if(!this.rendered){Ext.destroy(this.items)}Ext.form.CheckboxGroup.superclass.beforeDestroy.call(this)},setValueForItem:function(a){a=String(a).split(",");this.eachItem(function(b){if(a.indexOf(b.inputValue)>-1){b.setValue(true)}})},getBox:function(b){var a=null;this.eachItem(function(c){if(b==c||c.dataIndex==b||c.id==b||c.getName()==b){a=c;return false}});return a},getValue:function(){var a=[];this.eachItem(function(b){if(b.checked){a.push(b)}});return a},eachItem:function(b,a){if(this.items&&this.items.each){this.items.each(b,a||this)}},getRawValue:Ext.emptyFn,setRawValue:Ext.emptyFn});Ext.reg("checkboxgroup",Ext.form.CheckboxGroup);Ext.form.CompositeField=Ext.extend(Ext.form.Field,{defaultMargins:"0 5 0 0",skipLastItemMargin:true,isComposite:true,combineErrors:true,labelConnector:", ",initComponent:function(){var g=[],b=this.items,e;for(var d=0,c=b.length;d<c;d++){e=b[d];if(!Ext.isEmpty(e.ref)){e.ref="../"+e.ref}g.push(e.fieldLabel);Ext.applyIf(e,this.defaults);if(!(d==c-1&&this.skipLastItemMargin)){Ext.applyIf(e,{margins:this.defaultMargins})}}this.fieldLabel=this.fieldLabel||this.buildLabel(g);this.fieldErrors=new Ext.util.MixedCollection(true,function(h){return h.field});this.fieldErrors.on({scope:this,add:this.updateInvalidMark,remove:this.updateInvalidMark,replace:this.updateInvalidMark});Ext.form.CompositeField.superclass.initComponent.apply(this,arguments);this.innerCt=new Ext.Container({layout:"hbox",items:this.items,cls:"x-form-composite",defaultMargins:"0 3 0 0",ownerCt:this});this.innerCt.ownerCt=undefined;var a=this.innerCt.findBy(function(h){return h.isFormField},this);this.items=new Ext.util.MixedCollection();this.items.addAll(a)},onRender:function(c,a){if(!this.el){var d=this.innerCt;d.render(c);this.el=d.getEl();if(this.combineErrors){this.eachItem(function(e){Ext.apply(e,{markInvalid:this.onFieldMarkInvalid.createDelegate(this,[e],0),clearInvalid:this.onFieldClearInvalid.createDelegate(this,[e],0)})})}var b=this.el.parent().parent().child("label",true);if(b){b.setAttribute("for",this.items.items[0].id)}}Ext.form.CompositeField.superclass.onRender.apply(this,arguments)},onFieldMarkInvalid:function(d,c){var b=d.getName(),a={field:b,errorName:d.fieldLabel||b,error:c};this.fieldErrors.replace(b,a);d.el.addClass(d.invalidClass)},onFieldClearInvalid:function(a){this.fieldErrors.removeKey(a.getName());a.el.removeClass(a.invalidClass)},updateInvalidMark:function(){var a=Ext.isIE6&&Ext.isStrict;if(this.fieldErrors.length==0){this.clearInvalid();if(a){this.clearInvalid.defer(50,this)}}else{var b=this.buildCombinedErrorMessage(this.fieldErrors.items);this.sortErrors();this.markInvalid(b);if(a){this.markInvalid(b)}}},validateValue:function(){var a=true;this.eachItem(function(b){if(!b.isValid()){a=false}});return a},buildCombinedErrorMessage:function(e){var d=[],b;for(var c=0,a=e.length;c<a;c++){b=e[c];d.push(String.format("{0}: {1}",b.errorName,b.error))}return d.join("<br />")},sortErrors:function(){var a=this.items;this.fieldErrors.sort("ASC",function(g,d){var c=function(b){return function(i){return i.getName()==b}};var h=a.findIndexBy(c(g.field)),e=a.findIndexBy(c(d.field));return h<e?-1:1})},reset:function(){this.eachItem(function(a){a.reset()});(function(){this.clearInvalid()}).defer(50,this)},clearInvalidChildren:function(){this.eachItem(function(a){a.clearInvalid()})},buildLabel:function(a){return Ext.clean(a).join(this.labelConnector)},isDirty:function(){if(this.disabled||!this.rendered){return false}var a=false;this.eachItem(function(b){if(b.isDirty()){a=true;return false}});return a},eachItem:function(b,a){if(this.items&&this.items.each){this.items.each(b,a||this)}},onResize:function(e,c,a,d){var b=this.innerCt;if(this.rendered&&b.rendered){b.setSize(e,c)}Ext.form.CompositeField.superclass.onResize.apply(this,arguments)},doLayout:function(c,b){if(this.rendered){var a=this.innerCt;a.forceLayout=this.ownerCt.forceLayout;a.doLayout(c,b)}},beforeDestroy:function(){Ext.destroy(this.innerCt);Ext.form.CompositeField.superclass.beforeDestroy.call(this)},setReadOnly:function(a){if(a==undefined){a=true}a=!!a;if(this.rendered){this.eachItem(function(b){b.setReadOnly(a)})}this.readOnly=a},onShow:function(){Ext.form.CompositeField.superclass.onShow.call(this);this.doLayout()},onDisable:function(){this.eachItem(function(a){a.disable()})},onEnable:function(){this.eachItem(function(a){a.enable()})}});Ext.reg("compositefield",Ext.form.CompositeField);Ext.form.Radio=Ext.extend(Ext.form.Checkbox,{inputType:"radio",markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,getGroupValue:function(){var a=this.el.up("form")||Ext.getBody();var b=a.child("input[name="+this.el.dom.name+"]:checked",true);return b?b.value:null},setValue:function(b){var a,d,c;if(typeof b=="boolean"){Ext.form.Radio.superclass.setValue.call(this,b)}else{if(this.rendered){a=this.getCheckEl();c=a.child("input[name="+this.el.dom.name+"][value="+b+"]",true);if(c){Ext.getCmp(c.id).setValue(true)}}}if(this.rendered&&this.checked){a=a||this.getCheckEl();d=this.getCheckEl().select("input[name="+this.el.dom.name+"]");d.each(function(e){if(e.dom.id!=this.id){Ext.getCmp(e.dom.id).setValue(false)}},this)}return this},getCheckEl:function(){if(this.inGroup){return this.el.up(".x-form-radio-group")}return this.el.up("form")||Ext.getBody()}});Ext.reg("radio",Ext.form.Radio);Ext.form.RadioGroup=Ext.extend(Ext.form.CheckboxGroup,{allowBlank:true,blankText:"You must select one item in this group",defaultType:"radio",groupCls:"x-form-radio-group",getValue:function(){var a=null;this.eachItem(function(b){if(b.checked){a=b;return false}});return a},onSetValue:function(c,b){if(arguments.length>1){var a=this.getBox(c);if(a){a.setValue(b);if(a.checked){this.eachItem(function(d){if(d!==a){d.setValue(false)}})}}}else{this.setValueForItem(c)}},setValueForItem:function(a){a=String(a).split(",")[0];this.eachItem(function(b){b.setValue(a==b.inputValue)})},fireChecked:function(){if(!this.checkTask){this.checkTask=new Ext.util.DelayedTask(this.bufferChecked,this)}this.checkTask.delay(10)},bufferChecked:function(){var a=null;this.eachItem(function(b){if(b.checked){a=b;return false}});this.fireEvent("change",this,a)},onDestroy:function(){if(this.checkTask){this.checkTask.cancel();this.checkTask=null}Ext.form.RadioGroup.superclass.onDestroy.call(this)}});Ext.reg("radiogroup",Ext.form.RadioGroup);Ext.form.Hidden=Ext.extend(Ext.form.Field,{inputType:"hidden",shouldLayout:false,onRender:function(){Ext.form.Hidden.superclass.onRender.apply(this,arguments)},initEvents:function(){this.originalValue=this.getValue()},setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.reg("hidden",Ext.form.Hidden);Ext.form.BasicForm=Ext.extend(Ext.util.Observable,{constructor:function(b,a){Ext.apply(this,a);if(Ext.isString(this.paramOrder)){this.paramOrder=this.paramOrder.split(/[\s,|]/)}this.items=new Ext.util.MixedCollection(false,function(c){return c.getItemId()});this.addEvents("beforeaction","actionfailed","actioncomplete");if(b){this.initEl(b)}Ext.form.BasicForm.superclass.constructor.call(this)},timeout:30,paramOrder:undefined,paramsAsHash:false,waitTitle:"Please Wait...",activeAction:null,trackResetOnLoad:false,initEl:function(a){this.el=Ext.get(a);this.id=this.el.id||Ext.id();if(!this.standardSubmit){this.el.on("submit",this.onSubmit,this)}this.el.addClass("x-form")},getEl:function(){return this.el},onSubmit:function(a){a.stopEvent()},destroy:function(a){if(a!==true){this.items.each(function(b){Ext.destroy(b)});Ext.destroy(this.el)}this.items.clear();this.purgeListeners()},isValid:function(){var a=true;this.items.each(function(b){if(!b.validate()){a=false}});return a},isDirty:function(){var a=false;this.items.each(function(b){if(b.isDirty()){a=true;return false}});return a},doAction:function(b,a){if(Ext.isString(b)){b=new Ext.form.Action.ACTION_TYPES[b](this,a)}if(this.fireEvent("beforeaction",this,b)!==false){this.beforeAction(b);b.run.defer(100,b)}return this},submit:function(b){b=b||{};if(this.standardSubmit){var a=b.clientValidation===false||this.isValid();if(a){var c=this.el.dom;if(this.url&&Ext.isEmpty(c.action)){c.action=this.url}c.submit()}return a}var d=String.format("{0}submit",this.api?"direct":"");this.doAction(d,b);return this},load:function(a){var b=String.format("{0}load",this.api?"direct":"");this.doAction(b,a);return this},updateRecord:function(b){b.beginEdit();var a=b.fields,d,c;a.each(function(e){d=this.findField(e.name);if(d){c=d.getValue();if(typeof c!=undefined&&c.getGroupValue){c=c.getGroupValue()}else{if(d.eachItem){c=[];d.eachItem(function(g){c.push(g.getValue())})}}b.set(e.name,c)}},this);b.endEdit();return this},loadRecord:function(a){this.setValues(a.data);return this},beforeAction:function(a){this.items.each(function(c){if(c.isFormField&&c.syncValue){c.syncValue()}});var b=a.options;if(b.waitMsg){if(this.waitMsgTarget===true){this.el.mask(b.waitMsg,"x-mask-loading")}else{if(this.waitMsgTarget){this.waitMsgTarget=Ext.get(this.waitMsgTarget);this.waitMsgTarget.mask(b.waitMsg,"x-mask-loading")}else{Ext.MessageBox.wait(b.waitMsg,b.waitTitle||this.waitTitle)}}}},afterAction:function(a,c){this.activeAction=null;var b=a.options;if(b.waitMsg){if(this.waitMsgTarget===true){this.el.unmask()}else{if(this.waitMsgTarget){this.waitMsgTarget.unmask()}else{Ext.MessageBox.updateProgress(1);Ext.MessageBox.hide()}}}if(c){if(b.reset){this.reset()}Ext.callback(b.success,b.scope,[this,a]);this.fireEvent("actioncomplete",this,a)}else{Ext.callback(b.failure,b.scope,[this,a]);this.fireEvent("actionfailed",this,a)}},findField:function(c){var b=this.items.get(c);if(!Ext.isObject(b)){var a=function(d){if(d.isFormField){if(d.dataIndex==c||d.id==c||d.getName()==c){b=d;return false}else{if(d.isComposite){return d.items.each(a)}else{if(d instanceof Ext.form.CheckboxGroup&&d.rendered){return d.eachItem(a)}}}}};this.items.each(a)}return b||null},markInvalid:function(h){if(Ext.isArray(h)){for(var c=0,a=h.length;c<a;c++){var b=h[c];var d=this.findField(b.id);if(d){d.markInvalid(b.msg)}}}else{var e,g;for(g in h){if(!Ext.isFunction(h[g])&&(e=this.findField(g))){e.markInvalid(h[g])}}}return this},setValues:function(c){if(Ext.isArray(c)){for(var d=0,a=c.length;d<a;d++){var b=c[d];var e=this.findField(b.id);if(e){e.setValue(b.value);if(this.trackResetOnLoad){e.originalValue=e.getValue()}}}}else{var g,h;for(h in c){if(!Ext.isFunction(c[h])&&(g=this.findField(h))){g.setValue(c[h]);if(this.trackResetOnLoad){g.originalValue=g.getValue()}}}}return this},getValues:function(b){var a=Ext.lib.Ajax.serializeForm(this.el.dom);if(b===true){return a}return Ext.urlDecode(a)},getFieldValues:function(a){var d={},e,b,c;this.items.each(function(g){if(!g.disabled&&(a!==true||g.isDirty())){e=g.getName();b=d[e];c=g.getValue();if(Ext.isDefined(b)){if(Ext.isArray(b)){d[e].push(c)}else{d[e]=[b,c]}}else{d[e]=c}}});return d},clearInvalid:function(){this.items.each(function(a){a.clearInvalid()});return this},reset:function(){this.items.each(function(a){a.reset()});return this},add:function(){this.items.addAll(Array.prototype.slice.call(arguments,0));return this},remove:function(a){this.items.remove(a);return this},cleanDestroyed:function(){this.items.filterBy(function(a){return !!a.isDestroyed}).each(this.remove,this)},render:function(){this.items.each(function(a){if(a.isFormField&&!a.rendered&&document.getElementById(a.id)){a.applyToMarkup(a.id)}});return this},applyToFields:function(a){this.items.each(function(b){Ext.apply(b,a)});return this},applyIfToFields:function(a){this.items.each(function(b){Ext.applyIf(b,a)});return this},callFieldMethod:function(b,a){a=a||[];this.items.each(function(c){if(Ext.isFunction(c[b])){c[b].apply(c,a)}});return this}});Ext.BasicForm=Ext.form.BasicForm;Ext.FormPanel=Ext.extend(Ext.Panel,{minButtonWidth:75,labelAlign:"left",monitorValid:false,monitorPoll:200,layout:"form",initComponent:function(){this.form=this.createForm();Ext.FormPanel.superclass.initComponent.call(this);this.bodyCfg={tag:"form",cls:this.baseCls+"-body",method:this.method||"POST",id:this.formId||Ext.id()};if(this.fileUpload){this.bodyCfg.enctype="multipart/form-data"}this.initItems();this.addEvents("clientvalidation");this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete"])},createForm:function(){var a=Ext.applyIf({listeners:{}},this.initialConfig);return new Ext.form.BasicForm(null,a)},initFields:function(){var c=this.form;var a=this;var b=function(d){if(a.isField(d)){c.add(d)}else{if(d.findBy&&d!=a){a.applySettings(d);if(d.items&&d.items.each){d.items.each(b,this)}}}};this.items.each(b,this)},applySettings:function(b){var a=b.ownerCt;Ext.applyIf(b,{labelAlign:a.labelAlign,labelWidth:a.labelWidth,itemCls:a.itemCls})},getLayoutTarget:function(){return this.form.el},getForm:function(){return this.form},onRender:function(b,a){this.initFields();Ext.FormPanel.superclass.onRender.call(this,b,a);this.form.initEl(this.body)},beforeDestroy:function(){this.stopMonitoring();this.form.destroy(true);Ext.FormPanel.superclass.beforeDestroy.call(this)},isField:function(a){return !!a.setValue&&!!a.getValue&&!!a.markInvalid&&!!a.clearInvalid},initEvents:function(){Ext.FormPanel.superclass.initEvents.call(this);this.on({scope:this,add:this.onAddEvent,remove:this.onRemoveEvent});if(this.monitorValid){this.startMonitoring()}},onAdd:function(a){Ext.FormPanel.superclass.onAdd.call(this,a);this.processAdd(a)},onAddEvent:function(a,b){if(a!==this){this.processAdd(b)}},processAdd:function(a){if(this.isField(a)){this.form.add(a)}else{if(a.findBy){this.applySettings(a);this.form.add.apply(this.form,a.findBy(this.isField))}}},onRemove:function(a){Ext.FormPanel.superclass.onRemove.call(this,a);this.processRemove(a)},onRemoveEvent:function(a,b){if(a!==this){this.processRemove(b)}},processRemove:function(a){if(!this.destroying){if(this.isField(a)){this.form.remove(a)}else{if(a.findBy){Ext.each(a.findBy(this.isField),this.form.remove,this.form);this.form.cleanDestroyed()}}}},startMonitoring:function(){if(!this.validTask){this.validTask=new Ext.util.TaskRunner();this.validTask.start({run:this.bindHandler,interval:this.monitorPoll||200,scope:this})}},stopMonitoring:function(){if(this.validTask){this.validTask.stopAll();this.validTask=null}},load:function(){this.form.load.apply(this.form,arguments)},onDisable:function(){Ext.FormPanel.superclass.onDisable.call(this);if(this.form){this.form.items.each(function(){this.disable()})}},onEnable:function(){Ext.FormPanel.superclass.onEnable.call(this);if(this.form){this.form.items.each(function(){this.enable()})}},bindHandler:function(){var e=true;this.form.items.each(function(g){if(!g.isValid(true)){e=false;return false}});if(this.fbar){var b=this.fbar.items.items;for(var d=0,a=b.length;d<a;d++){var c=b[d];if(c.formBind===true&&c.disabled===e){c.setDisabled(!e)}}}this.fireEvent("clientvalidation",this,e)}});Ext.reg("form",Ext.FormPanel);Ext.form.FormPanel=Ext.FormPanel;Ext.form.FieldSet=Ext.extend(Ext.Panel,{baseCls:"x-fieldset",layout:"form",animCollapse:false,onRender:function(b,a){if(!this.el){this.el=document.createElement("fieldset");this.el.id=this.id;if(this.title||this.header||this.checkboxToggle){this.el.appendChild(document.createElement("legend")).className=this.baseCls+"-header"}}Ext.form.FieldSet.superclass.onRender.call(this,b,a);if(this.checkboxToggle){var c=typeof this.checkboxToggle=="object"?this.checkboxToggle:{tag:"input",type:"checkbox",name:this.checkboxName||this.id+"-checkbox"};this.checkbox=this.header.insertFirst(c);this.checkbox.dom.checked=!this.collapsed;this.mon(this.checkbox,"click",this.onCheckClick,this)}},onCollapse:function(a,b){if(this.checkbox){this.checkbox.dom.checked=false}Ext.form.FieldSet.superclass.onCollapse.call(this,a,b)},onExpand:function(a,b){if(this.checkbox){this.checkbox.dom.checked=true}Ext.form.FieldSet.superclass.onExpand.call(this,a,b)},onCheckClick:function(){this[this.checkbox.dom.checked?"expand":"collapse"]()}});Ext.reg("fieldset",Ext.form.FieldSet);Ext.form.HtmlEditor=Ext.extend(Ext.form.Field,{enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",defaultValue:(Ext.isOpera||Ext.isIE6)?"&#160;":"&#8203;",actionMode:"wrap",validationEvent:false,deferHeight:true,initialized:false,activated:false,sourceEditMode:false,onFocus:Ext.emptyFn,iframePad:3,hideMode:"offsets",defaultAutoCreate:{tag:"textarea",style:"width:500px;height:300px;",autocomplete:"off"},initComponent:function(){this.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange");Ext.form.HtmlEditor.superclass.initComponent.call(this)},createFontOptions:function(){var d=[],b=this.fontFamilies,c,g;for(var e=0,a=b.length;e<a;e++){c=b[e];g=c.toLowerCase();d.push('<option value="',g,'" style="font-family:',c,';"',(this.defaultFont==g?' selected="true">':">"),c,"</option>")}return d.join("")},createToolbar:function(e){var c=[];var a=Ext.QuickTips&&Ext.QuickTips.isEnabled();function d(k,h,i){return{itemId:k,cls:"x-btn-icon",iconCls:"x-edit-"+k,enableToggle:h!==false,scope:e,handler:i||e.relayBtnCmd,clickEvent:"mousedown",tooltip:a?e.buttonTips[k]||undefined:undefined,overflowText:e.buttonTips[k].title||undefined,tabIndex:-1}}if(this.enableFont&&!Ext.isSafari2){var g=new Ext.Toolbar.Item({autoEl:{tag:"select",cls:"x-font-select",html:this.createFontOptions()}});c.push(g,"-")}if(this.enableFormat){c.push(d("bold"),d("italic"),d("underline"))}if(this.enableFontSize){c.push("-",d("increasefontsize",false,this.adjustFont),d("decreasefontsize",false,this.adjustFont))}if(this.enableColors){c.push("-",{itemId:"forecolor",cls:"x-btn-icon",iconCls:"x-edit-forecolor",clickEvent:"mousedown",tooltip:a?e.buttonTips.forecolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,listeners:{scope:this,select:function(i,h){this.execCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+h:h);this.deferFocus()}},clickEvent:"mousedown"})},{itemId:"backcolor",cls:"x-btn-icon",iconCls:"x-edit-backcolor",clickEvent:"mousedown",tooltip:a?e.buttonTips.backcolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,listeners:{scope:this,select:function(i,h){if(Ext.isGecko){this.execCmd("useCSS",false);this.execCmd("hilitecolor",h);this.execCmd("useCSS",true);this.deferFocus()}else{this.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE?"#"+h:h);this.deferFocus()}}},clickEvent:"mousedown"})})}if(this.enableAlignments){c.push("-",d("justifyleft"),d("justifycenter"),d("justifyright"))}if(!Ext.isSafari2){if(this.enableLinks){c.push("-",d("createlink",false,this.createLink))}if(this.enableLists){c.push("-",d("insertorderedlist"),d("insertunorderedlist"))}if(this.enableSourceEdit){c.push("-",d("sourceedit",true,function(h){this.toggleSourceEdit(!this.sourceEditMode)}))}}var b=new Ext.Toolbar({renderTo:this.wrap.dom.firstChild,items:c});if(g){this.fontSelect=g.el;this.mon(this.fontSelect,"change",function(){var h=this.fontSelect.dom.value;this.relayCmd("fontname",h);this.deferFocus()},this)}this.mon(b.el,"click",function(h){h.preventDefault()});this.tb=b;this.tb.doLayout()},onDisable:function(){this.wrap.mask();Ext.form.HtmlEditor.superclass.onDisable.call(this)},onEnable:function(){this.wrap.unmask();Ext.form.HtmlEditor.superclass.onEnable.call(this)},setReadOnly:function(b){Ext.form.HtmlEditor.superclass.setReadOnly.call(this,b);if(this.initialized){if(Ext.isIE){this.getEditorBody().contentEditable=!b}else{this.setDesignMode(!b)}var a=this.getEditorBody();if(a){a.style.cursor=this.readOnly?"default":"text"}this.disableItems(b)}},getDocMarkup:function(){var a=Ext.fly(this.iframe).getHeight()-this.iframePad*2;return String.format('<html><head><style type="text/css">body{border: 0; margin: 0; padding: {0}px; height: {1}px; cursor: text}</style></head><body></body></html>',this.iframePad,a)},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){return Ext.isIE?this.getWin().document:(this.iframe.contentDocument||this.getWin().document)},getWin:function(){return Ext.isIE?this.iframe.contentWindow:window.frames[this.iframe.name]},onRender:function(b,a){Ext.form.HtmlEditor.superclass.onRender.call(this,b,a);this.el.dom.style.border="0 none";this.el.dom.setAttribute("tabIndex",-1);this.el.addClass("x-hidden");if(Ext.isIE){this.el.applyStyles("margin-top:-1px;margin-bottom:-1px;")}this.wrap=this.el.wrap({cls:"x-html-editor-wrap",cn:{cls:"x-html-editor-tb"}});this.createToolbar(this);this.disableItems(true);this.tb.doLayout();this.createIFrame();if(!this.width){var c=this.el.getSize();this.setSize(c.width,this.height||c.height)}this.resizeEl=this.positionEl=this.wrap},createIFrame:function(){var a=document.createElement("iframe");a.name=Ext.id();a.frameBorder="0";a.style.overflow="auto";a.src=Ext.SSL_SECURE_URL;this.wrap.dom.appendChild(a);this.iframe=a;this.monitorTask=Ext.TaskMgr.start({run:this.checkDesignMode,scope:this,interval:100})},initFrame:function(){Ext.TaskMgr.stop(this.monitorTask);var b=this.getDoc();this.win=this.getWin();b.open();b.write(this.getDocMarkup());b.close();var a={run:function(){var c=this.getDoc();if(c.body||c.readyState=="complete"){Ext.TaskMgr.stop(a);this.setDesignMode(true);this.initEditor.defer(10,this)}},interval:10,duration:10000,scope:this};Ext.TaskMgr.start(a)},checkDesignMode:function(){if(this.wrap&&this.wrap.dom.offsetWidth){var a=this.getDoc();if(!a){return}if(!a.editorInitialized||this.getDesignMode()!="on"){this.initFrame()}}},setDesignMode:function(b){var a=this.getDoc();if(a){if(this.readOnly){b=false}a.designMode=(/on|true/i).test(String(b).toLowerCase())?"on":"off"}},getDesignMode:function(){var a=this.getDoc();if(!a){return""}return String(a.designMode).toLowerCase()},disableItems:function(a){if(this.fontSelect){this.fontSelect.dom.disabled=a}this.tb.items.each(function(b){if(b.getItemId()!="sourceedit"){b.setDisabled(a)}})},onResize:function(b,c){Ext.form.HtmlEditor.superclass.onResize.apply(this,arguments);if(this.el&&this.iframe){if(Ext.isNumber(b)){var e=b-this.wrap.getFrameWidth("lr");this.el.setWidth(e);this.tb.setWidth(e);this.iframe.style.width=Math.max(e,0)+"px"}if(Ext.isNumber(c)){var a=c-this.wrap.getFrameWidth("tb")-this.tb.el.getHeight();this.el.setHeight(a);this.iframe.style.height=Math.max(a,0)+"px";var d=this.getEditorBody();if(d){d.style.height=Math.max((a-(this.iframePad*2)),0)+"px"}}}},toggleSourceEdit:function(b){var d,a;if(b===undefined){b=!this.sourceEditMode}this.sourceEditMode=b===true;var c=this.tb.getComponent("sourceedit");if(c.pressed!==this.sourceEditMode){c.toggle(this.sourceEditMode);if(!c.xtbHidden){return}}if(this.sourceEditMode){this.previousSize=this.getSize();d=Ext.get(this.iframe).getHeight();this.disableItems(true);this.syncValue();this.iframe.className="x-hidden";this.el.removeClass("x-hidden");this.el.dom.removeAttribute("tabIndex");this.el.focus();this.el.dom.style.height=d+"px"}else{a=parseInt(this.el.dom.style.height,10);if(this.initialized){this.disableItems(this.readOnly)}this.pushValue();this.iframe.className="";this.el.addClass("x-hidden");this.el.dom.setAttribute("tabIndex",-1);this.deferFocus();this.setSize(this.previousSize);delete this.previousSize;this.iframe.style.height=a+"px"}this.fireEvent("editmodechange",this,this.sourceEditMode)},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);if(a&&a!="http://"){this.relayCmd("createlink",a)}},initEvents:function(){this.originalValue=this.getValue()},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,setValue:function(a){Ext.form.HtmlEditor.superclass.setValue.call(this,a);this.pushValue();return this},cleanHtml:function(a){a=String(a);if(Ext.isWebKit){a=a.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"")}if(a.charCodeAt(0)==this.defaultValue.replace(/\D/g,"")){a=a.substring(1)}return a},syncValue:function(){if(this.initialized){var d=this.getEditorBody();var c=d.innerHTML;if(Ext.isWebKit){var b=d.getAttribute("style");var a=b.match(/text-align:(.*?);/i);if(a&&a[1]){c='<div style="'+a[0]+'">'+c+"</div>"}}c=this.cleanHtml(c);if(this.fireEvent("beforesync",this,c)!==false){this.el.dom.value=c;this.fireEvent("sync",this,c)}}},getValue:function(){this[this.sourceEditMode?"pushValue":"syncValue"]();return Ext.form.HtmlEditor.superclass.getValue.call(this)},pushValue:function(){if(this.initialized){var a=this.el.dom.value;if(!this.activated&&a.length<1){a=this.defaultValue}if(this.fireEvent("beforepush",this,a)!==false){this.getEditorBody().innerHTML=a;if(Ext.isGecko){this.setDesignMode(false);this.setDesignMode(true)}this.fireEvent("push",this,a)}}},deferFocus:function(){this.focus.defer(10,this)},focus:function(){if(this.win&&!this.sourceEditMode){this.win.focus()}else{this.el.focus()}},initEditor:function(){try{var c=this.getEditorBody(),a=this.el.getStyles("font-size","font-family","background-image","background-repeat","background-color","color"),g,b;a["background-attachment"]="fixed";c.bgProperties="fixed";Ext.DomHelper.applyStyles(c,a);g=this.getDoc();if(g){try{Ext.EventManager.removeAll(g)}catch(d){}}b=this.onEditorEvent.createDelegate(this);Ext.EventManager.on(g,{mousedown:b,dblclick:b,click:b,keyup:b,buffer:100});if(Ext.isGecko){Ext.EventManager.on(g,"keypress",this.applyCommand,this)}if(Ext.isIE||Ext.isWebKit||Ext.isOpera){Ext.EventManager.on(g,"keydown",this.fixKeys,this)}g.editorInitialized=true;this.initialized=true;this.pushValue();this.setReadOnly(this.readOnly);this.fireEvent("initialize",this)}catch(d){}},beforeDestroy:function(){if(this.monitorTask){Ext.TaskMgr.stop(this.monitorTask)}if(this.rendered){Ext.destroy(this.tb);var b=this.getDoc();if(b){try{Ext.EventManager.removeAll(b);for(var c in b){delete b[c]}}catch(a){}}if(this.wrap){this.wrap.dom.innerHTML="";this.wrap.remove()}}Ext.form.HtmlEditor.superclass.beforeDestroy.call(this)},onFirstFocus:function(){this.activated=true;this.disableItems(this.readOnly);if(Ext.isGecko){this.win.focus();var a=this.win.getSelection();if(!a.focusNode||a.focusNode.nodeType!=3){var b=a.getRangeAt(0);b.selectNodeContents(this.getEditorBody());b.collapse(true);this.deferFocus()}try{this.execCmd("useCSS",true);this.execCmd("styleWithCSS",false)}catch(c){}}this.fireEvent("activate",this)},adjustFont:function(b){var d=b.getItemId()=="increasefontsize"?1:-1,c=this.getDoc(),a=parseInt(c.queryCommandValue("FontSize")||2,10);if((Ext.isSafari&&!Ext.isSafari2)||Ext.isChrome||Ext.isAir){if(a<=10){a=1+d}else{if(a<=13){a=2+d}else{if(a<=16){a=3+d}else{if(a<=18){a=4+d}else{if(a<=24){a=5+d}else{a=6+d}}}}}a=a.constrain(1,6)}else{if(Ext.isSafari){d*=2}a=Math.max(1,a+d)+(Ext.isSafari?"px":0)}this.execCmd("FontSize",a)},onEditorEvent:function(a){this.updateToolbar()},updateToolbar:function(){if(this.readOnly){return}if(!this.activated){this.onFirstFocus();return}var b=this.tb.items.map,c=this.getDoc();if(this.enableFont&&!Ext.isSafari2){var a=(c.queryCommandValue("FontName")||this.defaultFont).toLowerCase();if(a!=this.fontSelect.dom.value){this.fontSelect.dom.value=a}}if(this.enableFormat){b.bold.toggle(c.queryCommandState("bold"));b.italic.toggle(c.queryCommandState("italic"));b.underline.toggle(c.queryCommandState("underline"))}if(this.enableAlignments){b.justifyleft.toggle(c.queryCommandState("justifyleft"));b.justifycenter.toggle(c.queryCommandState("justifycenter"));b.justifyright.toggle(c.queryCommandState("justifyright"))}if(!Ext.isSafari2&&this.enableLists){b.insertorderedlist.toggle(c.queryCommandState("insertorderedlist"));b.insertunorderedlist.toggle(c.queryCommandState("insertunorderedlist"))}Ext.menu.MenuMgr.hideAll();this.syncValue()},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(b,a){(function(){this.focus();this.execCmd(b,a);this.updateToolbar()}).defer(10,this)},execCmd:function(b,a){var c=this.getDoc();c.execCommand(b,false,a===undefined?null:a);this.syncValue()},applyCommand:function(b){if(b.ctrlKey){var d=b.getCharCode(),a;if(d>0){d=String.fromCharCode(d);switch(d){case"b":a="bold";break;case"i":a="italic";break;case"u":a="underline";break}if(a){this.win.focus();this.execCmd(a);this.deferFocus();b.preventDefault()}}}},insertAtCursor:function(c){if(!this.activated){return}if(Ext.isIE){this.win.focus();var b=this.getDoc(),a=b.selection.createRange();if(a){a.pasteHTML(c);this.syncValue();this.deferFocus()}}else{this.win.focus();this.execCmd("InsertHTML",c);this.deferFocus()}},fixKeys:function(){if(Ext.isIE){return function(g){var a=g.getKey(),d=this.getDoc(),b;if(a==g.TAB){g.stopEvent();b=d.selection.createRange();if(b){b.collapse(true);b.pasteHTML("&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus()}}else{if(a==g.ENTER){b=d.selection.createRange();if(b){var c=b.parentElement();if(!c||c.tagName.toLowerCase()!="li"){g.stopEvent();b.pasteHTML("<br />");b.collapse(false);b.select()}}}}}}else{if(Ext.isOpera){return function(b){var a=b.getKey();if(a==b.TAB){b.stopEvent();this.win.focus();this.execCmd("InsertHTML","&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus()}}}else{if(Ext.isWebKit){return function(b){var a=b.getKey();if(a==b.TAB){b.stopEvent();this.execCmd("InsertText","\t");this.deferFocus()}else{if(a==b.ENTER){b.stopEvent();this.execCmd("InsertHtml","<br /><br />");this.deferFocus()}}}}}}}(),getToolbar:function(){return this.tb},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}}});Ext.reg("htmleditor",Ext.form.HtmlEditor);Ext.form.TimeField=Ext.extend(Ext.form.ComboBox,{minValue:undefined,maxValue:undefined,minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,mode:"local",triggerAction:"all",typeAhead:false,initDate:"1/1/2008",initDateFormat:"j/n/Y",initComponent:function(){if(Ext.isDefined(this.minValue)){this.setMinValue(this.minValue,true)}if(Ext.isDefined(this.maxValue)){this.setMaxValue(this.maxValue,true)}if(!this.store){this.generateStore(true)}Ext.form.TimeField.superclass.initComponent.call(this)},setMinValue:function(b,a){this.setLimit(b,true,a);return this},setMaxValue:function(b,a){this.setLimit(b,false,a);return this},generateStore:function(b){var c=this.minValue||new Date(this.initDate).clearTime(),a=this.maxValue||new Date(this.initDate).clearTime().add("mi",(24*60)-1),d=[];while(c<=a){d.push(c.dateFormat(this.format));c=c.add("mi",this.increment)}this.bindStore(d,b)},setLimit:function(b,g,a){var e;if(Ext.isString(b)){e=this.parseDate(b)}else{if(Ext.isDate(b)){e=b}}if(e){var c=new Date(this.initDate).clearTime();c.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());this[g?"minValue":"maxValue"]=c;if(!a){this.generateStore()}}},getValue:function(){var a=Ext.form.TimeField.superclass.getValue.call(this);return this.formatDate(this.parseDate(a))||""},setValue:function(a){return Ext.form.TimeField.superclass.setValue.call(this,this.formatDate(this.parseDate(a)))},validateValue:Ext.form.DateField.prototype.validateValue,formatDate:Ext.form.DateField.prototype.formatDate,parseDate:function(h){if(!h||Ext.isDate(h)){return h}var k=this.initDate+" ",g=this.initDateFormat+" ",b=Date.parseDate(k+h,g+this.format),c=this.altFormats;if(!b&&c){if(!this.altFormatsArray){this.altFormatsArray=c.split("|")}for(var e=0,d=this.altFormatsArray,a=d.length;e<a&&!b;e++){b=Date.parseDate(k+h,g+d[e])}}return b}});Ext.reg("timefield",Ext.form.TimeField);Ext.form.SliderField=Ext.extend(Ext.form.Field,{useTips:true,tipText:null,actionMode:"wrap",initComponent:function(){var b=Ext.copyTo({id:this.id+"-slider"},this.initialConfig,["vertical","minValue","maxValue","decimalPrecision","keyIncrement","increment","clickToChange","animate"]);if(this.useTips){var a=this.tipText?{getText:this.tipText}:{};b.plugins=[new Ext.slider.Tip(a)]}this.slider=new Ext.Slider(b);Ext.form.SliderField.superclass.initComponent.call(this)},onRender:function(b,a){this.autoCreate={id:this.id,name:this.name,type:"hidden",tag:"input"};Ext.form.SliderField.superclass.onRender.call(this,b,a);this.wrap=this.el.wrap({cls:"x-form-field-wrap"});this.resizeEl=this.positionEl=this.wrap;this.slider.render(this.wrap)},onResize:function(b,c,d,a){Ext.form.SliderField.superclass.onResize.call(this,b,c,d,a);this.slider.setSize(b,c)},initEvents:function(){Ext.form.SliderField.superclass.initEvents.call(this);this.slider.on("change",this.onChange,this)},onChange:function(b,a){this.setValue(a,undefined,true)},onEnable:function(){Ext.form.SliderField.superclass.onEnable.call(this);this.slider.enable()},onDisable:function(){Ext.form.SliderField.superclass.onDisable.call(this);this.slider.disable()},beforeDestroy:function(){Ext.destroy(this.slider);Ext.form.SliderField.superclass.beforeDestroy.call(this)},alignErrorIcon:function(){this.errorIcon.alignTo(this.slider.el,"tl-tr",[2,0])},setMinValue:function(a){this.slider.setMinValue(a);return this},setMaxValue:function(a){this.slider.setMaxValue(a);return this},setValue:function(c,b,a){if(!a){this.slider.setValue(c,b)}return Ext.form.SliderField.superclass.setValue.call(this,this.slider.getValue())},getValue:function(){return this.slider.getValue()}});Ext.reg("sliderfield",Ext.form.SliderField);Ext.form.Label=Ext.extend(Ext.BoxComponent,{onRender:function(b,a){if(!this.el){this.el=document.createElement("label");this.el.id=this.getId();this.el.innerHTML=this.text?Ext.util.Format.htmlEncode(this.text):(this.html||"");if(this.forId){this.el.setAttribute("for",this.forId)}}Ext.form.Label.superclass.onRender.call(this,b,a)},setText:function(a,b){var c=b===false;this[!c?"text":"html"]=a;delete this[c?"text":"html"];if(this.rendered){this.el.dom.innerHTML=b!==false?Ext.util.Format.htmlEncode(a):a}return this}});Ext.reg("label",Ext.form.Label);Ext.form.Action=function(b,a){this.form=b;this.options=a||{}};Ext.form.Action.CLIENT_INVALID="client";Ext.form.Action.SERVER_INVALID="server";Ext.form.Action.CONNECT_FAILURE="connect";Ext.form.Action.LOAD_FAILURE="load";Ext.form.Action.prototype={type:"default",run:function(a){},success:function(a){},handleResponse:function(a){},failure:function(a){this.response=a;this.failureType=Ext.form.Action.CONNECT_FAILURE;this.form.afterAction(this,false)},processResponse:function(a){this.response=a;if(!a.responseText&&!a.responseXML){return true}this.result=this.handleResponse(a);return this.result},getUrl:function(c){var a=this.options.url||this.form.url||this.form.el.dom.action;if(c){var b=this.getParams();if(b){a=Ext.urlAppend(a,b)}}return a},getMethod:function(){return(this.options.method||this.form.method||this.form.el.dom.method||"POST").toUpperCase()},getParams:function(){var a=this.form.baseParams;var b=this.options.params;if(b){if(typeof b=="object"){b=Ext.urlEncode(Ext.applyIf(b,a))}else{if(typeof b=="string"&&a){b+="&"+Ext.urlEncode(a)}}}else{if(a){b=Ext.urlEncode(a)}}return b},createCallback:function(a){var a=a||{};return{success:this.success,failure:this.failure,scope:this,timeout:(a.timeout*1000)||(this.form.timeout*1000),upload:this.form.fileUpload?this.success:undefined}}};Ext.form.Action.Submit=function(b,a){Ext.form.Action.Submit.superclass.constructor.call(this,b,a)};Ext.extend(Ext.form.Action.Submit,Ext.form.Action,{type:"submit",run:function(){var e=this.options,g=this.getMethod(),d=g=="GET";if(e.clientValidation===false||this.form.isValid()){if(e.submitEmptyText===false){var a=this.form.items,c=[],b=function(h){if(h.el.getValue()==h.emptyText){c.push(h);h.el.dom.value=""}if(h.isComposite&&h.rendered){h.items.each(b)}};a.each(b)}Ext.Ajax.request(Ext.apply(this.createCallback(e),{form:this.form.el.dom,url:this.getUrl(d),method:g,headers:e.headers,params:!d?this.getParams():null,isUpload:this.form.fileUpload}));if(e.submitEmptyText===false){Ext.each(c,function(h){if(h.applyEmptyText){h.applyEmptyText()}})}}else{if(e.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false)}}},success:function(b){var a=this.processResponse(b);if(a===true||a.success){this.form.afterAction(this,true);return}if(a.errors){this.form.markInvalid(a.errors)}this.failureType=Ext.form.Action.SERVER_INVALID;this.form.afterAction(this,false)},handleResponse:function(c){if(this.form.errorReader){var b=this.form.errorReader.read(c);var g=[];if(b.records){for(var d=0,a=b.records.length;d<a;d++){var e=b.records[d];g[d]=e.data}}if(g.length<1){g=null}return{success:b.success,errors:g}}return Ext.decode(c.responseText)}});Ext.form.Action.Load=function(b,a){Ext.form.Action.Load.superclass.constructor.call(this,b,a);this.reader=this.form.reader};Ext.extend(Ext.form.Action.Load,Ext.form.Action,{type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(this.options),{method:this.getMethod(),url:this.getUrl(false),headers:this.options.headers,params:this.getParams()}))},success:function(b){var a=this.processResponse(b);if(a===true||!a.success||!a.data){this.failureType=Ext.form.Action.LOAD_FAILURE;this.form.afterAction(this,false);return}this.form.clearInvalid();this.form.setValues(a.data);this.form.afterAction(this,true)},handleResponse:function(b){if(this.form.reader){var a=this.form.reader.read(b);var c=a.records&&a.records[0]?a.records[0].data:null;return{success:a.success,data:c}}return Ext.decode(b.responseText)}});Ext.form.Action.DirectLoad=Ext.extend(Ext.form.Action.Load,{constructor:function(b,a){Ext.form.Action.DirectLoad.superclass.constructor.call(this,b,a)},type:"directload",run:function(){var a=this.getParams();a.push(this.success,this);this.form.api.load.apply(window,a)},getParams:function(){var c=[],h={};var e=this.form.baseParams;var g=this.options.params;Ext.apply(h,g,e);var b=this.form.paramOrder;if(b){for(var d=0,a=b.length;d<a;d++){c.push(h[b[d]])}}else{if(this.form.paramsAsHash){c.push(h)}}return c},processResponse:function(a){this.result=a;return a},success:function(a,b){if(b.type==Ext.Direct.exceptions.SERVER){a={}}Ext.form.Action.DirectLoad.superclass.success.call(this,a)}});Ext.form.Action.DirectSubmit=Ext.extend(Ext.form.Action.Submit,{constructor:function(b,a){Ext.form.Action.DirectSubmit.superclass.constructor.call(this,b,a)},type:"directsubmit",run:function(){var a=this.options;if(a.clientValidation===false||this.form.isValid()){this.success.params=this.getParams();this.form.api.submit(this.form.el.dom,this.success,this)}else{if(a.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false)}}},getParams:function(){var c={};var a=this.form.baseParams;var b=this.options.params;Ext.apply(c,b,a);return c},processResponse:function(a){this.result=a;return a},success:function(a,b){if(b.type==Ext.Direct.exceptions.SERVER){a={}}Ext.form.Action.DirectSubmit.superclass.success.call(this,a)}});Ext.form.Action.ACTION_TYPES={load:Ext.form.Action.Load,submit:Ext.form.Action.Submit,directload:Ext.form.Action.DirectLoad,directsubmit:Ext.form.Action.DirectSubmit};Ext.form.VTypes=function(){var c=/^[a-zA-Z_]+$/,d=/^[a-zA-Z0-9_]+$/,b=/^(\w+)([\-+.][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,a=/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{email:function(e){return b.test(e)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[a-z0-9_\.\-@\+]/i,url:function(e){return a.test(e)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(e){return c.test(e)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return d.test(e)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}();Ext.grid.GridPanel=Ext.extend(Ext.Panel,{autoExpandColumn:false,autoExpandMax:1000,autoExpandMin:50,columnLines:false,ddText:"{0} selected row{1}",deferRowRender:true,enableColumnHide:true,enableColumnMove:true,enableDragDrop:false,enableHdMenu:true,loadMask:false,minColumnWidth:25,stripeRows:false,trackMouseOver:true,stateEvents:["columnmove","columnresize","sortchange","groupchange"],view:null,bubbleEvents:[],rendered:false,viewReady:false,initComponent:function(){Ext.grid.GridPanel.superclass.initComponent.call(this);if(this.columnLines){this.cls=(this.cls||"")+" x-grid-with-col-lines"}this.autoScroll=false;this.autoWidth=false;if(Ext.isArray(this.columns)){this.colModel=new Ext.grid.ColumnModel(this.columns);delete this.columns}if(this.ds){this.store=this.ds;delete this.ds}if(this.cm){this.colModel=this.cm;delete this.cm}if(this.sm){this.selModel=this.sm;delete this.sm}this.store=Ext.StoreMgr.lookup(this.store);this.addEvents("click","dblclick","contextmenu","mousedown","mouseup","mouseover","mouseout","keypress","keydown","cellmousedown","rowmousedown","headermousedown","groupmousedown","rowbodymousedown","containermousedown","cellclick","celldblclick","rowclick","rowdblclick","headerclick","headerdblclick","groupclick","groupdblclick","containerclick","containerdblclick","rowbodyclick","rowbodydblclick","rowcontextmenu","cellcontextmenu","headercontextmenu","groupcontextmenu","containercontextmenu","rowbodycontextmenu","bodyscroll","columnresize","columnmove","sortchange","groupchange","reconfigure","viewready")},onRender:function(d,a){Ext.grid.GridPanel.superclass.onRender.apply(this,arguments);var e=this.getGridEl();this.el.addClass("x-grid-panel");this.mon(e,{scope:this,mousedown:this.onMouseDown,click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu});this.relayEvents(e,["mousedown","mouseup","mouseover","mouseout","keypress","keydown"]);var b=this.getView();b.init(this);b.render();this.getSelectionModel().init(this)},initEvents:function(){Ext.grid.GridPanel.superclass.initEvents.call(this);if(this.loadMask){this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({store:this.store},this.loadMask))}},initStateEvents:function(){Ext.grid.GridPanel.superclass.initStateEvents.call(this);this.mon(this.colModel,"hiddenchange",this.saveState,this,{delay:100})},applyState:function(a){var l=this.colModel,g=a.columns,k=this.store,n,h,m;if(g){for(var d=0,e=g.length;d<e;d++){n=g[d];h=l.getColumnById(n.id);if(h){m=l.getIndexById(n.id);l.setState(m,{hidden:n.hidden,width:n.width,sortable:n.sortable});if(m!=d){l.moveColumn(m,d)}}}}if(k){n=a.sort;if(n){k[k.remoteSort?"setDefaultSort":"sort"](n.field,n.direction)}n=a.group;if(k.groupBy){if(n){k.groupBy(n)}else{k.clearGrouping()}}}var b=Ext.apply({},a);delete b.columns;delete b.sort;Ext.grid.GridPanel.superclass.applyState.call(this,b)},getState:function(){var g={columns:[]},b=this.store,e,a;for(var d=0,h;(h=this.colModel.config[d]);d++){g.columns[d]={id:h.id,width:h.width};if(h.hidden){g.columns[d].hidden=true}if(h.sortable){g.columns[d].sortable=true}}if(b){e=b.getSortState();if(e){g.sort=e}if(b.getGroupState){a=b.getGroupState();if(a){g.group=a}}}return g},afterRender:function(){Ext.grid.GridPanel.superclass.afterRender.call(this);var a=this.view;this.on("bodyresize",a.layout,a);a.layout(true);if(this.deferRowRender){if(!this.deferRowRenderTask){this.deferRowRenderTask=new Ext.util.DelayedTask(a.afterRender,this.view)}this.deferRowRenderTask.delay(10)}else{a.afterRender()}this.viewReady=true},reconfigure:function(a,b){var c=this.rendered;if(c){if(this.loadMask){this.loadMask.destroy();this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({},{store:a},this.initialConfig.loadMask))}}if(this.view){this.view.initData(a,b)}this.store=a;this.colModel=b;if(c){this.view.refresh(true)}this.fireEvent("reconfigure",this,a,b)},onDestroy:function(){if(this.deferRowRenderTask&&this.deferRowRenderTask.cancel){this.deferRowRenderTask.cancel()}if(this.rendered){Ext.destroy(this.view,this.loadMask)}else{if(this.store&&this.store.autoDestroy){this.store.destroy()}}Ext.destroy(this.colModel,this.selModel);this.store=this.selModel=this.colModel=this.view=this.loadMask=null;Ext.grid.GridPanel.superclass.onDestroy.call(this)},processEvent:function(a,b){this.view.processEvent(a,b)},onClick:function(a){this.processEvent("click",a)},onMouseDown:function(a){this.processEvent("mousedown",a)},onContextMenu:function(b,a){this.processEvent("contextmenu",b)},onDblClick:function(a){this.processEvent("dblclick",a)},walkCells:function(l,c,b,e,k){var i=this.colModel,g=i.getColumnCount(),a=this.store,h=a.getCount(),d=true;if(b<0){if(c<0){l--;d=false}while(l>=0){if(!d){c=g-1}d=false;while(c>=0){if(e.call(k||this,l,c,i)===true){return[l,c]}c--}l--}}else{if(c>=g){l++;d=false}while(l<h){if(!d){c=0}d=false;while(c<g){if(e.call(k||this,l,c,i)===true){return[l,c]}c++}l++}}return null},getGridEl:function(){return this.body},stopEditing:Ext.emptyFn,getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.grid.RowSelectionModel(this.disableSelection?{selectRow:Ext.emptyFn}:null)}return this.selModel},getStore:function(){return this.store},getColumnModel:function(){return this.colModel},getView:function(){if(!this.view){this.view=new Ext.grid.GridView(this.viewConfig)}return this.view},getDragDropText:function(){var a=this.selModel.getCount();return String.format(this.ddText,a,a==1?"":"s")}});Ext.reg("grid",Ext.grid.GridPanel);Ext.grid.PivotGrid=Ext.extend(Ext.grid.GridPanel,{aggregator:"sum",renderer:undefined,initComponent:function(){Ext.grid.PivotGrid.superclass.initComponent.apply(this,arguments);this.initAxes();this.enableColumnResize=false;this.viewConfig=Ext.apply(this.viewConfig||{},{forceFit:true});this.colModel=new Ext.grid.ColumnModel({})},getAggregator:function(){if(typeof this.aggregator=="string"){return Ext.grid.PivotAggregatorMgr.types[this.aggregator]}else{return this.aggregator}},setAggregator:function(a){this.aggregator=a},setMeasure:function(a){this.measure=a},setLeftAxis:function(b,a){this.leftAxis=b;if(a){this.view.refresh()}},setTopAxis:function(b,a){this.topAxis=b;if(a){this.view.refresh()}},initAxes:function(){var a=Ext.grid.PivotAxis;if(!(this.leftAxis instanceof a)){this.setLeftAxis(new a({orientation:"vertical",dimensions:this.leftAxis||[],store:this.store}))}if(!(this.topAxis instanceof a)){this.setTopAxis(new a({orientation:"horizontal",dimensions:this.topAxis||[],store:this.store}))}},extractData:function(){var c=this.store.data.items,s=c.length,q=[],h,g,e,d;if(s==0){return[]}var l=this.leftAxis.getTuples(),o=l.length,m=this.topAxis.getTuples(),a=m.length,b=this.getAggregator();for(g=0;g<s;g++){h=c[g];for(e=0;e<o;e++){q[e]=q[e]||[];if(l[e].matcher(h)===true){for(d=0;d<a;d++){q[e][d]=q[e][d]||[];if(m[d].matcher(h)){q[e][d].push(h)}}}}}var n=q.length,p,r;for(g=0;g<n;g++){r=q[g];p=r.length;for(e=0;e<p;e++){q[g][e]=b(q[g][e],this.measure)}}return q},getView:function(){if(!this.view){this.view=new Ext.grid.PivotGridView(this.viewConfig)}return this.view}});Ext.reg("pivotgrid",Ext.grid.PivotGrid);Ext.grid.PivotAggregatorMgr=new Ext.AbstractManager();Ext.grid.PivotAggregatorMgr.registerType("sum",function(a,c){var e=a.length,d=0,b;for(b=0;b<e;b++){d+=a[b].get(c)}return d});Ext.grid.PivotAggregatorMgr.registerType("avg",function(a,c){var e=a.length,d=0,b;for(b=0;b<e;b++){d+=a[b].get(c)}return(d/e)||"n/a"});Ext.grid.PivotAggregatorMgr.registerType("min",function(a,c){var e=[],d=a.length,b;for(b=0;b<d;b++){e.push(a[b].get(c))}return Math.min.apply(this,e)||"n/a"});Ext.grid.PivotAggregatorMgr.registerType("max",function(a,c){var e=[],d=a.length,b;for(b=0;b<d;b++){e.push(a[b].get(c))}return Math.max.apply(this,e)||"n/a"});Ext.grid.PivotAggregatorMgr.registerType("count",function(a,b){return a.length});Ext.grid.GridView=Ext.extend(Ext.util.Observable,{deferEmptyText:true,scrollOffset:undefined,autoFill:false,forceFit:false,sortClasses:["sort-asc","sort-desc"],sortAscText:"Sort Ascending",sortDescText:"Sort Descending",columnsText:"Columns",selectedRowClass:"x-grid3-row-selected",borderWidth:2,tdClass:"x-grid3-cell",hdCls:"x-grid3-hd",markDirty:true,cellSelectorDepth:4,rowSelectorDepth:10,rowBodySelectorDepth:10,cellSelector:"td.x-grid3-cell",rowSelector:"div.x-grid3-row",rowBodySelector:"div.x-grid3-row-body",firstRowCls:"x-grid3-row-first",lastRowCls:"x-grid3-row-last",rowClsRe:/(?:^|\s+)x-grid3-row-(first|last|alt)(?:\s+|$)/g,headerMenuOpenCls:"x-grid3-hd-menu-open",rowOverCls:"x-grid3-row-over",constructor:function(a){Ext.apply(this,a);this.addEvents("beforerowremoved","beforerowsinserted","beforerefresh","rowremoved","rowsinserted","rowupdated","refresh");Ext.grid.GridView.superclass.constructor.call(this)},masterTpl:new Ext.Template('<div class="x-grid3" hidefocus="true">','<div class="x-grid3-viewport">','<div class="x-grid3-header">','<div class="x-grid3-header-inner">','<div class="x-grid3-header-offset" style="{ostyle}">{header}</div>',"</div>",'<div class="x-clear"></div>',"</div>",'<div class="x-grid3-scroller">','<div class="x-grid3-body" style="{bstyle}">{body}</div>','<a href="#" class="x-grid3-focus" tabIndex="-1"></a>',"</div>","</div>",'<div class="x-grid3-resize-marker">&#160;</div>','<div class="x-grid3-resize-proxy">&#160;</div>',"</div>"),headerTpl:new Ext.Template('<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}">',"<thead>",'<tr class="x-grid3-hd-row">{cells}</tr>',"</thead>","</table>"),bodyTpl:new Ext.Template("{rows}"),cellTpl:new Ext.Template('<td class="x-grid3-col x-grid3-cell x-grid3-td-{id} {css}" style="{style}" tabIndex="0" {cellAttr}>','<div class="x-grid3-cell-inner x-grid3-col-{id}" unselectable="on" {attr}>{value}</div>',"</td>"),initTemplates:function(){var c=this.templates||{},d,b,g=new Ext.Template('<td class="x-grid3-hd x-grid3-cell x-grid3-td-{id} {css}" style="{style}">','<div {tooltip} {attr} class="x-grid3-hd-inner x-grid3-hd-{id}" unselectable="on" style="{istyle}">',this.grid.enableHdMenu?'<a class="x-grid3-hd-btn" href="#"></a>':"","{value}",'<img alt="" class="x-grid3-sort-icon" src="',Ext.BLANK_IMAGE_URL,'" />',"</div>","</td>"),a=['<tr class="x-grid3-row-body-tr" style="{bodyStyle}">','<td colspan="{cols}" class="x-grid3-body-cell" tabIndex="0" hidefocus="on">','<div class="x-grid3-row-body">{body}</div>',"</td>","</tr>"].join(""),e=['<table class="x-grid3-row-table" border="0" cellspacing="0" cellpadding="0" style="{tstyle}">',"<tbody>","<tr>{cells}</tr>",this.enableRowBody?a:"","</tbody>","</table>"].join("");Ext.applyIf(c,{hcell:g,cell:this.cellTpl,body:this.bodyTpl,header:this.headerTpl,master:this.masterTpl,row:new Ext.Template('<div class="x-grid3-row {alt}" style="{tstyle}">'+e+"</div>"),rowInner:new Ext.Template(e)});for(b in c){d=c[b];if(d&&Ext.isFunction(d.compile)&&!d.compiled){d.disableFormats=true;d.compile()}}this.templates=c;this.colRe=new RegExp("x-grid3-td-([^\\s]+)","")},fly:function(a){if(!this._flyweight){this._flyweight=new Ext.Element.Flyweight(document.body)}this._flyweight.dom=a;return this._flyweight},getEditorParent:function(){return this.scroller.dom},initElements:function(){var b=Ext.Element,d=Ext.get(this.grid.getGridEl().dom.firstChild),e=new b(d.child("div.x-grid3-viewport")),c=new b(e.child("div.x-grid3-header")),a=new b(e.child("div.x-grid3-scroller"));if(this.grid.hideHeaders){c.setDisplayed(false)}if(this.forceFit){a.setStyle("overflow-x","hidden")}Ext.apply(this,{el:d,mainWrap:e,scroller:a,mainHd:c,innerHd:c.child("div.x-grid3-header-inner").dom,mainBody:new b(b.fly(a).child("div.x-grid3-body")),focusEl:new b(b.fly(a).child("a")),resizeMarker:new b(d.child("div.x-grid3-resize-marker")),resizeProxy:new b(d.child("div.x-grid3-resize-proxy"))});this.focusEl.swallowEvent("click",true)},getRows:function(){return this.hasRows()?this.mainBody.dom.childNodes:[]},findCell:function(a){if(!a){return false}return this.fly(a).findParent(this.cellSelector,this.cellSelectorDepth)},findCellIndex:function(d,c){var b=this.findCell(d),a;if(b){a=this.fly(b).hasClass(c);if(!c||a){return this.getCellIndex(b)}}return false},getCellIndex:function(b){if(b){var a=b.className.match(this.colRe);if(a&&a[1]){return this.cm.getIndexById(a[1])}}return false},findHeaderCell:function(b){var a=this.findCell(b);return a&&this.fly(a).hasClass(this.hdCls)?a:null},findHeaderIndex:function(a){return this.findCellIndex(a,this.hdCls)},findRow:function(a){if(!a){return false}return this.fly(a).findParent(this.rowSelector,this.rowSelectorDepth)},findRowIndex:function(a){var b=this.findRow(a);return b?b.rowIndex:false},findRowBody:function(a){if(!a){return false}return this.fly(a).findParent(this.rowBodySelector,this.rowBodySelectorDepth)},getRow:function(a){return this.getRows()[a]},getCell:function(b,a){return Ext.fly(this.getRow(b)).query(this.cellSelector)[a]},getHeaderCell:function(a){return this.mainHd.dom.getElementsByTagName("td")[a]},addRowClass:function(b,a){var c=this.getRow(b);if(c){this.fly(c).addClass(a)}},removeRowClass:function(c,a){var b=this.getRow(c);if(b){this.fly(b).removeClass(a)}},removeRow:function(a){Ext.removeNode(this.getRow(a));this.syncFocusEl(a)},removeRows:function(c,a){var b=this.mainBody.dom,d;for(d=c;d<=a;d++){Ext.removeNode(b.childNodes[c])}this.syncFocusEl(c)},getScrollState:function(){var a=this.scroller.dom;return{left:a.scrollLeft,top:a.scrollTop}},restoreScroll:function(a){var b=this.scroller.dom;b.scrollLeft=a.left;b.scrollTop=a.top},scrollToTop:function(){var a=this.scroller.dom;a.scrollTop=0;a.scrollLeft=0},syncScroll:function(){this.syncHeaderScroll();var a=this.scroller.dom;this.grid.fireEvent("bodyscroll",a.scrollLeft,a.scrollTop)},syncHeaderScroll:function(){var a=this.innerHd,b=this.scroller.dom.scrollLeft;a.scrollLeft=b;a.scrollLeft=b},updateSortIcon:function(d,c){var a=this.sortClasses,b=a[c=="DESC"?1:0],e=this.mainHd.select("td").removeClass(a);e.item(d).addClass(b)},updateAllColumnWidths:function(){var e=this.getTotalWidth(),k=this.cm.getColumnCount(),m=this.getRows(),g=m.length,b=[],l,a,h,d,c;for(d=0;d<k;d++){b[d]=this.getColumnWidth(d);this.getHeaderCell(d).style.width=b[d]}this.updateHeaderWidth();for(d=0;d<g;d++){l=m[d];l.style.width=e;a=l.firstChild;if(a){a.style.width=e;h=a.rows[0];for(c=0;c<k;c++){h.childNodes[c].style.width=b[c]}}}this.onAllColumnWidthsUpdated(b,e)},updateColumnWidth:function(d,b){var c=this.getColumnWidth(d),k=this.getTotalWidth(),h=this.getHeaderCell(d),a=this.getRows(),e=a.length,m,g,l;this.updateHeaderWidth();h.style.width=c;for(g=0;g<e;g++){m=a[g];l=m.firstChild;m.style.width=k;if(l){l.style.width=k;l.rows[0].childNodes[d].style.width=c}}this.onColumnWidthUpdated(d,c,k)},updateColumnHidden:function(b,k){var h=this.getTotalWidth(),l=k?"none":"",g=this.getHeaderCell(b),a=this.getRows(),d=a.length,m,c,e;this.updateHeaderWidth();g.style.display=l;for(e=0;e<d;e++){m=a[e];m.style.width=h;c=m.firstChild;if(c){c.style.width=h;c.rows[0].childNodes[b].style.display=l}}this.onColumnHiddenUpdated(b,k,h);delete this.lastViewWidth;this.layout()},doRender:function(d,v,m,a,r,t){var h=this.templates,c=h.cell,y=h.row,o=r-1,b="width:"+this.getTotalWidth()+";",k=[],l=[],n={tstyle:b},q={},w=v.length,x,g,e,u,s,p;for(s=0;s<w;s++){e=v[s];l=[];p=s+a;for(u=0;u<r;u++){g=d[u];q.id=g.id;q.css=u===0?"x-grid3-cell-first ":(u==o?"x-grid3-cell-last ":"");q.attr=q.cellAttr="";q.style=g.style;q.value=g.renderer.call(g.scope,e.data[g.name],q,e,p,u,m);if(Ext.isEmpty(q.value)){q.value="&#160;"}if(this.markDirty&&e.dirty&&typeof e.modified[g.name]!="undefined"){q.css+=" x-grid3-dirty-cell"}l[l.length]=c.apply(q)}x=[];if(t&&((p+1)%2===0)){x[0]="x-grid3-row-alt"}if(e.dirty){x[1]=" x-grid3-dirty-row"}n.cols=r;if(this.getRowClass){x[2]=this.getRowClass(e,p,n,m)}n.alt=x.join(" ");n.cells=l.join("");k[k.length]=y.apply(n)}return k.join("")},processRows:function(a,g){if(!this.ds||this.ds.getCount()<1){return}var d=this.getRows(),c=d.length,e,b;g=g||!this.grid.stripeRows;a=a||0;for(b=0;b<c;b++){e=d[b];if(e){e.rowIndex=b;if(!g){e.className=e.className.replace(this.rowClsRe," ");if((b+1)%2===0){e.className+=" x-grid3-row-alt"}}}}if(a===0){Ext.fly(d[0]).addClass(this.firstRowCls)}Ext.fly(d[c-1]).addClass(this.lastRowCls)},afterRender:function(){if(!this.ds||!this.cm){return}this.mainBody.dom.innerHTML=this.renderBody()||"&#160;";this.processRows(0,true);if(this.deferEmptyText!==true){this.applyEmptyText()}this.grid.fireEvent("viewready",this.grid)},afterRenderUI:function(){var a=this.grid;this.initElements();Ext.fly(this.innerHd).on("click",this.handleHdDown,this);this.mainHd.on({scope:this,mouseover:this.handleHdOver,mouseout:this.handleHdOut,mousemove:this.handleHdMove});this.scroller.on("scroll",this.syncScroll,this);if(a.enableColumnResize!==false){this.splitZone=new Ext.grid.GridView.SplitDragZone(a,this.mainHd.dom)}if(a.enableColumnMove){this.columnDrag=new Ext.grid.GridView.ColumnDragZone(a,this.innerHd);this.columnDrop=new Ext.grid.HeaderDropZone(a,this.mainHd.dom)}if(a.enableHdMenu!==false){this.hmenu=new Ext.menu.Menu({id:a.id+"-hctx"});this.hmenu.add({itemId:"asc",text:this.sortAscText,cls:"xg-hmenu-sort-asc"},{itemId:"desc",text:this.sortDescText,cls:"xg-hmenu-sort-desc"});if(a.enableColumnHide!==false){this.colMenu=new Ext.menu.Menu({id:a.id+"-hcols-menu"});this.colMenu.on({scope:this,beforeshow:this.beforeColMenuShow,itemclick:this.handleHdMenuClick});this.hmenu.add("-",{itemId:"columns",hideOnClick:false,text:this.columnsText,menu:this.colMenu,iconCls:"x-cols-icon"})}this.hmenu.on("itemclick",this.handleHdMenuClick,this)}if(a.trackMouseOver){this.mainBody.on({scope:this,mouseover:this.onRowOver,mouseout:this.onRowOut})}if(a.enableDragDrop||a.enableDrag){this.dragZone=new Ext.grid.GridDragZone(a,{ddGroup:a.ddGroup||"GridDD"})}this.updateHeaderSortState()},renderUI:function(){var a=this.templates;return a.master.apply({body:a.body.apply({rows:"&#160;"}),header:this.renderHeaders(),ostyle:"width:"+this.getOffsetWidth()+";",bstyle:"width:"+this.getTotalWidth()+";"})},processEvent:function(b,h){var i=h.getTarget(),a=this.grid,d=this.findHeaderIndex(i),l,k,c,g;a.fireEvent(b,h);if(d!==false){a.fireEvent("header"+b,a,d,h)}else{l=this.findRowIndex(i);if(l!==false){k=this.findCellIndex(i);if(k!==false){c=a.colModel.getColumnAt(k);if(a.fireEvent("cell"+b,a,l,k,h)!==false){if(!c||(c.processEvent&&(c.processEvent(b,h,a,l,k)!==false))){a.fireEvent("row"+b,a,l,h)}}}else{if(a.fireEvent("row"+b,a,l,h)!==false){(g=this.findRowBody(i))&&a.fireEvent("rowbody"+b,a,l,h)}}}else{a.fireEvent("container"+b,a,h)}}},layout:function(k){if(!this.mainBody){return}var a=this.grid,d=a.getGridEl(),c=d.getSize(true),i=c.width,b=c.height,h=this.scroller,g,e,l;if(i<20||b<20){return}if(a.autoHeight){g=h.dom.style;g.overflow="visible";if(Ext.isWebKit){g.position="static"}}else{this.el.setSize(i,b);e=this.mainHd.getHeight();l=b-e;h.setSize(i,l);if(this.innerHd){this.innerHd.style.width=(i)+"px"}}if(this.forceFit||(k===true&&this.autoFill)){if(this.lastViewWidth!=i){this.fitColumns(false,false);this.lastViewWidth=i}}else{this.autoExpand();this.syncHeaderScroll()}this.onLayout(i,l)},onLayout:function(a,b){},onColumnWidthUpdated:function(c,a,b){},onAllColumnWidthsUpdated:function(a,b){},onColumnHiddenUpdated:function(b,c,a){},updateColumnText:function(a,b){},afterMove:function(a){},init:function(a){this.grid=a;this.initTemplates();this.initData(a.store,a.colModel);this.initUI(a)},getColumnId:function(a){return this.cm.getColumnId(a)},getOffsetWidth:function(){return(this.cm.getTotalWidth()+this.getScrollOffset())+"px"},getScrollOffset:function(){return Ext.num(this.scrollOffset,Ext.getScrollBarWidth())},renderHeaders:function(){var e=this.cm,g=this.templates,a=g.hcell,d={},h=e.getColumnCount(),k=h-1,l=[],c,b;for(c=0;c<h;c++){if(c==0){b="x-grid3-cell-first "}else{b=c==k?"x-grid3-cell-last ":""}d={id:e.getColumnId(c),value:e.getColumnHeader(c)||"",style:this.getColumnStyle(c,true),css:b,tooltip:this.getColumnTooltip(c)};if(e.config[c].align=="right"){d.istyle="padding-right: 16px;"}else{delete d.istyle}l[c]=a.apply(d)}return g.header.apply({cells:l.join(""),tstyle:String.format("width: {0};",this.getTotalWidth())})},getColumnTooltip:function(a){var b=this.cm.getColumnTooltip(a);if(b){if(Ext.QuickTips.isEnabled()){return'ext:qtip="'+b+'"'}else{return'title="'+b+'"'}}return""},beforeUpdate:function(){this.grid.stopEditing(true)},updateHeaders:function(){this.innerHd.firstChild.innerHTML=this.renderHeaders();this.updateHeaderWidth(false)},updateHeaderWidth:function(c){var b=this.innerHd.firstChild,a=this.getTotalWidth();b.style.width=this.getOffsetWidth();b.firstChild.style.width=a;if(c!==false){this.mainBody.dom.style.width=a}},focusRow:function(a){this.focusCell(a,0,false)},focusCell:function(d,b,c){this.syncFocusEl(this.ensureVisible(d,b,c));var a=this.focusEl;if(Ext.isGecko){a.focus()}else{a.focus.defer(1,a)}},resolveCell:function(h,d,g){if(!Ext.isNumber(h)){h=h.rowIndex}if(!this.ds){return null}if(h<0||h>=this.ds.getCount()){return null}d=(d!==undefined?d:0);var c=this.getRow(h),b=this.cm,e=b.getColumnCount(),a;if(!(g===false&&d===0)){while(d<e&&b.isHidden(d)){d++}a=this.getCell(h,d)}return{row:c,cell:a}},getResolvedXY:function(b){if(!b){return null}var a=b.cell,c=b.row;if(a){return Ext.fly(a).getXY()}else{return[this.el.getX(),Ext.fly(c).getY()]}},syncFocusEl:function(d,a,c){var b=d;if(!Ext.isArray(b)){d=Math.min(d,Math.max(0,this.getRows().length-1));if(isNaN(d)){return}b=this.getResolvedXY(this.resolveCell(d,a,c))}this.focusEl.setXY(b||this.scroller.getXY())},ensureVisible:function(u,g,e){var s=this.resolveCell(u,g,e);if(!s||!s.row){return null}var l=s.row,h=s.cell,o=this.scroller.dom,d=l,t=0,q=this.el.dom;while(d&&d!=q){t+=d.offsetTop;d=d.offsetParent}t-=this.mainHd.dom.offsetHeight;q=parseInt(o.scrollTop,10);var r=t+l.offsetHeight,a=o.clientHeight,n=q+a;if(t<q){o.scrollTop=t}else{if(r>n){o.scrollTop=r-a}}if(e!==false){var m=parseInt(h.offsetLeft,10),k=m+h.offsetWidth,i=parseInt(o.scrollLeft,10),b=i+o.clientWidth;if(m<i){o.scrollLeft=m}else{if(k>b){o.scrollLeft=k-o.clientWidth}}}return this.getResolvedXY(s)},insertRows:function(a,i,e,h){var d=a.getCount()-1;if(!h&&i===0&&e>=d){this.fireEvent("beforerowsinserted",this,i,e);this.refresh();this.fireEvent("rowsinserted",this,i,e)}else{if(!h){this.fireEvent("beforerowsinserted",this,i,e)}var b=this.renderRows(i,e),g=this.getRow(i);if(g){if(i===0){Ext.fly(this.getRow(0)).removeClass(this.firstRowCls)}Ext.DomHelper.insertHtml("beforeBegin",g,b)}else{var c=this.getRow(d-1);if(c){Ext.fly(c).removeClass(this.lastRowCls)}Ext.DomHelper.insertHtml("beforeEnd",this.mainBody.dom,b)}if(!h){this.processRows(i);this.fireEvent("rowsinserted",this,i,e)}else{if(i===0||i>=d){Ext.fly(this.getRow(i)).addClass(i===0?this.firstRowCls:this.lastRowCls)}}}this.syncFocusEl(i)},deleteRows:function(a,c,b){if(a.getRowCount()<1){this.refresh()}else{this.fireEvent("beforerowsdeleted",this,c,b);this.removeRows(c,b);this.processRows(c);this.fireEvent("rowsdeleted",this,c,b)}},getColumnStyle:function(b,d){var a=this.cm,g=a.config,c=d?"":g[b].css||"",e=g[b].align;c+=String.format("width: {0};",this.getColumnWidth(b));if(a.isHidden(b)){c+="display: none; "}if(e){c+=String.format("text-align: {0};",e)}return c},getColumnWidth:function(b){var c=this.cm.getColumnWidth(b),a=this.borderWidth;if(Ext.isNumber(c)){if(Ext.isBorderBox||(Ext.isWebKit&&!Ext.isSafari2)){return c+"px"}else{return Math.max(c-a,0)+"px"}}else{return c}},getTotalWidth:function(){return this.cm.getTotalWidth()+"px"},fitColumns:function(g,k,h){var a=this.grid,m=this.cm,t=m.getTotalWidth(false),r=this.getGridInnerWidth(),s=r-t,c=[],p=0,o=0,v,d,q;if(r<20||s===0){return false}var e=m.getColumnCount(true),n=m.getColumnCount(false),b=e-(Ext.isNumber(h)?1:0);if(b===0){b=1;h=undefined}for(q=0;q<n;q++){if(!m.isFixed(q)&&q!==h){v=m.getColumnWidth(q);c.push(q,v);if(!m.isHidden(q)){p=q;o+=v}}}d=(r-m.getTotalWidth())/o;while(c.length){v=c.pop();q=c.pop();m.setColumnWidth(q,Math.max(a.minColumnWidth,Math.floor(v+v*d)),true)}t=m.getTotalWidth(false);if(t>r){var u=(b==e)?p:h,l=Math.max(1,m.getColumnWidth(u)-(t-r));m.setColumnWidth(u,l,true)}if(g!==true){this.updateAllColumnWidths()}return true},autoExpand:function(l){var a=this.grid,i=this.cm,e=this.getGridInnerWidth(),c=i.getTotalWidth(false),g=a.autoExpandColumn;if(!this.userResized&&g){if(e!=c){var k=i.getIndexById(g),b=i.getColumnWidth(k),h=e-c+b,d=Math.min(Math.max(h,a.autoExpandMin),a.autoExpandMax);if(b!=d){i.setColumnWidth(k,d,true);if(l!==true){this.updateColumnWidth(k,d)}}}}},getGridInnerWidth:function(){return this.grid.getGridEl().getWidth(true)-this.getScrollOffset()},getColumnData:function(){var e=[],c=this.cm,g=c.getColumnCount(),a=this.ds.fields,d,b;for(d=0;d<g;d++){b=c.getDataIndex(d);e[d]={name:Ext.isDefined(b)?b:(a.get(d)?a.get(d).name:undefined),renderer:c.getRenderer(d),scope:c.getRendererScope(d),id:c.getColumnId(d),style:this.getColumnStyle(d)}}return e},renderRows:function(i,c){var a=this.grid,g=a.store,k=a.stripeRows,e=a.colModel,h=e.getColumnCount(),d=g.getCount(),b;if(d<1){return""}i=i||0;c=Ext.isDefined(c)?c:d-1;b=g.getRange(i,c);return this.doRender(this.getColumnData(),b,g,i,h,k)},renderBody:function(){var a=this.renderRows()||"&#160;";return this.templates.body.apply({rows:a})},refreshRow:function(g){var m=this.ds,n=this.cm.getColumnCount(),c=this.getColumnData(),o=n-1,q=["x-grid3-row"],e={tstyle:String.format("width: {0};",this.getTotalWidth())},a=[],l=this.templates.cell,k,r,b,p,h,d;if(Ext.isNumber(g)){k=g;g=m.getAt(k)}else{k=m.indexOf(g)}if(!g||k<0){return}for(d=0;d<n;d++){b=c[d];if(d==0){h="x-grid3-cell-first"}else{h=(d==o)?"x-grid3-cell-last ":""}p={id:b.id,style:b.style,css:h,attr:"",cellAttr:""};p.value=b.renderer.call(b.scope,g.data[b.name],p,g,k,d,m);if(Ext.isEmpty(p.value)){p.value="&#160;"}if(this.markDirty&&g.dirty&&typeof g.modified[b.name]!="undefined"){p.css+=" x-grid3-dirty-cell"}a[d]=l.apply(p)}r=this.getRow(k);r.className="";if(this.grid.stripeRows&&((k+1)%2===0)){q.push("x-grid3-row-alt")}if(this.getRowClass){e.cols=n;q.push(this.getRowClass(g,k,e,m))}this.fly(r).addClass(q).setStyle(e.tstyle);e.cells=a.join("");r.innerHTML=this.templates.rowInner.apply(e);this.fireEvent("rowupdated",this,k,g)},refresh:function(b){this.fireEvent("beforerefresh",this);this.grid.stopEditing(true);var a=this.renderBody();this.mainBody.update(a).setWidth(this.getTotalWidth());if(b===true){this.updateHeaders();this.updateHeaderSortState()}this.processRows(0,true);this.layout();this.applyEmptyText();this.fireEvent("refresh",this)},applyEmptyText:function(){if(this.emptyText&&!this.hasRows()){this.mainBody.update('<div class="x-grid-empty">'+this.emptyText+"</div>")}},updateHeaderSortState:function(){var b=this.ds.getSortState();if(!b){return}if(!this.sortState||(this.sortState.field!=b.field||this.sortState.direction!=b.direction)){this.grid.fireEvent("sortchange",this.grid,b)}this.sortState=b;var c=this.cm.findColumnIndex(b.field);if(c!=-1){var a=b.direction;this.updateSortIcon(c,a)}},clearHeaderSortState:function(){if(!this.sortState){return}this.grid.fireEvent("sortchange",this.grid,null);this.mainHd.select("td").removeClass(this.sortClasses);delete this.sortState},destroy:function(){var k=this,a=k.grid,d=a.getGridEl(),i=k.dragZone,g=k.splitZone,h=k.columnDrag,e=k.columnDrop,l=k.scrollToTopTask,c,b;if(l&&l.cancel){l.cancel()}Ext.destroyMembers(k,"colMenu","hmenu");k.initData(null,null);k.purgeListeners();Ext.fly(k.innerHd).un("click",k.handleHdDown,k);if(a.enableColumnMove){c=h.dragData;b=h.proxy;Ext.destroy(h.el,b.ghost,b.el,e.el,e.proxyTop,e.proxyBottom,c.ddel,c.header);if(b.anim){Ext.destroy(b.anim)}delete b.ghost;delete c.ddel;delete c.header;h.destroy();delete Ext.dd.DDM.locationCache[h.id];delete h._domRef;delete e.proxyTop;delete e.proxyBottom;e.destroy();delete Ext.dd.DDM.locationCache["gridHeader"+d.id];delete e._domRef;delete Ext.dd.DDM.ids[e.ddGroup]}if(g){g.destroy();delete g._domRef;delete Ext.dd.DDM.ids["gridSplitters"+d.id]}Ext.fly(k.innerHd).removeAllListeners();Ext.removeNode(k.innerHd);delete k.innerHd;Ext.destroy(k.el,k.mainWrap,k.mainHd,k.scroller,k.mainBody,k.focusEl,k.resizeMarker,k.resizeProxy,k.activeHdBtn,k._flyweight,i,g);delete a.container;if(i){i.destroy()}Ext.dd.DDM.currentTarget=null;delete Ext.dd.DDM.locationCache[d.id];Ext.EventManager.removeResizeListener(k.onWindowResize,k)},onDenyColumnHide:function(){},render:function(){if(this.autoFill){var a=this.grid.ownerCt;if(a&&a.getLayout()){a.on("afterlayout",function(){this.fitColumns(true,true);this.updateHeaders();this.updateHeaderSortState()},this,{single:true})}}else{if(this.forceFit){this.fitColumns(true,false)}else{if(this.grid.autoExpandColumn){this.autoExpand(true)}}}this.grid.getGridEl().dom.innerHTML=this.renderUI();this.afterRenderUI()},initData:function(a,e){var b=this;if(b.ds){var d=b.ds;d.un("add",b.onAdd,b);d.un("load",b.onLoad,b);d.un("clear",b.onClear,b);d.un("remove",b.onRemove,b);d.un("update",b.onUpdate,b);d.un("datachanged",b.onDataChange,b);if(d!==a&&d.autoDestroy){d.destroy()}}if(a){a.on({scope:b,load:b.onLoad,add:b.onAdd,remove:b.onRemove,update:b.onUpdate,clear:b.onClear,datachanged:b.onDataChange})}if(b.cm){var c=b.cm;c.un("configchange",b.onColConfigChange,b);c.un("widthchange",b.onColWidthChange,b);c.un("headerchange",b.onHeaderChange,b);c.un("hiddenchange",b.onHiddenChange,b);c.un("columnmoved",b.onColumnMove,b)}if(e){delete b.lastViewWidth;e.on({scope:b,configchange:b.onColConfigChange,widthchange:b.onColWidthChange,headerchange:b.onHeaderChange,hiddenchange:b.onHiddenChange,columnmoved:b.onColumnMove})}b.ds=a;b.cm=e},onDataChange:function(){this.refresh(true);this.updateHeaderSortState();this.syncFocusEl(0)},onClear:function(){this.refresh();this.syncFocusEl(0)},onUpdate:function(b,a){this.refreshRow(a)},onAdd:function(b,a,c){this.insertRows(b,c,c+(a.length-1))},onRemove:function(b,a,c,d){if(d!==true){this.fireEvent("beforerowremoved",this,c,a)}this.removeRow(c);if(d!==true){this.processRows(c);this.applyEmptyText();this.fireEvent("rowremoved",this,c,a)}},onLoad:function(){if(Ext.isGecko){if(!this.scrollToTopTask){this.scrollToTopTask=new Ext.util.DelayedTask(this.scrollToTop,this)}this.scrollToTopTask.delay(1)}else{this.scrollToTop()}},onColWidthChange:function(a,b,c){this.updateColumnWidth(b,c)},onHeaderChange:function(a,b,c){this.updateHeaders()},onHiddenChange:function(a,b,c){this.updateColumnHidden(b,c)},onColumnMove:function(a,c,b){this.indexMap=null;this.refresh(true);this.restoreScroll(this.getScrollState());this.afterMove(b);this.grid.fireEvent("columnmove",c,b)},onColConfigChange:function(){delete this.lastViewWidth;this.indexMap=null;this.refresh(true)},initUI:function(a){a.on("headerclick",this.onHeaderClick,this)},initEvents:Ext.emptyFn,onHeaderClick:function(b,a){if(this.headersDisabled||!this.cm.isSortable(a)){return}b.stopEditing(true);b.store.sort(this.cm.getDataIndex(a))},onRowOver:function(b,a){var c=this.findRowIndex(a);if(c!==false){this.addRowClass(c,this.rowOverCls)}},onRowOut:function(b,a){var c=this.findRowIndex(a);if(c!==false&&!b.within(this.getRow(c),true)){this.removeRowClass(c,this.rowOverCls)}},onRowSelect:function(a){this.addRowClass(a,this.selectedRowClass)},onRowDeselect:function(a){this.removeRowClass(a,this.selectedRowClass)},onCellSelect:function(c,b){var a=this.getCell(c,b);if(a){this.fly(a).addClass("x-grid3-cell-selected")}},onCellDeselect:function(c,b){var a=this.getCell(c,b);if(a){this.fly(a).removeClass("x-grid3-cell-selected")}},handleWheel:function(a){a.stopPropagation()},onColumnSplitterMoved:function(a,b){this.userResized=true;this.grid.colModel.setColumnWidth(a,b,true);if(this.forceFit){this.fitColumns(true,false,a);this.updateAllColumnWidths()}else{this.updateColumnWidth(a,b);this.syncHeaderScroll()}this.grid.fireEvent("columnresize",a,b)},beforeColMenuShow:function(){var b=this.cm,d=b.getColumnCount(),a=this.colMenu,c;a.removeAll();for(c=0;c<d;c++){if(b.config[c].hideable!==false){a.add(new Ext.menu.CheckItem({text:b.getColumnHeader(c),itemId:"col-"+b.getColumnId(c),checked:!b.isHidden(c),disabled:b.config[c].hideable===false,hideOnClick:false}))}}},handleHdMenuClick:function(c){var a=this.ds,b=this.cm.getDataIndex(this.hdCtxIndex);switch(c.getItemId()){case"asc":a.sort(b,"ASC");break;case"desc":a.sort(b,"DESC");break;default:this.handleHdMenuClickDefault(c)}return true},handleHdMenuClickDefault:function(c){var b=this.cm,d=c.getItemId(),a=b.getIndexById(d.substr(4));if(a!=-1){if(c.checked&&b.getColumnsBy(this.isHideableColumn,this).length<=1){this.onDenyColumnHide();return}b.setHidden(a,c.checked)}},handleHdDown:function(i,k){if(Ext.fly(k).hasClass("x-grid3-hd-btn")){i.stopEvent();var l=this.cm,g=this.findHeaderCell(k),h=this.getCellIndex(g),d=l.isSortable(h),c=this.hmenu,b=c.items,a=this.headerMenuOpenCls;this.hdCtxIndex=h;Ext.fly(g).addClass(a);b.get("asc").setDisabled(!d);b.get("desc").setDisabled(!d);c.on("hide",function(){Ext.fly(g).removeClass(a)},this,{single:true});c.show(k,"tl-bl?")}},handleHdMove:function(l){var i=this.findHeaderCell(this.activeHdRef);if(i&&!this.headersDisabled){var m=this.splitHandleWidth||5,k=this.activeHdRegion,q=i.style,n=this.cm,p="",g=l.getPageX();if(this.grid.enableColumnResize!==false){var a=this.activeHdIndex,b=this.getPreviousVisible(a),o=n.isResizable(a),c=b&&n.isResizable(b),d=g-k.left<=m,h=k.right-g<=(!this.activeHdBtn?m:2);if(d&&c){p=Ext.isAir?"move":Ext.isWebKit?"e-resize":"col-resize"}else{if(h&&o){p=Ext.isAir?"move":Ext.isWebKit?"w-resize":"col-resize"}}}q.cursor=p}},getPreviousVisible:function(a){while(a>0){if(!this.cm.isHidden(a-1)){return a}a--}return undefined},handleHdOver:function(c,b){var d=this.findHeaderCell(b);if(d&&!this.headersDisabled){var a=this.fly(d);this.activeHdRef=b;this.activeHdIndex=this.getCellIndex(d);this.activeHdRegion=a.getRegion();if(!this.isMenuDisabled(this.activeHdIndex,a)){a.addClass("x-grid3-hd-over");this.activeHdBtn=a.child(".x-grid3-hd-btn");if(this.activeHdBtn){this.activeHdBtn.dom.style.height=(d.firstChild.offsetHeight-1)+"px"}}}},handleHdOut:function(b,a){var c=this.findHeaderCell(a);if(c&&(!Ext.isIE||!b.within(c,true))){this.activeHdRef=null;this.fly(c).removeClass("x-grid3-hd-over");c.style.cursor=""}},isMenuDisabled:function(a,b){return this.cm.isMenuDisabled(a)},hasRows:function(){var a=this.mainBody.dom.firstChild;return a&&a.nodeType==1&&a.className!="x-grid-empty"},isHideableColumn:function(a){return !a.hidden},bind:function(a,b){this.initData(a,b)}});Ext.grid.GridView.SplitDragZone=Ext.extend(Ext.dd.DDProxy,{constructor:function(a,b){this.grid=a;this.view=a.getView();this.marker=this.view.resizeMarker;this.proxy=this.view.resizeProxy;Ext.grid.GridView.SplitDragZone.superclass.constructor.call(this,b,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.scroll=false;this.hw=this.view.splitHandleWidth||5},b4StartDrag:function(a,e){this.dragHeadersDisabled=this.view.headersDisabled;this.view.headersDisabled=true;var d=this.view.mainWrap.getHeight();this.marker.setHeight(d);this.marker.show();this.marker.alignTo(this.view.getHeaderCell(this.cellIndex),"tl-tl",[-2,0]);this.proxy.setHeight(d);var b=this.cm.getColumnWidth(this.cellIndex),c=Math.max(b-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(c,1000);this.setYConstraint(0,0);this.minX=a-c;this.maxX=a+1000;this.startPos=a;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,a,e)},allowHeaderDrag:function(a){return true},handleMouseDown:function(a){var h=this.view.findHeaderCell(a.getTarget());if(h&&this.allowHeaderDrag(a)){var l=this.view.fly(h).getXY(),c=l[0],i=a.getXY(),b=i[0],g=h.offsetWidth,d=false;if((b-c)<=this.hw){d=-1}else{if((c+g)-b<=this.hw){d=0}}if(d!==false){this.cm=this.grid.colModel;var k=this.view.getCellIndex(h);if(d==-1){if(k+d<0){return}while(this.cm.isHidden(k+d)){--d;if(k+d<0){return}}}this.cellIndex=k+d;this.split=h.dom;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.GridView.SplitDragZone.superclass.handleMouseDown.apply(this,arguments)}}else{if(this.view.columnDrag){this.view.columnDrag.callHandleMouseDown(a)}}}},endDrag:function(g){this.marker.hide();var a=this.view,c=Math.max(this.minX,g.getPageX()),d=c-this.startPos,b=this.dragHeadersDisabled;a.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+d);setTimeout(function(){a.headersDisabled=b},50)},autoOffset:function(){this.setDelta(0,0)}});Ext.grid.PivotGridView=Ext.extend(Ext.grid.GridView,{colHeaderCellCls:"grid-hd-group-cell",title:"",getColumnHeaders:function(){return this.grid.topAxis.buildHeaders()},getRowHeaders:function(){return this.grid.leftAxis.buildHeaders()},renderRows:function(a,r){var b=this.grid,n=b.extractData(),o=n.length,e=this.templates,q=b.renderer,h=typeof q=="function",t=this.getCellCls,m=typeof t=="function",d=e.cell,u=e.row,k=[],p={},c="width:"+this.getGridInnerWidth()+"px;",l,g,s;a=a||0;r=Ext.isDefined(r)?r:o-1;for(s=0;s<o;s++){row=n[s];colCount=row.length;l=[];rowIndex=a+s;for(j=0;j<colCount;j++){cell=row[j];p.css=j===0?"x-grid3-cell-first ":(j==(colCount-1)?"x-grid3-cell-last ":"");p.attr=p.cellAttr="";p.value=cell;if(Ext.isEmpty(p.value)){p.value="&#160;"}if(h){p.value=q(p.value)}if(m){p.css+=t(p.value)+" "}l[l.length]=d.apply(p)}k[k.length]=u.apply({tstyle:c,cols:colCount,cells:l.join(""),alt:""})}return k.join("")},masterTpl:new Ext.Template('<div class="x-grid3 x-pivotgrid" hidefocus="true">','<div class="x-grid3-viewport">','<div class="x-grid3-header">','<div class="x-grid3-header-title"><span>{title}</span></div>','<div class="x-grid3-header-inner">','<div class="x-grid3-header-offset" style="{ostyle}"></div>',"</div>",'<div class="x-clear"></div>',"</div>",'<div class="x-grid3-scroller">','<div class="x-grid3-row-headers"></div>','<div class="x-grid3-body" style="{bstyle}">{body}</div>','<a href="#" class="x-grid3-focus" tabIndex="-1"></a>',"</div>","</div>",'<div class="x-grid3-resize-marker">&#160;</div>','<div class="x-grid3-resize-proxy">&#160;</div>',"</div>"),initTemplates:function(){Ext.grid.PivotGridView.superclass.initTemplates.apply(this,arguments);var a=this.templates||{};if(!a.gcell){a.gcell=new Ext.XTemplate('<td class="x-grid3-hd x-grid3-gcell x-grid3-td-{id} ux-grid-hd-group-row-{row} '+this.colHeaderCellCls+'" style="{style}">','<div {tooltip} class="x-grid3-hd-inner x-grid3-hd-{id}" unselectable="on" style="{istyle}">',this.grid.enableHdMenu?'<a class="x-grid3-hd-btn" href="#"></a>':"","{value}","</div>","</td>")}this.templates=a;this.hrowRe=new RegExp("ux-grid-hd-group-row-(\\d+)","")},initElements:function(){Ext.grid.PivotGridView.superclass.initElements.apply(this,arguments);this.rowHeadersEl=new Ext.Element(this.scroller.child("div.x-grid3-row-headers"));this.headerTitleEl=new Ext.Element(this.mainHd.child("div.x-grid3-header-title"))},getGridInnerWidth:function(){var a=Ext.grid.PivotGridView.superclass.getGridInnerWidth.apply(this,arguments);return a-this.getTotalRowHeaderWidth()},getTotalRowHeaderWidth:function(){var d=this.getRowHeaders(),c=d.length,b=0,a;for(a=0;a<c;a++){b+=d[a].width}return b},getTotalColumnHeaderHeight:function(){return this.getColumnHeaders().length*21},renderUI:function(){var b=this.templates,a=this.getGridInnerWidth();return b.master.apply({body:b.body.apply({rows:"&#160;"}),ostyle:"width:"+a+"px",bstyle:"width:"+a+"px"})},onLayout:function(b,a){Ext.grid.PivotGridView.superclass.onLayout.apply(this,arguments);var b=this.getGridInnerWidth();this.resizeColumnHeaders(b);this.resizeAllRows(b)},refresh:function(b){this.fireEvent("beforerefresh",this);this.grid.stopEditing(true);var a=this.renderBody();this.mainBody.update(a).setWidth(this.getGridInnerWidth());if(b===true){this.updateHeaders();this.updateHeaderSortState()}this.processRows(0,true);this.layout();this.applyEmptyText();this.fireEvent("refresh",this)},renderHeaders:Ext.emptyFn,fitColumns:Ext.emptyFn,resizeColumnHeaders:function(b){var a=this.grid.topAxis;if(a.rendered){a.el.setWidth(b)}},resizeRowHeaders:function(){var a=this.getTotalRowHeaderWidth(),b=String.format("margin-left: {0}px;",a);this.rowHeadersEl.setWidth(a);this.mainBody.applyStyles(b);Ext.fly(this.innerHd).applyStyles(b);this.headerTitleEl.setWidth(a);this.headerTitleEl.setHeight(this.getTotalColumnHeaderHeight())},resizeAllRows:function(b){var d=this.getRows(),c=d.length,a;for(a=0;a<c;a++){Ext.fly(d[a]).setWidth(b);Ext.fly(d[a]).child("table").setWidth(b)}},updateHeaders:function(){this.renderGroupRowHeaders();this.renderGroupColumnHeaders()},renderGroupRowHeaders:function(){var a=this.grid.leftAxis;this.resizeRowHeaders();a.rendered=false;a.render(this.rowHeadersEl);this.setTitle(this.title)},setTitle:function(a){this.headerTitleEl.child("span").dom.innerHTML=a},renderGroupColumnHeaders:function(){var a=this.grid.topAxis;a.rendered=false;a.render(this.innerHd.firstChild)},isMenuDisabled:function(a,b){return true}});Ext.grid.PivotAxis=Ext.extend(Ext.Component,{orientation:"horizontal",defaultHeaderWidth:80,paddingWidth:7,setDimensions:function(a){this.dimensions=a},onRender:function(b,a){var c=this.orientation=="horizontal"?this.renderHorizontalRows():this.renderVerticalRows();this.el=Ext.DomHelper.overwrite(b.dom,{tag:"table",cn:c},true)},renderHorizontalRows:function(){var k=this.buildHeaders(),a=k.length,g=[],c,h,e,d,b;for(d=0;d<a;d++){c=[];h=k[d].items;e=h.length;for(b=0;b<e;b++){c.push({tag:"td",html:h[b].header,colspan:h[b].span})}g[d]={tag:"tr",cn:c}}return g},renderVerticalRows:function(){var b=this.buildHeaders(),k=b.length,a=[],m=[],h,c,l,g,e,d;for(e=0;e<k;e++){c=b[e];g=c.width||80;h=c.items.length;for(d=0;d<h;d++){l=c.items[d];a[l.start]=a[l.start]||[];a[l.start].push({tag:"td",html:l.header,rowspan:l.span,width:Ext.isBorderBox?g:g-this.paddingWidth})}}h=a.length;for(e=0;e<h;e++){m[e]={tag:"tr",cn:a[e]}}return m},getTuples:function(){var b=new Ext.data.Store({});b.data=this.store.data.clone();b.fields=this.store.fields;var m=[],a=this.dimensions,c=a.length,k;for(k=0;k<c;k++){m.push({field:a[k].dataIndex,direction:a[k].direction||"ASC"})}b.sort(m);var e=b.data.items,o=[],l=[],p,h,d,g,n;c=e.length;for(k=0;k<c;k++){d=this.getRecordInfo(e[k]);g=d.data;h="";for(n in g){h+=g[n]+"---"}if(o.indexOf(h)==-1){o.push(h);l.push(d)}}b.destroy();return l},getRecordInfo:function(a){var e=this.dimensions,d=e.length,h={},k,c,b;for(b=0;b<d;b++){k=e[b];c=k.dataIndex;h[c]=a.get(c)}var g=function(i){return function(l){for(var m in i){if(l.get(m)!=i[m]){return false}}return true}};return{data:h,matcher:g(h)}},buildHeaders:function(){var k=this.getTuples(),l=k.length,a=this.dimensions,q=a.length,c=[],n,r,m,p,o,b,h,g,e,d;for(e=0;e<q;e++){dimension=a[e];r=[];o=0;b=0;for(d=0;d<l;d++){n=k[d];h=d==(l-1);m=n.data[dimension.dataIndex];g=p!=undefined&&p!=m;if(e>0&&d>0){g=g||n.data[a[e-1].dataIndex]!=k[d-1].data[a[e-1].dataIndex]}if(g){r.push({header:p,span:o,start:b});b+=o;o=0}if(h){r.push({header:m,span:o+1,start:b});b+=o;o=0}p=m;o++}c.push({items:r,width:dimension.width||this.defaultHeaderWidth});p=undefined}return c}});Ext.grid.HeaderDragZone=Ext.extend(Ext.dd.DragZone,{maxDragWidth:120,constructor:function(a,c,b){this.grid=a;this.view=a.getView();this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDragZone.superclass.constructor.call(this,c);if(b){this.setHandleElId(Ext.id(c));this.setOuterHandleElId(Ext.id(b))}this.scroll=false},getDragData:function(c){var a=Ext.lib.Event.getTarget(c),b=this.view.findHeaderCell(a);if(b){return{ddel:b.firstChild,header:b}}return false},onInitDrag:function(a){this.dragHeadersDisabled=this.view.headersDisabled;this.view.headersDisabled=true;var b=this.dragData.ddel.cloneNode(true);b.id=Ext.id();b.style.width=Math.min(this.dragData.header.offsetWidth,this.maxDragWidth)+"px";this.proxy.update(b);return true},afterValidDrop:function(){this.completeDrop()},afterInvalidDrop:function(){this.completeDrop()},completeDrop:function(){var a=this.view,b=this.dragHeadersDisabled;setTimeout(function(){a.headersDisabled=b},50)}});Ext.grid.HeaderDropZone=Ext.extend(Ext.dd.DropZone,{proxyOffsets:[-4,-9],fly:Ext.Element.fly,constructor:function(a,c,b){this.grid=a;this.view=a.getView();this.proxyTop=Ext.DomHelper.append(document.body,{cls:"col-move-top",html:"&#160;"},true);this.proxyBottom=Ext.DomHelper.append(document.body,{cls:"col-move-bottom",html:"&#160;"},true);this.proxyTop.hide=this.proxyBottom.hide=function(){this.setLeftTop(-100,-100);this.setStyle("visibility","hidden")};this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDropZone.superclass.constructor.call(this,a.getGridEl().dom)},getTargetFromEvent:function(c){var a=Ext.lib.Event.getTarget(c),b=this.view.findCellIndex(a);if(b!==false){return this.view.getHeaderCell(b)}},nextVisible:function(c){var b=this.view,a=this.grid.colModel;c=c.nextSibling;while(c){if(!a.isHidden(b.getCellIndex(c))){return c}c=c.nextSibling}return null},prevVisible:function(c){var b=this.view,a=this.grid.colModel;c=c.prevSibling;while(c){if(!a.isHidden(b.getCellIndex(c))){return c}c=c.prevSibling}return null},positionIndicator:function(d,l,k){var a=Ext.lib.Event.getPageX(k),g=Ext.lib.Dom.getRegion(l.firstChild),c,i,b=g.top+this.proxyOffsets[1];if((g.right-a)<=(g.right-g.left)/2){c=g.right+this.view.borderWidth;i="after"}else{c=g.left;i="before"}if(this.grid.colModel.isFixed(this.view.getCellIndex(l))){return false}c+=this.proxyOffsets[0];this.proxyTop.setLeftTop(c,b);this.proxyTop.show();if(!this.bottomOffset){this.bottomOffset=this.view.mainHd.getHeight()}this.proxyBottom.setLeftTop(c,b+this.proxyTop.dom.offsetHeight+this.bottomOffset);this.proxyBottom.show();return i},onNodeEnter:function(d,a,c,b){if(b.header!=d){this.positionIndicator(b.header,d,c)}},onNodeOver:function(g,b,d,c){var a=false;if(c.header!=g){a=this.positionIndicator(c.header,g,d)}if(!a){this.proxyTop.hide();this.proxyBottom.hide()}return a?this.dropAllowed:this.dropNotAllowed},onNodeOut:function(d,a,c,b){this.proxyTop.hide();this.proxyBottom.hide()},onNodeDrop:function(b,o,g,c){var d=c.header;if(d!=b){var l=this.grid.colModel,k=Ext.lib.Event.getPageX(g),a=Ext.lib.Dom.getRegion(b.firstChild),p=(a.right-k)<=((a.right-a.left)/2)?"after":"before",i=this.view.getCellIndex(d),m=this.view.getCellIndex(b);if(p=="after"){m++}if(i<m){m--}l.moveColumn(i,m);return true}return false}});Ext.grid.GridView.ColumnDragZone=Ext.extend(Ext.grid.HeaderDragZone,{constructor:function(a,b){Ext.grid.GridView.ColumnDragZone.superclass.constructor.call(this,a,b,null);this.proxy.el.addClass("x-grid3-col-dd")},handleMouseDown:function(a){},callHandleMouseDown:function(a){Ext.grid.GridView.ColumnDragZone.superclass.handleMouseDown.call(this,a)}});Ext.grid.SplitDragZone=Ext.extend(Ext.dd.DDProxy,{fly:Ext.Element.fly,constructor:function(a,c,b){this.grid=a;this.view=a.getView();this.proxy=this.view.resizeProxy;Ext.grid.SplitDragZone.superclass.constructor.call(this,c,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.setHandleElId(Ext.id(c));this.setOuterHandleElId(Ext.id(b));this.scroll=false},b4StartDrag:function(a,d){this.view.headersDisabled=true;this.proxy.setHeight(this.view.mainWrap.getHeight());var b=this.cm.getColumnWidth(this.cellIndex);var c=Math.max(b-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(c,1000);this.setYConstraint(0,0);this.minX=a-c;this.maxX=a+1000;this.startPos=a;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,a,d)},handleMouseDown:function(c){var b=Ext.EventObject.setEvent(c);var a=this.fly(b.getTarget());if(a.hasClass("x-grid-split")){this.cellIndex=this.view.getCellIndex(a.dom);this.split=a.dom;this.cm=this.grid.colModel;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.SplitDragZone.superclass.handleMouseDown.apply(this,arguments)}}},endDrag:function(c){this.view.headersDisabled=false;var a=Math.max(this.minX,Ext.lib.Event.getPageX(c));var b=a-this.startPos;this.view.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+b)},autoOffset:function(){this.setDelta(0,0)}});Ext.grid.GridDragZone=function(b,a){this.view=b.getView();Ext.grid.GridDragZone.superclass.constructor.call(this,this.view.mainBody.dom,a);this.scroll=false;this.grid=b;this.ddel=document.createElement("div");this.ddel.className="x-grid-dd-wrap"};Ext.extend(Ext.grid.GridDragZone,Ext.dd.DragZone,{ddGroup:"GridDD",getDragData:function(b){var a=Ext.lib.Event.getTarget(b);var d=this.view.findRowIndex(a);if(d!==false){var c=this.grid.selModel;if(!c.isSelected(d)||b.hasModifier()){c.handleMouseDown(this.grid,d,b)}return{grid:this.grid,ddel:this.ddel,rowIndex:d,selections:c.getSelections()}}return false},onInitDrag:function(b){var a=this.dragData;this.ddel.innerHTML=this.grid.getDragDropText();this.proxy.update(this.ddel)},afterRepair:function(){this.dragging=false},getRepairXY:function(b,a){return false},onEndDrag:function(a,b){},onValidDrop:function(a,b,c){this.hideProxy()},beforeInvalidDrop:function(a,b){}});Ext.grid.ColumnModel=Ext.extend(Ext.util.Observable,{defaultWidth:100,defaultSortable:false,constructor:function(a){if(a.columns){Ext.apply(this,a);this.setConfig(a.columns,true)}else{this.setConfig(a,true)}this.addEvents("widthchange","headerchange","hiddenchange","columnmoved","configchange");Ext.grid.ColumnModel.superclass.constructor.call(this)},getColumnId:function(a){return this.config[a].id},getColumnAt:function(a){return this.config[a]},setConfig:function(d,b){var e,h,a;if(!b){delete this.totalWidth;for(e=0,a=this.config.length;e<a;e++){h=this.config[e];if(h.setEditor){h.setEditor(null)}}}this.defaults=Ext.apply({width:this.defaultWidth,sortable:this.defaultSortable},this.defaults);this.config=d;this.lookup={};for(e=0,a=d.length;e<a;e++){h=Ext.applyIf(d[e],this.defaults);if(Ext.isEmpty(h.id)){h.id=e}if(!h.isColumn){var g=Ext.grid.Column.types[h.xtype||"gridcolumn"];h=new g(h);d[e]=h}this.lookup[h.id]=h}if(!b){this.fireEvent("configchange",this)}},getColumnById:function(a){return this.lookup[a]},getIndexById:function(c){for(var b=0,a=this.config.length;b<a;b++){if(this.config[b].id==c){return b}}return -1},moveColumn:function(e,b){var a=this.config,d=a[e];a.splice(e,1);a.splice(b,0,d);this.dataMap=null;this.fireEvent("columnmoved",this,e,b)},getColumnCount:function(b){var d=this.config.length,e=0,a;if(b===true){for(a=0;a<d;a++){if(!this.isHidden(a)){e++}}return e}return d},getColumnsBy:function(g,e){var b=this.config,h=b.length,a=[],d,k;for(d=0;d<h;d++){k=b[d];if(g.call(e||this,k,d)===true){a[a.length]=k}}return a},isSortable:function(a){return !!this.config[a].sortable},isMenuDisabled:function(a){return !!this.config[a].menuDisabled},getRenderer:function(a){return this.config[a].renderer||Ext.grid.ColumnModel.defaultRenderer},getRendererScope:function(a){return this.config[a].scope},setRenderer:function(a,b){this.config[a].renderer=b},getColumnWidth:function(a){var b=this.config[a].width;if(typeof b!="number"){b=this.defaultWidth}return b},setColumnWidth:function(b,c,a){this.config[b].width=c;this.totalWidth=null;if(!a){this.fireEvent("widthchange",this,b,c)}},getTotalWidth:function(b){if(!this.totalWidth){this.totalWidth=0;for(var c=0,a=this.config.length;c<a;c++){if(b||!this.isHidden(c)){this.totalWidth+=this.getColumnWidth(c)}}}return this.totalWidth},getColumnHeader:function(a){return this.config[a].header},setColumnHeader:function(a,b){this.config[a].header=b;this.fireEvent("headerchange",this,a,b)},getColumnTooltip:function(a){return this.config[a].tooltip},setColumnTooltip:function(a,b){this.config[a].tooltip=b},getDataIndex:function(a){return this.config[a].dataIndex},setDataIndex:function(a,b){this.config[a].dataIndex=b},findColumnIndex:function(d){var e=this.config;for(var b=0,a=e.length;b<a;b++){if(e[b].dataIndex==d){return b}}return -1},isCellEditable:function(b,e){var d=this.config[b],a=d.editable;return !!(a||(!Ext.isDefined(a)&&d.editor))},getCellEditor:function(a,b){return this.config[a].getCellEditor(b)},setEditable:function(a,b){this.config[a].editable=b},isHidden:function(a){return !!this.config[a].hidden},isFixed:function(a){return !!this.config[a].fixed},isResizable:function(a){return a>=0&&this.config[a].resizable!==false&&this.config[a].fixed!==true},setHidden:function(a,b){var d=this.config[a];if(d.hidden!==b){d.hidden=b;this.totalWidth=null;this.fireEvent("hiddenchange",this,a,b)}},setEditor:function(a,b){this.config[a].setEditor(b)},destroy:function(){var b=this.config.length,a=0;for(;a<b;a++){this.config[a].destroy()}delete this.config;delete this.lookup;this.purgeListeners()},setState:function(a,b){b=Ext.applyIf(b,this.defaults);Ext.apply(this.config[a],b)}});Ext.grid.ColumnModel.defaultRenderer=function(a){if(typeof a=="string"&&a.length<1){return"&#160;"}return a};Ext.grid.AbstractSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(){this.locked=false;Ext.grid.AbstractSelectionModel.superclass.constructor.call(this)},init:function(a){this.grid=a;if(this.lockOnInit){delete this.lockOnInit;this.locked=false;this.lock()}this.initEvents()},lock:function(){if(!this.locked){this.locked=true;var a=this.grid;if(a){a.getView().on({scope:this,beforerefresh:this.sortUnLock,refresh:this.sortLock})}else{this.lockOnInit=true}}},sortLock:function(){this.locked=true},sortUnLock:function(){this.locked=false},unlock:function(){if(this.locked){this.locked=false;var a=this.grid,b;if(a){b=a.getView();b.un("beforerefresh",this.sortUnLock,this);b.un("refresh",this.sortLock,this)}else{delete this.lockOnInit}}},isLocked:function(){return this.locked},destroy:function(){this.unlock();this.purgeListeners()}});Ext.grid.RowSelectionModel=Ext.extend(Ext.grid.AbstractSelectionModel,{singleSelect:false,constructor:function(a){Ext.apply(this,a);this.selections=new Ext.util.MixedCollection(false,function(b){return b.id});this.last=false;this.lastActive=false;this.addEvents("selectionchange","beforerowselect","rowselect","rowdeselect");Ext.grid.RowSelectionModel.superclass.constructor.call(this)},initEvents:function(){if(!this.grid.enableDragDrop&&!this.grid.enableDrag){this.grid.on("rowmousedown",this.handleMouseDown,this)}this.rowNav=new Ext.KeyNav(this.grid.getGridEl(),{up:this.onKeyPress,down:this.onKeyPress,scope:this});this.grid.getView().on({scope:this,refresh:this.onRefresh,rowupdated:this.onRowUpdated,rowremoved:this.onRemove})},onKeyPress:function(g,b){var a=b=="up",h=a?"selectPrevious":"selectNext",d=a?-1:1,c;if(!g.shiftKey||this.singleSelect){this[h](false)}else{if(this.last!==false&&this.lastActive!==false){c=this.last;this.selectRange(this.last,this.lastActive+d);this.grid.getView().focusRow(this.lastActive);if(c!==false){this.last=c}}else{this.selectFirstRow()}}},onRefresh:function(){var g=this.grid.store,d=this.getSelections(),c=0,a=d.length,b,e;this.silent=true;this.clearSelections(true);for(;c<a;c++){e=d[c];if((b=g.indexOfId(e.id))!=-1){this.selectRow(b,true)}}if(d.length!=this.selections.getCount()){this.fireEvent("selectionchange",this)}this.silent=false},onRemove:function(a,b,c){if(this.selections.remove(c)!==false){this.fireEvent("selectionchange",this)}},onRowUpdated:function(a,b,c){if(this.isSelected(c)){a.onRowSelect(b)}},selectRecords:function(b,e){if(!e){this.clearSelections()}var d=this.grid.store,c=0,a=b.length;for(;c<a;c++){this.selectRow(d.indexOf(b[c]),true)}},getCount:function(){return this.selections.length},selectFirstRow:function(){this.selectRow(0)},selectLastRow:function(a){this.selectRow(this.grid.store.getCount()-1,a)},selectNext:function(a){if(this.hasNext()){this.selectRow(this.last+1,a);this.grid.getView().focusRow(this.last);return true}return false},selectPrevious:function(a){if(this.hasPrevious()){this.selectRow(this.last-1,a);this.grid.getView().focusRow(this.last);return true}return false},hasNext:function(){return this.last!==false&&(this.last+1)<this.grid.store.getCount()},hasPrevious:function(){return !!this.last},getSelections:function(){return[].concat(this.selections.items)},getSelected:function(){return this.selections.itemAt(0)},each:function(e,d){var c=this.getSelections(),b=0,a=c.length;for(;b<a;b++){if(e.call(d||this,c[b],b)===false){return false}}return true},clearSelections:function(a){if(this.isLocked()){return}if(a!==true){var c=this.grid.store,b=this.selections;b.each(function(d){this.deselectRow(c.indexOfId(d.id))},this);b.clear()}else{this.selections.clear()}this.last=false},selectAll:function(){if(this.isLocked()){return}this.selections.clear();for(var b=0,a=this.grid.store.getCount();b<a;b++){this.selectRow(b,true)}},hasSelection:function(){return this.selections.length>0},isSelected:function(a){var b=Ext.isNumber(a)?this.grid.store.getAt(a):a;return(b&&this.selections.key(b.id)?true:false)},isIdSelected:function(a){return(this.selections.key(a)?true:false)},handleMouseDown:function(d,i,h){if(h.button!==0||this.isLocked()){return}var a=this.grid.getView();if(h.shiftKey&&!this.singleSelect&&this.last!==false){var c=this.last;this.selectRange(c,i,h.ctrlKey);this.last=c;a.focusRow(i)}else{var b=this.isSelected(i);if(h.ctrlKey&&b){this.deselectRow(i)}else{if(!b||this.getCount()>1){this.selectRow(i,h.ctrlKey||h.shiftKey);a.focusRow(i)}}}},selectRows:function(c,d){if(!d){this.clearSelections()}for(var b=0,a=c.length;b<a;b++){this.selectRow(c[b],true)}},selectRange:function(b,a,d){var c;if(this.isLocked()){return}if(!d){this.clearSelections()}if(b<=a){for(c=b;c<=a;c++){this.selectRow(c,true)}}else{for(c=b;c>=a;c--){this.selectRow(c,true)}}},deselectRange:function(c,b,a){if(this.isLocked()){return}for(var d=c;d<=b;d++){this.deselectRow(d,a)}},selectRow:function(b,d,a){if(this.isLocked()||(b<0||b>=this.grid.store.getCount())||(d&&this.isSelected(b))){return}var c=this.grid.store.getAt(b);if(c&&this.fireEvent("beforerowselect",this,b,d,c)!==false){if(!d||this.singleSelect){this.clearSelections()}this.selections.add(c);this.last=this.lastActive=b;if(!a){this.grid.getView().onRowSelect(b)}if(!this.silent){this.fireEvent("rowselect",this,b,c);this.fireEvent("selectionchange",this)}}},deselectRow:function(b,a){if(this.isLocked()){return}if(this.last==b){this.last=false}if(this.lastActive==b){this.lastActive=false}var c=this.grid.store.getAt(b);if(c){this.selections.remove(c);if(!a){this.grid.getView().onRowDeselect(b)}this.fireEvent("rowdeselect",this,b,c);this.fireEvent("selectionchange",this)}},acceptsNav:function(c,b,a){return !a.isHidden(b)&&a.isCellEditable(b,c)},onEditorKey:function(o,m){var d=m.getKey(),h,i=this.grid,q=i.lastEdit,l=i.activeEditor,b=m.shiftKey,p,q,a,n;if(d==m.TAB){m.stopEvent();l.completeEdit();if(b){h=i.walkCells(l.row,l.col-1,-1,this.acceptsNav,this)}else{h=i.walkCells(l.row,l.col+1,1,this.acceptsNav,this)}}else{if(d==m.ENTER){if(this.moveEditorOnEnter!==false){if(b){h=i.walkCells(q.row-1,q.col,-1,this.acceptsNav,this)}else{h=i.walkCells(q.row+1,q.col,1,this.acceptsNav,this)}}}}if(h){a=h[0];n=h[1];this.onEditorSelect(a,q.row);if(i.isEditor&&i.editing){p=i.activeEditor;if(p&&p.field.triggerBlur){p.field.triggerBlur()}}i.startEditing(a,n)}},onEditorSelect:function(b,a){if(a!=b){this.selectRow(b)}},destroy:function(){Ext.destroy(this.rowNav);this.rowNav=null;Ext.grid.RowSelectionModel.superclass.destroy.call(this)}});Ext.grid.Column=Ext.extend(Ext.util.Observable,{isColumn:true,constructor:function(b){Ext.apply(this,b);if(Ext.isString(this.renderer)){this.renderer=Ext.util.Format[this.renderer]}else{if(Ext.isObject(this.renderer)){this.scope=this.renderer.scope;this.renderer=this.renderer.fn}}if(!this.scope){this.scope=this}var a=this.editor;delete this.editor;this.setEditor(a);this.addEvents("click","contextmenu","dblclick","mousedown");Ext.grid.Column.superclass.constructor.call(this)},processEvent:function(b,d,c,g,a){return this.fireEvent(b,this,c,g,d)},destroy:function(){if(this.setEditor){this.setEditor(null)}this.purgeListeners()},renderer:function(a){return a},getEditor:function(a){return this.editable!==false?this.editor:null},setEditor:function(b){var a=this.editor;if(a){if(a.gridEditor){a.gridEditor.destroy();delete a.gridEditor}else{a.destroy()}}this.editor=null;if(b){if(!b.isXType){b=Ext.create(b,"textfield")}this.editor=b}},getCellEditor:function(b){var a=this.getEditor(b);if(a){if(!a.startEdit){if(!a.gridEditor){a.gridEditor=new Ext.grid.GridEditor(a)}a=a.gridEditor}}return a}});Ext.grid.BooleanColumn=Ext.extend(Ext.grid.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(a){Ext.grid.BooleanColumn.superclass.constructor.call(this,a);var c=this.trueText,d=this.falseText,b=this.undefinedText;this.renderer=function(e){if(e===undefined){return b}if(!e||e==="false"){return d}return c}}});Ext.grid.NumberColumn=Ext.extend(Ext.grid.Column,{format:"0,000.00",constructor:function(a){Ext.grid.NumberColumn.superclass.constructor.call(this,a);this.renderer=Ext.util.Format.numberRenderer(this.format)}});Ext.grid.DateColumn=Ext.extend(Ext.grid.Column,{format:"m/d/Y",constructor:function(a){Ext.grid.DateColumn.superclass.constructor.call(this,a);this.renderer=Ext.util.Format.dateRenderer(this.format)}});Ext.grid.TemplateColumn=Ext.extend(Ext.grid.Column,{constructor:function(a){Ext.grid.TemplateColumn.superclass.constructor.call(this,a);var b=(!Ext.isPrimitive(this.tpl)&&this.tpl.compile)?this.tpl:new Ext.XTemplate(this.tpl);this.renderer=function(d,e,c){return b.apply(c.data)};this.tpl=b}});Ext.grid.ActionColumn=Ext.extend(Ext.grid.Column,{header:"&#160;",actionIdRe:/x-action-col-(\d+)/,altText:"",constructor:function(b){var g=this,c=b.items||(g.items=[g]),a=c.length,d,e;Ext.grid.ActionColumn.superclass.constructor.call(g,b);g.renderer=function(h,i){h=Ext.isFunction(b.renderer)?b.renderer.apply(this,arguments)||"":"";i.css+=" x-action-col-cell";for(d=0;d<a;d++){e=c[d];h+='<img alt="'+g.altText+'" src="'+(e.icon||Ext.BLANK_IMAGE_URL)+'" class="x-action-col-icon x-action-col-'+String(d)+" "+(e.iconCls||"")+" "+(Ext.isFunction(e.getClass)?e.getClass.apply(e.scope||this.scope||this,arguments):"")+'"'+((e.tooltip)?' ext:qtip="'+e.tooltip+'"':"")+" />"}return h}},destroy:function(){delete this.items;delete this.renderer;return Ext.grid.ActionColumn.superclass.destroy.apply(this,arguments)},processEvent:function(c,i,d,k,b){var a=i.getTarget().className.match(this.actionIdRe),h,g;if(a&&(h=this.items[parseInt(a[1],10)])){if(c=="click"){(g=h.handler||this.handler)&&g.call(h.scope||this.scope||this,d,k,b,h,i)}else{if((c=="mousedown")&&(h.stopSelection!==false)){return false}}}return Ext.grid.ActionColumn.superclass.processEvent.apply(this,arguments)}});Ext.grid.Column.types={gridcolumn:Ext.grid.Column,booleancolumn:Ext.grid.BooleanColumn,numbercolumn:Ext.grid.NumberColumn,datecolumn:Ext.grid.DateColumn,templatecolumn:Ext.grid.TemplateColumn,actioncolumn:Ext.grid.ActionColumn};Ext.grid.RowNumberer=Ext.extend(Object,{header:"",width:23,sortable:false,constructor:function(a){Ext.apply(this,a);if(this.rowspan){this.renderer=this.renderer.createDelegate(this)}},fixed:true,hideable:false,menuDisabled:true,dataIndex:"",id:"numberer",rowspan:undefined,renderer:function(b,c,a,d){if(this.rowspan){c.cellAttr='rowspan="'+this.rowspan+'"'}return d+1}});Ext.grid.CheckboxSelectionModel=Ext.extend(Ext.grid.RowSelectionModel,{header:'<div class="x-grid3-hd-checker">&#160;</div>',width:20,sortable:false,menuDisabled:true,fixed:true,hideable:false,dataIndex:"",id:"checker",isColumn:true,constructor:function(){Ext.grid.CheckboxSelectionModel.superclass.constructor.apply(this,arguments);if(this.checkOnly){this.handleMouseDown=Ext.emptyFn}},initEvents:function(){Ext.grid.CheckboxSelectionModel.superclass.initEvents.call(this);this.grid.on("render",function(){Ext.fly(this.grid.getView().innerHd).on("mousedown",this.onHdMouseDown,this)},this)},processEvent:function(b,d,c,g,a){if(b=="mousedown"){this.onMouseDown(d,d.getTarget());return false}else{return Ext.grid.Column.prototype.processEvent.apply(this,arguments)}},onMouseDown:function(c,b){if(c.button===0&&b.className=="x-grid3-row-checker"){c.stopEvent();var d=c.getTarget(".x-grid3-row");if(d){var a=d.rowIndex;if(this.isSelected(a)){this.deselectRow(a)}else{this.selectRow(a,true);this.grid.getView().focusRow(a)}}}},onHdMouseDown:function(c,a){if(a.className=="x-grid3-hd-checker"){c.stopEvent();var b=Ext.fly(a.parentNode);var d=b.hasClass("x-grid3-hd-checker-on");if(d){b.removeClass("x-grid3-hd-checker-on");this.clearSelections()}else{b.addClass("x-grid3-hd-checker-on");this.selectAll()}}},renderer:function(b,c,a){return'<div class="x-grid3-row-checker">&#160;</div>'},onEditorSelect:function(b,a){if(a!=b&&!this.checkOnly){this.selectRow(b)}}});Ext.grid.CellSelectionModel=Ext.extend(Ext.grid.AbstractSelectionModel,{constructor:function(a){Ext.apply(this,a);this.selection=null;this.addEvents("beforecellselect","cellselect","selectionchange");Ext.grid.CellSelectionModel.superclass.constructor.call(this)},initEvents:function(){this.grid.on("cellmousedown",this.handleMouseDown,this);this.grid.on(Ext.EventManager.getKeyEvent(),this.handleKeyDown,this);this.grid.getView().on({scope:this,refresh:this.onViewChange,rowupdated:this.onRowUpdated,beforerowremoved:this.clearSelections,beforerowsinserted:this.clearSelections});if(this.grid.isEditor){this.grid.on("beforeedit",this.beforeEdit,this)}},beforeEdit:function(a){this.select(a.row,a.column,false,true,a.record)},onRowUpdated:function(a,b,c){if(this.selection&&this.selection.record==c){a.onCellSelect(b,this.selection.cell[1])}},onViewChange:function(){this.clearSelections(true)},getSelectedCell:function(){return this.selection?this.selection.cell:null},clearSelections:function(b){var a=this.selection;if(a){if(b!==true){this.grid.view.onCellDeselect(a.cell[0],a.cell[1])}this.selection=null;this.fireEvent("selectionchange",this,null)}},hasSelection:function(){return this.selection?true:false},handleMouseDown:function(b,d,a,c){if(c.button!==0||this.isLocked()){return}this.select(d,a)},select:function(g,c,b,e,d){if(this.fireEvent("beforecellselect",this,g,c)!==false){this.clearSelections();d=d||this.grid.store.getAt(g);this.selection={record:d,cell:[g,c]};if(!b){var a=this.grid.getView();a.onCellSelect(g,c);if(e!==true){a.focusCell(g,c)}}this.fireEvent("cellselect",this,g,c);this.fireEvent("selectionchange",this,this.selection)}},isSelectable:function(c,b,a){return !a.isHidden(b)},onEditorKey:function(b,a){if(a.getKey()==a.TAB){this.handleKeyDown(a)}},handleKeyDown:function(l){if(!l.isNavKeyPress()){return}var d=l.getKey(),i=this.grid,q=this.selection,b=this,n=function(g,c,e){return i.walkCells(g,c,e,i.isEditor&&i.editing?b.acceptsNav:b.isSelectable,b)},p,h,a,m,o;switch(d){case l.ESC:case l.PAGE_UP:case l.PAGE_DOWN:break;default:l.stopEvent();break}if(!q){p=n(0,0,1);if(p){this.select(p[0],p[1])}return}p=q.cell;a=p[0];m=p[1];switch(d){case l.TAB:if(l.shiftKey){h=n(a,m-1,-1)}else{h=n(a,m+1,1)}break;case l.DOWN:h=n(a+1,m,1);break;case l.UP:h=n(a-1,m,-1);break;case l.RIGHT:h=n(a,m+1,1);break;case l.LEFT:h=n(a,m-1,-1);break;case l.ENTER:if(i.isEditor&&!i.editing){i.startEditing(a,m);return}break}if(h){a=h[0];m=h[1];this.select(a,m);if(i.isEditor&&i.editing){o=i.activeEditor;if(o&&o.field.triggerBlur){o.field.triggerBlur()}i.startEditing(a,m)}}},acceptsNav:function(c,b,a){return !a.isHidden(b)&&a.isCellEditable(b,c)}});Ext.grid.EditorGridPanel=Ext.extend(Ext.grid.GridPanel,{clicksToEdit:2,forceValidation:false,isEditor:true,detectEdit:false,autoEncode:false,trackMouseOver:false,initComponent:function(){Ext.grid.EditorGridPanel.superclass.initComponent.call(this);if(!this.selModel){this.selModel=new Ext.grid.CellSelectionModel()}this.activeEditor=null;this.addEvents("beforeedit","afteredit","validateedit")},initEvents:function(){Ext.grid.EditorGridPanel.superclass.initEvents.call(this);this.getGridEl().on("mousewheel",this.stopEditing.createDelegate(this,[true]),this);this.on("columnresize",this.stopEditing,this,[true]);if(this.clicksToEdit==1){this.on("cellclick",this.onCellDblClick,this)}else{var a=this.getView();if(this.clicksToEdit=="auto"&&a.mainBody){a.mainBody.on("mousedown",this.onAutoEditClick,this)}this.on("celldblclick",this.onCellDblClick,this)}},onResize:function(){Ext.grid.EditorGridPanel.superclass.onResize.apply(this,arguments);var a=this.activeEditor;if(this.editing&&a){a.realign(true)}},onCellDblClick:function(b,c,a){this.startEditing(c,a)},onAutoEditClick:function(c,b){if(c.button!==0){return}var g=this.view.findRowIndex(b),a=this.view.findCellIndex(b);if(g!==false&&a!==false){this.stopEditing();if(this.selModel.getSelectedCell){var d=this.selModel.getSelectedCell();if(d&&d[0]===g&&d[1]===a){this.startEditing(g,a)}}else{if(this.selModel.isSelected(g)){this.startEditing(g,a)}}}},onEditComplete:function(b,d,a){this.editing=false;this.lastActiveEditor=this.activeEditor;this.activeEditor=null;var c=b.record,h=this.colModel.getDataIndex(b.col);d=this.postEditValue(d,a,c,h);if(this.forceValidation===true||String(d)!==String(a)){var g={grid:this,record:c,field:h,originalValue:a,value:d,row:b.row,column:b.col,cancel:false};if(this.fireEvent("validateedit",g)!==false&&!g.cancel&&String(d)!==String(a)){c.set(h,g.value);delete g.cancel;this.fireEvent("afteredit",g)}}this.view.focusCell(b.row,b.col)},startEditing:function(i,c){this.stopEditing();if(this.colModel.isCellEditable(c,i)){this.view.ensureVisible(i,c,true);var d=this.store.getAt(i),h=this.colModel.getDataIndex(c),g={grid:this,record:d,field:h,value:d.data[h],row:i,column:c,cancel:false};if(this.fireEvent("beforeedit",g)!==false&&!g.cancel){this.editing=true;var b=this.colModel.getCellEditor(c,i);if(!b){return}if(!b.rendered){b.parentEl=this.view.getEditorParent(b);b.on({scope:this,render:{fn:function(e){e.field.focus(false,true)},single:true,scope:this},specialkey:function(l,k){this.getSelectionModel().onEditorKey(l,k)},complete:this.onEditComplete,canceledit:this.stopEditing.createDelegate(this,[true])})}Ext.apply(b,{row:i,col:c,record:d});this.lastEdit={row:i,col:c};this.activeEditor=b;b.selectSameEditor=(this.activeEditor==this.lastActiveEditor);var a=this.preEditValue(d,h);b.startEdit(this.view.getCell(i,c).firstChild,Ext.isDefined(a)?a:"");(function(){delete b.selectSameEditor}).defer(50)}}},preEditValue:function(a,c){var b=a.data[c];return this.autoEncode&&Ext.isString(b)?Ext.util.Format.htmlDecode(b):b},postEditValue:function(c,a,b,d){return this.autoEncode&&Ext.isString(c)?Ext.util.Format.htmlEncode(c):c},stopEditing:function(b){if(this.editing){var a=this.lastActiveEditor=this.activeEditor;if(a){a[b===true?"cancelEdit":"completeEdit"]();this.view.focusCell(a.row,a.col)}this.activeEditor=null}this.editing=false}});Ext.reg("editorgrid",Ext.grid.EditorGridPanel);Ext.grid.GridEditor=function(b,a){Ext.grid.GridEditor.superclass.constructor.call(this,b,a);b.monitorTab=false};Ext.extend(Ext.grid.GridEditor,Ext.Editor,{alignment:"tl-tl",autoSize:"width",hideEl:false,cls:"x-small-editor x-grid-editor",shim:false,shadow:false});Ext.grid.PropertyRecord=Ext.data.Record.create([{name:"name",type:"string"},"value"]);Ext.grid.PropertyStore=Ext.extend(Ext.util.Observable,{constructor:function(a,b){this.grid=a;this.store=new Ext.data.Store({recordType:Ext.grid.PropertyRecord});this.store.on("update",this.onUpdate,this);if(b){this.setSource(b)}Ext.grid.PropertyStore.superclass.constructor.call(this)},setSource:function(c){this.source=c;this.store.removeAll();var b=[];for(var a in c){if(this.isEditableValue(c[a])){b.push(new Ext.grid.PropertyRecord({name:a,value:c[a]},a))}}this.store.loadRecords({records:b},{},true)},onUpdate:function(e,a,d){if(d==Ext.data.Record.EDIT){var b=a.data.value;var c=a.modified.value;if(this.grid.fireEvent("beforepropertychange",this.source,a.id,b,c)!==false){this.source[a.id]=b;a.commit();this.grid.fireEvent("propertychange",this.source,a.id,b,c)}else{a.reject()}}},getProperty:function(a){return this.store.getAt(a)},isEditableValue:function(a){return Ext.isPrimitive(a)||Ext.isDate(a)},setValue:function(d,c,a){var b=this.getRec(d);if(b){b.set("value",c);this.source[d]=c}else{if(a){this.source[d]=c;b=new Ext.grid.PropertyRecord({name:d,value:c},d);this.store.add(b)}}},remove:function(b){var a=this.getRec(b);if(a){this.store.remove(a);delete this.source[b]}},getRec:function(a){return this.store.getById(a)},getSource:function(){return this.source}});Ext.grid.PropertyColumnModel=Ext.extend(Ext.grid.ColumnModel,{nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",constructor:function(c,b){var d=Ext.grid,e=Ext.form;this.grid=c;d.PropertyColumnModel.superclass.constructor.call(this,[{header:this.nameText,width:50,sortable:true,dataIndex:"name",id:"name",menuDisabled:true},{header:this.valueText,width:50,resizable:false,dataIndex:"value",id:"value",menuDisabled:true}]);this.store=b;var a=new e.Field({autoCreate:{tag:"select",children:[{tag:"option",value:"true",html:this.trueText},{tag:"option",value:"false",html:this.falseText}]},getValue:function(){return this.el.dom.value=="true"}});this.editors={date:new d.GridEditor(new e.DateField({selectOnFocus:true})),string:new d.GridEditor(new e.TextField({selectOnFocus:true})),number:new d.GridEditor(new e.NumberField({selectOnFocus:true,style:"text-align:left;"})),"boolean":new d.GridEditor(a,{autoSize:"both"})};this.renderCellDelegate=this.renderCell.createDelegate(this);this.renderPropDelegate=this.renderProp.createDelegate(this)},renderDate:function(a){return a.dateFormat(this.dateFormat)},renderBool:function(a){return this[a?"trueText":"falseText"]},isCellEditable:function(a,b){return a==1},getRenderer:function(a){return a==1?this.renderCellDelegate:this.renderPropDelegate},renderProp:function(a){return this.getPropertyName(a)},renderCell:function(d,b,c){var a=this.grid.customRenderers[c.get("name")];if(a){return a.apply(this,arguments)}var e=d;if(Ext.isDate(d)){e=this.renderDate(d)}else{if(typeof d=="boolean"){e=this.renderBool(d)}}return Ext.util.Format.htmlEncode(e)},getPropertyName:function(b){var a=this.grid.propertyNames;return a&&a[b]?a[b]:b},getCellEditor:function(a,e){var b=this.store.getProperty(e),d=b.data.name,c=b.data.value;if(this.grid.customEditors[d]){return this.grid.customEditors[d]}if(Ext.isDate(c)){return this.editors.date}else{if(typeof c=="number"){return this.editors.number}else{if(typeof c=="boolean"){return this.editors["boolean"]}else{return this.editors.string}}}},destroy:function(){Ext.grid.PropertyColumnModel.superclass.destroy.call(this);this.destroyEditors(this.editors);this.destroyEditors(this.grid.customEditors)},destroyEditors:function(b){for(var a in b){Ext.destroy(b[a])}}});Ext.grid.PropertyGrid=Ext.extend(Ext.grid.EditorGridPanel,{enableColumnMove:false,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,viewConfig:{forceFit:true},initComponent:function(){this.customRenderers=this.customRenderers||{};this.customEditors=this.customEditors||{};this.lastEditRow=null;var b=new Ext.grid.PropertyStore(this);this.propStore=b;var a=new Ext.grid.PropertyColumnModel(this,b);b.store.sort("name","ASC");this.addEvents("beforepropertychange","propertychange");this.cm=a;this.ds=b.store;Ext.grid.PropertyGrid.superclass.initComponent.call(this);this.mon(this.selModel,"beforecellselect",function(e,d,c){if(c===0){this.startEditing.defer(200,this,[d,1]);return false}},this)},onRender:function(){Ext.grid.PropertyGrid.superclass.onRender.apply(this,arguments);this.getGridEl().addClass("x-props-grid")},afterRender:function(){Ext.grid.PropertyGrid.superclass.afterRender.apply(this,arguments);if(this.source){this.setSource(this.source)}},setSource:function(a){this.propStore.setSource(a)},getSource:function(){return this.propStore.getSource()},setProperty:function(c,b,a){this.propStore.setValue(c,b,a)},removeProperty:function(a){this.propStore.remove(a)}});Ext.reg("propertygrid",Ext.grid.PropertyGrid);Ext.grid.GroupingView=Ext.extend(Ext.grid.GridView,{groupByText:"Group By This Field",showGroupsText:"Show in Groups",hideGroupedColumn:false,showGroupName:true,startCollapsed:false,enableGrouping:true,enableGroupingMenu:true,enableNoGroups:true,emptyGroupText:"(None)",ignoreAdd:false,groupTextTpl:"{text}",groupMode:"value",cancelEditOnToggle:true,initTemplates:function(){Ext.grid.GroupingView.superclass.initTemplates.call(this);this.state={};var a=this.grid.getSelectionModel();a.on(a.selectRow?"beforerowselect":"beforecellselect",this.onBeforeRowSelect,this);if(!this.startGroup){this.startGroup=new Ext.XTemplate('<div id="{groupId}" class="x-grid-group {cls}">','<div id="{groupId}-hd" class="x-grid-group-hd" style="{style}"><div class="x-grid-group-title">',this.groupTextTpl,"</div></div>",'<div id="{groupId}-bd" class="x-grid-group-body">')}this.startGroup.compile();if(!this.endGroup){this.endGroup="</div></div>"}},findGroup:function(a){return Ext.fly(a).up(".x-grid-group",this.mainBody.dom)},getGroups:function(){return this.hasRows()?this.mainBody.dom.childNodes:[]},onAdd:function(d,a,b){if(this.canGroup()&&!this.ignoreAdd){var c=this.getScrollState();this.fireEvent("beforerowsinserted",d,b,b+(a.length-1));this.refresh();this.restoreScroll(c);this.fireEvent("rowsinserted",d,b,b+(a.length-1))}else{if(!this.canGroup()){Ext.grid.GroupingView.superclass.onAdd.apply(this,arguments)}}},onRemove:function(e,a,b,d){Ext.grid.GroupingView.superclass.onRemove.apply(this,arguments);var c=document.getElementById(a._groupId);if(c&&c.childNodes[1].childNodes.length<1){Ext.removeNode(c)}this.applyEmptyText()},refreshRow:function(a){if(this.ds.getCount()==1){this.refresh()}else{this.isUpdating=true;Ext.grid.GroupingView.superclass.refreshRow.apply(this,arguments);this.isUpdating=false}},beforeMenuShow:function(){var c,a=this.hmenu.items,b=this.cm.config[this.hdCtxIndex].groupable===false;if((c=a.get("groupBy"))){c.setDisabled(b)}if((c=a.get("showGroups"))){c.setDisabled(b);c.setChecked(this.canGroup(),true)}},renderUI:function(){var a=Ext.grid.GroupingView.superclass.renderUI.call(this);if(this.enableGroupingMenu&&this.hmenu){this.hmenu.add("-",{itemId:"groupBy",text:this.groupByText,handler:this.onGroupByClick,scope:this,iconCls:"x-group-by-icon"});if(this.enableNoGroups){this.hmenu.add({itemId:"showGroups",text:this.showGroupsText,checked:true,checkHandler:this.onShowGroupsClick,scope:this})}this.hmenu.on("beforeshow",this.beforeMenuShow,this)}return a},processEvent:function(b,i){Ext.grid.GroupingView.superclass.processEvent.call(this,b,i);var h=i.getTarget(".x-grid-group-hd",this.mainBody);if(h){var g=this.getGroupField(),d=this.getPrefix(g),a=h.id.substring(d.length),c=new RegExp("gp-"+Ext.escapeRe(g)+"--hd");a=a.substr(0,a.length-3);if(a||c.test(h.id)){this.grid.fireEvent("group"+b,this.grid,g,a,i)}if(b=="mousedown"&&i.button==0){this.toggleGroup(h.parentNode)}}},onGroupByClick:function(){var a=this.grid;this.enableGrouping=true;a.store.groupBy(this.cm.getDataIndex(this.hdCtxIndex));a.fireEvent("groupchange",a,a.store.getGroupState());this.beforeMenuShow();this.refresh()},onShowGroupsClick:function(a,b){this.enableGrouping=b;if(b){this.onGroupByClick()}else{this.grid.store.clearGrouping();this.grid.fireEvent("groupchange",this,null)}},toggleRowIndex:function(c,a){if(!this.canGroup()){return}var b=this.getRow(c);if(b){this.toggleGroup(this.findGroup(b),a)}},toggleGroup:function(c,b){var a=Ext.get(c);b=Ext.isDefined(b)?b:a.hasClass("x-grid-group-collapsed");if(this.state[a.id]!==b){if(this.cancelEditOnToggle!==false){this.grid.stopEditing(true)}this.state[a.id]=b;a[b?"removeClass":"addClass"]("x-grid-group-collapsed")}},toggleAllGroups:function(c){var b=this.getGroups();for(var d=0,a=b.length;d<a;d++){this.toggleGroup(b[d],c)}},expandAllGroups:function(){this.toggleAllGroups(true)},collapseAllGroups:function(){this.toggleAllGroups(false)},getGroup:function(a,e,i,k,b,h){var c=this.cm.config[b],d=i?i.call(c.scope,a,{},e,k,b,h):String(a);if(d===""||d==="&#160;"){d=c.emptyGroupText||this.emptyGroupText}return d},getGroupField:function(){return this.grid.store.getGroupState()},afterRender:function(){if(!this.ds||!this.cm){return}Ext.grid.GroupingView.superclass.afterRender.call(this);if(this.grid.deferRowRender){this.updateGroupWidths()}},afterRenderUI:function(){Ext.grid.GroupingView.superclass.afterRenderUI.call(this);if(this.enableGroupingMenu&&this.hmenu){this.hmenu.add("-",{itemId:"groupBy",text:this.groupByText,handler:this.onGroupByClick,scope:this,iconCls:"x-group-by-icon"});if(this.enableNoGroups){this.hmenu.add({itemId:"showGroups",text:this.showGroupsText,checked:true,checkHandler:this.onShowGroupsClick,scope:this})}this.hmenu.on("beforeshow",this.beforeMenuShow,this)}},renderRows:function(){var a=this.getGroupField();var e=!!a;if(this.hideGroupedColumn){var b=this.cm.findColumnIndex(a),d=Ext.isDefined(this.lastGroupField);if(!e&&d){this.mainBody.update("");this.cm.setHidden(this.cm.findColumnIndex(this.lastGroupField),false);delete this.lastGroupField}else{if(e&&!d){this.lastGroupField=a;this.cm.setHidden(b,true)}else{if(e&&d&&a!==this.lastGroupField){this.mainBody.update("");var c=this.cm.findColumnIndex(this.lastGroupField);this.cm.setHidden(c,false);this.lastGroupField=a;this.cm.setHidden(b,true)}}}}return Ext.grid.GroupingView.superclass.renderRows.apply(this,arguments)},doRender:function(c,h,s,a,q,t){if(h.length<1){return""}if(!this.canGroup()||this.isUpdating){return Ext.grid.GroupingView.superclass.doRender.apply(this,arguments)}var A=this.getGroupField(),p=this.cm.findColumnIndex(A),x,k="width:"+this.getTotalWidth()+";",e=this.cm.config[p],b=e.groupRenderer||e.renderer,u=this.showGroupName?(e.groupName||e.header)+": ":"",z=[],m,v,w,o;for(v=0,w=h.length;v<w;v++){var l=a+v,n=h[v],d=n.data[A];x=this.getGroup(d,n,b,l,p,s);if(!m||m.group!=x){o=this.constructId(d,A,p);this.state[o]=!(Ext.isDefined(this.state[o])?!this.state[o]:this.startCollapsed);m={group:x,gvalue:d,text:u+x,groupId:o,startRow:l,rs:[n],cls:this.state[o]?"":"x-grid-group-collapsed",style:k};z.push(m)}else{m.rs.push(n)}n._groupId=o}var y=[];for(v=0,w=z.length;v<w;v++){x=z[v];this.doGroupStart(y,x,c,s,q);y[y.length]=Ext.grid.GroupingView.superclass.doRender.call(this,c,x.rs,s,x.startRow,q,t);this.doGroupEnd(y,x,c,s,q)}return y.join("")},getGroupId:function(a){var b=this.getGroupField();return this.constructId(a,b,this.cm.findColumnIndex(b))},constructId:function(c,e,a){var b=this.cm.config[a],d=b.groupRenderer||b.renderer,g=(this.groupMode=="value")?c:this.getGroup(c,{data:{}},d,0,a,this.ds);return this.getPrefix(e)+Ext.util.Format.htmlEncode(g)},canGroup:function(){return this.enableGrouping&&!!this.getGroupField()},getPrefix:function(a){return this.grid.getGridEl().id+"-gp-"+a+"-"},doGroupStart:function(a,d,b,e,c){a[a.length]=this.startGroup.apply(d)},doGroupEnd:function(a,d,b,e,c){a[a.length]=this.endGroup},getRows:function(){if(!this.canGroup()){return Ext.grid.GroupingView.superclass.getRows.call(this)}var k=[],c=this.getGroups(),h,e=0,a=c.length,d,b;for(;e<a;++e){h=c[e].childNodes[1];if(h){h=h.childNodes;for(d=0,b=h.length;d<b;++d){k[k.length]=h[d]}}}return k},updateGroupWidths:function(){if(!this.canGroup()||!this.hasRows()){return}var c=Math.max(this.cm.getTotalWidth(),this.el.dom.offsetWidth-this.getScrollOffset())+"px";var b=this.getGroups();for(var d=0,a=b.length;d<a;d++){b[d].firstChild.style.width=c}},onColumnWidthUpdated:function(c,a,b){Ext.grid.GroupingView.superclass.onColumnWidthUpdated.call(this,c,a,b);this.updateGroupWidths()},onAllColumnWidthsUpdated:function(a,b){Ext.grid.GroupingView.superclass.onAllColumnWidthsUpdated.call(this,a,b);this.updateGroupWidths()},onColumnHiddenUpdated:function(b,c,a){Ext.grid.GroupingView.superclass.onColumnHiddenUpdated.call(this,b,c,a);this.updateGroupWidths()},onLayout:function(){this.updateGroupWidths()},onBeforeRowSelect:function(b,a){this.toggleRowIndex(a,true)}});Ext.grid.GroupingView.GROUP_ID=1000;
/*
---
MooTools: the javascript framework

web build:
 - http://mootools.net/core/7c56cfef9dddcf170a5d68e3fb61cfd7

packager build:
 - packager build Core/Core Core/Array Core/String Core/Number Core/Function Core/Object Core/Event Core/Browser Core/Class Core/Class.Extras Core/Slick.Parser Core/Slick.Finder Core/Element Core/Element.Style Core/Element.Event Core/Element.Dimensions Core/Fx Core/Fx.CSS Core/Fx.Tween Core/Fx.Morph Core/Fx.Transitions Core/Request Core/Request.HTML Core/Request.JSON Core/Cookie Core/JSON Core/DOMReady Core/Swiff

copyrights:
  - [MooTools](http://mootools.net)

licenses:
  - [MIT License](http://mootools.net/license.txt)
...
*/
(function(){this.MooTools={version:"1.3.2",build:"c9f1ff10e9e7facb65e9481049ed1b450959d587"};var e=this.typeOf=function(i){if(i==null){return"null";}if(i.$family){return i.$family();
}if(i.nodeName){if(i.nodeType==1){return"element";}if(i.nodeType==3){return(/\S/).test(i.nodeValue)?"textnode":"whitespace";}}else{if(typeof i.length=="number"){if(i.callee){return"arguments";
}if("item" in i){return"collection";}}}return typeof i;};var u=this.instanceOf=function(w,i){if(w==null){return false;}var v=w.$constructor||w.constructor;
while(v){if(v===i){return true;}v=v.parent;}return w instanceof i;};var f=this.Function;var r=true;for(var q in {toString:1}){r=null;}if(r){r=["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"];
}f.prototype.overloadSetter=function(v){var i=this;return function(x,w){if(x==null){return this;}if(v||typeof x!="string"){for(var y in x){i.call(this,y,x[y]);
}if(r){for(var z=r.length;z--;){y=r[z];if(x.hasOwnProperty(y)){i.call(this,y,x[y]);}}}}else{i.call(this,x,w);}return this;};};f.prototype.overloadGetter=function(v){var i=this;
return function(x){var y,w;if(v||typeof x!="string"){y=x;}else{if(arguments.length>1){y=arguments;}}if(y){w={};for(var z=0;z<y.length;z++){w[y[z]]=i.call(this,y[z]);
}}else{w=i.call(this,x);}return w;};};f.prototype.extend=function(i,v){this[i]=v;}.overloadSetter();f.prototype.implement=function(i,v){this.prototype[i]=v;
}.overloadSetter();var o=Array.prototype.slice;f.from=function(i){return(e(i)=="function")?i:function(){return i;};};Array.from=function(i){if(i==null){return[];
}return(k.isEnumerable(i)&&typeof i!="string")?(e(i)=="array")?i:o.call(i):[i];};Number.from=function(v){var i=parseFloat(v);return isFinite(i)?i:null;
};String.from=function(i){return i+"";};f.implement({hide:function(){this.$hidden=true;return this;},protect:function(){this.$protected=true;return this;
}});var k=this.Type=function(x,w){if(x){var v=x.toLowerCase();var i=function(y){return(e(y)==v);};k["is"+x]=i;if(w!=null){w.prototype.$family=(function(){return v;
}).hide();w.type=i;}}if(w==null){return null;}w.extend(this);w.$constructor=k;w.prototype.$constructor=w;return w;};var p=Object.prototype.toString;k.isEnumerable=function(i){return(i!=null&&typeof i.length=="number"&&p.call(i)!="[object Function]");
};var b={};var d=function(i){var v=e(i.prototype);return b[v]||(b[v]=[]);};var h=function(w,A){if(A&&A.$hidden){return;}var v=d(this);for(var x=0;x<v.length;
x++){var z=v[x];if(e(z)=="type"){h.call(z,w,A);}else{z.call(this,w,A);}}var y=this.prototype[w];if(y==null||!y.$protected){this.prototype[w]=A;}if(this[w]==null&&e(A)=="function"){t.call(this,w,function(i){return A.apply(i,o.call(arguments,1));
});}};var t=function(i,w){if(w&&w.$hidden){return;}var v=this[i];if(v==null||!v.$protected){this[i]=w;}};k.implement({implement:h.overloadSetter(),extend:t.overloadSetter(),alias:function(i,v){h.call(this,i,this.prototype[v]);
}.overloadSetter(),mirror:function(i){d(this).push(i);return this;}});new k("Type",k);var c=function(v,z,x){var w=(z!=Object),D=z.prototype;if(w){z=new k(v,z);
}for(var A=0,y=x.length;A<y;A++){var E=x[A],C=z[E],B=D[E];if(C){C.protect();}if(w&&B){delete D[E];D[E]=B.protect();}}if(w){z.implement(D);}return c;};c("String",String,["charAt","charCodeAt","concat","indexOf","lastIndexOf","match","quote","replace","search","slice","split","substr","substring","toLowerCase","toUpperCase"])("Array",Array,["pop","push","reverse","shift","sort","splice","unshift","concat","join","slice","indexOf","lastIndexOf","filter","forEach","every","map","some","reduce","reduceRight"])("Number",Number,["toExponential","toFixed","toLocaleString","toPrecision"])("Function",f,["apply","call","bind"])("RegExp",RegExp,["exec","test"])("Object",Object,["create","defineProperty","defineProperties","keys","getPrototypeOf","getOwnPropertyDescriptor","getOwnPropertyNames","preventExtensions","isExtensible","seal","isSealed","freeze","isFrozen"])("Date",Date,["now"]);
Object.extend=t.overloadSetter();Date.extend("now",function(){return +(new Date);});new k("Boolean",Boolean);Number.prototype.$family=function(){return isFinite(this)?"number":"null";
}.hide();Number.extend("random",function(v,i){return Math.floor(Math.random()*(i-v+1)+v);});var l=Object.prototype.hasOwnProperty;Object.extend("forEach",function(i,w,x){for(var v in i){if(l.call(i,v)){w.call(x,i[v],v,i);
}}});Object.each=Object.forEach;Array.implement({forEach:function(x,y){for(var w=0,v=this.length;w<v;w++){if(w in this){x.call(y,this[w],w,this);}}},each:function(i,v){Array.forEach(this,i,v);
return this;}});var s=function(i){switch(e(i)){case"array":return i.clone();case"object":return Object.clone(i);default:return i;}};Array.implement("clone",function(){var v=this.length,w=new Array(v);
while(v--){w[v]=s(this[v]);}return w;});var a=function(v,i,w){switch(e(w)){case"object":if(e(v[i])=="object"){Object.merge(v[i],w);}else{v[i]=Object.clone(w);
}break;case"array":v[i]=w.clone();break;default:v[i]=w;}return v;};Object.extend({merge:function(C,y,x){if(e(y)=="string"){return a(C,y,x);}for(var B=1,w=arguments.length;
B<w;B++){var z=arguments[B];for(var A in z){a(C,A,z[A]);}}return C;},clone:function(i){var w={};for(var v in i){w[v]=s(i[v]);}return w;},append:function(z){for(var y=1,w=arguments.length;
y<w;y++){var v=arguments[y]||{};for(var x in v){z[x]=v[x];}}return z;}});["Object","WhiteSpace","TextNode","Collection","Arguments"].each(function(i){new k(i);
});var j=Date.now();String.extend("uniqueID",function(){return(j++).toString(36);});var g=this.Hash=new k("Hash",function(i){if(e(i)=="hash"){i=Object.clone(i.getClean());
}for(var v in i){this[v]=i[v];}return this;});g.implement({forEach:function(i,v){Object.forEach(this,i,v);},getClean:function(){var v={};for(var i in this){if(this.hasOwnProperty(i)){v[i]=this[i];
}}return v;},getLength:function(){var v=0;for(var i in this){if(this.hasOwnProperty(i)){v++;}}return v;}});g.alias("each","forEach");Object.type=k.isObject;
var n=this.Native=function(i){return new k(i.name,i.initialize);};n.type=k.type;n.implement=function(x,v){for(var w=0;w<x.length;w++){x[w].implement(v);
}return n;};var m=Array.type;Array.type=function(i){return u(i,Array)||m(i);};this.$A=function(i){return Array.from(i).slice();};this.$arguments=function(v){return function(){return arguments[v];
};};this.$chk=function(i){return !!(i||i===0);};this.$clear=function(i){clearTimeout(i);clearInterval(i);return null;};this.$defined=function(i){return(i!=null);
};this.$each=function(w,v,x){var i=e(w);((i=="arguments"||i=="collection"||i=="array"||i=="elements")?Array:Object).each(w,v,x);};this.$empty=function(){};
this.$extend=function(v,i){return Object.append(v,i);};this.$H=function(i){return new g(i);};this.$merge=function(){var i=Array.slice(arguments);i.unshift({});
return Object.merge.apply(null,i);};this.$lambda=f.from;this.$mixin=Object.merge;this.$random=Number.random;this.$splat=Array.from;this.$time=Date.now;
this.$type=function(i){var v=e(i);if(v=="elements"){return"array";}return(v=="null")?false:v;};this.$unlink=function(i){switch(e(i)){case"object":return Object.clone(i);
case"array":return Array.clone(i);case"hash":return new g(i);default:return i;}};})();Array.implement({every:function(c,d){for(var b=0,a=this.length;b<a;
b++){if((b in this)&&!c.call(d,this[b],b,this)){return false;}}return true;},filter:function(d,e){var c=[];for(var b=0,a=this.length;b<a;b++){if((b in this)&&d.call(e,this[b],b,this)){c.push(this[b]);
}}return c;},indexOf:function(c,d){var a=this.length;for(var b=(d<0)?Math.max(0,a+d):d||0;b<a;b++){if(this[b]===c){return b;}}return -1;},map:function(d,e){var c=[];
for(var b=0,a=this.length;b<a;b++){if(b in this){c[b]=d.call(e,this[b],b,this);}}return c;},some:function(c,d){for(var b=0,a=this.length;b<a;b++){if((b in this)&&c.call(d,this[b],b,this)){return true;
}}return false;},clean:function(){return this.filter(function(a){return a!=null;});},invoke:function(a){var b=Array.slice(arguments,1);return this.map(function(c){return c[a].apply(c,b);
});},associate:function(c){var d={},b=Math.min(this.length,c.length);for(var a=0;a<b;a++){d[c[a]]=this[a];}return d;},link:function(c){var a={};for(var e=0,b=this.length;
e<b;e++){for(var d in c){if(c[d](this[e])){a[d]=this[e];delete c[d];break;}}}return a;},contains:function(a,b){return this.indexOf(a,b)!=-1;},append:function(a){this.push.apply(this,a);
return this;},getLast:function(){return(this.length)?this[this.length-1]:null;},getRandom:function(){return(this.length)?this[Number.random(0,this.length-1)]:null;
},include:function(a){if(!this.contains(a)){this.push(a);}return this;},combine:function(c){for(var b=0,a=c.length;b<a;b++){this.include(c[b]);}return this;
},erase:function(b){for(var a=this.length;a--;){if(this[a]===b){this.splice(a,1);}}return this;},empty:function(){this.length=0;return this;},flatten:function(){var d=[];
for(var b=0,a=this.length;b<a;b++){var c=typeOf(this[b]);if(c=="null"){continue;}d=d.concat((c=="array"||c=="collection"||c=="arguments"||instanceOf(this[b],Array))?Array.flatten(this[b]):this[b]);
}return d;},pick:function(){for(var b=0,a=this.length;b<a;b++){if(this[b]!=null){return this[b];}}return null;},hexToRgb:function(b){if(this.length!=3){return null;
}var a=this.map(function(c){if(c.length==1){c+=c;}return c.toInt(16);});return(b)?a:"rgb("+a+")";},rgbToHex:function(d){if(this.length<3){return null;}if(this.length==4&&this[3]==0&&!d){return"transparent";
}var b=[];for(var a=0;a<3;a++){var c=(this[a]-0).toString(16);b.push((c.length==1)?"0"+c:c);}return(d)?b:"#"+b.join("");}});Array.alias("extend","append");
var $pick=function(){return Array.from(arguments).pick();};String.implement({test:function(a,b){return((typeOf(a)=="regexp")?a:new RegExp(""+a,b)).test(this);
},contains:function(a,b){return(b)?(b+this+b).indexOf(b+a+b)>-1:this.indexOf(a)>-1;},trim:function(){return this.replace(/^\s+|\s+$/g,"");},clean:function(){return this.replace(/\s+/g," ").trim();
},camelCase:function(){return this.replace(/-\D/g,function(a){return a.charAt(1).toUpperCase();});},hyphenate:function(){return this.replace(/[A-Z]/g,function(a){return("-"+a.charAt(0).toLowerCase());
});},capitalize:function(){return this.replace(/\b[a-z]/g,function(a){return a.toUpperCase();});},escapeRegExp:function(){return this.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1");
},toInt:function(a){return parseInt(this,a||10);},toFloat:function(){return parseFloat(this);},hexToRgb:function(b){var a=this.match(/^#?(\w{1,2})(\w{1,2})(\w{1,2})$/);
return(a)?a.slice(1).hexToRgb(b):null;},rgbToHex:function(b){var a=this.match(/\d{1,3}/g);return(a)?a.rgbToHex(b):null;},substitute:function(a,b){return this.replace(b||(/\\?\{([^{}]+)\}/g),function(d,c){if(d.charAt(0)=="\\"){return d.slice(1);
}return(a[c]!=null)?a[c]:"";});}});Number.implement({limit:function(b,a){return Math.min(a,Math.max(b,this));},round:function(a){a=Math.pow(10,a||0).toFixed(a<0?-a:0);
return Math.round(this*a)/a;},times:function(b,c){for(var a=0;a<this;a++){b.call(c,a,this);}},toFloat:function(){return parseFloat(this);},toInt:function(a){return parseInt(this,a||10);
}});Number.alias("each","times");(function(b){var a={};b.each(function(c){if(!Number[c]){a[c]=function(){return Math[c].apply(null,[this].concat(Array.from(arguments)));
};}});Number.implement(a);})(["abs","acos","asin","atan","atan2","ceil","cos","exp","floor","log","max","min","pow","sin","sqrt","tan"]);Function.extend({attempt:function(){for(var b=0,a=arguments.length;
b<a;b++){try{return arguments[b]();}catch(c){}}return null;}});Function.implement({attempt:function(a,c){try{return this.apply(c,Array.from(a));}catch(b){}return null;
},bind:function(c){var a=this,b=(arguments.length>1)?Array.slice(arguments,1):null;return function(){if(!b&&!arguments.length){return a.call(c);}if(b&&arguments.length){return a.apply(c,b.concat(Array.from(arguments)));
}return a.apply(c,b||arguments);};},pass:function(b,c){var a=this;if(b!=null){b=Array.from(b);}return function(){return a.apply(c,b||arguments);};},delay:function(b,c,a){return setTimeout(this.pass((a==null?[]:a),c),b);
},periodical:function(c,b,a){return setInterval(this.pass((a==null?[]:a),b),c);}});delete Function.prototype.bind;Function.implement({create:function(b){var a=this;
b=b||{};return function(d){var c=b.arguments;c=(c!=null)?Array.from(c):Array.slice(arguments,(b.event)?1:0);if(b.event){c=[d||window.event].extend(c);}var e=function(){return a.apply(b.bind||null,c);
};if(b.delay){return setTimeout(e,b.delay);}if(b.periodical){return setInterval(e,b.periodical);}if(b.attempt){return Function.attempt(e);}return e();};
},bind:function(c,b){var a=this;if(b!=null){b=Array.from(b);}return function(){return a.apply(c,b||arguments);};},bindWithEvent:function(c,b){var a=this;
if(b!=null){b=Array.from(b);}return function(d){return a.apply(c,(b==null)?arguments:[d].concat(b));};},run:function(a,b){return this.apply(b,Array.from(a));
}});var $try=Function.attempt;(function(){var a=Object.prototype.hasOwnProperty;Object.extend({subset:function(d,g){var f={};for(var e=0,b=g.length;e<b;
e++){var c=g[e];if(c in d){f[c]=d[c];}}return f;},map:function(b,e,f){var d={};for(var c in b){if(a.call(b,c)){d[c]=e.call(f,b[c],c,b);}}return d;},filter:function(b,e,g){var d={};
for(var c in b){var f=b[c];if(a.call(b,c)&&e.call(g,f,c,b)){d[c]=f;}}return d;},every:function(b,d,e){for(var c in b){if(a.call(b,c)&&!d.call(e,b[c],c)){return false;
}}return true;},some:function(b,d,e){for(var c in b){if(a.call(b,c)&&d.call(e,b[c],c)){return true;}}return false;},keys:function(b){var d=[];for(var c in b){if(a.call(b,c)){d.push(c);
}}return d;},values:function(c){var b=[];for(var d in c){if(a.call(c,d)){b.push(c[d]);}}return b;},getLength:function(b){return Object.keys(b).length;},keyOf:function(b,d){for(var c in b){if(a.call(b,c)&&b[c]===d){return c;
}}return null;},contains:function(b,c){return Object.keyOf(b,c)!=null;},toQueryString:function(b,c){var d=[];Object.each(b,function(h,g){if(c){g=c+"["+g+"]";
}var f;switch(typeOf(h)){case"object":f=Object.toQueryString(h,g);break;case"array":var e={};h.each(function(k,j){e[j]=k;});f=Object.toQueryString(e,g);
break;default:f=g+"="+encodeURIComponent(h);}if(h!=null){d.push(f);}});return d.join("&");}});})();Hash.implement({has:Object.prototype.hasOwnProperty,keyOf:function(a){return Object.keyOf(this,a);
},hasValue:function(a){return Object.contains(this,a);},extend:function(a){Hash.each(a||{},function(c,b){Hash.set(this,b,c);},this);return this;},combine:function(a){Hash.each(a||{},function(c,b){Hash.include(this,b,c);
},this);return this;},erase:function(a){if(this.hasOwnProperty(a)){delete this[a];}return this;},get:function(a){return(this.hasOwnProperty(a))?this[a]:null;
},set:function(a,b){if(!this[a]||this.hasOwnProperty(a)){this[a]=b;}return this;},empty:function(){Hash.each(this,function(b,a){delete this[a];},this);
return this;},include:function(a,b){if(this[a]==null){this[a]=b;}return this;},map:function(a,b){return new Hash(Object.map(this,a,b));},filter:function(a,b){return new Hash(Object.filter(this,a,b));
},every:function(a,b){return Object.every(this,a,b);},some:function(a,b){return Object.some(this,a,b);},getKeys:function(){return Object.keys(this);},getValues:function(){return Object.values(this);
},toQueryString:function(a){return Object.toQueryString(this,a);}});Hash.extend=Object.append;Hash.alias({indexOf:"keyOf",contains:"hasValue"});(function(){var l=this.document;
var j=l.window=this;var b=1;this.$uid=(j.ActiveXObject)?function(e){return(e.uid||(e.uid=[b++]))[0];}:function(e){return e.uid||(e.uid=b++);};$uid(j);$uid(l);
var a=navigator.userAgent.toLowerCase(),c=navigator.platform.toLowerCase(),k=a.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],g=k[1]=="ie"&&l.documentMode;
var p=this.Browser={extend:Function.prototype.extend,name:(k[1]=="version")?k[3]:k[1],version:g||parseFloat((k[1]=="opera"&&k[4])?k[4]:k[2]),Platform:{name:a.match(/ip(?:ad|od|hone)/)?"ios":(a.match(/(?:webos|android)/)||c.match(/mac|win|linux/)||["other"])[0]},Features:{xpath:!!(l.evaluate),air:!!(j.runtime),query:!!(l.querySelector),json:!!(j.JSON)},Plugins:{}};
p[p.name]=true;p[p.name+parseInt(p.version,10)]=true;p.Platform[p.Platform.name]=true;p.Request=(function(){var r=function(){return new XMLHttpRequest();
};var q=function(){return new ActiveXObject("MSXML2.XMLHTTP");};var e=function(){return new ActiveXObject("Microsoft.XMLHTTP");};return Function.attempt(function(){r();
return r;},function(){q();return q;},function(){e();return e;});})();p.Features.xhr=!!(p.Request);var i=(Function.attempt(function(){return navigator.plugins["Shockwave Flash"].description;
},function(){return new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version");})||"0 r0").match(/\d+/g);p.Plugins.Flash={version:Number(i[0]||"0."+i[1])||0,build:Number(i[2])||0};
p.exec=function(q){if(!q){return q;}if(j.execScript){j.execScript(q);}else{var e=l.createElement("script");e.setAttribute("type","text/javascript");e.text=q;
l.head.appendChild(e);l.head.removeChild(e);}return q;};String.implement("stripScripts",function(q){var e="";var r=this.replace(/<script[^>]*>([\s\S]*?)<\/script>/gi,function(s,t){e+=t+"\n";
return"";});if(q===true){p.exec(e);}else{if(typeOf(q)=="function"){q(e,r);}}return r;});p.extend({Document:this.Document,Window:this.Window,Element:this.Element,Event:this.Event});
this.Window=this.$constructor=new Type("Window",function(){});this.$family=Function.from("window").hide();Window.mirror(function(e,q){j[e]=q;});this.Document=l.$constructor=new Type("Document",function(){});
l.$family=Function.from("document").hide();Document.mirror(function(e,q){l[e]=q;});l.html=l.documentElement;if(!l.head){l.head=l.getElementsByTagName("head")[0];
}if(l.execCommand){try{l.execCommand("BackgroundImageCache",false,true);}catch(h){}}if(this.attachEvent&&!this.addEventListener){var d=function(){this.detachEvent("onunload",d);
l.head=l.html=l.window=null;};this.attachEvent("onunload",d);}var n=Array.from;try{n(l.html.childNodes);}catch(h){Array.from=function(q){if(typeof q!="string"&&Type.isEnumerable(q)&&typeOf(q)!="array"){var e=q.length,r=new Array(e);
while(e--){r[e]=q[e];}return r;}return n(q);};var m=Array.prototype,o=m.slice;["pop","push","reverse","shift","sort","splice","unshift","concat","join","slice"].each(function(e){var q=m[e];
Array[e]=function(r){return q.apply(Array.from(r),o.call(arguments,1));};});}if(p.Platform.ios){p.Platform.ipod=true;}p.Engine={};var f=function(q,e){p.Engine.name=q;
p.Engine[q+e]=true;p.Engine.version=e;};if(p.ie){p.Engine.trident=true;switch(p.version){case 6:f("trident",4);break;case 7:f("trident",5);break;case 8:f("trident",6);
}}if(p.firefox){p.Engine.gecko=true;if(p.version>=3){f("gecko",19);}else{f("gecko",18);}}if(p.safari||p.chrome){p.Engine.webkit=true;switch(p.version){case 2:f("webkit",419);
break;case 3:f("webkit",420);break;case 4:f("webkit",525);}}if(p.opera){p.Engine.presto=true;if(p.version>=9.6){f("presto",960);}else{if(p.version>=9.5){f("presto",950);
}else{f("presto",925);}}}if(p.name=="unknown"){switch((a.match(/(?:webkit|khtml|gecko)/)||[])[0]){case"webkit":case"khtml":p.Engine.webkit=true;break;case"gecko":p.Engine.gecko=true;
}}this.$exec=p.exec;})();var Event=new Type("Event",function(a,i){if(!i){i=window;}var o=i.document;a=a||i.event;if(a.$extended){return a;}this.$extended=true;
var n=a.type,k=a.target||a.srcElement,m={},c={},q=null,h,l,b,p;while(k&&k.nodeType==3){k=k.parentNode;}if(n.indexOf("key")!=-1){b=a.which||a.keyCode;p=Object.keyOf(Event.Keys,b);
if(n=="keydown"){var d=b-111;if(d>0&&d<13){p="f"+d;}}if(!p){p=String.fromCharCode(b).toLowerCase();}}else{if((/click|mouse|menu/i).test(n)){o=(!o.compatMode||o.compatMode=="CSS1Compat")?o.html:o.body;
m={x:(a.pageX!=null)?a.pageX:a.clientX+o.scrollLeft,y:(a.pageY!=null)?a.pageY:a.clientY+o.scrollTop};c={x:(a.pageX!=null)?a.pageX-i.pageXOffset:a.clientX,y:(a.pageY!=null)?a.pageY-i.pageYOffset:a.clientY};
if((/DOMMouseScroll|mousewheel/).test(n)){l=(a.wheelDelta)?a.wheelDelta/120:-(a.detail||0)/3;}h=(a.which==3)||(a.button==2);if((/over|out/).test(n)){q=a.relatedTarget||a[(n=="mouseover"?"from":"to")+"Element"];
var j=function(){while(q&&q.nodeType==3){q=q.parentNode;}return true;};var g=(Browser.firefox2)?j.attempt():j();q=(g)?q:null;}}else{if((/gesture|touch/i).test(n)){this.rotation=a.rotation;
this.scale=a.scale;this.targetTouches=a.targetTouches;this.changedTouches=a.changedTouches;var f=this.touches=a.touches;if(f&&f[0]){var e=f[0];m={x:e.pageX,y:e.pageY};
c={x:e.clientX,y:e.clientY};}}}}return Object.append(this,{event:a,type:n,page:m,client:c,rightClick:h,wheel:l,relatedTarget:document.id(q),target:document.id(k),code:b,key:p,shift:a.shiftKey,control:a.ctrlKey,alt:a.altKey,meta:a.metaKey});
});Event.Keys={enter:13,up:38,down:40,left:37,right:39,esc:27,space:32,backspace:8,tab:9,"delete":46};Event.Keys=new Hash(Event.Keys);Event.implement({stop:function(){return this.stopPropagation().preventDefault();
},stopPropagation:function(){if(this.event.stopPropagation){this.event.stopPropagation();}else{this.event.cancelBubble=true;}return this;},preventDefault:function(){if(this.event.preventDefault){this.event.preventDefault();
}else{this.event.returnValue=false;}return this;}});(function(){var a=this.Class=new Type("Class",function(h){if(instanceOf(h,Function)){h={initialize:h};
}var g=function(){e(this);if(g.$prototyping){return this;}this.$caller=null;var i=(this.initialize)?this.initialize.apply(this,arguments):this;this.$caller=this.caller=null;
return i;}.extend(this).implement(h);g.$constructor=a;g.prototype.$constructor=g;g.prototype.parent=c;return g;});var c=function(){if(!this.$caller){throw new Error('The method "parent" cannot be called.');
}var g=this.$caller.$name,h=this.$caller.$owner.parent,i=(h)?h.prototype[g]:null;if(!i){throw new Error('The method "'+g+'" has no parent.');}return i.apply(this,arguments);
};var e=function(g){for(var h in g){var j=g[h];switch(typeOf(j)){case"object":var i=function(){};i.prototype=j;g[h]=e(new i);break;case"array":g[h]=j.clone();
break;}}return g;};var b=function(g,h,j){if(j.$origin){j=j.$origin;}var i=function(){if(j.$protected&&this.$caller==null){throw new Error('The method "'+h+'" cannot be called.');
}var l=this.caller,m=this.$caller;this.caller=m;this.$caller=i;var k=j.apply(this,arguments);this.$caller=m;this.caller=l;return k;}.extend({$owner:g,$origin:j,$name:h});
return i;};var f=function(h,i,g){if(a.Mutators.hasOwnProperty(h)){i=a.Mutators[h].call(this,i);if(i==null){return this;}}if(typeOf(i)=="function"){if(i.$hidden){return this;
}this.prototype[h]=(g)?i:b(this,h,i);}else{Object.merge(this.prototype,h,i);}return this;};var d=function(g){g.$prototyping=true;var h=new g;delete g.$prototyping;
return h;};a.implement("implement",f.overloadSetter());a.Mutators={Extends:function(g){this.parent=g;this.prototype=d(g);},Implements:function(g){Array.from(g).each(function(j){var h=new j;
for(var i in h){f.call(this,i,h[i],true);}},this);}};})();(function(){this.Chain=new Class({$chain:[],chain:function(){this.$chain.append(Array.flatten(arguments));
return this;},callChain:function(){return(this.$chain.length)?this.$chain.shift().apply(this,arguments):false;},clearChain:function(){this.$chain.empty();
return this;}});var a=function(b){return b.replace(/^on([A-Z])/,function(c,d){return d.toLowerCase();});};this.Events=new Class({$events:{},addEvent:function(d,c,b){d=a(d);
if(c==$empty){return this;}this.$events[d]=(this.$events[d]||[]).include(c);if(b){c.internal=true;}return this;},addEvents:function(b){for(var c in b){this.addEvent(c,b[c]);
}return this;},fireEvent:function(e,c,b){e=a(e);var d=this.$events[e];if(!d){return this;}c=Array.from(c);d.each(function(f){if(b){f.delay(b,this,c);}else{f.apply(this,c);
}},this);return this;},removeEvent:function(e,d){e=a(e);var c=this.$events[e];if(c&&!d.internal){var b=c.indexOf(d);if(b!=-1){delete c[b];}}return this;
},removeEvents:function(d){var e;if(typeOf(d)=="object"){for(e in d){this.removeEvent(e,d[e]);}return this;}if(d){d=a(d);}for(e in this.$events){if(d&&d!=e){continue;
}var c=this.$events[e];for(var b=c.length;b--;){if(b in c){this.removeEvent(e,c[b]);}}}return this;}});this.Options=new Class({setOptions:function(){var b=this.options=Object.merge.apply(null,[{},this.options].append(arguments));
if(this.addEvent){for(var c in b){if(typeOf(b[c])!="function"||!(/^on[A-Z]/).test(c)){continue;}this.addEvent(c,b[c]);delete b[c];}}return this;}});})();
(function(){var k,n,l,g,a={},c={},m=/\\/g;var e=function(q,p){if(q==null){return null;}if(q.Slick===true){return q;}q=(""+q).replace(/^\s+|\s+$/g,"");g=!!p;
var o=(g)?c:a;if(o[q]){return o[q];}k={Slick:true,expressions:[],raw:q,reverse:function(){return e(this.raw,true);}};n=-1;while(q!=(q=q.replace(j,b))){}k.length=k.expressions.length;
return o[k.raw]=(g)?h(k):k;};var i=function(o){if(o==="!"){return" ";}else{if(o===" "){return"!";}else{if((/^!/).test(o)){return o.replace(/^!/,"");}else{return"!"+o;
}}}};var h=function(u){var r=u.expressions;for(var p=0;p<r.length;p++){var t=r[p];var q={parts:[],tag:"*",combinator:i(t[0].combinator)};for(var o=0;o<t.length;
o++){var s=t[o];if(!s.reverseCombinator){s.reverseCombinator=" ";}s.combinator=s.reverseCombinator;delete s.reverseCombinator;}t.reverse().push(q);}return u;
};var f=function(o){return o.replace(/[-[\]{}()*+?.\\^$|,#\s]/g,function(p){return"\\"+p;});};var j=new RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+f(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])"));
function b(x,s,D,z,r,C,q,B,A,y,u,F,G,v,p,w){if(s||n===-1){k.expressions[++n]=[];l=-1;if(s){return"";}}if(D||z||l===-1){D=D||" ";var t=k.expressions[n];
if(g&&t[l]){t[l].reverseCombinator=i(D);}t[++l]={combinator:D,tag:"*"};}var o=k.expressions[n][l];if(r){o.tag=r.replace(m,"");}else{if(C){o.id=C.replace(m,"");
}else{if(q){q=q.replace(m,"");if(!o.classList){o.classList=[];}if(!o.classes){o.classes=[];}o.classList.push(q);o.classes.push({value:q,regexp:new RegExp("(^|\\s)"+f(q)+"(\\s|$)")});
}else{if(G){w=w||p;w=w?w.replace(m,""):null;if(!o.pseudos){o.pseudos=[];}o.pseudos.push({key:G.replace(m,""),value:w,type:F.length==1?"class":"element"});
}else{if(B){B=B.replace(m,"");u=(u||"").replace(m,"");var E,H;switch(A){case"^=":H=new RegExp("^"+f(u));break;case"$=":H=new RegExp(f(u)+"$");break;case"~=":H=new RegExp("(^|\\s)"+f(u)+"(\\s|$)");
break;case"|=":H=new RegExp("^"+f(u)+"(-|$)");break;case"=":E=function(I){return u==I;};break;case"*=":E=function(I){return I&&I.indexOf(u)>-1;};break;
case"!=":E=function(I){return u!=I;};break;default:E=function(I){return !!I;};}if(u==""&&(/^[*$^]=$/).test(A)){E=function(){return false;};}if(!E){E=function(I){return I&&H.test(I);
};}if(!o.attributes){o.attributes=[];}o.attributes.push({key:B,operator:A,value:u,test:E});}}}}}return"";}var d=(this.Slick||{});d.parse=function(o){return e(o);
};d.escapeRegExp=f;if(!this.Slick){this.Slick=d;}}).apply((typeof exports!="undefined")?exports:this);(function(){var j={},l={},b=Object.prototype.toString;
j.isNativeCode=function(c){return(/\{\s*\[native code\]\s*\}/).test(""+c);};j.isXML=function(c){return(!!c.xmlVersion)||(!!c.xml)||(b.call(c)=="[object XMLDocument]")||(c.nodeType==9&&c.documentElement.nodeName!="HTML");
};j.setDocument=function(w){var t=w.nodeType;if(t==9){}else{if(t){w=w.ownerDocument;}else{if(w.navigator){w=w.document;}else{return;}}}if(this.document===w){return;
}this.document=w;var y=w.documentElement,u=this.getUIDXML(y),o=l[u],A;if(o){for(A in o){this[A]=o[A];}return;}o=l[u]={};o.root=y;o.isXMLDocument=this.isXML(w);
o.brokenStarGEBTN=o.starSelectsClosedQSA=o.idGetsName=o.brokenMixedCaseQSA=o.brokenGEBCN=o.brokenCheckedQSA=o.brokenEmptyAttributeQSA=o.isHTMLDocument=o.nativeMatchesSelector=false;
var m,n,x,q,r;var s,c="slick_uniqueid";var z=w.createElement("div");var p=w.body||w.getElementsByTagName("body")[0]||y;p.appendChild(z);try{z.innerHTML='<a id="'+c+'"></a>';
o.isHTMLDocument=!!w.getElementById(c);}catch(v){}if(o.isHTMLDocument){z.style.display="none";z.appendChild(w.createComment(""));n=(z.getElementsByTagName("*").length>1);
try{z.innerHTML="foo</foo>";s=z.getElementsByTagName("*");m=(s&&!!s.length&&s[0].nodeName.charAt(0)=="/");}catch(v){}o.brokenStarGEBTN=n||m;try{z.innerHTML='<a name="'+c+'"></a><b id="'+c+'"></b>';
o.idGetsName=w.getElementById(c)===z.firstChild;}catch(v){}if(z.getElementsByClassName){try{z.innerHTML='<a class="f"></a><a class="b"></a>';z.getElementsByClassName("b").length;
z.firstChild.className="b";q=(z.getElementsByClassName("b").length!=2);}catch(v){}try{z.innerHTML='<a class="a"></a><a class="f b a"></a>';x=(z.getElementsByClassName("a").length!=2);
}catch(v){}o.brokenGEBCN=q||x;}if(z.querySelectorAll){try{z.innerHTML="foo</foo>";s=z.querySelectorAll("*");o.starSelectsClosedQSA=(s&&!!s.length&&s[0].nodeName.charAt(0)=="/");
}catch(v){}try{z.innerHTML='<a class="MiX"></a>';o.brokenMixedCaseQSA=!z.querySelectorAll(".MiX").length;}catch(v){}try{z.innerHTML='<select><option selected="selected">a</option></select>';
o.brokenCheckedQSA=(z.querySelectorAll(":checked").length==0);}catch(v){}try{z.innerHTML='<a class=""></a>';o.brokenEmptyAttributeQSA=(z.querySelectorAll('[class*=""]').length!=0);
}catch(v){}}try{z.innerHTML='<form action="s"><input id="action"/></form>';r=(z.firstChild.getAttribute("action")!="s");}catch(v){}o.nativeMatchesSelector=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector;
if(o.nativeMatchesSelector){try{o.nativeMatchesSelector.call(y,":slick");o.nativeMatchesSelector=null;}catch(v){}}}try{y.slick_expando=1;delete y.slick_expando;
o.getUID=this.getUIDHTML;}catch(v){o.getUID=this.getUIDXML;}p.removeChild(z);z=s=p=null;o.getAttribute=(o.isHTMLDocument&&r)?function(D,B){var E=this.attributeGetters[B];
if(E){return E.call(D);}var C=D.getAttributeNode(B);return(C)?C.nodeValue:null;}:function(C,B){var D=this.attributeGetters[B];return(D)?D.call(C):C.getAttribute(B);
};o.hasAttribute=(y&&this.isNativeCode(y.hasAttribute))?function(C,B){return C.hasAttribute(B);}:function(C,B){C=C.getAttributeNode(B);return !!(C&&(C.specified||C.nodeValue));
};o.contains=(y&&this.isNativeCode(y.contains))?function(B,C){return B.contains(C);}:(y&&y.compareDocumentPosition)?function(B,C){return B===C||!!(B.compareDocumentPosition(C)&16);
}:function(B,C){if(C){do{if(C===B){return true;}}while((C=C.parentNode));}return false;};o.documentSorter=(y.compareDocumentPosition)?function(C,B){if(!C.compareDocumentPosition||!B.compareDocumentPosition){return 0;
}return C.compareDocumentPosition(B)&4?-1:C===B?0:1;}:("sourceIndex" in y)?function(C,B){if(!C.sourceIndex||!B.sourceIndex){return 0;}return C.sourceIndex-B.sourceIndex;
}:(w.createRange)?function(E,C){if(!E.ownerDocument||!C.ownerDocument){return 0;}var D=E.ownerDocument.createRange(),B=C.ownerDocument.createRange();D.setStart(E,0);
D.setEnd(E,0);B.setStart(C,0);B.setEnd(C,0);return D.compareBoundaryPoints(Range.START_TO_END,B);}:null;y=null;for(A in o){this[A]=o[A];}};var e=/^([#.]?)((?:[\w-]+|\*))$/,g=/\[.+[*$^]=(?:""|'')?\]/,f={};
j.search=function(U,z,H,s){var p=this.found=(s)?null:(H||[]);if(!U){return p;}else{if(U.navigator){U=U.document;}else{if(!U.nodeType){return p;}}}var F,O,V=this.uniques={},I=!!(H&&H.length),y=(U.nodeType==9);
if(this.document!==(y?U:U.ownerDocument)){this.setDocument(U);}if(I){for(O=p.length;O--;){V[this.getUID(p[O])]=true;}}if(typeof z=="string"){var r=z.match(e);
simpleSelectors:if(r){var u=r[1],v=r[2],A,E;if(!u){if(v=="*"&&this.brokenStarGEBTN){break simpleSelectors;}E=U.getElementsByTagName(v);if(s){return E[0]||null;
}for(O=0;A=E[O++];){if(!(I&&V[this.getUID(A)])){p.push(A);}}}else{if(u=="#"){if(!this.isHTMLDocument||!y){break simpleSelectors;}A=U.getElementById(v);
if(!A){return p;}if(this.idGetsName&&A.getAttributeNode("id").nodeValue!=v){break simpleSelectors;}if(s){return A||null;}if(!(I&&V[this.getUID(A)])){p.push(A);
}}else{if(u=="."){if(!this.isHTMLDocument||((!U.getElementsByClassName||this.brokenGEBCN)&&U.querySelectorAll)){break simpleSelectors;}if(U.getElementsByClassName&&!this.brokenGEBCN){E=U.getElementsByClassName(v);
if(s){return E[0]||null;}for(O=0;A=E[O++];){if(!(I&&V[this.getUID(A)])){p.push(A);}}}else{var T=new RegExp("(^|\\s)"+d.escapeRegExp(v)+"(\\s|$)");E=U.getElementsByTagName("*");
for(O=0;A=E[O++];){className=A.className;if(!(className&&T.test(className))){continue;}if(s){return A;}if(!(I&&V[this.getUID(A)])){p.push(A);}}}}}}if(I){this.sort(p);
}return(s)?null:p;}querySelector:if(U.querySelectorAll){if(!this.isHTMLDocument||f[z]||this.brokenMixedCaseQSA||(this.brokenCheckedQSA&&z.indexOf(":checked")>-1)||(this.brokenEmptyAttributeQSA&&g.test(z))||(!y&&z.indexOf(",")>-1)||d.disableQSA){break querySelector;
}var S=z,x=U;if(!y){var C=x.getAttribute("id"),t="slickid__";x.setAttribute("id",t);S="#"+t+" "+S;U=x.parentNode;}try{if(s){return U.querySelector(S)||null;
}else{E=U.querySelectorAll(S);}}catch(Q){f[z]=1;break querySelector;}finally{if(!y){if(C){x.setAttribute("id",C);}else{x.removeAttribute("id");}U=x;}}if(this.starSelectsClosedQSA){for(O=0;
A=E[O++];){if(A.nodeName>"@"&&!(I&&V[this.getUID(A)])){p.push(A);}}}else{for(O=0;A=E[O++];){if(!(I&&V[this.getUID(A)])){p.push(A);}}}if(I){this.sort(p);
}return p;}F=this.Slick.parse(z);if(!F.length){return p;}}else{if(z==null){return p;}else{if(z.Slick){F=z;}else{if(this.contains(U.documentElement||U,z)){(p)?p.push(z):p=z;
return p;}else{return p;}}}}this.posNTH={};this.posNTHLast={};this.posNTHType={};this.posNTHTypeLast={};this.push=(!I&&(s||(F.length==1&&F.expressions[0].length==1)))?this.pushArray:this.pushUID;
if(p==null){p=[];}var M,L,K;var B,J,D,c,q,G,W;var N,P,o,w,R=F.expressions;search:for(O=0;(P=R[O]);O++){for(M=0;(o=P[M]);M++){B="combinator:"+o.combinator;
if(!this[B]){continue search;}J=(this.isXMLDocument)?o.tag:o.tag.toUpperCase();D=o.id;c=o.classList;q=o.classes;G=o.attributes;W=o.pseudos;w=(M===(P.length-1));
this.bitUniques={};if(w){this.uniques=V;this.found=p;}else{this.uniques={};this.found=[];}if(M===0){this[B](U,J,D,q,G,W,c);if(s&&w&&p.length){break search;
}}else{if(s&&w){for(L=0,K=N.length;L<K;L++){this[B](N[L],J,D,q,G,W,c);if(p.length){break search;}}}else{for(L=0,K=N.length;L<K;L++){this[B](N[L],J,D,q,G,W,c);
}}}N=this.found;}}if(I||(F.expressions.length>1)){this.sort(p);}return(s)?(p[0]||null):p;};j.uidx=1;j.uidk="slick-uniqueid";j.getUIDXML=function(m){var c=m.getAttribute(this.uidk);
if(!c){c=this.uidx++;m.setAttribute(this.uidk,c);}return c;};j.getUIDHTML=function(c){return c.uniqueNumber||(c.uniqueNumber=this.uidx++);};j.sort=function(c){if(!this.documentSorter){return c;
}c.sort(this.documentSorter);return c;};j.cacheNTH={};j.matchNTH=/^([+-]?\d*)?([a-z]+)?([+-]\d+)?$/;j.parseNTHArgument=function(p){var n=p.match(this.matchNTH);
if(!n){return false;}var o=n[2]||false;var m=n[1]||1;if(m=="-"){m=-1;}var c=+n[3]||0;n=(o=="n")?{a:m,b:c}:(o=="odd")?{a:2,b:1}:(o=="even")?{a:2,b:0}:{a:0,b:m};
return(this.cacheNTH[p]=n);};j.createNTHPseudo=function(o,m,c,n){return function(r,p){var t=this.getUID(r);if(!this[c][t]){var z=r.parentNode;if(!z){return false;
}var q=z[o],s=1;if(n){var y=r.nodeName;do{if(q.nodeName!=y){continue;}this[c][this.getUID(q)]=s++;}while((q=q[m]));}else{do{if(q.nodeType!=1){continue;
}this[c][this.getUID(q)]=s++;}while((q=q[m]));}}p=p||"n";var u=this.cacheNTH[p]||this.parseNTHArgument(p);if(!u){return false;}var x=u.a,w=u.b,v=this[c][t];
if(x==0){return w==v;}if(x>0){if(v<w){return false;}}else{if(w<v){return false;}}return((v-w)%x)==0;};};j.pushArray=function(o,c,q,n,m,p){if(this.matchSelector(o,c,q,n,m,p)){this.found.push(o);
}};j.pushUID=function(p,c,r,o,m,q){var n=this.getUID(p);if(!this.uniques[n]&&this.matchSelector(p,c,r,o,m,q)){this.uniques[n]=true;this.found.push(p);}};
j.matchNode=function(m,n){if(this.isHTMLDocument&&this.nativeMatchesSelector){try{return this.nativeMatchesSelector.call(m,n.replace(/\[([^=]+)=\s*([^'"\]]+?)\s*\]/g,'[$1="$2"]'));
}catch(u){}}var t=this.Slick.parse(n);if(!t){return true;}var r=t.expressions,p,s=0,q;for(q=0;(currentExpression=r[q]);q++){if(currentExpression.length==1){var o=currentExpression[0];
if(this.matchSelector(m,(this.isXMLDocument)?o.tag:o.tag.toUpperCase(),o.id,o.classes,o.attributes,o.pseudos)){return true;}s++;}}if(s==t.length){return false;
}var c=this.search(this.document,t),v;for(q=0;v=c[q++];){if(v===m){return true;}}return false;};j.matchPseudo=function(p,c,o){var m="pseudo:"+c;if(this[m]){return this[m](p,o);
}var n=this.getAttribute(p,c);return(o)?o==n:!!n;};j.matchSelector=function(n,u,c,o,p,r){if(u){var s=(this.isXMLDocument)?n.nodeName:n.nodeName.toUpperCase();
if(u=="*"){if(s<"@"){return false;}}else{if(s!=u){return false;}}}if(c&&n.getAttribute("id")!=c){return false;}var q,m,t;if(o){for(q=o.length;q--;){t=n.getAttribute("class")||n.className;
if(!(t&&o[q].regexp.test(t))){return false;}}}if(p){for(q=p.length;q--;){m=p[q];if(m.operator?!m.test(this.getAttribute(n,m.key)):!this.hasAttribute(n,m.key)){return false;
}}}if(r){for(q=r.length;q--;){m=r[q];if(!this.matchPseudo(n,m.key,m.value)){return false;}}}return true;};var i={" ":function(p,v,m,q,r,t,o){var s,u,n;
if(this.isHTMLDocument){getById:if(m){u=this.document.getElementById(m);if((!u&&p.all)||(this.idGetsName&&u&&u.getAttributeNode("id").nodeValue!=m)){n=p.all[m];
if(!n){return;}if(!n[0]){n=[n];}for(s=0;u=n[s++];){var c=u.getAttributeNode("id");if(c&&c.nodeValue==m){this.push(u,v,null,q,r,t);break;}}return;}if(!u){if(this.contains(this.root,p)){return;
}else{break getById;}}else{if(this.document!==p&&!this.contains(p,u)){return;}}this.push(u,v,null,q,r,t);return;}getByClass:if(q&&p.getElementsByClassName&&!this.brokenGEBCN){n=p.getElementsByClassName(o.join(" "));
if(!(n&&n.length)){break getByClass;}for(s=0;u=n[s++];){this.push(u,v,m,null,r,t);}return;}}getByTag:{n=p.getElementsByTagName(v);if(!(n&&n.length)){break getByTag;
}if(!this.brokenStarGEBTN){v=null;}for(s=0;u=n[s++];){this.push(u,v,m,q,r,t);}}},">":function(o,c,q,n,m,p){if((o=o.firstChild)){do{if(o.nodeType==1){this.push(o,c,q,n,m,p);
}}while((o=o.nextSibling));}},"+":function(o,c,q,n,m,p){while((o=o.nextSibling)){if(o.nodeType==1){this.push(o,c,q,n,m,p);break;}}},"^":function(o,c,q,n,m,p){o=o.firstChild;
if(o){if(o.nodeType==1){this.push(o,c,q,n,m,p);}else{this["combinator:+"](o,c,q,n,m,p);}}},"~":function(p,c,r,o,m,q){while((p=p.nextSibling)){if(p.nodeType!=1){continue;
}var n=this.getUID(p);if(this.bitUniques[n]){break;}this.bitUniques[n]=true;this.push(p,c,r,o,m,q);}},"++":function(o,c,q,n,m,p){this["combinator:+"](o,c,q,n,m,p);
this["combinator:!+"](o,c,q,n,m,p);},"~~":function(o,c,q,n,m,p){this["combinator:~"](o,c,q,n,m,p);this["combinator:!~"](o,c,q,n,m,p);},"!":function(o,c,q,n,m,p){while((o=o.parentNode)){if(o!==this.document){this.push(o,c,q,n,m,p);
}}},"!>":function(o,c,q,n,m,p){o=o.parentNode;if(o!==this.document){this.push(o,c,q,n,m,p);}},"!+":function(o,c,q,n,m,p){while((o=o.previousSibling)){if(o.nodeType==1){this.push(o,c,q,n,m,p);
break;}}},"!^":function(o,c,q,n,m,p){o=o.lastChild;if(o){if(o.nodeType==1){this.push(o,c,q,n,m,p);}else{this["combinator:!+"](o,c,q,n,m,p);}}},"!~":function(p,c,r,o,m,q){while((p=p.previousSibling)){if(p.nodeType!=1){continue;
}var n=this.getUID(p);if(this.bitUniques[n]){break;}this.bitUniques[n]=true;this.push(p,c,r,o,m,q);}}};for(var h in i){j["combinator:"+h]=i[h];}var k={empty:function(c){var m=c.firstChild;
return !(m&&m.nodeType==1)&&!(c.innerText||c.textContent||"").length;},not:function(c,m){return !this.matchNode(c,m);},contains:function(c,m){return(c.innerText||c.textContent||"").indexOf(m)>-1;
},"first-child":function(c){while((c=c.previousSibling)){if(c.nodeType==1){return false;}}return true;},"last-child":function(c){while((c=c.nextSibling)){if(c.nodeType==1){return false;
}}return true;},"only-child":function(n){var m=n;while((m=m.previousSibling)){if(m.nodeType==1){return false;}}var c=n;while((c=c.nextSibling)){if(c.nodeType==1){return false;
}}return true;},"nth-child":j.createNTHPseudo("firstChild","nextSibling","posNTH"),"nth-last-child":j.createNTHPseudo("lastChild","previousSibling","posNTHLast"),"nth-of-type":j.createNTHPseudo("firstChild","nextSibling","posNTHType",true),"nth-last-of-type":j.createNTHPseudo("lastChild","previousSibling","posNTHTypeLast",true),index:function(m,c){return this["pseudo:nth-child"](m,""+c+1);
},even:function(c){return this["pseudo:nth-child"](c,"2n");},odd:function(c){return this["pseudo:nth-child"](c,"2n+1");},"first-of-type":function(c){var m=c.nodeName;
while((c=c.previousSibling)){if(c.nodeName==m){return false;}}return true;},"last-of-type":function(c){var m=c.nodeName;while((c=c.nextSibling)){if(c.nodeName==m){return false;
}}return true;},"only-of-type":function(n){var m=n,o=n.nodeName;while((m=m.previousSibling)){if(m.nodeName==o){return false;}}var c=n;while((c=c.nextSibling)){if(c.nodeName==o){return false;
}}return true;},enabled:function(c){return !c.disabled;},disabled:function(c){return c.disabled;},checked:function(c){return c.checked||c.selected;},focus:function(c){return this.isHTMLDocument&&this.document.activeElement===c&&(c.href||c.type||this.hasAttribute(c,"tabindex"));
},root:function(c){return(c===this.root);},selected:function(c){return c.selected;}};for(var a in k){j["pseudo:"+a]=k[a];}j.attributeGetters={"class":function(){return this.getAttribute("class")||this.className;
},"for":function(){return("htmlFor" in this)?this.htmlFor:this.getAttribute("for");},href:function(){return("href" in this)?this.getAttribute("href",2):this.getAttribute("href");
},style:function(){return(this.style)?this.style.cssText:this.getAttribute("style");},tabindex:function(){var c=this.getAttributeNode("tabindex");return(c&&c.specified)?c.nodeValue:null;
},type:function(){return this.getAttribute("type");}};var d=j.Slick=(this.Slick||{});d.version="1.1.5";d.search=function(m,n,c){return j.search(m,n,c);
};d.find=function(c,m){return j.search(c,m,null,true);};d.contains=function(c,m){j.setDocument(c);return j.contains(c,m);};d.getAttribute=function(m,c){return j.getAttribute(m,c);
};d.match=function(m,c){if(!(m&&c)){return false;}if(!c||c===m){return true;}j.setDocument(m);return j.matchNode(m,c);};d.defineAttributeGetter=function(c,m){j.attributeGetters[c]=m;
return this;};d.lookupAttributeGetter=function(c){return j.attributeGetters[c];};d.definePseudo=function(c,m){j["pseudo:"+c]=function(o,n){return m.call(o,n);
};return this;};d.lookupPseudo=function(c){var m=j["pseudo:"+c];if(m){return function(n){return m.call(this,n);};}return null;};d.override=function(m,c){j.override(m,c);
return this;};d.isXML=j.isXML;d.uidOf=function(c){return j.getUIDHTML(c);};if(!this.Slick){this.Slick=d;}}).apply((typeof exports!="undefined")?exports:this);
var Element=function(b,g){var h=Element.Constructors[b];if(h){return h(g);}if(typeof b!="string"){return document.id(b).set(g);}if(!g){g={};}if(!(/^[\w-]+$/).test(b)){var e=Slick.parse(b).expressions[0][0];
b=(e.tag=="*")?"div":e.tag;if(e.id&&g.id==null){g.id=e.id;}var d=e.attributes;if(d){for(var f=0,c=d.length;f<c;f++){var a=d[f];if(g[a.key]!=null){continue;
}if(a.value!=null&&a.operator=="="){g[a.key]=a.value;}else{if(!a.value&&!a.operator){g[a.key]=true;}}}}if(e.classList&&g["class"]==null){g["class"]=e.classList.join(" ");
}}return document.newElement(b,g);};if(Browser.Element){Element.prototype=Browser.Element.prototype;}new Type("Element",Element).mirror(function(a){if(Array.prototype[a]){return;
}var b={};b[a]=function(){var h=[],e=arguments,j=true;for(var g=0,d=this.length;g<d;g++){var f=this[g],c=h[g]=f[a].apply(f,e);j=(j&&typeOf(c)=="element");
}return(j)?new Elements(h):h;};Elements.implement(b);});if(!Browser.Element){Element.parent=Object;Element.Prototype={"$family":Function.from("element").hide()};
Element.mirror(function(a,b){Element.Prototype[a]=b;});}Element.Constructors={};Element.Constructors=new Hash;var IFrame=new Type("IFrame",function(){var e=Array.link(arguments,{properties:Type.isObject,iframe:function(f){return(f!=null);
}});var c=e.properties||{},b;if(e.iframe){b=document.id(e.iframe);}var d=c.onload||function(){};delete c.onload;c.id=c.name=[c.id,c.name,b?(b.id||b.name):"IFrame_"+String.uniqueID()].pick();
b=new Element(b||"iframe",c);var a=function(){d.call(b.contentWindow);};if(window.frames[c.id]){a();}else{b.addListener("load",a);}return b;});var Elements=this.Elements=function(a){if(a&&a.length){var e={},d;
for(var c=0;d=a[c++];){var b=Slick.uidOf(d);if(!e[b]){e[b]=true;this.push(d);}}}};Elements.prototype={length:0};Elements.parent=Array;new Type("Elements",Elements).implement({filter:function(a,b){if(!a){return this;
}return new Elements(Array.filter(this,(typeOf(a)=="string")?function(c){return c.match(a);}:a,b));}.protect(),push:function(){var d=this.length;for(var b=0,a=arguments.length;
b<a;b++){var c=document.id(arguments[b]);if(c){this[d++]=c;}}return(this.length=d);}.protect(),unshift:function(){var b=[];for(var c=0,a=arguments.length;
c<a;c++){var d=document.id(arguments[c]);if(d){b.push(d);}}return Array.prototype.unshift.apply(this,b);}.protect(),concat:function(){var b=new Elements(this);
for(var c=0,a=arguments.length;c<a;c++){var d=arguments[c];if(Type.isEnumerable(d)){b.append(d);}else{b.push(d);}}return b;}.protect(),append:function(c){for(var b=0,a=c.length;
b<a;b++){this.push(c[b]);}return this;}.protect(),empty:function(){while(this.length){delete this[--this.length];}return this;}.protect()});Elements.alias("extend","append");
(function(){var g=Array.prototype.splice,b={"0":0,"1":1,length:2};g.call(b,1,1);if(b[1]==1){Elements.implement("splice",function(){var e=this.length;g.apply(this,arguments);
while(e>=this.length){delete this[e--];}return this;}.protect());}Elements.implement(Array.prototype);Array.mirror(Elements);var f;try{var a=document.createElement("<input name=x>");
f=(a.name=="x");}catch(c){}var d=function(e){return(""+e).replace(/&/g,"&amp;").replace(/"/g,"&quot;");};Document.implement({newElement:function(e,h){if(h&&h.checked!=null){h.defaultChecked=h.checked;
}if(f&&h){e="<"+e;if(h.name){e+=' name="'+d(h.name)+'"';}if(h.type){e+=' type="'+d(h.type)+'"';}e+=">";delete h.name;delete h.type;}return this.id(this.createElement(e)).set(h);
}});})();Document.implement({newTextNode:function(a){return this.createTextNode(a);},getDocument:function(){return this;},getWindow:function(){return this.window;
},id:(function(){var a={string:function(d,c,b){d=Slick.find(b,"#"+d.replace(/(\W)/g,"\\$1"));return(d)?a.element(d,c):null;},element:function(b,c){$uid(b);
if(!c&&!b.$family&&!(/^(?:object|embed)$/i).test(b.tagName)){Object.append(b,Element.Prototype);}return b;},object:function(c,d,b){if(c.toElement){return a.element(c.toElement(b),d);
}return null;}};a.textnode=a.whitespace=a.window=a.document=function(b){return b;};return function(c,e,d){if(c&&c.$family&&c.uid){return c;}var b=typeOf(c);
return(a[b])?a[b](c,e,d||document):null;};})()});if(window.$==null){Window.implement("$",function(a,b){return document.id(a,b,this.document);});}Window.implement({getDocument:function(){return this.document;
},getWindow:function(){return this;}});[Document,Element].invoke("implement",{getElements:function(a){return Slick.search(this,a,new Elements);},getElement:function(a){return document.id(Slick.find(this,a));
}});(function(b,d,a){this.Selectors={};var e=this.Selectors.Pseudo=new Hash();var c=function(){for(var f in e){if(e.hasOwnProperty(f)){Slick.definePseudo(f,e[f]);
delete e[f];}}};Slick.search=function(g,h,f){c();return b.call(this,g,h,f);};Slick.find=function(f,g){c();return d.call(this,f,g);};Slick.match=function(g,f){c();
return a.call(this,g,f);};})(Slick.search,Slick.find,Slick.match);if(window.$$==null){Window.implement("$$",function(a){var f=new Elements;if(arguments.length==1&&typeof a=="string"){return Slick.search(this.document,a,f);
}var c=Array.flatten(arguments);for(var d=0,b=c.length;d<b;d++){var e=c[d];switch(typeOf(e)){case"element":f.push(e);break;case"string":Slick.search(this.document,e,f);
}}return f;});}if(window.$$==null){Window.implement("$$",function(a){if(arguments.length==1){if(typeof a=="string"){return Slick.search(this.document,a,new Elements);
}else{if(Type.isEnumerable(a)){return new Elements(a);}}}return new Elements(arguments);});}(function(){var k={},i={};var n={input:"checked",option:"selected",textarea:"value"};
var e=function(p){return(i[p]||(i[p]={}));};var j=function(q){var p=q.uid;if(q.removeEvents){q.removeEvents();}if(q.clearAttributes){q.clearAttributes();
}if(p!=null){delete k[p];delete i[p];}return q;};var o=["defaultValue","accessKey","cellPadding","cellSpacing","colSpan","frameBorder","maxLength","readOnly","rowSpan","tabIndex","useMap"];
var d=["compact","nowrap","ismap","declare","noshade","checked","disabled","readOnly","multiple","selected","noresize","defer","defaultChecked"];var g={html:"innerHTML","class":"className","for":"htmlFor",text:(function(){var p=document.createElement("div");
return(p.textContent==null)?"innerText":"textContent";})()};var m=["type"];var h=["value","defaultValue"];var l=/^(?:href|src|usemap)$/i;d=d.associate(d);
o=o.associate(o.map(String.toLowerCase));m=m.associate(m);Object.append(g,h.associate(h));var c={before:function(q,p){var r=p.parentNode;if(r){r.insertBefore(q,p);
}},after:function(q,p){var r=p.parentNode;if(r){r.insertBefore(q,p.nextSibling);}},bottom:function(q,p){p.appendChild(q);},top:function(q,p){p.insertBefore(q,p.firstChild);
}};c.inside=c.bottom;Object.each(c,function(q,r){r=r.capitalize();var p={};p["inject"+r]=function(s){q(this,document.id(s,true));return this;};p["grab"+r]=function(s){q(document.id(s,true),this);
return this;};Element.implement(p);});var b=function(s,r){if(!s){return r;}s=Object.clone(Slick.parse(s));var q=s.expressions;for(var p=q.length;p--;){q[p][0].combinator=r;
}return s;};Element.implement({set:function(r,q){var p=Element.Properties[r];(p&&p.set)?p.set.call(this,q):this.setProperty(r,q);}.overloadSetter(),get:function(q){var p=Element.Properties[q];
return(p&&p.get)?p.get.apply(this):this.getProperty(q);}.overloadGetter(),erase:function(q){var p=Element.Properties[q];(p&&p.erase)?p.erase.apply(this):this.removeProperty(q);
return this;},setProperty:function(q,r){q=o[q]||q;if(r==null){return this.removeProperty(q);}var p=g[q];(p)?this[p]=r:(d[q])?this[q]=!!r:this.setAttribute(q,""+r);
return this;},setProperties:function(p){for(var q in p){this.setProperty(q,p[q]);}return this;},getProperty:function(q){q=o[q]||q;var p=g[q]||m[q];return(p)?this[p]:(d[q])?!!this[q]:(l.test(q)?this.getAttribute(q,2):(p=this.getAttributeNode(q))?p.nodeValue:null)||null;
},getProperties:function(){var p=Array.from(arguments);return p.map(this.getProperty,this).associate(p);},removeProperty:function(q){q=o[q]||q;var p=g[q];
(p)?this[p]="":(d[q])?this[q]=false:this.removeAttribute(q);return this;},removeProperties:function(){Array.each(arguments,this.removeProperty,this);return this;
},hasClass:function(p){return this.className.clean().contains(p," ");},addClass:function(p){if(!this.hasClass(p)){this.className=(this.className+" "+p).clean();
}return this;},removeClass:function(p){this.className=this.className.replace(new RegExp("(^|\\s)"+p+"(?:\\s|$)"),"$1");return this;},toggleClass:function(p,q){if(q==null){q=!this.hasClass(p);
}return(q)?this.addClass(p):this.removeClass(p);},adopt:function(){var s=this,p,u=Array.flatten(arguments),t=u.length;if(t>1){s=p=document.createDocumentFragment();
}for(var r=0;r<t;r++){var q=document.id(u[r],true);if(q){s.appendChild(q);}}if(p){this.appendChild(p);}return this;},appendText:function(q,p){return this.grab(this.getDocument().newTextNode(q),p);
},grab:function(q,p){c[p||"bottom"](document.id(q,true),this);return this;},inject:function(q,p){c[p||"bottom"](this,document.id(q,true));return this;},replaces:function(p){p=document.id(p,true);
p.parentNode.replaceChild(this,p);return this;},wraps:function(q,p){q=document.id(q,true);return this.replaces(q).grab(q,p);},getPrevious:function(p){return document.id(Slick.find(this,b(p,"!~")));
},getAllPrevious:function(p){return Slick.search(this,b(p,"!~"),new Elements);},getNext:function(p){return document.id(Slick.find(this,b(p,"~")));},getAllNext:function(p){return Slick.search(this,b(p,"~"),new Elements);
},getFirst:function(p){return document.id(Slick.search(this,b(p,">"))[0]);},getLast:function(p){return document.id(Slick.search(this,b(p,">")).getLast());
},getParent:function(p){return document.id(Slick.find(this,b(p,"!")));},getParents:function(p){return Slick.search(this,b(p,"!"),new Elements);},getSiblings:function(p){return Slick.search(this,b(p,"~~"),new Elements);
},getChildren:function(p){return Slick.search(this,b(p,">"),new Elements);},getWindow:function(){return this.ownerDocument.window;},getDocument:function(){return this.ownerDocument;
},getElementById:function(p){return document.id(Slick.find(this,"#"+(""+p).replace(/(\W)/g,"\\$1")));},getSelected:function(){this.selectedIndex;return new Elements(Array.from(this.options).filter(function(p){return p.selected;
}));},toQueryString:function(){var p=[];this.getElements("input, select, textarea").each(function(r){var q=r.type;if(!r.name||r.disabled||q=="submit"||q=="reset"||q=="file"||q=="image"){return;
}var s=(r.get("tag")=="select")?r.getSelected().map(function(t){return document.id(t).get("value");}):((q=="radio"||q=="checkbox")&&!r.checked)?null:r.get("value");
Array.from(s).each(function(t){if(typeof t!="undefined"){p.push(encodeURIComponent(r.name)+"="+encodeURIComponent(t));}});});return p.join("&");},destroy:function(){var p=j(this).getElementsByTagName("*");
Array.each(p,j);Element.dispose(this);return null;},empty:function(){Array.from(this.childNodes).each(Element.dispose);return this;},dispose:function(){return(this.parentNode)?this.parentNode.removeChild(this):this;
},match:function(p){return !p||Slick.match(this,p);}});var a=function(t,s,q){if(!q){t.setAttributeNode(document.createAttribute("id"));}if(t.clearAttributes){t.clearAttributes();
t.mergeAttributes(s);t.removeAttribute("uid");if(t.options){var u=t.options,p=s.options;for(var r=u.length;r--;){u[r].selected=p[r].selected;}}}var v=n[s.tagName.toLowerCase()];
if(v&&s[v]){t[v]=s[v];}};Element.implement("clone",function(r,p){r=r!==false;var w=this.cloneNode(r),q;if(r){var s=w.getElementsByTagName("*"),u=this.getElementsByTagName("*");
for(q=s.length;q--;){a(s[q],u[q],p);}}a(w,this,p);if(Browser.ie){var t=w.getElementsByTagName("object"),v=this.getElementsByTagName("object");for(q=t.length;
q--;){t[q].outerHTML=v[q].outerHTML;}}return document.id(w);});var f={contains:function(p){return Slick.contains(this,p);}};if(!document.contains){Document.implement(f);
}if(!document.createElement("div").contains){Element.implement(f);}Element.implement("hasChild",function(p){return this!==p&&this.contains(p);});[Element,Window,Document].invoke("implement",{addListener:function(s,r){if(s=="unload"){var p=r,q=this;
r=function(){q.removeListener("unload",r);p();};}else{k[$uid(this)]=this;}if(this.addEventListener){this.addEventListener(s,r,!!arguments[2]);}else{this.attachEvent("on"+s,r);
}return this;},removeListener:function(q,p){if(this.removeEventListener){this.removeEventListener(q,p,!!arguments[2]);}else{this.detachEvent("on"+q,p);
}return this;},retrieve:function(q,p){var s=e($uid(this)),r=s[q];if(p!=null&&r==null){r=s[q]=p;}return r!=null?r:null;},store:function(q,p){var r=e($uid(this));
r[q]=p;return this;},eliminate:function(p){var q=e($uid(this));delete q[p];return this;}});if(window.attachEvent&&!window.addEventListener){window.addListener("unload",function(){Object.each(k,j);
if(window.CollectGarbage){CollectGarbage();}});}})();Element.Properties={};Element.Properties=new Hash;Element.Properties.style={set:function(a){this.style.cssText=a;
},get:function(){return this.style.cssText;},erase:function(){this.style.cssText="";}};Element.Properties.tag={get:function(){return this.tagName.toLowerCase();
}};(function(a){if(a!=null){Element.Properties.maxlength=Element.Properties.maxLength={get:function(){var b=this.getAttribute("maxLength");return b==a?null:b;
}};}})(document.createElement("input").getAttribute("maxLength"));Element.Properties.html=(function(){var c=Function.attempt(function(){var e=document.createElement("table");
e.innerHTML="<tr><td></td></tr>";});var d=document.createElement("div");var a={table:[1,"<table>","</table>"],select:[1,"<select>","</select>"],tbody:[2,"<table><tbody>","</tbody></table>"],tr:[3,"<table><tbody><tr>","</tr></tbody></table>"]};
a.thead=a.tfoot=a.tbody;var b={set:function(){var f=Array.flatten(arguments).join("");var g=(!c&&a[this.get("tag")]);if(g){var h=d;h.innerHTML=g[1]+f+g[2];
for(var e=g[0];e--;){h=h.firstChild;}this.empty().adopt(h.childNodes);}else{this.innerHTML=f;}}};b.erase=b.set;return b;})();(function(){var c=document.html;
Element.Properties.styles={set:function(f){this.setStyles(f);}};var e=(c.style.opacity!=null);var d=/alpha\(opacity=([\d.]+)\)/i;var b=function(g,f){if(!g.currentStyle||!g.currentStyle.hasLayout){g.style.zoom=1;
}if(e){g.style.opacity=f;}else{f=(f*100).limit(0,100).round();f=(f==100)?"":"alpha(opacity="+f+")";var h=g.style.filter||g.getComputedStyle("filter")||"";
g.style.filter=d.test(h)?h.replace(d,f):h+f;}};Element.Properties.opacity={set:function(g){var f=this.style.visibility;if(g==0&&f!="hidden"){this.style.visibility="hidden";
}else{if(g!=0&&f!="visible"){this.style.visibility="visible";}}b(this,g);},get:(e)?function(){var f=this.style.opacity||this.getComputedStyle("opacity");
return(f=="")?1:f;}:function(){var f,g=(this.style.filter||this.getComputedStyle("filter"));if(g){f=g.match(d);}return(f==null||g==null)?1:(f[1]/100);}};
var a=(c.style.cssFloat==null)?"styleFloat":"cssFloat";Element.implement({getComputedStyle:function(h){if(this.currentStyle){return this.currentStyle[h.camelCase()];
}var g=Element.getDocument(this).defaultView,f=g?g.getComputedStyle(this,null):null;return(f)?f.getPropertyValue((h==a)?"float":h.hyphenate()):null;},setOpacity:function(f){b(this,f);
return this;},getOpacity:function(){return this.get("opacity");},setStyle:function(g,f){switch(g){case"opacity":return this.set("opacity",parseFloat(f));
case"float":g=a;}g=g.camelCase();if(typeOf(f)!="string"){var h=(Element.Styles[g]||"@").split(" ");f=Array.from(f).map(function(k,j){if(!h[j]){return"";
}return(typeOf(k)=="number")?h[j].replace("@",Math.round(k)):k;}).join(" ");}else{if(f==String(Number(f))){f=Math.round(f);}}this.style[g]=f;return this;
},getStyle:function(l){switch(l){case"opacity":return this.get("opacity");case"float":l=a;}l=l.camelCase();var f=this.style[l];if(!f||l=="zIndex"){f=[];
for(var k in Element.ShortStyles){if(l!=k){continue;}for(var j in Element.ShortStyles[k]){f.push(this.getStyle(j));}return f.join(" ");}f=this.getComputedStyle(l);
}if(f){f=String(f);var h=f.match(/rgba?\([\d\s,]+\)/);if(h){f=f.replace(h[0],h[0].rgbToHex());}}if(Browser.opera||(Browser.ie&&isNaN(parseFloat(f)))){if((/^(height|width)$/).test(l)){var g=(l=="width")?["left","right"]:["top","bottom"],i=0;
g.each(function(m){i+=this.getStyle("border-"+m+"-width").toInt()+this.getStyle("padding-"+m).toInt();},this);return this["offset"+l.capitalize()]-i+"px";
}if(Browser.opera&&String(f).indexOf("px")!=-1){return f;}if((/^border(.+)Width|margin|padding/).test(l)){return"0px";}}return f;},setStyles:function(g){for(var f in g){this.setStyle(f,g[f]);
}return this;},getStyles:function(){var f={};Array.flatten(arguments).each(function(g){f[g]=this.getStyle(g);},this);return f;}});Element.Styles={left:"@px",top:"@px",bottom:"@px",right:"@px",width:"@px",height:"@px",maxWidth:"@px",maxHeight:"@px",minWidth:"@px",minHeight:"@px",backgroundColor:"rgb(@, @, @)",backgroundPosition:"@px @px",color:"rgb(@, @, @)",fontSize:"@px",letterSpacing:"@px",lineHeight:"@px",clip:"rect(@px @px @px @px)",margin:"@px @px @px @px",padding:"@px @px @px @px",border:"@px @ rgb(@, @, @) @px @ rgb(@, @, @) @px @ rgb(@, @, @)",borderWidth:"@px @px @px @px",borderStyle:"@ @ @ @",borderColor:"rgb(@, @, @) rgb(@, @, @) rgb(@, @, @) rgb(@, @, @)",zIndex:"@",zoom:"@",fontWeight:"@",textIndent:"@px",opacity:"@"};
Element.Styles=new Hash(Element.Styles);Element.ShortStyles={margin:{},padding:{},border:{},borderWidth:{},borderStyle:{},borderColor:{}};["Top","Right","Bottom","Left"].each(function(l){var k=Element.ShortStyles;
var g=Element.Styles;["margin","padding"].each(function(m){var n=m+l;k[m][n]=g[n]="@px";});var j="border"+l;k.border[j]=g[j]="@px @ rgb(@, @, @)";var i=j+"Width",f=j+"Style",h=j+"Color";
k[j]={};k.borderWidth[i]=k[j][i]=g[i]="@px";k.borderStyle[f]=k[j][f]=g[f]="@";k.borderColor[h]=k[j][h]=g[h]="rgb(@, @, @)";});})();(function(){Element.Properties.events={set:function(b){this.addEvents(b);
}};[Element,Window,Document].invoke("implement",{addEvent:function(f,h){var i=this.retrieve("events",{});if(!i[f]){i[f]={keys:[],values:[]};}if(i[f].keys.contains(h)){return this;
}i[f].keys.push(h);var g=f,b=Element.Events[f],d=h,j=this;if(b){if(b.onAdd){b.onAdd.call(this,h);}if(b.condition){d=function(k){if(b.condition.call(this,k)){return h.call(this,k);
}return true;};}g=b.base||g;}var e=function(){return h.call(j);};var c=Element.NativeEvents[g];if(c){if(c==2){e=function(k){k=new Event(k,j.getWindow());
if(d.call(j,k)===false){k.stop();}};}this.addListener(g,e,arguments[2]);}i[f].values.push(e);return this;},removeEvent:function(e,d){var c=this.retrieve("events");
if(!c||!c[e]){return this;}var h=c[e];var b=h.keys.indexOf(d);if(b==-1){return this;}var g=h.values[b];delete h.keys[b];delete h.values[b];var f=Element.Events[e];
if(f){if(f.onRemove){f.onRemove.call(this,d);}e=f.base||e;}return(Element.NativeEvents[e])?this.removeListener(e,g,arguments[2]):this;},addEvents:function(b){for(var c in b){this.addEvent(c,b[c]);
}return this;},removeEvents:function(b){var d;if(typeOf(b)=="object"){for(d in b){this.removeEvent(d,b[d]);}return this;}var c=this.retrieve("events");
if(!c){return this;}if(!b){for(d in c){this.removeEvents(d);}this.eliminate("events");}else{if(c[b]){c[b].keys.each(function(e){this.removeEvent(b,e);},this);
delete c[b];}}return this;},fireEvent:function(e,c,b){var d=this.retrieve("events");if(!d||!d[e]){return this;}c=Array.from(c);d[e].keys.each(function(f){if(b){f.delay(b,this,c);
}else{f.apply(this,c);}},this);return this;},cloneEvents:function(e,d){e=document.id(e);var c=e.retrieve("events");if(!c){return this;}if(!d){for(var b in c){this.cloneEvents(e,b);
}}else{if(c[d]){c[d].keys.each(function(f){this.addEvent(d,f);},this);}}return this;}});Element.NativeEvents={click:2,dblclick:2,mouseup:2,mousedown:2,contextmenu:2,mousewheel:2,DOMMouseScroll:2,mouseover:2,mouseout:2,mousemove:2,selectstart:2,selectend:2,keydown:2,keypress:2,keyup:2,orientationchange:2,touchstart:2,touchmove:2,touchend:2,touchcancel:2,gesturestart:2,gesturechange:2,gestureend:2,focus:2,blur:2,change:2,reset:2,select:2,submit:2,load:2,unload:1,beforeunload:2,resize:1,move:1,DOMContentLoaded:1,readystatechange:1,error:1,abort:1,scroll:1};
var a=function(b){var c=b.relatedTarget;if(c==null){return true;}if(!c){return false;}return(c!=this&&c.prefix!="xul"&&typeOf(this)!="document"&&!this.contains(c));
};Element.Events={mouseenter:{base:"mouseover",condition:a},mouseleave:{base:"mouseout",condition:a},mousewheel:{base:(Browser.firefox)?"DOMMouseScroll":"mousewheel"}};
Element.Events=new Hash(Element.Events);})();(function(){var h=document.createElement("div"),e=document.createElement("div");h.style.height="0";h.appendChild(e);
var d=(e.offsetParent===h);h=e=null;var l=function(m){return k(m,"position")!="static"||a(m);};var i=function(m){return l(m)||(/^(?:table|td|th)$/i).test(m.tagName);
};Element.implement({scrollTo:function(m,n){if(a(this)){this.getWindow().scrollTo(m,n);}else{this.scrollLeft=m;this.scrollTop=n;}return this;},getSize:function(){if(a(this)){return this.getWindow().getSize();
}return{x:this.offsetWidth,y:this.offsetHeight};},getScrollSize:function(){if(a(this)){return this.getWindow().getScrollSize();}return{x:this.scrollWidth,y:this.scrollHeight};
},getScroll:function(){if(a(this)){return this.getWindow().getScroll();}return{x:this.scrollLeft,y:this.scrollTop};},getScrolls:function(){var n=this.parentNode,m={x:0,y:0};
while(n&&!a(n)){m.x+=n.scrollLeft;m.y+=n.scrollTop;n=n.parentNode;}return m;},getOffsetParent:d?function(){var m=this;if(a(m)||k(m,"position")=="fixed"){return null;
}var n=(k(m,"position")=="static")?i:l;while((m=m.parentNode)){if(n(m)){return m;}}return null;}:function(){var m=this;if(a(m)||k(m,"position")=="fixed"){return null;
}try{return m.offsetParent;}catch(n){}return null;},getOffsets:function(){if(this.getBoundingClientRect&&!Browser.Platform.ios){var r=this.getBoundingClientRect(),o=document.id(this.getDocument().documentElement),q=o.getScroll(),t=this.getScrolls(),s=(k(this,"position")=="fixed");
return{x:r.left.toInt()+t.x+((s)?0:q.x)-o.clientLeft,y:r.top.toInt()+t.y+((s)?0:q.y)-o.clientTop};}var n=this,m={x:0,y:0};if(a(this)){return m;}while(n&&!a(n)){m.x+=n.offsetLeft;
m.y+=n.offsetTop;if(Browser.firefox){if(!c(n)){m.x+=b(n);m.y+=g(n);}var p=n.parentNode;if(p&&k(p,"overflow")!="visible"){m.x+=b(p);m.y+=g(p);}}else{if(n!=this&&Browser.safari){m.x+=b(n);
m.y+=g(n);}}n=n.offsetParent;}if(Browser.firefox&&!c(this)){m.x-=b(this);m.y-=g(this);}return m;},getPosition:function(p){if(a(this)){return{x:0,y:0};}var q=this.getOffsets(),n=this.getScrolls();
var m={x:q.x-n.x,y:q.y-n.y};if(p&&(p=document.id(p))){var o=p.getPosition();return{x:m.x-o.x-b(p),y:m.y-o.y-g(p)};}return m;},getCoordinates:function(o){if(a(this)){return this.getWindow().getCoordinates();
}var m=this.getPosition(o),n=this.getSize();var p={left:m.x,top:m.y,width:n.x,height:n.y};p.right=p.left+p.width;p.bottom=p.top+p.height;return p;},computePosition:function(m){return{left:m.x-j(this,"margin-left"),top:m.y-j(this,"margin-top")};
},setPosition:function(m){return this.setStyles(this.computePosition(m));}});[Document,Window].invoke("implement",{getSize:function(){var m=f(this);return{x:m.clientWidth,y:m.clientHeight};
},getScroll:function(){var n=this.getWindow(),m=f(this);return{x:n.pageXOffset||m.scrollLeft,y:n.pageYOffset||m.scrollTop};},getScrollSize:function(){var o=f(this),n=this.getSize(),m=this.getDocument().body;
return{x:Math.max(o.scrollWidth,m.scrollWidth,n.x),y:Math.max(o.scrollHeight,m.scrollHeight,n.y)};},getPosition:function(){return{x:0,y:0};},getCoordinates:function(){var m=this.getSize();
return{top:0,left:0,bottom:m.y,right:m.x,height:m.y,width:m.x};}});var k=Element.getComputedStyle;function j(m,n){return k(m,n).toInt()||0;}function c(m){return k(m,"-moz-box-sizing")=="border-box";
}function g(m){return j(m,"border-top-width");}function b(m){return j(m,"border-left-width");}function a(m){return(/^(?:body|html)$/i).test(m.tagName);
}function f(m){var n=m.getDocument();return(!n.compatMode||n.compatMode=="CSS1Compat")?n.html:n.body;}})();Element.alias({position:"setPosition"});[Window,Document,Element].invoke("implement",{getHeight:function(){return this.getSize().y;
},getWidth:function(){return this.getSize().x;},getScrollTop:function(){return this.getScroll().y;},getScrollLeft:function(){return this.getScroll().x;
},getScrollHeight:function(){return this.getScrollSize().y;},getScrollWidth:function(){return this.getScrollSize().x;},getTop:function(){return this.getPosition().y;
},getLeft:function(){return this.getPosition().x;}});(function(){var f=this.Fx=new Class({Implements:[Chain,Events,Options],options:{fps:60,unit:false,duration:500,frames:null,frameSkip:true,link:"ignore"},initialize:function(g){this.subject=this.subject||this;
this.setOptions(g);},getTransition:function(){return function(g){return -(Math.cos(Math.PI*g)-1)/2;};},step:function(g){if(this.options.frameSkip){var h=(this.time!=null)?(g-this.time):0,i=h/this.frameInterval;
this.time=g;this.frame+=i;}else{this.frame++;}if(this.frame<this.frames){var j=this.transition(this.frame/this.frames);this.set(this.compute(this.from,this.to,j));
}else{this.frame=this.frames;this.set(this.compute(this.from,this.to,1));this.stop();}},set:function(g){return g;},compute:function(i,h,g){return f.compute(i,h,g);
},check:function(){if(!this.isRunning()){return true;}switch(this.options.link){case"cancel":this.cancel();return true;case"chain":this.chain(this.caller.pass(arguments,this));
return false;}return false;},start:function(k,j){if(!this.check(k,j)){return this;}this.from=k;this.to=j;this.frame=(this.options.frameSkip)?0:-1;this.time=null;
this.transition=this.getTransition();var i=this.options.frames,h=this.options.fps,g=this.options.duration;this.duration=f.Durations[g]||g.toInt();this.frameInterval=1000/h;
this.frames=i||Math.round(this.duration/this.frameInterval);this.fireEvent("start",this.subject);b.call(this,h);return this;},stop:function(){if(this.isRunning()){this.time=null;
d.call(this,this.options.fps);if(this.frames==this.frame){this.fireEvent("complete",this.subject);if(!this.callChain()){this.fireEvent("chainComplete",this.subject);
}}else{this.fireEvent("stop",this.subject);}}return this;},cancel:function(){if(this.isRunning()){this.time=null;d.call(this,this.options.fps);this.frame=this.frames;
this.fireEvent("cancel",this.subject).clearChain();}return this;},pause:function(){if(this.isRunning()){this.time=null;d.call(this,this.options.fps);}return this;
},resume:function(){if((this.frame<this.frames)&&!this.isRunning()){b.call(this,this.options.fps);}return this;},isRunning:function(){var g=e[this.options.fps];
return g&&g.contains(this);}});f.compute=function(i,h,g){return(h-i)*g+i;};f.Durations={"short":250,normal:500,"long":1000};var e={},c={};var a=function(){var h=Date.now();
for(var j=this.length;j--;){var g=this[j];if(g){g.step(h);}}};var b=function(h){var g=e[h]||(e[h]=[]);g.push(this);if(!c[h]){c[h]=a.periodical(Math.round(1000/h),g);
}};var d=function(h){var g=e[h];if(g){g.erase(this);if(!g.length&&c[h]){delete e[h];c[h]=clearInterval(c[h]);}}};})();Fx.CSS=new Class({Extends:Fx,prepare:function(c,d,b){b=Array.from(b);
if(b[1]==null){b[1]=b[0];b[0]=c.getStyle(d);}var a=b.map(this.parse);return{from:a[0],to:a[1]};},parse:function(a){a=Function.from(a)();a=(typeof a=="string")?a.split(" "):Array.from(a);
return a.map(function(c){c=String(c);var b=false;Object.each(Fx.CSS.Parsers,function(f,e){if(b){return;}var d=f.parse(c);if(d||d===0){b={value:d,parser:f};
}});b=b||{value:c,parser:Fx.CSS.Parsers.String};return b;});},compute:function(d,c,b){var a=[];(Math.min(d.length,c.length)).times(function(e){a.push({value:d[e].parser.compute(d[e].value,c[e].value,b),parser:d[e].parser});
});a.$family=Function.from("fx:css:value");return a;},serve:function(c,b){if(typeOf(c)!="fx:css:value"){c=this.parse(c);}var a=[];c.each(function(d){a=a.concat(d.parser.serve(d.value,b));
});return a;},render:function(a,d,c,b){a.setStyle(d,this.serve(c,b));},search:function(a){if(Fx.CSS.Cache[a]){return Fx.CSS.Cache[a];}var c={},b=new RegExp("^"+a.escapeRegExp()+"$");
Array.each(document.styleSheets,function(f,e){var d=f.href;if(d&&d.contains("://")&&!d.contains(document.domain)){return;}var g=f.rules||f.cssRules;Array.each(g,function(k,h){if(!k.style){return;
}var j=(k.selectorText)?k.selectorText.replace(/^\w+/,function(i){return i.toLowerCase();}):null;if(!j||!b.test(j)){return;}Object.each(Element.Styles,function(l,i){if(!k.style[i]||Element.ShortStyles[i]){return;
}l=String(k.style[i]);c[i]=((/^rgb/).test(l))?l.rgbToHex():l;});});});return Fx.CSS.Cache[a]=c;}});Fx.CSS.Cache={};Fx.CSS.Parsers={Color:{parse:function(a){if(a.match(/^#[0-9a-f]{3,6}$/i)){return a.hexToRgb(true);
}return((a=a.match(/(\d+),\s*(\d+),\s*(\d+)/)))?[a[1],a[2],a[3]]:false;},compute:function(c,b,a){return c.map(function(e,d){return Math.round(Fx.compute(c[d],b[d],a));
});},serve:function(a){return a.map(Number);}},Number:{parse:parseFloat,compute:Fx.compute,serve:function(b,a){return(a)?b+a:b;}},String:{parse:Function.from(false),compute:function(b,a){return a;
},serve:function(a){return a;}}};Fx.CSS.Parsers=new Hash(Fx.CSS.Parsers);Fx.Tween=new Class({Extends:Fx.CSS,initialize:function(b,a){this.element=this.subject=document.id(b);
this.parent(a);},set:function(b,a){if(arguments.length==1){a=b;b=this.property||this.options.property;}this.render(this.element,b,a,this.options.unit);
return this;},start:function(c,e,d){if(!this.check(c,e,d)){return this;}var b=Array.flatten(arguments);this.property=this.options.property||b.shift();var a=this.prepare(this.element,this.property,b);
return this.parent(a.from,a.to);}});Element.Properties.tween={set:function(a){this.get("tween").cancel().setOptions(a);return this;},get:function(){var a=this.retrieve("tween");
if(!a){a=new Fx.Tween(this,{link:"cancel"});this.store("tween",a);}return a;}};Element.implement({tween:function(a,c,b){this.get("tween").start(arguments);
return this;},fade:function(c){var e=this.get("tween"),d="opacity",a;c=[c,"toggle"].pick();switch(c){case"in":e.start(d,1);break;case"out":e.start(d,0);
break;case"show":e.set(d,1);break;case"hide":e.set(d,0);break;case"toggle":var b=this.retrieve("fade:flag",this.get("opacity")==1);e.start(d,(b)?0:1);this.store("fade:flag",!b);
a=true;break;default:e.start(d,arguments);}if(!a){this.eliminate("fade:flag");}return this;},highlight:function(c,a){if(!a){a=this.retrieve("highlight:original",this.getStyle("background-color"));
a=(a=="transparent")?"#fff":a;}var b=this.get("tween");b.start("background-color",c||"#ffff88",a).chain(function(){this.setStyle("background-color",this.retrieve("highlight:original"));
b.callChain();}.bind(this));return this;}});Fx.Morph=new Class({Extends:Fx.CSS,initialize:function(b,a){this.element=this.subject=document.id(b);this.parent(a);
},set:function(a){if(typeof a=="string"){a=this.search(a);}for(var b in a){this.render(this.element,b,a[b],this.options.unit);}return this;},compute:function(e,d,c){var a={};
for(var b in e){a[b]=this.parent(e[b],d[b],c);}return a;},start:function(b){if(!this.check(b)){return this;}if(typeof b=="string"){b=this.search(b);}var e={},d={};
for(var c in b){var a=this.prepare(this.element,c,b[c]);e[c]=a.from;d[c]=a.to;}return this.parent(e,d);}});Element.Properties.morph={set:function(a){this.get("morph").cancel().setOptions(a);
return this;},get:function(){var a=this.retrieve("morph");if(!a){a=new Fx.Morph(this,{link:"cancel"});this.store("morph",a);}return a;}};Element.implement({morph:function(a){this.get("morph").start(a);
return this;}});Fx.implement({getTransition:function(){var a=this.options.transition||Fx.Transitions.Sine.easeInOut;if(typeof a=="string"){var b=a.split(":");
a=Fx.Transitions;a=a[b[0]]||a[b[0].capitalize()];if(b[1]){a=a["ease"+b[1].capitalize()+(b[2]?b[2].capitalize():"")];}}return a;}});Fx.Transition=function(c,b){b=Array.from(b);
var a=function(d){return c(d,b);};return Object.append(a,{easeIn:a,easeOut:function(d){return 1-c(1-d,b);},easeInOut:function(d){return(d<=0.5?c(2*d,b):(2-c(2*(1-d),b)))/2;
}});};Fx.Transitions={linear:function(a){return a;}};Fx.Transitions=new Hash(Fx.Transitions);Fx.Transitions.extend=function(a){for(var b in a){Fx.Transitions[b]=new Fx.Transition(a[b]);
}};Fx.Transitions.extend({Pow:function(b,a){return Math.pow(b,a&&a[0]||6);},Expo:function(a){return Math.pow(2,8*(a-1));},Circ:function(a){return 1-Math.sin(Math.acos(a));
},Sine:function(a){return 1-Math.cos(a*Math.PI/2);},Back:function(b,a){a=a&&a[0]||1.618;return Math.pow(b,2)*((a+1)*b-a);},Bounce:function(f){var e;for(var d=0,c=1;
1;d+=c,c/=2){if(f>=(7-4*d)/11){e=c*c-Math.pow((11-6*d-11*f)/4,2);break;}}return e;},Elastic:function(b,a){return Math.pow(2,10*--b)*Math.cos(20*b*Math.PI*(a&&a[0]||1)/3);
}});["Quad","Cubic","Quart","Quint"].each(function(b,a){Fx.Transitions[b]=new Fx.Transition(function(c){return Math.pow(c,a+2);});});(function(){var d=function(){},a=("onprogress" in new Browser.Request);
var c=this.Request=new Class({Implements:[Chain,Events,Options],options:{url:"",data:"",headers:{"X-Requested-With":"XMLHttpRequest",Accept:"text/javascript, text/html, application/xml, text/xml, */*"},async:true,format:false,method:"post",link:"ignore",isSuccess:null,emulation:true,urlEncoded:true,encoding:"utf-8",evalScripts:false,evalResponse:false,timeout:0,noCache:false},initialize:function(e){this.xhr=new Browser.Request();
this.setOptions(e);this.headers=this.options.headers;},onStateChange:function(){var e=this.xhr;if(e.readyState!=4||!this.running){return;}this.running=false;
this.status=0;Function.attempt(function(){var f=e.status;this.status=(f==1223)?204:f;}.bind(this));e.onreadystatechange=d;if(a){e.onprogress=e.onloadstart=d;
}clearTimeout(this.timer);this.response={text:this.xhr.responseText||"",xml:this.xhr.responseXML};if(this.options.isSuccess.call(this,this.status)){this.success(this.response.text,this.response.xml);
}else{this.failure();}},isSuccess:function(){var e=this.status;return(e>=200&&e<300);},isRunning:function(){return !!this.running;},processScripts:function(e){if(this.options.evalResponse||(/(ecma|java)script/).test(this.getHeader("Content-type"))){return Browser.exec(e);
}return e.stripScripts(this.options.evalScripts);},success:function(f,e){this.onSuccess(this.processScripts(f),e);},onSuccess:function(){this.fireEvent("complete",arguments).fireEvent("success",arguments).callChain();
},failure:function(){this.onFailure();},onFailure:function(){this.fireEvent("complete").fireEvent("failure",this.xhr);},loadstart:function(e){this.fireEvent("loadstart",[e,this.xhr]);
},progress:function(e){this.fireEvent("progress",[e,this.xhr]);},timeout:function(){this.fireEvent("timeout",this.xhr);},setHeader:function(e,f){this.headers[e]=f;
return this;},getHeader:function(e){return Function.attempt(function(){return this.xhr.getResponseHeader(e);}.bind(this));},check:function(){if(!this.running){return true;
}switch(this.options.link){case"cancel":this.cancel();return true;case"chain":this.chain(this.caller.pass(arguments,this));return false;}return false;},send:function(o){if(!this.check(o)){return this;
}this.options.isSuccess=this.options.isSuccess||this.isSuccess;this.running=true;var l=typeOf(o);if(l=="string"||l=="element"){o={data:o};}var h=this.options;
o=Object.append({data:h.data,url:h.url,method:h.method},o);var j=o.data,f=String(o.url),e=o.method.toLowerCase();switch(typeOf(j)){case"element":j=document.id(j).toQueryString();
break;case"object":case"hash":j=Object.toQueryString(j);}if(this.options.format){var m="format="+this.options.format;j=(j)?m+"&"+j:m;}if(this.options.emulation&&!["get","post"].contains(e)){var k="_method="+e;
j=(j)?k+"&"+j:k;e="post";}if(this.options.urlEncoded&&["post","put"].contains(e)){var g=(this.options.encoding)?"; charset="+this.options.encoding:"";this.headers["Content-type"]="application/x-www-form-urlencoded"+g;
}if(!f){f=document.location.pathname;}var i=f.lastIndexOf("/");if(i>-1&&(i=f.indexOf("#"))>-1){f=f.substr(0,i);}if(this.options.noCache){f+=(f.contains("?")?"&":"?")+String.uniqueID();
}if(j&&e=="get"){f+=(f.contains("?")?"&":"?")+j;j=null;}var n=this.xhr;if(a){n.onloadstart=this.loadstart.bind(this);n.onprogress=this.progress.bind(this);
}n.open(e.toUpperCase(),f,this.options.async,this.options.user,this.options.password);if(this.options.user&&"withCredentials" in n){n.withCredentials=true;
}n.onreadystatechange=this.onStateChange.bind(this);Object.each(this.headers,function(q,p){try{n.setRequestHeader(p,q);}catch(r){this.fireEvent("exception",[p,q]);
}},this);this.fireEvent("request");n.send(j);if(!this.options.async){this.onStateChange();}if(this.options.timeout){this.timer=this.timeout.delay(this.options.timeout,this);
}return this;},cancel:function(){if(!this.running){return this;}this.running=false;var e=this.xhr;e.abort();clearTimeout(this.timer);e.onreadystatechange=d;
if(a){e.onprogress=e.onloadstart=d;}this.xhr=new Browser.Request();this.fireEvent("cancel");return this;}});var b={};["get","post","put","delete","GET","POST","PUT","DELETE"].each(function(e){b[e]=function(g){var f={method:e};
if(g!=null){f.data=g;}return this.send(f);};});c.implement(b);Element.Properties.send={set:function(e){var f=this.get("send").cancel();f.setOptions(e);
return this;},get:function(){var e=this.retrieve("send");if(!e){e=new c({data:this,link:"cancel",method:this.get("method")||"post",url:this.get("action")});
this.store("send",e);}return e;}};Element.implement({send:function(e){var f=this.get("send");f.send({data:this,url:e||f.options.url});return this;}});})();
Request.HTML=new Class({Extends:Request,options:{update:false,append:false,evalScripts:true,filter:false,headers:{Accept:"text/html, application/xml, text/xml, */*"}},success:function(e){var d=this.options,b=this.response;
b.html=e.stripScripts(function(f){b.javascript=f;});var c=b.html.match(/<body[^>]*>([\s\S]*?)<\/body>/i);if(c){b.html=c[1];}var a=new Element("div").set("html",b.html);
b.tree=a.childNodes;b.elements=a.getElements("*");if(d.filter){b.tree=b.elements.filter(d.filter);}if(d.update){document.id(d.update).empty().set("html",b.html);
}else{if(d.append){document.id(d.append).adopt(a.getChildren());}}if(d.evalScripts){Browser.exec(b.javascript);}this.onSuccess(b.tree,b.elements,b.html,b.javascript);
}});Element.Properties.load={set:function(a){var b=this.get("load").cancel();b.setOptions(a);return this;},get:function(){var a=this.retrieve("load");if(!a){a=new Request.HTML({data:this,link:"cancel",update:this,method:"get"});
this.store("load",a);}return a;}};Element.implement({load:function(){this.get("load").send(Array.link(arguments,{data:Type.isObject,url:Type.isString}));
return this;}});if(typeof JSON=="undefined"){this.JSON={};}JSON=new Hash({stringify:JSON.stringify,parse:JSON.parse});(function(){var special={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};
var escape=function(chr){return special[chr]||"\\u"+("0000"+chr.charCodeAt(0).toString(16)).slice(-4);};JSON.validate=function(string){string=string.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"");
return(/^[\],:{}\s]*$/).test(string);};JSON.encode=JSON.stringify?function(obj){return JSON.stringify(obj);}:function(obj){if(obj&&obj.toJSON){obj=obj.toJSON();
}switch(typeOf(obj)){case"string":return'"'+obj.replace(/[\x00-\x1f\\"]/g,escape)+'"';case"array":return"["+obj.map(JSON.encode).clean()+"]";case"object":case"hash":var string=[];
Object.each(obj,function(value,key){var json=JSON.encode(value);if(json){string.push(JSON.encode(key)+":"+json);}});return"{"+string+"}";case"number":case"boolean":return""+obj;
case"null":return"null";}return null;};JSON.decode=function(string,secure){if(!string||typeOf(string)!="string"){return null;}if(secure||JSON.secure){if(JSON.parse){return JSON.parse(string);
}if(!JSON.validate(string)){throw new Error("JSON could not decode the input; security is enabled and the value is not secure.");}}return eval("("+string+")");
};})();Request.JSON=new Class({Extends:Request,options:{secure:true},initialize:function(a){this.parent(a);Object.append(this.headers,{Accept:"application/json","X-Request":"JSON"});
},success:function(c){var b;try{b=this.response.json=JSON.decode(c,this.options.secure);}catch(a){this.fireEvent("error",[c,a]);return;}if(b==null){this.onFailure();
}else{this.onSuccess(b,c);}}});var Cookie=new Class({Implements:Options,options:{path:"/",domain:false,duration:false,secure:false,document:document,encode:true},initialize:function(b,a){this.key=b;
this.setOptions(a);},write:function(b){if(this.options.encode){b=encodeURIComponent(b);}if(this.options.domain){b+="; domain="+this.options.domain;}if(this.options.path){b+="; path="+this.options.path;
}if(this.options.duration){var a=new Date();a.setTime(a.getTime()+this.options.duration*24*60*60*1000);b+="; expires="+a.toGMTString();}if(this.options.secure){b+="; secure";
}this.options.document.cookie=this.key+"="+b;return this;},read:function(){var a=this.options.document.cookie.match("(?:^|;)\\s*"+this.key.escapeRegExp()+"=([^;]*)");
return(a)?decodeURIComponent(a[1]):null;},dispose:function(){new Cookie(this.key,Object.merge({},this.options,{duration:-1})).write("");return this;}});
Cookie.write=function(b,c,a){return new Cookie(b,a).write(c);};Cookie.read=function(a){return new Cookie(a).read();};Cookie.dispose=function(b,a){return new Cookie(b,a).dispose();
};(function(i,k){var l,f,e=[],c,b,d=k.createElement("div");var g=function(){clearTimeout(b);if(l){return;}Browser.loaded=l=true;k.removeListener("DOMContentLoaded",g).removeListener("readystatechange",a);
k.fireEvent("domready");i.fireEvent("domready");};var a=function(){for(var m=e.length;m--;){if(e[m]()){g();return true;}}return false;};var j=function(){clearTimeout(b);
if(!a()){b=setTimeout(j,10);}};k.addListener("DOMContentLoaded",g);var h=function(){try{d.doScroll();return true;}catch(m){}return false;};if(d.doScroll&&!h()){e.push(h);
c=true;}if(k.readyState){e.push(function(){var m=k.readyState;return(m=="loaded"||m=="complete");});}if("onreadystatechange" in k){k.addListener("readystatechange",a);
}else{c=true;}if(c){j();}Element.Events.domready={onAdd:function(m){if(l){m.call(this);}}};Element.Events.load={base:"load",onAdd:function(m){if(f&&this==i){m.call(this);
}},condition:function(){if(this==i){g();delete Element.Events.load;}return true;}};i.addEvent("load",function(){f=true;});})(window,document);(function(){var Swiff=this.Swiff=new Class({Implements:Options,options:{id:null,height:1,width:1,container:null,properties:{},params:{quality:"high",allowScriptAccess:"always",wMode:"window",swLiveConnect:true},callBacks:{},vars:{}},toElement:function(){return this.object;
},initialize:function(path,options){this.instance="Swiff_"+String.uniqueID();this.setOptions(options);options=this.options;var id=this.id=options.id||this.instance;
var container=document.id(options.container);Swiff.CallBacks[this.instance]={};var params=options.params,vars=options.vars,callBacks=options.callBacks;
var properties=Object.append({height:options.height,width:options.width},options.properties);var self=this;for(var callBack in callBacks){Swiff.CallBacks[this.instance][callBack]=(function(option){return function(){return option.apply(self.object,arguments);
};})(callBacks[callBack]);vars[callBack]="Swiff.CallBacks."+this.instance+"."+callBack;}params.flashVars=Object.toQueryString(vars);if(Browser.ie){properties.classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000";
params.movie=path;}else{properties.type="application/x-shockwave-flash";}properties.data=path;var build='<object id="'+id+'"';for(var property in properties){build+=" "+property+'="'+properties[property]+'"';
}build+=">";for(var param in params){if(params[param]){build+='<param name="'+param+'" value="'+params[param]+'" />';}}build+="</object>";this.object=((container)?container.empty():new Element("div")).set("html",build).firstChild;
},replaces:function(element){element=document.id(element,true);element.parentNode.replaceChild(this.toElement(),element);return this;},inject:function(element){document.id(element,true).appendChild(this.toElement());
return this;},remote:function(){return Swiff.remote.apply(Swiff,[this.toElement()].append(arguments));}});Swiff.CallBacks={};Swiff.remote=function(obj,fn){var rs=obj.CallFunction('<invoke name="'+fn+'" returntype="javascript">'+__flash__argumentsToXML(arguments,2)+"</invoke>");
return eval(rs);};})();

/*
	Copyright (c) 2004-2011, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is an optimized version of Dojo, built for deployment and not for
	development. To get sources and documentation, please visit:

		http://dojotoolkit.org
*/

(function(){var _1=null;if((_1||(typeof djConfig!="undefined"&&djConfig.scopeMap))&&(typeof window!="undefined")){var _2="",_3="",_4="",_5={},_6={};_1=_1||djConfig.scopeMap;for(var i=0;i<_1.length;i++){var _7=_1[i];_2+="var "+_7[0]+" = {}; "+_7[1]+" = "+_7[0]+";"+_7[1]+"._scopeName = '"+_7[1]+"';";_3+=(i==0?"":",")+_7[0];_4+=(i==0?"":",")+_7[1];_5[_7[0]]=_7[1];_6[_7[1]]=_7[0];}eval(_2+"dojo._scopeArgs = ["+_4+"];");dojo._scopePrefixArgs=_3;dojo._scopePrefix="(function("+_3+"){";dojo._scopeSuffix="})("+_4+")";dojo._scopeMap=_5;dojo._scopeMapRev=_6;}(function(){if(typeof this["loadFirebugConsole"]=="function"){this["loadFirebugConsole"]();}else{this.console=this.console||{};var cn=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];var i=0,tn;while((tn=cn[i++])){if(!console[tn]){(function(){var _8=tn+"";console[_8]=("log" in console)?function(){var a=Array.apply({},arguments);a.unshift(_8+":");console["log"](a.join(" "));}:function(){};console[_8]._fake=true;})();}}}if(typeof dojo=="undefined"){dojo={_scopeName:"dojo",_scopePrefix:"",_scopePrefixArgs:"",_scopeSuffix:"",_scopeMap:{},_scopeMapRev:{}};}var d=dojo;if(typeof dijit=="undefined"){dijit={_scopeName:"dijit"};}if(typeof dojox=="undefined"){dojox={_scopeName:"dojox"};}if(!d._scopeArgs){d._scopeArgs=[dojo,dijit,dojox];}d.global=this;d.config={isDebug:false,debugAtAllCosts:false};var _9=typeof djConfig!="undefined"?djConfig:typeof dojoConfig!="undefined"?dojoConfig:null;if(_9){for(var c in _9){d.config[c]=_9[c];}}dojo.locale=d.config.locale;var _a="$Rev: 24595 $".match(/\d+/);dojo.version={major:1,minor:6,patch:1,flag:"",revision:_a?+_a[0]:NaN,toString:function(){with(d.version){return major+"."+minor+"."+patch+flag+" ("+revision+")";}}};if(typeof OpenAjax!="undefined"){OpenAjax.hub.registerLibrary(dojo._scopeName,"http://dojotoolkit.org",d.version.toString());}var _b,_c,_d={};for(var i in {toString:1}){_b=[];break;}dojo._extraNames=_b=_b||["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"];_c=_b.length;dojo._mixin=function(_e,_f){var _10,s,i;for(_10 in _f){s=_f[_10];if(!(_10 in _e)||(_e[_10]!==s&&(!(_10 in _d)||_d[_10]!==s))){_e[_10]=s;}}if(_c&&_f){for(i=0;i<_c;++i){_10=_b[i];s=_f[_10];if(!(_10 in _e)||(_e[_10]!==s&&(!(_10 in _d)||_d[_10]!==s))){_e[_10]=s;}}}return _e;};dojo.mixin=function(obj,_11){if(!obj){obj={};}for(var i=1,l=arguments.length;i<l;i++){d._mixin(obj,arguments[i]);}return obj;};dojo._getProp=function(_12,_13,_14){var obj=_14||d.global;for(var i=0,p;obj&&(p=_12[i]);i++){if(i==0&&d._scopeMap[p]){p=d._scopeMap[p];}obj=(p in obj?obj[p]:(_13?obj[p]={}:undefined));}return obj;};dojo.setObject=function(_15,_16,_17){var _18=_15.split("."),p=_18.pop(),obj=d._getProp(_18,true,_17);return obj&&p?(obj[p]=_16):undefined;};dojo.getObject=function(_19,_1a,_1b){return d._getProp(_19.split("."),_1a,_1b);};dojo.exists=function(_1c,obj){return d.getObject(_1c,false,obj)!==undefined;};dojo["eval"]=function(_1d){return d.global.eval?d.global.eval(_1d):eval(_1d);};d.deprecated=d.experimental=function(){};})();(function(){var d=dojo,_1e;d.mixin(d,{_loadedModules:{},_inFlightCount:0,_hasResource:{},_modulePrefixes:{dojo:{name:"dojo",value:"."},doh:{name:"doh",value:"../util/doh"},tests:{name:"tests",value:"tests"}},_moduleHasPrefix:function(_1f){var mp=d._modulePrefixes;return !!(mp[_1f]&&mp[_1f].value);},_getModulePrefix:function(_20){var mp=d._modulePrefixes;if(d._moduleHasPrefix(_20)){return mp[_20].value;}return _20;},_loadedUrls:[],_postLoad:false,_loaders:[],_unloaders:[],_loadNotifying:false});dojo._loadPath=function(_21,_22,cb){var uri=((_21.charAt(0)=="/"||_21.match(/^\w+:/))?"":d.baseUrl)+_21;try{_1e=_22;return !_22?d._loadUri(uri,cb):d._loadUriAndCheck(uri,_22,cb);}catch(e){console.error(e);return false;}finally{_1e=null;}};dojo._loadUri=function(uri,cb){if(d._loadedUrls[uri]){return true;}d._inFlightCount++;var _23=d._getText(uri,true);if(_23){d._loadedUrls[uri]=true;d._loadedUrls.push(uri);if(cb){_23=/^define\(/.test(_23)?_23:"("+_23+")";}else{_23=d._scopePrefix+_23+d._scopeSuffix;}if(!d.isIE){_23+="\r\n//@ sourceURL="+uri;}var _24=d["eval"](_23);if(cb){cb(_24);}}if(--d._inFlightCount==0&&d._postLoad&&d._loaders.length){setTimeout(function(){if(d._inFlightCount==0){d._callLoaded();}},0);}return !!_23;};dojo._loadUriAndCheck=function(uri,_25,cb){var ok=false;try{ok=d._loadUri(uri,cb);}catch(e){console.error("failed loading "+uri+" with error: "+e);}return !!(ok&&d._loadedModules[_25]);};dojo.loaded=function(){d._loadNotifying=true;d._postLoad=true;var mll=d._loaders;d._loaders=[];for(var x=0;x<mll.length;x++){mll[x]();}d._loadNotifying=false;if(d._postLoad&&d._inFlightCount==0&&mll.length){d._callLoaded();}};dojo.unloaded=function(){var mll=d._unloaders;while(mll.length){(mll.pop())();}};d._onto=function(arr,obj,fn){if(!fn){arr.push(obj);}else{if(fn){var _26=(typeof fn=="string")?obj[fn]:fn;arr.push(function(){_26.call(obj);});}}};dojo.ready=dojo.addOnLoad=function(obj,_27){d._onto(d._loaders,obj,_27);if(d._postLoad&&d._inFlightCount==0&&!d._loadNotifying){d._callLoaded();}};var dca=d.config.addOnLoad;if(dca){d.addOnLoad[(dca instanceof Array?"apply":"call")](d,dca);}dojo._modulesLoaded=function(){if(d._postLoad){return;}if(d._inFlightCount>0){console.warn("files still in flight!");return;}d._callLoaded();};dojo._callLoaded=function(){if(typeof setTimeout=="object"||(d.config.useXDomain&&d.isOpera)){setTimeout(d.isAIR?function(){d.loaded();}:d._scopeName+".loaded();",0);}else{d.loaded();}};dojo._getModuleSymbols=function(_28){var _29=_28.split(".");for(var i=_29.length;i>0;i--){var _2a=_29.slice(0,i).join(".");if(i==1&&!d._moduleHasPrefix(_2a)){_29[0]="../"+_29[0];}else{var _2b=d._getModulePrefix(_2a);if(_2b!=_2a){_29.splice(0,i,_2b);break;}}}return _29;};dojo._global_omit_module_check=false;dojo.loadInit=function(_2c){_2c();};dojo._loadModule=dojo.require=function(_2d,_2e){_2e=d._global_omit_module_check||_2e;var _2f=d._loadedModules[_2d];if(_2f){return _2f;}var _30=d._getModuleSymbols(_2d).join("/")+".js";var _31=!_2e?_2d:null;var ok=d._loadPath(_30,_31);if(!ok&&!_2e){throw new Error("Could not load '"+_2d+"'; last tried '"+_30+"'");}if(!_2e&&!d._isXDomain){_2f=d._loadedModules[_2d];if(!_2f){throw new Error("symbol '"+_2d+"' is not defined after loading '"+_30+"'");}}return _2f;};dojo.provide=function(_32){_32=_32+"";return (d._loadedModules[_32]=d.getObject(_32,true));};dojo.platformRequire=function(_33){var _34=_33.common||[];var _35=_34.concat(_33[d._name]||_33["default"]||[]);for(var x=0;x<_35.length;x++){var _36=_35[x];if(_36.constructor==Array){d._loadModule.apply(d,_36);}else{d._loadModule(_36);}}};dojo.requireIf=function(_37,_38){if(_37===true){var _39=[];for(var i=1;i<arguments.length;i++){_39.push(arguments[i]);}d.require.apply(d,_39);}};dojo.requireAfterIf=d.requireIf;dojo.registerModulePath=function(_3a,_3b){d._modulePrefixes[_3a]={name:_3a,value:_3b};};dojo.requireLocalization=function(_3c,_3d,_3e,_3f){d.require("dojo.i18n");d.i18n._requireLocalization.apply(d.hostenv,arguments);};var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");dojo._Url=function(){var n=null,_40=arguments,uri=[_40[0]];for(var i=1;i<_40.length;i++){if(!_40[i]){continue;}var _41=new d._Url(_40[i]+""),_42=new d._Url(uri[0]+"");if(_41.path==""&&!_41.scheme&&!_41.authority&&!_41.query){if(_41.fragment!=n){_42.fragment=_41.fragment;}_41=_42;}else{if(!_41.scheme){_41.scheme=_42.scheme;if(!_41.authority){_41.authority=_42.authority;if(_41.path.charAt(0)!="/"){var _43=_42.path.substring(0,_42.path.lastIndexOf("/")+1)+_41.path;var _44=_43.split("/");for(var j=0;j<_44.length;j++){if(_44[j]=="."){if(j==_44.length-1){_44[j]="";}else{_44.splice(j,1);j--;}}else{if(j>0&&!(j==1&&_44[0]=="")&&_44[j]==".."&&_44[j-1]!=".."){if(j==(_44.length-1)){_44.splice(j,1);_44[j-1]="";}else{_44.splice(j-1,2);j-=2;}}}}_41.path=_44.join("/");}}}}uri=[];if(_41.scheme){uri.push(_41.scheme,":");}if(_41.authority){uri.push("//",_41.authority);}uri.push(_41.path);if(_41.query){uri.push("?",_41.query);}if(_41.fragment){uri.push("#",_41.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};dojo._Url.prototype.toString=function(){return this.uri;};dojo.moduleUrl=function(_45,url){var loc=d._getModuleSymbols(_45).join("/");if(!loc){return null;}if(loc.lastIndexOf("/")!=loc.length-1){loc+="/";}var _46=loc.indexOf(":");if(loc.charAt(0)!="/"&&(_46==-1||_46>loc.indexOf("/"))){loc=d.baseUrl+loc;}return new d._Url(loc,url);};})();if(typeof window!="undefined"){dojo.isBrowser=true;dojo._name="browser";(function(){var d=dojo;if(document&&document.getElementsByTagName){var _47=document.getElementsByTagName("script");var _48=/dojo(\.xd)?\.js(\W|$)/i;for(var i=0;i<_47.length;i++){var src=_47[i].getAttribute("src");if(!src){continue;}var m=src.match(_48);if(m){if(!d.config.baseUrl){d.config.baseUrl=src.substring(0,m.index);}var cfg=(_47[i].getAttribute("djConfig")||_47[i].getAttribute("data-dojo-config"));if(cfg){var _49=eval("({ "+cfg+" })");for(var x in _49){dojo.config[x]=_49[x];}}break;}}}d.baseUrl=d.config.baseUrl;var n=navigator;var dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){d.isOpera=tv;}if(dua.indexOf("AdobeAIR")>=0){d.isAIR=1;}d.isKhtml=(dav.indexOf("Konqueror")>=0)?tv:0;d.isWebKit=parseFloat(dua.split("WebKit/")[1])||undefined;d.isChrome=parseFloat(dua.split("Chrome/")[1])||undefined;d.isMac=dav.indexOf("Macintosh")>=0;var _4a=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(_4a&&!dojo.isChrome){d.isSafari=parseFloat(dav.split("Version/")[1]);if(!d.isSafari||parseFloat(dav.substr(_4a+7))<=419.3){d.isSafari=2;}}if(dua.indexOf("Gecko")>=0&&!d.isKhtml&&!d.isWebKit){d.isMozilla=d.isMoz=tv;}if(d.isMoz){d.isFF=parseFloat(dua.split("Firefox/")[1]||dua.split("Minefield/")[1])||undefined;}if(document.all&&!d.isOpera){d.isIE=parseFloat(dav.split("MSIE ")[1])||undefined;var _4b=document.documentMode;if(_4b&&_4b!=5&&Math.floor(d.isIE)!=_4b){d.isIE=_4b;}}if(dojo.isIE&&window.location.protocol==="file:"){dojo.config.ieForceActiveXXhr=true;}d.isQuirks=document.compatMode=="BackCompat";d.locale=dojo.config.locale||(d.isIE?n.userLanguage:n.language).toLowerCase();d._XMLHTTP_PROGIDS=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];d._xhrObj=function(){var _4c,_4d;if(!dojo.isIE||!dojo.config.ieForceActiveXXhr){try{_4c=new XMLHttpRequest();}catch(e){}}if(!_4c){for(var i=0;i<3;++i){var _4e=d._XMLHTTP_PROGIDS[i];try{_4c=new ActiveXObject(_4e);}catch(e){_4d=e;}if(_4c){d._XMLHTTP_PROGIDS=[_4e];break;}}}if(!_4c){throw new Error("XMLHTTP not available: "+_4d);}return _4c;};d._isDocumentOk=function(_4f){var _50=_4f.status||0,lp=location.protocol;return (_50>=200&&_50<300)||_50==304||_50==1223||(!_50&&(lp=="file:"||lp=="chrome:"||lp=="chrome-extension:"||lp=="app:"));};var _51=window.location+"";var _52=document.getElementsByTagName("base");var _53=(_52&&_52.length>0);d._getText=function(uri,_54){var _55=d._xhrObj();if(!_53&&dojo._Url){uri=(new dojo._Url(_51,uri)).toString();}if(d.config.cacheBust){uri+="";uri+=(uri.indexOf("?")==-1?"?":"&")+String(d.config.cacheBust).replace(/\W+/g,"");}_55.open("GET",uri,false);try{_55.send(null);if(!d._isDocumentOk(_55)){var err=Error("Unable to load "+uri+" status:"+_55.status);err.status=_55.status;err.responseText=_55.responseText;throw err;}}catch(e){if(_54){return null;}throw e;}return _55.responseText;};var _56=window;var _57=function(_58,fp){var _59=_56.attachEvent||_56.addEventListener;_58=_56.attachEvent?_58:_58.substring(2);_59(_58,function(){fp.apply(_56,arguments);},false);};d._windowUnloaders=[];d.windowUnloaded=function(){var mll=d._windowUnloaders;while(mll.length){(mll.pop())();}d=null;};var _5a=0;d.addOnWindowUnload=function(obj,_5b){d._onto(d._windowUnloaders,obj,_5b);if(!_5a){_5a=1;_57("onunload",d.windowUnloaded);}};var _5c=0;d.addOnUnload=function(obj,_5d){d._onto(d._unloaders,obj,_5d);if(!_5c){_5c=1;_57("onbeforeunload",dojo.unloaded);}};})();dojo._initFired=false;dojo._loadInit=function(e){if(dojo._scrollIntervalId){clearInterval(dojo._scrollIntervalId);dojo._scrollIntervalId=0;}if(!dojo._initFired){dojo._initFired=true;if(!dojo.config.afterOnLoad&&window.detachEvent){window.detachEvent("onload",dojo._loadInit);}if(dojo._inFlightCount==0){dojo._modulesLoaded();}}};if(!dojo.config.afterOnLoad){if(document.addEventListener){document.addEventListener("DOMContentLoaded",dojo._loadInit,false);window.addEventListener("load",dojo._loadInit,false);}else{if(window.attachEvent){window.attachEvent("onload",dojo._loadInit);if(!dojo.config.skipIeDomLoaded&&self===self.top){dojo._scrollIntervalId=setInterval(function(){try{if(document.body){document.documentElement.doScroll("left");dojo._loadInit();}}catch(e){}},30);}}}}if(dojo.isIE){try{(function(){document.namespaces.add("v","urn:schemas-microsoft-com:vml");var _5e=["*","group","roundrect","oval","shape","rect","imagedata","path","textpath","text"],i=0,l=1,s=document.createStyleSheet();if(dojo.isIE>=8){i=1;l=_5e.length;}for(;i<l;++i){s.addRule("v\\:"+_5e[i],"behavior:url(#default#VML); display:inline-block");}})();}catch(e){}}}(function(){var mp=dojo.config["modulePaths"];if(mp){for(var _5f in mp){dojo.registerModulePath(_5f,mp[_5f]);}}})();if(dojo.config.isDebug){dojo.require("dojo._firebug.firebug");}if(dojo.config.debugAtAllCosts){dojo.require("dojo._base._loader.loader_debug");dojo.require("dojo.i18n");}if(!dojo._hasResource["dojo._base.lang"]){dojo._hasResource["dojo._base.lang"]=true;dojo.provide("dojo._base.lang");(function(){var d=dojo,_60=Object.prototype.toString;dojo.isString=function(it){return (typeof it=="string"||it instanceof String);};dojo.isArray=function(it){return it&&(it instanceof Array||typeof it=="array");};dojo.isFunction=function(it){return _60.call(it)==="[object Function]";};dojo.isObject=function(it){return it!==undefined&&(it===null||typeof it=="object"||d.isArray(it)||d.isFunction(it));};dojo.isArrayLike=function(it){return it&&it!==undefined&&!d.isString(it)&&!d.isFunction(it)&&!(it.tagName&&it.tagName.toLowerCase()=="form")&&(d.isArray(it)||isFinite(it.length));};dojo.isAlien=function(it){return it&&!d.isFunction(it)&&/\{\s*\[native code\]\s*\}/.test(String(it));};dojo.extend=function(_61,_62){for(var i=1,l=arguments.length;i<l;i++){d._mixin(_61.prototype,arguments[i]);}return _61;};dojo._hitchArgs=function(_63,_64){var pre=d._toArray(arguments,2);var _65=d.isString(_64);return function(){var _66=d._toArray(arguments);var f=_65?(_63||d.global)[_64]:_64;return f&&f.apply(_63||this,pre.concat(_66));};};dojo.hitch=function(_67,_68){if(arguments.length>2){return d._hitchArgs.apply(d,arguments);}if(!_68){_68=_67;_67=null;}if(d.isString(_68)){_67=_67||d.global;if(!_67[_68]){throw (["dojo.hitch: scope[\"",_68,"\"] is null (scope=\"",_67,"\")"].join(""));}return function(){return _67[_68].apply(_67,arguments||[]);};}return !_67?_68:function(){return _68.apply(_67,arguments||[]);};};dojo.delegate=dojo._delegate=(function(){function TMP(){};return function(obj,_69){TMP.prototype=obj;var tmp=new TMP();TMP.prototype=null;if(_69){d._mixin(tmp,_69);}return tmp;};})();var _6a=function(obj,_6b,_6c){return (_6c||[]).concat(Array.prototype.slice.call(obj,_6b||0));};var _6d=function(obj,_6e,_6f){var arr=_6f||[];for(var x=_6e||0;x<obj.length;x++){arr.push(obj[x]);}return arr;};dojo._toArray=d.isIE?function(obj){return ((obj.item)?_6d:_6a).apply(this,arguments);}:_6a;dojo.partial=function(_70){var arr=[null];return d.hitch.apply(d,arr.concat(d._toArray(arguments)));};var _71=d._extraNames,_72=_71.length,_73={};dojo.clone=function(o){if(!o||typeof o!="object"||d.isFunction(o)){return o;}if(o.nodeType&&"cloneNode" in o){return o.cloneNode(true);}if(o instanceof Date){return new Date(o.getTime());}if(o instanceof RegExp){return new RegExp(o);}var r,i,l,s,_74;if(d.isArray(o)){r=[];for(i=0,l=o.length;i<l;++i){if(i in o){r.push(d.clone(o[i]));}}}else{r=o.constructor?new o.constructor():{};}for(_74 in o){s=o[_74];if(!(_74 in r)||(r[_74]!==s&&(!(_74 in _73)||_73[_74]!==s))){r[_74]=d.clone(s);}}if(_72){for(i=0;i<_72;++i){_74=_71[i];s=o[_74];if(!(_74 in r)||(r[_74]!==s&&(!(_74 in _73)||_73[_74]!==s))){r[_74]=s;}}}return r;};dojo.trim=String.prototype.trim?function(str){return str.trim();}:function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");};var _75=/\{([^\}]+)\}/g;dojo.replace=function(_76,map,_77){return _76.replace(_77||_75,d.isFunction(map)?map:function(_78,k){return d.getObject(k,false,map);});};})();}if(!dojo._hasResource["dojo._base.array"]){dojo._hasResource["dojo._base.array"]=true;dojo.provide("dojo._base.array");(function(){var _79=function(arr,obj,cb){return [(typeof arr=="string")?arr.split(""):arr,obj||dojo.global,(typeof cb=="string")?new Function("item","index","array",cb):cb];};var _7a=function(_7b,arr,_7c,_7d){var _7e=_79(arr,_7d,_7c);arr=_7e[0];for(var i=0,l=arr.length;i<l;++i){var _7f=!!_7e[2].call(_7e[1],arr[i],i,arr);if(_7b^_7f){return _7f;}}return _7b;};dojo.mixin(dojo,{indexOf:function(_80,_81,_82,_83){var _84=1,end=_80.length||0,i=0;if(_83){i=end-1;_84=end=-1;}if(_82!=undefined){i=_82;}if((_83&&i>end)||i<end){for(;i!=end;i+=_84){if(_80[i]==_81){return i;}}}return -1;},lastIndexOf:function(_85,_86,_87){return dojo.indexOf(_85,_86,_87,true);},forEach:function(arr,_88,_89){if(!arr||!arr.length){return;}var _8a=_79(arr,_89,_88);arr=_8a[0];for(var i=0,l=arr.length;i<l;++i){_8a[2].call(_8a[1],arr[i],i,arr);}},every:function(arr,_8b,_8c){return _7a(true,arr,_8b,_8c);},some:function(arr,_8d,_8e){return _7a(false,arr,_8d,_8e);},map:function(arr,_8f,_90){var _91=_79(arr,_90,_8f);arr=_91[0];var _92=(arguments[3]?(new arguments[3]()):[]);for(var i=0,l=arr.length;i<l;++i){_92.push(_91[2].call(_91[1],arr[i],i,arr));}return _92;},filter:function(arr,_93,_94){var _95=_79(arr,_94,_93);arr=_95[0];var _96=[];for(var i=0,l=arr.length;i<l;++i){if(_95[2].call(_95[1],arr[i],i,arr)){_96.push(arr[i]);}}return _96;}});})();}if(!dojo._hasResource["dojo._base.declare"]){dojo._hasResource["dojo._base.declare"]=true;dojo.provide("dojo._base.declare");(function(){var d=dojo,mix=d._mixin,op=Object.prototype,_97=op.toString,_98=new Function,_99=0,_9a="constructor";function err(msg,cls){throw new Error("declare"+(cls?" "+cls:"")+": "+msg);};function _9b(_9c,_9d){var _9e=[],_9f=[{cls:0,refs:[]}],_a0={},_a1=1,l=_9c.length,i=0,j,lin,_a2,top,_a3,rec,_a4,_a5;for(;i<l;++i){_a2=_9c[i];if(!_a2){err("mixin #"+i+" is unknown. Did you use dojo.require to pull it in?",_9d);}else{if(_97.call(_a2)!="[object Function]"){err("mixin #"+i+" is not a callable constructor.",_9d);}}lin=_a2._meta?_a2._meta.bases:[_a2];top=0;for(j=lin.length-1;j>=0;--j){_a3=lin[j].prototype;if(!_a3.hasOwnProperty("declaredClass")){_a3.declaredClass="uniqName_"+(_99++);}_a4=_a3.declaredClass;if(!_a0.hasOwnProperty(_a4)){_a0[_a4]={count:0,refs:[],cls:lin[j]};++_a1;}rec=_a0[_a4];if(top&&top!==rec){rec.refs.push(top);++top.count;}top=rec;}++top.count;_9f[0].refs.push(top);}while(_9f.length){top=_9f.pop();_9e.push(top.cls);--_a1;while(_a5=top.refs,_a5.length==1){top=_a5[0];if(!top||--top.count){top=0;break;}_9e.push(top.cls);--_a1;}if(top){for(i=0,l=_a5.length;i<l;++i){top=_a5[i];if(!--top.count){_9f.push(top);}}}}if(_a1){err("can't build consistent linearization",_9d);}_a2=_9c[0];_9e[0]=_a2?_a2._meta&&_a2===_9e[_9e.length-_a2._meta.bases.length]?_a2._meta.bases.length:1:0;return _9e;};function _a6(_a7,a,f){var _a8,_a9,_aa,_ab,_ac,_ad,_ae,opf,pos,_af=this._inherited=this._inherited||{};if(typeof _a7=="string"){_a8=_a7;_a7=a;a=f;}f=0;_ab=_a7.callee;_a8=_a8||_ab.nom;if(!_a8){err("can't deduce a name to call inherited()",this.declaredClass);}_ac=this.constructor._meta;_aa=_ac.bases;pos=_af.p;if(_a8!=_9a){if(_af.c!==_ab){pos=0;_ad=_aa[0];_ac=_ad._meta;if(_ac.hidden[_a8]!==_ab){_a9=_ac.chains;if(_a9&&typeof _a9[_a8]=="string"){err("calling chained method with inherited: "+_a8,this.declaredClass);}do{_ac=_ad._meta;_ae=_ad.prototype;if(_ac&&(_ae[_a8]===_ab&&_ae.hasOwnProperty(_a8)||_ac.hidden[_a8]===_ab)){break;}}while(_ad=_aa[++pos]);pos=_ad?pos:-1;}}_ad=_aa[++pos];if(_ad){_ae=_ad.prototype;if(_ad._meta&&_ae.hasOwnProperty(_a8)){f=_ae[_a8];}else{opf=op[_a8];do{_ae=_ad.prototype;f=_ae[_a8];if(f&&(_ad._meta?_ae.hasOwnProperty(_a8):f!==opf)){break;}}while(_ad=_aa[++pos]);}}f=_ad&&f||op[_a8];}else{if(_af.c!==_ab){pos=0;_ac=_aa[0]._meta;if(_ac&&_ac.ctor!==_ab){_a9=_ac.chains;if(!_a9||_a9.constructor!=="manual"){err("calling chained constructor with inherited",this.declaredClass);}while(_ad=_aa[++pos]){_ac=_ad._meta;if(_ac&&_ac.ctor===_ab){break;}}pos=_ad?pos:-1;}}while(_ad=_aa[++pos]){_ac=_ad._meta;f=_ac?_ac.ctor:_ad;if(f){break;}}f=_ad&&f;}_af.c=f;_af.p=pos;if(f){return a===true?f:f.apply(this,a||_a7);}};function _b0(_b1,_b2){if(typeof _b1=="string"){return this.inherited(_b1,_b2,true);}return this.inherited(_b1,true);};function _b3(cls){var _b4=this.constructor._meta.bases;for(var i=0,l=_b4.length;i<l;++i){if(_b4[i]===cls){return true;}}return this instanceof cls;};function _b5(_b6,_b7){var _b8,i=0,l=d._extraNames.length;for(_b8 in _b7){if(_b8!=_9a&&_b7.hasOwnProperty(_b8)){_b6[_b8]=_b7[_b8];}}for(;i<l;++i){_b8=d._extraNames[i];if(_b8!=_9a&&_b7.hasOwnProperty(_b8)){_b6[_b8]=_b7[_b8];}}};function _b9(_ba,_bb){var _bc,t,i=0,l=d._extraNames.length;for(_bc in _bb){t=_bb[_bc];if((t!==op[_bc]||!(_bc in op))&&_bc!=_9a){if(_97.call(t)=="[object Function]"){t.nom=_bc;}_ba[_bc]=t;}}for(;i<l;++i){_bc=d._extraNames[i];t=_bb[_bc];if((t!==op[_bc]||!(_bc in op))&&_bc!=_9a){if(_97.call(t)=="[object Function]"){t.nom=_bc;}_ba[_bc]=t;}}return _ba;};function _bd(_be){_b9(this.prototype,_be);return this;};function _bf(_c0,_c1){return function(){var a=arguments,_c2=a,a0=a[0],f,i,m,l=_c0.length,_c3;if(!(this instanceof a.callee)){return _c4(a);}if(_c1&&(a0&&a0.preamble||this.preamble)){_c3=new Array(_c0.length);_c3[0]=a;for(i=0;;){a0=a[0];if(a0){f=a0.preamble;if(f){a=f.apply(this,a)||a;}}f=_c0[i].prototype;f=f.hasOwnProperty("preamble")&&f.preamble;if(f){a=f.apply(this,a)||a;}if(++i==l){break;}_c3[i]=a;}}for(i=l-1;i>=0;--i){f=_c0[i];m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,_c3?_c3[i]:a);}}f=this.postscript;if(f){f.apply(this,_c2);}};};function _c5(_c6,_c7){return function(){var a=arguments,t=a,a0=a[0],f;if(!(this instanceof a.callee)){return _c4(a);}if(_c7){if(a0){f=a0.preamble;if(f){t=f.apply(this,t)||t;}}f=this.preamble;if(f){f.apply(this,t);}}if(_c6){_c6.apply(this,a);}f=this.postscript;if(f){f.apply(this,a);}};};function _c8(_c9){return function(){var a=arguments,i=0,f,m;if(!(this instanceof a.callee)){return _c4(a);}for(;f=_c9[i];++i){m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,a);break;}}f=this.postscript;if(f){f.apply(this,a);}};};function _ca(_cb,_cc,_cd){return function(){var b,m,f,i=0,_ce=1;if(_cd){i=_cc.length-1;_ce=-1;}for(;b=_cc[i];i+=_ce){m=b._meta;f=(m?m.hidden:b.prototype)[_cb];if(f){f.apply(this,arguments);}}};};function _cf(_d0){_98.prototype=_d0.prototype;var t=new _98;_98.prototype=null;return t;};function _c4(_d1){var _d2=_d1.callee,t=_cf(_d2);_d2.apply(t,_d1);return t;};d.declare=function(_d3,_d4,_d5){if(typeof _d3!="string"){_d5=_d4;_d4=_d3;_d3="";}_d5=_d5||{};var _d6,i,t,_d7,_d8,_d9,_da,_db=1,_dc=_d4;if(_97.call(_d4)=="[object Array]"){_d9=_9b(_d4,_d3);t=_d9[0];_db=_d9.length-t;_d4=_d9[_db];}else{_d9=[0];if(_d4){if(_97.call(_d4)=="[object Function]"){t=_d4._meta;_d9=_d9.concat(t?t.bases:_d4);}else{err("base class is not a callable constructor.",_d3);}}else{if(_d4!==null){err("unknown base class. Did you use dojo.require to pull it in?",_d3);}}}if(_d4){for(i=_db-1;;--i){_d6=_cf(_d4);if(!i){break;}t=_d9[i];(t._meta?_b5:mix)(_d6,t.prototype);_d7=new Function;_d7.superclass=_d4;_d7.prototype=_d6;_d4=_d6.constructor=_d7;}}else{_d6={};}_b9(_d6,_d5);t=_d5.constructor;if(t!==op.constructor){t.nom=_9a;_d6.constructor=t;}for(i=_db-1;i;--i){t=_d9[i]._meta;if(t&&t.chains){_da=mix(_da||{},t.chains);}}if(_d6["-chains-"]){_da=mix(_da||{},_d6["-chains-"]);}t=!_da||!_da.hasOwnProperty(_9a);_d9[0]=_d7=(_da&&_da.constructor==="manual")?_c8(_d9):(_d9.length==1?_c5(_d5.constructor,t):_bf(_d9,t));_d7._meta={bases:_d9,hidden:_d5,chains:_da,parents:_dc,ctor:_d5.constructor};_d7.superclass=_d4&&_d4.prototype;_d7.extend=_bd;_d7.prototype=_d6;_d6.constructor=_d7;_d6.getInherited=_b0;_d6.inherited=_a6;_d6.isInstanceOf=_b3;if(_d3){_d6.declaredClass=_d3;d.setObject(_d3,_d7);}if(_da){for(_d8 in _da){if(_d6[_d8]&&typeof _da[_d8]=="string"&&_d8!=_9a){t=_d6[_d8]=_ca(_d8,_d9,_da[_d8]==="after");t.nom=_d8;}}}return _d7;};d.safeMixin=_b9;})();}if(!dojo._hasResource["dojo._base.connect"]){dojo._hasResource["dojo._base.connect"]=true;dojo.provide("dojo._base.connect");dojo._listener={getDispatcher:function(){return function(){var ap=Array.prototype,c=arguments.callee,ls=c._listeners,t=c.target,r=t&&t.apply(this,arguments),i,lls=[].concat(ls);for(i in lls){if(!(i in ap)){lls[i].apply(this,arguments);}}return r;};},add:function(_dd,_de,_df){_dd=_dd||dojo.global;var f=_dd[_de];if(!f||!f._listeners){var d=dojo._listener.getDispatcher();d.target=f;d._listeners=[];f=_dd[_de]=d;}return f._listeners.push(_df);},remove:function(_e0,_e1,_e2){var f=(_e0||dojo.global)[_e1];if(f&&f._listeners&&_e2--){delete f._listeners[_e2];}}};dojo.connect=function(obj,_e3,_e4,_e5,_e6){var a=arguments,_e7=[],i=0;_e7.push(dojo.isString(a[0])?null:a[i++],a[i++]);var a1=a[i+1];_e7.push(dojo.isString(a1)||dojo.isFunction(a1)?a[i++]:null,a[i++]);for(var l=a.length;i<l;i++){_e7.push(a[i]);}return dojo._connect.apply(this,_e7);};dojo._connect=function(obj,_e8,_e9,_ea){var l=dojo._listener,h=l.add(obj,_e8,dojo.hitch(_e9,_ea));return [obj,_e8,h,l];};dojo.disconnect=function(_eb){if(_eb&&_eb[0]!==undefined){dojo._disconnect.apply(this,_eb);delete _eb[0];}};dojo._disconnect=function(obj,_ec,_ed,_ee){_ee.remove(obj,_ec,_ed);};dojo._topics={};dojo.subscribe=function(_ef,_f0,_f1){return [_ef,dojo._listener.add(dojo._topics,_ef,dojo.hitch(_f0,_f1))];};dojo.unsubscribe=function(_f2){if(_f2){dojo._listener.remove(dojo._topics,_f2[0],_f2[1]);}};dojo.publish=function(_f3,_f4){var f=dojo._topics[_f3];if(f){f.apply(this,_f4||[]);}};dojo.connectPublisher=function(_f5,obj,_f6){var pf=function(){dojo.publish(_f5,arguments);};return _f6?dojo.connect(obj,_f6,pf):dojo.connect(obj,pf);};}if(!dojo._hasResource["dojo._base.Deferred"]){dojo._hasResource["dojo._base.Deferred"]=true;dojo.provide("dojo._base.Deferred");(function(){var _f7=function(){};var _f8=Object.freeze||function(){};dojo.Deferred=function(_f9){var _fa,_fb,_fc,_fd,_fe;var _ff=(this.promise={});function _100(_101){if(_fb){throw new Error("This deferred has already been resolved");}_fa=_101;_fb=true;_102();};function _102(){var _103;while(!_103&&_fe){var _104=_fe;_fe=_fe.next;if((_103=(_104.progress==_f7))){_fb=false;}var func=(_fc?_104.error:_104.resolved);if(func){try{var _105=func(_fa);if(_105&&typeof _105.then==="function"){_105.then(dojo.hitch(_104.deferred,"resolve"),dojo.hitch(_104.deferred,"reject"));continue;}var _106=_103&&_105===undefined;if(_103&&!_106){_fc=_105 instanceof Error;}_104.deferred[_106&&_fc?"reject":"resolve"](_106?_fa:_105);}catch(e){_104.deferred.reject(e);}}else{if(_fc){_104.deferred.reject(_fa);}else{_104.deferred.resolve(_fa);}}}};this.resolve=this.callback=function(_107){this.fired=0;this.results=[_107,null];_100(_107);};this.reject=this.errback=function(_108){_fc=true;this.fired=1;_100(_108);this.results=[null,_108];if(!_108||_108.log!==false){(dojo.config.deferredOnError||function(x){console.error(x);})(_108);}};this.progress=function(_109){var _10a=_fe;while(_10a){var _10b=_10a.progress;_10b&&_10b(_109);_10a=_10a.next;}};this.addCallbacks=function(_10c,_10d){this.then(_10c,_10d,_f7);return this;};this.then=_ff.then=function(_10e,_10f,_110){var _111=_110==_f7?this:new dojo.Deferred(_ff.cancel);var _112={resolved:_10e,error:_10f,progress:_110,deferred:_111};if(_fe){_fd=_fd.next=_112;}else{_fe=_fd=_112;}if(_fb){_102();}return _111.promise;};var _113=this;this.cancel=_ff.cancel=function(){if(!_fb){var _114=_f9&&_f9(_113);if(!_fb){if(!(_114 instanceof Error)){_114=new Error(_114);}_114.log=false;_113.reject(_114);}}};_f8(_ff);};dojo.extend(dojo.Deferred,{addCallback:function(_115){return this.addCallbacks(dojo.hitch.apply(dojo,arguments));},addErrback:function(_116){return this.addCallbacks(null,dojo.hitch.apply(dojo,arguments));},addBoth:function(_117){var _118=dojo.hitch.apply(dojo,arguments);return this.addCallbacks(_118,_118);},fired:-1});})();dojo.when=function(_119,_11a,_11b,_11c){if(_119&&typeof _119.then==="function"){return _119.then(_11a,_11b,_11c);}return _11a(_119);};}if(!dojo._hasResource["dojo._base.json"]){dojo._hasResource["dojo._base.json"]=true;dojo.provide("dojo._base.json");dojo.fromJson=function(json){return eval("("+json+")");};dojo._escapeString=function(str){return ("\""+str.replace(/(["\\])/g,"\\$1")+"\"").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r");};dojo.toJsonIndentStr="\t";dojo.toJson=function(it,_11d,_11e){if(it===undefined){return "undefined";}var _11f=typeof it;if(_11f=="number"||_11f=="boolean"){return it+"";}if(it===null){return "null";}if(dojo.isString(it)){return dojo._escapeString(it);}var _120=arguments.callee;var _121;_11e=_11e||"";var _122=_11d?_11e+dojo.toJsonIndentStr:"";var tf=it.__json__||it.json;if(dojo.isFunction(tf)){_121=tf.call(it);if(it!==_121){return _120(_121,_11d,_122);}}if(it.nodeType&&it.cloneNode){throw new Error("Can't serialize DOM nodes");}var sep=_11d?" ":"";var _123=_11d?"\n":"";if(dojo.isArray(it)){var res=dojo.map(it,function(obj){var val=_120(obj,_11d,_122);if(typeof val!="string"){val="undefined";}return _123+_122+val;});return "["+res.join(","+sep)+_123+_11e+"]";}if(_11f=="function"){return null;}var _124=[],key;for(key in it){var _125,val;if(typeof key=="number"){_125="\""+key+"\"";}else{if(typeof key=="string"){_125=dojo._escapeString(key);}else{continue;}}val=_120(it[key],_11d,_122);if(typeof val!="string"){continue;}_124.push(_123+_122+_125+":"+sep+val);}return "{"+_124.join(","+sep)+_123+_11e+"}";};}if(!dojo._hasResource["dojo._base.Color"]){dojo._hasResource["dojo._base.Color"]=true;dojo.provide("dojo._base.Color");(function(){var d=dojo;dojo.Color=function(_126){if(_126){this.setColor(_126);}};dojo.Color.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:d.config.transparentColor||[255,255,255]};dojo.extend(dojo.Color,{r:255,g:255,b:255,a:1,_set:function(r,g,b,a){var t=this;t.r=r;t.g=g;t.b=b;t.a=a;},setColor:function(_127){if(d.isString(_127)){d.colorFromString(_127,this);}else{if(d.isArray(_127)){d.colorFromArray(_127,this);}else{this._set(_127.r,_127.g,_127.b,_127.a);if(!(_127 instanceof d.Color)){this.sanitize();}}}return this;},sanitize:function(){return this;},toRgb:function(){var t=this;return [t.r,t.g,t.b];},toRgba:function(){var t=this;return [t.r,t.g,t.b,t.a];},toHex:function(){var arr=d.map(["r","g","b"],function(x){var s=this[x].toString(16);return s.length<2?"0"+s:s;},this);return "#"+arr.join("");},toCss:function(_128){var t=this,rgb=t.r+", "+t.g+", "+t.b;return (_128?"rgba("+rgb+", "+t.a:"rgb("+rgb)+")";},toString:function(){return this.toCss(true);}});dojo.blendColors=function(_129,end,_12a,obj){var t=obj||new d.Color();d.forEach(["r","g","b","a"],function(x){t[x]=_129[x]+(end[x]-_129[x])*_12a;if(x!="a"){t[x]=Math.round(t[x]);}});return t.sanitize();};dojo.colorFromRgb=function(_12b,obj){var m=_12b.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return m&&dojo.colorFromArray(m[1].split(/\s*,\s*/),obj);};dojo.colorFromHex=function(_12c,obj){var t=obj||new d.Color(),bits=(_12c.length==4)?4:8,mask=(1<<bits)-1;_12c=Number("0x"+_12c.substr(1));if(isNaN(_12c)){return null;}d.forEach(["b","g","r"],function(x){var c=_12c&mask;_12c>>=bits;t[x]=bits==4?17*c:c;});t.a=1;return t;};dojo.colorFromArray=function(a,obj){var t=obj||new d.Color();t._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));if(isNaN(t.a)){t.a=1;}return t.sanitize();};dojo.colorFromString=function(str,obj){var a=d.Color.named[str];return a&&d.colorFromArray(a,obj)||d.colorFromRgb(str,obj)||d.colorFromHex(str,obj);};})();}if(!dojo._hasResource["dojo._base.window"]){dojo._hasResource["dojo._base.window"]=true;dojo.provide("dojo._base.window");dojo.doc=window["document"]||null;dojo.body=function(){return dojo.doc.body||dojo.doc.getElementsByTagName("body")[0];};dojo.setContext=function(_12d,_12e){dojo.global=_12d;dojo.doc=_12e;};dojo.withGlobal=function(_12f,_130,_131,_132){var _133=dojo.global;try{dojo.global=_12f;return dojo.withDoc.call(null,_12f.document,_130,_131,_132);}finally{dojo.global=_133;}};dojo.withDoc=function(_134,_135,_136,_137){var _138=dojo.doc,_139=dojo._bodyLtr,oldQ=dojo.isQuirks;try{dojo.doc=_134;delete dojo._bodyLtr;dojo.isQuirks=dojo.doc.compatMode=="BackCompat";if(_136&&typeof _135=="string"){_135=_136[_135];}return _135.apply(_136,_137||[]);}finally{dojo.doc=_138;delete dojo._bodyLtr;if(_139!==undefined){dojo._bodyLtr=_139;}dojo.isQuirks=oldQ;}};}if(!dojo._hasResource["dojo._base.event"]){dojo._hasResource["dojo._base.event"]=true;dojo.provide("dojo._base.event");(function(){var del=(dojo._event_listener={add:function(node,name,fp){if(!node){return;}name=del._normalizeEventName(name);fp=del._fixCallback(name,fp);if(!dojo.isIE&&(name=="mouseenter"||name=="mouseleave")){var ofp=fp;name=(name=="mouseenter")?"mouseover":"mouseout";fp=function(e){if(!dojo.isDescendant(e.relatedTarget,node)){return ofp.call(this,e);}};}node.addEventListener(name,fp,false);return fp;},remove:function(node,_13a,_13b){if(node){_13a=del._normalizeEventName(_13a);if(!dojo.isIE&&(_13a=="mouseenter"||_13a=="mouseleave")){_13a=(_13a=="mouseenter")?"mouseover":"mouseout";}node.removeEventListener(_13a,_13b,false);}},_normalizeEventName:function(name){return name.slice(0,2)=="on"?name.slice(2):name;},_fixCallback:function(name,fp){return name!="keypress"?fp:function(e){return fp.call(this,del._fixEvent(e,this));};},_fixEvent:function(evt,_13c){switch(evt.type){case "keypress":del._setKeyChar(evt);break;}return evt;},_setKeyChar:function(evt){evt.keyChar=evt.charCode>=32?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;},_punctMap:{106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39}});dojo.fixEvent=function(evt,_13d){return del._fixEvent(evt,_13d);};dojo.stopEvent=function(evt){evt.preventDefault();evt.stopPropagation();};var _13e=dojo._listener;dojo._connect=function(obj,_13f,_140,_141,_142){var _143=obj&&(obj.nodeType||obj.attachEvent||obj.addEventListener);var lid=_143?(_142?2:1):0,l=[dojo._listener,del,_13e][lid];var h=l.add(obj,_13f,dojo.hitch(_140,_141));return [obj,_13f,h,lid];};dojo._disconnect=function(obj,_144,_145,_146){([dojo._listener,del,_13e][_146]).remove(obj,_144,_145);};dojo.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:dojo.isSafari?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,copyKey:dojo.isMac&&!dojo.isAIR?(dojo.isSafari?91:224):17};var _147=dojo.isMac?"metaKey":"ctrlKey";dojo.isCopyKey=function(e){return e[_147];};if(dojo.isIE<9||(dojo.isIE&&dojo.isQuirks)){dojo.mouseButtons={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,_148){return e.button&_148;},isLeft:function(e){return e.button&1;},isMiddle:function(e){return e.button&4;},isRight:function(e){return e.button&2;}};}else{dojo.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,_149){return e.button==_149;},isLeft:function(e){return e.button==0;},isMiddle:function(e){return e.button==1;},isRight:function(e){return e.button==2;}};}if(dojo.isIE){var _14a=function(e,code){try{return (e.keyCode=code);}catch(e){return 0;}};var iel=dojo._listener;var _14b=(dojo._ieListenersName="_"+dojo._scopeName+"_listeners");if(!dojo.config._allow_leaks){_13e=iel=dojo._ie_listener={handlers:[],add:function(_14c,_14d,_14e){_14c=_14c||dojo.global;var f=_14c[_14d];if(!f||!f[_14b]){var d=dojo._getIeDispatcher();d.target=f&&(ieh.push(f)-1);d[_14b]=[];f=_14c[_14d]=d;}return f[_14b].push(ieh.push(_14e)-1);},remove:function(_14f,_150,_151){var f=(_14f||dojo.global)[_150],l=f&&f[_14b];if(f&&l&&_151--){delete ieh[l[_151]];delete l[_151];}}};var ieh=iel.handlers;}dojo.mixin(del,{add:function(node,_152,fp){if(!node){return;}_152=del._normalizeEventName(_152);if(_152=="onkeypress"){var kd=node.onkeydown;if(!kd||!kd[_14b]||!kd._stealthKeydownHandle){var h=del.add(node,"onkeydown",del._stealthKeyDown);kd=node.onkeydown;kd._stealthKeydownHandle=h;kd._stealthKeydownRefs=1;}else{kd._stealthKeydownRefs++;}}return iel.add(node,_152,del._fixCallback(fp));},remove:function(node,_153,_154){_153=del._normalizeEventName(_153);iel.remove(node,_153,_154);if(_153=="onkeypress"){var kd=node.onkeydown;if(--kd._stealthKeydownRefs<=0){iel.remove(node,"onkeydown",kd._stealthKeydownHandle);delete kd._stealthKeydownHandle;}}},_normalizeEventName:function(_155){return _155.slice(0,2)!="on"?"on"+_155:_155;},_nop:function(){},_fixEvent:function(evt,_156){if(!evt){var w=_156&&(_156.ownerDocument||_156.document||_156).parentWindow||window;evt=w.event;}if(!evt){return (evt);}evt.target=evt.srcElement;evt.currentTarget=(_156||evt.srcElement);evt.layerX=evt.offsetX;evt.layerY=evt.offsetY;var se=evt.srcElement,doc=(se&&se.ownerDocument)||document;var _157=((dojo.isIE<6)||(doc["compatMode"]=="BackCompat"))?doc.body:doc.documentElement;var _158=dojo._getIeDocumentElementOffset();evt.pageX=evt.clientX+dojo._fixIeBiDiScrollLeft(_157.scrollLeft||0)-_158.x;evt.pageY=evt.clientY+(_157.scrollTop||0)-_158.y;if(evt.type=="mouseover"){evt.relatedTarget=evt.fromElement;}if(evt.type=="mouseout"){evt.relatedTarget=evt.toElement;}if(dojo.isIE<9||dojo.isQuirks){evt.stopPropagation=del._stopPropagation;evt.preventDefault=del._preventDefault;}return del._fixKeys(evt);},_fixKeys:function(evt){switch(evt.type){case "keypress":var c=("charCode" in evt?evt.charCode:evt.keyCode);if(c==10){c=0;evt.keyCode=13;}else{if(c==13||c==27){c=0;}else{if(c==3){c=99;}}}evt.charCode=c;del._setKeyChar(evt);break;}return evt;},_stealthKeyDown:function(evt){var kp=evt.currentTarget.onkeypress;if(!kp||!kp[_14b]){return;}var k=evt.keyCode;var _159=(k!=13||(dojo.isIE>=9&&!dojo.isQuirks))&&k!=32&&k!=27&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222);if(_159||evt.ctrlKey){var c=_159?0:k;if(evt.ctrlKey){if(k==3||k==13){return;}else{if(c>95&&c<106){c-=48;}else{if((!evt.shiftKey)&&(c>=65&&c<=90)){c+=32;}else{c=del._punctMap[c]||c;}}}}var faux=del._synthesizeEvent(evt,{type:"keypress",faux:true,charCode:c});kp.call(evt.currentTarget,faux);if(dojo.isIE<9||(dojo.isIE&&dojo.isQuirks)){evt.cancelBubble=faux.cancelBubble;}evt.returnValue=faux.returnValue;_14a(evt,faux.keyCode);}},_stopPropagation:function(){this.cancelBubble=true;},_preventDefault:function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey){_14a(this,0);}this.returnValue=false;}});dojo.stopEvent=(dojo.isIE<9||dojo.isQuirks)?function(evt){evt=evt||window.event;del._stopPropagation.call(evt);del._preventDefault.call(evt);}:dojo.stopEvent;}del._synthesizeEvent=function(evt,_15a){var faux=dojo.mixin({},evt,_15a);del._setKeyChar(faux);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;};if(dojo.isOpera){dojo.mixin(del,{_fixEvent:function(evt,_15b){switch(evt.type){case "keypress":var c=evt.which;if(c==3){c=99;}c=c<41&&!evt.shiftKey?0:c;if(evt.ctrlKey&&!evt.shiftKey&&c>=65&&c<=90){c+=32;}return del._synthesizeEvent(evt,{charCode:c});}return evt;}});}if(dojo.isWebKit){del._add=del.add;del._remove=del.remove;dojo.mixin(del,{add:function(node,_15c,fp){if(!node){return;}var _15d=del._add(node,_15c,fp);if(del._normalizeEventName(_15c)=="keypress"){_15d._stealthKeyDownHandle=del._add(node,"keydown",function(evt){var k=evt.keyCode;var _15e=k!=13&&k!=32&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222);if(_15e||evt.ctrlKey){var c=_15e?0:k;if(evt.ctrlKey){if(k==3||k==13){return;}else{if(c>95&&c<106){c-=48;}else{if(!evt.shiftKey&&c>=65&&c<=90){c+=32;}else{c=del._punctMap[c]||c;}}}}var faux=del._synthesizeEvent(evt,{type:"keypress",faux:true,charCode:c});fp.call(evt.currentTarget,faux);}});}return _15d;},remove:function(node,_15f,_160){if(node){if(_160._stealthKeyDownHandle){del._remove(node,"keydown",_160._stealthKeyDownHandle);}del._remove(node,_15f,_160);}},_fixEvent:function(evt,_161){switch(evt.type){case "keypress":if(evt.faux){return evt;}var c=evt.charCode;c=c>=32?c:0;return del._synthesizeEvent(evt,{charCode:c,faux:true});}return evt;}});}})();if(dojo.isIE){dojo._ieDispatcher=function(args,_162){var ap=Array.prototype,h=dojo._ie_listener.handlers,c=args.callee,ls=c[dojo._ieListenersName],t=h[c.target];var r=t&&t.apply(_162,args);var lls=[].concat(ls);for(var i in lls){var f=h[lls[i]];if(!(i in ap)&&f){f.apply(_162,args);}}return r;};dojo._getIeDispatcher=function(){return new Function(dojo._scopeName+"._ieDispatcher(arguments, this)");};dojo._event_listener._fixCallback=function(fp){var f=dojo._event_listener._fixEvent;return function(e){return fp.call(this,f(e,this));};};}}if(!dojo._hasResource["dojo._base.html"]){dojo._hasResource["dojo._base.html"]=true;dojo.provide("dojo._base.html");try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}if(dojo.isIE){dojo.byId=function(id,doc){if(typeof id!="string"){return id;}var _163=doc||dojo.doc,te=_163.getElementById(id);if(te&&(te.attributes.id.value==id||te.id==id)){return te;}else{var eles=_163.all[id];if(!eles||eles.nodeName){eles=[eles];}var i=0;while((te=eles[i++])){if((te.attributes&&te.attributes.id&&te.attributes.id.value==id)||te.id==id){return te;}}}};}else{dojo.byId=function(id,doc){return ((typeof id=="string")?(doc||dojo.doc).getElementById(id):id)||null;};}(function(){var d=dojo;var byId=d.byId;var _164=null,_165;d.addOnWindowUnload(function(){_164=null;});dojo._destroyElement=dojo.destroy=function(node){node=byId(node);try{var doc=node.ownerDocument;if(!_164||_165!=doc){_164=doc.createElement("div");_165=doc;}_164.appendChild(node.parentNode?node.parentNode.removeChild(node):node);_164.innerHTML="";}catch(e){}};dojo.isDescendant=function(node,_166){try{node=byId(node);_166=byId(_166);while(node){if(node==_166){return true;}node=node.parentNode;}}catch(e){}return false;};dojo.setSelectable=function(node,_167){node=byId(node);if(d.isMozilla){node.style.MozUserSelect=_167?"":"none";}else{if(d.isKhtml||d.isWebKit){node.style.KhtmlUserSelect=_167?"auto":"none";}else{if(d.isIE){var v=(node.unselectable=_167?"":"on");d.query("*",node).forEach("item.unselectable = '"+v+"'");}}}};var _168=function(node,ref){var _169=ref.parentNode;if(_169){_169.insertBefore(node,ref);}};var _16a=function(node,ref){var _16b=ref.parentNode;if(_16b){if(_16b.lastChild==ref){_16b.appendChild(node);}else{_16b.insertBefore(node,ref.nextSibling);}}};dojo.place=function(node,_16c,_16d){_16c=byId(_16c);if(typeof node=="string"){node=/^\s*</.test(node)?d._toDom(node,_16c.ownerDocument):byId(node);}if(typeof _16d=="number"){var cn=_16c.childNodes;if(!cn.length||cn.length<=_16d){_16c.appendChild(node);}else{_168(node,cn[_16d<0?0:_16d]);}}else{switch(_16d){case "before":_168(node,_16c);break;case "after":_16a(node,_16c);break;case "replace":_16c.parentNode.replaceChild(node,_16c);break;case "only":d.empty(_16c);_16c.appendChild(node);break;case "first":if(_16c.firstChild){_168(node,_16c.firstChild);break;}default:_16c.appendChild(node);}}return node;};dojo.boxModel="content-box";if(d.isIE){d.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box";}var gcs;if(d.isWebKit){gcs=function(node){var s;if(node.nodeType==1){var dv=node.ownerDocument.defaultView;s=dv.getComputedStyle(node,null);if(!s&&node.style){node.style.display="";s=dv.getComputedStyle(node,null);}}return s||{};};}else{if(d.isIE){gcs=function(node){return node.nodeType==1?node.currentStyle:{};};}else{gcs=function(node){return node.nodeType==1?node.ownerDocument.defaultView.getComputedStyle(node,null):{};};}}dojo.getComputedStyle=gcs;if(!d.isIE){d._toPixelValue=function(_16e,_16f){return parseFloat(_16f)||0;};}else{d._toPixelValue=function(_170,_171){if(!_171){return 0;}if(_171=="medium"){return 4;}if(_171.slice&&_171.slice(-2)=="px"){return parseFloat(_171);}with(_170){var _172=style.left;var _173=runtimeStyle.left;runtimeStyle.left=currentStyle.left;try{style.left=_171;_171=style.pixelLeft;}catch(e){_171=0;}style.left=_172;runtimeStyle.left=_173;}return _171;};}var px=d._toPixelValue;var astr="DXImageTransform.Microsoft.Alpha";var af=function(n,f){try{return n.filters.item(astr);}catch(e){return f?{}:null;}};dojo._getOpacity=d.isIE<9?function(node){try{return af(node).Opacity/100;}catch(e){return 1;}}:function(node){return gcs(node).opacity;};dojo._setOpacity=d.isIE<9?function(node,_174){var ov=_174*100,_175=_174==1;node.style.zoom=_175?"":1;if(!af(node)){if(_175){return _174;}node.style.filter+=" progid:"+astr+"(Opacity="+ov+")";}else{af(node,1).Opacity=ov;}af(node,1).Enabled=!_175;if(node.nodeName.toLowerCase()=="tr"){d.query("> td",node).forEach(function(i){d._setOpacity(i,_174);});}return _174;}:function(node,_176){return node.style.opacity=_176;};var _177={left:true,top:true};var _178=/margin|padding|width|height|max|min|offset/;var _179=function(node,type,_17a){type=type.toLowerCase();if(d.isIE){if(_17a=="auto"){if(type=="height"){return node.offsetHeight;}if(type=="width"){return node.offsetWidth;}}if(type=="fontweight"){switch(_17a){case 700:return "bold";case 400:default:return "normal";}}}if(!(type in _177)){_177[type]=_178.test(type);}return _177[type]?px(node,_17a):_17a;};var _17b=d.isIE?"styleFloat":"cssFloat",_17c={"cssFloat":_17b,"styleFloat":_17b,"float":_17b};dojo.style=function(node,_17d,_17e){var n=byId(node),args=arguments.length,op=(_17d=="opacity");_17d=_17c[_17d]||_17d;if(args==3){return op?d._setOpacity(n,_17e):n.style[_17d]=_17e;}if(args==2&&op){return d._getOpacity(n);}var s=gcs(n);if(args==2&&typeof _17d!="string"){for(var x in _17d){d.style(node,x,_17d[x]);}return s;}return (args==1)?s:_179(n,_17d,s[_17d]||n.style[_17d]);};dojo._getPadExtents=function(n,_17f){var s=_17f||gcs(n),l=px(n,s.paddingLeft),t=px(n,s.paddingTop);return {l:l,t:t,w:l+px(n,s.paddingRight),h:t+px(n,s.paddingBottom)};};dojo._getBorderExtents=function(n,_180){var ne="none",s=_180||gcs(n),bl=(s.borderLeftStyle!=ne?px(n,s.borderLeftWidth):0),bt=(s.borderTopStyle!=ne?px(n,s.borderTopWidth):0);return {l:bl,t:bt,w:bl+(s.borderRightStyle!=ne?px(n,s.borderRightWidth):0),h:bt+(s.borderBottomStyle!=ne?px(n,s.borderBottomWidth):0)};};dojo._getPadBorderExtents=function(n,_181){var s=_181||gcs(n),p=d._getPadExtents(n,s),b=d._getBorderExtents(n,s);return {l:p.l+b.l,t:p.t+b.t,w:p.w+b.w,h:p.h+b.h};};dojo._getMarginExtents=function(n,_182){var s=_182||gcs(n),l=px(n,s.marginLeft),t=px(n,s.marginTop),r=px(n,s.marginRight),b=px(n,s.marginBottom);if(d.isWebKit&&(s.position!="absolute")){r=l;}return {l:l,t:t,w:l+r,h:t+b};};dojo._getMarginBox=function(node,_183){var s=_183||gcs(node),me=d._getMarginExtents(node,s);var l=node.offsetLeft-me.l,t=node.offsetTop-me.t,p=node.parentNode;if(d.isMoz){var sl=parseFloat(s.left),st=parseFloat(s.top);if(!isNaN(sl)&&!isNaN(st)){l=sl,t=st;}else{if(p&&p.style){var pcs=gcs(p);if(pcs.overflow!="visible"){var be=d._getBorderExtents(p,pcs);l+=be.l,t+=be.t;}}}}else{if(d.isOpera||(d.isIE>7&&!d.isQuirks)){if(p){be=d._getBorderExtents(p);l-=be.l;t-=be.t;}}}return {l:l,t:t,w:node.offsetWidth+me.w,h:node.offsetHeight+me.h};};dojo._getMarginSize=function(node,_184){node=byId(node);var me=d._getMarginExtents(node,_184||gcs(node));var size=node.getBoundingClientRect();return {w:(size.right-size.left)+me.w,h:(size.bottom-size.top)+me.h};};dojo._getContentBox=function(node,_185){var s=_185||gcs(node),pe=d._getPadExtents(node,s),be=d._getBorderExtents(node,s),w=node.clientWidth,h;if(!w){w=node.offsetWidth,h=node.offsetHeight;}else{h=node.clientHeight,be.w=be.h=0;}if(d.isOpera){pe.l+=be.l;pe.t+=be.t;}return {l:pe.l,t:pe.t,w:w-pe.w-be.w,h:h-pe.h-be.h};};dojo._getBorderBox=function(node,_186){var s=_186||gcs(node),pe=d._getPadExtents(node,s),cb=d._getContentBox(node,s);return {l:cb.l-pe.l,t:cb.t-pe.t,w:cb.w+pe.w,h:cb.h+pe.h};};dojo._setBox=function(node,l,t,w,h,u){u=u||"px";var s=node.style;if(!isNaN(l)){s.left=l+u;}if(!isNaN(t)){s.top=t+u;}if(w>=0){s.width=w+u;}if(h>=0){s.height=h+u;}};dojo._isButtonTag=function(node){return node.tagName=="BUTTON"||node.tagName=="INPUT"&&(node.getAttribute("type")||"").toUpperCase()=="BUTTON";};dojo._usesBorderBox=function(node){var n=node.tagName;return d.boxModel=="border-box"||n=="TABLE"||d._isButtonTag(node);};dojo._setContentSize=function(node,_187,_188,_189){if(d._usesBorderBox(node)){var pb=d._getPadBorderExtents(node,_189);if(_187>=0){_187+=pb.w;}if(_188>=0){_188+=pb.h;}}d._setBox(node,NaN,NaN,_187,_188);};dojo._setMarginBox=function(node,_18a,_18b,_18c,_18d,_18e){var s=_18e||gcs(node),bb=d._usesBorderBox(node),pb=bb?_18f:d._getPadBorderExtents(node,s);if(d.isWebKit){if(d._isButtonTag(node)){var ns=node.style;if(_18c>=0&&!ns.width){ns.width="4px";}if(_18d>=0&&!ns.height){ns.height="4px";}}}var mb=d._getMarginExtents(node,s);if(_18c>=0){_18c=Math.max(_18c-pb.w-mb.w,0);}if(_18d>=0){_18d=Math.max(_18d-pb.h-mb.h,0);}d._setBox(node,_18a,_18b,_18c,_18d);};var _18f={l:0,t:0,w:0,h:0};dojo.marginBox=function(node,box){var n=byId(node),s=gcs(n),b=box;return !b?d._getMarginBox(n,s):d._setMarginBox(n,b.l,b.t,b.w,b.h,s);};dojo.contentBox=function(node,box){var n=byId(node),s=gcs(n),b=box;return !b?d._getContentBox(n,s):d._setContentSize(n,b.w,b.h,s);};var _190=function(node,prop){if(!(node=(node||0).parentNode)){return 0;}var val,_191=0,_192=d.body();while(node&&node.style){if(gcs(node).position=="fixed"){return 0;}val=node[prop];if(val){_191+=val-0;if(node==_192){break;}}node=node.parentNode;}return _191;};dojo._docScroll=function(){var n=d.global;return "pageXOffset" in n?{x:n.pageXOffset,y:n.pageYOffset}:(n=d.isQuirks?d.doc.body:d.doc.documentElement,{x:d._fixIeBiDiScrollLeft(n.scrollLeft||0),y:n.scrollTop||0});};dojo._isBodyLtr=function(){return "_bodyLtr" in d?d._bodyLtr:d._bodyLtr=(d.body().dir||d.doc.documentElement.dir||"ltr").toLowerCase()=="ltr";};dojo._getIeDocumentElementOffset=function(){var de=d.doc.documentElement;if(d.isIE<8){var r=de.getBoundingClientRect();var l=r.left,t=r.top;if(d.isIE<7){l+=de.clientLeft;t+=de.clientTop;}return {x:l<0?0:l,y:t<0?0:t};}else{return {x:0,y:0};}};dojo._fixIeBiDiScrollLeft=function(_193){var ie=d.isIE;if(ie&&!d._isBodyLtr()){var qk=d.isQuirks,de=qk?d.doc.body:d.doc.documentElement;if(ie==6&&!qk&&d.global.frameElement&&de.scrollHeight>de.clientHeight){_193+=de.clientLeft;}return (ie<8||qk)?(_193+de.clientWidth-de.scrollWidth):-_193;}return _193;};dojo._abs=dojo.position=function(node,_194){node=byId(node);var db=d.body(),dh=db.parentNode,ret=node.getBoundingClientRect();ret={x:ret.left,y:ret.top,w:ret.right-ret.left,h:ret.bottom-ret.top};if(d.isIE){var _195=d._getIeDocumentElementOffset();ret.x-=_195.x+(d.isQuirks?db.clientLeft+db.offsetLeft:0);ret.y-=_195.y+(d.isQuirks?db.clientTop+db.offsetTop:0);}else{if(d.isFF==3){var cs=gcs(dh);ret.x-=px(dh,cs.marginLeft)+px(dh,cs.borderLeftWidth);ret.y-=px(dh,cs.marginTop)+px(dh,cs.borderTopWidth);}}if(_194){var _196=d._docScroll();ret.x+=_196.x;ret.y+=_196.y;}return ret;};dojo.coords=function(node,_197){var n=byId(node),s=gcs(n),mb=d._getMarginBox(n,s);var abs=d.position(n,_197);mb.x=abs.x;mb.y=abs.y;return mb;};var _198={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"},_199={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"},_19a={innerHTML:1,className:1,htmlFor:d.isIE,value:1};var _19b=function(name){return _199[name.toLowerCase()]||name;};var _19c=function(node,name){var attr=node.getAttributeNode&&node.getAttributeNode(name);return attr&&attr.specified;};dojo.hasAttr=function(node,name){var lc=name.toLowerCase();return _19a[_198[lc]||name]||_19c(byId(node),_199[lc]||name);};var _19d={},_19e=0,_19f=dojo._scopeName+"attrid",_1a0={col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1};dojo.attr=function(node,name,_1a1){node=byId(node);var args=arguments.length,prop;if(args==2&&typeof name!="string"){for(var x in name){d.attr(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_1a2=_198[lc]||name,_1a3=_19a[_1a2],_1a4=_199[lc]||name;if(args==3){do{if(_1a2=="style"&&typeof _1a1!="string"){d.style(node,_1a1);break;}if(_1a2=="innerHTML"){if(d.isIE&&node.tagName.toLowerCase() in _1a0){d.empty(node);node.appendChild(d._toDom(_1a1,node.ownerDocument));}else{node[_1a2]=_1a1;}break;}if(d.isFunction(_1a1)){var _1a5=d.attr(node,_19f);if(!_1a5){_1a5=_19e++;d.attr(node,_19f,_1a5);}if(!_19d[_1a5]){_19d[_1a5]={};}var h=_19d[_1a5][_1a2];if(h){d.disconnect(h);}else{try{delete node[_1a2];}catch(e){}}_19d[_1a5][_1a2]=d.connect(node,_1a2,_1a1);break;}if(_1a3||typeof _1a1=="boolean"){node[_1a2]=_1a1;break;}node.setAttribute(_1a4,_1a1);}while(false);return node;}_1a1=node[_1a2];if(_1a3&&typeof _1a1!="undefined"){return _1a1;}if(_1a2!="href"&&(typeof _1a1=="boolean"||d.isFunction(_1a1))){return _1a1;}return _19c(node,_1a4)?node.getAttribute(_1a4):null;};dojo.removeAttr=function(node,name){byId(node).removeAttribute(_19b(name));};dojo.getNodeProp=function(node,name){node=byId(node);var lc=name.toLowerCase(),_1a6=_198[lc]||name;if((_1a6 in node)&&_1a6!="href"){return node[_1a6];}var _1a7=_199[lc]||name;return _19c(node,_1a7)?node.getAttribute(_1a7):null;};dojo.create=function(tag,_1a8,_1a9,pos){var doc=d.doc;if(_1a9){_1a9=byId(_1a9);doc=_1a9.ownerDocument;}if(typeof tag=="string"){tag=doc.createElement(tag);}if(_1a8){d.attr(tag,_1a8);}if(_1a9){d.place(tag,_1a9,pos);}return tag;};d.empty=d.isIE?function(node){node=byId(node);for(var c;c=node.lastChild;){d.destroy(c);}}:function(node){byId(node).innerHTML="";};var _1aa={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},_1ab=/<\s*([\w\:]+)/,_1ac={},_1ad=0,_1ae="__"+d._scopeName+"ToDomId";for(var _1af in _1aa){if(_1aa.hasOwnProperty(_1af)){var tw=_1aa[_1af];tw.pre=_1af=="option"?"<select multiple=\"multiple\">":"<"+tw.join("><")+">";tw.post="</"+tw.reverse().join("></")+">";}}d._toDom=function(frag,doc){doc=doc||d.doc;var _1b0=doc[_1ae];if(!_1b0){doc[_1ae]=_1b0=++_1ad+"";_1ac[_1b0]=doc.createElement("div");}frag+="";var _1b1=frag.match(_1ab),tag=_1b1?_1b1[1].toLowerCase():"",_1b2=_1ac[_1b0],wrap,i,fc,df;if(_1b1&&_1aa[tag]){wrap=_1aa[tag];_1b2.innerHTML=wrap.pre+frag+wrap.post;for(i=wrap.length;i;--i){_1b2=_1b2.firstChild;}}else{_1b2.innerHTML=frag;}if(_1b2.childNodes.length==1){return _1b2.removeChild(_1b2.firstChild);}df=doc.createDocumentFragment();while(fc=_1b2.firstChild){df.appendChild(fc);}return df;};var _1b3="className";dojo.hasClass=function(node,_1b4){return ((" "+byId(node)[_1b3]+" ").indexOf(" "+_1b4+" ")>=0);};var _1b5=/\s+/,a1=[""],_1b6={},_1b7=function(s){if(typeof s=="string"||s instanceof String){if(s.indexOf(" ")<0){a1[0]=s;return a1;}else{return s.split(_1b5);}}return s||"";};dojo.addClass=function(node,_1b8){node=byId(node);_1b8=_1b7(_1b8);var cls=node[_1b3],_1b9;cls=cls?" "+cls+" ":" ";_1b9=cls.length;for(var i=0,len=_1b8.length,c;i<len;++i){c=_1b8[i];if(c&&cls.indexOf(" "+c+" ")<0){cls+=c+" ";}}if(_1b9<cls.length){node[_1b3]=cls.substr(1,cls.length-2);}};dojo.removeClass=function(node,_1ba){node=byId(node);var cls;if(_1ba!==undefined){_1ba=_1b7(_1ba);cls=" "+node[_1b3]+" ";for(var i=0,len=_1ba.length;i<len;++i){cls=cls.replace(" "+_1ba[i]+" "," ");}cls=d.trim(cls);}else{cls="";}if(node[_1b3]!=cls){node[_1b3]=cls;}};dojo.replaceClass=function(node,_1bb,_1bc){node=byId(node);_1b6.className=node.className;dojo.removeClass(_1b6,_1bc);dojo.addClass(_1b6,_1bb);if(node.className!==_1b6.className){node.className=_1b6.className;}};dojo.toggleClass=function(node,_1bd,_1be){if(_1be===undefined){_1be=!d.hasClass(node,_1bd);}d[_1be?"addClass":"removeClass"](node,_1bd);};})();}if(!dojo._hasResource["dojo._base.NodeList"]){dojo._hasResource["dojo._base.NodeList"]=true;dojo.provide("dojo._base.NodeList");(function(){var d=dojo;var ap=Array.prototype,aps=ap.slice,apc=ap.concat;var tnl=function(a,_1bf,_1c0){if(!a.sort){a=aps.call(a,0);}var ctor=_1c0||this._NodeListCtor||d._NodeListCtor;a.constructor=ctor;dojo._mixin(a,ctor.prototype);a._NodeListCtor=ctor;return _1bf?a._stash(_1bf):a;};var _1c1=function(f,a,o){a=[0].concat(aps.call(a,0));o=o||d.global;return function(node){a[0]=node;return f.apply(o,a);};};var _1c2=function(f,o){return function(){this.forEach(_1c1(f,arguments,o));return this;};};var _1c3=function(f,o){return function(){return this.map(_1c1(f,arguments,o));};};var _1c4=function(f,o){return function(){return this.filter(_1c1(f,arguments,o));};};var _1c5=function(f,g,o){return function(){var a=arguments,body=_1c1(f,a,o);if(g.call(o||d.global,a)){return this.map(body);}this.forEach(body);return this;};};var _1c6=function(a){return a.length==1&&(typeof a[0]=="string");};var _1c7=function(node){var p=node.parentNode;if(p){p.removeChild(node);}};dojo.NodeList=function(){return tnl(Array.apply(null,arguments));};d._NodeListCtor=d.NodeList;var nl=d.NodeList,nlp=nl.prototype;nl._wrap=nlp._wrap=tnl;nl._adaptAsMap=_1c3;nl._adaptAsForEach=_1c2;nl._adaptAsFilter=_1c4;nl._adaptWithCondition=_1c5;d.forEach(["slice","splice"],function(name){var f=ap[name];nlp[name]=function(){return this._wrap(f.apply(this,arguments),name=="slice"?this:null);};});d.forEach(["indexOf","lastIndexOf","every","some"],function(name){var f=d[name];nlp[name]=function(){return f.apply(d,[this].concat(aps.call(arguments,0)));};});d.forEach(["attr","style"],function(name){nlp[name]=_1c5(d[name],_1c6);});d.forEach(["connect","addClass","removeClass","replaceClass","toggleClass","empty","removeAttr"],function(name){nlp[name]=_1c2(d[name]);});dojo.extend(dojo.NodeList,{_normalize:function(_1c8,_1c9){var _1ca=_1c8.parse===true?true:false;if(typeof _1c8.template=="string"){var _1cb=_1c8.templateFunc||(dojo.string&&dojo.string.substitute);_1c8=_1cb?_1cb(_1c8.template,_1c8):_1c8;}var type=(typeof _1c8);if(type=="string"||type=="number"){_1c8=dojo._toDom(_1c8,(_1c9&&_1c9.ownerDocument));if(_1c8.nodeType==11){_1c8=dojo._toArray(_1c8.childNodes);}else{_1c8=[_1c8];}}else{if(!dojo.isArrayLike(_1c8)){_1c8=[_1c8];}else{if(!dojo.isArray(_1c8)){_1c8=dojo._toArray(_1c8);}}}if(_1ca){_1c8._runParse=true;}return _1c8;},_cloneNode:function(node){return node.cloneNode(true);},_place:function(ary,_1cc,_1cd,_1ce){if(_1cc.nodeType!=1&&_1cd=="only"){return;}var _1cf=_1cc,_1d0;var _1d1=ary.length;for(var i=_1d1-1;i>=0;i--){var node=(_1ce?this._cloneNode(ary[i]):ary[i]);if(ary._runParse&&dojo.parser&&dojo.parser.parse){if(!_1d0){_1d0=_1cf.ownerDocument.createElement("div");}_1d0.appendChild(node);dojo.parser.parse(_1d0);node=_1d0.firstChild;while(_1d0.firstChild){_1d0.removeChild(_1d0.firstChild);}}if(i==_1d1-1){dojo.place(node,_1cf,_1cd);}else{_1cf.parentNode.insertBefore(node,_1cf);}_1cf=node;}},_stash:function(_1d2){this._parent=_1d2;return this;},end:function(){if(this._parent){return this._parent;}else{return new this._NodeListCtor();}},concat:function(item){var t=d.isArray(this)?this:aps.call(this,0),m=d.map(arguments,function(a){return a&&!d.isArray(a)&&(typeof NodeList!="undefined"&&a.constructor===NodeList||a.constructor===this._NodeListCtor)?aps.call(a,0):a;});return this._wrap(apc.apply(t,m),this);},map:function(func,obj){return this._wrap(d.map(this,func,obj),this);},forEach:function(_1d3,_1d4){d.forEach(this,_1d3,_1d4);return this;},coords:_1c3(d.coords),position:_1c3(d.position),place:function(_1d5,_1d6){var item=d.query(_1d5)[0];return this.forEach(function(node){d.place(node,item,_1d6);});},orphan:function(_1d7){return (_1d7?d._filterQueryResult(this,_1d7):this).forEach(_1c7);},adopt:function(_1d8,_1d9){return d.query(_1d8).place(this[0],_1d9)._stash(this);},query:function(_1da){if(!_1da){return this;}var ret=this.map(function(node){return d.query(_1da,node).filter(function(_1db){return _1db!==undefined;});});return this._wrap(apc.apply([],ret),this);},filter:function(_1dc){var a=arguments,_1dd=this,_1de=0;if(typeof _1dc=="string"){_1dd=d._filterQueryResult(this,a[0]);if(a.length==1){return _1dd._stash(this);}_1de=1;}return this._wrap(d.filter(_1dd,a[_1de],a[_1de+1]),this);},addContent:function(_1df,_1e0){_1df=this._normalize(_1df,this[0]);for(var i=0,node;(node=this[i]);i++){this._place(_1df,node,_1e0,i>0);}return this;},instantiate:function(_1e1,_1e2){var c=d.isFunction(_1e1)?_1e1:d.getObject(_1e1);_1e2=_1e2||{};return this.forEach(function(node){new c(_1e2,node);});},at:function(){var t=new this._NodeListCtor();d.forEach(arguments,function(i){if(i<0){i=this.length+i;}if(this[i]){t.push(this[i]);}},this);return t._stash(this);}});nl.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"];d.forEach(nl.events,function(evt){var _1e3="on"+evt;nlp[_1e3]=function(a,b){return this.connect(_1e3,a,b);};});})();}if(!dojo._hasResource["dojo._base.query"]){dojo._hasResource["dojo._base.query"]=true;(function(){var _1e4=function(d){var trim=d.trim;var each=d.forEach;var qlc=(d._NodeListCtor=d.NodeList);var _1e5=function(){return d.doc;};var _1e6=((d.isWebKit||d.isMozilla)&&((_1e5().compatMode)=="BackCompat"));var _1e7=!!_1e5().firstChild["children"]?"children":"childNodes";var _1e8=">~+";var _1e9=false;var _1ea=function(){return true;};var _1eb=function(_1ec){if(_1e8.indexOf(_1ec.slice(-1))>=0){_1ec+=" * ";}else{_1ec+=" ";}var ts=function(s,e){return trim(_1ec.slice(s,e));};var _1ed=[];var _1ee=-1,_1ef=-1,_1f0=-1,_1f1=-1,_1f2=-1,inId=-1,_1f3=-1,lc="",cc="",_1f4;var x=0,ql=_1ec.length,_1f5=null,_1f6=null;var _1f7=function(){if(_1f3>=0){var tv=(_1f3==x)?null:ts(_1f3,x);_1f5[(_1e8.indexOf(tv)<0)?"tag":"oper"]=tv;_1f3=-1;}};var _1f8=function(){if(inId>=0){_1f5.id=ts(inId,x).replace(/\\/g,"");inId=-1;}};var _1f9=function(){if(_1f2>=0){_1f5.classes.push(ts(_1f2+1,x).replace(/\\/g,""));_1f2=-1;}};var _1fa=function(){_1f8();_1f7();_1f9();};var _1fb=function(){_1fa();if(_1f1>=0){_1f5.pseudos.push({name:ts(_1f1+1,x)});}_1f5.loops=(_1f5.pseudos.length||_1f5.attrs.length||_1f5.classes.length);_1f5.oquery=_1f5.query=ts(_1f4,x);_1f5.otag=_1f5.tag=(_1f5["oper"])?null:(_1f5.tag||"*");if(_1f5.tag){_1f5.tag=_1f5.tag.toUpperCase();}if(_1ed.length&&(_1ed[_1ed.length-1].oper)){_1f5.infixOper=_1ed.pop();_1f5.query=_1f5.infixOper.query+" "+_1f5.query;}_1ed.push(_1f5);_1f5=null;};for(;lc=cc,cc=_1ec.charAt(x),x<ql;x++){if(lc=="\\"){continue;}if(!_1f5){_1f4=x;_1f5={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return (_1e9)?this.otag:this.tag;}};_1f3=x;}if(_1ee>=0){if(cc=="]"){if(!_1f6.attr){_1f6.attr=ts(_1ee+1,x);}else{_1f6.matchFor=ts((_1f0||_1ee+1),x);}var cmf=_1f6.matchFor;if(cmf){if((cmf.charAt(0)=="\"")||(cmf.charAt(0)=="'")){_1f6.matchFor=cmf.slice(1,-1);}}_1f5.attrs.push(_1f6);_1f6=null;_1ee=_1f0=-1;}else{if(cc=="="){var _1fc=("|~^$*".indexOf(lc)>=0)?lc:"";_1f6.type=_1fc+cc;_1f6.attr=ts(_1ee+1,x-_1fc.length);_1f0=x+1;}}}else{if(_1ef>=0){if(cc==")"){if(_1f1>=0){_1f6.value=ts(_1ef+1,x);}_1f1=_1ef=-1;}}else{if(cc=="#"){_1fa();inId=x+1;}else{if(cc=="."){_1fa();_1f2=x;}else{if(cc==":"){_1fa();_1f1=x;}else{if(cc=="["){_1fa();_1ee=x;_1f6={};}else{if(cc=="("){if(_1f1>=0){_1f6={name:ts(_1f1+1,x),value:null};_1f5.pseudos.push(_1f6);}_1ef=x;}else{if((cc==" ")&&(lc!=cc)){_1fb();}}}}}}}}}return _1ed;};var _1fd=function(_1fe,_1ff){if(!_1fe){return _1ff;}if(!_1ff){return _1fe;}return function(){return _1fe.apply(window,arguments)&&_1ff.apply(window,arguments);};};var _200=function(i,arr){var r=arr||[];if(i){r.push(i);}return r;};var _201=function(n){return (1==n.nodeType);};var _202="";var _203=function(elem,attr){if(!elem){return _202;}if(attr=="class"){return elem.className||_202;}if(attr=="for"){return elem.htmlFor||_202;}if(attr=="style"){return elem.style.cssText||_202;}return (_1e9?elem.getAttribute(attr):elem.getAttribute(attr,2))||_202;};var _204={"*=":function(attr,_205){return function(elem){return (_203(elem,attr).indexOf(_205)>=0);};},"^=":function(attr,_206){return function(elem){return (_203(elem,attr).indexOf(_206)==0);};},"$=":function(attr,_207){var tval=" "+_207;return function(elem){var ea=" "+_203(elem,attr);return (ea.lastIndexOf(_207)==(ea.length-_207.length));};},"~=":function(attr,_208){var tval=" "+_208+" ";return function(elem){var ea=" "+_203(elem,attr)+" ";return (ea.indexOf(tval)>=0);};},"|=":function(attr,_209){var _20a=" "+_209+"-";return function(elem){var ea=" "+_203(elem,attr);return ((ea==_209)||(ea.indexOf(_20a)==0));};},"=":function(attr,_20b){return function(elem){return (_203(elem,attr)==_20b);};}};var _20c=(typeof _1e5().firstChild.nextElementSibling=="undefined");var _20d=!_20c?"nextElementSibling":"nextSibling";var _20e=!_20c?"previousElementSibling":"previousSibling";var _20f=(_20c?_201:_1ea);var _210=function(node){while(node=node[_20e]){if(_20f(node)){return false;}}return true;};var _211=function(node){while(node=node[_20d]){if(_20f(node)){return false;}}return true;};var _212=function(node){var root=node.parentNode;var i=0,tret=root[_1e7],ci=(node["_i"]||-1),cl=(root["_l"]||-1);if(!tret){return -1;}var l=tret.length;if(cl==l&&ci>=0&&cl>=0){return ci;}root["_l"]=l;ci=-1;for(var te=root["firstElementChild"]||root["firstChild"];te;te=te[_20d]){if(_20f(te)){te["_i"]=++i;if(node===te){ci=i;}}}return ci;};var _213=function(elem){return !((_212(elem))%2);};var _214=function(elem){return ((_212(elem))%2);};var _215={"checked":function(name,_216){return function(elem){return !!("checked" in elem?elem.checked:elem.selected);};},"first-child":function(){return _210;},"last-child":function(){return _211;},"only-child":function(name,_217){return function(node){if(!_210(node)){return false;}if(!_211(node)){return false;}return true;};},"empty":function(name,_218){return function(elem){var cn=elem.childNodes;var cnl=elem.childNodes.length;for(var x=cnl-1;x>=0;x--){var nt=cn[x].nodeType;if((nt===1)||(nt==3)){return false;}}return true;};},"contains":function(name,_219){var cz=_219.charAt(0);if(cz=="\""||cz=="'"){_219=_219.slice(1,-1);}return function(elem){return (elem.innerHTML.indexOf(_219)>=0);};},"not":function(name,_21a){var p=_1eb(_21a)[0];var _21b={el:1};if(p.tag!="*"){_21b.tag=1;}if(!p.classes.length){_21b.classes=1;}var ntf=_21c(p,_21b);return function(elem){return (!ntf(elem));};},"nth-child":function(name,_21d){var pi=parseInt;if(_21d=="odd"){return _214;}else{if(_21d=="even"){return _213;}}if(_21d.indexOf("n")!=-1){var _21e=_21d.split("n",2);var pred=_21e[0]?((_21e[0]=="-")?-1:pi(_21e[0])):1;var idx=_21e[1]?pi(_21e[1]):0;var lb=0,ub=-1;if(pred>0){if(idx<0){idx=(idx%pred)&&(pred+(idx%pred));}else{if(idx>0){if(idx>=pred){lb=idx-idx%pred;}idx=idx%pred;}}}else{if(pred<0){pred*=-1;if(idx>0){ub=idx;idx=idx%pred;}}}if(pred>0){return function(elem){var i=_212(elem);return (i>=lb)&&(ub<0||i<=ub)&&((i%pred)==idx);};}else{_21d=idx;}}var _21f=pi(_21d);return function(elem){return (_212(elem)==_21f);};}};var _220=(d.isIE<9||(dojo.isIE&&dojo.isQuirks))?function(cond){var clc=cond.toLowerCase();if(clc=="class"){cond="className";}return function(elem){return (_1e9?elem.getAttribute(cond):elem[cond]||elem[clc]);};}:function(cond){return function(elem){return (elem&&elem.getAttribute&&elem.hasAttribute(cond));};};var _21c=function(_221,_222){if(!_221){return _1ea;}_222=_222||{};var ff=null;if(!("el" in _222)){ff=_1fd(ff,_201);}if(!("tag" in _222)){if(_221.tag!="*"){ff=_1fd(ff,function(elem){return (elem&&(elem.tagName==_221.getTag()));});}}if(!("classes" in _222)){each(_221.classes,function(_223,idx,arr){var re=new RegExp("(?:^|\\s)"+_223+"(?:\\s|$)");ff=_1fd(ff,function(elem){return re.test(elem.className);});ff.count=idx;});}if(!("pseudos" in _222)){each(_221.pseudos,function(_224){var pn=_224.name;if(_215[pn]){ff=_1fd(ff,_215[pn](pn,_224.value));}});}if(!("attrs" in _222)){each(_221.attrs,function(attr){var _225;var a=attr.attr;if(attr.type&&_204[attr.type]){_225=_204[attr.type](a,attr.matchFor);}else{if(a.length){_225=_220(a);}}if(_225){ff=_1fd(ff,_225);}});}if(!("id" in _222)){if(_221.id){ff=_1fd(ff,function(elem){return (!!elem&&(elem.id==_221.id));});}}if(!ff){if(!("default" in _222)){ff=_1ea;}}return ff;};var _226=function(_227){return function(node,ret,bag){while(node=node[_20d]){if(_20c&&(!_201(node))){continue;}if((!bag||_228(node,bag))&&_227(node)){ret.push(node);}break;}return ret;};};var _229=function(_22a){return function(root,ret,bag){var te=root[_20d];while(te){if(_20f(te)){if(bag&&!_228(te,bag)){break;}if(_22a(te)){ret.push(te);}}te=te[_20d];}return ret;};};var _22b=function(_22c){_22c=_22c||_1ea;return function(root,ret,bag){var te,x=0,tret=root[_1e7];while(te=tret[x++]){if(_20f(te)&&(!bag||_228(te,bag))&&(_22c(te,x))){ret.push(te);}}return ret;};};var _22d=function(node,root){var pn=node.parentNode;while(pn){if(pn==root){break;}pn=pn.parentNode;}return !!pn;};var _22e={};var _22f=function(_230){var _231=_22e[_230.query];if(_231){return _231;}var io=_230.infixOper;var oper=(io?io.oper:"");var _232=_21c(_230,{el:1});var qt=_230.tag;var _233=("*"==qt);var ecs=_1e5()["getElementsByClassName"];if(!oper){if(_230.id){_232=(!_230.loops&&_233)?_1ea:_21c(_230,{el:1,id:1});_231=function(root,arr){var te=d.byId(_230.id,(root.ownerDocument||root));if(!te||!_232(te)){return;}if(9==root.nodeType){return _200(te,arr);}else{if(_22d(te,root)){return _200(te,arr);}}};}else{if(ecs&&/\{\s*\[native code\]\s*\}/.test(String(ecs))&&_230.classes.length&&!_1e6){_232=_21c(_230,{el:1,classes:1,id:1});var _234=_230.classes.join(" ");_231=function(root,arr,bag){var ret=_200(0,arr),te,x=0;var tret=root.getElementsByClassName(_234);while((te=tret[x++])){if(_232(te,root)&&_228(te,bag)){ret.push(te);}}return ret;};}else{if(!_233&&!_230.loops){_231=function(root,arr,bag){var ret=_200(0,arr),te,x=0;var tret=root.getElementsByTagName(_230.getTag());while((te=tret[x++])){if(_228(te,bag)){ret.push(te);}}return ret;};}else{_232=_21c(_230,{el:1,tag:1,id:1});_231=function(root,arr,bag){var ret=_200(0,arr),te,x=0;var tret=root.getElementsByTagName(_230.getTag());while((te=tret[x++])){if(_232(te,root)&&_228(te,bag)){ret.push(te);}}return ret;};}}}}else{var _235={el:1};if(_233){_235.tag=1;}_232=_21c(_230,_235);if("+"==oper){_231=_226(_232);}else{if("~"==oper){_231=_229(_232);}else{if(">"==oper){_231=_22b(_232);}}}}return _22e[_230.query]=_231;};var _236=function(root,_237){var _238=_200(root),qp,x,te,qpl=_237.length,bag,ret;for(var i=0;i<qpl;i++){ret=[];qp=_237[i];x=_238.length-1;if(x>0){bag={};ret.nozip=true;}var gef=_22f(qp);for(var j=0;(te=_238[j]);j++){gef(te,ret,bag);}if(!ret.length){break;}_238=ret;}return ret;};var _239={},_23a={};var _23b=function(_23c){var _23d=_1eb(trim(_23c));if(_23d.length==1){var tef=_22f(_23d[0]);return function(root){var r=tef(root,new qlc());if(r){r.nozip=true;}return r;};}return function(root){return _236(root,_23d);};};var nua=navigator.userAgent;var wk="WebKit/";var _23e=(d.isWebKit&&(nua.indexOf(wk)>0)&&(parseFloat(nua.split(wk)[1])>528));var _23f=d.isIE?"commentStrip":"nozip";var qsa="querySelectorAll";var _240=(!!_1e5()[qsa]&&(!d.isSafari||(d.isSafari>3.1)||_23e));var _241=/n\+\d|([^ ])?([>~+])([^ =])?/g;var _242=function(_243,pre,ch,post){return ch?(pre?pre+" ":"")+ch+(post?" "+post:""):_243;};var _244=function(_245,_246){_245=_245.replace(_241,_242);if(_240){var _247=_23a[_245];if(_247&&!_246){return _247;}}var _248=_239[_245];if(_248){return _248;}var qcz=_245.charAt(0);var _249=(-1==_245.indexOf(" "));if((_245.indexOf("#")>=0)&&(_249)){_246=true;}var _24a=(_240&&(!_246)&&(_1e8.indexOf(qcz)==-1)&&(!d.isIE||(_245.indexOf(":")==-1))&&(!(_1e6&&(_245.indexOf(".")>=0)))&&(_245.indexOf(":contains")==-1)&&(_245.indexOf(":checked")==-1)&&(_245.indexOf("|=")==-1));if(_24a){var tq=(_1e8.indexOf(_245.charAt(_245.length-1))>=0)?(_245+" *"):_245;return _23a[_245]=function(root){try{if(!((9==root.nodeType)||_249)){throw "";}var r=root[qsa](tq);r[_23f]=true;return r;}catch(e){return _244(_245,true)(root);}};}else{var _24b=_245.split(/\s*,\s*/);return _239[_245]=((_24b.length<2)?_23b(_245):function(root){var _24c=0,ret=[],tp;while((tp=_24b[_24c++])){ret=ret.concat(_23b(tp)(root));}return ret;});}};var _24d=0;var _24e=d.isIE?function(node){if(_1e9){return (node.getAttribute("_uid")||node.setAttribute("_uid",++_24d)||_24d);}else{return node.uniqueID;}}:function(node){return (node._uid||(node._uid=++_24d));};var _228=function(node,bag){if(!bag){return 1;}var id=_24e(node);if(!bag[id]){return bag[id]=1;}return 0;};var _24f="_zipIdx";var _250=function(arr){if(arr&&arr.nozip){return (qlc._wrap)?qlc._wrap(arr):arr;}var ret=new qlc();if(!arr||!arr.length){return ret;}if(arr[0]){ret.push(arr[0]);}if(arr.length<2){return ret;}_24d++;if(d.isIE&&_1e9){var _251=_24d+"";arr[0].setAttribute(_24f,_251);for(var x=1,te;te=arr[x];x++){if(arr[x].getAttribute(_24f)!=_251){ret.push(te);}te.setAttribute(_24f,_251);}}else{if(d.isIE&&arr.commentStrip){try{for(var x=1,te;te=arr[x];x++){if(_201(te)){ret.push(te);}}}catch(e){}}else{if(arr[0]){arr[0][_24f]=_24d;}for(var x=1,te;te=arr[x];x++){if(arr[x][_24f]!=_24d){ret.push(te);}te[_24f]=_24d;}}}return ret;};d.query=function(_252,root){qlc=d._NodeListCtor;if(!_252){return new qlc();}if(_252.constructor==qlc){return _252;}if(typeof _252!="string"){return new qlc(_252);}if(typeof root=="string"){root=d.byId(root);if(!root){return new qlc();}}root=root||_1e5();var od=root.ownerDocument||root.documentElement;_1e9=(root.contentType&&root.contentType=="application/xml")||(d.isOpera&&(root.doctype||od.toString()=="[object XMLDocument]"))||(!!od)&&(d.isIE?od.xml:(root.xmlVersion||od.xmlVersion));var r=_244(_252)(root);if(r&&r.nozip&&!qlc._wrap){return r;}return _250(r);};d.query.pseudos=_215;d._filterQueryResult=function(_253,_254,root){var _255=new d._NodeListCtor(),_256=_1eb(_254),_257=(_256.length==1&&!/[^\w#\.]/.test(_254))?_21c(_256[0]):function(node){return dojo.query(_254,root).indexOf(node)!=-1;};for(var x=0,te;te=_253[x];x++){if(_257(te)){_255.push(te);}}return _255;};};var _258=function(){acme={trim:function(str){str=str.replace(/^\s+/,"");for(var i=str.length-1;i>=0;i--){if(/\S/.test(str.charAt(i))){str=str.substring(0,i+1);break;}}return str;},forEach:function(arr,_259,_25a){if(!arr||!arr.length){return;}for(var i=0,l=arr.length;i<l;++i){_259.call(_25a||window,arr[i],i,arr);}},byId:function(id,doc){if(typeof id=="string"){return (doc||document).getElementById(id);}else{return id;}},doc:document,NodeList:Array};var n=navigator;var dua=n.userAgent;var dav=n.appVersion;var tv=parseFloat(dav);acme.isOpera=(dua.indexOf("Opera")>=0)?tv:undefined;acme.isKhtml=(dav.indexOf("Konqueror")>=0)?tv:undefined;acme.isWebKit=parseFloat(dua.split("WebKit/")[1])||undefined;acme.isChrome=parseFloat(dua.split("Chrome/")[1])||undefined;var _25b=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(_25b&&!acme.isChrome){acme.isSafari=parseFloat(dav.split("Version/")[1]);if(!acme.isSafari||parseFloat(dav.substr(_25b+7))<=419.3){acme.isSafari=2;}}if(document.all&&!acme.isOpera){acme.isIE=parseFloat(dav.split("MSIE ")[1])||undefined;}Array._wrap=function(arr){return arr;};return acme;};if(this["dojo"]){dojo.provide("dojo._base.query");_1e4(this["queryPortability"]||this["acme"]||dojo);}else{_1e4(this["queryPortability"]||this["acme"]||_258());}})();}if(!dojo._hasResource["dojo._base.xhr"]){dojo._hasResource["dojo._base.xhr"]=true;dojo.provide("dojo._base.xhr");(function(){var _25c=dojo,cfg=_25c.config;function _25d(obj,name,_25e){if(_25e===null){return;}var val=obj[name];if(typeof val=="string"){obj[name]=[val,_25e];}else{if(_25c.isArray(val)){val.push(_25e);}else{obj[name]=_25e;}}};dojo.fieldToObject=function(_25f){var ret=null;var item=_25c.byId(_25f);if(item){var _260=item.name;var type=(item.type||"").toLowerCase();if(_260&&type&&!item.disabled){if(type=="radio"||type=="checkbox"){if(item.checked){ret=item.value;}}else{if(item.multiple){ret=[];_25c.query("option",item).forEach(function(opt){if(opt.selected){ret.push(opt.value);}});}else{ret=item.value;}}}}return ret;};dojo.formToObject=function(_261){var ret={};var _262="file|submit|image|reset|button|";_25c.forEach(dojo.byId(_261).elements,function(item){var _263=item.name;var type=(item.type||"").toLowerCase();if(_263&&type&&_262.indexOf(type)==-1&&!item.disabled){_25d(ret,_263,_25c.fieldToObject(item));if(type=="image"){ret[_263+".x"]=ret[_263+".y"]=ret[_263].x=ret[_263].y=0;}}});return ret;};dojo.objectToQuery=function(map){var enc=encodeURIComponent;var _264=[];var _265={};for(var name in map){var _266=map[name];if(_266!=_265[name]){var _267=enc(name)+"=";if(_25c.isArray(_266)){for(var i=0;i<_266.length;i++){_264.push(_267+enc(_266[i]));}}else{_264.push(_267+enc(_266));}}}return _264.join("&");};dojo.formToQuery=function(_268){return _25c.objectToQuery(_25c.formToObject(_268));};dojo.formToJson=function(_269,_26a){return _25c.toJson(_25c.formToObject(_269),_26a);};dojo.queryToObject=function(str){var ret={};var qp=str.split("&");var dec=decodeURIComponent;_25c.forEach(qp,function(item){if(item.length){var _26b=item.split("=");var name=dec(_26b.shift());var val=dec(_26b.join("="));if(typeof ret[name]=="string"){ret[name]=[ret[name]];}if(_25c.isArray(ret[name])){ret[name].push(val);}else{ret[name]=val;}}});return ret;};dojo._blockAsync=false;var _26c=_25c._contentHandlers=dojo.contentHandlers={text:function(xhr){return xhr.responseText;},json:function(xhr){return _25c.fromJson(xhr.responseText||null);},"json-comment-filtered":function(xhr){if(!dojo.config.useCommentedJson){console.warn("Consider using the standard mimetype:application/json."+" json-commenting can introduce security issues. To"+" decrease the chances of hijacking, use the standard the 'json' handler and"+" prefix your json with: {}&&\n"+"Use djConfig.useCommentedJson=true to turn off this message.");}var _26d=xhr.responseText;var _26e=_26d.indexOf("/*");var _26f=_26d.lastIndexOf("*/");if(_26e==-1||_26f==-1){throw new Error("JSON was not comment filtered");}return _25c.fromJson(_26d.substring(_26e+2,_26f));},javascript:function(xhr){return _25c.eval(xhr.responseText);},xml:function(xhr){var _270=xhr.responseXML;if(_25c.isIE&&(!_270||!_270.documentElement)){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];_25c.some(dp,function(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(xhr.responseText);_270=dom;}catch(e){return false;}return true;});}return _270;},"json-comment-optional":function(xhr){if(xhr.responseText&&/^[^{\[]*\/\*/.test(xhr.responseText)){return _26c["json-comment-filtered"](xhr);}else{return _26c["json"](xhr);}}};dojo._ioSetArgs=function(args,_271,_272,_273){var _274={args:args,url:args.url};var _275=null;if(args.form){var form=_25c.byId(args.form);var _276=form.getAttributeNode("action");_274.url=_274.url||(_276?_276.value:null);_275=_25c.formToObject(form);}var _277=[{}];if(_275){_277.push(_275);}if(args.content){_277.push(args.content);}if(args.preventCache){_277.push({"dojo.preventCache":new Date().valueOf()});}_274.query=_25c.objectToQuery(_25c.mixin.apply(null,_277));_274.handleAs=args.handleAs||"text";var d=new _25c.Deferred(_271);d.addCallbacks(_272,function(_278){return _273(_278,d);});var ld=args.load;if(ld&&_25c.isFunction(ld)){d.addCallback(function(_279){return ld.call(args,_279,_274);});}var err=args.error;if(err&&_25c.isFunction(err)){d.addErrback(function(_27a){return err.call(args,_27a,_274);});}var _27b=args.handle;if(_27b&&_25c.isFunction(_27b)){d.addBoth(function(_27c){return _27b.call(args,_27c,_274);});}if(cfg.ioPublish&&_25c.publish&&_274.args.ioPublish!==false){d.addCallbacks(function(res){_25c.publish("/dojo/io/load",[d,res]);return res;},function(res){_25c.publish("/dojo/io/error",[d,res]);return res;});d.addBoth(function(res){_25c.publish("/dojo/io/done",[d,res]);return res;});}d.ioArgs=_274;return d;};var _27d=function(dfd){dfd.canceled=true;var xhr=dfd.ioArgs.xhr;var _27e=typeof xhr.abort;if(_27e=="function"||_27e=="object"||_27e=="unknown"){xhr.abort();}var err=dfd.ioArgs.error;if(!err){err=new Error("xhr cancelled");err.dojoType="cancel";}return err;};var _27f=function(dfd){var ret=_26c[dfd.ioArgs.handleAs](dfd.ioArgs.xhr);return ret===undefined?null:ret;};var _280=function(_281,dfd){if(!dfd.ioArgs.args.failOk){console.error(_281);}return _281;};var _282=null;var _283=[];var _284=0;var _285=function(dfd){if(_284<=0){_284=0;if(cfg.ioPublish&&_25c.publish&&(!dfd||dfd&&dfd.ioArgs.args.ioPublish!==false)){_25c.publish("/dojo/io/stop");}}};var _286=function(){var now=(new Date()).getTime();if(!_25c._blockAsync){for(var i=0,tif;i<_283.length&&(tif=_283[i]);i++){var dfd=tif.dfd;var func=function(){if(!dfd||dfd.canceled||!tif.validCheck(dfd)){_283.splice(i--,1);_284-=1;}else{if(tif.ioCheck(dfd)){_283.splice(i--,1);tif.resHandle(dfd);_284-=1;}else{if(dfd.startTime){if(dfd.startTime+(dfd.ioArgs.args.timeout||0)<now){_283.splice(i--,1);var err=new Error("timeout exceeded");err.dojoType="timeout";dfd.errback(err);dfd.cancel();_284-=1;}}}}};if(dojo.config.debugAtAllCosts){func.call(this);}else{try{func.call(this);}catch(e){dfd.errback(e);}}}}_285(dfd);if(!_283.length){clearInterval(_282);_282=null;return;}};dojo._ioCancelAll=function(){try{_25c.forEach(_283,function(i){try{i.dfd.cancel();}catch(e){}});}catch(e){}};if(_25c.isIE){_25c.addOnWindowUnload(_25c._ioCancelAll);}_25c._ioNotifyStart=function(dfd){if(cfg.ioPublish&&_25c.publish&&dfd.ioArgs.args.ioPublish!==false){if(!_284){_25c.publish("/dojo/io/start");}_284+=1;_25c.publish("/dojo/io/send",[dfd]);}};_25c._ioWatch=function(dfd,_287,_288,_289){var args=dfd.ioArgs.args;if(args.timeout){dfd.startTime=(new Date()).getTime();}_283.push({dfd:dfd,validCheck:_287,ioCheck:_288,resHandle:_289});if(!_282){_282=setInterval(_286,50);}if(args.sync){_286();}};var _28a="application/x-www-form-urlencoded";var _28b=function(dfd){return dfd.ioArgs.xhr.readyState;};var _28c=function(dfd){return 4==dfd.ioArgs.xhr.readyState;};var _28d=function(dfd){var xhr=dfd.ioArgs.xhr;if(_25c._isDocumentOk(xhr)){dfd.callback(dfd);}else{var err=new Error("Unable to load "+dfd.ioArgs.url+" status:"+xhr.status);err.status=xhr.status;err.responseText=xhr.responseText;dfd.errback(err);}};dojo._ioAddQueryToUrl=function(_28e){if(_28e.query.length){_28e.url+=(_28e.url.indexOf("?")==-1?"?":"&")+_28e.query;_28e.query=null;}};dojo.xhr=function(_28f,args,_290){var dfd=_25c._ioSetArgs(args,_27d,_27f,_280);var _291=dfd.ioArgs;var xhr=_291.xhr=_25c._xhrObj(_291.args);if(!xhr){dfd.cancel();return dfd;}if("postData" in args){_291.query=args.postData;}else{if("putData" in args){_291.query=args.putData;}else{if("rawBody" in args){_291.query=args.rawBody;}else{if((arguments.length>2&&!_290)||"POST|PUT".indexOf(_28f.toUpperCase())==-1){_25c._ioAddQueryToUrl(_291);}}}}xhr.open(_28f,_291.url,args.sync!==true,args.user||undefined,args.password||undefined);if(args.headers){for(var hdr in args.headers){if(hdr.toLowerCase()==="content-type"&&!args.contentType){args.contentType=args.headers[hdr];}else{if(args.headers[hdr]){xhr.setRequestHeader(hdr,args.headers[hdr]);}}}}xhr.setRequestHeader("Content-Type",args.contentType||_28a);if(!args.headers||!("X-Requested-With" in args.headers)){xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");}_25c._ioNotifyStart(dfd);if(dojo.config.debugAtAllCosts){xhr.send(_291.query);}else{try{xhr.send(_291.query);}catch(e){_291.error=e;dfd.cancel();}}_25c._ioWatch(dfd,_28b,_28c,_28d);xhr=null;return dfd;};dojo.xhrGet=function(args){return _25c.xhr("GET",args);};dojo.rawXhrPost=dojo.xhrPost=function(args){return _25c.xhr("POST",args,true);};dojo.rawXhrPut=dojo.xhrPut=function(args){return _25c.xhr("PUT",args,true);};dojo.xhrDelete=function(args){return _25c.xhr("DELETE",args);};})();}if(!dojo._hasResource["dojo._base.fx"]){dojo._hasResource["dojo._base.fx"]=true;dojo.provide("dojo._base.fx");(function(){var d=dojo;var _292=d._mixin;dojo._Line=function(_293,end){this.start=_293;this.end=end;};dojo._Line.prototype.getValue=function(n){return ((this.end-this.start)*n)+this.start;};dojo.Animation=function(args){_292(this,args);if(d.isArray(this.curve)){this.curve=new d._Line(this.curve[0],this.curve[1]);}};d._Animation=d.Animation;d.extend(dojo.Animation,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var _294=this._percent,_295=this.easing;return _295?_295(_294):_294;},_fire:function(evt,args){var a=args||[];if(this[evt]){if(d.config.debugAtAllCosts){this[evt].apply(this,a);}else{try{this[evt].apply(this,a);}catch(e){console.error("exception in animation handler for:",evt);console.error(e);}}}return this;},play:function(_296,_297){var _298=this;if(_298._delayTimer){_298._clearTimer();}if(_297){_298._stopTimer();_298._active=_298._paused=false;_298._percent=0;}else{if(_298._active&&!_298._paused){return _298;}}_298._fire("beforeBegin",[_298.node]);var de=_296||_298.delay,_299=dojo.hitch(_298,"_play",_297);if(de>0){_298._delayTimer=setTimeout(_299,de);return _298;}_299();return _298;},_play:function(_29a){var _29b=this;if(_29b._delayTimer){_29b._clearTimer();}_29b._startTime=new Date().valueOf();if(_29b._paused){_29b._startTime-=_29b.duration*_29b._percent;}_29b._active=true;_29b._paused=false;var _29c=_29b.curve.getValue(_29b._getStep());if(!_29b._percent){if(!_29b._startRepeatCount){_29b._startRepeatCount=_29b.repeat;}_29b._fire("onBegin",[_29c]);}_29b._fire("onPlay",[_29c]);_29b._cycle();return _29b;},pause:function(){var _29d=this;if(_29d._delayTimer){_29d._clearTimer();}_29d._stopTimer();if(!_29d._active){return _29d;}_29d._paused=true;_29d._fire("onPause",[_29d.curve.getValue(_29d._getStep())]);return _29d;},gotoPercent:function(_29e,_29f){var _2a0=this;_2a0._stopTimer();_2a0._active=_2a0._paused=true;_2a0._percent=_29e;if(_29f){_2a0.play();}return _2a0;},stop:function(_2a1){var _2a2=this;if(_2a2._delayTimer){_2a2._clearTimer();}if(!_2a2._timer){return _2a2;}_2a2._stopTimer();if(_2a1){_2a2._percent=1;}_2a2._fire("onStop",[_2a2.curve.getValue(_2a2._getStep())]);_2a2._active=_2a2._paused=false;return _2a2;},status:function(){if(this._active){return this._paused?"paused":"playing";}return "stopped";},_cycle:function(){var _2a3=this;if(_2a3._active){var curr=new Date().valueOf();var step=(curr-_2a3._startTime)/(_2a3.duration);if(step>=1){step=1;}_2a3._percent=step;if(_2a3.easing){step=_2a3.easing(step);}_2a3._fire("onAnimate",[_2a3.curve.getValue(step)]);if(_2a3._percent<1){_2a3._startTimer();}else{_2a3._active=false;if(_2a3.repeat>0){_2a3.repeat--;_2a3.play(null,true);}else{if(_2a3.repeat==-1){_2a3.play(null,true);}else{if(_2a3._startRepeatCount){_2a3.repeat=_2a3._startRepeatCount;_2a3._startRepeatCount=0;}}}_2a3._percent=0;_2a3._fire("onEnd",[_2a3.node]);!_2a3.repeat&&_2a3._stopTimer();}}return _2a3;},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer;}});var ctr=0,_2a4=null,_2a5={run:function(){}};d.extend(d.Animation,{_startTimer:function(){if(!this._timer){this._timer=d.connect(_2a5,"run",this,"_cycle");ctr++;}if(!_2a4){_2a4=setInterval(d.hitch(_2a5,"run"),this.rate);}},_stopTimer:function(){if(this._timer){d.disconnect(this._timer);this._timer=null;ctr--;}if(ctr<=0){clearInterval(_2a4);_2a4=null;ctr=0;}}});var _2a6=d.isIE?function(node){var ns=node.style;if(!ns.width.length&&d.style(node,"width")=="auto"){ns.width="auto";}}:function(){};dojo._fade=function(args){args.node=d.byId(args.node);var _2a7=_292({properties:{}},args),_2a8=(_2a7.properties.opacity={});_2a8.start=!("start" in _2a7)?function(){return +d.style(_2a7.node,"opacity")||0;}:_2a7.start;_2a8.end=_2a7.end;var anim=d.animateProperty(_2a7);d.connect(anim,"beforeBegin",d.partial(_2a6,_2a7.node));return anim;};dojo.fadeIn=function(args){return d._fade(_292({end:1},args));};dojo.fadeOut=function(args){return d._fade(_292({end:0},args));};dojo._defaultEasing=function(n){return 0.5+((Math.sin((n+1.5)*Math.PI))/2);};var _2a9=function(_2aa){this._properties=_2aa;for(var p in _2aa){var prop=_2aa[p];if(prop.start instanceof d.Color){prop.tempColor=new d.Color();}}};_2a9.prototype.getValue=function(r){var ret={};for(var p in this._properties){var prop=this._properties[p],_2ab=prop.start;if(_2ab instanceof d.Color){ret[p]=d.blendColors(_2ab,prop.end,r,prop.tempColor).toCss();}else{if(!d.isArray(_2ab)){ret[p]=((prop.end-_2ab)*r)+_2ab+(p!="opacity"?prop.units||"px":0);}}}return ret;};dojo.animateProperty=function(args){var n=args.node=d.byId(args.node);if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args);d.connect(anim,"beforeBegin",anim,function(){var pm={};for(var p in this.properties){if(p=="width"||p=="height"){this.node.display="block";}var prop=this.properties[p];if(d.isFunction(prop)){prop=prop(n);}prop=pm[p]=_292({},(d.isObject(prop)?prop:{end:prop}));if(d.isFunction(prop.start)){prop.start=prop.start(n);}if(d.isFunction(prop.end)){prop.end=prop.end(n);}var _2ac=(p.toLowerCase().indexOf("color")>=0);function _2ad(node,p){var v={height:node.offsetHeight,width:node.offsetWidth}[p];if(v!==undefined){return v;}v=d.style(node,p);return (p=="opacity")?+v:(_2ac?v:parseFloat(v));};if(!("end" in prop)){prop.end=_2ad(n,p);}else{if(!("start" in prop)){prop.start=_2ad(n,p);}}if(_2ac){prop.start=new d.Color(prop.start);prop.end=new d.Color(prop.end);}else{prop.start=(p=="opacity")?+prop.start:parseFloat(prop.start);}}this.curve=new _2a9(pm);});d.connect(anim,"onAnimate",d.hitch(d,"style",anim.node));return anim;};dojo.anim=function(node,_2ae,_2af,_2b0,_2b1,_2b2){return d.animateProperty({node:node,duration:_2af||d.Animation.prototype.duration,properties:_2ae,easing:_2b0,onEnd:_2b1}).play(_2b2||0);};})();}if(!dojo._hasResource["dojo._base.browser"]){dojo._hasResource["dojo._base.browser"]=true;dojo.provide("dojo._base.browser");dojo.forEach(dojo.config.require,function(i){dojo["require"](i);});}if(!dojo._hasResource["dojo._base"]){dojo._hasResource["dojo._base"]=true;dojo.provide("dojo._base");}if(dojo.isBrowser&&(document.readyState==="complete"||dojo.config.afterOnLoad)){window.setTimeout(dojo._loadInit,100);}})();


/*  Prototype JavaScript framework, version 1.7
 *  (c) 2005-2010 Sam Stephenson
 *
 *  Prototype is freely distributable under the terms of an MIT-style license.
 *  For details, see the Prototype web site: http://www.prototypejs.org/
 *
 *--------------------------------------------------------------------------*/

var Prototype = {

  Version: '1.7',

  Browser: (function(){
    var ua = navigator.userAgent;
    var isOpera = Object.prototype.toString.call(window.opera) == '[object Opera]';
    return {
      IE:             !!window.attachEvent && !isOpera,
      Opera:          isOpera,
      WebKit:         ua.indexOf('AppleWebKit/') > -1,
      Gecko:          ua.indexOf('Gecko') > -1 && ua.indexOf('KHTML') === -1,
      MobileSafari:   /Apple.*Mobile/.test(ua)
    }
  })(),

  BrowserFeatures: {
    XPath: !!document.evaluate,

    SelectorsAPI: !!document.querySelector,

    ElementExtensions: (function() {
      var constructor = window.Element || window.HTMLElement;
      return !!(constructor && constructor.prototype);
    })(),
    SpecificElementExtensions: (function() {
      if (typeof window.HTMLDivElement !== 'undefined')
        return true;

      var div = document.createElement('div'),
          form = document.createElement('form'),
          isSupported = false;

      if (div['__proto__'] && (div['__proto__'] !== form['__proto__'])) {
        isSupported = true;
      }

      div = form = null;

      return isSupported;
    })()
  },

  ScriptFragment: '<script[^>]*>([\\S\\s]*?)<\/script>',
  JSONFilter: /^\/\*-secure-([\s\S]*)\*\/\s*$/,

  emptyFunction: function() { },

  K: function(x) { return x }
};

if (Prototype.Browser.MobileSafari)
  Prototype.BrowserFeatures.SpecificElementExtensions = false;
/* Based on Alex Arnell's inheritance implementation. */

var Class = (function() {

  var IS_DONTENUM_BUGGY = (function(){
    for (var p in { toString: 1 }) {
      if (p === 'toString') return false;
    }
    return true;
  })();

  function subclass() {};
  function create() {
    var parent = null, properties = $A(arguments);
    if (Object.isFunction(properties[0]))
      parent = properties.shift();

    function klass() {
      this.initialize.apply(this, arguments);
    }

    Object.extend(klass, Class.Methods);
    klass.superclass = parent;
    klass.subclasses = [];

    if (parent) {
      subclass.prototype = parent.prototype;
      klass.prototype = new subclass;
      parent.subclasses.push(klass);
    }

    for (var i = 0, length = properties.length; i < length; i++)
      klass.addMethods(properties[i]);

    if (!klass.prototype.initialize)
      klass.prototype.initialize = Prototype.emptyFunction;

    klass.prototype.constructor = klass;
    return klass;
  }

  function addMethods(source) {
    var ancestor   = this.superclass && this.superclass.prototype,
        properties = Object.keys(source);

    if (IS_DONTENUM_BUGGY) {
      if (source.toString != Object.prototype.toString)
        properties.push("toString");
      if (source.valueOf != Object.prototype.valueOf)
        properties.push("valueOf");
    }

    for (var i = 0, length = properties.length; i < length; i++) {
      var property = properties[i], value = source[property];
      if (ancestor && Object.isFunction(value) &&
          value.argumentNames()[0] == "$super") {
        var method = value;
        value = (function(m) {
          return function() { return ancestor[m].apply(this, arguments); };
        })(property).wrap(method);

        value.valueOf = method.valueOf.bind(method);
        value.toString = method.toString.bind(method);
      }
      this.prototype[property] = value;
    }

    return this;
  }

  return {
    create: create,
    Methods: {
      addMethods: addMethods
    }
  };
})();
(function() {

  var _toString = Object.prototype.toString,
      NULL_TYPE = 'Null',
      UNDEFINED_TYPE = 'Undefined',
      BOOLEAN_TYPE = 'Boolean',
      NUMBER_TYPE = 'Number',
      STRING_TYPE = 'String',
      OBJECT_TYPE = 'Object',
      FUNCTION_CLASS = '[object Function]',
      BOOLEAN_CLASS = '[object Boolean]',
      NUMBER_CLASS = '[object Number]',
      STRING_CLASS = '[object String]',
      ARRAY_CLASS = '[object Array]',
      DATE_CLASS = '[object Date]',
      NATIVE_JSON_STRINGIFY_SUPPORT = window.JSON &&
        typeof JSON.stringify === 'function' &&
        JSON.stringify(0) === '0' &&
        typeof JSON.stringify(Prototype.K) === 'undefined';

  function Type(o) {
    switch(o) {
      case null: return NULL_TYPE;
      case (void 0): return UNDEFINED_TYPE;
    }
    var type = typeof o;
    switch(type) {
      case 'boolean': return BOOLEAN_TYPE;
      case 'number':  return NUMBER_TYPE;
      case 'string':  return STRING_TYPE;
    }
    return OBJECT_TYPE;
  }

  function extend(destination, source) {
    for (var property in source)
      destination[property] = source[property];
    return destination;
  }

  function inspect(object) {
    try {
      if (isUndefined(object)) return 'undefined';
      if (object === null) return 'null';
      return object.inspect ? object.inspect() : String(object);
    } catch (e) {
      if (e instanceof RangeError) return '...';
      throw e;
    }
  }

  function toJSON(value) {
    return Str('', { '': value }, []);
  }

  function Str(key, holder, stack) {
    var value = holder[key],
        type = typeof value;

    if (Type(value) === OBJECT_TYPE && typeof value.toJSON === 'function') {
      value = value.toJSON(key);
    }

    var _class = _toString.call(value);

    switch (_class) {
      case NUMBER_CLASS:
      case BOOLEAN_CLASS:
      case STRING_CLASS:
        value = value.valueOf();
    }

    switch (value) {
      case null: return 'null';
      case true: return 'true';
      case false: return 'false';
    }

    type = typeof value;
    switch (type) {
      case 'string':
        return value.inspect(true);
      case 'number':
        return isFinite(value) ? String(value) : 'null';
      case 'object':

        for (var i = 0, length = stack.length; i < length; i++) {
          if (stack[i] === value) { throw new TypeError(); }
        }
        stack.push(value);

        var partial = [];
        if (_class === ARRAY_CLASS) {
          for (var i = 0, length = value.length; i < length; i++) {
            var str = Str(i, value, stack);
            partial.push(typeof str === 'undefined' ? 'null' : str);
          }
          partial = '[' + partial.join(',') + ']';
        } else {
          var keys = Object.keys(value);
          for (var i = 0, length = keys.length; i < length; i++) {
            var key = keys[i], str = Str(key, value, stack);
            if (typeof str !== "undefined") {
               partial.push(key.inspect(true)+ ':' + str);
             }
          }
          partial = '{' + partial.join(',') + '}';
        }
        stack.pop();
        return partial;
    }
  }

  function stringify(object) {
    return JSON.stringify(object);
  }

  function toQueryString(object) {
    return $H(object).toQueryString();
  }

  function toHTML(object) {
    return object && object.toHTML ? object.toHTML() : String.interpret(object);
  }

  function keys(object) {
    if (Type(object) !== OBJECT_TYPE) { throw new TypeError(); }
    var results = [];
    for (var property in object) {
      if (object.hasOwnProperty(property)) {
        results.push(property);
      }
    }
    return results;
  }

  function values(object) {
    var results = [];
    for (var property in object)
      results.push(object[property]);
    return results;
  }

  function clone(object) {
    return extend({ }, object);
  }

  function isElement(object) {
    return !!(object && object.nodeType == 1);
  }

  function isArray(object) {
    return _toString.call(object) === ARRAY_CLASS;
  }

  var hasNativeIsArray = (typeof Array.isArray == 'function')
    && Array.isArray([]) && !Array.isArray({});

  if (hasNativeIsArray) {
    isArray = Array.isArray;
  }

  function isHash(object) {
    return object instanceof Hash;
  }

  function isFunction(object) {
    return _toString.call(object) === FUNCTION_CLASS;
  }

  function isString(object) {
    return _toString.call(object) === STRING_CLASS;
  }

  function isNumber(object) {
    return _toString.call(object) === NUMBER_CLASS;
  }

  function isDate(object) {
    return _toString.call(object) === DATE_CLASS;
  }

  function isUndefined(object) {
    return typeof object === "undefined";
  }

  extend(Object, {
    extend:        extend,
    inspect:       inspect,
    toJSON:        NATIVE_JSON_STRINGIFY_SUPPORT ? stringify : toJSON,
    toQueryString: toQueryString,
    toHTML:        toHTML,
    keys:          Object.keys || keys,
    values:        values,
    clone:         clone,
    isElement:     isElement,
    isArray:       isArray,
    isHash:        isHash,
    isFunction:    isFunction,
    isString:      isString,
    isNumber:      isNumber,
    isDate:        isDate,
    isUndefined:   isUndefined
  });
})();
Object.extend(Function.prototype, (function() {
  var slice = Array.prototype.slice;

  function update(array, args) {
    var arrayLength = array.length, length = args.length;
    while (length--) array[arrayLength + length] = args[length];
    return array;
  }

  function merge(array, args) {
    array = slice.call(array, 0);
    return update(array, args);
  }

  function argumentNames() {
    var names = this.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1]
      .replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g, '')
      .replace(/\s+/g, '').split(',');
    return names.length == 1 && !names[0] ? [] : names;
  }

  function bind(context) {
    if (arguments.length < 2 && Object.isUndefined(arguments[0])) return this;
    var __method = this, args = slice.call(arguments, 1);
    return function() {
      var a = merge(args, arguments);
      return __method.apply(context, a);
    }
  }

  function bindAsEventListener(context) {
    var __method = this, args = slice.call(arguments, 1);
    return function(event) {
      var a = update([event || window.event], args);
      return __method.apply(context, a);
    }
  }

  function curry() {
    if (!arguments.length) return this;
    var __method = this, args = slice.call(arguments, 0);
    return function() {
      var a = merge(args, arguments);
      return __method.apply(this, a);
    }
  }

  function delay(timeout) {
    var __method = this, args = slice.call(arguments, 1);
    timeout = timeout * 1000;
    return window.setTimeout(function() {
      return __method.apply(__method, args);
    }, timeout);
  }

  function defer() {
    var args = update([0.01], arguments);
    return this.delay.apply(this, args);
  }

  function wrap(wrapper) {
    var __method = this;
    return function() {
      var a = update([__method.bind(this)], arguments);
      return wrapper.apply(this, a);
    }
  }

  function methodize() {
    if (this._methodized) return this._methodized;
    var __method = this;
    return this._methodized = function() {
      var a = update([this], arguments);
      return __method.apply(null, a);
    };
  }

  return {
    argumentNames:       argumentNames,
    bind:                bind,
    bindAsEventListener: bindAsEventListener,
    curry:               curry,
    delay:               delay,
    defer:               defer,
    wrap:                wrap,
    methodize:           methodize
  }
})());



(function(proto) {


  function toISOString() {
    return this.getUTCFullYear() + '-' +
      (this.getUTCMonth() + 1).toPaddedString(2) + '-' +
      this.getUTCDate().toPaddedString(2) + 'T' +
      this.getUTCHours().toPaddedString(2) + ':' +
      this.getUTCMinutes().toPaddedString(2) + ':' +
      this.getUTCSeconds().toPaddedString(2) + 'Z';
  }


  function toJSON() {
    return this.toISOString();
  }

  if (!proto.toISOString) proto.toISOString = toISOString;
  if (!proto.toJSON) proto.toJSON = toJSON;

})(Date.prototype);


RegExp.prototype.match = RegExp.prototype.test;

RegExp.escape = function(str) {
  return String(str).replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1');
};
var PeriodicalExecuter = Class.create({
  initialize: function(callback, frequency) {
    this.callback = callback;
    this.frequency = frequency;
    this.currentlyExecuting = false;

    this.registerCallback();
  },

  registerCallback: function() {
    this.timer = setInterval(this.onTimerEvent.bind(this), this.frequency * 1000);
  },

  execute: function() {
    this.callback(this);
  },

  stop: function() {
    if (!this.timer) return;
    clearInterval(this.timer);
    this.timer = null;
  },

  onTimerEvent: function() {
    if (!this.currentlyExecuting) {
      try {
        this.currentlyExecuting = true;
        this.execute();
        this.currentlyExecuting = false;
      } catch(e) {
        this.currentlyExecuting = false;
        throw e;
      }
    }
  }
});
Object.extend(String, {
  interpret: function(value) {
    return value == null ? '' : String(value);
  },
  specialChar: {
    '\b': '\\b',
    '\t': '\\t',
    '\n': '\\n',
    '\f': '\\f',
    '\r': '\\r',
    '\\': '\\\\'
  }
});

Object.extend(String.prototype, (function() {
  var NATIVE_JSON_PARSE_SUPPORT = window.JSON &&
    typeof JSON.parse === 'function' &&
    JSON.parse('{"test": true}').test;

  function prepareReplacement(replacement) {
    if (Object.isFunction(replacement)) return replacement;
    var template = new Template(replacement);
    return function(match) { return template.evaluate(match) };
  }

  function gsub(pattern, replacement) {
    var result = '', source = this, match;
    replacement = prepareReplacement(replacement);

    if (Object.isString(pattern))
      pattern = RegExp.escape(pattern);

    if (!(pattern.length || pattern.source)) {
      replacement = replacement('');
      return replacement + source.split('').join(replacement) + replacement;
    }

    while (source.length > 0) {
      if (match = source.match(pattern)) {
        result += source.slice(0, match.index);
        result += String.interpret(replacement(match));
        source  = source.slice(match.index + match[0].length);
      } else {
        result += source, source = '';
      }
    }
    return result;
  }

  function sub(pattern, replacement, count) {
    replacement = prepareReplacement(replacement);
    count = Object.isUndefined(count) ? 1 : count;

    return this.gsub(pattern, function(match) {
      if (--count < 0) return match[0];
      return replacement(match);
    });
  }

  function scan(pattern, iterator) {
    this.gsub(pattern, iterator);
    return String(this);
  }

  function truncate(length, truncation) {
    length = length || 30;
    truncation = Object.isUndefined(truncation) ? '...' : truncation;
    return this.length > length ?
      this.slice(0, length - truncation.length) + truncation : String(this);
  }

  function strip() {
    return this.replace(/^\s+/, '').replace(/\s+$/, '');
  }

  function stripTags() {
    return this.replace(/<\w+(\s+("[^"]*"|'[^']*'|[^>])+)?>|<\/\w+>/gi, '');
  }

  function stripScripts() {
    return this.replace(new RegExp(Prototype.ScriptFragment, 'img'), '');
  }

  function extractScripts() {
    var matchAll = new RegExp(Prototype.ScriptFragment, 'img'),
        matchOne = new RegExp(Prototype.ScriptFragment, 'im');
    return (this.match(matchAll) || []).map(function(scriptTag) {
      return (scriptTag.match(matchOne) || ['', ''])[1];
    });
  }

  function evalScripts() {
    return this.extractScripts().map(function(script) { return eval(script) });
  }

  function escapeHTML() {
    return this.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
  }

  function unescapeHTML() {
    return this.stripTags().replace(/&lt;/g,'<').replace(/&gt;/g,'>').replace(/&amp;/g,'&');
  }


  function toQueryParams(separator) {
    var match = this.strip().match(/([^?#]*)(#.*)?$/);
    if (!match) return { };

    return match[1].split(separator || '&').inject({ }, function(hash, pair) {
      if ((pair = pair.split('='))[0]) {
        var key = decodeURIComponent(pair.shift()),
            value = pair.length > 1 ? pair.join('=') : pair[0];

        if (value != undefined) value = decodeURIComponent(value);

        if (key in hash) {
          if (!Object.isArray(hash[key])) hash[key] = [hash[key]];
          hash[key].push(value);
        }
        else hash[key] = value;
      }
      return hash;
    });
  }

  function toArray() {
    return this.split('');
  }

  function succ() {
    return this.slice(0, this.length - 1) +
      String.fromCharCode(this.charCodeAt(this.length - 1) + 1);
  }

  function times(count) {
    return count < 1 ? '' : new Array(count + 1).join(this);
  }

  function camelize() {
    return this.replace(/-+(.)?/g, function(match, chr) {
      return chr ? chr.toUpperCase() : '';
    });
  }

  function capitalize() {
    return this.charAt(0).toUpperCase() + this.substring(1).toLowerCase();
  }

  function underscore() {
    return this.replace(/::/g, '/')
               .replace(/([A-Z]+)([A-Z][a-z])/g, '$1_$2')
               .replace(/([a-z\d])([A-Z])/g, '$1_$2')
               .replace(/-/g, '_')
               .toLowerCase();
  }

  function dasherize() {
    return this.replace(/_/g, '-');
  }

  function inspect(useDoubleQuotes) {
    var escapedString = this.replace(/[\x00-\x1f\\]/g, function(character) {
      if (character in String.specialChar) {
        return String.specialChar[character];
      }
      return '\\u00' + character.charCodeAt().toPaddedString(2, 16);
    });
    if (useDoubleQuotes) return '"' + escapedString.replace(/"/g, '\\"') + '"';
    return "'" + escapedString.replace(/'/g, '\\\'') + "'";
  }

  function unfilterJSON(filter) {
    return this.replace(filter || Prototype.JSONFilter, '$1');
  }

  function isJSON() {
    var str = this;
    if (str.blank()) return false;
    str = str.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g, '@');
    str = str.replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g, ']');
    str = str.replace(/(?:^|:|,)(?:\s*\[)+/g, '');
    return (/^[\],:{}\s]*$/).test(str);
  }

  function evalJSON(sanitize) {
    var json = this.unfilterJSON(),
        cx = /[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;
    if (cx.test(json)) {
      json = json.replace(cx, function (a) {
        return '\\u' + ('0000' + a.charCodeAt(0).toString(16)).slice(-4);
      });
    }
    try {
      if (!sanitize || json.isJSON()) return eval('(' + json + ')');
    } catch (e) { }
    throw new SyntaxError('Badly formed JSON string: ' + this.inspect());
  }

  function parseJSON() {
    var json = this.unfilterJSON();
    return JSON.parse(json);
  }

  function include(pattern) {
    return this.indexOf(pattern) > -1;
  }

  function startsWith(pattern) {
    return this.lastIndexOf(pattern, 0) === 0;
  }

  function endsWith(pattern) {
    var d = this.length - pattern.length;
    return d >= 0 && this.indexOf(pattern, d) === d;
  }

  function empty() {
    return this == '';
  }

  function blank() {
    return /^\s*$/.test(this);
  }

  function interpolate(object, pattern) {
    return new Template(this, pattern).evaluate(object);
  }

  return {
    gsub:           gsub,
    sub:            sub,
    scan:           scan,
    truncate:       truncate,
    strip:          String.prototype.trim || strip,
    stripTags:      stripTags,
    stripScripts:   stripScripts,
    extractScripts: extractScripts,
    evalScripts:    evalScripts,
    escapeHTML:     escapeHTML,
    unescapeHTML:   unescapeHTML,
    toQueryParams:  toQueryParams,
    parseQuery:     toQueryParams,
    toArray:        toArray,
    succ:           succ,
    times:          times,
    camelize:       camelize,
    capitalize:     capitalize,
    underscore:     underscore,
    dasherize:      dasherize,
    inspect:        inspect,
    unfilterJSON:   unfilterJSON,
    isJSON:         isJSON,
    evalJSON:       NATIVE_JSON_PARSE_SUPPORT ? parseJSON : evalJSON,
    include:        include,
    startsWith:     startsWith,
    endsWith:       endsWith,
    empty:          empty,
    blank:          blank,
    interpolate:    interpolate
  };
})());

var Template = Class.create({
  initialize: function(template, pattern) {
    this.template = template.toString();
    this.pattern = pattern || Template.Pattern;
  },

  evaluate: function(object) {
    if (object && Object.isFunction(object.toTemplateReplacements))
      object = object.toTemplateReplacements();

    return this.template.gsub(this.pattern, function(match) {
      if (object == null) return (match[1] + '');

      var before = match[1] || '';
      if (before == '\\') return match[2];

      var ctx = object, expr = match[3],
          pattern = /^([^.[]+|\[((?:.*?[^\\])?)\])(\.|\[|$)/;

      match = pattern.exec(expr);
      if (match == null) return before;

      while (match != null) {
        var comp = match[1].startsWith('[') ? match[2].replace(/\\\\]/g, ']') : match[1];
        ctx = ctx[comp];
        if (null == ctx || '' == match[3]) break;
        expr = expr.substring('[' == match[3] ? match[1].length : match[0].length);
        match = pattern.exec(expr);
      }

      return before + String.interpret(ctx);
    });
  }
});
Template.Pattern = /(^|.|\r|\n)(#\{(.*?)\})/;

var $break = { };

var Enumerable = (function() {
  function each(iterator, context) {
    var index = 0;
    try {
      this._each(function(value) {
        iterator.call(context, value, index++);
      });
    } catch (e) {
      if (e != $break) throw e;
    }
    return this;
  }

  function eachSlice(number, iterator, context) {
    var index = -number, slices = [], array = this.toArray();
    if (number < 1) return array;
    while ((index += number) < array.length)
      slices.push(array.slice(index, index+number));
    return slices.collect(iterator, context);
  }

  function all(iterator, context) {
    iterator = iterator || Prototype.K;
    var result = true;
    this.each(function(value, index) {
      result = result && !!iterator.call(context, value, index);
      if (!result) throw $break;
    });
    return result;
  }

  function any(iterator, context) {
    iterator = iterator || Prototype.K;
    var result = false;
    this.each(function(value, index) {
      if (result = !!iterator.call(context, value, index))
        throw $break;
    });
    return result;
  }

  function collect(iterator, context) {
    iterator = iterator || Prototype.K;
    var results = [];
    this.each(function(value, index) {
      results.push(iterator.call(context, value, index));
    });
    return results;
  }

  function detect(iterator, context) {
    var result;
    this.each(function(value, index) {
      if (iterator.call(context, value, index)) {
        result = value;
        throw $break;
      }
    });
    return result;
  }

  function findAll(iterator, context) {
    var results = [];
    this.each(function(value, index) {
      if (iterator.call(context, value, index))
        results.push(value);
    });
    return results;
  }

  function grep(filter, iterator, context) {
    iterator = iterator || Prototype.K;
    var results = [];

    if (Object.isString(filter))
      filter = new RegExp(RegExp.escape(filter));

    this.each(function(value, index) {
      if (filter.match(value))
        results.push(iterator.call(context, value, index));
    });
    return results;
  }

  function include(object) {
    if (Object.isFunction(this.indexOf))
      if (this.indexOf(object) != -1) return true;

    var found = false;
    this.each(function(value) {
      if (value == object) {
        found = true;
        throw $break;
      }
    });
    return found;
  }

  function inGroupsOf(number, fillWith) {
    fillWith = Object.isUndefined(fillWith) ? null : fillWith;
    return this.eachSlice(number, function(slice) {
      while(slice.length < number) slice.push(fillWith);
      return slice;
    });
  }

  function inject(memo, iterator, context) {
    this.each(function(value, index) {
      memo = iterator.call(context, memo, value, index);
    });
    return memo;
  }

  function invoke(method) {
    var args = $A(arguments).slice(1);
    return this.map(function(value) {
      return value[method].apply(value, args);
    });
  }

  function max(iterator, context) {
    iterator = iterator || Prototype.K;
    var result;
    this.each(function(value, index) {
      value = iterator.call(context, value, index);
      if (result == null || value >= result)
        result = value;
    });
    return result;
  }

  function min(iterator, context) {
    iterator = iterator || Prototype.K;
    var result;
    this.each(function(value, index) {
      value = iterator.call(context, value, index);
      if (result == null || value < result)
        result = value;
    });
    return result;
  }

  function partition(iterator, context) {
    iterator = iterator || Prototype.K;
    var trues = [], falses = [];
    this.each(function(value, index) {
      (iterator.call(context, value, index) ?
        trues : falses).push(value);
    });
    return [trues, falses];
  }

  function pluck(property) {
    var results = [];
    this.each(function(value) {
      results.push(value[property]);
    });
    return results;
  }

  function reject(iterator, context) {
    var results = [];
    this.each(function(value, index) {
      if (!iterator.call(context, value, index))
        results.push(value);
    });
    return results;
  }

  function sortBy(iterator, context) {
    return this.map(function(value, index) {
      return {
        value: value,
        criteria: iterator.call(context, value, index)
      };
    }).sort(function(left, right) {
      var a = left.criteria, b = right.criteria;
      return a < b ? -1 : a > b ? 1 : 0;
    }).pluck('value');
  }

  function toArray() {
    return this.map();
  }

  function zip() {
    var iterator = Prototype.K, args = $A(arguments);
    if (Object.isFunction(args.last()))
      iterator = args.pop();

    var collections = [this].concat(args).map($A);
    return this.map(function(value, index) {
      return iterator(collections.pluck(index));
    });
  }

  function size() {
    return this.toArray().length;
  }

  function inspect() {
    return '#<Enumerable:' + this.toArray().inspect() + '>';
  }









  return {
    each:       each,
    eachSlice:  eachSlice,
    all:        all,
    every:      all,
    any:        any,
    some:       any,
    collect:    collect,
    map:        collect,
    detect:     detect,
    findAll:    findAll,
    select:     findAll,
    filter:     findAll,
    grep:       grep,
    include:    include,
    member:     include,
    inGroupsOf: inGroupsOf,
    inject:     inject,
    invoke:     invoke,
    max:        max,
    min:        min,
    partition:  partition,
    pluck:      pluck,
    reject:     reject,
    sortBy:     sortBy,
    toArray:    toArray,
    entries:    toArray,
    zip:        zip,
    size:       size,
    inspect:    inspect,
    find:       detect
  };
})();

function $A(iterable) {
  if (!iterable) return [];
  if ('toArray' in Object(iterable)) return iterable.toArray();
  var length = iterable.length || 0, results = new Array(length);
  while (length--) results[length] = iterable[length];
  return results;
}


function $w(string) {
  if (!Object.isString(string)) return [];
  string = string.strip();
  return string ? string.split(/\s+/) : [];
}

Array.from = $A;


(function() {
  var arrayProto = Array.prototype,
      slice = arrayProto.slice,
      _each = arrayProto.forEach; // use native browser JS 1.6 implementation if available

  function each(iterator, context) {
    for (var i = 0, length = this.length >>> 0; i < length; i++) {
      if (i in this) iterator.call(context, this[i], i, this);
    }
  }
  if (!_each) _each = each;

  function clear() {
    this.length = 0;
    return this;
  }

  function first() {
    return this[0];
  }

  function last() {
    return this[this.length - 1];
  }

  function compact() {
    return this.select(function(value) {
      return value != null;
    });
  }

  function flatten() {
    return this.inject([], function(array, value) {
      if (Object.isArray(value))
        return array.concat(value.flatten());
      array.push(value);
      return array;
    });
  }

  function without() {
    var values = slice.call(arguments, 0);
    return this.select(function(value) {
      return !values.include(value);
    });
  }

  function reverse(inline) {
    return (inline === false ? this.toArray() : this)._reverse();
  }

  function uniq(sorted) {
    return this.inject([], function(array, value, index) {
      if (0 == index || (sorted ? array.last() != value : !array.include(value)))
        array.push(value);
      return array;
    });
  }

  function intersect(array) {
    return this.uniq().findAll(function(item) {
      return array.detect(function(value) { return item === value });
    });
  }


  function clone() {
    return slice.call(this, 0);
  }

  function size() {
    return this.length;
  }

  function inspect() {
    return '[' + this.map(Object.inspect).join(', ') + ']';
  }

  function indexOf(item, i) {
    i || (i = 0);
    var length = this.length;
    if (i < 0) i = length + i;
    for (; i < length; i++)
      if (this[i] === item) return i;
    return -1;
  }

  function lastIndexOf(item, i) {
    i = isNaN(i) ? this.length : (i < 0 ? this.length + i : i) + 1;
    var n = this.slice(0, i).reverse().indexOf(item);
    return (n < 0) ? n : i - n - 1;
  }

  function concat() {
    var array = slice.call(this, 0), item;
    for (var i = 0, length = arguments.length; i < length; i++) {
      item = arguments[i];
      if (Object.isArray(item) && !('callee' in item)) {
        for (var j = 0, arrayLength = item.length; j < arrayLength; j++)
          array.push(item[j]);
      } else {
        array.push(item);
      }
    }
    return array;
  }

  Object.extend(arrayProto, Enumerable);

  if (!arrayProto._reverse)
    arrayProto._reverse = arrayProto.reverse;

  Object.extend(arrayProto, {
    _each:     _each,
    clear:     clear,
    first:     first,
    last:      last,
    compact:   compact,
    flatten:   flatten,
    without:   without,
    reverse:   reverse,
    uniq:      uniq,
    intersect: intersect,
    clone:     clone,
    toArray:   clone,
    size:      size,
    inspect:   inspect
  });

  var CONCAT_ARGUMENTS_BUGGY = (function() {
    return [].concat(arguments)[0][0] !== 1;
  })(1,2)

  if (CONCAT_ARGUMENTS_BUGGY) arrayProto.concat = concat;

  if (!arrayProto.indexOf) arrayProto.indexOf = indexOf;
  if (!arrayProto.lastIndexOf) arrayProto.lastIndexOf = lastIndexOf;
})();
function $H(object) {
  return new Hash(object);
};

var Hash = Class.create(Enumerable, (function() {
  function initialize(object) {
    this._object = Object.isHash(object) ? object.toObject() : Object.clone(object);
  }


  function _each(iterator) {
    for (var key in this._object) {
      var value = this._object[key], pair = [key, value];
      pair.key = key;
      pair.value = value;
      iterator(pair);
    }
  }

  function set(key, value) {
    return this._object[key] = value;
  }

  function get(key) {
    if (this._object[key] !== Object.prototype[key])
      return this._object[key];
  }

  function unset(key) {
    var value = this._object[key];
    delete this._object[key];
    return value;
  }

  function toObject() {
    return Object.clone(this._object);
  }



  function keys() {
    return this.pluck('key');
  }

  function values() {
    return this.pluck('value');
  }

  function index(value) {
    var match = this.detect(function(pair) {
      return pair.value === value;
    });
    return match && match.key;
  }

  function merge(object) {
    return this.clone().update(object);
  }

  function update(object) {
    return new Hash(object).inject(this, function(result, pair) {
      result.set(pair.key, pair.value);
      return result;
    });
  }

  function toQueryPair(key, value) {
    if (Object.isUndefined(value)) return key;
    return key + '=' + encodeURIComponent(String.interpret(value));
  }

  function toQueryString() {
    return this.inject([], function(results, pair) {
      var key = encodeURIComponent(pair.key), values = pair.value;

      if (values && typeof values == 'object') {
        if (Object.isArray(values)) {
          var queryValues = [];
          for (var i = 0, len = values.length, value; i < len; i++) {
            value = values[i];
            queryValues.push(toQueryPair(key, value));
          }
          return results.concat(queryValues);
        }
      } else results.push(toQueryPair(key, values));
      return results;
    }).join('&');
  }

  function inspect() {
    return '#<Hash:{' + this.map(function(pair) {
      return pair.map(Object.inspect).join(': ');
    }).join(', ') + '}>';
  }

  function clone() {
    return new Hash(this);
  }

  return {
    initialize:             initialize,
    _each:                  _each,
    set:                    set,
    get:                    get,
    unset:                  unset,
    toObject:               toObject,
    toTemplateReplacements: toObject,
    keys:                   keys,
    values:                 values,
    index:                  index,
    merge:                  merge,
    update:                 update,
    toQueryString:          toQueryString,
    inspect:                inspect,
    toJSON:                 toObject,
    clone:                  clone
  };
})());

Hash.from = $H;
Object.extend(Number.prototype, (function() {
  function toColorPart() {
    return this.toPaddedString(2, 16);
  }

  function succ() {
    return this + 1;
  }

  function times(iterator, context) {
    $R(0, this, true).each(iterator, context);
    return this;
  }

  function toPaddedString(length, radix) {
    var string = this.toString(radix || 10);
    return '0'.times(length - string.length) + string;
  }

  function abs() {
    return Math.abs(this);
  }

  function round() {
    return Math.round(this);
  }

  function ceil() {
    return Math.ceil(this);
  }

  function floor() {
    return Math.floor(this);
  }

  return {
    toColorPart:    toColorPart,
    succ:           succ,
    times:          times,
    toPaddedString: toPaddedString,
    abs:            abs,
    round:          round,
    ceil:           ceil,
    floor:          floor
  };
})());

function $R(start, end, exclusive) {
  return new ObjectRange(start, end, exclusive);
}

var ObjectRange = Class.create(Enumerable, (function() {
  function initialize(start, end, exclusive) {
    this.start = start;
    this.end = end;
    this.exclusive = exclusive;
  }

  function _each(iterator) {
    var value = this.start;
    while (this.include(value)) {
      iterator(value);
      value = value.succ();
    }
  }

  function include(value) {
    if (value < this.start)
      return false;
    if (this.exclusive)
      return value < this.end;
    return value <= this.end;
  }

  return {
    initialize: initialize,
    _each:      _each,
    include:    include
  };
})());



var Abstract = { };


var Try = {
  these: function() {
    var returnValue;

    for (var i = 0, length = arguments.length; i < length; i++) {
      var lambda = arguments[i];
      try {
        returnValue = lambda();
        break;
      } catch (e) { }
    }

    return returnValue;
  }
};

var Ajax = {
  getTransport: function() {
    return Try.these(
      function() {return new XMLHttpRequest()},
      function() {return new ActiveXObject('Msxml2.XMLHTTP')},
      function() {return new ActiveXObject('Microsoft.XMLHTTP')}
    ) || false;
  },

  activeRequestCount: 0
};

Ajax.Responders = {
  responders: [],

  _each: function(iterator) {
    this.responders._each(iterator);
  },

  register: function(responder) {
    if (!this.include(responder))
      this.responders.push(responder);
  },

  unregister: function(responder) {
    this.responders = this.responders.without(responder);
  },

  dispatch: function(callback, request, transport, json) {
    this.each(function(responder) {
      if (Object.isFunction(responder[callback])) {
        try {
          responder[callback].apply(responder, [request, transport, json]);
        } catch (e) { }
      }
    });
  }
};

Object.extend(Ajax.Responders, Enumerable);

Ajax.Responders.register({
  onCreate:   function() { Ajax.activeRequestCount++ },
  onComplete: function() { Ajax.activeRequestCount-- }
});
Ajax.Base = Class.create({
  initialize: function(options) {
    this.options = {
      method:       'post',
      asynchronous: true,
      contentType:  'application/x-www-form-urlencoded',
      encoding:     'UTF-8',
      parameters:   '',
      evalJSON:     true,
      evalJS:       true
    };
    Object.extend(this.options, options || { });

    this.options.method = this.options.method.toLowerCase();

    if (Object.isHash(this.options.parameters))
      this.options.parameters = this.options.parameters.toObject();
  }
});
Ajax.Request = Class.create(Ajax.Base, {
  _complete: false,

  initialize: function($super, url, options) {
    $super(options);
    this.transport = Ajax.getTransport();
    this.request(url);
  },

  request: function(url) {
    this.url = url;
    this.method = this.options.method;
    var params = Object.isString(this.options.parameters) ?
          this.options.parameters :
          Object.toQueryString(this.options.parameters);

    if (!['get', 'post'].include(this.method)) {
      params += (params ? '&' : '') + "_method=" + this.method;
      this.method = 'post';
    }

    if (params && this.method === 'get') {
      this.url += (this.url.include('?') ? '&' : '?') + params;
    }

    this.parameters = params.toQueryParams();

    try {
      var response = new Ajax.Response(this);
      if (this.options.onCreate) this.options.onCreate(response);
      Ajax.Responders.dispatch('onCreate', this, response);

      this.transport.open(this.method.toUpperCase(), this.url,
        this.options.asynchronous);

      if (this.options.asynchronous) this.respondToReadyState.bind(this).defer(1);

      this.transport.onreadystatechange = this.onStateChange.bind(this);
      this.setRequestHeaders();

      this.body = this.method == 'post' ? (this.options.postBody || params) : null;
      this.transport.send(this.body);

      /* Force Firefox to handle ready state 4 for synchronous requests */
      if (!this.options.asynchronous && this.transport.overrideMimeType)
        this.onStateChange();

    }
    catch (e) {
      this.dispatchException(e);
    }
  },

  onStateChange: function() {
    var readyState = this.transport.readyState;
    if (readyState > 1 && !((readyState == 4) && this._complete))
      this.respondToReadyState(this.transport.readyState);
  },

  setRequestHeaders: function() {
    var headers = {
      'X-Requested-With': 'XMLHttpRequest',
      'X-Prototype-Version': Prototype.Version,
      'Accept': 'text/javascript, text/html, application/xml, text/xml, */*'
    };

    if (this.method == 'post') {
      headers['Content-type'] = this.options.contentType +
        (this.options.encoding ? '; charset=' + this.options.encoding : '');

      /* Force "Connection: close" for older Mozilla browsers to work
       * around a bug where XMLHttpRequest sends an incorrect
       * Content-length header. See Mozilla Bugzilla #246651.
       */
      if (this.transport.overrideMimeType &&
          (navigator.userAgent.match(/Gecko\/(\d{4})/) || [0,2005])[1] < 2005)
            headers['Connection'] = 'close';
    }

    if (typeof this.options.requestHeaders == 'object') {
      var extras = this.options.requestHeaders;

      if (Object.isFunction(extras.push))
        for (var i = 0, length = extras.length; i < length; i += 2)
          headers[extras[i]] = extras[i+1];
      else
        $H(extras).each(function(pair) { headers[pair.key] = pair.value });
    }

    for (var name in headers)
      this.transport.setRequestHeader(name, headers[name]);
  },

  success: function() {
    var status = this.getStatus();
    return !status || (status >= 200 && status < 300) || status == 304;
  },

  getStatus: function() {
    try {
      if (this.transport.status === 1223) return 204;
      return this.transport.status || 0;
    } catch (e) { return 0 }
  },

  respondToReadyState: function(readyState) {
    var state = Ajax.Request.Events[readyState], response = new Ajax.Response(this);

    if (state == 'Complete') {
      try {
        this._complete = true;
        (this.options['on' + response.status]
         || this.options['on' + (this.success() ? 'Success' : 'Failure')]
         || Prototype.emptyFunction)(response, response.headerJSON);
      } catch (e) {
        this.dispatchException(e);
      }

      var contentType = response.getHeader('Content-type');
      if (this.options.evalJS == 'force'
          || (this.options.evalJS && this.isSameOrigin() && contentType
          && contentType.match(/^\s*(text|application)\/(x-)?(java|ecma)script(;.*)?\s*$/i)))
        this.evalResponse();
    }

    try {
      (this.options['on' + state] || Prototype.emptyFunction)(response, response.headerJSON);
      Ajax.Responders.dispatch('on' + state, this, response, response.headerJSON);
    } catch (e) {
      this.dispatchException(e);
    }

    if (state == 'Complete') {
      this.transport.onreadystatechange = Prototype.emptyFunction;
    }
  },

  isSameOrigin: function() {
    var m = this.url.match(/^\s*https?:\/\/[^\/]*/);
    return !m || (m[0] == '#{protocol}//#{domain}#{port}'.interpolate({
      protocol: location.protocol,
      domain: document.domain,
      port: location.port ? ':' + location.port : ''
    }));
  },

  getHeader: function(name) {
    try {
      return this.transport.getResponseHeader(name) || null;
    } catch (e) { return null; }
  },

  evalResponse: function() {
    try {
      return eval((this.transport.responseText || '').unfilterJSON());
    } catch (e) {
      this.dispatchException(e);
    }
  },

  dispatchException: function(exception) {
    (this.options.onException || Prototype.emptyFunction)(this, exception);
    Ajax.Responders.dispatch('onException', this, exception);
  }
});

Ajax.Request.Events =
  ['Uninitialized', 'Loading', 'Loaded', 'Interactive', 'Complete'];








Ajax.Response = Class.create({
  initialize: function(request){
    this.request = request;
    var transport  = this.transport  = request.transport,
        readyState = this.readyState = transport.readyState;

    if ((readyState > 2 && !Prototype.Browser.IE) || readyState == 4) {
      this.status       = this.getStatus();
      this.statusText   = this.getStatusText();
      this.responseText = String.interpret(transport.responseText);
      this.headerJSON   = this._getHeaderJSON();
    }

    if (readyState == 4) {
      var xml = transport.responseXML;
      this.responseXML  = Object.isUndefined(xml) ? null : xml;
      this.responseJSON = this._getResponseJSON();
    }
  },

  status:      0,

  statusText: '',

  getStatus: Ajax.Request.prototype.getStatus,

  getStatusText: function() {
    try {
      return this.transport.statusText || '';
    } catch (e) { return '' }
  },

  getHeader: Ajax.Request.prototype.getHeader,

  getAllHeaders: function() {
    try {
      return this.getAllResponseHeaders();
    } catch (e) { return null }
  },

  getResponseHeader: function(name) {
    return this.transport.getResponseHeader(name);
  },

  getAllResponseHeaders: function() {
    return this.transport.getAllResponseHeaders();
  },

  _getHeaderJSON: function() {
    var json = this.getHeader('X-JSON');
    if (!json) return null;
    json = decodeURIComponent(escape(json));
    try {
      return json.evalJSON(this.request.options.sanitizeJSON ||
        !this.request.isSameOrigin());
    } catch (e) {
      this.request.dispatchException(e);
    }
  },

  _getResponseJSON: function() {
    var options = this.request.options;
    if (!options.evalJSON || (options.evalJSON != 'force' &&
      !(this.getHeader('Content-type') || '').include('application/json')) ||
        this.responseText.blank())
          return null;
    try {
      return this.responseText.evalJSON(options.sanitizeJSON ||
        !this.request.isSameOrigin());
    } catch (e) {
      this.request.dispatchException(e);
    }
  }
});

Ajax.Updater = Class.create(Ajax.Request, {
  initialize: function($super, container, url, options) {
    this.container = {
      success: (container.success || container),
      failure: (container.failure || (container.success ? null : container))
    };

    options = Object.clone(options);
    var onComplete = options.onComplete;
    options.onComplete = (function(response, json) {
      this.updateContent(response.responseText);
      if (Object.isFunction(onComplete)) onComplete(response, json);
    }).bind(this);

    $super(url, options);
  },

  updateContent: function(responseText) {
    var receiver = this.container[this.success() ? 'success' : 'failure'],
        options = this.options;

    if (!options.evalScripts) responseText = responseText.stripScripts();

    if (receiver = $(receiver)) {
      if (options.insertion) {
        if (Object.isString(options.insertion)) {
          var insertion = { }; insertion[options.insertion] = responseText;
          receiver.insert(insertion);
        }
        else options.insertion(receiver, responseText);
      }
      else receiver.update(responseText);
    }
  }
});

Ajax.PeriodicalUpdater = Class.create(Ajax.Base, {
  initialize: function($super, container, url, options) {
    $super(options);
    this.onComplete = this.options.onComplete;

    this.frequency = (this.options.frequency || 2);
    this.decay = (this.options.decay || 1);

    this.updater = { };
    this.container = container;
    this.url = url;

    this.start();
  },

  start: function() {
    this.options.onComplete = this.updateComplete.bind(this);
    this.onTimerEvent();
  },

  stop: function() {
    this.updater.options.onComplete = undefined;
    clearTimeout(this.timer);
    (this.onComplete || Prototype.emptyFunction).apply(this, arguments);
  },

  updateComplete: function(response) {
    if (this.options.decay) {
      this.decay = (response.responseText == this.lastText ?
        this.decay * this.options.decay : 1);

      this.lastText = response.responseText;
    }
    this.timer = this.onTimerEvent.bind(this).delay(this.decay * this.frequency);
  },

  onTimerEvent: function() {
    this.updater = new Ajax.Updater(this.container, this.url, this.options);
  }
});


function $(element) {
  if (arguments.length > 1) {
    for (var i = 0, elements = [], length = arguments.length; i < length; i++)
      elements.push($(arguments[i]));
    return elements;
  }
  if (Object.isString(element))
    element = document.getElementById(element);
  return Element.extend(element);
}

if (Prototype.BrowserFeatures.XPath) {
  document._getElementsByXPath = function(expression, parentElement) {
    var results = [];
    var query = document.evaluate(expression, $(parentElement) || document,
      null, XPathResult.ORDERED_NODE_SNAPSHOT_TYPE, null);
    for (var i = 0, length = query.snapshotLength; i < length; i++)
      results.push(Element.extend(query.snapshotItem(i)));
    return results;
  };
}

/*--------------------------------------------------------------------------*/

if (!Node) var Node = { };

if (!Node.ELEMENT_NODE) {
  Object.extend(Node, {
    ELEMENT_NODE: 1,
    ATTRIBUTE_NODE: 2,
    TEXT_NODE: 3,
    CDATA_SECTION_NODE: 4,
    ENTITY_REFERENCE_NODE: 5,
    ENTITY_NODE: 6,
    PROCESSING_INSTRUCTION_NODE: 7,
    COMMENT_NODE: 8,
    DOCUMENT_NODE: 9,
    DOCUMENT_TYPE_NODE: 10,
    DOCUMENT_FRAGMENT_NODE: 11,
    NOTATION_NODE: 12
  });
}



(function(global) {
  function shouldUseCache(tagName, attributes) {
    if (tagName === 'select') return false;
    if ('type' in attributes) return false;
    return true;
  }

  var HAS_EXTENDED_CREATE_ELEMENT_SYNTAX = (function(){
    try {
      var el = document.createElement('<input name="x">');
      return el.tagName.toLowerCase() === 'input' && el.name === 'x';
    }
    catch(err) {
      return false;
    }
  })();

  var element = global.Element;

  global.Element = function(tagName, attributes) {
    attributes = attributes || { };
    tagName = tagName.toLowerCase();
    var cache = Element.cache;

    if (HAS_EXTENDED_CREATE_ELEMENT_SYNTAX && attributes.name) {
      tagName = '<' + tagName + ' name="' + attributes.name + '">';
      delete attributes.name;
      return Element.writeAttribute(document.createElement(tagName), attributes);
    }

    if (!cache[tagName]) cache[tagName] = Element.extend(document.createElement(tagName));

    var node = shouldUseCache(tagName, attributes) ?
     cache[tagName].cloneNode(false) : document.createElement(tagName);

    return Element.writeAttribute(node, attributes);
  };

  Object.extend(global.Element, element || { });
  if (element) global.Element.prototype = element.prototype;

})(this);

Element.idCounter = 1;
Element.cache = { };

Element._purgeElement = function(element) {
  var uid = element._prototypeUID;
  if (uid) {
    Element.stopObserving(element);
    element._prototypeUID = void 0;
    delete Element.Storage[uid];
  }
}

Element.Methods = {
  visible: function(element) {
    return $(element).style.display != 'none';
  },

  toggle: function(element) {
    element = $(element);
    Element[Element.visible(element) ? 'hide' : 'show'](element);
    return element;
  },

  hide: function(element) {
    element = $(element);
    element.style.display = 'none';
    return element;
  },

  show: function(element) {
    element = $(element);
    element.style.display = '';
    return element;
  },

  remove: function(element) {
    element = $(element);
    element.parentNode.removeChild(element);
    return element;
  },

  update: (function(){

    var SELECT_ELEMENT_INNERHTML_BUGGY = (function(){
      var el = document.createElement("select"),
          isBuggy = true;
      el.innerHTML = "<option value=\"test\">test</option>";
      if (el.options && el.options[0]) {
        isBuggy = el.options[0].nodeName.toUpperCase() !== "OPTION";
      }
      el = null;
      return isBuggy;
    })();

    var TABLE_ELEMENT_INNERHTML_BUGGY = (function(){
      try {
        var el = document.createElement("table");
        if (el && el.tBodies) {
          el.innerHTML = "<tbody><tr><td>test</td></tr></tbody>";
          var isBuggy = typeof el.tBodies[0] == "undefined";
          el = null;
          return isBuggy;
        }
      } catch (e) {
        return true;
      }
    })();

    var LINK_ELEMENT_INNERHTML_BUGGY = (function() {
      try {
        var el = document.createElement('div');
        el.innerHTML = "<link>";
        var isBuggy = (el.childNodes.length === 0);
        el = null;
        return isBuggy;
      } catch(e) {
        return true;
      }
    })();

    var ANY_INNERHTML_BUGGY = SELECT_ELEMENT_INNERHTML_BUGGY ||
     TABLE_ELEMENT_INNERHTML_BUGGY || LINK_ELEMENT_INNERHTML_BUGGY;

    var SCRIPT_ELEMENT_REJECTS_TEXTNODE_APPENDING = (function () {
      var s = document.createElement("script"),
          isBuggy = false;
      try {
        s.appendChild(document.createTextNode(""));
        isBuggy = !s.firstChild ||
          s.firstChild && s.firstChild.nodeType !== 3;
      } catch (e) {
        isBuggy = true;
      }
      s = null;
      return isBuggy;
    })();


    function update(element, content) {
      element = $(element);
      var purgeElement = Element._purgeElement;

      var descendants = element.getElementsByTagName('*'),
       i = descendants.length;
      while (i--) purgeElement(descendants[i]);

      if (content && content.toElement)
        content = content.toElement();

      if (Object.isElement(content))
        return element.update().insert(content);

      content = Object.toHTML(content);

      var tagName = element.tagName.toUpperCase();

      if (tagName === 'SCRIPT' && SCRIPT_ELEMENT_REJECTS_TEXTNODE_APPENDING) {
        element.text = content;
        return element;
      }

      if (ANY_INNERHTML_BUGGY) {
        if (tagName in Element._insertionTranslations.tags) {
          while (element.firstChild) {
            element.removeChild(element.firstChild);
          }
          Element._getContentFromAnonymousElement(tagName, content.stripScripts())
            .each(function(node) {
              element.appendChild(node)
            });
        } else if (LINK_ELEMENT_INNERHTML_BUGGY && Object.isString(content) && content.indexOf('<link') > -1) {
          while (element.firstChild) {
            element.removeChild(element.firstChild);
          }
          var nodes = Element._getContentFromAnonymousElement(tagName, content.stripScripts(), true);
          nodes.each(function(node) { element.appendChild(node) });
        }
        else {
          element.innerHTML = content.stripScripts();
        }
      }
      else {
        element.innerHTML = content.stripScripts();
      }

      content.evalScripts.bind(content).defer();
      return element;
    }

    return update;
  })(),

  replace: function(element, content) {
    element = $(element);
    if (content && content.toElement) content = content.toElement();
    else if (!Object.isElement(content)) {
      content = Object.toHTML(content);
      var range = element.ownerDocument.createRange();
      range.selectNode(element);
      content.evalScripts.bind(content).defer();
      content = range.createContextualFragment(content.stripScripts());
    }
    element.parentNode.replaceChild(content, element);
    return element;
  },

  insert: function(element, insertions) {
    element = $(element);

    if (Object.isString(insertions) || Object.isNumber(insertions) ||
        Object.isElement(insertions) || (insertions && (insertions.toElement || insertions.toHTML)))
          insertions = {bottom:insertions};

    var content, insert, tagName, childNodes;

    for (var position in insertions) {
      content  = insertions[position];
      position = position.toLowerCase();
      insert = Element._insertionTranslations[position];

      if (content && content.toElement) content = content.toElement();
      if (Object.isElement(content)) {
        insert(element, content);
        continue;
      }

      content = Object.toHTML(content);

      tagName = ((position == 'before' || position == 'after')
        ? element.parentNode : element).tagName.toUpperCase();

      childNodes = Element._getContentFromAnonymousElement(tagName, content.stripScripts());

      if (position == 'top' || position == 'after') childNodes.reverse();
      childNodes.each(insert.curry(element));

      content.evalScripts.bind(content).defer();
    }

    return element;
  },

  wrap: function(element, wrapper, attributes) {
    element = $(element);
    if (Object.isElement(wrapper))
      $(wrapper).writeAttribute(attributes || { });
    else if (Object.isString(wrapper)) wrapper = new Element(wrapper, attributes);
    else wrapper = new Element('div', wrapper);
    if (element.parentNode)
      element.parentNode.replaceChild(wrapper, element);
    wrapper.appendChild(element);
    return wrapper;
  },

  inspect: function(element) {
    element = $(element);
    var result = '<' + element.tagName.toLowerCase();
    $H({'id': 'id', 'className': 'class'}).each(function(pair) {
      var property = pair.first(),
          attribute = pair.last(),
          value = (element[property] || '').toString();
      if (value) result += ' ' + attribute + '=' + value.inspect(true);
    });
    return result + '>';
  },

  recursivelyCollect: function(element, property, maximumLength) {
    element = $(element);
    maximumLength = maximumLength || -1;
    var elements = [];

    while (element = element[property]) {
      if (element.nodeType == 1)
        elements.push(Element.extend(element));
      if (elements.length == maximumLength)
        break;
    }

    return elements;
  },

  ancestors: function(element) {
    return Element.recursivelyCollect(element, 'parentNode');
  },

  descendants: function(element) {
    return Element.select(element, "*");
  },

  firstDescendant: function(element) {
    element = $(element).firstChild;
    while (element && element.nodeType != 1) element = element.nextSibling;
    return $(element);
  },

  immediateDescendants: function(element) {
    var results = [], child = $(element).firstChild;
    while (child) {
      if (child.nodeType === 1) {
        results.push(Element.extend(child));
      }
      child = child.nextSibling;
    }
    return results;
  },

  previousSiblings: function(element, maximumLength) {
    return Element.recursivelyCollect(element, 'previousSibling');
  },

  nextSiblings: function(element) {
    return Element.recursivelyCollect(element, 'nextSibling');
  },

  siblings: function(element) {
    element = $(element);
    return Element.previousSiblings(element).reverse()
      .concat(Element.nextSiblings(element));
  },

  match: function(element, selector) {
    element = $(element);
    if (Object.isString(selector))
      return Prototype.Selector.match(element, selector);
    return selector.match(element);
  },

  up: function(element, expression, index) {
    element = $(element);
    if (arguments.length == 1) return $(element.parentNode);
    var ancestors = Element.ancestors(element);
    return Object.isNumber(expression) ? ancestors[expression] :
      Prototype.Selector.find(ancestors, expression, index);
  },

  down: function(element, expression, index) {
    element = $(element);
    if (arguments.length == 1) return Element.firstDescendant(element);
    return Object.isNumber(expression) ? Element.descendants(element)[expression] :
      Element.select(element, expression)[index || 0];
  },

  previous: function(element, expression, index) {
    element = $(element);
    if (Object.isNumber(expression)) index = expression, expression = false;
    if (!Object.isNumber(index)) index = 0;

    if (expression) {
      return Prototype.Selector.find(element.previousSiblings(), expression, index);
    } else {
      return element.recursivelyCollect("previousSibling", index + 1)[index];
    }
  },

  next: function(element, expression, index) {
    element = $(element);
    if (Object.isNumber(expression)) index = expression, expression = false;
    if (!Object.isNumber(index)) index = 0;

    if (expression) {
      return Prototype.Selector.find(element.nextSiblings(), expression, index);
    } else {
      var maximumLength = Object.isNumber(index) ? index + 1 : 1;
      return element.recursivelyCollect("nextSibling", index + 1)[index];
    }
  },


  select: function(element) {
    element = $(element);
    var expressions = Array.prototype.slice.call(arguments, 1).join(', ');
    return Prototype.Selector.select(expressions, element);
  },

  adjacent: function(element) {
    element = $(element);
    var expressions = Array.prototype.slice.call(arguments, 1).join(', ');
    return Prototype.Selector.select(expressions, element.parentNode).without(element);
  },

  identify: function(element) {
    element = $(element);
    var id = Element.readAttribute(element, 'id');
    if (id) return id;
    do { id = 'anonymous_element_' + Element.idCounter++ } while ($(id));
    Element.writeAttribute(element, 'id', id);
    return id;
  },

  readAttribute: function(element, name) {
    element = $(element);
    if (Prototype.Browser.IE) {
      var t = Element._attributeTranslations.read;
      if (t.values[name]) return t.values[name](element, name);
      if (t.names[name]) name = t.names[name];
      if (name.include(':')) {
        return (!element.attributes || !element.attributes[name]) ? null :
         element.attributes[name].value;
      }
    }
    return element.getAttribute(name);
  },

  writeAttribute: function(element, name, value) {
    element = $(element);
    var attributes = { }, t = Element._attributeTranslations.write;

    if (typeof name == 'object') attributes = name;
    else attributes[name] = Object.isUndefined(value) ? true : value;

    for (var attr in attributes) {
      name = t.names[attr] || attr;
      value = attributes[attr];
      if (t.values[attr]) name = t.values[attr](element, value);
      if (value === false || value === null)
        element.removeAttribute(name);
      else if (value === true)
        element.setAttribute(name, name);
      else element.setAttribute(name, value);
    }
    return element;
  },

  getHeight: function(element) {
    return Element.getDimensions(element).height;
  },

  getWidth: function(element) {
    return Element.getDimensions(element).width;
  },

  classNames: function(element) {
    return new Element.ClassNames(element);
  },

  hasClassName: function(element, className) {
    if (!(element = $(element))) return;
    var elementClassName = element.className;
    return (elementClassName.length > 0 && (elementClassName == className ||
      new RegExp("(^|\\s)" + className + "(\\s|$)").test(elementClassName)));
  },

  addClassName: function(element, className) {
    if (!(element = $(element))) return;
    if (!Element.hasClassName(element, className))
      element.className += (element.className ? ' ' : '') + className;
    return element;
  },

  removeClassName: function(element, className) {
    if (!(element = $(element))) return;
    element.className = element.className.replace(
      new RegExp("(^|\\s+)" + className + "(\\s+|$)"), ' ').strip();
    return element;
  },

  toggleClassName: function(element, className) {
    if (!(element = $(element))) return;
    return Element[Element.hasClassName(element, className) ?
      'removeClassName' : 'addClassName'](element, className);
  },

  cleanWhitespace: function(element) {
    element = $(element);
    var node = element.firstChild;
    while (node) {
      var nextNode = node.nextSibling;
      if (node.nodeType == 3 && !/\S/.test(node.nodeValue))
        element.removeChild(node);
      node = nextNode;
    }
    return element;
  },

  empty: function(element) {
    return $(element).innerHTML.blank();
  },

  descendantOf: function(element, ancestor) {
    element = $(element), ancestor = $(ancestor);

    if (element.compareDocumentPosition)
      return (element.compareDocumentPosition(ancestor) & 8) === 8;

    if (ancestor.contains)
      return ancestor.contains(element) && ancestor !== element;

    while (element = element.parentNode)
      if (element == ancestor) return true;

    return false;
  },

  scrollTo: function(element) {
    element = $(element);
    var pos = Element.cumulativeOffset(element);
    window.scrollTo(pos[0], pos[1]);
    return element;
  },

  getStyle: function(element, style) {
    element = $(element);
    style = style == 'float' ? 'cssFloat' : style.camelize();
    var value = element.style[style];
    if (!value || value == 'auto') {
      var css = document.defaultView.getComputedStyle(element, null);
      value = css ? css[style] : null;
    }
    if (style == 'opacity') return value ? parseFloat(value) : 1.0;
    return value == 'auto' ? null : value;
  },

  getOpacity: function(element) {
    return $(element).getStyle('opacity');
  },

  setStyle: function(element, styles) {
    element = $(element);
    var elementStyle = element.style, match;
    if (Object.isString(styles)) {
      element.style.cssText += ';' + styles;
      return styles.include('opacity') ?
        element.setOpacity(styles.match(/opacity:\s*(\d?\.?\d*)/)[1]) : element;
    }
    for (var property in styles)
      if (property == 'opacity') element.setOpacity(styles[property]);
      else
        elementStyle[(property == 'float' || property == 'cssFloat') ?
          (Object.isUndefined(elementStyle.styleFloat) ? 'cssFloat' : 'styleFloat') :
            property] = styles[property];

    return element;
  },

  setOpacity: function(element, value) {
    element = $(element);
    element.style.opacity = (value == 1 || value === '') ? '' :
      (value < 0.00001) ? 0 : value;
    return element;
  },

  makePositioned: function(element) {
    element = $(element);
    var pos = Element.getStyle(element, 'position');
    if (pos == 'static' || !pos) {
      element._madePositioned = true;
      element.style.position = 'relative';
      if (Prototype.Browser.Opera) {
        element.style.top = 0;
        element.style.left = 0;
      }
    }
    return element;
  },

  undoPositioned: function(element) {
    element = $(element);
    if (element._madePositioned) {
      element._madePositioned = undefined;
      element.style.position =
        element.style.top =
        element.style.left =
        element.style.bottom =
        element.style.right = '';
    }
    return element;
  },

  makeClipping: function(element) {
    element = $(element);
    if (element._overflow) return element;
    element._overflow = Element.getStyle(element, 'overflow') || 'auto';
    if (element._overflow !== 'hidden')
      element.style.overflow = 'hidden';
    return element;
  },

  undoClipping: function(element) {
    element = $(element);
    if (!element._overflow) return element;
    element.style.overflow = element._overflow == 'auto' ? '' : element._overflow;
    element._overflow = null;
    return element;
  },

  clonePosition: function(element, source) {
    var options = Object.extend({
      setLeft:    true,
      setTop:     true,
      setWidth:   true,
      setHeight:  true,
      offsetTop:  0,
      offsetLeft: 0
    }, arguments[2] || { });

    source = $(source);
    var p = Element.viewportOffset(source), delta = [0, 0], parent = null;

    element = $(element);

    if (Element.getStyle(element, 'position') == 'absolute') {
      parent = Element.getOffsetParent(element);
      delta = Element.viewportOffset(parent);
    }

    if (parent == document.body) {
      delta[0] -= document.body.offsetLeft;
      delta[1] -= document.body.offsetTop;
    }

    if (options.setLeft)   element.style.left  = (p[0] - delta[0] + options.offsetLeft) + 'px';
    if (options.setTop)    element.style.top   = (p[1] - delta[1] + options.offsetTop) + 'px';
    if (options.setWidth)  element.style.width = source.offsetWidth + 'px';
    if (options.setHeight) element.style.height = source.offsetHeight + 'px';
    return element;
  }
};

Object.extend(Element.Methods, {
  getElementsBySelector: Element.Methods.select,

  childElements: Element.Methods.immediateDescendants
});

Element._attributeTranslations = {
  write: {
    names: {
      className: 'class',
      htmlFor:   'for'
    },
    values: { }
  }
};

if (Prototype.Browser.Opera) {
  Element.Methods.getStyle = Element.Methods.getStyle.wrap(
    function(proceed, element, style) {
      switch (style) {
        case 'height': case 'width':
          if (!Element.visible(element)) return null;

          var dim = parseInt(proceed(element, style), 10);

          if (dim !== element['offset' + style.capitalize()])
            return dim + 'px';

          var properties;
          if (style === 'height') {
            properties = ['border-top-width', 'padding-top',
             'padding-bottom', 'border-bottom-width'];
          }
          else {
            properties = ['border-left-width', 'padding-left',
             'padding-right', 'border-right-width'];
          }
          return properties.inject(dim, function(memo, property) {
            var val = proceed(element, property);
            return val === null ? memo : memo - parseInt(val, 10);
          }) + 'px';
        default: return proceed(element, style);
      }
    }
  );

  Element.Methods.readAttribute = Element.Methods.readAttribute.wrap(
    function(proceed, element, attribute) {
      if (attribute === 'title') return element.title;
      return proceed(element, attribute);
    }
  );
}

else if (Prototype.Browser.IE) {
  Element.Methods.getStyle = function(element, style) {
    element = $(element);
    style = (style == 'float' || style == 'cssFloat') ? 'styleFloat' : style.camelize();
    var value = element.style[style];
    if (!value && element.currentStyle) value = element.currentStyle[style];

    if (style == 'opacity') {
      if (value = (element.getStyle('filter') || '').match(/alpha\(opacity=(.*)\)/))
        if (value[1]) return parseFloat(value[1]) / 100;
      return 1.0;
    }

    if (value == 'auto') {
      if ((style == 'width' || style == 'height') && (element.getStyle('display') != 'none'))
        return element['offset' + style.capitalize()] + 'px';
      return null;
    }
    return value;
  };

  Element.Methods.setOpacity = function(element, value) {
    function stripAlpha(filter){
      return filter.replace(/alpha\([^\)]*\)/gi,'');
    }
    element = $(element);
    var currentStyle = element.currentStyle;
    if ((currentStyle && !currentStyle.hasLayout) ||
      (!currentStyle && element.style.zoom == 'normal'))
        element.style.zoom = 1;

    var filter = element.getStyle('filter'), style = element.style;
    if (value == 1 || value === '') {
      (filter = stripAlpha(filter)) ?
        style.filter = filter : style.removeAttribute('filter');
      return element;
    } else if (value < 0.00001) value = 0;
    style.filter = stripAlpha(filter) +
      'alpha(opacity=' + (value * 100) + ')';
    return element;
  };

  Element._attributeTranslations = (function(){

    var classProp = 'className',
        forProp = 'for',
        el = document.createElement('div');

    el.setAttribute(classProp, 'x');

    if (el.className !== 'x') {
      el.setAttribute('class', 'x');
      if (el.className === 'x') {
        classProp = 'class';
      }
    }
    el = null;

    el = document.createElement('label');
    el.setAttribute(forProp, 'x');
    if (el.htmlFor !== 'x') {
      el.setAttribute('htmlFor', 'x');
      if (el.htmlFor === 'x') {
        forProp = 'htmlFor';
      }
    }
    el = null;

    return {
      read: {
        names: {
          'class':      classProp,
          'className':  classProp,
          'for':        forProp,
          'htmlFor':    forProp
        },
        values: {
          _getAttr: function(element, attribute) {
            return element.getAttribute(attribute);
          },
          _getAttr2: function(element, attribute) {
            return element.getAttribute(attribute, 2);
          },
          _getAttrNode: function(element, attribute) {
            var node = element.getAttributeNode(attribute);
            return node ? node.value : "";
          },
          _getEv: (function(){

            var el = document.createElement('div'), f;
            el.onclick = Prototype.emptyFunction;
            var value = el.getAttribute('onclick');

            if (String(value).indexOf('{') > -1) {
              f = function(element, attribute) {
                attribute = element.getAttribute(attribute);
                if (!attribute) return null;
                attribute = attribute.toString();
                attribute = attribute.split('{')[1];
                attribute = attribute.split('}')[0];
                return attribute.strip();
              };
            }
            else if (value === '') {
              f = function(element, attribute) {
                attribute = element.getAttribute(attribute);
                if (!attribute) return null;
                return attribute.strip();
              };
            }
            el = null;
            return f;
          })(),
          _flag: function(element, attribute) {
            return $(element).hasAttribute(attribute) ? attribute : null;
          },
          style: function(element) {
            return element.style.cssText.toLowerCase();
          },
          title: function(element) {
            return element.title;
          }
        }
      }
    }
  })();

  Element._attributeTranslations.write = {
    names: Object.extend({
      cellpadding: 'cellPadding',
      cellspacing: 'cellSpacing'
    }, Element._attributeTranslations.read.names),
    values: {
      checked: function(element, value) {
        element.checked = !!value;
      },

      style: function(element, value) {
        element.style.cssText = value ? value : '';
      }
    }
  };

  Element._attributeTranslations.has = {};

  $w('colSpan rowSpan vAlign dateTime accessKey tabIndex ' +
      'encType maxLength readOnly longDesc frameBorder').each(function(attr) {
    Element._attributeTranslations.write.names[attr.toLowerCase()] = attr;
    Element._attributeTranslations.has[attr.toLowerCase()] = attr;
  });

  (function(v) {
    Object.extend(v, {
      href:        v._getAttr2,
      src:         v._getAttr2,
      type:        v._getAttr,
      action:      v._getAttrNode,
      disabled:    v._flag,
      checked:     v._flag,
      readonly:    v._flag,
      multiple:    v._flag,
      onload:      v._getEv,
      onunload:    v._getEv,
      onclick:     v._getEv,
      ondblclick:  v._getEv,
      onmousedown: v._getEv,
      onmouseup:   v._getEv,
      onmouseover: v._getEv,
      onmousemove: v._getEv,
      onmouseout:  v._getEv,
      onfocus:     v._getEv,
      onblur:      v._getEv,
      onkeypress:  v._getEv,
      onkeydown:   v._getEv,
      onkeyup:     v._getEv,
      onsubmit:    v._getEv,
      onreset:     v._getEv,
      onselect:    v._getEv,
      onchange:    v._getEv
    });
  })(Element._attributeTranslations.read.values);

  if (Prototype.BrowserFeatures.ElementExtensions) {
    (function() {
      function _descendants(element) {
        var nodes = element.getElementsByTagName('*'), results = [];
        for (var i = 0, node; node = nodes[i]; i++)
          if (node.tagName !== "!") // Filter out comment nodes.
            results.push(node);
        return results;
      }

      Element.Methods.down = function(element, expression, index) {
        element = $(element);
        if (arguments.length == 1) return element.firstDescendant();
        return Object.isNumber(expression) ? _descendants(element)[expression] :
          Element.select(element, expression)[index || 0];
      }
    })();
  }

}

else if (Prototype.Browser.Gecko && /rv:1\.8\.0/.test(navigator.userAgent)) {
  Element.Methods.setOpacity = function(element, value) {
    element = $(element);
    element.style.opacity = (value == 1) ? 0.999999 :
      (value === '') ? '' : (value < 0.00001) ? 0 : value;
    return element;
  };
}

else if (Prototype.Browser.WebKit) {
  Element.Methods.setOpacity = function(element, value) {
    element = $(element);
    element.style.opacity = (value == 1 || value === '') ? '' :
      (value < 0.00001) ? 0 : value;

    if (value == 1)
      if (element.tagName.toUpperCase() == 'IMG' && element.width) {
        element.width++; element.width--;
      } else try {
        var n = document.createTextNode(' ');
        element.appendChild(n);
        element.removeChild(n);
      } catch (e) { }

    return element;
  };
}

if ('outerHTML' in document.documentElement) {
  Element.Methods.replace = function(element, content) {
    element = $(element);

    if (content && content.toElement) content = content.toElement();
    if (Object.isElement(content)) {
      element.parentNode.replaceChild(content, element);
      return element;
    }

    content = Object.toHTML(content);
    var parent = element.parentNode, tagName = parent.tagName.toUpperCase();

    if (Element._insertionTranslations.tags[tagName]) {
      var nextSibling = element.next(),
          fragments = Element._getContentFromAnonymousElement(tagName, content.stripScripts());
      parent.removeChild(element);
      if (nextSibling)
        fragments.each(function(node) { parent.insertBefore(node, nextSibling) });
      else
        fragments.each(function(node) { parent.appendChild(node) });
    }
    else element.outerHTML = content.stripScripts();

    content.evalScripts.bind(content).defer();
    return element;
  };
}

Element._returnOffset = function(l, t) {
  var result = [l, t];
  result.left = l;
  result.top = t;
  return result;
};

Element._getContentFromAnonymousElement = function(tagName, html, force) {
  var div = new Element('div'),
      t = Element._insertionTranslations.tags[tagName];

  var workaround = false;
  if (t) workaround = true;
  else if (force) {
    workaround = true;
    t = ['', '', 0];
  }

  if (workaround) {
    div.innerHTML = '&nbsp;' + t[0] + html + t[1];
    div.removeChild(div.firstChild);
    for (var i = t[2]; i--; ) {
      div = div.firstChild;
    }
  }
  else {
    div.innerHTML = html;
  }
  return $A(div.childNodes);
};

Element._insertionTranslations = {
  before: function(element, node) {
    element.parentNode.insertBefore(node, element);
  },
  top: function(element, node) {
    element.insertBefore(node, element.firstChild);
  },
  bottom: function(element, node) {
    element.appendChild(node);
  },
  after: function(element, node) {
    element.parentNode.insertBefore(node, element.nextSibling);
  },
  tags: {
    TABLE:  ['<table>',                '</table>',                   1],
    TBODY:  ['<table><tbody>',         '</tbody></table>',           2],
    TR:     ['<table><tbody><tr>',     '</tr></tbody></table>',      3],
    TD:     ['<table><tbody><tr><td>', '</td></tr></tbody></table>', 4],
    SELECT: ['<select>',               '</select>',                  1]
  }
};

(function() {
  var tags = Element._insertionTranslations.tags;
  Object.extend(tags, {
    THEAD: tags.TBODY,
    TFOOT: tags.TBODY,
    TH:    tags.TD
  });
})();

Element.Methods.Simulated = {
  hasAttribute: function(element, attribute) {
    attribute = Element._attributeTranslations.has[attribute] || attribute;
    var node = $(element).getAttributeNode(attribute);
    return !!(node && node.specified);
  }
};

Element.Methods.ByTag = { };

Object.extend(Element, Element.Methods);

(function(div) {

  if (!Prototype.BrowserFeatures.ElementExtensions && div['__proto__']) {
    window.HTMLElement = { };
    window.HTMLElement.prototype = div['__proto__'];
    Prototype.BrowserFeatures.ElementExtensions = true;
  }

  div = null;

})(document.createElement('div'));

Element.extend = (function() {

  function checkDeficiency(tagName) {
    if (typeof window.Element != 'undefined') {
      var proto = window.Element.prototype;
      if (proto) {
        var id = '_' + (Math.random()+'').slice(2),
            el = document.createElement(tagName);
        proto[id] = 'x';
        var isBuggy = (el[id] !== 'x');
        delete proto[id];
        el = null;
        return isBuggy;
      }
    }
    return false;
  }

  function extendElementWith(element, methods) {
    for (var property in methods) {
      var value = methods[property];
      if (Object.isFunction(value) && !(property in element))
        element[property] = value.methodize();
    }
  }

  var HTMLOBJECTELEMENT_PROTOTYPE_BUGGY = checkDeficiency('object');

  if (Prototype.BrowserFeatures.SpecificElementExtensions) {
    if (HTMLOBJECTELEMENT_PROTOTYPE_BUGGY) {
      return function(element) {
        if (element && typeof element._extendedByPrototype == 'undefined') {
          var t = element.tagName;
          if (t && (/^(?:object|applet|embed)$/i.test(t))) {
            extendElementWith(element, Element.Methods);
            extendElementWith(element, Element.Methods.Simulated);
            extendElementWith(element, Element.Methods.ByTag[t.toUpperCase()]);
          }
        }
        return element;
      }
    }
    return Prototype.K;
  }

  var Methods = { }, ByTag = Element.Methods.ByTag;

  var extend = Object.extend(function(element) {
    if (!element || typeof element._extendedByPrototype != 'undefined' ||
        element.nodeType != 1 || element == window) return element;

    var methods = Object.clone(Methods),
        tagName = element.tagName.toUpperCase();

    if (ByTag[tagName]) Object.extend(methods, ByTag[tagName]);

    extendElementWith(element, methods);

    element._extendedByPrototype = Prototype.emptyFunction;
    return element;

  }, {
    refresh: function() {
      if (!Prototype.BrowserFeatures.ElementExtensions) {
        Object.extend(Methods, Element.Methods);
        Object.extend(Methods, Element.Methods.Simulated);
      }
    }
  });

  extend.refresh();
  return extend;
})();

if (document.documentElement.hasAttribute) {
  Element.hasAttribute = function(element, attribute) {
    return element.hasAttribute(attribute);
  };
}
else {
  Element.hasAttribute = Element.Methods.Simulated.hasAttribute;
}

Element.addMethods = function(methods) {
  var F = Prototype.BrowserFeatures, T = Element.Methods.ByTag;

  if (!methods) {
    Object.extend(Form, Form.Methods);
    Object.extend(Form.Element, Form.Element.Methods);
    Object.extend(Element.Methods.ByTag, {
      "FORM":     Object.clone(Form.Methods),
      "INPUT":    Object.clone(Form.Element.Methods),
      "SELECT":   Object.clone(Form.Element.Methods),
      "TEXTAREA": Object.clone(Form.Element.Methods),
      "BUTTON":   Object.clone(Form.Element.Methods)
    });
  }

  if (arguments.length == 2) {
    var tagName = methods;
    methods = arguments[1];
  }

  if (!tagName) Object.extend(Element.Methods, methods || { });
  else {
    if (Object.isArray(tagName)) tagName.each(extend);
    else extend(tagName);
  }

  function extend(tagName) {
    tagName = tagName.toUpperCase();
    if (!Element.Methods.ByTag[tagName])
      Element.Methods.ByTag[tagName] = { };
    Object.extend(Element.Methods.ByTag[tagName], methods);
  }

  function copy(methods, destination, onlyIfAbsent) {
    onlyIfAbsent = onlyIfAbsent || false;
    for (var property in methods) {
      var value = methods[property];
      if (!Object.isFunction(value)) continue;
      if (!onlyIfAbsent || !(property in destination))
        destination[property] = value.methodize();
    }
  }

  function findDOMClass(tagName) {
    var klass;
    var trans = {
      "OPTGROUP": "OptGroup", "TEXTAREA": "TextArea", "P": "Paragraph",
      "FIELDSET": "FieldSet", "UL": "UList", "OL": "OList", "DL": "DList",
      "DIR": "Directory", "H1": "Heading", "H2": "Heading", "H3": "Heading",
      "H4": "Heading", "H5": "Heading", "H6": "Heading", "Q": "Quote",
      "INS": "Mod", "DEL": "Mod", "A": "Anchor", "IMG": "Image", "CAPTION":
      "TableCaption", "COL": "TableCol", "COLGROUP": "TableCol", "THEAD":
      "TableSection", "TFOOT": "TableSection", "TBODY": "TableSection", "TR":
      "TableRow", "TH": "TableCell", "TD": "TableCell", "FRAMESET":
      "FrameSet", "IFRAME": "IFrame"
    };
    if (trans[tagName]) klass = 'HTML' + trans[tagName] + 'Element';
    if (window[klass]) return window[klass];
    klass = 'HTML' + tagName + 'Element';
    if (window[klass]) return window[klass];
    klass = 'HTML' + tagName.capitalize() + 'Element';
    if (window[klass]) return window[klass];

    var element = document.createElement(tagName),
        proto = element['__proto__'] || element.constructor.prototype;

    element = null;
    return proto;
  }

  var elementPrototype = window.HTMLElement ? HTMLElement.prototype :
   Element.prototype;

  if (F.ElementExtensions) {
    copy(Element.Methods, elementPrototype);
    copy(Element.Methods.Simulated, elementPrototype, true);
  }

  if (F.SpecificElementExtensions) {
    for (var tag in Element.Methods.ByTag) {
      var klass = findDOMClass(tag);
      if (Object.isUndefined(klass)) continue;
      copy(T[tag], klass.prototype);
    }
  }

  Object.extend(Element, Element.Methods);
  delete Element.ByTag;

  if (Element.extend.refresh) Element.extend.refresh();
  Element.cache = { };
};


document.viewport = {

  getDimensions: function() {
    return { width: this.getWidth(), height: this.getHeight() };
  },

  getScrollOffsets: function() {
    return Element._returnOffset(
      window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft,
      window.pageYOffset || document.documentElement.scrollTop  || document.body.scrollTop);
  }
};

(function(viewport) {
  var B = Prototype.Browser, doc = document, element, property = {};

  function getRootElement() {
    if (B.WebKit && !doc.evaluate)
      return document;

    if (B.Opera && window.parseFloat(window.opera.version()) < 9.5)
      return document.body;

    return document.documentElement;
  }

  function define(D) {
    if (!element) element = getRootElement();

    property[D] = 'client' + D;

    viewport['get' + D] = function() { return element[property[D]] };
    return viewport['get' + D]();
  }

  viewport.getWidth  = define.curry('Width');

  viewport.getHeight = define.curry('Height');
})(document.viewport);


Element.Storage = {
  UID: 1
};

Element.addMethods({
  getStorage: function(element) {
    if (!(element = $(element))) return;

    var uid;
    if (element === window) {
      uid = 0;
    } else {
      if (typeof element._prototypeUID === "undefined")
        element._prototypeUID = Element.Storage.UID++;
      uid = element._prototypeUID;
    }

    if (!Element.Storage[uid])
      Element.Storage[uid] = $H();

    return Element.Storage[uid];
  },

  store: function(element, key, value) {
    if (!(element = $(element))) return;

    if (arguments.length === 2) {
      Element.getStorage(element).update(key);
    } else {
      Element.getStorage(element).set(key, value);
    }

    return element;
  },

  retrieve: function(element, key, defaultValue) {
    if (!(element = $(element))) return;
    var hash = Element.getStorage(element), value = hash.get(key);

    if (Object.isUndefined(value)) {
      hash.set(key, defaultValue);
      value = defaultValue;
    }

    return value;
  },

  clone: function(element, deep) {
    if (!(element = $(element))) return;
    var clone = element.cloneNode(deep);
    clone._prototypeUID = void 0;
    if (deep) {
      var descendants = Element.select(clone, '*'),
          i = descendants.length;
      while (i--) {
        descendants[i]._prototypeUID = void 0;
      }
    }
    return Element.extend(clone);
  },

  purge: function(element) {
    if (!(element = $(element))) return;
    var purgeElement = Element._purgeElement;

    purgeElement(element);

    var descendants = element.getElementsByTagName('*'),
     i = descendants.length;

    while (i--) purgeElement(descendants[i]);

    return null;
  }
});

(function() {

  function toDecimal(pctString) {
    var match = pctString.match(/^(\d+)%?$/i);
    if (!match) return null;
    return (Number(match[1]) / 100);
  }

  function getPixelValue(value, property, context) {
    var element = null;
    if (Object.isElement(value)) {
      element = value;
      value = element.getStyle(property);
    }

    if (value === null) {
      return null;
    }

    if ((/^(?:-)?\d+(\.\d+)?(px)?$/i).test(value)) {
      return window.parseFloat(value);
    }

    var isPercentage = value.include('%'), isViewport = (context === document.viewport);

    if (/\d/.test(value) && element && element.runtimeStyle && !(isPercentage && isViewport)) {
      var style = element.style.left, rStyle = element.runtimeStyle.left;
      element.runtimeStyle.left = element.currentStyle.left;
      element.style.left = value || 0;
      value = element.style.pixelLeft;
      element.style.left = style;
      element.runtimeStyle.left = rStyle;

      return value;
    }

    if (element && isPercentage) {
      context = context || element.parentNode;
      var decimal = toDecimal(value);
      var whole = null;
      var position = element.getStyle('position');

      var isHorizontal = property.include('left') || property.include('right') ||
       property.include('width');

      var isVertical =  property.include('top') || property.include('bottom') ||
        property.include('height');

      if (context === document.viewport) {
        if (isHorizontal) {
          whole = document.viewport.getWidth();
        } else if (isVertical) {
          whole = document.viewport.getHeight();
        }
      } else {
        if (isHorizontal) {
          whole = $(context).measure('width');
        } else if (isVertical) {
          whole = $(context).measure('height');
        }
      }

      return (whole === null) ? 0 : whole * decimal;
    }

    return 0;
  }

  function toCSSPixels(number) {
    if (Object.isString(number) && number.endsWith('px')) {
      return number;
    }
    return number + 'px';
  }

  function isDisplayed(element) {
    var originalElement = element;
    while (element && element.parentNode) {
      var display = element.getStyle('display');
      if (display === 'none') {
        return false;
      }
      element = $(element.parentNode);
    }
    return true;
  }

  var hasLayout = Prototype.K;
  if ('currentStyle' in document.documentElement) {
    hasLayout = function(element) {
      if (!element.currentStyle.hasLayout) {
        element.style.zoom = 1;
      }
      return element;
    };
  }

  function cssNameFor(key) {
    if (key.include('border')) key = key + '-width';
    return key.camelize();
  }

  Element.Layout = Class.create(Hash, {
    initialize: function($super, element, preCompute) {
      $super();
      this.element = $(element);

      Element.Layout.PROPERTIES.each( function(property) {
        this._set(property, null);
      }, this);

      if (preCompute) {
        this._preComputing = true;
        this._begin();
        Element.Layout.PROPERTIES.each( this._compute, this );
        this._end();
        this._preComputing = false;
      }
    },

    _set: function(property, value) {
      return Hash.prototype.set.call(this, property, value);
    },

    set: function(property, value) {
      throw "Properties of Element.Layout are read-only.";
    },

    get: function($super, property) {
      var value = $super(property);
      return value === null ? this._compute(property) : value;
    },

    _begin: function() {
      if (this._prepared) return;

      var element = this.element;
      if (isDisplayed(element)) {
        this._prepared = true;
        return;
      }

      var originalStyles = {
        position:   element.style.position   || '',
        width:      element.style.width      || '',
        visibility: element.style.visibility || '',
        display:    element.style.display    || ''
      };

      element.store('prototype_original_styles', originalStyles);

      var position = element.getStyle('position'),
       width = element.getStyle('width');

      if (width === "0px" || width === null) {
        element.style.display = 'block';
        width = element.getStyle('width');
      }

      var context = (position === 'fixed') ? document.viewport :
       element.parentNode;

      element.setStyle({
        position:   'absolute',
        visibility: 'hidden',
        display:    'block'
      });

      var positionedWidth = element.getStyle('width');

      var newWidth;
      if (width && (positionedWidth === width)) {
        newWidth = getPixelValue(element, 'width', context);
      } else if (position === 'absolute' || position === 'fixed') {
        newWidth = getPixelValue(element, 'width', context);
      } else {
        var parent = element.parentNode, pLayout = $(parent).getLayout();

        newWidth = pLayout.get('width') -
         this.get('margin-left') -
         this.get('border-left') -
         this.get('padding-left') -
         this.get('padding-right') -
         this.get('border-right') -
         this.get('margin-right');
      }

      element.setStyle({ width: newWidth + 'px' });

      this._prepared = true;
    },

    _end: function() {
      var element = this.element;
      var originalStyles = element.retrieve('prototype_original_styles');
      element.store('prototype_original_styles', null);
      element.setStyle(originalStyles);
      this._prepared = false;
    },

    _compute: function(property) {
      var COMPUTATIONS = Element.Layout.COMPUTATIONS;
      if (!(property in COMPUTATIONS)) {
        throw "Property not found.";
      }

      return this._set(property, COMPUTATIONS[property].call(this, this.element));
    },

    toObject: function() {
      var args = $A(arguments);
      var keys = (args.length === 0) ? Element.Layout.PROPERTIES :
       args.join(' ').split(' ');
      var obj = {};
      keys.each( function(key) {
        if (!Element.Layout.PROPERTIES.include(key)) return;
        var value = this.get(key);
        if (value != null) obj[key] = value;
      }, this);
      return obj;
    },

    toHash: function() {
      var obj = this.toObject.apply(this, arguments);
      return new Hash(obj);
    },

    toCSS: function() {
      var args = $A(arguments);
      var keys = (args.length === 0) ? Element.Layout.PROPERTIES :
       args.join(' ').split(' ');
      var css = {};

      keys.each( function(key) {
        if (!Element.Layout.PROPERTIES.include(key)) return;
        if (Element.Layout.COMPOSITE_PROPERTIES.include(key)) return;

        var value = this.get(key);
        if (value != null) css[cssNameFor(key)] = value + 'px';
      }, this);
      return css;
    },

    inspect: function() {
      return "#<Element.Layout>";
    }
  });

  Object.extend(Element.Layout, {
    PROPERTIES: $w('height width top left right bottom border-left border-right border-top border-bottom padding-left padding-right padding-top padding-bottom margin-top margin-bottom margin-left margin-right padding-box-width padding-box-height border-box-width border-box-height margin-box-width margin-box-height'),

    COMPOSITE_PROPERTIES: $w('padding-box-width padding-box-height margin-box-width margin-box-height border-box-width border-box-height'),

    COMPUTATIONS: {
      'height': function(element) {
        if (!this._preComputing) this._begin();

        var bHeight = this.get('border-box-height');
        if (bHeight <= 0) {
          if (!this._preComputing) this._end();
          return 0;
        }

        var bTop = this.get('border-top'),
         bBottom = this.get('border-bottom');

        var pTop = this.get('padding-top'),
         pBottom = this.get('padding-bottom');

        if (!this._preComputing) this._end();

        return bHeight - bTop - bBottom - pTop - pBottom;
      },

      'width': function(element) {
        if (!this._preComputing) this._begin();

        var bWidth = this.get('border-box-width');
        if (bWidth <= 0) {
          if (!this._preComputing) this._end();
          return 0;
        }

        var bLeft = this.get('border-left'),
         bRight = this.get('border-right');

        var pLeft = this.get('padding-left'),
         pRight = this.get('padding-right');

        if (!this._preComputing) this._end();

        return bWidth - bLeft - bRight - pLeft - pRight;
      },

      'padding-box-height': function(element) {
        var height = this.get('height'),
         pTop = this.get('padding-top'),
         pBottom = this.get('padding-bottom');

        return height + pTop + pBottom;
      },

      'padding-box-width': function(element) {
        var width = this.get('width'),
         pLeft = this.get('padding-left'),
         pRight = this.get('padding-right');

        return width + pLeft + pRight;
      },

      'border-box-height': function(element) {
        if (!this._preComputing) this._begin();
        var height = element.offsetHeight;
        if (!this._preComputing) this._end();
        return height;
      },

      'border-box-width': function(element) {
        if (!this._preComputing) this._begin();
        var width = element.offsetWidth;
        if (!this._preComputing) this._end();
        return width;
      },

      'margin-box-height': function(element) {
        var bHeight = this.get('border-box-height'),
         mTop = this.get('margin-top'),
         mBottom = this.get('margin-bottom');

        if (bHeight <= 0) return 0;

        return bHeight + mTop + mBottom;
      },

      'margin-box-width': function(element) {
        var bWidth = this.get('border-box-width'),
         mLeft = this.get('margin-left'),
         mRight = this.get('margin-right');

        if (bWidth <= 0) return 0;

        return bWidth + mLeft + mRight;
      },

      'top': function(element) {
        var offset = element.positionedOffset();
        return offset.top;
      },

      'bottom': function(element) {
        var offset = element.positionedOffset(),
         parent = element.getOffsetParent(),
         pHeight = parent.measure('height');

        var mHeight = this.get('border-box-height');

        return pHeight - mHeight - offset.top;
      },

      'left': function(element) {
        var offset = element.positionedOffset();
        return offset.left;
      },

      'right': function(element) {
        var offset = element.positionedOffset(),
         parent = element.getOffsetParent(),
         pWidth = parent.measure('width');

        var mWidth = this.get('border-box-width');

        return pWidth - mWidth - offset.left;
      },

      'padding-top': function(element) {
        return getPixelValue(element, 'paddingTop');
      },

      'padding-bottom': function(element) {
        return getPixelValue(element, 'paddingBottom');
      },

      'padding-left': function(element) {
        return getPixelValue(element, 'paddingLeft');
      },

      'padding-right': function(element) {
        return getPixelValue(element, 'paddingRight');
      },

      'border-top': function(element) {
        return getPixelValue(element, 'borderTopWidth');
      },

      'border-bottom': function(element) {
        return getPixelValue(element, 'borderBottomWidth');
      },

      'border-left': function(element) {
        return getPixelValue(element, 'borderLeftWidth');
      },

      'border-right': function(element) {
        return getPixelValue(element, 'borderRightWidth');
      },

      'margin-top': function(element) {
        return getPixelValue(element, 'marginTop');
      },

      'margin-bottom': function(element) {
        return getPixelValue(element, 'marginBottom');
      },

      'margin-left': function(element) {
        return getPixelValue(element, 'marginLeft');
      },

      'margin-right': function(element) {
        return getPixelValue(element, 'marginRight');
      }
    }
  });

  if ('getBoundingClientRect' in document.documentElement) {
    Object.extend(Element.Layout.COMPUTATIONS, {
      'right': function(element) {
        var parent = hasLayout(element.getOffsetParent());
        var rect = element.getBoundingClientRect(),
         pRect = parent.getBoundingClientRect();

        return (pRect.right - rect.right).round();
      },

      'bottom': function(element) {
        var parent = hasLayout(element.getOffsetParent());
        var rect = element.getBoundingClientRect(),
         pRect = parent.getBoundingClientRect();

        return (pRect.bottom - rect.bottom).round();
      }
    });
  }

  Element.Offset = Class.create({
    initialize: function(left, top) {
      this.left = left.round();
      this.top  = top.round();

      this[0] = this.left;
      this[1] = this.top;
    },

    relativeTo: function(offset) {
      return new Element.Offset(
        this.left - offset.left,
        this.top  - offset.top
      );
    },

    inspect: function() {
      return "#<Element.Offset left: #{left} top: #{top}>".interpolate(this);
    },

    toString: function() {
      return "[#{left}, #{top}]".interpolate(this);
    },

    toArray: function() {
      return [this.left, this.top];
    }
  });

  function getLayout(element, preCompute) {
    return new Element.Layout(element, preCompute);
  }

  function measure(element, property) {
    return $(element).getLayout().get(property);
  }

  function getDimensions(element) {
    element = $(element);
    var display = Element.getStyle(element, 'display');

    if (display && display !== 'none') {
      return { width: element.offsetWidth, height: element.offsetHeight };
    }

    var style = element.style;
    var originalStyles = {
      visibility: style.visibility,
      position:   style.position,
      display:    style.display
    };

    var newStyles = {
      visibility: 'hidden',
      display:    'block'
    };

    if (originalStyles.position !== 'fixed')
      newStyles.position = 'absolute';

    Element.setStyle(element, newStyles);

    var dimensions = {
      width:  element.offsetWidth,
      height: element.offsetHeight
    };

    Element.setStyle(element, originalStyles);

    return dimensions;
  }

  function getOffsetParent(element) {
    element = $(element);

    if (isDocument(element) || isDetached(element) || isBody(element) || isHtml(element))
      return $(document.body);

    var isInline = (Element.getStyle(element, 'display') === 'inline');
    if (!isInline && element.offsetParent) return $(element.offsetParent);

    while ((element = element.parentNode) && element !== document.body) {
      if (Element.getStyle(element, 'position') !== 'static') {
        return isHtml(element) ? $(document.body) : $(element);
      }
    }

    return $(document.body);
  }


  function cumulativeOffset(element) {
    element = $(element);
    var valueT = 0, valueL = 0;
    if (element.parentNode) {
      do {
        valueT += element.offsetTop  || 0;
        valueL += element.offsetLeft || 0;
        element = element.offsetParent;
      } while (element);
    }
    return new Element.Offset(valueL, valueT);
  }

  function positionedOffset(element) {
    element = $(element);

    var layout = element.getLayout();

    var valueT = 0, valueL = 0;
    do {
      valueT += element.offsetTop  || 0;
      valueL += element.offsetLeft || 0;
      element = element.offsetParent;
      if (element) {
        if (isBody(element)) break;
        var p = Element.getStyle(element, 'position');
        if (p !== 'static') break;
      }
    } while (element);

    valueL -= layout.get('margin-top');
    valueT -= layout.get('margin-left');

    return new Element.Offset(valueL, valueT);
  }

  function cumulativeScrollOffset(element) {
    var valueT = 0, valueL = 0;
    do {
      valueT += element.scrollTop  || 0;
      valueL += element.scrollLeft || 0;
      element = element.parentNode;
    } while (element);
    return new Element.Offset(valueL, valueT);
  }

  function viewportOffset(forElement) {
    element = $(element);
    var valueT = 0, valueL = 0, docBody = document.body;

    var element = forElement;
    do {
      valueT += element.offsetTop  || 0;
      valueL += element.offsetLeft || 0;
      if (element.offsetParent == docBody &&
        Element.getStyle(element, 'position') == 'absolute') break;
    } while (element = element.offsetParent);

    element = forElement;
    do {
      if (element != docBody) {
        valueT -= element.scrollTop  || 0;
        valueL -= element.scrollLeft || 0;
      }
    } while (element = element.parentNode);
    return new Element.Offset(valueL, valueT);
  }

  function absolutize(element) {
    element = $(element);

    if (Element.getStyle(element, 'position') === 'absolute') {
      return element;
    }

    var offsetParent = getOffsetParent(element);
    var eOffset = element.viewportOffset(),
     pOffset = offsetParent.viewportOffset();

    var offset = eOffset.relativeTo(pOffset);
    var layout = element.getLayout();

    element.store('prototype_absolutize_original_styles', {
      left:   element.getStyle('left'),
      top:    element.getStyle('top'),
      width:  element.getStyle('width'),
      height: element.getStyle('height')
    });

    element.setStyle({
      position: 'absolute',
      top:    offset.top + 'px',
      left:   offset.left + 'px',
      width:  layout.get('width') + 'px',
      height: layout.get('height') + 'px'
    });

    return element;
  }

  function relativize(element) {
    element = $(element);
    if (Element.getStyle(element, 'position') === 'relative') {
      return element;
    }

    var originalStyles =
     element.retrieve('prototype_absolutize_original_styles');

    if (originalStyles) element.setStyle(originalStyles);
    return element;
  }

  if (Prototype.Browser.IE) {
    getOffsetParent = getOffsetParent.wrap(
      function(proceed, element) {
        element = $(element);

        if (isDocument(element) || isDetached(element) || isBody(element) || isHtml(element))
          return $(document.body);

        var position = element.getStyle('position');
        if (position !== 'static') return proceed(element);

        element.setStyle({ position: 'relative' });
        var value = proceed(element);
        element.setStyle({ position: position });
        return value;
      }
    );

    positionedOffset = positionedOffset.wrap(function(proceed, element) {
      element = $(element);
      if (!element.parentNode) return new Element.Offset(0, 0);
      var position = element.getStyle('position');
      if (position !== 'static') return proceed(element);

      var offsetParent = element.getOffsetParent();
      if (offsetParent && offsetParent.getStyle('position') === 'fixed')
        hasLayout(offsetParent);

      element.setStyle({ position: 'relative' });
      var value = proceed(element);
      element.setStyle({ position: position });
      return value;
    });
  } else if (Prototype.Browser.Webkit) {
    cumulativeOffset = function(element) {
      element = $(element);
      var valueT = 0, valueL = 0;
      do {
        valueT += element.offsetTop  || 0;
        valueL += element.offsetLeft || 0;
        if (element.offsetParent == document.body)
          if (Element.getStyle(element, 'position') == 'absolute') break;

        element = element.offsetParent;
      } while (element);

      return new Element.Offset(valueL, valueT);
    };
  }


  Element.addMethods({
    getLayout:              getLayout,
    measure:                measure,
    getDimensions:          getDimensions,
    getOffsetParent:        getOffsetParent,
    cumulativeOffset:       cumulativeOffset,
    positionedOffset:       positionedOffset,
    cumulativeScrollOffset: cumulativeScrollOffset,
    viewportOffset:         viewportOffset,
    absolutize:             absolutize,
    relativize:             relativize
  });

  function isBody(element) {
    return element.nodeName.toUpperCase() === 'BODY';
  }

  function isHtml(element) {
    return element.nodeName.toUpperCase() === 'HTML';
  }

  function isDocument(element) {
    return element.nodeType === Node.DOCUMENT_NODE;
  }

  function isDetached(element) {
    return element !== document.body &&
     !Element.descendantOf(element, document.body);
  }

  if ('getBoundingClientRect' in document.documentElement) {
    Element.addMethods({
      viewportOffset: function(element) {
        element = $(element);
        if (isDetached(element)) return new Element.Offset(0, 0);

        var rect = element.getBoundingClientRect(),
         docEl = document.documentElement;
        return new Element.Offset(rect.left - docEl.clientLeft,
         rect.top - docEl.clientTop);
      }
    });
  }
})();
window.$$ = function() {
  var expression = $A(arguments).join(', ');
  return Prototype.Selector.select(expression, document);
};

Prototype.Selector = (function() {

  function select() {
    throw new Error('Method "Prototype.Selector.select" must be defined.');
  }

  function match() {
    throw new Error('Method "Prototype.Selector.match" must be defined.');
  }

  function find(elements, expression, index) {
    index = index || 0;
    var match = Prototype.Selector.match, length = elements.length, matchIndex = 0, i;

    for (i = 0; i < length; i++) {
      if (match(elements[i], expression) && index == matchIndex++) {
        return Element.extend(elements[i]);
      }
    }
  }

  function extendElements(elements) {
    for (var i = 0, length = elements.length; i < length; i++) {
      Element.extend(elements[i]);
    }
    return elements;
  }


  var K = Prototype.K;

  return {
    select: select,
    match: match,
    find: find,
    extendElements: (Element.extend === K) ? K : extendElements,
    extendElement: Element.extend
  };
})();
/*!
 * Sizzle CSS Selector Engine - v1.0
 *  Copyright 2009, The Dojo Foundation
 *  Released under the MIT, BSD, and GPL Licenses.
 *  More information: http://sizzlejs.com/
 */
(function(){

var chunker = /((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^[\]]*\]|['"][^'"]*['"]|[^[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,
	done = 0,
	toString = Object.prototype.toString,
	hasDuplicate = false,
	baseHasDuplicate = true;

[0, 0].sort(function(){
	baseHasDuplicate = false;
	return 0;
});

var Sizzle = function(selector, context, results, seed) {
	results = results || [];
	var origContext = context = context || document;

	if ( context.nodeType !== 1 && context.nodeType !== 9 ) {
		return [];
	}

	if ( !selector || typeof selector !== "string" ) {
		return results;
	}

	var parts = [], m, set, checkSet, check, mode, extra, prune = true, contextXML = isXML(context),
		soFar = selector;

	while ( (chunker.exec(""), m = chunker.exec(soFar)) !== null ) {
		soFar = m[3];

		parts.push( m[1] );

		if ( m[2] ) {
			extra = m[3];
			break;
		}
	}

	if ( parts.length > 1 && origPOS.exec( selector ) ) {
		if ( parts.length === 2 && Expr.relative[ parts[0] ] ) {
			set = posProcess( parts[0] + parts[1], context );
		} else {
			set = Expr.relative[ parts[0] ] ?
				[ context ] :
				Sizzle( parts.shift(), context );

			while ( parts.length ) {
				selector = parts.shift();

				if ( Expr.relative[ selector ] )
					selector += parts.shift();

				set = posProcess( selector, set );
			}
		}
	} else {
		if ( !seed && parts.length > 1 && context.nodeType === 9 && !contextXML &&
				Expr.match.ID.test(parts[0]) && !Expr.match.ID.test(parts[parts.length - 1]) ) {
			var ret = Sizzle.find( parts.shift(), context, contextXML );
			context = ret.expr ? Sizzle.filter( ret.expr, ret.set )[0] : ret.set[0];
		}

		if ( context ) {
			var ret = seed ?
				{ expr: parts.pop(), set: makeArray(seed) } :
				Sizzle.find( parts.pop(), parts.length === 1 && (parts[0] === "~" || parts[0] === "+") && context.parentNode ? context.parentNode : context, contextXML );
			set = ret.expr ? Sizzle.filter( ret.expr, ret.set ) : ret.set;

			if ( parts.length > 0 ) {
				checkSet = makeArray(set);
			} else {
				prune = false;
			}

			while ( parts.length ) {
				var cur = parts.pop(), pop = cur;

				if ( !Expr.relative[ cur ] ) {
					cur = "";
				} else {
					pop = parts.pop();
				}

				if ( pop == null ) {
					pop = context;
				}

				Expr.relative[ cur ]( checkSet, pop, contextXML );
			}
		} else {
			checkSet = parts = [];
		}
	}

	if ( !checkSet ) {
		checkSet = set;
	}

	if ( !checkSet ) {
		throw "Syntax error, unrecognized expression: " + (cur || selector);
	}

	if ( toString.call(checkSet) === "[object Array]" ) {
		if ( !prune ) {
			results.push.apply( results, checkSet );
		} else if ( context && context.nodeType === 1 ) {
			for ( var i = 0; checkSet[i] != null; i++ ) {
				if ( checkSet[i] && (checkSet[i] === true || checkSet[i].nodeType === 1 && contains(context, checkSet[i])) ) {
					results.push( set[i] );
				}
			}
		} else {
			for ( var i = 0; checkSet[i] != null; i++ ) {
				if ( checkSet[i] && checkSet[i].nodeType === 1 ) {
					results.push( set[i] );
				}
			}
		}
	} else {
		makeArray( checkSet, results );
	}

	if ( extra ) {
		Sizzle( extra, origContext, results, seed );
		Sizzle.uniqueSort( results );
	}

	return results;
};

Sizzle.uniqueSort = function(results){
	if ( sortOrder ) {
		hasDuplicate = baseHasDuplicate;
		results.sort(sortOrder);

		if ( hasDuplicate ) {
			for ( var i = 1; i < results.length; i++ ) {
				if ( results[i] === results[i-1] ) {
					results.splice(i--, 1);
				}
			}
		}
	}

	return results;
};

Sizzle.matches = function(expr, set){
	return Sizzle(expr, null, null, set);
};

Sizzle.find = function(expr, context, isXML){
	var set, match;

	if ( !expr ) {
		return [];
	}

	for ( var i = 0, l = Expr.order.length; i < l; i++ ) {
		var type = Expr.order[i], match;

		if ( (match = Expr.leftMatch[ type ].exec( expr )) ) {
			var left = match[1];
			match.splice(1,1);

			if ( left.substr( left.length - 1 ) !== "\\" ) {
				match[1] = (match[1] || "").replace(/\\/g, "");
				set = Expr.find[ type ]( match, context, isXML );
				if ( set != null ) {
					expr = expr.replace( Expr.match[ type ], "" );
					break;
				}
			}
		}
	}

	if ( !set ) {
		set = context.getElementsByTagName("*");
	}

	return {set: set, expr: expr};
};

Sizzle.filter = function(expr, set, inplace, not){
	var old = expr, result = [], curLoop = set, match, anyFound,
		isXMLFilter = set && set[0] && isXML(set[0]);

	while ( expr && set.length ) {
		for ( var type in Expr.filter ) {
			if ( (match = Expr.match[ type ].exec( expr )) != null ) {
				var filter = Expr.filter[ type ], found, item;
				anyFound = false;

				if ( curLoop == result ) {
					result = [];
				}

				if ( Expr.preFilter[ type ] ) {
					match = Expr.preFilter[ type ]( match, curLoop, inplace, result, not, isXMLFilter );

					if ( !match ) {
						anyFound = found = true;
					} else if ( match === true ) {
						continue;
					}
				}

				if ( match ) {
					for ( var i = 0; (item = curLoop[i]) != null; i++ ) {
						if ( item ) {
							found = filter( item, match, i, curLoop );
							var pass = not ^ !!found;

							if ( inplace && found != null ) {
								if ( pass ) {
									anyFound = true;
								} else {
									curLoop[i] = false;
								}
							} else if ( pass ) {
								result.push( item );
								anyFound = true;
							}
						}
					}
				}

				if ( found !== undefined ) {
					if ( !inplace ) {
						curLoop = result;
					}

					expr = expr.replace( Expr.match[ type ], "" );

					if ( !anyFound ) {
						return [];
					}

					break;
				}
			}
		}

		if ( expr == old ) {
			if ( anyFound == null ) {
				throw "Syntax error, unrecognized expression: " + expr;

			} else {
				break;
			}
		}

		old = expr;
	}

	return curLoop;
};

var Expr = Sizzle.selectors = {
	order: [ "ID", "NAME", "TAG" ],
	match: {
		ID: /#((?:[\w\u00c0-\uFFFF-]|\\.)+)/,
		CLASS: /\.((?:[\w\u00c0-\uFFFF-]|\\.)+)/,
		NAME: /\[name=['"]*((?:[\w\u00c0-\uFFFF-]|\\.)+)['"]*\]/,
		ATTR: /\[\s*((?:[\w\u00c0-\uFFFF-]|\\.)+)\s*(?:(\S?=)\s*(['"]*)(.*?)\3|)\s*\]/,
		TAG: /^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,
		CHILD: /:(only|nth|last|first)-child(?:\((even|odd|[\dn+-]*)\))?/,
		POS: /:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^-]|$)/,
		PSEUDO: /:((?:[\w\u00c0-\uFFFF-]|\\.)+)(?:\((['"]*)((?:\([^\)]+\)|[^\2\(\)]*)+)\2\))?/
	},
	leftMatch: {},
	attrMap: {
		"class": "className",
		"for": "htmlFor"
	},
	attrHandle: {
		href: function(elem){
			return elem.getAttribute("href");
		}
	},
	relative: {
		"+": function(checkSet, part, isXML){
			var isPartStr = typeof part === "string",
				isTag = isPartStr && !/\W/.test(part),
				isPartStrNotTag = isPartStr && !isTag;

			if ( isTag && !isXML ) {
				part = part.toUpperCase();
			}

			for ( var i = 0, l = checkSet.length, elem; i < l; i++ ) {
				if ( (elem = checkSet[i]) ) {
					while ( (elem = elem.previousSibling) && elem.nodeType !== 1 ) {}

					checkSet[i] = isPartStrNotTag || elem && elem.nodeName === part ?
						elem || false :
						elem === part;
				}
			}

			if ( isPartStrNotTag ) {
				Sizzle.filter( part, checkSet, true );
			}
		},
		">": function(checkSet, part, isXML){
			var isPartStr = typeof part === "string";

			if ( isPartStr && !/\W/.test(part) ) {
				part = isXML ? part : part.toUpperCase();

				for ( var i = 0, l = checkSet.length; i < l; i++ ) {
					var elem = checkSet[i];
					if ( elem ) {
						var parent = elem.parentNode;
						checkSet[i] = parent.nodeName === part ? parent : false;
					}
				}
			} else {
				for ( var i = 0, l = checkSet.length; i < l; i++ ) {
					var elem = checkSet[i];
					if ( elem ) {
						checkSet[i] = isPartStr ?
							elem.parentNode :
							elem.parentNode === part;
					}
				}

				if ( isPartStr ) {
					Sizzle.filter( part, checkSet, true );
				}
			}
		},
		"": function(checkSet, part, isXML){
			var doneName = done++, checkFn = dirCheck;

			if ( !/\W/.test(part) ) {
				var nodeCheck = part = isXML ? part : part.toUpperCase();
				checkFn = dirNodeCheck;
			}

			checkFn("parentNode", part, doneName, checkSet, nodeCheck, isXML);
		},
		"~": function(checkSet, part, isXML){
			var doneName = done++, checkFn = dirCheck;

			if ( typeof part === "string" && !/\W/.test(part) ) {
				var nodeCheck = part = isXML ? part : part.toUpperCase();
				checkFn = dirNodeCheck;
			}

			checkFn("previousSibling", part, doneName, checkSet, nodeCheck, isXML);
		}
	},
	find: {
		ID: function(match, context, isXML){
			if ( typeof context.getElementById !== "undefined" && !isXML ) {
				var m = context.getElementById(match[1]);
				return m ? [m] : [];
			}
		},
		NAME: function(match, context, isXML){
			if ( typeof context.getElementsByName !== "undefined" ) {
				var ret = [], results = context.getElementsByName(match[1]);

				for ( var i = 0, l = results.length; i < l; i++ ) {
					if ( results[i].getAttribute("name") === match[1] ) {
						ret.push( results[i] );
					}
				}

				return ret.length === 0 ? null : ret;
			}
		},
		TAG: function(match, context){
			return context.getElementsByTagName(match[1]);
		}
	},
	preFilter: {
		CLASS: function(match, curLoop, inplace, result, not, isXML){
			match = " " + match[1].replace(/\\/g, "") + " ";

			if ( isXML ) {
				return match;
			}

			for ( var i = 0, elem; (elem = curLoop[i]) != null; i++ ) {
				if ( elem ) {
					if ( not ^ (elem.className && (" " + elem.className + " ").indexOf(match) >= 0) ) {
						if ( !inplace )
							result.push( elem );
					} else if ( inplace ) {
						curLoop[i] = false;
					}
				}
			}

			return false;
		},
		ID: function(match){
			return match[1].replace(/\\/g, "");
		},
		TAG: function(match, curLoop){
			for ( var i = 0; curLoop[i] === false; i++ ){}
			return curLoop[i] && isXML(curLoop[i]) ? match[1] : match[1].toUpperCase();
		},
		CHILD: function(match){
			if ( match[1] == "nth" ) {
				var test = /(-?)(\d*)n((?:\+|-)?\d*)/.exec(
					match[2] == "even" && "2n" || match[2] == "odd" && "2n+1" ||
					!/\D/.test( match[2] ) && "0n+" + match[2] || match[2]);

				match[2] = (test[1] + (test[2] || 1)) - 0;
				match[3] = test[3] - 0;
			}

			match[0] = done++;

			return match;
		},
		ATTR: function(match, curLoop, inplace, result, not, isXML){
			var name = match[1].replace(/\\/g, "");

			if ( !isXML && Expr.attrMap[name] ) {
				match[1] = Expr.attrMap[name];
			}

			if ( match[2] === "~=" ) {
				match[4] = " " + match[4] + " ";
			}

			return match;
		},
		PSEUDO: function(match, curLoop, inplace, result, not){
			if ( match[1] === "not" ) {
				if ( ( chunker.exec(match[3]) || "" ).length > 1 || /^\w/.test(match[3]) ) {
					match[3] = Sizzle(match[3], null, null, curLoop);
				} else {
					var ret = Sizzle.filter(match[3], curLoop, inplace, true ^ not);
					if ( !inplace ) {
						result.push.apply( result, ret );
					}
					return false;
				}
			} else if ( Expr.match.POS.test( match[0] ) || Expr.match.CHILD.test( match[0] ) ) {
				return true;
			}

			return match;
		},
		POS: function(match){
			match.unshift( true );
			return match;
		}
	},
	filters: {
		enabled: function(elem){
			return elem.disabled === false && elem.type !== "hidden";
		},
		disabled: function(elem){
			return elem.disabled === true;
		},
		checked: function(elem){
			return elem.checked === true;
		},
		selected: function(elem){
			elem.parentNode.selectedIndex;
			return elem.selected === true;
		},
		parent: function(elem){
			return !!elem.firstChild;
		},
		empty: function(elem){
			return !elem.firstChild;
		},
		has: function(elem, i, match){
			return !!Sizzle( match[3], elem ).length;
		},
		header: function(elem){
			return /h\d/i.test( elem.nodeName );
		},
		text: function(elem){
			return "text" === elem.type;
		},
		radio: function(elem){
			return "radio" === elem.type;
		},
		checkbox: function(elem){
			return "checkbox" === elem.type;
		},
		file: function(elem){
			return "file" === elem.type;
		},
		password: function(elem){
			return "password" === elem.type;
		},
		submit: function(elem){
			return "submit" === elem.type;
		},
		image: function(elem){
			return "image" === elem.type;
		},
		reset: function(elem){
			return "reset" === elem.type;
		},
		button: function(elem){
			return "button" === elem.type || elem.nodeName.toUpperCase() === "BUTTON";
		},
		input: function(elem){
			return /input|select|textarea|button/i.test(elem.nodeName);
		}
	},
	setFilters: {
		first: function(elem, i){
			return i === 0;
		},
		last: function(elem, i, match, array){
			return i === array.length - 1;
		},
		even: function(elem, i){
			return i % 2 === 0;
		},
		odd: function(elem, i){
			return i % 2 === 1;
		},
		lt: function(elem, i, match){
			return i < match[3] - 0;
		},
		gt: function(elem, i, match){
			return i > match[3] - 0;
		},
		nth: function(elem, i, match){
			return match[3] - 0 == i;
		},
		eq: function(elem, i, match){
			return match[3] - 0 == i;
		}
	},
	filter: {
		PSEUDO: function(elem, match, i, array){
			var name = match[1], filter = Expr.filters[ name ];

			if ( filter ) {
				return filter( elem, i, match, array );
			} else if ( name === "contains" ) {
				return (elem.textContent || elem.innerText || "").indexOf(match[3]) >= 0;
			} else if ( name === "not" ) {
				var not = match[3];

				for ( var i = 0, l = not.length; i < l; i++ ) {
					if ( not[i] === elem ) {
						return false;
					}
				}

				return true;



			}
		},
		CHILD: function(elem, match){
			var type = match[1], node = elem;
			switch (type) {
				case 'only':
				case 'first':
					while ( (node = node.previousSibling) )  {
						if ( node.nodeType === 1 ) return false;
					}
					if ( type == 'first') return true;
					node = elem;
				case 'last':
					while ( (node = node.nextSibling) )  {
						if ( node.nodeType === 1 ) return false;
					}
					return true;
				case 'nth':
					var first = match[2], last = match[3];

					if ( first == 1 && last == 0 ) {
						return true;
					}

					var doneName = match[0],
						parent = elem.parentNode;

					if ( parent && (parent.sizcache !== doneName || !elem.nodeIndex) ) {
						var count = 0;
						for ( node = parent.firstChild; node; node = node.nextSibling ) {
							if ( node.nodeType === 1 ) {
								node.nodeIndex = ++count;
							}
						}
						parent.sizcache = doneName;
					}

					var diff = elem.nodeIndex - last;
					if ( first == 0 ) {
						return diff == 0;
					} else {
						return ( diff % first == 0 && diff / first >= 0 );
					}
			}
		},
		ID: function(elem, match){
			return elem.nodeType === 1 && elem.getAttribute("id") === match;
		},
		TAG: function(elem, match){
			return (match === "*" && elem.nodeType === 1) || elem.nodeName === match;
		},
		CLASS: function(elem, match){
			return (" " + (elem.className || elem.getAttribute("class")) + " ")
				.indexOf( match ) > -1;
		},
		ATTR: function(elem, match){
			var name = match[1],
				result = Expr.attrHandle[ name ] ?
					Expr.attrHandle[ name ]( elem ) :
					elem[ name ] != null ?
						elem[ name ] :
						elem.getAttribute( name ),
				value = result + "",
				type = match[2],
				check = match[4];

			return result == null ?
				type === "!=" :
				type === "=" ?
				value === check :
				type === "*=" ?
				value.indexOf(check) >= 0 :
				type === "~=" ?
				(" " + value + " ").indexOf(check) >= 0 :
				!check ?
				value && result !== false :
				type === "!=" ?
				value != check :
				type === "^=" ?
				value.indexOf(check) === 0 :
				type === "$=" ?
				value.substr(value.length - check.length) === check :
				type === "|=" ?
				value === check || value.substr(0, check.length + 1) === check + "-" :
				false;
		},
		POS: function(elem, match, i, array){
			var name = match[2], filter = Expr.setFilters[ name ];

			if ( filter ) {
				return filter( elem, i, match, array );
			}
		}
	}
};

var origPOS = Expr.match.POS;

for ( var type in Expr.match ) {
	Expr.match[ type ] = new RegExp( Expr.match[ type ].source + /(?![^\[]*\])(?![^\(]*\))/.source );
	Expr.leftMatch[ type ] = new RegExp( /(^(?:.|\r|\n)*?)/.source + Expr.match[ type ].source );
}

var makeArray = function(array, results) {
	array = Array.prototype.slice.call( array, 0 );

	if ( results ) {
		results.push.apply( results, array );
		return results;
	}

	return array;
};

try {
	Array.prototype.slice.call( document.documentElement.childNodes, 0 );

} catch(e){
	makeArray = function(array, results) {
		var ret = results || [];

		if ( toString.call(array) === "[object Array]" ) {
			Array.prototype.push.apply( ret, array );
		} else {
			if ( typeof array.length === "number" ) {
				for ( var i = 0, l = array.length; i < l; i++ ) {
					ret.push( array[i] );
				}
			} else {
				for ( var i = 0; array[i]; i++ ) {
					ret.push( array[i] );
				}
			}
		}

		return ret;
	};
}

var sortOrder;

if ( document.documentElement.compareDocumentPosition ) {
	sortOrder = function( a, b ) {
		if ( !a.compareDocumentPosition || !b.compareDocumentPosition ) {
			if ( a == b ) {
				hasDuplicate = true;
			}
			return 0;
		}

		var ret = a.compareDocumentPosition(b) & 4 ? -1 : a === b ? 0 : 1;
		if ( ret === 0 ) {
			hasDuplicate = true;
		}
		return ret;
	};
} else if ( "sourceIndex" in document.documentElement ) {
	sortOrder = function( a, b ) {
		if ( !a.sourceIndex || !b.sourceIndex ) {
			if ( a == b ) {
				hasDuplicate = true;
			}
			return 0;
		}

		var ret = a.sourceIndex - b.sourceIndex;
		if ( ret === 0 ) {
			hasDuplicate = true;
		}
		return ret;
	};
} else if ( document.createRange ) {
	sortOrder = function( a, b ) {
		if ( !a.ownerDocument || !b.ownerDocument ) {
			if ( a == b ) {
				hasDuplicate = true;
			}
			return 0;
		}

		var aRange = a.ownerDocument.createRange(), bRange = b.ownerDocument.createRange();
		aRange.setStart(a, 0);
		aRange.setEnd(a, 0);
		bRange.setStart(b, 0);
		bRange.setEnd(b, 0);
		var ret = aRange.compareBoundaryPoints(Range.START_TO_END, bRange);
		if ( ret === 0 ) {
			hasDuplicate = true;
		}
		return ret;
	};
}

(function(){
	var form = document.createElement("div"),
		id = "script" + (new Date).getTime();
	form.innerHTML = "<a name='" + id + "'/>";

	var root = document.documentElement;
	root.insertBefore( form, root.firstChild );

	if ( !!document.getElementById( id ) ) {
		Expr.find.ID = function(match, context, isXML){
			if ( typeof context.getElementById !== "undefined" && !isXML ) {
				var m = context.getElementById(match[1]);
				return m ? m.id === match[1] || typeof m.getAttributeNode !== "undefined" && m.getAttributeNode("id").nodeValue === match[1] ? [m] : undefined : [];
			}
		};

		Expr.filter.ID = function(elem, match){
			var node = typeof elem.getAttributeNode !== "undefined" && elem.getAttributeNode("id");
			return elem.nodeType === 1 && node && node.nodeValue === match;
		};
	}

	root.removeChild( form );
	root = form = null; // release memory in IE
})();

(function(){

	var div = document.createElement("div");
	div.appendChild( document.createComment("") );

	if ( div.getElementsByTagName("*").length > 0 ) {
		Expr.find.TAG = function(match, context){
			var results = context.getElementsByTagName(match[1]);

			if ( match[1] === "*" ) {
				var tmp = [];

				for ( var i = 0; results[i]; i++ ) {
					if ( results[i].nodeType === 1 ) {
						tmp.push( results[i] );
					}
				}

				results = tmp;
			}

			return results;
		};
	}

	div.innerHTML = "<a href='#'></a>";
	if ( div.firstChild && typeof div.firstChild.getAttribute !== "undefined" &&
			div.firstChild.getAttribute("href") !== "#" ) {
		Expr.attrHandle.href = function(elem){
			return elem.getAttribute("href", 2);
		};
	}

	div = null; // release memory in IE
})();

if ( document.querySelectorAll ) (function(){
	var oldSizzle = Sizzle, div = document.createElement("div");
	div.innerHTML = "<p class='TEST'></p>";

	if ( div.querySelectorAll && div.querySelectorAll(".TEST").length === 0 ) {
		return;
	}

	Sizzle = function(query, context, extra, seed){
		context = context || document;

		if ( !seed && context.nodeType === 9 && !isXML(context) ) {
			try {
				return makeArray( context.querySelectorAll(query), extra );
			} catch(e){}
		}

		return oldSizzle(query, context, extra, seed);
	};

	for ( var prop in oldSizzle ) {
		Sizzle[ prop ] = oldSizzle[ prop ];
	}

	div = null; // release memory in IE
})();

if ( document.getElementsByClassName && document.documentElement.getElementsByClassName ) (function(){
	var div = document.createElement("div");
	div.innerHTML = "<div class='test e'></div><div class='test'></div>";

	if ( div.getElementsByClassName("e").length === 0 )
		return;

	div.lastChild.className = "e";

	if ( div.getElementsByClassName("e").length === 1 )
		return;

	Expr.order.splice(1, 0, "CLASS");
	Expr.find.CLASS = function(match, context, isXML) {
		if ( typeof context.getElementsByClassName !== "undefined" && !isXML ) {
			return context.getElementsByClassName(match[1]);
		}
	};

	div = null; // release memory in IE
})();

function dirNodeCheck( dir, cur, doneName, checkSet, nodeCheck, isXML ) {
	var sibDir = dir == "previousSibling" && !isXML;
	for ( var i = 0, l = checkSet.length; i < l; i++ ) {
		var elem = checkSet[i];
		if ( elem ) {
			if ( sibDir && elem.nodeType === 1 ){
				elem.sizcache = doneName;
				elem.sizset = i;
			}

			elem = elem[dir];
			var match = false;

			while ( elem ) {
				if ( elem.sizcache === doneName ) {
					match = checkSet[elem.sizset];
					break;
				}

				if ( elem.nodeType === 1 && !isXML ){
					elem.sizcache = doneName;
					elem.sizset = i;
				}

				if ( elem.nodeName === cur ) {
					match = elem;
					break;
				}

				elem = elem[dir];
			}

			checkSet[i] = match;
		}
	}
}

function dirCheck( dir, cur, doneName, checkSet, nodeCheck, isXML ) {
	var sibDir = dir == "previousSibling" && !isXML;
	for ( var i = 0, l = checkSet.length; i < l; i++ ) {
		var elem = checkSet[i];
		if ( elem ) {
			if ( sibDir && elem.nodeType === 1 ) {
				elem.sizcache = doneName;
				elem.sizset = i;
			}
			elem = elem[dir];
			var match = false;

			while ( elem ) {
				if ( elem.sizcache === doneName ) {
					match = checkSet[elem.sizset];
					break;
				}

				if ( elem.nodeType === 1 ) {
					if ( !isXML ) {
						elem.sizcache = doneName;
						elem.sizset = i;
					}
					if ( typeof cur !== "string" ) {
						if ( elem === cur ) {
							match = true;
							break;
						}

					} else if ( Sizzle.filter( cur, [elem] ).length > 0 ) {
						match = elem;
						break;
					}
				}

				elem = elem[dir];
			}

			checkSet[i] = match;
		}
	}
}

var contains = document.compareDocumentPosition ?  function(a, b){
	return a.compareDocumentPosition(b) & 16;
} : function(a, b){
	return a !== b && (a.contains ? a.contains(b) : true);
};

var isXML = function(elem){
	return elem.nodeType === 9 && elem.documentElement.nodeName !== "HTML" ||
		!!elem.ownerDocument && elem.ownerDocument.documentElement.nodeName !== "HTML";
};

var posProcess = function(selector, context){
	var tmpSet = [], later = "", match,
		root = context.nodeType ? [context] : context;

	while ( (match = Expr.match.PSEUDO.exec( selector )) ) {
		later += match[0];
		selector = selector.replace( Expr.match.PSEUDO, "" );
	}

	selector = Expr.relative[selector] ? selector + "*" : selector;

	for ( var i = 0, l = root.length; i < l; i++ ) {
		Sizzle( selector, root[i], tmpSet );
	}

	return Sizzle.filter( later, tmpSet );
};


window.Sizzle = Sizzle;

})();

Prototype._original_property = window.Sizzle;

;(function(engine) {
  var extendElements = Prototype.Selector.extendElements;

  function select(selector, scope) {
    return extendElements(engine(selector, scope || document));
  }

  function match(element, selector) {
    return engine.matches(selector, [element]).length == 1;
  }

  Prototype.Selector.engine = engine;
  Prototype.Selector.select = select;
  Prototype.Selector.match = match;
})(Sizzle);

window.Sizzle = Prototype._original_property;
delete Prototype._original_property;

var Form = {
  reset: function(form) {
    form = $(form);
    form.reset();
    return form;
  },

  serializeElements: function(elements, options) {
    if (typeof options != 'object') options = { hash: !!options };
    else if (Object.isUndefined(options.hash)) options.hash = true;
    var key, value, submitted = false, submit = options.submit, accumulator, initial;

    if (options.hash) {
      initial = {};
      accumulator = function(result, key, value) {
        if (key in result) {
          if (!Object.isArray(result[key])) result[key] = [result[key]];
          result[key].push(value);
        } else result[key] = value;
        return result;
      };
    } else {
      initial = '';
      accumulator = function(result, key, value) {
        return result + (result ? '&' : '') + encodeURIComponent(key) + '=' + encodeURIComponent(value);
      }
    }

    return elements.inject(initial, function(result, element) {
      if (!element.disabled && element.name) {
        key = element.name; value = $(element).getValue();
        if (value != null && element.type != 'file' && (element.type != 'submit' || (!submitted &&
            submit !== false && (!submit || key == submit) && (submitted = true)))) {
          result = accumulator(result, key, value);
        }
      }
      return result;
    });
  }
};

Form.Methods = {
  serialize: function(form, options) {
    return Form.serializeElements(Form.getElements(form), options);
  },

  getElements: function(form) {
    var elements = $(form).getElementsByTagName('*'),
        element,
        arr = [ ],
        serializers = Form.Element.Serializers;
    for (var i = 0; element = elements[i]; i++) {
      arr.push(element);
    }
    return arr.inject([], function(elements, child) {
      if (serializers[child.tagName.toLowerCase()])
        elements.push(Element.extend(child));
      return elements;
    })
  },

  getInputs: function(form, typeName, name) {
    form = $(form);
    var inputs = form.getElementsByTagName('input');

    if (!typeName && !name) return $A(inputs).map(Element.extend);

    for (var i = 0, matchingInputs = [], length = inputs.length; i < length; i++) {
      var input = inputs[i];
      if ((typeName && input.type != typeName) || (name && input.name != name))
        continue;
      matchingInputs.push(Element.extend(input));
    }

    return matchingInputs;
  },

  disable: function(form) {
    form = $(form);
    Form.getElements(form).invoke('disable');
    return form;
  },

  enable: function(form) {
    form = $(form);
    Form.getElements(form).invoke('enable');
    return form;
  },

  findFirstElement: function(form) {
    var elements = $(form).getElements().findAll(function(element) {
      return 'hidden' != element.type && !element.disabled;
    });
    var firstByIndex = elements.findAll(function(element) {
      return element.hasAttribute('tabIndex') && element.tabIndex >= 0;
    }).sortBy(function(element) { return element.tabIndex }).first();

    return firstByIndex ? firstByIndex : elements.find(function(element) {
      return /^(?:input|select|textarea)$/i.test(element.tagName);
    });
  },

  focusFirstElement: function(form) {
    form = $(form);
    var element = form.findFirstElement();
    if (element) element.activate();
    return form;
  },

  request: function(form, options) {
    form = $(form), options = Object.clone(options || { });

    var params = options.parameters, action = form.readAttribute('action') || '';
    if (action.blank()) action = window.location.href;
    options.parameters = form.serialize(true);

    if (params) {
      if (Object.isString(params)) params = params.toQueryParams();
      Object.extend(options.parameters, params);
    }

    if (form.hasAttribute('method') && !options.method)
      options.method = form.method;

    return new Ajax.Request(action, options);
  }
};

/*--------------------------------------------------------------------------*/


Form.Element = {
  focus: function(element) {
    $(element).focus();
    return element;
  },

  select: function(element) {
    $(element).select();
    return element;
  }
};

Form.Element.Methods = {

  serialize: function(element) {
    element = $(element);
    if (!element.disabled && element.name) {
      var value = element.getValue();
      if (value != undefined) {
        var pair = { };
        pair[element.name] = value;
        return Object.toQueryString(pair);
      }
    }
    return '';
  },

  getValue: function(element) {
    element = $(element);
    var method = element.tagName.toLowerCase();
    return Form.Element.Serializers[method](element);
  },

  setValue: function(element, value) {
    element = $(element);
    var method = element.tagName.toLowerCase();
    Form.Element.Serializers[method](element, value);
    return element;
  },

  clear: function(element) {
    $(element).value = '';
    return element;
  },

  present: function(element) {
    return $(element).value != '';
  },

  activate: function(element) {
    element = $(element);
    try {
      element.focus();
      if (element.select && (element.tagName.toLowerCase() != 'input' ||
          !(/^(?:button|reset|submit)$/i.test(element.type))))
        element.select();
    } catch (e) { }
    return element;
  },

  disable: function(element) {
    element = $(element);
    element.disabled = true;
    return element;
  },

  enable: function(element) {
    element = $(element);
    element.disabled = false;
    return element;
  }
};

/*--------------------------------------------------------------------------*/

var Field = Form.Element;

var $F = Form.Element.Methods.getValue;

/*--------------------------------------------------------------------------*/

Form.Element.Serializers = (function() {
  function input(element, value) {
    switch (element.type.toLowerCase()) {
      case 'checkbox':
      case 'radio':
        return inputSelector(element, value);
      default:
        return valueSelector(element, value);
    }
  }

  function inputSelector(element, value) {
    if (Object.isUndefined(value))
      return element.checked ? element.value : null;
    else element.checked = !!value;
  }

  function valueSelector(element, value) {
    if (Object.isUndefined(value)) return element.value;
    else element.value = value;
  }

  function select(element, value) {
    if (Object.isUndefined(value))
      return (element.type === 'select-one' ? selectOne : selectMany)(element);

    var opt, currentValue, single = !Object.isArray(value);
    for (var i = 0, length = element.length; i < length; i++) {
      opt = element.options[i];
      currentValue = this.optionValue(opt);
      if (single) {
        if (currentValue == value) {
          opt.selected = true;
          return;
        }
      }
      else opt.selected = value.include(currentValue);
    }
  }

  function selectOne(element) {
    var index = element.selectedIndex;
    return index >= 0 ? optionValue(element.options[index]) : null;
  }

  function selectMany(element) {
    var values, length = element.length;
    if (!length) return null;

    for (var i = 0, values = []; i < length; i++) {
      var opt = element.options[i];
      if (opt.selected) values.push(optionValue(opt));
    }
    return values;
  }

  function optionValue(opt) {
    return Element.hasAttribute(opt, 'value') ? opt.value : opt.text;
  }

  return {
    input:         input,
    inputSelector: inputSelector,
    textarea:      valueSelector,
    select:        select,
    selectOne:     selectOne,
    selectMany:    selectMany,
    optionValue:   optionValue,
    button:        valueSelector
  };
})();

/*--------------------------------------------------------------------------*/


Abstract.TimedObserver = Class.create(PeriodicalExecuter, {
  initialize: function($super, element, frequency, callback) {
    $super(callback, frequency);
    this.element   = $(element);
    this.lastValue = this.getValue();
  },

  execute: function() {
    var value = this.getValue();
    if (Object.isString(this.lastValue) && Object.isString(value) ?
        this.lastValue != value : String(this.lastValue) != String(value)) {
      this.callback(this.element, value);
      this.lastValue = value;
    }
  }
});

Form.Element.Observer = Class.create(Abstract.TimedObserver, {
  getValue: function() {
    return Form.Element.getValue(this.element);
  }
});

Form.Observer = Class.create(Abstract.TimedObserver, {
  getValue: function() {
    return Form.serialize(this.element);
  }
});

/*--------------------------------------------------------------------------*/

Abstract.EventObserver = Class.create({
  initialize: function(element, callback) {
    this.element  = $(element);
    this.callback = callback;

    this.lastValue = this.getValue();
    if (this.element.tagName.toLowerCase() == 'form')
      this.registerFormCallbacks();
    else
      this.registerCallback(this.element);
  },

  onElementEvent: function() {
    var value = this.getValue();
    if (this.lastValue != value) {
      this.callback(this.element, value);
      this.lastValue = value;
    }
  },

  registerFormCallbacks: function() {
    Form.getElements(this.element).each(this.registerCallback, this);
  },

  registerCallback: function(element) {
    if (element.type) {
      switch (element.type.toLowerCase()) {
        case 'checkbox':
        case 'radio':
          Event.observe(element, 'click', this.onElementEvent.bind(this));
          break;
        default:
          Event.observe(element, 'change', this.onElementEvent.bind(this));
          break;
      }
    }
  }
});

Form.Element.EventObserver = Class.create(Abstract.EventObserver, {
  getValue: function() {
    return Form.Element.getValue(this.element);
  }
});

Form.EventObserver = Class.create(Abstract.EventObserver, {
  getValue: function() {
    return Form.serialize(this.element);
  }
});
(function() {

  var Event = {
    KEY_BACKSPACE: 8,
    KEY_TAB:       9,
    KEY_RETURN:   13,
    KEY_ESC:      27,
    KEY_LEFT:     37,
    KEY_UP:       38,
    KEY_RIGHT:    39,
    KEY_DOWN:     40,
    KEY_DELETE:   46,
    KEY_HOME:     36,
    KEY_END:      35,
    KEY_PAGEUP:   33,
    KEY_PAGEDOWN: 34,
    KEY_INSERT:   45,

    cache: {}
  };

  var docEl = document.documentElement;
  var MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED = 'onmouseenter' in docEl
    && 'onmouseleave' in docEl;



  var isIELegacyEvent = function(event) { return false; };

  if (window.attachEvent) {
    if (window.addEventListener) {
      isIELegacyEvent = function(event) {
        return !(event instanceof window.Event);
      };
    } else {
      isIELegacyEvent = function(event) { return true; };
    }
  }

  var _isButton;

  function _isButtonForDOMEvents(event, code) {
    return event.which ? (event.which === code + 1) : (event.button === code);
  }

  var legacyButtonMap = { 0: 1, 1: 4, 2: 2 };
  function _isButtonForLegacyEvents(event, code) {
    return event.button === legacyButtonMap[code];
  }

  function _isButtonForWebKit(event, code) {
    switch (code) {
      case 0: return event.which == 1 && !event.metaKey;
      case 1: return event.which == 2 || (event.which == 1 && event.metaKey);
      case 2: return event.which == 3;
      default: return false;
    }
  }

  if (window.attachEvent) {
    if (!window.addEventListener) {
      _isButton = _isButtonForLegacyEvents;
    } else {
      _isButton = function(event, code) {
        return isIELegacyEvent(event) ? _isButtonForLegacyEvents(event, code) :
         _isButtonForDOMEvents(event, code);
      }
    }
  } else if (Prototype.Browser.WebKit) {
    _isButton = _isButtonForWebKit;
  } else {
    _isButton = _isButtonForDOMEvents;
  }

  function isLeftClick(event)   { return _isButton(event, 0) }

  function isMiddleClick(event) { return _isButton(event, 1) }

  function isRightClick(event)  { return _isButton(event, 2) }

  function element(event) {
    event = Event.extend(event);

    var node = event.target, type = event.type,
     currentTarget = event.currentTarget;

    if (currentTarget && currentTarget.tagName) {
      if (type === 'load' || type === 'error' ||
        (type === 'click' && currentTarget.tagName.toLowerCase() === 'input'
          && currentTarget.type === 'radio'))
            node = currentTarget;
    }

    if (node.nodeType == Node.TEXT_NODE)
      node = node.parentNode;

    return Element.extend(node);
  }

  function findElement(event, expression) {
    var element = Event.element(event);

    if (!expression) return element;
    while (element) {
      if (Object.isElement(element) && Prototype.Selector.match(element, expression)) {
        return Element.extend(element);
      }
      element = element.parentNode;
    }
  }

  function pointer(event) {
    return { x: pointerX(event), y: pointerY(event) };
  }

  function pointerX(event) {
    var docElement = document.documentElement,
     body = document.body || { scrollLeft: 0 };

    return event.pageX || (event.clientX +
      (docElement.scrollLeft || body.scrollLeft) -
      (docElement.clientLeft || 0));
  }

  function pointerY(event) {
    var docElement = document.documentElement,
     body = document.body || { scrollTop: 0 };

    return  event.pageY || (event.clientY +
       (docElement.scrollTop || body.scrollTop) -
       (docElement.clientTop || 0));
  }


  function stop(event) {
    Event.extend(event);
    event.preventDefault();
    event.stopPropagation();

    event.stopped = true;
  }


  Event.Methods = {
    isLeftClick:   isLeftClick,
    isMiddleClick: isMiddleClick,
    isRightClick:  isRightClick,

    element:     element,
    findElement: findElement,

    pointer:  pointer,
    pointerX: pointerX,
    pointerY: pointerY,

    stop: stop
  };

  var methods = Object.keys(Event.Methods).inject({ }, function(m, name) {
    m[name] = Event.Methods[name].methodize();
    return m;
  });

  if (window.attachEvent) {
    var _relatedTarget = function (event) {
      var element;
      switch (event.type) {
        case 'mouseover':
        case 'mouseenter':
          element = event.fromElement;
          break;
        case 'mouseout':
        case 'mouseleave':
          element = event.toElement;
          break;
        default:
          return null;
      }
      return Element.extend(element);
    }

    var additionalMethods = {
      stopPropagation: function() { this.cancelBubble = true },
      preventDefault:  function() { this.returnValue = false },
      inspect: function() { return '[object Event]' }
    };

    Event.extend = function(event, element) {
      if (!event) return false;

      if (!isIELegacyEvent(event)) return event;

      if (event._extendedByPrototype) return event;
      event._extendedByPrototype = Prototype.emptyFunction;

      var pointer = Event.pointer(event);

      Object.extend(event, {
        target: event.srcElement || element,
        relatedTarget: _relatedTarget(event),
        pageX:  pointer.x,
        pageY:  pointer.y
      });

      Object.extend(event, methods);
      Object.extend(event, additionalMethods);

      return event;
    };
  } else {
    Event.extend = Prototype.K;
  }

  if (window.addEventListener) {
    Event.prototype = window.Event.prototype || document.createEvent('HTMLEvents').__proto__;
    Object.extend(Event.prototype, methods);
  }

  function _createResponder(element, eventName, handler) {
    var registry = Element.retrieve(element, 'prototype_event_registry');

    if (Object.isUndefined(registry)) {
      CACHE.push(element);
      registry = Element.retrieve(element, 'prototype_event_registry', $H());
    }

    var respondersForEvent = registry.get(eventName);
    if (Object.isUndefined(respondersForEvent)) {
      respondersForEvent = [];
      registry.set(eventName, respondersForEvent);
    }

    if (respondersForEvent.pluck('handler').include(handler)) return false;

    var responder;
    if (eventName.include(":")) {
      responder = function(event) {
        if (Object.isUndefined(event.eventName))
          return false;

        if (event.eventName !== eventName)
          return false;

        Event.extend(event, element);
        handler.call(element, event);
      };
    } else {
      if (!MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED &&
       (eventName === "mouseenter" || eventName === "mouseleave")) {
        if (eventName === "mouseenter" || eventName === "mouseleave") {
          responder = function(event) {
            Event.extend(event, element);

            var parent = event.relatedTarget;
            while (parent && parent !== element) {
              try { parent = parent.parentNode; }
              catch(e) { parent = element; }
            }

            if (parent === element) return;

            handler.call(element, event);
          };
        }
      } else {
        responder = function(event) {
          Event.extend(event, element);
          handler.call(element, event);
        };
      }
    }

    responder.handler = handler;
    respondersForEvent.push(responder);
    return responder;
  }

  function _destroyCache() {
    for (var i = 0, length = CACHE.length; i < length; i++) {
      Event.stopObserving(CACHE[i]);
      CACHE[i] = null;
    }
  }

  var CACHE = [];

  if (Prototype.Browser.IE)
    window.attachEvent('onunload', _destroyCache);

  if (Prototype.Browser.WebKit)
    window.addEventListener('unload', Prototype.emptyFunction, false);


  var _getDOMEventName = Prototype.K,
      translations = { mouseenter: "mouseover", mouseleave: "mouseout" };

  if (!MOUSEENTER_MOUSELEAVE_EVENTS_SUPPORTED) {
    _getDOMEventName = function(eventName) {
      return (translations[eventName] || eventName);
    };
  }

  function observe(element, eventName, handler) {
    element = $(element);

    var responder = _createResponder(element, eventName, handler);

    if (!responder) return element;

    if (eventName.include(':')) {
      if (element.addEventListener)
        element.addEventListener("dataavailable", responder, false);
      else {
        element.attachEvent("ondataavailable", responder);
        element.attachEvent("onlosecapture", responder);
      }
    } else {
      var actualEventName = _getDOMEventName(eventName);

      if (element.addEventListener)
        element.addEventListener(actualEventName, responder, false);
      else
        element.attachEvent("on" + actualEventName, responder);
    }

    return element;
  }

  function stopObserving(element, eventName, handler) {
    element = $(element);

    var registry = Element.retrieve(element, 'prototype_event_registry');
    if (!registry) return element;

    if (!eventName) {
      registry.each( function(pair) {
        var eventName = pair.key;
        stopObserving(element, eventName);
      });
      return element;
    }

    var responders = registry.get(eventName);
    if (!responders) return element;

    if (!handler) {
      responders.each(function(r) {
        stopObserving(element, eventName, r.handler);
      });
      return element;
    }

    var i = responders.length, responder;
    while (i--) {
      if (responders[i].handler === handler) {
        responder = responders[i];
        break;
      }
    }
    if (!responder) return element;

    if (eventName.include(':')) {
      if (element.removeEventListener)
        element.removeEventListener("dataavailable", responder, false);
      else {
        element.detachEvent("ondataavailable", responder);
        element.detachEvent("onlosecapture", responder);
      }
    } else {
      var actualEventName = _getDOMEventName(eventName);
      if (element.removeEventListener)
        element.removeEventListener(actualEventName, responder, false);
      else
        element.detachEvent('on' + actualEventName, responder);
    }

    registry.set(eventName, responders.without(responder));

    return element;
  }

  function fire(element, eventName, memo, bubble) {
    element = $(element);

    if (Object.isUndefined(bubble))
      bubble = true;

    if (element == document && document.createEvent && !element.dispatchEvent)
      element = document.documentElement;

    var event;
    if (document.createEvent) {
      event = document.createEvent('HTMLEvents');
      event.initEvent('dataavailable', bubble, true);
    } else {
      event = document.createEventObject();
      event.eventType = bubble ? 'ondataavailable' : 'onlosecapture';
    }

    event.eventName = eventName;
    event.memo = memo || { };

    if (document.createEvent)
      element.dispatchEvent(event);
    else
      element.fireEvent(event.eventType, event);

    return Event.extend(event);
  }

  Event.Handler = Class.create({
    initialize: function(element, eventName, selector, callback) {
      this.element   = $(element);
      this.eventName = eventName;
      this.selector  = selector;
      this.callback  = callback;
      this.handler   = this.handleEvent.bind(this);
    },

    start: function() {
      Event.observe(this.element, this.eventName, this.handler);
      return this;
    },

    stop: function() {
      Event.stopObserving(this.element, this.eventName, this.handler);
      return this;
    },

    handleEvent: function(event) {
      var element = Event.findElement(event, this.selector);
      if (element) this.callback.call(this.element, event, element);
    }
  });

  function on(element, eventName, selector, callback) {
    element = $(element);
    if (Object.isFunction(selector) && Object.isUndefined(callback)) {
      callback = selector, selector = null;
    }

    return new Event.Handler(element, eventName, selector, callback).start();
  }

  Object.extend(Event, Event.Methods);

  Object.extend(Event, {
    fire:          fire,
    observe:       observe,
    stopObserving: stopObserving,
    on:            on
  });

  Element.addMethods({
    fire:          fire,

    observe:       observe,

    stopObserving: stopObserving,

    on:            on
  });

  Object.extend(document, {
    fire:          fire.methodize(),

    observe:       observe.methodize(),

    stopObserving: stopObserving.methodize(),

    on:            on.methodize(),

    loaded:        false
  });

  if (window.Event) Object.extend(window.Event, Event);
  else window.Event = Event;
})();

(function() {
  /* Support for the DOMContentLoaded event is based on work by Dan Webb,
     Matthias Miller, Dean Edwards, John Resig, and Diego Perini. */

  var timer;

  function fireContentLoadedEvent() {
    if (document.loaded) return;
    if (timer) window.clearTimeout(timer);
    document.loaded = true;
    document.fire('dom:loaded');
  }

  function checkReadyState() {
    if (document.readyState === 'complete') {
      document.stopObserving('readystatechange', checkReadyState);
      fireContentLoadedEvent();
    }
  }

  function pollDoScroll() {
    try { document.documentElement.doScroll('left'); }
    catch(e) {
      timer = pollDoScroll.defer();
      return;
    }
    fireContentLoadedEvent();
  }

  if (document.addEventListener) {
    document.addEventListener('DOMContentLoaded', fireContentLoadedEvent, false);
  } else {
    document.observe('readystatechange', checkReadyState);
    if (window == top)
      timer = pollDoScroll.defer();
  }

  Event.observe(window, 'load', fireContentLoadedEvent);
})();


Element.addMethods();
/*------------------------------- DEPRECATED -------------------------------*/

Hash.toQueryString = Object.toQueryString;

var Toggle = { display: Element.toggle };

Element.Methods.childOf = Element.Methods.descendantOf;

var Insertion = {
  Before: function(element, content) {
    return Element.insert(element, {before:content});
  },

  Top: function(element, content) {
    return Element.insert(element, {top:content});
  },

  Bottom: function(element, content) {
    return Element.insert(element, {bottom:content});
  },

  After: function(element, content) {
    return Element.insert(element, {after:content});
  }
};

var $continue = new Error('"throw $continue" is deprecated, use "return" instead');

var Position = {
  includeScrollOffsets: false,

  prepare: function() {
    this.deltaX =  window.pageXOffset
                || document.documentElement.scrollLeft
                || document.body.scrollLeft
                || 0;
    this.deltaY =  window.pageYOffset
                || document.documentElement.scrollTop
                || document.body.scrollTop
                || 0;
  },

  within: function(element, x, y) {
    if (this.includeScrollOffsets)
      return this.withinIncludingScrolloffsets(element, x, y);
    this.xcomp = x;
    this.ycomp = y;
    this.offset = Element.cumulativeOffset(element);

    return (y >= this.offset[1] &&
            y <  this.offset[1] + element.offsetHeight &&
            x >= this.offset[0] &&
            x <  this.offset[0] + element.offsetWidth);
  },

  withinIncludingScrolloffsets: function(element, x, y) {
    var offsetcache = Element.cumulativeScrollOffset(element);

    this.xcomp = x + offsetcache[0] - this.deltaX;
    this.ycomp = y + offsetcache[1] - this.deltaY;
    this.offset = Element.cumulativeOffset(element);

    return (this.ycomp >= this.offset[1] &&
            this.ycomp <  this.offset[1] + element.offsetHeight &&
            this.xcomp >= this.offset[0] &&
            this.xcomp <  this.offset[0] + element.offsetWidth);
  },

  overlap: function(mode, element) {
    if (!mode) return 0;
    if (mode == 'vertical')
      return ((this.offset[1] + element.offsetHeight) - this.ycomp) /
        element.offsetHeight;
    if (mode == 'horizontal')
      return ((this.offset[0] + element.offsetWidth) - this.xcomp) /
        element.offsetWidth;
  },


  cumulativeOffset: Element.Methods.cumulativeOffset,

  positionedOffset: Element.Methods.positionedOffset,

  absolutize: function(element) {
    Position.prepare();
    return Element.absolutize(element);
  },

  relativize: function(element) {
    Position.prepare();
    return Element.relativize(element);
  },

  realOffset: Element.Methods.cumulativeScrollOffset,

  offsetParent: Element.Methods.getOffsetParent,

  page: Element.Methods.viewportOffset,

  clone: function(source, target, options) {
    options = options || { };
    return Element.clonePosition(target, source, options);
  }
};

/*--------------------------------------------------------------------------*/

if (!document.getElementsByClassName) document.getElementsByClassName = function(instanceMethods){
  function iter(name) {
    return name.blank() ? null : "[contains(concat(' ', @class, ' '), ' " + name + " ')]";
  }

  instanceMethods.getElementsByClassName = Prototype.BrowserFeatures.XPath ?
  function(element, className) {
    className = className.toString().strip();
    var cond = /\s/.test(className) ? $w(className).map(iter).join('') : iter(className);
    return cond ? document._getElementsByXPath('.//*' + cond, element) : [];
  } : function(element, className) {
    className = className.toString().strip();
    var elements = [], classNames = (/\s/.test(className) ? $w(className) : null);
    if (!classNames && !className) return elements;

    var nodes = $(element).getElementsByTagName('*');
    className = ' ' + className + ' ';

    for (var i = 0, child, cn; child = nodes[i]; i++) {
      if (child.className && (cn = ' ' + child.className + ' ') && (cn.include(className) ||
          (classNames && classNames.all(function(name) {
            return !name.toString().blank() && cn.include(' ' + name + ' ');
          }))))
        elements.push(Element.extend(child));
    }
    return elements;
  };

  return function(className, parentElement) {
    return $(parentElement || document.body).getElementsByClassName(className);
  };
}(Element.Methods);

/*--------------------------------------------------------------------------*/

Element.ClassNames = Class.create();
Element.ClassNames.prototype = {
  initialize: function(element) {
    this.element = $(element);
  },

  _each: function(iterator) {
    this.element.className.split(/\s+/).select(function(name) {
      return name.length > 0;
    })._each(iterator);
  },

  set: function(className) {
    this.element.className = className;
  },

  add: function(classNameToAdd) {
    if (this.include(classNameToAdd)) return;
    this.set($A(this).concat(classNameToAdd).join(' '));
  },

  remove: function(classNameToRemove) {
    if (!this.include(classNameToRemove)) return;
    this.set($A(this).without(classNameToRemove).join(' '));
  },

  toString: function() {
    return $A(this).join(' ');
  }
};

Object.extend(Element.ClassNames.prototype, Enumerable);

/*--------------------------------------------------------------------------*/

(function() {
  window.Selector = Class.create({
    initialize: function(expression) {
      this.expression = expression.strip();
    },

    findElements: function(rootElement) {
      return Prototype.Selector.select(this.expression, rootElement);
    },

    match: function(element) {
      return Prototype.Selector.match(element, this.expression);
    },

    toString: function() {
      return this.expression;
    },

    inspect: function() {
      return "#<Selector: " + this.expression + ">";
    }
  });

  Object.extend(Selector, {
    matchElements: function(elements, expression) {
      var match = Prototype.Selector.match,
          results = [];

      for (var i = 0, length = elements.length; i < length; i++) {
        var element = elements[i];
        if (match(element, expression)) {
          results.push(Element.extend(element));
        }
      }
      return results;
    },

    findElement: function(elements, expression, index) {
      index = index || 0;
      var matchIndex = 0, element;
      for (var i = 0, length = elements.length; i < length; i++) {
        element = elements[i];
        if (Prototype.Selector.match(element, expression) && index === matchIndex++) {
          return Element.extend(element);
        }
      }
    },

    findChildElements: function(element, expressions) {
      var selector = expressions.toArray().join(', ');
      return Prototype.Selector.select(selector, element || document);
    }
  });
})();
</script>



<script id="slides280" type="x">
            //create a new timestamp to monitor launch time
            _LAUNCH_TIME = new Date();
    
            var path = document.location.href;
            
            path = path.substr(0, path.lastIndexOf('/') + 1);
            
            document.write("<base href=\"" + path + "1224293852/" + "\"><!--[if IE]><"+"/base><![endif]-->");
        



/*
 * Objective-J.js
 * Objective-J
 *
 * Created by Francisco Tolmasky.
 * Copyright 2008, 280 North, Inc.
 *
 * This library is free software; you can redistribute it and/or
 * modify it under the terms of the GNU Lesser General Public
 * License as published by the Free Software Foundation; either
 * version 2.1 of the License, or (at your option) any later version.
 *
 * This library is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
 * Lesser General Public License for more details.
 *
 * You should have received a copy of the GNU Lesser General Public
 * License along with this library; if not, write to the Free Software
 * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301 USA
 */

var NO = false,
    YES = true,
    nil = null,
    Nil = null,
    NULL = null,
    ABS = Math.abs,
    ASIN = Math.asin,
    ACOS = Math.acos,
    ATAN = Math.atan,
    ATAN2 = Math.atan2,
    SIN = Math.sin,
    COS = Math.cos,
    TAN = Math.tan,
    EXP = Math.exp,
    POW = Math.pow,
    CEIL = Math.ceil,
    FLOOR = Math.floor,
    ROUND = Math.round,
    MIN = Math.min,
    MAX = Math.max,
    RAND = Math.random,
    SQRT = Math.sqrt,
    E = Math.E,
    LN2 = Math.LN2,
    LN10 = Math.LN10,
    LOG2E = Math.LOG2E,
    LOG10E = Math.LOG10E,
    PI = Math.PI,
    PI2 = Math.PI * 2.0,
    PI_2 = Math.PI / 2.0,
    SQRT1_2 = Math.SQRT1_2,
    SQRT2 = Math.SQRT2;
var objj_continue_alerting = NO;
function objj_alert(aString)
{
    if (!objj_continue_alerting)
        return;
    objj_continue_alerting = confirm(aString + "\n\nClick cancel to prevent further alerts.");
}
function objj_fprintf(stream, string)
{
    stream(string);
}
function objj_printf(string)
{
    objj_fprintf(alert, string);
}
var CLS_CLASS = 0x1,
    CLS_META = 0x2,
    CLS_INITIALIZED = 0x4,
    CLS_INITIALIZING = 0x8;
function objj_ivar( aName, aType)
{
    this.name = aName;
    this.type = aType;
}
function objj_method( aName, anImplementation, types)
{
    this.name = aName;
    this.method_imp = anImplementation;
    this.types = types;
}
function objj_class()
{
    this.isa = NULL;
    this.super_class = NULL;
    this.sub_classes = [];
    this.name = NULL;
    this.info = 0;
    this.ivars = [];
    this.method_list = [];
    this.method_hash = {};
    this.method_store = function() { };
    this.method_dtable = this.method_store.prototype;
    this.allocator = function() { };
    this.__address = -1;
}
function objj_object()
{
    this.isa = NULL;
    this.__address = -1;
}
var OBJECT_COUNT = 0;
function _objj_generateObjectHash()
{
    return OBJECT_COUNT++;
}
function class_getName( aClass)
{
    if (aClass == Nil)
        return "";
    return aClass.name;
}
function class_isMetaClass( aClass)
{
    if (!aClass)
        return NO;
    return ((aClass.info & (CLS_META)));
}
function class_getSuperclass( aClass)
{
    if (aClass == Nil)
        return Nil;
    return aClass.super_class;
}
function class_setSuperclass( aClass, aSuperClass)
{
}
function class_isMetaClass( aClass)
{
    return ((aClass.info & (CLS_META)));
}
function class_addIvar( aClass, aName, aType)
{
    var thePrototype = aClass.allocator.prototype;
    if (typeof thePrototype[aName] != "undefined")
        return NO;
    aClass.ivars.push(new objj_ivar(aName, aType));
    thePrototype[aName] = NULL;
    return YES;
}
function class_addIvars( aClass, ivars)
{
    var index = 0,
        count = ivars.length,
        thePrototype = aClass.allocator.prototype;
    for (; index < count; ++index)
    {
        var ivar = ivars[index],
            name = ivar.name;
        if (typeof thePrototype[name] == "undefined")
        {
            aClass.ivars.push(ivar);
            thePrototype[name] = NULL;
        }
    }
}
function class_copyIvarList( aClass)
{
    return aClass.ivars.slice(0);
}
function class_addMethod( aClass, aName, anImplementation, aType)
{
    if (aClass.method_hash[aName])
        return NO;
    var method = new objj_method(aName, anImplementation, aType);
    aClass.method_list.push(method);
    aClass.method_dtable[aName] = method;
    if (!((aClass.info & (CLS_META))) && (((aClass.info & (CLS_META))) ? aClass : aClass.isa).isa == (((aClass.info & (CLS_META))) ? aClass : aClass.isa))
        class_addMethods((((aClass.info & (CLS_META))) ? aClass : aClass.isa), methods);
    return YES;
}
function class_addMethods( aClass, methods)
{
    var index = 0,
        count = methods.length,
        method_list = aClass.method_list,
        method_dtable = aClass.method_dtable;
    for (; index < count; ++index)
    {
        var method = methods[index];
        if (aClass.method_hash[method.name])
            continue;
        method_list.push(method);
        method_dtable[method.name] = method;
    }
    if (!((aClass.info & (CLS_META))) && (((aClass.info & (CLS_META))) ? aClass : aClass.isa).isa == (((aClass.info & (CLS_META))) ? aClass : aClass.isa))
        class_addMethods((((aClass.info & (CLS_META))) ? aClass : aClass.isa), methods);
}
function class_getInstanceMethod( aClass, aSelector)
{
    if (!aClass || !aSelector)
        return NULL;
    var method = aClass.method_dtable[aSelector];
    return method ? method : NULL;
}
function class_getClassMethod( aClass, aSelector)
{
    if (!aClass || !aSelector)
        return NULL;
    var method = (((aClass.info & (CLS_META))) ? aClass : aClass.isa).method_dtable[aSelector];
    return method ? method : NULL;
}
function class_copyMethodList( aClass)
{
    return aClass.method_list.slice(0);
}
var _class_initialize = function( aClass)
{
    var meta = (((aClass.info & (CLS_META))) ? aClass : aClass.isa);
    if ((aClass.info & (CLS_META)))
        aClass = objj_getClass(aClass.name);
    if (aClass.super_class && !((((aClass.super_class.info & (CLS_META))) ? aClass.super_class : aClass.super_class.isa).info & (CLS_INITIALIZED)))
        _class_initialize(aClass.super_class);
    if (!(meta.info & (CLS_INITIALIZED)) && !(meta.info & (CLS_INITIALIZING)))
    {
        meta.info = (meta.info | (CLS_INITIALIZING)) & ~(0);
        objj_msgSend(aClass, "initialize");
        meta.info = (meta.info | (CLS_INITIALIZED)) & ~(CLS_INITIALIZING);
    }
}
var _objj_forward = new objj_method("forward", function(self, _cmd)
{
    return objj_msgSend(self, "forward::", _cmd, arguments);
});
function class_getMethodImplementation( aClass, aSelector)
{
    if (!((((aClass.info & (CLS_META))) ? aClass : aClass.isa).info & (CLS_INITIALIZED))) _class_initialize(aClass); var method = aClass.method_dtable[aSelector]; if (!method) method = _objj_forward; var implementation = method.method_imp;;
    return implementation;
}
var GLOBAL_NAMESPACE = this,
    REGISTERED_CLASSES = {};
function objj_allocateClassPair( superclass, aName)
{
    var classObject = new objj_class(),
        metaClassObject = new objj_class(),
        rootClassObject = classObject;
    if (superclass)
    {
        rootClassObject = superclass;
        while (rootClassObject.superclass)
            rootClassObject = rootClassObject.superclass;
        classObject.allocator.prototype = new superclass.allocator;
        classObject.method_store.prototype = new superclass.method_store;
        classObject.method_dtable = classObject.method_store.prototype;
        metaClassObject.method_store.prototype = new superclass.isa.method_store;
        metaClassObject.method_dtable = metaClassObject.method_store.prototype;
        classObject.super_class = superclass;
        metaClassObject.super_class = superclass.isa;
    }
    else
        classObject.allocator.prototype = new objj_object();
    classObject.isa = metaClassObject;
    classObject.name = aName;
    classObject.info = CLS_CLASS;
    classObject.__address = (OBJECT_COUNT++);
    metaClassObject.isa = rootClassObject.isa;
    metaClassObject.name = aName;
    metaClassObject.info = CLS_META;
    metaClassObject.__address = (OBJECT_COUNT++);
    return classObject;
}
function objj_registerClassPair( aClass)
{
    GLOBAL_NAMESPACE[aClass.name] = aClass;
    REGISTERED_CLASSES[aClass.name] = aClass;
}
function class_createInstance( aClass)
{
    if (!aClass)
        objj_exception_throw(new objj_exception(OBJJNilClassException, "*** Attempting to create object with Nil class."));
    var object = new aClass.allocator;
    object.__address = (OBJECT_COUNT++);
    object.isa = aClass;
    return object;
}
var prototype_bug = function() { }
prototype_bug.prototype.member = false;
with (new prototype_bug())
    member = true;
if (new prototype_bug().member)
{
var fast_class_createInstance = class_createInstance;
class_createInstance = function( aClass)
{
    var object = fast_class_createInstance(aClass);
    if (object)
    {
        var theClass = object.isa,
            actualClass = theClass;
        while (theClass)
        {
            var ivars = theClass.ivars;
                count = ivars.length;
            while (count--)
                object[ivars[count].name] = NULL;
            theClass = theClass.super_class;
        }
        object.isa = actualClass;
    }
    return object;
}
}
function object_getClassName( anObject)
{
    if (!anObject)
        return "";
    var theClass = anObject.isa;
    return theClass ? class_getName(theClass) : "";
}
function objj_lookUpClass( aName)
{
    var theClass = REGISTERED_CLASSES[aName];
    return theClass ? theClass : Nil;
}
function objj_getClass( aName)
{
    var theClass = REGISTERED_CLASSES[aName];
    if (!theClass)
    {
    }
    return theClass ? theClass : Nil;
}
function objj_getMetaClass( aName)
{
    var theClass = objj_getClass(aName);
    return (((theClass.info & (CLS_META))) ? theClass : theClass.isa);
}
function ivar_getName(anIvar)
{
    return anIvar.name;
}
function ivar_getTypeEncoding(anIvar)
{
    return anIvar.type;
}
function objj_msgSend( aReceiver, aSelector)
{
    if (aReceiver == nil)
        return nil;
    if (!((((aReceiver.isa.info & (CLS_META))) ? aReceiver.isa : aReceiver.isa.isa).info & (CLS_INITIALIZED))) _class_initialize(aReceiver.isa); var method = aReceiver.isa.method_dtable[aSelector]; if (!method) method = _objj_forward; var implementation = method.method_imp;;
    return implementation.apply(aReceiver, arguments);
}
function objj_msgSendSuper( aSuper, aSelector)
{
    var super_class = aSuper.super_class;
    arguments[0] = aSuper.receiver;
    if (!((((super_class.info & (CLS_META))) ? super_class : super_class.isa).info & (CLS_INITIALIZED))) _class_initialize(super_class); var method = super_class.method_dtable[aSelector]; if (!method) method = _objj_forward; var implementation = method.method_imp;;
    return implementation.apply(aSuper.receiver, arguments);
}
function method_getName( aMethod)
{
    return aMethod.name;
}
function method_getImplementation( aMethod)
{
    return aMethod.method_imp;
}
function method_setImplementation( aMethod, anImplementation)
{
    var oldImplementation = aMethod.method_imp;
    aMethod.method_imp = anImplementation;
    return oldImplementation;
}
function method_exchangeImplementations( lhs, rhs)
{
    var lhs_imp = method_getImplementation(lhs),
        rhs_imp = method_getImplementation(rhs);
    method_setImplementation(lhs, rhs_imp);
    method_setImplementation(rhs, lhs_imp);
}
function sel_getName(aSelector)
{
    return aSelector ? aSelector : "<null selector>";
}
function sel_getUid( aName)
{
    return aName;
}
function sel_isEqual( lhs, rhs)
{
    return lhs == rhs;
}
function sel_registerName(aName)
{
    return aName;
}
function objj_dictionary()
{
    this._keys = [];
    this.count = 0;
    this._buckets = {};
    this.__address = (OBJECT_COUNT++);
}
function dictionary_containsKey(aDictionary, aKey)
{
    return aDictionary._buckets[aKey] != NULL;
}
function dictionary_getCount(aDictionary)
{
    return aDictionary.count;
}
function dictionary_getValue(aDictionary, aKey)
{
    return aDictionary._buckets[aKey];
}
function dictionary_setValue(aDictionary, aKey, aValue)
{
    if (aDictionary._buckets[aKey] == NULL)
    {
        aDictionary._keys.push(aKey);
        ++aDictionary.count;
    }
    if ((aDictionary._buckets[aKey] = aValue) == NULL)
        --aDictionary.count;
}
function dictionary_removeValue(aDictionary, aKey)
{
    if (aDictionary._buckets[aKey] == NULL)
        return;
    --aDictionary.count;
    if (aDictionary._keys.indexOf)
        aDictionary._keys.splice(aDictionary._keys.indexOf(aKey), 1);
    else
    {
        var keys = aDictionary._keys,
            index = 0,
            count = keys.length;
        for (; index < count; ++index)
            if (keys[index] == aKey)
            {
                keys.splice(index, 1);
                break;
            }
    }
    delete aDictionary._buckets[aKey];
}
function dictionary_replaceValue(aDictionary, aKey, aValue)
{
    if (aDictionary[aKey] == NULL)
        return;
}
function dictionary_description(aDictionary)
{
    str = "{ ";
    for ( x in aDictionary._buckets)
        str += x + ":" + aDictionary._buckets[x] + ",";
    str += " }";
    return str;
}
kCFPropertyListOpenStepFormat = 1;
kCFPropertyListXMLFormat_v1_0 = 100;
kCFPropertyListBinaryFormat_v1_0 = 200;
kCFPropertyList280NorthFormat_v1_0 = -1000;
OBJJPlistParseException = "OBJJPlistParseException";
var kCFPropertyList280NorthMagicNumber = "280NPLIST";
function objj_data()
{
    this.string = "";
    this._plistObject = NULL;
    this.bytes = NULL;
    this.base64 = NULL;
}
var objj_markedStream = function(aString)
{
    var index = aString.indexOf(';');
    this._magicNumber = aString.substr(0, index);
    this._location = aString.indexOf(';', ++index);
    this._version = aString.substring(index, this._location++);
    this._string = aString;
}
objj_markedStream.prototype.magicNumber = function()
{
    return this._magicNumber;
}
objj_markedStream.prototype.version = function()

{
    return this._version;
}
objj_markedStream.prototype.getMarker = function()
{
    var string = this._string,
        location = this._location;
    if (location >= string.length)
        return NULL;
    var next = string.indexOf(';', location);
    if (next < 0)
        return NULL;
    var marker = string.substring(location, next);
    this._location = next + 1;
    return marker;
}
objj_markedStream.prototype.getString = function()
{
    var string = this._string,
        location = this._location;
    if (location >= string.length)
        return NULL;
    var next = string.indexOf(';', location);
    if (next < 0)
        return NULL;
    var size = parseInt(string.substring(location, next)),
        text = string.substr(next + 1, size);
    this._location = next + 1 + size;
    return text;
}
function CPPropertyListCreateData(aPlistObject, aFormat)
{
    if (aFormat == kCFPropertyListXMLFormat_v1_0)
        return CPPropertyListCreateXMLData(aPlistObject);
    if (aFormat == kCFPropertyList280NorthFormat_v1_0)
        return CPPropertyListCreate280NorthData(aPlistObject);
    return NULL;
}
function CPPropertyListCreateFromData(aData, aFormat)
{
    if (!aFormat)
    {
        if (aData instanceof objj_data)
        {
            var string = aData.string ? aData.string : objj_msgSend(aData, "string");
            if (string.substr(0, kCFPropertyList280NorthMagicNumber.length) == kCFPropertyList280NorthMagicNumber)
                aFormat = kCFPropertyList280NorthFormat_v1_0;
            else
                aFormat = kCFPropertyListXMLFormat_v1_0;
        }
        else
            aFormat = kCFPropertyListXMLFormat_v1_0;
    }
    if (aFormat == kCFPropertyListXMLFormat_v1_0)
        return CPPropertyListCreateFromXMLData(aData);
    if (aFormat == kCFPropertyList280NorthFormat_v1_0)
        return CPPropertyListCreateFrom280NorthData(aData);
    return NULL;
}
var _CPPropertyListSerializeObject = function(aPlist, serializers)
{
    var type = typeof aPlist,
        valueOf = aPlist.valueOf(),
        typeValueOf = typeof valueOf;
    if (type != typeValueOf)
    {
        type = typeValueOf;
        aPlist = valueOf;
    }
    if (type == "string")
        return serializers["string"](aPlist, serializers);
    else if (aPlist === true || aPlist === false)
        return serializers["boolean"](aPlist, serializers);
    else if (type == "number")
    {
        var integer = FLOOR(aPlist);
        if (integer == aPlist)
            return serializers["integer"](aPlist, serializers);
        else
            return serializers["real"](aPlist, serializers);
    }
    else if (aPlist.slice)
        return serializers["array"](aPlist, serializers);
    else
        return serializers["dictionary"](aPlist, serializers);
}
var XML_XML = "xml",
    XML_DOCUMENT = "#document",
    PLIST_PLIST = "plist",
    PLIST_KEY = "key",
    PLIST_DICTIONARY = "dict",
    PLIST_ARRAY = "array",
    PLIST_STRING = "string",
    PLIST_BOOLEAN_TRUE = "true",
    PLIST_BOOLEAN_FALSE = "false",
    PLIST_NUMBER_REAL = "real",
    PLIST_NUMBER_INTEGER = "integer";
var _plist_traverseNextNode = function(anXMLNode, stayWithin, stack)
{
    var node = anXMLNode;
    node = (node.firstChild); if (node != NULL && ((node.nodeType) == 8 || (node.nodeType) == 3)) while ((node = (node.nextSibling)) && ((node.nodeType) == 8 || (node.nodeType) == 3)) ;;
    if (node)
        return node;
    if ((anXMLNode.nodeName) == PLIST_ARRAY || (anXMLNode.nodeName) == PLIST_DICTIONARY)
        stack.pop();
    else
    {
        if (node == stayWithin)
            return NULL;
        node = anXMLNode;
        while ((node = (node.nextSibling)) && ((node.nodeType) == 8 || (node.nodeType) == 3)) ;;
        if (node)
            return node;
    }
    node = anXMLNode;
    while (node)
    {
        var next = node;
        while ((next = (next.nextSibling)) && ((next.nodeType) == 8 || (next.nodeType) == 3)) ;;
        if (next)
            return next;
        var node = (node.parentNode);
        if (stayWithin && node == stayWithin)
            return NULL;
        stack.pop();
    }
    return NULL;
}
function CPPropertyListCreateFromXMLData(XMLNodeOrData)
{
    var XMLNode = XMLNodeOrData;
    if (XMLNode.string)
    {
        if (window.ActiveXObject)
        {
            XMLNode = new ActiveXObject("Microsoft.XMLDOM");
            XMLNode.loadXML(XMLNodeOrData.string.substr(XMLNodeOrData.string.indexOf(".dtd\">") + 6));
        }
        else
            XMLNode = (new DOMParser().parseFromString(XMLNodeOrData.string, "text/xml").documentElement);
    }
    while (((XMLNode.nodeName) == XML_DOCUMENT) || ((XMLNode.nodeName) == XML_XML))
        XMLNode = (XMLNode.firstChild); if (XMLNode != NULL && ((XMLNode.nodeType) == 8 || (XMLNode.nodeType) == 3)) while ((XMLNode = (XMLNode.nextSibling)) && ((XMLNode.nodeType) == 8 || (XMLNode.nodeType) == 3)) ;;
    if (((XMLNode.nodeType) == 10))
        while ((XMLNode = (XMLNode.nextSibling)) && ((XMLNode.nodeType) == 8 || (XMLNode.nodeType) == 3)) ;;
    if (!((XMLNode.nodeName) == PLIST_PLIST))
        return NULL;
    var key = "",
        object = NULL,
        plistObject = NULL,
        plistNode = XMLNode,
        containers = [],
        currentContainer = NULL;
    while (XMLNode = _plist_traverseNextNode(XMLNode, plistNode, containers))
    {
        var count = containers.length;
        if (count)
            currentContainer = containers[count - 1];
        if ((XMLNode.nodeName) == PLIST_KEY)
        {
            key = (((XMLNode.firstChild).nodeValue));
            while ((XMLNode = (XMLNode.nextSibling)) && ((XMLNode.nodeType) == 8 || (XMLNode.nodeType) == 3)) ;;
        }
        switch ((XMLNode.nodeName))
        {
            case PLIST_ARRAY: object = []
                                        containers.push(object);
                                        break;
            case PLIST_DICTIONARY: object = new objj_dictionary();
                                        containers.push(object);
                                        break;
            case PLIST_NUMBER_REAL: object = parseFloat((((XMLNode.firstChild).nodeValue)));
                                        break;
            case PLIST_NUMBER_INTEGER: object = parseInt((((XMLNode.firstChild).nodeValue)));
                                        break;
            case PLIST_STRING: object = decodeURIComponent((XMLNode.firstChild) ? (((XMLNode.firstChild).nodeValue)) : "");
                                        break;
            case PLIST_BOOLEAN_TRUE: object = true;
                                        break;
            case PLIST_BOOLEAN_FALSE: object = false;
                                        break;
            default: objj_exception_throw(new objj_exception(OBJJPlistParseException, "*** " + (XMLNode.nodeName) + " tag not recognized in Plist."));
        }
        if (!plistObject)
            plistObject = object;
        else if (currentContainer)
            if (currentContainer.slice)
                currentContainer.push(object);
            else
                { if ((currentContainer)._buckets[key] == NULL) { (currentContainer)._keys.push(key); ++(currentContainer).count; } if (((currentContainer)._buckets[key] = object) == NULL) --(currentContainer).count;};
    }
    return plistObject;
}
function CPPropertyListCreateXMLData(aPlist)
{
    var data = new objj_data();
    data.string = "";
    data.string += "<?xml version=\"1.0\" encoding=\"UTF-8\"?>";
    data.string += "<!DOCTYPE plist PUBLIC \"-//Apple Computer//DTD PLIST 1.0//EN\" \"http://www.apple.com/DTDs/PropertyList-1.0.dtd\">";
    data.string += "<plist version = \"1.0\">";
    _CPPropertyListAppendXMLData(data, aPlist, "");
    data.string += "</plist>";
    return data;
}
var _CPArrayAppendXMLData = function(XMLData, anArray)
{
    var i = 0,
        count = anArray.length;
    XMLData.string += "<array>";
    for (; i < count; ++i)
        _CPPropertyListAppendXMLData(XMLData, anArray[i]);
    XMLData.string += "</array>";
}
var _CPDictionaryAppendXMLData = function(XMLData, aDictionary)
{
    var keys = aDictionary._keys,
        i = 0,
        count = keys.length;
    XMLData.string += "<dict>";
    for (; i < count; ++i)
    {
        XMLData.string += "<key>" + keys[i] + "</key>";
        _CPPropertyListAppendXMLData(XMLData, ((aDictionary)._buckets[keys[i]]));
    }
    XMLData.string += "</dict>";
}
var _CPPropertyListAppendXMLData = function(XMLData, aPlist)
{
    var type = typeof aPlist,
        valueOf = aPlist.valueOf(),
        typeValueOf = typeof valueOf;
    if (type != typeValueOf)
    {
        type = typeValueOf;
        aPlist = valueOf;
    }
    if (type == "string")
        XMLData.string += "<string>" + encodeURIComponent(aPlist) + "</string>";
    else if (aPlist === true)
        XMLData.string += "<true/>";
    else if (aPlist === false)
        XMLData.string += "<false/>";
    else if (type == "number")
    {
        var integer = FLOOR(aPlist);
        if (integer == aPlist)
            XMLData.string += "<integer>" + aPlist + "</integer>";
        else
            XMLData.string += "<real>" + aPlist + "</real>";
    }
    else if (aPlist.slice)
        _CPArrayAppendXMLData(XMLData, aPlist);
    else
        _CPDictionaryAppendXMLData(XMLData, aPlist);
}
var ARRAY_MARKER = "A",
    DICTIONARY_MARKER = "D",
    FLOAT_MARKER = "f",
    INTEGER_MARKER = "d",
    STRING_MARKER = "S",
    TRUE_MARKER = "T",
    FALSE_MARKER = "F",
    KEY_MARKER = "K",
    END_MARKER = "E";
function CPPropertyListCreateFrom280NorthData(aData)
{
    var stream = new objj_markedStream(aData.string),
        marker = NULL,
        key = "",
        object = NULL,
        plistObject = NULL,
        containers = [],
        currentContainer = NULL;
    while (marker = stream.getMarker())
    {
        if (marker == END_MARKER)
        {
            containers.pop();
            continue;
        }
        var count = containers.length;
        if (count)
            currentContainer = containers[count - 1];
        if (marker == KEY_MARKER)
        {
            key = stream.getString();
            marker = stream.getMarker();
        }
        switch (marker)
        {
            case ARRAY_MARKER: object = []
                                    containers.push(object);
                                    break;
            case DICTIONARY_MARKER: object = new objj_dictionary();
                                    containers.push(object);
                                    break;
            case FLOAT_MARKER: object = parseFloat(stream.getString());
                                    break;
            case INTEGER_MARKER: object = parseInt(stream.getString());
                                    break;
            case STRING_MARKER: object = stream.getString();
                                    break;
            case TRUE_MARKER: object = true;
                                    break;
            case FALSE_MARKER: object = false;
                                    break;
            default: objj_exception_throw(new objj_exception(OBJJPlistParseException, "*** " + marker + " marker not recognized in Plist."));
        }
        if (!plistObject)
            plistObject = object;
        else if (currentContainer)
            if (currentContainer.slice)
                currentContainer.push(object);
            else
                { if ((currentContainer)._buckets[key] == NULL) { (currentContainer)._keys.push(key); ++(currentContainer).count; } if (((currentContainer)._buckets[key] = object) == NULL) --(currentContainer).count;};
    }
    return plistObject;
}
function CPPropertyListCreate280NorthData(aPlist)
{
    var data = new objj_data();
    data.string = kCFPropertyList280NorthMagicNumber + ";1.0;" + _CPPropertyListSerializeObject(aPlist, _CPPropertyList280NorthSerializers);
    return data;
}
var _CPPropertyList280NorthSerializers = {};
_CPPropertyList280NorthSerializers["string"] = function(aString)
{
    return STRING_MARKER + ';' + aString.length + ';' + aString;
}
_CPPropertyList280NorthSerializers["boolean"] = function(aBoolean)
{
    return (aBoolean ? TRUE_MARKER : FALSE_MARKER) + ';';
}
_CPPropertyList280NorthSerializers["integer"] = function(anInteger)
{
    var string = "" + anInteger;
    return INTEGER_MARKER + ';' + string.length + ';' + string;
}
_CPPropertyList280NorthSerializers["real"] = function(aFloat)
{
    var string = "" + aFloat;
    return FLOAT_MARKER + ';' + string.length + ';' + string;
}
_CPPropertyList280NorthSerializers["array"] = function(anArray, serializers)
{
    var index = 0,
        count = anArray.length,
        string = ARRAY_MARKER + ';';
    for (; index < count; ++index)
        string += _CPPropertyListSerializeObject(anArray[index], serializers);
    return string + END_MARKER + ';';
}
_CPPropertyList280NorthSerializers["dictionary"] = function(aDictionary, serializers)
{
    var keys = aDictionary._keys,
        index = 0,
        count = keys.length,
        string = DICTIONARY_MARKER +';';
    for (; index < count; ++index)
    {
        var key = keys[index];
        string += KEY_MARKER + ';' + key.length + ';' + key;
        string += _CPPropertyListSerializeObject(((aDictionary)._buckets[key]), serializers);
    }
    return string + END_MARKER + ';';
}
OBJJFileNotFoundException = "OBJJFileNotFoundException";
OBJJExecutableNotFoundException = "OBJJExecutableNotFoundException";
var objj_files = { },
    objj_bundles = { },
    objj_bundlesForClass = { },
    objj_searches = { };
var OBJJ_NO_FILE = {},
    OBJJ_INCLUDE_PATHS = ["Frameworks", "SomethingElse"];
var OBJJ_BASE_URI = "";
if (window.opera) {
var DOMBaseElement = document.getElementsByTagName("base")[0];
if (DOMBaseElement)
    OBJJ_BASE_URI = (DOMBaseElement.getAttribute('href')).substr(0, (DOMBaseElement.getAttribute('href')).lastIndexOf('/') + 1);
}
function objj_file()
{
    this.path = NULL;
    this.bundle = NULL;
    this.included = NO;
    this.contents = NULL;
    this.fragments = NULL;
}
function objj_bundle()
{
    this.path = NULL;
    this.info = NULL;
    this.__address = (OBJECT_COUNT++);
}
function objj_getBundleWithPath(aPath)
{
    return objj_bundles[aPath];
}
function objj_bundleForClass(aClass)
{
    return objj_bundlesForClass[aClass.name];
}
function objj_addClassForBundle(aClass, aBundle)
{
    objj_bundlesForClass[aClass.name] = aBundle;
}
function objj_request_file(aFilePath, shouldSearchLocally, aCallback)
{
    new objj_search(aFilePath, shouldSearchLocally, aCallback).attemptNextSearchPath();
}
var objj_search = function(aFilePath, shouldSearchLocally, aCallback)
{
    this.filePath = aFilePath;
    this.bundle = NULL;
    this.bundleObservers = [];
    this.searchPath = NULL;
    this.searchedPaths = [];
    this.includePathsIndex = shouldSearchLocally ? -1 : 0;
    this.searchRequest = NULL;
    this.didCompleteCallback = aCallback;
}
objj_search.prototype.nextSearchPath = function()
{
    var path = objj_standardize_path((this.includePathsIndex == -1 ? "" : OBJJ_INCLUDE_PATHS[this.includePathsIndex] + '/') + this.filePath);
    ++this.includePathsIndex;
    return path;
}
objj_search.prototype.attemptNextSearchPath = function()
{
    var searchPath = this.nextSearchPath(),
        file = objj_files[searchPath];
    objj_alert("Will attempt to find " + this.filePath + " at " + searchPath);
    if (file)
    {
        objj_alert("The file request at " + this.filePath + " has already been downloaded at " + searchPath);
        if (this.didCompleteCallback)
            this.didCompleteCallback(file);
        return;
    }
    var existingSearch = objj_searches[searchPath];
    if (existingSearch)
    {
        if (this.didCompleteCallback)
            existingSearch.didCompleteCallback = this.didCompleteCallback;
        return;
    }
    this.searchedPaths.push(this.searchPath = searchPath);
    var infoPath = objj_standardize_path((searchPath).substr(0, (searchPath).lastIndexOf('/') + 1) + "Info.plist")
        bundle = objj_bundles[infoPath];
    if (bundle)
    {
        this.bundle = bundle;
        this.request(searchPath, this.didReceiveSearchResponse);
    }
    else
    {
        var existingBundleSearch = objj_searches[infoPath];
        if (existingBundleSearch)
        {
            --this.includePathsIndex;
            this.searchedPaths.pop();
             if (this.searchedPaths.length)
                 this.searchPath = this.searchedPaths[this.searchedPaths.length - 1];
             else
                 this.searchPath = NULL;
            existingBundleSearch.bundleObservers.push(this);
            return;
        }
        else
        {
            this.bundleObservers.push(this);
            this.request(infoPath, this.didReceiveBundleResponse);
            if (!this.searchReplaced)
                this.searchRequest = this.request(searchPath, this.didReceiveSearchResponse);
        }
    }
}
if (window.ActiveXObject) {
objj_search.responseCallbackLock = NO;
objj_search.responseCallbackQueue = [];
objj_search.removeResponseCallbackForFilePath = function(aFilePath)
{
    var queue = objj_search.responseCallbackQueue,
        index = queue.length;
    while (index--)
        if (queue[index][3] == aFilePath)
        {
            queue.splice(index, 1);
            return;
        }
}
objj_search.serializeResponseCallback = function(aMethod, aSearch, aResponse, aFilePath)
{
    var queue = objj_search.responseCallbackQueue;
    queue.push([aMethod, aSearch, aResponse, aFilePath]);
    if (objj_search.responseCallbackLock)
        return;
    objj_search.responseCallbackLock = YES;
    while (queue.length)
    {
        var callback = queue[0];
        queue.splice(0, 1);
        callback[0].apply(callback[1], [callback[2]]);
    }
    objj_search.responseCallbackLock = NO;
}
}
objj_search.prototype.request = function(aFilePath, aMethod)
{
    var search = this,
        isPlist = aFilePath.substr(aFilePath.length - 6, 6) == ".plist",
        request = objj_request_xmlhttp(),
        response = objj_response_xmlhttp();
    response.filePath = aFilePath;
    request.onreadystatechange = function()
    {
        if (request.readyState == 4)
        {
            if (response.success = (request.status != 404 && request.responseText && request.responseText.length) ? YES : NO)
            {
                if (window.files_total)
                {
                    if (!window.files_loaded)
                        window.files_loaded = 0;
                    window.files_loaded += request.responseText.length;
                    if (window.update_progress)
                        window.update_progress(window.files_loaded / window.files_total);
                }
                if (isPlist)
                    response.xml = objj_standardize_xml(request);
                else
                    response.text = request.responseText;
            }
            if (window.ActiveXObject)
                objj_search.serializeResponseCallback(aMethod, search, response, aFilePath);
            else
                aMethod.apply(search, [response]);
        }
    }
    objj_searches[aFilePath] = this;
    if (request.overrideMimeType && isPlist)
        request.overrideMimeType('text/xml');
    if (window.opera && aFilePath.charAt(0) != '/')
        aFilePath = OBJJ_BASE_URI + aFilePath;
    try
    {
        request.open("GET", aFilePath, YES);
        request.send("");
    }
    catch (anException)
    {
        response.success = NO;
        if (window.ActiveXObject)
            objj_search.serializeResponseCallback(aMethod, search, response, aFilePath);
        else
            aMethod.apply(search, [response]);
    }
    return request;
}
objj_search.prototype.didReceiveSearchResponse = function(aResponse)
{
    if (!this.bundle)
    {
        this.cachedSearchResponse = aResponse;
        return;
    }
    if (aResponse.success)
    {
        file = new objj_file();
        file.path = aResponse.filePath;
        file.bundle = this.bundle
        file.contents = aResponse.text;
        this.complete(file);
    }
    else if (this.includePathsIndex < OBJJ_INCLUDE_PATHS.length)
    {
        this.bundle = NULL;
        this.attemptNextSearchPath();
    }
    else
        objj_exception_throw(new objj_exception(OBJJFileNotFoundException, "*** Could not locate file named \"" + this.filePath + "\" in search paths."));
}
objj_search.prototype.didReceiveBundleResponse = function(aResponse)
{
    var bundle = new objj_bundle();
    bundle.path = aResponse.filePath;
    if (aResponse.success)
        bundle.info = CPPropertyListCreateFromXMLData(aResponse.xml);
    else
        bundle.info = new objj_dictionary();
    objj_bundles[aResponse.filePath] = bundle;
    var executablePath = ((bundle.info)._buckets["CPBundleExecutable"]);
    if (executablePath)
    {
        this.request((aResponse.filePath).substr(0, (aResponse.filePath).lastIndexOf('/') + 1) + executablePath, this.didReceiveExecutableResponse);
        var directory = (aResponse.filePath).substr(0, (aResponse.filePath).lastIndexOf('/') + 1),
            replacedFiles = ((bundle.info)._buckets["CPBundleReplacedFiles"]),
            index = 0,
            count = replacedFiles.length;
        for (; index < count; ++index)
        {
            objj_searches[directory + replacedFiles[index]] = this;
            if (directory + replacedFiles[index] == this.searchPath)
            {
                this.searchReplaced = YES;
                if (!this.cachedSearchResponse && this.searchRequest)
                    this.searchRequest.abort();
                if (window.ActiveXObject)
                    objj_search.removeResponseCallbackForFilePath(this.searchPath);
            }
        }
    }
    this.bundle = bundle;
    var observers = this.bundleObservers,
        index = 0,
        count = observers.length;
    for(; index < count; ++index)
    {
        var observer = observers[index];
        if (observer != this)
            observer.attemptNextSearchPath();
        else if (this.cachedSearchResponse && !this.searchReplaced)
            this.didReceiveSearchResponse(this.cachedSearchResponse);
    }
    this.bundleObservers = [];
}
objj_search.prototype.didReceiveExecutableResponse = function(aResponse)
{
    if (!aResponse.success)
        objj_exception_throw(new objj_exception(OBJJExecutableNotFoundException, "*** The specified executable could not be located at \"" + this.filePath + "\"."));
    var files = objj_decompile(aResponse.text, this.bundle),
        index = 0,
        count = files.length,
        length = this.filePath.length;
    for (; index < count; ++index)
    {
        var file = files[index],
            path = file.path;
        if (this.filePath == path.substr(path.length - length))
            this.complete(file);
        else
            objj_files[path] = file;
    }
}
objj_search.prototype.complete = function(aFile)
{
    var index = 0,
        count = this.searchedPaths.length;
    for (; index < count; ++index)
    {
        objj_files[this.searchedPaths[index]] = aFile;
    }
    if (this.didCompleteCallback)
        this.didCompleteCallback(aFile);
}
function objj_standardize_path(aPath)
{
    if (aPath.indexOf("/./") != -1 && aPath.indexOf("//") != -1 && aPath.indexOf("/../") != -1)
        return aPath;
    var index = 0,
        components = aPath.split('/');
    for(;index < components.length; ++index)
        if(components[index] == "..")
        {
            components.splice(index - 1, 2);
            index -= 2;
        }
        else if(index != 0 && !components[index].length || components[index] == '.' || components[index] == "..")
            components.splice(index--, 1);
    return components.join('/');
}
if (window.ActiveXObject) {
objj_standardize_xml = function(aRequest)

{
    var XMLData = new ActiveXObject("Microsoft.XMLDOM");
    XMLData.loadXML(aRequest.responseText.substr(aRequest.responseText.indexOf(".dtd\">") + 6));
    return XMLData;
}
} else {
objj_standardize_xml = function(aRequest)
{
    return aRequest.responseXML;
}
}
function objj_response_xmlhttp()
{
    return new Object;
}
if (window.XMLHttpRequest) {
objj_request_xmlhttp = function()
{
    return new XMLHttpRequest();
}
} else if (window.ActiveXObject) {
var MSXML_XMLHTTP_OBJECTS = [ "Microsoft.XMLHTTP", "Msxml2.XMLHTTP", "Msxml2.XMLHTTP.3.0", "Msxml2.XMLHTTP.6.0" ],
    index = MSXML_XMLHTTP_OBJECTS.length;
while (index--)
{
    try
    {
        new ActiveXObject(MSXML_XMLHTTP_OBJECTS[index]);
        break;
    }
    catch (anException)
    {
    }
}
var MSXML_XMLHTTP = MSXML_XMLHTTP_OBJECTS[index];
delete index;
delete MSXML_XMLHTTP_OBJECTS;
objj_request_xmlhttp = function()
{
    return new ActiveXObject(MSXML_XMLHTTP);
}
}
var OBJJ_EXCEPTION_OUTPUT_STREAM = NULL;
function objj_exception(aName, aReason, aUserInfo)
{
    this.name = aName;
    this.reason = aReason;
    this.userInfo = aUserInfo;
    this.__address = (OBJECT_COUNT++);
}
objj_exception.prototype.toString = function()
{
    return this.reason;
}
function objj_exception_throw(anException)
{
    throw anException;
}
function objj_exception_report(anException, aSourceFile)
{
    objj_fprintf(OBJJ_EXCEPTION_OUTPUT_STREAM, aSourceFile.path + "\n" + anException);
    throw anException;
}
function objj_exception_setOutputStream(aStream)
{
    OBJJ_EXCEPTION_OUTPUT_STREAM = aStream;
}
objj_exception_setOutputStream(function(aString) { });
OBJJParseException = "OBJJParseException";
OBJJClassNotFoundException = "OBJJClassNotFoundException";
var TOKEN_NEW = "new",
    TOKEN_SUPER = "super",
    TOKEN_CLASS = "class",
    TOKEN_IMPORT = "import",
    TOKEN_FUNCTION = "function",
    TOKEN_SELECTOR = "selector",
    TOKEN_IMPLEMENTATION = "implementation",
    TOKEN_PLUS = '+',
    TOKEN_MINUS = '-',
    TOKEN_COLON = ':',
    TOKEN_COMMA = ',',
    TOKEN_PERIOD = '.',
    TOKEN_ASTERISK = '*',
    TOKEN_SEMICOLON = ';',
    TOKEN_LESS_THAN = '<',
    TOKEN_OPEN_BRACE = '{',
    TOKEN_CLOSE_BRACE = '}',
    TOKEN_GREATER_THAN = '>',
    TOKEN_OPEN_BRACKET = '[',
    TOKEN_DOUBLE_QUOTE = '"',
    TOKEN_PREPROCESSOR = '@',
    TOKEN_CLOSE_BRACKET = ']',
    TOKEN_QUESTION_MARK = '?',
    TOKEN_OPEN_PARENTHESIS = '(',
    TOKEN_CLOSE_PARENTHESIS = ')';
var SUPER_CLASSES = new objj_dictionary(),
    CURRENT_SUPER_CLASS = NULL,
    CURRENT_CLASS_NAME = NULL;
var OBJJ_CURRENT_BUNDLE = NULL;
var objj_lexer = function(aString, aSourceFile)
{
    this._index = 0;
    this._tokens = (aString + '\n').match(/\/\/.*(\r|\n)?|\/\*(?:.|\n|\r)*?\*\/|\w+\b|[+-]?\d+(([.]\d+)*([eE][+-]?\d+))?|"[^"\\]*(\\.[^"\\]*)*"|'[^'\\]*(\\.[^'\\]*)*'|\s+|./g);
    this.file = aSourceFile;
    return this;
}
objj_lexer.prototype.next = function()
{
    return this._tokens[this._index++];
}
objj_lexer.prototype.previous = function()
{
    return this._tokens[--this._index];
}
objj_lexer.prototype.last = function()
{
    if (this._index > 1)
        return this._tokens[this._index - 2];
    return NULL;
}
objj_lexer.prototype.skip_whitespace= function()
{
    var token;
    while((token = this.next()) && (!(/\S/).test(token) || token.substr(0,2) == "//" || token.substr(0,2) == "/*")) ;
    return token;
}
var objj_preprocess_method = function(tokens, count, array_name)
{
    var token,
        selector = "",
        parameters = new Array();
    while((token = tokens.skip_whitespace()) && token != TOKEN_OPEN_BRACE)
    {
        if (token == TOKEN_COLON)
        {
            selector += token;
            token = tokens.skip_whitespace();
            if (token == TOKEN_OPEN_PARENTHESIS)
            {
                while((token = tokens.skip_whitespace()) && token != TOKEN_CLOSE_PARENTHESIS) ;
                token = tokens.skip_whitespace();
            }
            parameters[parameters.length] = token;
        }
        else if (token == TOKEN_OPEN_PARENTHESIS)
            while((token = tokens.skip_whitespace()) && token != TOKEN_CLOSE_PARENTHESIS) ;
        else if (token == TOKEN_COMMA)
        {
            if ((token = tokens.skip_whitespace()) != TOKEN_PERIOD || tokens.next() != TOKEN_PERIOD || tokens.next() != TOKEN_PERIOD)
                objj_exception_throw(new objj_exception(OBJJParseException, "*** Argument list expected after ','."));
        }
        else
            selector += token;
    }
    var i= 0,
        length = parameters.length,
        selectorDisplayName = "$"+CURRENT_CLASS_NAME+"__"+selector.replace(/:/g, "_"),
        preprocessed = array_name + "["+count+"] = new objj_method(sel_registerName(\""+selector+"\"), function "+selectorDisplayName+"(self, _cmd";
    for(; i < length; ++i)
        preprocessed += ", " + parameters[i];
    return preprocessed + ")\n{ with(self)\n{" + objj_preprocess_tokens(tokens, TOKEN_CLOSE_BRACE, TOKEN_OPEN_BRACE) + "}\n});\n";
}
var objj_preprocess_implementation= function(tokens)
{
    var token = "",
        category = NO,
        preprocessed = "",
        class_name = tokens.skip_whitespace(),
        superclass_name = "Nil",
        class_method_count = 0,
        instance_method_count = 0;
    if (!(/^\w/).test(class_name))
        objj_exception_throw(new objj_exception(OBJJParseException, "*** Expected class name, found \"" + class_name + "\"."));
    CURRENT_SUPER_CLASS = NULL;
    CURRENT_CLASS_NAME = class_name;
    if((token = tokens.skip_whitespace()) == TOKEN_OPEN_PARENTHESIS)
    {
        token = tokens.skip_whitespace();
        if(tokens.skip_whitespace() != TOKEN_CLOSE_PARENTHESIS)
            objj_exception_throw(new objj_exception(OBJJParseException, "*** Improper Category Definition for class \""+class_name+"\"."));
        preprocessed += "{\nvar the_class = objj_getClass(\"" + class_name + "\")\n";
        preprocessed += "if(!the_class) objj_exception_throw(new objj_exception(OBJJClassNotFoundException, \"*** Could not find definition for class \\\"" + class_name + "\\\"\"));\n";
        preprocessed += "var meta_class = the_class.isa;";
        var superclass_name = ((SUPER_CLASSES)._buckets[class_name]);
        if (!superclass_name)
            CURRENT_SUPER_CLASS = "objj_getClass(\"" + class_name + "\").super_class";
        else
            CURRENT_SUPER_CLASS = "objj_getClass(\"" + superclass_name + "\")";
    }
    else
    {
        if(token == TOKEN_COLON)
        {
            token = tokens.skip_whitespace();
            if (!(/^\w/).test(token))
                objj_exception_throw(new objj_exception(OBJJParseException, "*** Expected class name, found \"" + token + "\"."));
            superclass_name = token;
            CURRENT_SUPER_CLASS = "objj_getClass(\"" + superclass_name + "\")";
            { if ((SUPER_CLASSES)._buckets[class_name] == NULL) { (SUPER_CLASSES)._keys.push(class_name); ++(SUPER_CLASSES).count; } if (((SUPER_CLASSES)._buckets[class_name] = superclass_name) == NULL) --(SUPER_CLASSES).count;};
            token = tokens.skip_whitespace();
        }
        preprocessed += "{var the_class = objj_allocateClassPair(" + superclass_name + ", \"" + class_name + "\"),\nmeta_class = the_class.isa;";
        if (token == TOKEN_OPEN_BRACE)
        {
            var ivar = true,
                ivar_count = 0;
            while((token = tokens.skip_whitespace()) && token != TOKEN_CLOSE_BRACE)
            {
                if (token != TOKEN_SEMICOLON && (ivar = !ivar))
                {
                    if (ivar_count++ == 0)
                        preprocessed += "class_addIvars(the_class, [";
                    else
                        preprocessed += ", ";
                    preprocessed += "new objj_ivar(\"" + token + "\")";
                }
            }
            if (ivar_count)
                preprocessed += "]);\n";
            if (!token)
                objj_exception_throw(new objj_exception(OBJJParseException, "*** Expected '}'"));
        }
        else tokens.previous();
        preprocessed += "objj_registerClassPair(the_class);\n";
        preprocessed += "objj_addClassForBundle(the_class, objj_getBundleWithPath(OBJJ_CURRENT_BUNDLE.path));\n";
    }
    while((token = tokens.skip_whitespace()))
    {
        if(token == TOKEN_PLUS) preprocessed += (class_method_count ? "" : "var class_methods = [];\n") + objj_preprocess_method(tokens, class_method_count++, "class_methods");
        else if(token == TOKEN_MINUS) preprocessed += (instance_method_count ? "" : "var instance_methods = [];\n") + objj_preprocess_method(tokens, instance_method_count++, "instance_methods");
        else if(token == TOKEN_PREPROCESSOR)
        {
            if((token = tokens.next()) == "end")
                break;
            else
                objj_exception_throw(new objj_exception(OBJJParseException, "*** Expected \"@end\", found \"@" + token + "\"."));
        }
    }
    if (instance_method_count) preprocessed += "class_addMethods(the_class, instance_methods);\n";
    if (class_method_count) preprocessed += "class_addMethods(meta_class, class_methods);\n";
    return preprocessed + '}';
}
var objj_preprocess_directive = function(tokens)
{
    token = tokens.next();
    if(token.charAt(0) == TOKEN_DOUBLE_QUOTE) return token;
    else if(token == TOKEN_CLASS) { tokens.skip_whitespace(); return ""; }
    else if(token == TOKEN_IMPLEMENTATION) return objj_preprocess_implementation(tokens);
    else if(token == TOKEN_SELECTOR)
    {
        if (tokens.skip_whitespace() != TOKEN_OPEN_PARENTHESIS)
            objj_exception_throw(new objj_exception(OBJJParseException, "*** Expected ')'"));
        return "sel_registerName(\"" + objj_preprocess_tokens(tokens, TOKEN_CLOSE_PARENTHESIS) +"\")";
    }
    return "";
}
var objj_preprocess_brackets = function(tokens)
{
    var literal = '[',
        receiver = "",
        selector = "",
        marg_list = new Array(),
        preprocessed = "objj_msgSend";
    var token = "",
        array = false,
        previous = "",
        braces = 0,
        tertiary = 0,
        parenthesis = 0;
    while((token = tokens.skip_whitespace()) && token != TOKEN_CLOSE_BRACKET)
    {
        var preprocess = !braces && !tertiary && !parenthesis && !array;
        if (token == TOKEN_SUPER)
        {
            if (!receiver.length)
            {
                preprocessed = "objj_msgSendSuper";
                token = "{ receiver:self, super_class:" + CURRENT_SUPER_CLASS + " }";
            }
            else
                objj_exception_throw(new objj_exception(OBJJParseException, "*** Can't use 'super' in this context."));
        }
        else if (token == TOKEN_OPEN_BRACE) ++braces;
        else if (token == TOKEN_CLOSE_BRACE) --braces;
        else if(token == TOKEN_QUESTION_MARK) ++tertiary;
        else if(token == TOKEN_OPEN_PARENTHESIS) ++parenthesis;
        else if(token == TOKEN_CLOSE_PARENTHESIS) --parenthesis;
        else if(token == TOKEN_OPEN_BRACKET) token = objj_preprocess_brackets(tokens);
        else if(token == TOKEN_PREPROCESSOR) token = objj_preprocess_directive(tokens);
        if(preprocess)
        {
            if(token == TOKEN_COMMA && !selector.length)
                array = true;
            if(token == TOKEN_COLON)
            {
                var last = tokens.last();
                if (last && (!(/\S/).test(last) || last.substr(0, 2) == "//" || last.substr(0, 2) == "/*"))
                {
                    selector += ':';
                    marg_list[marg_list.length - 1] += previous;
                    marg_list[marg_list.length] = previous = "";
                }
                else
                {
                    selector += previous + ":";
                    marg_list[marg_list.length] = previous = "";
                }
            }
            else
            {
                if (previous == TOKEN_NEW)
                    previous = "new ";
                if (selector.length)
                    marg_list[marg_list.length - 1] += previous;
                else
                    receiver += previous;
                previous = token;
            }
        }
        else
        {
            if(token == TOKEN_COLON && !braces)
                --tertiary;
            previous += token;
        }
        if (token == TOKEN_NEW)
            literal += "new ";
        else
            literal += token;
    }
    if (selector.length) marg_list[marg_list.length - 1] += previous;
    else if(!array && receiver.length && !((/[\:\+\-\*\/\=\<\>\&\|\!\.\%]/).test(receiver.charAt(receiver.length - 1))) &&
            receiver != TOKEN_NEW && !(/[\+\-\*\/\=\<\>\&\|\!\.\[\^\(]/).test(previous.charAt(0)))
        selector = previous;
    else return literal + ']';
    preprocessed += '(' + receiver + ", \"" + sel_registerName(selector) + "\"";
    var i = 0,
        length = marg_list.length;
    for(; i < length; ++i)
        preprocessed += ", " + marg_list[i];
    return preprocessed + ')';
}
function objj_preprocess_tokens(tokens, terminator, instigator, segment)
{
    var count = 0,
        token = "",
        fragments = [],
        preprocessed = "";
    while((token = tokens.next()) && ((token != terminator) || count))
    {
        if (instigator)
        {
            if (token == instigator) ++count;
            else if (token == terminator) --count;
        }
        if(token == TOKEN_IMPORT)
        {
            if ((/[^\s]/).test(preprocessed))
                fragments.push(fragment_create_code(preprocessed, OBJJ_CURRENT_BUNDLE, tokens.file));
            preprocessed = "";
            var path = "",
                token = tokens.skip_whitespace(),
                isLocal = token != TOKEN_LESS_THAN;
            if(token == TOKEN_LESS_THAN)
            {
                while((token= tokens.next()) && token != TOKEN_GREATER_THAN) path+= token;
                if(!token) objj_throw("Parser Error - Unterminated import statement.");
            }
            else if(token.charAt(0) == TOKEN_DOUBLE_QUOTE) path= token.substr(1, token.length-2);
            else
                objj_exception_throw(new objj_exception(OBJJParseException, "*** Expecting '<' or '\"', found \"" + token + "\"."));
            fragments.push(fragment_create_file(path, NULL, isLocal, tokens.file));
        }
        else if(token == TOKEN_FUNCTION)
        {
            var accumulator= "";
            while((token = tokens.next()) && token != TOKEN_OPEN_PARENTHESIS && !(/^\w/).test(token))
                accumulator += token;
            if(token == TOKEN_OPEN_PARENTHESIS)
                preprocessed+= "function"+accumulator+'(';
            else
            {
                preprocessed += token + "= function";
            }
        }
        else if(token == TOKEN_PREPROCESSOR)
            preprocessed+= objj_preprocess_directive(tokens);
        else if(token == TOKEN_OPEN_BRACKET)
            preprocessed += objj_preprocess_brackets(tokens);
        else
            preprocessed += token;
    }
    if (preprocessed.length && (/[^\s]/).test(preprocessed))
        fragments.push(fragment_create_code(preprocessed, OBJJ_CURRENT_BUNDLE, tokens.file));
    if (!segment)
        return fragments.length ? fragments[0].info : "";
    return fragments;
}
function objj_preprocess(aString, aBundle, aSourceFile)
{
    try
    {
        OBJJ_CURRENT_BUNDLE = aBundle;
        return objj_preprocess_tokens(new objj_lexer(aString, aSourceFile), nil, nil, YES);
    }
    catch (anException)
    {
        objj_exception_report(anException, aSourceFile);
    }
    return [];
}
var objj_included_files = { };
var FRAGMENT_CODE = 1,
    FRAGMENT_FILE = 1 << 2,
    FRAGMENT_LOCAL = 1 << 3;
function objj_fragment()
{
    this.info = NULL;
    this.type = 0;
    this.context = NULL;
    this.bundle = NULL;
    this.file = NULL;
}
function objj_context()
{
    this.fragments = [];
    this.scheduled = NO;
    this.blocked = NO;
}
function fragment_create_code(aCode, aBundle, aFile)
{
    var fragment = new objj_fragment();
    fragment.type = (FRAGMENT_CODE);
    fragment.info = (aCode);
    fragment.bundle = aBundle;
    fragment.file = aFile;
    return fragment;
}
function fragment_create_file(aPath, aBundle, isLocal, aFile)
{
    var fragment = new objj_fragment();
    fragment.type = (FRAGMENT_FILE | (FRAGMENT_LOCAL * isLocal));
    fragment.info = aPath;
    fragment.bundle = aBundle;
    fragment.file = aFile;
    return fragment;
}
objj_context.prototype.evaluate = function()
{
    this.scheduled = NO;
    if (this.blocked)
        return this.schedule();
    var sleep = NO,
        start = new Date(),
        fragments = this.fragments;
    while (!sleep && fragments.length)
    {
        var fragment = fragments.pop();
        if ((fragment.type & FRAGMENT_FILE))
            sleep = fragment_evaluate_file(fragment);
        else
            sleep = fragment_evaluate_code(fragment);
        sleep = sleep || ((new Date() - start) > 3000);
    }
    if (sleep)
        this.schedule();
    else if (this.didCompleteCallback)
        this.didCompleteCallback(this);
}
objj_context.prototype.schedule = function()
{
    if (this.scheduled)
        return;
    this.scheduled = YES;
    var context = this;
    window.setTimeout(function () { context.evaluate(); }, 0);
}
objj_context.prototype.pushFragment = function(aFragment)
{
    aFragment.context = this;
    this.fragments.push(aFragment);
}
function fragment_evaluate_code(aFragment)
{
    var compiled;
    OBJJ_CURRENT_BUNDLE = aFragment.bundle;
    try
    {
        compiled = new Function(aFragment.info);
    }
    catch(anException)
    {
        objj_exception_report(anException, aFragment.file);
    }
    try
    {
        compiled();
    }
    catch(anException)
    {
        objj_exception_report(anException, aFragment.file);
    }
    return NO;
}
function fragment_evaluate_file(aFragment)
{
    var context = aFragment.context,
        requiresSleep = YES;
    context.blocked = YES;
    objj_request_file(aFragment.info, (aFragment.type & FRAGMENT_LOCAL), function(aFile)
    {
        requiresSleep = NO;
        context.blocked = NO;
        if (aFile == OBJJ_NO_FILE)
            objj_alert("uh oh!");
        if (objj_included_files[aFile.path])
            return;
        objj_included_files[aFile.path] = YES;
        if (!aFile.fragments)
            aFile.fragments = objj_preprocess(aFile.contents, aFile.bundle, aFile);
        var fragments = aFile.fragments,
            count = fragments.length,
            directory = aFile.path.substr(0, aFile.path.lastIndexOf('/') + 1);
        while (count--)
        {
            var fragment = fragments[count];
            if ((fragment.type & FRAGMENT_FILE))
            {
                if ((fragment.type & FRAGMENT_LOCAL))
                    fragment.info = directory + fragment.info;
                objj_request_file(fragment.info, (fragment.type & FRAGMENT_LOCAL), NULL);
            }
            context.pushFragment(fragment);
        }
    });
    return requiresSleep;
}
function objj_import(aPath, isLocal, didCompleteCallback)
{
    var context = new objj_context();
    context.didCompleteCallback = didCompleteCallback;
    context.pushFragment(fragment_create_file(aPath, new objj_bundle(""), isLocal, NULL));
    context.evaluate();
}
OBJJUnrecognizedFormatException = "OBJJUnrecognizedFormatException";
var STATIC_MAGIC_NUMBER = "@STATIC",
    MARKER_PATH = "p",
    MARKER_CODE = "c",
    MARKER_IMPORT_STD = 'I',
    MARKER_IMPORT_LOCAL = 'i';
var STATIC_EXTENSION = "sj";
function objj_preprocess_file(aFilePath, fileContents)
{
    var fragments = objj_preprocess(fileContents, { path:"/x" }, { path:aFilePath}),
        index = 0,
        count = fragments.length,
        preprocessed = MARKER_PATH + ';' + aFilePath.length() + ';' + aFilePath;
    for (; index < count; ++index)
    {
        var fragment = fragments[index];
        if ((fragment.type & FRAGMENT_FILE))
            preprocessed += ((fragment.type & FRAGMENT_LOCAL) ? MARKER_IMPORT_LOCAL : MARKER_IMPORT_STD) + ';' + fragment.info.length + ';' + fragment.info;
        else
            preprocessed += MARKER_CODE + ';' + fragment.info.length + ';' + fragment.info;
    }
    return preprocessed;
}
function objj_decompile(aString, bundle)
{
    var stream = new objj_markedStream(aString);
    if (stream.magicNumber() != STATIC_MAGIC_NUMBER)
        objj_exception_throw(new objj_exception(OBJJUnrecognizedFormatException, "*** Could not recognize executable code format."));
    if (stream.version() != 1.0)
        objj_exception_throw(new objj_exception(OBJJUnrecognizedFormatException, "*** Could not recognize executable code format."));
    var file = NULL,
        files = [];
    while (marker = stream.getMarker())
    {
        var text = stream.getString();
        switch (marker)
        {
            case MARKER_PATH: file = new objj_file();
                                        file.path = (bundle.path).substr(0, (bundle.path).lastIndexOf('/') + 1) + text;
                                        file.bundle = bundle;
                                        file.fragments = [];
                                        files.push(file);
                                        break;
            case MARKER_CODE: file.fragments.push(fragment_create_code(text, bundle, file));
                                        break;
            case MARKER_IMPORT_STD: file.fragments.push(fragment_create_file(text, bundle, NO, file));
                                        break;
            case MARKER_IMPORT_LOCAL: file.fragments.push(fragment_create_file(text, bundle, YES, file));
                                        break;
        }
    }
    return files;
}
function objj_msgSend_Backtrace( aReceiver, aSelector)
{
    if (aReceiver == nil)
        return nil;
    objj_debug_backtrace.push("[" + (((aReceiver.info & (CLS_META))) ? aReceiver : aReceiver.isa).name + " " + aSelector + "]");
    try
    {
        var result = class_getMethodImplementation(aReceiver.isa, aSelector).apply(aReceiver, arguments);
    }
    catch (anException)
    {
        CPLog.error("Exception " + anException + " in [" + (((aReceiver.info & (CLS_META))) ? aReceiver : aReceiver.isa).name + " " + aSelector + "]");
        objj_debug_print_backtrace();
    }
    objj_debug_backtrace.pop();
    return result;
}
function objj_msgSendSuper_Backtrace( aSuper, aSelector)
{
    objj_debug_backtrace.push("[" + (((aSuper.receiver.info & (CLS_META))) ? aSuper.receiver : aSuper.receiver.isa).name + " " + aSelector + "]");
    var super_class = aSuper.super_class;
    arguments[0] = aSuper.receiver;
    try
    {
        var result = class_getMethodImplementation(super_class, aSelector).apply(aSuper.receiver, arguments);
    }
    catch (anException)
    {
        CPLog.error("Exception " + anException + " in [" + (((aSuper.receiver.info & (CLS_META))) ? aSuper.receiver : aSuper.receiver.isa).name + " " + aSelector + "]");
        objj_debug_print_backtrace();
    }
    objj_debug_backtrace.pop();
    return result;
}
function objj_msgSend_Profile( aReceiver, aSelector)
{
    if (aReceiver == nil)
        return nil;
    var profileRecord = {
        parent : objj_debug_profile,
        receiver : (((aReceiver.info & (CLS_META))) ? aReceiver : aReceiver.isa).name,
        selector : aSelector,
        calls : []
    }
    objj_debug_profile.calls.push(profileRecord);
    objj_debug_profile = profileRecord;
    profileRecord.start = new Date();
    var result = class_getMethodImplementation(aReceiver.isa, aSelector).apply(aReceiver, arguments);
    profileRecord.end = new Date();
    objj_debug_profile = profileRecord.parent;
    return result;
}
function objj_msgSendSuper_Profile( aSuper, aSelector)
{
    var profileRecord = {
        parent : objj_debug_profile,
        receiver : (((aReceiver.info & (CLS_META))) ? aReceiver : aReceiver.isa).name,
        selector : aSelector,
        calls : []
    }
    objj_debug_profile.calls.push(profileRecord);
    objj_debug_profile = profileRecord;
    profileRecord.start = new Date();
    var super_class = aSuper.super_class;
    arguments[0] = aSuper.receiver;
    var result = class_getMethodImplementation(super_class, aSelector).apply(aSuper.receiver, arguments);
    profileRecord.end = new Date();
    objj_debug_profile = profileRecord.parent;
    return result;
}
var objj_msgSend_Standard = objj_msgSend,
    objj_msgSendSuper_Standard = objj_msgSendSuper;
var objj_debug_backtrace;
function objj_backtrace_set_enable(enabled)
{
    if (enabled)
    {
        objj_debug_backtrace = [];
        objj_msgSend = objj_msgSend_Backtrace;
        objj_msgSendSuper = objj_msgSendSuper_Backtrace;
    }
    else
    {
        objj_msgSend = objj_msgSend_Standard;
        objj_msgSendSuper = objj_msgSendSuper_Standard;
    }
}
function objj_debug_print_backtrace()
{
    CPLog.trace(objj_debug_backtrace_string());
}
function objj_debug_backtrace_string()
{
    return objj_debug_backtrace.join("\n");
}
var objj_debug_profile = null,
    objj_currently_profiling = false,
    objj_profile_cleanup;
function objj_profile(title)
{
    if (objj_currently_profiling)
        return;
    var objj_msgSend_profile_saved = objj_msgSend,
        objj_msgSendSuper_profile_saved = objj_msgSendSuper;
    objj_msgSend = objj_msgSend_Profile;
    objj_msgSendSuper = objj_msgSendSuper_Profile;
    var root = { calls: [] };
    objj_debug_profile = root;
    var context = {
        start : new Date(),
        title : title,
        profile : root
    };
    objj_profile_cleanup = function() {
        objj_msgSend = objj_msgSend_profile_saved;
        objj_msgSendSuper = objj_msgSendSuper_profile_saved;
        context.end = new Date();
        return context;
    }
    objj_currently_profiling = true;
}
function objj_profileEnd()
{
    if (!objj_currently_profiling)
        return;
    objj_debug_profile = null;
    objj_currently_profiling = false;
    return objj_profile_cleanup();
}



            objj_import("main.j", YES, function() { main(); });
            
            window.files_total = 2276858;
            window.iconHeight = 256;
            
            window.update_progress = function(percent)
            {
                var value = MAX(MIN(percent-0.05, 1), 0),
                    progress = document.getElementById("progress"),
                    progressValue = document.getElementById("progressValue");
                    
                if (progress)
                {
                    progress.style.height = FLOOR(value * window.iconHeight) + "px";
                    progress.style.top = -1 * FLOOR(value * window.iconHeight) + "px";
                }
                
                if (progressValue)
                    progressValue.innerHTML = "Loading: "+ROUND((value+0.05)*100)+"%";
            }
</script>


<script id="ball-pool" type="x">
/* Based on Alex Arnell's inheritance implementation. */
var Class = {
  create: function() {
    var parent = null, properties = $A(arguments);
    if (Object.isFunction(properties[0]))
      parent = properties.shift();

    function klass() {
      this.initialize.apply(this, arguments);
    }

    Object.extend(klass, Class.Methods);
    klass.superclass = parent;
    klass.subclasses = [];

    if (parent) {
      var subclass = function() { };
      subclass.prototype = parent.prototype;
      klass.prototype = new subclass;
      parent.subclasses.push(klass);
    }

    for (var i = 0; i < properties.length; i++)
      klass.addMethods(properties[i]);

    if (!klass.prototype.initialize)
      klass.prototype.initialize = this.emptyFunction;

    klass.prototype.constructor = klass;

    return klass;
  },
  emptyFunction:function () {},

};

Class.Methods = {
  addMethods: function(source) {
    var ancestor   = this.superclass && this.superclass.prototype;
    var properties = Object.keys(source);

    if (!Object.keys({ toString: true }).length)
      properties.push("toString", "valueOf");

    for (var i = 0, length = properties.length; i < length; i++) {
      var property = properties[i], value = source[property];
      if (ancestor && Object.isFunction(value) &&
          value.argumentNames().first() == "$super") {
        var method = value, value = Object.extend((function(m) {
          return function() { return ancestor[m].apply(this, arguments) };
        })(property).wrap(method), {
          valueOf:  function() { return method },
          toString: function() { return method.toString() }
        });
      }
      this.prototype[property] = value;
    }

    return this;
  }
};

Object.extend = function(destination, source) {
  for (var property in source)
    destination[property] = source[property];
  return destination;
};

Object.extend(Object, {
  inspect: function(object) {
    try {
      if (Object.isUndefined(object)) return 'undefined';
      if (object === null) return 'null';
      return object.inspect ? object.inspect() : String(object);
    } catch (e) {
      if (e instanceof RangeError) return '...';
      throw e;
    }
  },

  toJSON: function(object) {
    var type = typeof object;
    switch (type) {
      case 'undefined':
      case 'function':
      case 'unknown': return;
      case 'boolean': return object.toString();
    }

    if (object === null) return 'null';
    if (object.toJSON) return object.toJSON();
    if (Object.isElement(object)) return;

    var results = [];
    for (var property in object) {
      var value = Object.toJSON(object[property]);
      if (!Object.isUndefined(value))
        results.push(property.toJSON() + ': ' + value);
    }

    return '{' + results.join(', ') + '}';
  },

  toQueryString: function(object) {
    return $H(object).toQueryString();
  },

  toHTML: function(object) {
    return object && object.toHTML ? object.toHTML() : String.interpret(object);
  },

  keys: function(object) {
    var keys = [];
    for (var property in object)
      keys.push(property);
    return keys;
  },

  values: function(object) {
    var values = [];
    for (var property in object)
      values.push(object[property]);
    return values;
  },

  clone: function(object) {
    return Object.extend({ }, object);
  },

  isElement: function(object) {
    return object && object.nodeType == 1;
  },

  isArray: function(object) {
    return object != null && typeof object == "object" &&
      'splice' in object && 'join' in object;
  },

  isHash: function(object) {
    return object instanceof Hash;
  },

  isFunction: function(object) {
    return typeof object == "function";
  },

  isString: function(object) {
    return typeof object == "string";
  },

  isNumber: function(object) {
    return typeof object == "number";
  },

  isUndefined: function(object) {
    return typeof object == "undefined";
  }
});

function $A(iterable) {
  if (!iterable) return [];
  if (iterable.toArray) return iterable.toArray();
  var length = iterable.length || 0, results = new Array(length);
  while (length--) results[length] = iterable[length];
  return results;
}

if (WebKit = navigator.userAgent.indexOf('AppleWebKit/') > -1) {
  $A = function(iterable) {
    if (!iterable) return [];
    if (!(Object.isFunction(iterable) && iterable == '[object NodeList]') &&
        iterable.toArray) return iterable.toArray();
    var length = iterable.length || 0, results = new Array(length);
    while (length--) results[length] = iterable[length];
    return results;
  };
}



/* 
 * Box2Djs (port of Box2DFlash 1.4.3.1) - http://box2d-js.sourceforge.net/
 * Single-filed and jsmined ( http://code.google.com/p/jsmin-php/ ) by Mr.doob
 */

var b2Settings=Class.create();b2Settings.prototype={initialize:function(){}}
b2Settings.USHRT_MAX=0x0000ffff;b2Settings.b2_pi=Math.PI;b2Settings.b2_massUnitsPerKilogram=1.0;b2Settings.b2_timeUnitsPerSecond=1.0;b2Settings.b2_lengthUnitsPerMeter=30.0;b2Settings.b2_maxManifoldPoints=2;b2Settings.b2_maxShapesPerBody=64;b2Settings.b2_maxPolyVertices=8;b2Settings.b2_maxProxies=1024;b2Settings.b2_maxPairs=8*b2Settings.b2_maxProxies;b2Settings.b2_linearSlop=0.005*b2Settings.b2_lengthUnitsPerMeter;b2Settings.b2_angularSlop=2.0/180.0*b2Settings.b2_pi;b2Settings.b2_velocityThreshold=1.0*b2Settings.b2_lengthUnitsPerMeter/b2Settings.b2_timeUnitsPerSecond;b2Settings.b2_maxLinearCorrection=0.2*b2Settings.b2_lengthUnitsPerMeter;b2Settings.b2_maxAngularCorrection=8.0/180.0*b2Settings.b2_pi;b2Settings.b2_contactBaumgarte=0.2;b2Settings.b2_timeToSleep=0.5*b2Settings.b2_timeUnitsPerSecond;b2Settings.b2_linearSleepTolerance=0.01*b2Settings.b2_lengthUnitsPerMeter/b2Settings.b2_timeUnitsPerSecond;b2Settings.b2_angularSleepTolerance=2.0/180.0/b2Settings.b2_timeUnitsPerSecond;b2Settings.b2Assert=function(a)
{if(!a){var nullVec;nullVec.x++;}};
var b2Vec2=Class.create();b2Vec2.prototype={initialize:function(x_,y_){this.x=x_;this.y=y_;},SetZero:function(){this.x=0.0;this.y=0.0;},Set:function(x_,y_){this.x=x_;this.y=y_;},SetV:function(v){this.x=v.x;this.y=v.y;},Negative:function(){return new b2Vec2(-this.x,-this.y);},Copy:function(){return new b2Vec2(this.x,this.y);},Add:function(v)
{this.x+=v.x;this.y+=v.y;},Subtract:function(v)
{this.x-=v.x;this.y-=v.y;},Multiply:function(a)
{this.x*=a;this.y*=a;},MulM:function(A)
{var tX=this.x;this.x=A.col1.x*tX+A.col2.x*this.y;this.y=A.col1.y*tX+A.col2.y*this.y;},MulTM:function(A)
{var tX=b2Math.b2Dot(this,A.col1);this.y=b2Math.b2Dot(this,A.col2);this.x=tX;},CrossVF:function(s)
{var tX=this.x;this.x=s*this.y;this.y=-s*tX;},CrossFV:function(s)
{var tX=this.x;this.x=-s*this.y;this.y=s*tX;},MinV:function(b)
{this.x=this.x<b.x?this.x:b.x;this.y=this.y<b.y?this.y:b.y;},MaxV:function(b)
{this.x=this.x>b.x?this.x:b.x;this.y=this.y>b.y?this.y:b.y;},Abs:function()
{this.x=Math.abs(this.x);this.y=Math.abs(this.y);},Length:function()
{return Math.sqrt(this.x*this.x+this.y*this.y);},Normalize:function()
{var length=this.Length();if(length<Number.MIN_VALUE)
{return 0.0;}
var invLength=1.0/length;this.x*=invLength;this.y*=invLength;return length;},IsValid:function()
{return b2Math.b2IsValid(this.x)&&b2Math.b2IsValid(this.y);},x:null,y:null};b2Vec2.Make=function(x_,y_)
{return new b2Vec2(x_,y_);};
var b2Mat22=Class.create();b2Mat22.prototype={initialize:function(angle,c1,c2)
{if(angle==null)angle=0;this.col1=new b2Vec2();this.col2=new b2Vec2();if(c1!=null&&c2!=null){this.col1.SetV(c1);this.col2.SetV(c2);}
else{var c=Math.cos(angle);var s=Math.sin(angle);this.col1.x=c;this.col2.x=-s;this.col1.y=s;this.col2.y=c;}},Set:function(angle)
{var c=Math.cos(angle);var s=Math.sin(angle);this.col1.x=c;this.col2.x=-s;this.col1.y=s;this.col2.y=c;},SetVV:function(c1,c2)
{this.col1.SetV(c1);this.col2.SetV(c2);},Copy:function(){return new b2Mat22(0,this.col1,this.col2);},SetM:function(m)
{this.col1.SetV(m.col1);this.col2.SetV(m.col2);},AddM:function(m)
{this.col1.x+=m.col1.x;this.col1.y+=m.col1.y;this.col2.x+=m.col2.x;this.col2.y+=m.col2.y;},SetIdentity:function()
{this.col1.x=1.0;this.col2.x=0.0;this.col1.y=0.0;this.col2.y=1.0;},SetZero:function()
{this.col1.x=0.0;this.col2.x=0.0;this.col1.y=0.0;this.col2.y=0.0;},Invert:function(out)
{var a=this.col1.x;var b=this.col2.x;var c=this.col1.y;var d=this.col2.y;var det=a*d-b*c;det=1.0/det;out.col1.x=det*d;out.col2.x=-det*b;out.col1.y=-det*c;out.col2.y=det*a;return out;},Solve:function(out,bX,bY)
{var a11=this.col1.x;var a12=this.col2.x;var a21=this.col1.y;var a22=this.col2.y;var det=a11*a22-a12*a21;det=1.0/det;out.x=det*(a22*bX-a12*bY);out.y=det*(a11*bY-a21*bX);return out;},Abs:function()
{this.col1.Abs();this.col2.Abs();},col1:new b2Vec2(),col2:new b2Vec2()};
var b2Math=Class.create();b2Math.prototype={initialize:function(){}}
b2Math.b2IsValid=function(x)
{return isFinite(x);};b2Math.b2Dot=function(a,b)
{return a.x*b.x+a.y*b.y;};b2Math.b2CrossVV=function(a,b)
{return a.x*b.y-a.y*b.x;};b2Math.b2CrossVF=function(a,s)
{var v=new b2Vec2(s*a.y,-s*a.x);return v;};b2Math.b2CrossFV=function(s,a)
{var v=new b2Vec2(-s*a.y,s*a.x);return v;};b2Math.b2MulMV=function(A,v)
{var u=new b2Vec2(A.col1.x*v.x+A.col2.x*v.y,A.col1.y*v.x+A.col2.y*v.y);return u;};b2Math.b2MulTMV=function(A,v)
{var u=new b2Vec2(b2Math.b2Dot(v,A.col1),b2Math.b2Dot(v,A.col2));return u;};b2Math.AddVV=function(a,b)
{var v=new b2Vec2(a.x+b.x,a.y+b.y);return v;};b2Math.SubtractVV=function(a,b)
{var v=new b2Vec2(a.x-b.x,a.y-b.y);return v;};b2Math.MulFV=function(s,a)
{var v=new b2Vec2(s*a.x,s*a.y);return v;};b2Math.AddMM=function(A,B)
{var C=new b2Mat22(0,b2Math.AddVV(A.col1,B.col1),b2Math.AddVV(A.col2,B.col2));return C;};b2Math.b2MulMM=function(A,B)
{var C=new b2Mat22(0,b2Math.b2MulMV(A,B.col1),b2Math.b2MulMV(A,B.col2));return C;};b2Math.b2MulTMM=function(A,B)
{var c1=new b2Vec2(b2Math.b2Dot(A.col1,B.col1),b2Math.b2Dot(A.col2,B.col1));var c2=new b2Vec2(b2Math.b2Dot(A.col1,B.col2),b2Math.b2Dot(A.col2,B.col2));var C=new b2Mat22(0,c1,c2);return C;};b2Math.b2Abs=function(a)
{return a>0.0?a:-a;};b2Math.b2AbsV=function(a)
{var b=new b2Vec2(b2Math.b2Abs(a.x),b2Math.b2Abs(a.y));return b;};b2Math.b2AbsM=function(A)
{var B=new b2Mat22(0,b2Math.b2AbsV(A.col1),b2Math.b2AbsV(A.col2));return B;};b2Math.b2Min=function(a,b)
{return a<b?a:b;};b2Math.b2MinV=function(a,b)
{var c=new b2Vec2(b2Math.b2Min(a.x,b.x),b2Math.b2Min(a.y,b.y));return c;};b2Math.b2Max=function(a,b)
{return a>b?a:b;};b2Math.b2MaxV=function(a,b)
{var c=new b2Vec2(b2Math.b2Max(a.x,b.x),b2Math.b2Max(a.y,b.y));return c;};b2Math.b2Clamp=function(a,low,high)
{return b2Math.b2Max(low,b2Math.b2Min(a,high));};b2Math.b2ClampV=function(a,low,high)
{return b2Math.b2MaxV(low,b2Math.b2MinV(a,high));};b2Math.b2Swap=function(a,b)
{var tmp=a[0];a[0]=b[0];b[0]=tmp;};b2Math.b2Random=function()
{return Math.random()*2-1;};b2Math.b2NextPowerOfTwo=function(x)
{x|=(x>>1)&0x7FFFFFFF;x|=(x>>2)&0x3FFFFFFF;x|=(x>>4)&0x0FFFFFFF;x|=(x>>8)&0x00FFFFFF;x|=(x>>16)&0x0000FFFF;return x+1;};b2Math.b2IsPowerOfTwo=function(x)
{var result=x>0&&(x&(x-1))==0;return result;};b2Math.tempVec2=new b2Vec2();b2Math.tempVec3=new b2Vec2();b2Math.tempVec4=new b2Vec2();b2Math.tempVec5=new b2Vec2();b2Math.tempMat=new b2Mat22();
var b2AABB=Class.create();b2AABB.prototype={IsValid:function(){var dX=this.maxVertex.x;var dY=this.maxVertex.y;dX=this.maxVertex.x;dY=this.maxVertex.y;dX-=this.minVertex.x;dY-=this.minVertex.y;var valid=dX>=0.0&&dY>=0.0;valid=valid&&this.minVertex.IsValid()&&this.maxVertex.IsValid();return valid;},minVertex:new b2Vec2(),maxVertex:new b2Vec2(),initialize:function(){this.minVertex=new b2Vec2();this.maxVertex=new b2Vec2();}};
var b2Bound=Class.create();b2Bound.prototype={IsLower:function(){return(this.value&1)==0;},IsUpper:function(){return(this.value&1)==1;},Swap:function(b){var tempValue=this.value;var tempProxyId=this.proxyId;var tempStabbingCount=this.stabbingCount;this.value=b.value;this.proxyId=b.proxyId;this.stabbingCount=b.stabbingCount;b.value=tempValue;b.proxyId=tempProxyId;b.stabbingCount=tempStabbingCount;},value:0,proxyId:0,stabbingCount:0,initialize:function(){}}

var b2BoundValues=Class.create();b2BoundValues.prototype={lowerValues:[0,0],upperValues:[0,0],initialize:function(){this.lowerValues=[0,0];this.upperValues=[0,0];}}

var b2Pair=Class.create();b2Pair.prototype={SetBuffered:function(){this.status|=b2Pair.e_pairBuffered;},ClearBuffered:function(){this.status&=~b2Pair.e_pairBuffered;},IsBuffered:function(){return(this.status&b2Pair.e_pairBuffered)==b2Pair.e_pairBuffered;},SetRemoved:function(){this.status|=b2Pair.e_pairRemoved;},ClearRemoved:function(){this.status&=~b2Pair.e_pairRemoved;},IsRemoved:function(){return(this.status&b2Pair.e_pairRemoved)==b2Pair.e_pairRemoved;},SetFinal:function(){this.status|=b2Pair.e_pairFinal;},IsFinal:function(){return(this.status&b2Pair.e_pairFinal)==b2Pair.e_pairFinal;},userData:null,proxyId1:0,proxyId2:0,next:0,status:0,initialize:function(){}};b2Pair.b2_nullPair=b2Settings.USHRT_MAX;b2Pair.b2_nullProxy=b2Settings.USHRT_MAX;b2Pair.b2_tableCapacity=b2Settings.b2_maxPairs;b2Pair.b2_tableMask=b2Pair.b2_tableCapacity-1;b2Pair.e_pairBuffered=0x0001;b2Pair.e_pairRemoved=0x0002;b2Pair.e_pairFinal=0x0004;
var b2PairCallback=Class.create();b2PairCallback.prototype={PairAdded:function(proxyUserData1,proxyUserData2){return null},PairRemoved:function(proxyUserData1,proxyUserData2,pairUserData){},initialize:function(){}};
var b2BufferedPair=Class.create();b2BufferedPair.prototype={proxyId1:0,proxyId2:0,initialize:function(){}}

var b2PairManager=Class.create();b2PairManager.prototype={initialize:function(){var i=0;this.m_hashTable=new Array(b2Pair.b2_tableCapacity);for(i=0;i<b2Pair.b2_tableCapacity;++i)
{this.m_hashTable[i]=b2Pair.b2_nullPair;}
this.m_pairs=new Array(b2Settings.b2_maxPairs);for(i=0;i<b2Settings.b2_maxPairs;++i)
{this.m_pairs[i]=new b2Pair();}
this.m_pairBuffer=new Array(b2Settings.b2_maxPairs);for(i=0;i<b2Settings.b2_maxPairs;++i)
{this.m_pairBuffer[i]=new b2BufferedPair();}
for(i=0;i<b2Settings.b2_maxPairs;++i)
{this.m_pairs[i].proxyId1=b2Pair.b2_nullProxy;this.m_pairs[i].proxyId2=b2Pair.b2_nullProxy;this.m_pairs[i].userData=null;this.m_pairs[i].status=0;this.m_pairs[i].next=(i+1);}
this.m_pairs[b2Settings.b2_maxPairs-1].next=b2Pair.b2_nullPair;this.m_pairCount=0;},Initialize:function(broadPhase,callback){this.m_broadPhase=broadPhase;this.m_callback=callback;},AddBufferedPair:function(proxyId1,proxyId2){var pair=this.AddPair(proxyId1,proxyId2);if(pair.IsBuffered()==false)
{pair.SetBuffered();this.m_pairBuffer[this.m_pairBufferCount].proxyId1=pair.proxyId1;this.m_pairBuffer[this.m_pairBufferCount].proxyId2=pair.proxyId2;++this.m_pairBufferCount;}
pair.ClearRemoved();if(b2BroadPhase.s_validate)
{this.ValidateBuffer();}},RemoveBufferedPair:function(proxyId1,proxyId2){var pair=this.Find(proxyId1,proxyId2);if(pair==null)
{return;}
if(pair.IsBuffered()==false)
{pair.SetBuffered();this.m_pairBuffer[this.m_pairBufferCount].proxyId1=pair.proxyId1;this.m_pairBuffer[this.m_pairBufferCount].proxyId2=pair.proxyId2;++this.m_pairBufferCount;}
pair.SetRemoved();if(b2BroadPhase.s_validate)
{this.ValidateBuffer();}},Commit:function(){var i=0;var removeCount=0;var proxies=this.m_broadPhase.m_proxyPool;for(i=0;i<this.m_pairBufferCount;++i)
{var pair=this.Find(this.m_pairBuffer[i].proxyId1,this.m_pairBuffer[i].proxyId2);pair.ClearBuffered();var proxy1=proxies[pair.proxyId1];var proxy2=proxies[pair.proxyId2];if(pair.IsRemoved())
{if(pair.IsFinal()==true)
{this.m_callback.PairRemoved(proxy1.userData,proxy2.userData,pair.userData);}
this.m_pairBuffer[removeCount].proxyId1=pair.proxyId1;this.m_pairBuffer[removeCount].proxyId2=pair.proxyId2;++removeCount;}
else
{if(pair.IsFinal()==false)
{pair.userData=this.m_callback.PairAdded(proxy1.userData,proxy2.userData);pair.SetFinal();}}}
for(i=0;i<removeCount;++i)
{this.RemovePair(this.m_pairBuffer[i].proxyId1,this.m_pairBuffer[i].proxyId2);}
this.m_pairBufferCount=0;if(b2BroadPhase.s_validate)
{this.ValidateTable();}},AddPair:function(proxyId1,proxyId2){if(proxyId1>proxyId2){var temp=proxyId1;proxyId1=proxyId2;proxyId2=temp;}
var hash=b2PairManager.Hash(proxyId1,proxyId2)&b2Pair.b2_tableMask;var pair=pair=this.FindHash(proxyId1,proxyId2,hash);if(pair!=null)
{return pair;}
var pIndex=this.m_freePair;pair=this.m_pairs[pIndex];this.m_freePair=pair.next;pair.proxyId1=proxyId1;pair.proxyId2=proxyId2;pair.status=0;pair.userData=null;pair.next=this.m_hashTable[hash];this.m_hashTable[hash]=pIndex;++this.m_pairCount;return pair;},RemovePair:function(proxyId1,proxyId2){if(proxyId1>proxyId2){var temp=proxyId1;proxyId1=proxyId2;proxyId2=temp;}
var hash=b2PairManager.Hash(proxyId1,proxyId2)&b2Pair.b2_tableMask;var node=this.m_hashTable[hash];var pNode=null;while(node!=b2Pair.b2_nullPair)
{if(b2PairManager.Equals(this.m_pairs[node],proxyId1,proxyId2))
{var index=node;if(pNode){pNode.next=this.m_pairs[node].next;}
else{this.m_hashTable[hash]=this.m_pairs[node].next;}
var pair=this.m_pairs[index];var userData=pair.userData;pair.next=this.m_freePair;pair.proxyId1=b2Pair.b2_nullProxy;pair.proxyId2=b2Pair.b2_nullProxy;pair.userData=null;pair.status=0;this.m_freePair=index;--this.m_pairCount;return userData;}
else
{pNode=this.m_pairs[node];node=pNode.next;}}
return null;},Find:function(proxyId1,proxyId2){if(proxyId1>proxyId2){var temp=proxyId1;proxyId1=proxyId2;proxyId2=temp;}
var hash=b2PairManager.Hash(proxyId1,proxyId2)&b2Pair.b2_tableMask;return this.FindHash(proxyId1,proxyId2,hash);},FindHash:function(proxyId1,proxyId2,hash){var index=this.m_hashTable[hash];while(index!=b2Pair.b2_nullPair&&b2PairManager.Equals(this.m_pairs[index],proxyId1,proxyId2)==false)
{index=this.m_pairs[index].next;}
if(index==b2Pair.b2_nullPair)
{return null;}
return this.m_pairs[index];},ValidateBuffer:function(){},ValidateTable:function(){},m_broadPhase:null,m_callback:null,m_pairs:null,m_freePair:0,m_pairCount:0,m_pairBuffer:null,m_pairBufferCount:0,m_hashTable:null};b2PairManager.Hash=function(proxyId1,proxyId2)
{var key=((proxyId2<<16)&0xffff0000)|proxyId1;key=~key+((key<<15)&0xFFFF8000);key=key^((key>>12)&0x000fffff);key=key+((key<<2)&0xFFFFFFFC);key=key^((key>>4)&0x0fffffff);key=key*2057;key=key^((key>>16)&0x0000ffff);return key;};b2PairManager.Equals=function(pair,proxyId1,proxyId2)
{return(pair.proxyId1==proxyId1&&pair.proxyId2==proxyId2);};b2PairManager.EqualsPair=function(pair1,pair2)
{return pair1.proxyId1==pair2.proxyId1&&pair1.proxyId2==pair2.proxyId2;};
var b2BroadPhase=Class.create();b2BroadPhase.prototype={initialize:function(worldAABB,callback){this.m_pairManager=new b2PairManager();this.m_proxyPool=new Array(b2Settings.b2_maxPairs);this.m_bounds=new Array(2*b2Settings.b2_maxProxies);this.m_queryResults=new Array(b2Settings.b2_maxProxies);this.m_quantizationFactor=new b2Vec2();var i=0;this.m_pairManager.Initialize(this,callback);this.m_worldAABB=worldAABB;this.m_proxyCount=0;for(i=0;i<b2Settings.b2_maxProxies;i++){this.m_queryResults[i]=0;}
this.m_bounds=new Array(2);for(i=0;i<2;i++){this.m_bounds[i]=new Array(2*b2Settings.b2_maxProxies);for(var j=0;j<2*b2Settings.b2_maxProxies;j++){this.m_bounds[i][j]=new b2Bound();}}
var dX=worldAABB.maxVertex.x;var dY=worldAABB.maxVertex.y;dX-=worldAABB.minVertex.x;dY-=worldAABB.minVertex.y;this.m_quantizationFactor.x=b2Settings.USHRT_MAX/dX;this.m_quantizationFactor.y=b2Settings.USHRT_MAX/dY;var tProxy;for(i=0;i<b2Settings.b2_maxProxies-1;++i)
{tProxy=new b2Proxy();this.m_proxyPool[i]=tProxy;tProxy.SetNext(i+1);tProxy.timeStamp=0;tProxy.overlapCount=b2BroadPhase.b2_invalid;tProxy.userData=null;}
tProxy=new b2Proxy();this.m_proxyPool[b2Settings.b2_maxProxies-1]=tProxy;tProxy.SetNext(b2Pair.b2_nullProxy);tProxy.timeStamp=0;tProxy.overlapCount=b2BroadPhase.b2_invalid;tProxy.userData=null;this.m_freeProxy=0;this.m_timeStamp=1;this.m_queryResultCount=0;},InRange:function(aabb){var dX;var dY;var d2X;var d2Y;dX=aabb.minVertex.x;dY=aabb.minVertex.y;dX-=this.m_worldAABB.maxVertex.x;dY-=this.m_worldAABB.maxVertex.y;d2X=this.m_worldAABB.minVertex.x;d2Y=this.m_worldAABB.minVertex.y;d2X-=aabb.maxVertex.x;d2Y-=aabb.maxVertex.y;dX=b2Math.b2Max(dX,d2X);dY=b2Math.b2Max(dY,d2Y);return b2Math.b2Max(dX,dY)<0.0;},GetProxy:function(proxyId){if(proxyId==b2Pair.b2_nullProxy||this.m_proxyPool[proxyId].IsValid()==false)
{return null;}
return this.m_proxyPool[proxyId];},CreateProxy:function(aabb,userData){var index=0;var proxy;var proxyId=this.m_freeProxy;proxy=this.m_proxyPool[proxyId];this.m_freeProxy=proxy.GetNext();proxy.overlapCount=0;proxy.userData=userData;var boundCount=2*this.m_proxyCount;var lowerValues=new Array();var upperValues=new Array();this.ComputeBounds(lowerValues,upperValues,aabb);for(var axis=0;axis<2;++axis)
{var bounds=this.m_bounds[axis];var lowerIndex=0;var upperIndex=0;var lowerIndexOut=[lowerIndex];var upperIndexOut=[upperIndex];this.Query(lowerIndexOut,upperIndexOut,lowerValues[axis],upperValues[axis],bounds,boundCount,axis);lowerIndex=lowerIndexOut[0];upperIndex=upperIndexOut[0];var tArr=new Array();var j=0;var tEnd=boundCount-upperIndex
var tBound1;var tBound2;for(j=0;j<tEnd;j++){tArr[j]=new b2Bound();tBound1=tArr[j];tBound2=bounds[upperIndex+j];tBound1.value=tBound2.value;tBound1.proxyId=tBound2.proxyId;tBound1.stabbingCount=tBound2.stabbingCount;}
tEnd=tArr.length;var tIndex=upperIndex+2;for(j=0;j<tEnd;j++){tBound2=tArr[j];tBound1=bounds[tIndex+j]
tBound1.value=tBound2.value;tBound1.proxyId=tBound2.proxyId;tBound1.stabbingCount=tBound2.stabbingCount;}
tArr=new Array();tEnd=upperIndex-lowerIndex;for(j=0;j<tEnd;j++){tArr[j]=new b2Bound();tBound1=tArr[j];tBound2=bounds[lowerIndex+j];tBound1.value=tBound2.value;tBound1.proxyId=tBound2.proxyId;tBound1.stabbingCount=tBound2.stabbingCount;}
tEnd=tArr.length;tIndex=lowerIndex+1;for(j=0;j<tEnd;j++){tBound2=tArr[j];tBound1=bounds[tIndex+j]
tBound1.value=tBound2.value;tBound1.proxyId=tBound2.proxyId;tBound1.stabbingCount=tBound2.stabbingCount;}
++upperIndex;bounds[lowerIndex].value=lowerValues[axis];bounds[lowerIndex].proxyId=proxyId;bounds[upperIndex].value=upperValues[axis];bounds[upperIndex].proxyId=proxyId;bounds[lowerIndex].stabbingCount=lowerIndex==0?0:bounds[lowerIndex-1].stabbingCount;bounds[upperIndex].stabbingCount=bounds[upperIndex-1].stabbingCount;for(index=lowerIndex;index<upperIndex;++index)
{bounds[index].stabbingCount++;}
for(index=lowerIndex;index<boundCount+2;++index)
{var proxy2=this.m_proxyPool[bounds[index].proxyId];if(bounds[index].IsLower())
{proxy2.lowerBounds[axis]=index;}
else
{proxy2.upperBounds[axis]=index;}}}
++this.m_proxyCount;for(var i=0;i<this.m_queryResultCount;++i)
{this.m_pairManager.AddBufferedPair(proxyId,this.m_queryResults[i]);}
this.m_pairManager.Commit();this.m_queryResultCount=0;this.IncrementTimeStamp();return proxyId;},DestroyProxy:function(proxyId){var proxy=this.m_proxyPool[proxyId];var boundCount=2*this.m_proxyCount;for(var axis=0;axis<2;++axis)
{var bounds=this.m_bounds[axis];var lowerIndex=proxy.lowerBounds[axis];var upperIndex=proxy.upperBounds[axis];var lowerValue=bounds[lowerIndex].value;var upperValue=bounds[upperIndex].value;var tArr=new Array();var j=0;var tEnd=upperIndex-lowerIndex-1;var tBound1;var tBound2;for(j=0;j<tEnd;j++){tArr[j]=new b2Bound();tBound1=tArr[j];tBound2=bounds[lowerIndex+1+j];tBound1.value=tBound2.value;tBound1.proxyId=tBound2.proxyId;tBound1.stabbingCount=tBound2.stabbingCount;}
tEnd=tArr.length;var tIndex=lowerIndex;for(j=0;j<tEnd;j++){tBound2=tArr[j];tBound1=bounds[tIndex+j]
tBound1.value=tBound2.value;tBound1.proxyId=tBound2.proxyId;tBound1.stabbingCount=tBound2.stabbingCount;}
tArr=new Array();tEnd=boundCount-upperIndex-1;for(j=0;j<tEnd;j++){tArr[j]=new b2Bound();tBound1=tArr[j];tBound2=bounds[upperIndex+1+j];tBound1.value=tBound2.value;tBound1.proxyId=tBound2.proxyId;tBound1.stabbingCount=tBound2.stabbingCount;}
tEnd=tArr.length;tIndex=upperIndex-1;for(j=0;j<tEnd;j++){tBound2=tArr[j];tBound1=bounds[tIndex+j]
tBound1.value=tBound2.value;tBound1.proxyId=tBound2.proxyId;tBound1.stabbingCount=tBound2.stabbingCount;}
tEnd=boundCount-2;for(var index=lowerIndex;index<tEnd;++index)
{var proxy2=this.m_proxyPool[bounds[index].proxyId];if(bounds[index].IsLower())
{proxy2.lowerBounds[axis]=index;}
else
{proxy2.upperBounds[axis]=index;}}
tEnd=upperIndex-1;for(var index2=lowerIndex;index2<tEnd;++index2)
{bounds[index2].stabbingCount--;}
this.Query([0],[0],lowerValue,upperValue,bounds,boundCount-2,axis);}
for(var i=0;i<this.m_queryResultCount;++i)
{this.m_pairManager.RemoveBufferedPair(proxyId,this.m_queryResults[i]);}
this.m_pairManager.Commit();this.m_queryResultCount=0;this.IncrementTimeStamp();proxy.userData=null;proxy.overlapCount=b2BroadPhase.b2_invalid;proxy.lowerBounds[0]=b2BroadPhase.b2_invalid;proxy.lowerBounds[1]=b2BroadPhase.b2_invalid;proxy.upperBounds[0]=b2BroadPhase.b2_invalid;proxy.upperBounds[1]=b2BroadPhase.b2_invalid;proxy.SetNext(this.m_freeProxy);this.m_freeProxy=proxyId;--this.m_proxyCount;},MoveProxy:function(proxyId,aabb){var axis=0;var index=0;var bound;var prevBound
var nextBound
var nextProxyId=0;var nextProxy;if(proxyId==b2Pair.b2_nullProxy||b2Settings.b2_maxProxies<=proxyId)
{return;}
if(aabb.IsValid()==false)
{return;}
var boundCount=2*this.m_proxyCount;var proxy=this.m_proxyPool[proxyId];var newValues=new b2BoundValues();this.ComputeBounds(newValues.lowerValues,newValues.upperValues,aabb);var oldValues=new b2BoundValues();for(axis=0;axis<2;++axis)
{oldValues.lowerValues[axis]=this.m_bounds[axis][proxy.lowerBounds[axis]].value;oldValues.upperValues[axis]=this.m_bounds[axis][proxy.upperBounds[axis]].value;}
for(axis=0;axis<2;++axis)
{var bounds=this.m_bounds[axis];var lowerIndex=proxy.lowerBounds[axis];var upperIndex=proxy.upperBounds[axis];var lowerValue=newValues.lowerValues[axis];var upperValue=newValues.upperValues[axis];var deltaLower=lowerValue-bounds[lowerIndex].value;var deltaUpper=upperValue-bounds[upperIndex].value;bounds[lowerIndex].value=lowerValue;bounds[upperIndex].value=upperValue;if(deltaLower<0)
{index=lowerIndex;while(index>0&&lowerValue<bounds[index-1].value)
{bound=bounds[index];prevBound=bounds[index-1];var prevProxyId=prevBound.proxyId;var prevProxy=this.m_proxyPool[prevBound.proxyId];prevBound.stabbingCount++;if(prevBound.IsUpper()==true)
{if(this.TestOverlap(newValues,prevProxy))
{this.m_pairManager.AddBufferedPair(proxyId,prevProxyId);}
prevProxy.upperBounds[axis]++;bound.stabbingCount++;}
else
{prevProxy.lowerBounds[axis]++;bound.stabbingCount--;}
proxy.lowerBounds[axis]--;bound.Swap(prevBound);--index;}}
if(deltaUpper>0)
{index=upperIndex;while(index<boundCount-1&&bounds[index+1].value<=upperValue)
{bound=bounds[index];nextBound=bounds[index+1];nextProxyId=nextBound.proxyId;nextProxy=this.m_proxyPool[nextProxyId];nextBound.stabbingCount++;if(nextBound.IsLower()==true)
{if(this.TestOverlap(newValues,nextProxy))
{this.m_pairManager.AddBufferedPair(proxyId,nextProxyId);}
nextProxy.lowerBounds[axis]--;bound.stabbingCount++;}
else
{nextProxy.upperBounds[axis]--;bound.stabbingCount--;}
proxy.upperBounds[axis]++;bound.Swap(nextBound);index++;}}
if(deltaLower>0)
{index=lowerIndex;while(index<boundCount-1&&bounds[index+1].value<=lowerValue)
{bound=bounds[index];nextBound=bounds[index+1];nextProxyId=nextBound.proxyId;nextProxy=this.m_proxyPool[nextProxyId];nextBound.stabbingCount--;if(nextBound.IsUpper())
{if(this.TestOverlap(oldValues,nextProxy))
{this.m_pairManager.RemoveBufferedPair(proxyId,nextProxyId);}
nextProxy.upperBounds[axis]--;bound.stabbingCount--;}
else
{nextProxy.lowerBounds[axis]--;bound.stabbingCount++;}
proxy.lowerBounds[axis]++;bound.Swap(nextBound);index++;}}
if(deltaUpper<0)
{index=upperIndex;while(index>0&&upperValue<bounds[index-1].value)
{bound=bounds[index];prevBound=bounds[index-1];prevProxyId=prevBound.proxyId;prevProxy=this.m_proxyPool[prevProxyId];prevBound.stabbingCount--;if(prevBound.IsLower()==true)
{if(this.TestOverlap(oldValues,prevProxy))
{this.m_pairManager.RemoveBufferedPair(proxyId,prevProxyId);}
prevProxy.lowerBounds[axis]++;bound.stabbingCount--;}
else
{prevProxy.upperBounds[axis]++;bound.stabbingCount++;}
proxy.upperBounds[axis]--;bound.Swap(prevBound);index--;}}}},Commit:function(){this.m_pairManager.Commit();},QueryAABB:function(aabb,userData,maxCount){var lowerValues=new Array();var upperValues=new Array();this.ComputeBounds(lowerValues,upperValues,aabb);var lowerIndex=0;var upperIndex=0;var lowerIndexOut=[lowerIndex];var upperIndexOut=[upperIndex];this.Query(lowerIndexOut,upperIndexOut,lowerValues[0],upperValues[0],this.m_bounds[0],2*this.m_proxyCount,0);this.Query(lowerIndexOut,upperIndexOut,lowerValues[1],upperValues[1],this.m_bounds[1],2*this.m_proxyCount,1);var count=0;for(var i=0;i<this.m_queryResultCount&&count<maxCount;++i,++count)
{var proxy=this.m_proxyPool[this.m_queryResults[i]];userData[i]=proxy.userData;}
this.m_queryResultCount=0;this.IncrementTimeStamp();return count;},Validate:function(){var pair;var proxy1;var proxy2;var overlap;for(var axis=0;axis<2;++axis)
{var bounds=this.m_bounds[axis];var boundCount=2*this.m_proxyCount;var stabbingCount=0;for(var i=0;i<boundCount;++i)
{var bound=bounds[i];if(bound.IsLower()==true)
{stabbingCount++;}
else
{stabbingCount--;}}}},ComputeBounds:function(lowerValues,upperValues,aabb)
{var minVertexX=aabb.minVertex.x;var minVertexY=aabb.minVertex.y;minVertexX=b2Math.b2Min(minVertexX,this.m_worldAABB.maxVertex.x);minVertexY=b2Math.b2Min(minVertexY,this.m_worldAABB.maxVertex.y);minVertexX=b2Math.b2Max(minVertexX,this.m_worldAABB.minVertex.x);minVertexY=b2Math.b2Max(minVertexY,this.m_worldAABB.minVertex.y);var maxVertexX=aabb.maxVertex.x;var maxVertexY=aabb.maxVertex.y;maxVertexX=b2Math.b2Min(maxVertexX,this.m_worldAABB.maxVertex.x);maxVertexY=b2Math.b2Min(maxVertexY,this.m_worldAABB.maxVertex.y);maxVertexX=b2Math.b2Max(maxVertexX,this.m_worldAABB.minVertex.x);maxVertexY=b2Math.b2Max(maxVertexY,this.m_worldAABB.minVertex.y);lowerValues[0]=(this.m_quantizationFactor.x*(minVertexX-this.m_worldAABB.minVertex.x))&(b2Settings.USHRT_MAX-1);upperValues[0]=((this.m_quantizationFactor.x*(maxVertexX-this.m_worldAABB.minVertex.x))&0x0000ffff)|1;lowerValues[1]=(this.m_quantizationFactor.y*(minVertexY-this.m_worldAABB.minVertex.y))&(b2Settings.USHRT_MAX-1);upperValues[1]=((this.m_quantizationFactor.y*(maxVertexY-this.m_worldAABB.minVertex.y))&0x0000ffff)|1;},TestOverlapValidate:function(p1,p2){for(var axis=0;axis<2;++axis)
{var bounds=this.m_bounds[axis];if(bounds[p1.lowerBounds[axis]].value>bounds[p2.upperBounds[axis]].value)
return false;if(bounds[p1.upperBounds[axis]].value<bounds[p2.lowerBounds[axis]].value)
return false;}
return true;},TestOverlap:function(b,p)
{for(var axis=0;axis<2;++axis)
{var bounds=this.m_bounds[axis];if(b.lowerValues[axis]>bounds[p.upperBounds[axis]].value)
return false;if(b.upperValues[axis]<bounds[p.lowerBounds[axis]].value)
return false;}
return true;},Query:function(lowerQueryOut,upperQueryOut,lowerValue,upperValue,bounds,boundCount,axis){var lowerQuery=b2BroadPhase.BinarySearch(bounds,boundCount,lowerValue);var upperQuery=b2BroadPhase.BinarySearch(bounds,boundCount,upperValue);for(var j=lowerQuery;j<upperQuery;++j)
{if(bounds[j].IsLower())
{this.IncrementOverlapCount(bounds[j].proxyId);}}
if(lowerQuery>0)
{var i=lowerQuery-1;var s=bounds[i].stabbingCount;while(s)
{if(bounds[i].IsLower())
{var proxy=this.m_proxyPool[bounds[i].proxyId];if(lowerQuery<=proxy.upperBounds[axis])
{this.IncrementOverlapCount(bounds[i].proxyId);--s;}}
--i;}}
lowerQueryOut[0]=lowerQuery;upperQueryOut[0]=upperQuery;},IncrementOverlapCount:function(proxyId){var proxy=this.m_proxyPool[proxyId];if(proxy.timeStamp<this.m_timeStamp)
{proxy.timeStamp=this.m_timeStamp;proxy.overlapCount=1;}
else
{proxy.overlapCount=2;this.m_queryResults[this.m_queryResultCount]=proxyId;++this.m_queryResultCount;}},IncrementTimeStamp:function(){if(this.m_timeStamp==b2Settings.USHRT_MAX)
{for(var i=0;i<b2Settings.b2_maxProxies;++i)
{this.m_proxyPool[i].timeStamp=0;}
this.m_timeStamp=1;}
else
{++this.m_timeStamp;}},m_pairManager:new b2PairManager(),m_proxyPool:new Array(b2Settings.b2_maxPairs),m_freeProxy:0,m_bounds:new Array(2*b2Settings.b2_maxProxies),m_queryResults:new Array(b2Settings.b2_maxProxies),m_queryResultCount:0,m_worldAABB:null,m_quantizationFactor:new b2Vec2(),m_proxyCount:0,m_timeStamp:0};b2BroadPhase.s_validate=false;b2BroadPhase.b2_invalid=b2Settings.USHRT_MAX;b2BroadPhase.b2_nullEdge=b2Settings.USHRT_MAX;b2BroadPhase.BinarySearch=function(bounds,count,value)
{var low=0;var high=count-1;while(low<=high)
{var mid=Math.floor((low+high)/2);if(bounds[mid].value>value)
{high=mid-1;}
else if(bounds[mid].value<value)
{low=mid+1;}
else
{return(mid);}}
return(low);};
var b2Collision=Class.create();b2Collision.prototype={initialize:function(){}}
b2Collision.b2_nullFeature=0x000000ff;b2Collision.ClipSegmentToLine=function(vOut,vIn,normal,offset)
{var numOut=0;var vIn0=vIn[0].v;var vIn1=vIn[1].v;var distance0=b2Math.b2Dot(normal,vIn[0].v)-offset;var distance1=b2Math.b2Dot(normal,vIn[1].v)-offset;if(distance0<=0.0)vOut[numOut++]=vIn[0];if(distance1<=0.0)vOut[numOut++]=vIn[1];if(distance0*distance1<0.0)
{var interp=distance0/(distance0-distance1);var tVec=vOut[numOut].v;tVec.x=vIn0.x+interp*(vIn1.x-vIn0.x);tVec.y=vIn0.y+interp*(vIn1.y-vIn0.y);if(distance0>0.0)
{vOut[numOut].id=vIn[0].id;}
else
{vOut[numOut].id=vIn[1].id;}
++numOut;}
return numOut;};b2Collision.EdgeSeparation=function(poly1,edge1,poly2)
{var vert1s=poly1.m_vertices;var count2=poly2.m_vertexCount;var vert2s=poly2.m_vertices;var normalX=poly1.m_normals[edge1].x;var normalY=poly1.m_normals[edge1].y;var tX=normalX;var tMat=poly1.m_R;normalX=tMat.col1.x*tX+tMat.col2.x*normalY;normalY=tMat.col1.y*tX+tMat.col2.y*normalY;var normalLocal2X=normalX;var normalLocal2Y=normalY;tMat=poly2.m_R;tX=normalLocal2X*tMat.col1.x+normalLocal2Y*tMat.col1.y;normalLocal2Y=normalLocal2X*tMat.col2.x+normalLocal2Y*tMat.col2.y;normalLocal2X=tX;var vertexIndex2=0;var minDot=Number.MAX_VALUE;for(var i=0;i<count2;++i)
{var tVec=vert2s[i];var dot=tVec.x*normalLocal2X+tVec.y*normalLocal2Y;if(dot<minDot)
{minDot=dot;vertexIndex2=i;}}
tMat=poly1.m_R;var v1X=poly1.m_position.x+(tMat.col1.x*vert1s[edge1].x+tMat.col2.x*vert1s[edge1].y)
var v1Y=poly1.m_position.y+(tMat.col1.y*vert1s[edge1].x+tMat.col2.y*vert1s[edge1].y)
tMat=poly2.m_R;var v2X=poly2.m_position.x+(tMat.col1.x*vert2s[vertexIndex2].x+tMat.col2.x*vert2s[vertexIndex2].y)
var v2Y=poly2.m_position.y+(tMat.col1.y*vert2s[vertexIndex2].x+tMat.col2.y*vert2s[vertexIndex2].y)
v2X-=v1X;v2Y-=v1Y;var separation=v2X*normalX+v2Y*normalY;return separation;};b2Collision.FindMaxSeparation=function(edgeIndex,poly1,poly2,conservative)
{var count1=poly1.m_vertexCount;var dX=poly2.m_position.x-poly1.m_position.x;var dY=poly2.m_position.y-poly1.m_position.y;var dLocal1X=(dX*poly1.m_R.col1.x+dY*poly1.m_R.col1.y);var dLocal1Y=(dX*poly1.m_R.col2.x+dY*poly1.m_R.col2.y);var edge=0;var maxDot=-Number.MAX_VALUE;for(var i=0;i<count1;++i)
{var dot=(poly1.m_normals[i].x*dLocal1X+poly1.m_normals[i].y*dLocal1Y);if(dot>maxDot)
{maxDot=dot;edge=i;}}
var s=b2Collision.EdgeSeparation(poly1,edge,poly2);if(s>0.0&&conservative==false)
{return s;}
var prevEdge=edge-1>=0?edge-1:count1-1;var sPrev=b2Collision.EdgeSeparation(poly1,prevEdge,poly2);if(sPrev>0.0&&conservative==false)
{return sPrev;}
var nextEdge=edge+1<count1?edge+1:0;var sNext=b2Collision.EdgeSeparation(poly1,nextEdge,poly2);if(sNext>0.0&&conservative==false)
{return sNext;}
var bestEdge=0;var bestSeparation;var increment=0;if(sPrev>s&&sPrev>sNext)
{increment=-1;bestEdge=prevEdge;bestSeparation=sPrev;}
else if(sNext>s)
{increment=1;bestEdge=nextEdge;bestSeparation=sNext;}
else
{edgeIndex[0]=edge;return s;}
while(true)
{if(increment==-1)
edge=bestEdge-1>=0?bestEdge-1:count1-1;else
edge=bestEdge+1<count1?bestEdge+1:0;s=b2Collision.EdgeSeparation(poly1,edge,poly2);if(s>0.0&&conservative==false)
{return s;}
if(s>bestSeparation)
{bestEdge=edge;bestSeparation=s;}
else
{break;}}
edgeIndex[0]=bestEdge;return bestSeparation;};b2Collision.FindIncidentEdge=function(c,poly1,edge1,poly2)
{var count1=poly1.m_vertexCount;var vert1s=poly1.m_vertices;var count2=poly2.m_vertexCount;var vert2s=poly2.m_vertices;var vertex11=edge1;var vertex12=edge1+1==count1?0:edge1+1;var tVec=vert1s[vertex12];var normal1Local1X=tVec.x;var normal1Local1Y=tVec.y;tVec=vert1s[vertex11];normal1Local1X-=tVec.x;normal1Local1Y-=tVec.y;var tX=normal1Local1X;normal1Local1X=normal1Local1Y;normal1Local1Y=-tX;var invLength=1.0/Math.sqrt(normal1Local1X*normal1Local1X+normal1Local1Y*normal1Local1Y);normal1Local1X*=invLength;normal1Local1Y*=invLength;var normal1X=normal1Local1X;var normal1Y=normal1Local1Y;tX=normal1X;var tMat=poly1.m_R;normal1X=tMat.col1.x*tX+tMat.col2.x*normal1Y;normal1Y=tMat.col1.y*tX+tMat.col2.y*normal1Y;var normal1Local2X=normal1X;var normal1Local2Y=normal1Y;tMat=poly2.m_R;tX=normal1Local2X*tMat.col1.x+normal1Local2Y*tMat.col1.y;normal1Local2Y=normal1Local2X*tMat.col2.x+normal1Local2Y*tMat.col2.y;normal1Local2X=tX;var vertex21=0;var vertex22=0;var minDot=Number.MAX_VALUE;for(var i=0;i<count2;++i)
{var i1=i;var i2=i+1<count2?i+1:0;tVec=vert2s[i2];var normal2Local2X=tVec.x;var normal2Local2Y=tVec.y;tVec=vert2s[i1];normal2Local2X-=tVec.x;normal2Local2Y-=tVec.y;tX=normal2Local2X;normal2Local2X=normal2Local2Y;normal2Local2Y=-tX;invLength=1.0/Math.sqrt(normal2Local2X*normal2Local2X+normal2Local2Y*normal2Local2Y);normal2Local2X*=invLength;normal2Local2Y*=invLength;var dot=normal2Local2X*normal1Local2X+normal2Local2Y*normal1Local2Y;if(dot<minDot)
{minDot=dot;vertex21=i1;vertex22=i2;}}
var tClip;tClip=c[0];tVec=tClip.v;tVec.SetV(vert2s[vertex21]);tVec.MulM(poly2.m_R);tVec.Add(poly2.m_position);tClip.id.features.referenceFace=edge1;tClip.id.features.incidentEdge=vertex21;tClip.id.features.incidentVertex=vertex21;tClip=c[1];tVec=tClip.v;tVec.SetV(vert2s[vertex22]);tVec.MulM(poly2.m_R);tVec.Add(poly2.m_position);tClip.id.features.referenceFace=edge1;tClip.id.features.incidentEdge=vertex21;tClip.id.features.incidentVertex=vertex22;};b2Collision.b2CollidePolyTempVec=new b2Vec2();b2Collision.b2CollidePoly=function(manifold,polyA,polyB,conservative)
{manifold.pointCount=0;var edgeA=0;var edgeAOut=[edgeA];var separationA=b2Collision.FindMaxSeparation(edgeAOut,polyA,polyB,conservative);edgeA=edgeAOut[0];if(separationA>0.0&&conservative==false)
return;var edgeB=0;var edgeBOut=[edgeB];var separationB=b2Collision.FindMaxSeparation(edgeBOut,polyB,polyA,conservative);edgeB=edgeBOut[0];if(separationB>0.0&&conservative==false)
return;var poly1;var poly2;var edge1=0;var flip=0;var k_relativeTol=0.98;var k_absoluteTol=0.001;if(separationB>k_relativeTol*separationA+k_absoluteTol)
{poly1=polyB;poly2=polyA;edge1=edgeB;flip=1;}
else
{poly1=polyA;poly2=polyB;edge1=edgeA;flip=0;}
var incidentEdge=[new ClipVertex(),new ClipVertex()];b2Collision.FindIncidentEdge(incidentEdge,poly1,edge1,poly2);var count1=poly1.m_vertexCount;var vert1s=poly1.m_vertices;var v11=vert1s[edge1];var v12=edge1+1<count1?vert1s[edge1+1]:vert1s[0];var dvX=v12.x-v11.x;var dvY=v12.y-v11.y;var sideNormalX=v12.x-v11.x;var sideNormalY=v12.y-v11.y;var tX=sideNormalX;var tMat=poly1.m_R;sideNormalX=tMat.col1.x*tX+tMat.col2.x*sideNormalY;sideNormalY=tMat.col1.y*tX+tMat.col2.y*sideNormalY;var invLength=1.0/Math.sqrt(sideNormalX*sideNormalX+sideNormalY*sideNormalY);sideNormalX*=invLength;sideNormalY*=invLength;var frontNormalX=sideNormalX;var frontNormalY=sideNormalY;tX=frontNormalX;frontNormalX=frontNormalY;frontNormalY=-tX;var v11X=v11.x;var v11Y=v11.y;tX=v11X;tMat=poly1.m_R;v11X=tMat.col1.x*tX+tMat.col2.x*v11Y;v11Y=tMat.col1.y*tX+tMat.col2.y*v11Y;v11X+=poly1.m_position.x;v11Y+=poly1.m_position.y;var v12X=v12.x;var v12Y=v12.y;tX=v12X;tMat=poly1.m_R;v12X=tMat.col1.x*tX+tMat.col2.x*v12Y;v12Y=tMat.col1.y*tX+tMat.col2.y*v12Y;v12X+=poly1.m_position.x;v12Y+=poly1.m_position.y;var frontOffset=frontNormalX*v11X+frontNormalY*v11Y;var sideOffset1=-(sideNormalX*v11X+sideNormalY*v11Y);var sideOffset2=sideNormalX*v12X+sideNormalY*v12Y;var clipPoints1=[new ClipVertex(),new ClipVertex()];var clipPoints2=[new ClipVertex(),new ClipVertex()];var np=0;b2Collision.b2CollidePolyTempVec.Set(-sideNormalX,-sideNormalY);np=b2Collision.ClipSegmentToLine(clipPoints1,incidentEdge,b2Collision.b2CollidePolyTempVec,sideOffset1);if(np<2)
return;b2Collision.b2CollidePolyTempVec.Set(sideNormalX,sideNormalY);np=b2Collision.ClipSegmentToLine(clipPoints2,clipPoints1,b2Collision.b2CollidePolyTempVec,sideOffset2);if(np<2)
return;if(flip){manifold.normal.Set(-frontNormalX,-frontNormalY);}
else{manifold.normal.Set(frontNormalX,frontNormalY);}
var pointCount=0;for(var i=0;i<b2Settings.b2_maxManifoldPoints;++i)
{var tVec=clipPoints2[i].v;var separation=(frontNormalX*tVec.x+frontNormalY*tVec.y)-frontOffset;if(separation<=0.0||conservative==true)
{var cp=manifold.points[pointCount];cp.separation=separation;cp.position.SetV(clipPoints2[i].v);cp.id.Set(clipPoints2[i].id);cp.id.features.flip=flip;++pointCount;}}
manifold.pointCount=pointCount;};b2Collision.b2CollideCircle=function(manifold,circle1,circle2,conservative)
{manifold.pointCount=0;var dX=circle2.m_position.x-circle1.m_position.x;var dY=circle2.m_position.y-circle1.m_position.y;var distSqr=dX*dX+dY*dY;var radiusSum=circle1.m_radius+circle2.m_radius;if(distSqr>radiusSum*radiusSum&&conservative==false)
{return;}
var separation;if(distSqr<Number.MIN_VALUE)
{separation=-radiusSum;manifold.normal.Set(0.0,1.0);}
else
{var dist=Math.sqrt(distSqr);separation=dist-radiusSum;var a=1.0/dist;manifold.normal.x=a*dX;manifold.normal.y=a*dY;}
manifold.pointCount=1;var tPoint=manifold.points[0];tPoint.id.set_key(0);tPoint.separation=separation;tPoint.position.x=circle2.m_position.x-(circle2.m_radius*manifold.normal.x);tPoint.position.y=circle2.m_position.y-(circle2.m_radius*manifold.normal.y);};b2Collision.b2CollidePolyAndCircle=function(manifold,poly,circle,conservative)
{manifold.pointCount=0;var tPoint;var dX;var dY;var xLocalX=circle.m_position.x-poly.m_position.x;var xLocalY=circle.m_position.y-poly.m_position.y;var tMat=poly.m_R;var tX=xLocalX*tMat.col1.x+xLocalY*tMat.col1.y;xLocalY=xLocalX*tMat.col2.x+xLocalY*tMat.col2.y;xLocalX=tX;var dist;var normalIndex=0;var separation=-Number.MAX_VALUE;var radius=circle.m_radius;for(var i=0;i<poly.m_vertexCount;++i)
{var s=poly.m_normals[i].x*(xLocalX-poly.m_vertices[i].x)+poly.m_normals[i].y*(xLocalY-poly.m_vertices[i].y);if(s>radius)
{return;}
if(s>separation)
{separation=s;normalIndex=i;}}
if(separation<Number.MIN_VALUE)
{manifold.pointCount=1;var tVec=poly.m_normals[normalIndex];manifold.normal.x=tMat.col1.x*tVec.x+tMat.col2.x*tVec.y;manifold.normal.y=tMat.col1.y*tVec.x+tMat.col2.y*tVec.y;tPoint=manifold.points[0];tPoint.id.features.incidentEdge=normalIndex;tPoint.id.features.incidentVertex=b2Collision.b2_nullFeature;tPoint.id.features.referenceFace=b2Collision.b2_nullFeature;tPoint.id.features.flip=0;tPoint.position.x=circle.m_position.x-radius*manifold.normal.x;tPoint.position.y=circle.m_position.y-radius*manifold.normal.y;tPoint.separation=separation-radius;return;}
var vertIndex1=normalIndex;var vertIndex2=vertIndex1+1<poly.m_vertexCount?vertIndex1+1:0;var eX=poly.m_vertices[vertIndex2].x-poly.m_vertices[vertIndex1].x;var eY=poly.m_vertices[vertIndex2].y-poly.m_vertices[vertIndex1].y;var length=Math.sqrt(eX*eX+eY*eY);eX/=length;eY/=length;if(length<Number.MIN_VALUE)
{dX=xLocalX-poly.m_vertices[vertIndex1].x;dY=xLocalY-poly.m_vertices[vertIndex1].y;dist=Math.sqrt(dX*dX+dY*dY);dX/=dist;dY/=dist;if(dist>radius)
{return;}
manifold.pointCount=1;manifold.normal.Set(tMat.col1.x*dX+tMat.col2.x*dY,tMat.col1.y*dX+tMat.col2.y*dY);tPoint=manifold.points[0];tPoint.id.features.incidentEdge=b2Collision.b2_nullFeature;tPoint.id.features.incidentVertex=vertIndex1;tPoint.id.features.referenceFace=b2Collision.b2_nullFeature;tPoint.id.features.flip=0;tPoint.position.x=circle.m_position.x-radius*manifold.normal.x;tPoint.position.y=circle.m_position.y-radius*manifold.normal.y;tPoint.separation=dist-radius;return;}
var u=(xLocalX-poly.m_vertices[vertIndex1].x)*eX+(xLocalY-poly.m_vertices[vertIndex1].y)*eY;tPoint=manifold.points[0];tPoint.id.features.incidentEdge=b2Collision.b2_nullFeature;tPoint.id.features.incidentVertex=b2Collision.b2_nullFeature;tPoint.id.features.referenceFace=b2Collision.b2_nullFeature;tPoint.id.features.flip=0;var pX,pY;if(u<=0.0)
{pX=poly.m_vertices[vertIndex1].x;pY=poly.m_vertices[vertIndex1].y;tPoint.id.features.incidentVertex=vertIndex1;}
else if(u>=length)
{pX=poly.m_vertices[vertIndex2].x;pY=poly.m_vertices[vertIndex2].y;tPoint.id.features.incidentVertex=vertIndex2;}
else
{pX=eX*u+poly.m_vertices[vertIndex1].x;pY=eY*u+poly.m_vertices[vertIndex1].y;tPoint.id.features.incidentEdge=vertIndex1;}
dX=xLocalX-pX;dY=xLocalY-pY;dist=Math.sqrt(dX*dX+dY*dY);dX/=dist;dY/=dist;if(dist>radius)
{return;}
manifold.pointCount=1;manifold.normal.Set(tMat.col1.x*dX+tMat.col2.x*dY,tMat.col1.y*dX+tMat.col2.y*dY);tPoint.position.x=circle.m_position.x-radius*manifold.normal.x;tPoint.position.y=circle.m_position.y-radius*manifold.normal.y;tPoint.separation=dist-radius;};b2Collision.b2TestOverlap=function(a,b)
{var t1=b.minVertex;var t2=a.maxVertex;var d1X=t1.x-t2.x;var d1Y=t1.y-t2.y;t1=a.minVertex;t2=b.maxVertex;var d2X=t1.x-t2.x;var d2Y=t1.y-t2.y;if(d1X>0.0||d1Y>0.0)
return false;if(d2X>0.0||d2Y>0.0)
return false;return true;};
var Features=Class.create();Features.prototype={set_referenceFace:function(value){this._referenceFace=value;this._m_id._key=(this._m_id._key&0xffffff00)|(this._referenceFace&0x000000ff)},get_referenceFace:function(){return this._referenceFace;},_referenceFace:0,set_incidentEdge:function(value){this._incidentEdge=value;this._m_id._key=(this._m_id._key&0xffff00ff)|((this._incidentEdge<<8)&0x0000ff00)},get_incidentEdge:function(){return this._incidentEdge;},_incidentEdge:0,set_incidentVertex:function(value){this._incidentVertex=value;this._m_id._key=(this._m_id._key&0xff00ffff)|((this._incidentVertex<<16)&0x00ff0000)},get_incidentVertex:function(){return this._incidentVertex;},_incidentVertex:0,set_flip:function(value){this._flip=value;this._m_id._key=(this._m_id._key&0x00ffffff)|((this._flip<<24)&0xff000000)},get_flip:function(){return this._flip;},_flip:0,_m_id:null,initialize:function(){}};
var b2ContactID=Class.create();b2ContactID.prototype={initialize:function(){this.features=new Features();this.features._m_id=this;},Set:function(id){this.set_key(id._key);},Copy:function(){var id=new b2ContactID();id.set_key(this._key);return id;},get_key:function(){return this._key;},set_key:function(value){this._key=value;this.features._referenceFace=this._key&0x000000ff;this.features._incidentEdge=((this._key&0x0000ff00)>>8)&0x000000ff;this.features._incidentVertex=((this._key&0x00ff0000)>>16)&0x000000ff;this.features._flip=((this._key&0xff000000)>>24)&0x000000ff;},features:new Features(),_key:0};
var b2ContactPoint=Class.create();b2ContactPoint.prototype={position:new b2Vec2(),separation:null,normalImpulse:null,tangentImpulse:null,id:new b2ContactID(),initialize:function(){this.position=new b2Vec2();this.id=new b2ContactID();}};var b2Distance=Class.create();b2Distance.prototype={initialize:function(){}};b2Distance.ProcessTwo=function(p1Out,p2Out,p1s,p2s,points)
{var rX=-points[1].x;var rY=-points[1].y;var dX=points[0].x-points[1].x;var dY=points[0].y-points[1].y;var length=Math.sqrt(dX*dX+dY*dY);dX/=length;dY/=length;var lambda=rX*dX+rY*dY;if(lambda<=0.0||length<Number.MIN_VALUE)
{p1Out.SetV(p1s[1]);p2Out.SetV(p2s[1]);p1s[0].SetV(p1s[1]);p2s[0].SetV(p2s[1]);points[0].SetV(points[1]);return 1;}
lambda/=length;p1Out.x=p1s[1].x+lambda*(p1s[0].x-p1s[1].x);p1Out.y=p1s[1].y+lambda*(p1s[0].y-p1s[1].y);p2Out.x=p2s[1].x+lambda*(p2s[0].x-p2s[1].x);p2Out.y=p2s[1].y+lambda*(p2s[0].y-p2s[1].y);return 2;};b2Distance.ProcessThree=function(p1Out,p2Out,p1s,p2s,points)
{var aX=points[0].x;var aY=points[0].y;var bX=points[1].x;var bY=points[1].y;var cX=points[2].x;var cY=points[2].y;var abX=bX-aX;var abY=bY-aY;var acX=cX-aX;var acY=cY-aY;var bcX=cX-bX;var bcY=cY-bY;var sn=-(aX*abX+aY*abY);var sd=(bX*abX+bY*abY);var tn=-(aX*acX+aY*acY);var td=(cX*acX+cY*acY);var un=-(bX*bcX+bY*bcY);var ud=(cX*bcX+cY*bcY);if(td<=0.0&&ud<=0.0)
{p1Out.SetV(p1s[2]);p2Out.SetV(p2s[2]);p1s[0].SetV(p1s[2]);p2s[0].SetV(p2s[2]);points[0].SetV(points[2]);return 1;}
var n=abX*acY-abY*acX;var vc=n*(aX*bY-aY*bX);var va=n*(bX*cY-bY*cX);if(va<=0.0&&un>=0.0&&ud>=0.0)
{var lambda=un/(un+ud);p1Out.x=p1s[1].x+lambda*(p1s[2].x-p1s[1].x);p1Out.y=p1s[1].y+lambda*(p1s[2].y-p1s[1].y);p2Out.x=p2s[1].x+lambda*(p2s[2].x-p2s[1].x);p2Out.y=p2s[1].y+lambda*(p2s[2].y-p2s[1].y);p1s[0].SetV(p1s[2]);p2s[0].SetV(p2s[2]);points[0].SetV(points[2]);return 2;}
var vb=n*(cX*aY-cY*aX);if(vb<=0.0&&tn>=0.0&&td>=0.0)
{var lambda=tn/(tn+td);p1Out.x=p1s[0].x+lambda*(p1s[2].x-p1s[0].x);p1Out.y=p1s[0].y+lambda*(p1s[2].y-p1s[0].y);p2Out.x=p2s[0].x+lambda*(p2s[2].x-p2s[0].x);p2Out.y=p2s[0].y+lambda*(p2s[2].y-p2s[0].y);p1s[1].SetV(p1s[2]);p2s[1].SetV(p2s[2]);points[1].SetV(points[2]);return 2;}
var denom=va+vb+vc;denom=1.0/denom;var u=va*denom;var v=vb*denom;var w=1.0-u-v;p1Out.x=u*p1s[0].x+v*p1s[1].x+w*p1s[2].x;p1Out.y=u*p1s[0].y+v*p1s[1].y+w*p1s[2].y;p2Out.x=u*p2s[0].x+v*p2s[1].x+w*p2s[2].x;p2Out.y=u*p2s[0].y+v*p2s[1].y+w*p2s[2].y;return 3;};b2Distance.InPoinsts=function(w,points,pointCount)
{for(var i=0;i<pointCount;++i)
{if(w.x==points[i].x&&w.y==points[i].y)
{return true;}}
return false;};b2Distance.Distance=function(p1Out,p2Out,shape1,shape2)
{var p1s=new Array(3);var p2s=new Array(3);var points=new Array(3);var pointCount=0;p1Out.SetV(shape1.m_position);p2Out.SetV(shape2.m_position);var vSqr=0.0;var maxIterations=20;for(var iter=0;iter<maxIterations;++iter)
{var vX=p2Out.x-p1Out.x;var vY=p2Out.y-p1Out.y;var w1=shape1.Support(vX,vY);var w2=shape2.Support(-vX,-vY);vSqr=(vX*vX+vY*vY);var wX=w2.x-w1.x;var wY=w2.y-w1.y;var vw=(vX*wX+vY*wY);if(vSqr-b2Dot(vX*wX+vY*wY)<=0.01*vSqr)
{if(pointCount==0)
{p1Out.SetV(w1);p2Out.SetV(w2);}
b2Distance.g_GJK_Iterations=iter;return Math.sqrt(vSqr);}
switch(pointCount)
{case 0:p1s[0].SetV(w1);p2s[0].SetV(w2);points[0]=w;p1Out.SetV(p1s[0]);p2Out.SetV(p2s[0]);++pointCount;break;case 1:p1s[1].SetV(w1);p2s[1].SetV(w2);points[1].x=wX;points[1].y=wY;pointCount=b2Distance.ProcessTwo(p1Out,p2Out,p1s,p2s,points);break;case 2:p1s[2].SetV(w1);p2s[2].SetV(w2);points[2].x=wX;points[2].y=wY;pointCount=b2Distance.ProcessThree(p1Out,p2Out,p1s,p2s,points);break;}
if(pointCount==3)
{b2Distance.g_GJK_Iterations=iter;return 0.0;}
var maxSqr=-Number.MAX_VALUE;for(var i=0;i<pointCount;++i)
{maxSqr=b2Math.b2Max(maxSqr,(points[i].x*points[i].x+points[i].y*points[i].y));}
if(pointCount==3||vSqr<=100.0*Number.MIN_VALUE*maxSqr)
{b2Distance.g_GJK_Iterations=iter;return Math.sqrt(vSqr);}}
b2Distance.g_GJK_Iterations=maxIterations;return Math.sqrt(vSqr);};b2Distance.g_GJK_Iterations=0;
var b2Manifold=Class.create();b2Manifold.prototype={initialize:function(){this.points=new Array(b2Settings.b2_maxManifoldPoints);for(var i=0;i<b2Settings.b2_maxManifoldPoints;i++){this.points[i]=new b2ContactPoint();}
this.normal=new b2Vec2();},points:null,normal:null,pointCount:0};
var b2OBB=Class.create();b2OBB.prototype={R:new b2Mat22(),center:new b2Vec2(),extents:new b2Vec2(),initialize:function(){this.R=new b2Mat22();this.center=new b2Vec2();this.extents=new b2Vec2();}};
var b2Proxy=Class.create();b2Proxy.prototype={GetNext:function(){return this.lowerBounds[0];},SetNext:function(next){this.lowerBounds[0]=next;},IsValid:function(){return this.overlapCount!=b2BroadPhase.b2_invalid;},lowerBounds:[(0),(0)],upperBounds:[(0),(0)],overlapCount:0,timeStamp:0,userData:null,initialize:function(){this.lowerBounds=[(0),(0)];this.upperBounds=[(0),(0)];}}

var ClipVertex=Class.create();ClipVertex.prototype={v:new b2Vec2(),id:new b2ContactID(),initialize:function(){this.v=new b2Vec2();this.id=new b2ContactID();}};var b2Shape=Class.create();b2Shape.prototype={TestPoint:function(p){return false},GetUserData:function(){return this.m_userData;},GetType:function(){return this.m_type;},GetBody:function(){return this.m_body;},GetPosition:function(){return this.m_position;},GetRotationMatrix:function(){return this.m_R;},ResetProxy:function(broadPhase){},GetNext:function(){return this.m_next;},initialize:function(def,body){this.m_R=new b2Mat22();this.m_position=new b2Vec2();this.m_userData=def.userData;this.m_friction=def.friction;this.m_restitution=def.restitution;this.m_body=body;this.m_proxyId=b2Pair.b2_nullProxy;this.m_maxRadius=0.0;this.m_categoryBits=def.categoryBits;this.m_maskBits=def.maskBits;this.m_groupIndex=def.groupIndex;},DestroyProxy:function()
{if(this.m_proxyId!=b2Pair.b2_nullProxy)
{this.m_body.m_world.m_broadPhase.DestroyProxy(this.m_proxyId);this.m_proxyId=b2Pair.b2_nullProxy;}},Synchronize:function(position1,R1,position2,R2){},QuickSync:function(position,R){},Support:function(dX,dY,out){},GetMaxRadius:function(){return this.m_maxRadius;},m_next:null,m_R:new b2Mat22(),m_position:new b2Vec2(),m_type:0,m_userData:null,m_body:null,m_friction:null,m_restitution:null,m_maxRadius:null,m_proxyId:0,m_categoryBits:0,m_maskBits:0,m_groupIndex:0};b2Shape.Create=function(def,body,center){switch(def.type)
{case b2Shape.e_circleShape:{return new b2CircleShape(def,body,center);}
case b2Shape.e_boxShape:case b2Shape.e_polyShape:{return new b2PolyShape(def,body,center);}}
return null;};b2Shape.Destroy=function(shape)
{if(shape.m_proxyId!=b2Pair.b2_nullProxy)
shape.m_body.m_world.m_broadPhase.DestroyProxy(shape.m_proxyId);};b2Shape.e_unknownShape=-1;b2Shape.e_circleShape=0;b2Shape.e_boxShape=1;b2Shape.e_polyShape=2;b2Shape.e_meshShape=3;b2Shape.e_shapeTypeCount=4;b2Shape.PolyMass=function(massData,vs,count,rho)
{var center=new b2Vec2();center.SetZero();var area=0.0;var I=0.0;var pRef=new b2Vec2(0.0,0.0);var inv3=1.0/3.0;for(var i=0;i<count;++i)
{var p1=pRef;var p2=vs[i];var p3=i+1<count?vs[i+1]:vs[0];var e1=b2Math.SubtractVV(p2,p1);var e2=b2Math.SubtractVV(p3,p1);var D=b2Math.b2CrossVV(e1,e2);var triangleArea=0.5*D;area+=triangleArea;var tVec=new b2Vec2();tVec.SetV(p1);tVec.Add(p2);tVec.Add(p3);tVec.Multiply(inv3*triangleArea);center.Add(tVec);var px=p1.x;var py=p1.y;var ex1=e1.x;var ey1=e1.y;var ex2=e2.x;var ey2=e2.y;var intx2=inv3*(0.25*(ex1*ex1+ex2*ex1+ex2*ex2)+(px*ex1+px*ex2))+0.5*px*px;var inty2=inv3*(0.25*(ey1*ey1+ey2*ey1+ey2*ey2)+(py*ey1+py*ey2))+0.5*py*py;I+=D*(intx2+inty2);}
massData.mass=rho*area;center.Multiply(1.0/area);massData.center=center;I=rho*(I-area*b2Math.b2Dot(center,center));massData.I=I;};b2Shape.PolyCentroid=function(vs,count,out)
{var cX=0.0;var cY=0.0;var area=0.0;var pRefX=0.0;var pRefY=0.0;var inv3=1.0/3.0;for(var i=0;i<count;++i)
{var p1X=pRefX;var p1Y=pRefY;var p2X=vs[i].x;var p2Y=vs[i].y;var p3X=i+1<count?vs[i+1].x:vs[0].x;var p3Y=i+1<count?vs[i+1].y:vs[0].y;var e1X=p2X-p1X;var e1Y=p2Y-p1Y;var e2X=p3X-p1X;var e2Y=p3Y-p1Y;var D=(e1X*e2Y-e1Y*e2X);var triangleArea=0.5*D;area+=triangleArea;cX+=triangleArea*inv3*(p1X+p2X+p3X);cY+=triangleArea*inv3*(p1Y+p2Y+p3Y);}
cX*=1.0/area;cY*=1.0/area;out.Set(cX,cY);};
var b2ShapeDef=Class.create();b2ShapeDef.prototype={initialize:function()
{this.type=b2Shape.e_unknownShape;this.userData=null;this.localPosition=new b2Vec2(0.0,0.0);this.localRotation=0.0;this.friction=0.2;this.restitution=0.0;this.density=0.0;this.categoryBits=0x0001;this.maskBits=0xFFFF;this.groupIndex=0;},ComputeMass:function(massData)
{massData.center=new b2Vec2(0.0,0.0)
if(this.density==0.0)
{massData.mass=0.0;massData.center.Set(0.0,0.0);massData.I=0.0;};switch(this.type)
{case b2Shape.e_circleShape:{var circle=this;massData.mass=this.density*b2Settings.b2_pi*circle.radius*circle.radius;massData.center.Set(0.0,0.0);massData.I=0.5*(massData.mass)*circle.radius*circle.radius;}
break;case b2Shape.e_boxShape:{var box=this;massData.mass=4.0*this.density*box.extents.x*box.extents.y;massData.center.Set(0.0,0.0);massData.I=massData.mass/3.0*b2Math.b2Dot(box.extents,box.extents);}
break;case b2Shape.e_polyShape:{var poly=this;b2Shape.PolyMass(massData,poly.vertices,poly.vertexCount,this.density);}
break;default:massData.mass=0.0;massData.center.Set(0.0,0.0);massData.I=0.0;break;}},type:0,userData:null,localPosition:null,localRotation:null,friction:null,restitution:null,density:null,categoryBits:0,maskBits:0,groupIndex:0};
var b2BoxDef=Class.create();Object.extend(b2BoxDef.prototype,b2ShapeDef.prototype);Object.extend(b2BoxDef.prototype,{initialize:function()
{this.type=b2Shape.e_unknownShape;this.userData=null;this.localPosition=new b2Vec2(0.0,0.0);this.localRotation=0.0;this.friction=0.2;this.restitution=0.0;this.density=0.0;this.categoryBits=0x0001;this.maskBits=0xFFFF;this.groupIndex=0;this.type=b2Shape.e_boxShape;this.extents=new b2Vec2(1.0,1.0);},extents:null});
var b2CircleDef=Class.create();Object.extend(b2CircleDef.prototype,b2ShapeDef.prototype);Object.extend(b2CircleDef.prototype,{initialize:function()
{this.type=b2Shape.e_unknownShape;this.userData=null;this.localPosition=new b2Vec2(0.0,0.0);this.localRotation=0.0;this.friction=0.2;this.restitution=0.0;this.density=0.0;this.categoryBits=0x0001;this.maskBits=0xFFFF;this.groupIndex=0;this.type=b2Shape.e_circleShape;this.radius=1.0;},radius:null});var b2CircleShape=Class.create();Object.extend(b2CircleShape.prototype,b2Shape.prototype);Object.extend(b2CircleShape.prototype,{TestPoint:function(p){var d=new b2Vec2();d.SetV(p);d.Subtract(this.m_position);return b2Math.b2Dot(d,d)<=this.m_radius*this.m_radius;},initialize:function(def,body,localCenter){this.m_R=new b2Mat22();this.m_position=new b2Vec2();this.m_userData=def.userData;this.m_friction=def.friction;this.m_restitution=def.restitution;this.m_body=body;this.m_proxyId=b2Pair.b2_nullProxy;this.m_maxRadius=0.0;this.m_categoryBits=def.categoryBits;this.m_maskBits=def.maskBits;this.m_groupIndex=def.groupIndex;this.m_localPosition=new b2Vec2();var circle=def;this.m_localPosition.Set(def.localPosition.x-localCenter.x,def.localPosition.y-localCenter.y);this.m_type=b2Shape.e_circleShape;this.m_radius=circle.radius;this.m_R.SetM(this.m_body.m_R);var rX=this.m_R.col1.x*this.m_localPosition.x+this.m_R.col2.x*this.m_localPosition.y;var rY=this.m_R.col1.y*this.m_localPosition.x+this.m_R.col2.y*this.m_localPosition.y;this.m_position.x=this.m_body.m_position.x+rX;this.m_position.y=this.m_body.m_position.y+rY;this.m_maxRadius=Math.sqrt(rX*rX+rY*rY)+this.m_radius;var aabb=new b2AABB();aabb.minVertex.Set(this.m_position.x-this.m_radius,this.m_position.y-this.m_radius);aabb.maxVertex.Set(this.m_position.x+this.m_radius,this.m_position.y+this.m_radius);var broadPhase=this.m_body.m_world.m_broadPhase;if(broadPhase.InRange(aabb))
{this.m_proxyId=broadPhase.CreateProxy(aabb,this);}
else
{this.m_proxyId=b2Pair.b2_nullProxy;}
if(this.m_proxyId==b2Pair.b2_nullProxy)
{this.m_body.Freeze();}},Synchronize:function(position1,R1,position2,R2){this.m_R.SetM(R2);this.m_position.x=(R2.col1.x*this.m_localPosition.x+R2.col2.x*this.m_localPosition.y)+position2.x;this.m_position.y=(R2.col1.y*this.m_localPosition.x+R2.col2.y*this.m_localPosition.y)+position2.y;if(this.m_proxyId==b2Pair.b2_nullProxy)
{return;}
var p1X=position1.x+(R1.col1.x*this.m_localPosition.x+R1.col2.x*this.m_localPosition.y);var p1Y=position1.y+(R1.col1.y*this.m_localPosition.x+R1.col2.y*this.m_localPosition.y);var lowerX=Math.min(p1X,this.m_position.x);var lowerY=Math.min(p1Y,this.m_position.y);var upperX=Math.max(p1X,this.m_position.x);var upperY=Math.max(p1Y,this.m_position.y);var aabb=new b2AABB();aabb.minVertex.Set(lowerX-this.m_radius,lowerY-this.m_radius);aabb.maxVertex.Set(upperX+this.m_radius,upperY+this.m_radius);var broadPhase=this.m_body.m_world.m_broadPhase;if(broadPhase.InRange(aabb))
{broadPhase.MoveProxy(this.m_proxyId,aabb);}
else
{this.m_body.Freeze();}},QuickSync:function(position,R){this.m_R.SetM(R);this.m_position.x=(R.col1.x*this.m_localPosition.x+R.col2.x*this.m_localPosition.y)+position.x;this.m_position.y=(R.col1.y*this.m_localPosition.x+R.col2.y*this.m_localPosition.y)+position.y;},ResetProxy:function(broadPhase)
{if(this.m_proxyId==b2Pair.b2_nullProxy)
{return;}
var proxy=broadPhase.GetProxy(this.m_proxyId);broadPhase.DestroyProxy(this.m_proxyId);proxy=null;var aabb=new b2AABB();aabb.minVertex.Set(this.m_position.x-this.m_radius,this.m_position.y-this.m_radius);aabb.maxVertex.Set(this.m_position.x+this.m_radius,this.m_position.y+this.m_radius);if(broadPhase.InRange(aabb))
{this.m_proxyId=broadPhase.CreateProxy(aabb,this);}
else
{this.m_proxyId=b2Pair.b2_nullProxy;}
if(this.m_proxyId==b2Pair.b2_nullProxy)
{this.m_body.Freeze();}},Support:function(dX,dY,out)
{var len=Math.sqrt(dX*dX+dY*dY);dX/=len;dY/=len;out.Set(this.m_position.x+this.m_radius*dX,this.m_position.y+this.m_radius*dY);},m_localPosition:new b2Vec2(),m_radius:null});
var b2MassData=Class.create();b2MassData.prototype={mass:0.0,center:new b2Vec2(0,0),I:0.0,initialize:function(){this.center=new b2Vec2(0,0);}}

var b2PolyDef=Class.create();Object.extend(b2PolyDef.prototype,b2ShapeDef.prototype);Object.extend(b2PolyDef.prototype,{initialize:function()
{this.type=b2Shape.e_unknownShape;this.userData=null;this.localPosition=new b2Vec2(0.0,0.0);this.localRotation=0.0;this.friction=0.2;this.restitution=0.0;this.density=0.0;this.categoryBits=0x0001;this.maskBits=0xFFFF;this.groupIndex=0;this.vertices=new Array(b2Settings.b2_maxPolyVertices);this.type=b2Shape.e_polyShape;this.vertexCount=0;for(var i=0;i<b2Settings.b2_maxPolyVertices;i++){this.vertices[i]=new b2Vec2();}},vertices:new Array(b2Settings.b2_maxPolyVertices),vertexCount:0});var b2PolyShape=Class.create();Object.extend(b2PolyShape.prototype,b2Shape.prototype);Object.extend(b2PolyShape.prototype,{TestPoint:function(p){var pLocal=new b2Vec2();pLocal.SetV(p);pLocal.Subtract(this.m_position);pLocal.MulTM(this.m_R);for(var i=0;i<this.m_vertexCount;++i)
{var tVec=new b2Vec2();tVec.SetV(pLocal);tVec.Subtract(this.m_vertices[i]);var dot=b2Math.b2Dot(this.m_normals[i],tVec);if(dot>0.0)
{return false;}}
return true;},initialize:function(def,body,newOrigin){this.m_R=new b2Mat22();this.m_position=new b2Vec2();this.m_userData=def.userData;this.m_friction=def.friction;this.m_restitution=def.restitution;this.m_body=body;this.m_proxyId=b2Pair.b2_nullProxy;this.m_maxRadius=0.0;this.m_categoryBits=def.categoryBits;this.m_maskBits=def.maskBits;this.m_groupIndex=def.groupIndex;this.syncAABB=new b2AABB();this.syncMat=new b2Mat22();this.m_localCentroid=new b2Vec2();this.m_localOBB=new b2OBB();var i=0;var hX;var hY;var tVec;var aabb=new b2AABB();this.m_vertices=new Array(b2Settings.b2_maxPolyVertices);this.m_coreVertices=new Array(b2Settings.b2_maxPolyVertices);this.m_normals=new Array(b2Settings.b2_maxPolyVertices);this.m_type=b2Shape.e_polyShape;var localR=new b2Mat22(def.localRotation);if(def.type==b2Shape.e_boxShape)
{this.m_localCentroid.x=def.localPosition.x-newOrigin.x;this.m_localCentroid.y=def.localPosition.y-newOrigin.y;var box=def;this.m_vertexCount=4;hX=box.extents.x;hY=box.extents.y;var hcX=Math.max(0.0,hX-2.0*b2Settings.b2_linearSlop);var hcY=Math.max(0.0,hY-2.0*b2Settings.b2_linearSlop);tVec=this.m_vertices[0]=new b2Vec2();tVec.x=localR.col1.x*hX+localR.col2.x*hY;tVec.y=localR.col1.y*hX+localR.col2.y*hY;tVec=this.m_vertices[1]=new b2Vec2();tVec.x=localR.col1.x*-hX+localR.col2.x*hY;tVec.y=localR.col1.y*-hX+localR.col2.y*hY;tVec=this.m_vertices[2]=new b2Vec2();tVec.x=localR.col1.x*-hX+localR.col2.x*-hY;tVec.y=localR.col1.y*-hX+localR.col2.y*-hY;tVec=this.m_vertices[3]=new b2Vec2();tVec.x=localR.col1.x*hX+localR.col2.x*-hY;tVec.y=localR.col1.y*hX+localR.col2.y*-hY;tVec=this.m_coreVertices[0]=new b2Vec2();tVec.x=localR.col1.x*hcX+localR.col2.x*hcY;tVec.y=localR.col1.y*hcX+localR.col2.y*hcY;tVec=this.m_coreVertices[1]=new b2Vec2();tVec.x=localR.col1.x*-hcX+localR.col2.x*hcY;tVec.y=localR.col1.y*-hcX+localR.col2.y*hcY;tVec=this.m_coreVertices[2]=new b2Vec2();tVec.x=localR.col1.x*-hcX+localR.col2.x*-hcY;tVec.y=localR.col1.y*-hcX+localR.col2.y*-hcY;tVec=this.m_coreVertices[3]=new b2Vec2();tVec.x=localR.col1.x*hcX+localR.col2.x*-hcY;tVec.y=localR.col1.y*hcX+localR.col2.y*-hcY;}
else
{var poly=def;this.m_vertexCount=poly.vertexCount;b2Shape.PolyCentroid(poly.vertices,poly.vertexCount,b2PolyShape.tempVec);var centroidX=b2PolyShape.tempVec.x;var centroidY=b2PolyShape.tempVec.y;this.m_localCentroid.x=def.localPosition.x+(localR.col1.x*centroidX+localR.col2.x*centroidY)-newOrigin.x;this.m_localCentroid.y=def.localPosition.y+(localR.col1.y*centroidX+localR.col2.y*centroidY)-newOrigin.y;for(i=0;i<this.m_vertexCount;++i)
{this.m_vertices[i]=new b2Vec2();this.m_coreVertices[i]=new b2Vec2();hX=poly.vertices[i].x-centroidX;hY=poly.vertices[i].y-centroidY;this.m_vertices[i].x=localR.col1.x*hX+localR.col2.x*hY;this.m_vertices[i].y=localR.col1.y*hX+localR.col2.y*hY;var uX=this.m_vertices[i].x;var uY=this.m_vertices[i].y;var length=Math.sqrt(uX*uX+uY*uY);if(length>Number.MIN_VALUE)
{uX*=1.0/length;uY*=1.0/length;}
this.m_coreVertices[i].x=this.m_vertices[i].x-2.0*b2Settings.b2_linearSlop*uX;this.m_coreVertices[i].y=this.m_vertices[i].y-2.0*b2Settings.b2_linearSlop*uY;}}
var minVertexX=Number.MAX_VALUE;var minVertexY=Number.MAX_VALUE;var maxVertexX=-Number.MAX_VALUE;var maxVertexY=-Number.MAX_VALUE;this.m_maxRadius=0.0;for(i=0;i<this.m_vertexCount;++i)
{var v=this.m_vertices[i];minVertexX=Math.min(minVertexX,v.x);minVertexY=Math.min(minVertexY,v.y);maxVertexX=Math.max(maxVertexX,v.x);maxVertexY=Math.max(maxVertexY,v.y);this.m_maxRadius=Math.max(this.m_maxRadius,v.Length());}
this.m_localOBB.R.SetIdentity();this.m_localOBB.center.Set((minVertexX+maxVertexX)*0.5,(minVertexY+maxVertexY)*0.5);this.m_localOBB.extents.Set((maxVertexX-minVertexX)*0.5,(maxVertexY-minVertexY)*0.5);var i1=0;var i2=0;for(i=0;i<this.m_vertexCount;++i)
{this.m_normals[i]=new b2Vec2();i1=i;i2=i+1<this.m_vertexCount?i+1:0;this.m_normals[i].x=this.m_vertices[i2].y-this.m_vertices[i1].y;this.m_normals[i].y=-(this.m_vertices[i2].x-this.m_vertices[i1].x);this.m_normals[i].Normalize();}
for(i=0;i<this.m_vertexCount;++i)
{i1=i;i2=i+1<this.m_vertexCount?i+1:0;}
this.m_R.SetM(this.m_body.m_R);this.m_position.x=this.m_body.m_position.x+(this.m_R.col1.x*this.m_localCentroid.x+this.m_R.col2.x*this.m_localCentroid.y);this.m_position.y=this.m_body.m_position.y+(this.m_R.col1.y*this.m_localCentroid.x+this.m_R.col2.y*this.m_localCentroid.y);b2PolyShape.tAbsR.col1.x=this.m_R.col1.x*this.m_localOBB.R.col1.x+this.m_R.col2.x*this.m_localOBB.R.col1.y;b2PolyShape.tAbsR.col1.y=this.m_R.col1.y*this.m_localOBB.R.col1.x+this.m_R.col2.y*this.m_localOBB.R.col1.y;b2PolyShape.tAbsR.col2.x=this.m_R.col1.x*this.m_localOBB.R.col2.x+this.m_R.col2.x*this.m_localOBB.R.col2.y;b2PolyShape.tAbsR.col2.y=this.m_R.col1.y*this.m_localOBB.R.col2.x+this.m_R.col2.y*this.m_localOBB.R.col2.y;b2PolyShape.tAbsR.Abs()
hX=b2PolyShape.tAbsR.col1.x*this.m_localOBB.extents.x+b2PolyShape.tAbsR.col2.x*this.m_localOBB.extents.y;hY=b2PolyShape.tAbsR.col1.y*this.m_localOBB.extents.x+b2PolyShape.tAbsR.col2.y*this.m_localOBB.extents.y;var positionX=this.m_position.x+(this.m_R.col1.x*this.m_localOBB.center.x+this.m_R.col2.x*this.m_localOBB.center.y);var positionY=this.m_position.y+(this.m_R.col1.y*this.m_localOBB.center.x+this.m_R.col2.y*this.m_localOBB.center.y);aabb.minVertex.x=positionX-hX;aabb.minVertex.y=positionY-hY;aabb.maxVertex.x=positionX+hX;aabb.maxVertex.y=positionY+hY;var broadPhase=this.m_body.m_world.m_broadPhase;if(broadPhase.InRange(aabb))
{this.m_proxyId=broadPhase.CreateProxy(aabb,this);}
else
{this.m_proxyId=b2Pair.b2_nullProxy;}
if(this.m_proxyId==b2Pair.b2_nullProxy)
{this.m_body.Freeze();}},syncAABB:new b2AABB(),syncMat:new b2Mat22(),Synchronize:function(position1,R1,position2,R2){this.m_R.SetM(R2);this.m_position.x=this.m_body.m_position.x+(R2.col1.x*this.m_localCentroid.x+R2.col2.x*this.m_localCentroid.y);this.m_position.y=this.m_body.m_position.y+(R2.col1.y*this.m_localCentroid.x+R2.col2.y*this.m_localCentroid.y);if(this.m_proxyId==b2Pair.b2_nullProxy)
{return;}
var hX;var hY;var v1=R1.col1;var v2=R1.col2;var v3=this.m_localOBB.R.col1;var v4=this.m_localOBB.R.col2;this.syncMat.col1.x=v1.x*v3.x+v2.x*v3.y;this.syncMat.col1.y=v1.y*v3.x+v2.y*v3.y;this.syncMat.col2.x=v1.x*v4.x+v2.x*v4.y;this.syncMat.col2.y=v1.y*v4.x+v2.y*v4.y;this.syncMat.Abs();hX=this.m_localCentroid.x+this.m_localOBB.center.x;hY=this.m_localCentroid.y+this.m_localOBB.center.y;var centerX=position1.x+(R1.col1.x*hX+R1.col2.x*hY);var centerY=position1.y+(R1.col1.y*hX+R1.col2.y*hY);hX=this.syncMat.col1.x*this.m_localOBB.extents.x+this.syncMat.col2.x*this.m_localOBB.extents.y;hY=this.syncMat.col1.y*this.m_localOBB.extents.x+this.syncMat.col2.y*this.m_localOBB.extents.y;this.syncAABB.minVertex.x=centerX-hX;this.syncAABB.minVertex.y=centerY-hY;this.syncAABB.maxVertex.x=centerX+hX;this.syncAABB.maxVertex.y=centerY+hY;v1=R2.col1;v2=R2.col2;v3=this.m_localOBB.R.col1;v4=this.m_localOBB.R.col2;this.syncMat.col1.x=v1.x*v3.x+v2.x*v3.y;this.syncMat.col1.y=v1.y*v3.x+v2.y*v3.y;this.syncMat.col2.x=v1.x*v4.x+v2.x*v4.y;this.syncMat.col2.y=v1.y*v4.x+v2.y*v4.y;this.syncMat.Abs();hX=this.m_localCentroid.x+this.m_localOBB.center.x;hY=this.m_localCentroid.y+this.m_localOBB.center.y;centerX=position2.x+(R2.col1.x*hX+R2.col2.x*hY);centerY=position2.y+(R2.col1.y*hX+R2.col2.y*hY);hX=this.syncMat.col1.x*this.m_localOBB.extents.x+this.syncMat.col2.x*this.m_localOBB.extents.y;hY=this.syncMat.col1.y*this.m_localOBB.extents.x+this.syncMat.col2.y*this.m_localOBB.extents.y;this.syncAABB.minVertex.x=Math.min(this.syncAABB.minVertex.x,centerX-hX);this.syncAABB.minVertex.y=Math.min(this.syncAABB.minVertex.y,centerY-hY);this.syncAABB.maxVertex.x=Math.max(this.syncAABB.maxVertex.x,centerX+hX);this.syncAABB.maxVertex.y=Math.max(this.syncAABB.maxVertex.y,centerY+hY);var broadPhase=this.m_body.m_world.m_broadPhase;if(broadPhase.InRange(this.syncAABB))
{broadPhase.MoveProxy(this.m_proxyId,this.syncAABB);}
else
{this.m_body.Freeze();}},QuickSync:function(position,R){this.m_R.SetM(R);this.m_position.x=position.x+(R.col1.x*this.m_localCentroid.x+R.col2.x*this.m_localCentroid.y);this.m_position.y=position.y+(R.col1.y*this.m_localCentroid.x+R.col2.y*this.m_localCentroid.y);},ResetProxy:function(broadPhase){if(this.m_proxyId==b2Pair.b2_nullProxy)
{return;}
var proxy=broadPhase.GetProxy(this.m_proxyId);broadPhase.DestroyProxy(this.m_proxyId);proxy=null;var R=b2Math.b2MulMM(this.m_R,this.m_localOBB.R);var absR=b2Math.b2AbsM(R);var h=b2Math.b2MulMV(absR,this.m_localOBB.extents);var position=b2Math.b2MulMV(this.m_R,this.m_localOBB.center);position.Add(this.m_position);var aabb=new b2AABB();aabb.minVertex.SetV(position);aabb.minVertex.Subtract(h);aabb.maxVertex.SetV(position);aabb.maxVertex.Add(h);if(broadPhase.InRange(aabb))
{this.m_proxyId=broadPhase.CreateProxy(aabb,this);}
else
{this.m_proxyId=b2Pair.b2_nullProxy;}
if(this.m_proxyId==b2Pair.b2_nullProxy)
{this.m_body.Freeze();}},Support:function(dX,dY,out)
{var dLocalX=(dX*this.m_R.col1.x+dY*this.m_R.col1.y);var dLocalY=(dX*this.m_R.col2.x+dY*this.m_R.col2.y);var bestIndex=0;var bestValue=(this.m_coreVertices[0].x*dLocalX+this.m_coreVertices[0].y*dLocalY);for(var i=1;i<this.m_vertexCount;++i)
{var value=(this.m_coreVertices[i].x*dLocalX+this.m_coreVertices[i].y*dLocalY);if(value>bestValue)
{bestIndex=i;bestValue=value;}}
out.Set(this.m_position.x+(this.m_R.col1.x*this.m_coreVertices[bestIndex].x+this.m_R.col2.x*this.m_coreVertices[bestIndex].y),this.m_position.y+(this.m_R.col1.y*this.m_coreVertices[bestIndex].x+this.m_R.col2.y*this.m_coreVertices[bestIndex].y));},m_localCentroid:new b2Vec2(),m_localOBB:new b2OBB(),m_vertices:null,m_coreVertices:null,m_vertexCount:0,m_normals:null});b2PolyShape.tempVec=new b2Vec2();b2PolyShape.tAbsR=new b2Mat22();
var b2Body=Class.create();b2Body.prototype={SetOriginPosition:function(position,rotation){if(this.IsFrozen())
{return;}
this.m_rotation=rotation;this.m_R.Set(this.m_rotation);this.m_position=b2Math.AddVV(position,b2Math.b2MulMV(this.m_R,this.m_center));this.m_position0.SetV(this.m_position);this.m_rotation0=this.m_rotation;for(var s=this.m_shapeList;s!=null;s=s.m_next)
{s.Synchronize(this.m_position,this.m_R,this.m_position,this.m_R);}
this.m_world.m_broadPhase.Commit();},GetOriginPosition:function(){return b2Math.SubtractVV(this.m_position,b2Math.b2MulMV(this.m_R,this.m_center));},SetCenterPosition:function(position,rotation){if(this.IsFrozen())
{return;}
this.m_rotation=rotation;this.m_R.Set(this.m_rotation);this.m_position.SetV(position);this.m_position0.SetV(this.m_position);this.m_rotation0=this.m_rotation;for(var s=this.m_shapeList;s!=null;s=s.m_next)
{s.Synchronize(this.m_position,this.m_R,this.m_position,this.m_R);}
this.m_world.m_broadPhase.Commit();},GetCenterPosition:function(){return this.m_position;},GetRotation:function(){return this.m_rotation;},GetRotationMatrix:function(){return this.m_R;},SetLinearVelocity:function(v){this.m_linearVelocity.SetV(v);},GetLinearVelocity:function(){return this.m_linearVelocity;},SetAngularVelocity:function(w){this.m_angularVelocity=w;},GetAngularVelocity:function(){return this.m_angularVelocity;},ApplyForce:function(force,point)
{if(this.IsSleeping()==false)
{this.m_force.Add(force);this.m_torque+=b2Math.b2CrossVV(b2Math.SubtractVV(point,this.m_position),force);}},ApplyTorque:function(torque)
{if(this.IsSleeping()==false)
{this.m_torque+=torque;}},ApplyImpulse:function(impulse,point)
{if(this.IsSleeping()==false)
{this.m_linearVelocity.Add(b2Math.MulFV(this.m_invMass,impulse));this.m_angularVelocity+=(this.m_invI*b2Math.b2CrossVV(b2Math.SubtractVV(point,this.m_position),impulse));}},GetMass:function(){return this.m_mass;},GetInertia:function(){return this.m_I;},GetWorldPoint:function(localPoint){return b2Math.AddVV(this.m_position,b2Math.b2MulMV(this.m_R,localPoint));},GetWorldVector:function(localVector){return b2Math.b2MulMV(this.m_R,localVector);},GetLocalPoint:function(worldPoint){return b2Math.b2MulTMV(this.m_R,b2Math.SubtractVV(worldPoint,this.m_position));},GetLocalVector:function(worldVector){return b2Math.b2MulTMV(this.m_R,worldVector);},IsStatic:function(){return(this.m_flags&b2Body.e_staticFlag)==b2Body.e_staticFlag;},IsFrozen:function()
{return(this.m_flags&b2Body.e_frozenFlag)==b2Body.e_frozenFlag;},IsSleeping:function(){return(this.m_flags&b2Body.e_sleepFlag)==b2Body.e_sleepFlag;},AllowSleeping:function(flag)
{if(flag)
{this.m_flags|=b2Body.e_allowSleepFlag;}
else
{this.m_flags&=~b2Body.e_allowSleepFlag;this.WakeUp();}},WakeUp:function(){this.m_flags&=~b2Body.e_sleepFlag;this.m_sleepTime=0.0;},GetShapeList:function(){return this.m_shapeList;},GetContactList:function()
{return this.m_contactList;},GetJointList:function()
{return this.m_jointList;},GetNext:function(){return this.m_next;},GetUserData:function(){return this.m_userData;},initialize:function(bd,world){this.sMat0=new b2Mat22();this.m_position=new b2Vec2();this.m_R=new b2Mat22(0);this.m_position0=new b2Vec2();var i=0;var sd;var massData;this.m_flags=0;this.m_position.SetV(bd.position);this.m_rotation=bd.rotation;this.m_R.Set(this.m_rotation);this.m_position0.SetV(this.m_position);this.m_rotation0=this.m_rotation;this.m_world=world;this.m_linearDamping=b2Math.b2Clamp(1.0-bd.linearDamping,0.0,1.0);this.m_angularDamping=b2Math.b2Clamp(1.0-bd.angularDamping,0.0,1.0);this.m_force=new b2Vec2(0.0,0.0);this.m_torque=0.0;this.m_mass=0.0;var massDatas=new Array(b2Settings.b2_maxShapesPerBody);for(i=0;i<b2Settings.b2_maxShapesPerBody;i++){massDatas[i]=new b2MassData();}
this.m_shapeCount=0;this.m_center=new b2Vec2(0.0,0.0);for(i=0;i<b2Settings.b2_maxShapesPerBody;++i)
{sd=bd.shapes[i];if(sd==null)break;massData=massDatas[i];sd.ComputeMass(massData);this.m_mass+=massData.mass;this.m_center.x+=massData.mass*(sd.localPosition.x+massData.center.x);this.m_center.y+=massData.mass*(sd.localPosition.y+massData.center.y);++this.m_shapeCount;}
if(this.m_mass>0.0)
{this.m_center.Multiply(1.0/this.m_mass);this.m_position.Add(b2Math.b2MulMV(this.m_R,this.m_center));}
else
{this.m_flags|=b2Body.e_staticFlag;}
this.m_I=0.0;for(i=0;i<this.m_shapeCount;++i)
{sd=bd.shapes[i];massData=massDatas[i];this.m_I+=massData.I;var r=b2Math.SubtractVV(b2Math.AddVV(sd.localPosition,massData.center),this.m_center);this.m_I+=massData.mass*b2Math.b2Dot(r,r);}
if(this.m_mass>0.0)
{this.m_invMass=1.0/this.m_mass;}
else
{this.m_invMass=0.0;}
if(this.m_I>0.0&&bd.preventRotation==false)
{this.m_invI=1.0/this.m_I;}
else
{this.m_I=0.0;this.m_invI=0.0;}
this.m_linearVelocity=b2Math.AddVV(bd.linearVelocity,b2Math.b2CrossFV(bd.angularVelocity,this.m_center));this.m_angularVelocity=bd.angularVelocity;this.m_jointList=null;this.m_contactList=null;this.m_prev=null;this.m_next=null;this.m_shapeList=null;for(i=0;i<this.m_shapeCount;++i)
{sd=bd.shapes[i];var shape=b2Shape.Create(sd,this,this.m_center);shape.m_next=this.m_shapeList;this.m_shapeList=shape;}
this.m_sleepTime=0.0;if(bd.allowSleep)
{this.m_flags|=b2Body.e_allowSleepFlag;}
if(bd.isSleeping)
{this.m_flags|=b2Body.e_sleepFlag;}
if((this.m_flags&b2Body.e_sleepFlag)||this.m_invMass==0.0)
{this.m_linearVelocity.Set(0.0,0.0);this.m_angularVelocity=0.0;}
this.m_userData=bd.userData;},Destroy:function(){var s=this.m_shapeList;while(s)
{var s0=s;s=s.m_next;b2Shape.Destroy(s0);}},sMat0:new b2Mat22(),SynchronizeShapes:function(){this.sMat0.Set(this.m_rotation0);for(var s=this.m_shapeList;s!=null;s=s.m_next)
{s.Synchronize(this.m_position0,this.sMat0,this.m_position,this.m_R);}},QuickSyncShapes:function(){for(var s=this.m_shapeList;s!=null;s=s.m_next)
{s.QuickSync(this.m_position,this.m_R);}},IsConnected:function(other){for(var jn=this.m_jointList;jn!=null;jn=jn.next)
{if(jn.other==other)
return jn.joint.m_collideConnected==false;}
return false;},Freeze:function(){this.m_flags|=b2Body.e_frozenFlag;this.m_linearVelocity.SetZero();this.m_angularVelocity=0.0;for(var s=this.m_shapeList;s!=null;s=s.m_next)
{s.DestroyProxy();}},m_flags:0,m_position:new b2Vec2(),m_rotation:null,m_R:new b2Mat22(0),m_position0:new b2Vec2(),m_rotation0:null,m_linearVelocity:null,m_angularVelocity:null,m_force:null,m_torque:null,m_center:null,m_world:null,m_prev:null,m_next:null,m_shapeList:null,m_shapeCount:0,m_jointList:null,m_contactList:null,m_mass:null,m_invMass:null,m_I:null,m_invI:null,m_linearDamping:null,m_angularDamping:null,m_sleepTime:null,m_userData:null};b2Body.e_staticFlag=0x0001;b2Body.e_frozenFlag=0x0002;b2Body.e_islandFlag=0x0004;b2Body.e_sleepFlag=0x0008;b2Body.e_allowSleepFlag=0x0010;b2Body.e_destroyFlag=0x0020;
var b2BodyDef=Class.create();b2BodyDef.prototype={initialize:function()
{this.shapes=new Array();this.userData=null;for(var i=0;i<b2Settings.b2_maxShapesPerBody;i++){this.shapes[i]=null;}
this.position=new b2Vec2(0.0,0.0);this.rotation=0.0;this.linearVelocity=new b2Vec2(0.0,0.0);this.angularVelocity=0.0;this.linearDamping=0.0;this.angularDamping=0.0;this.allowSleep=true;this.isSleeping=false;this.preventRotation=false;},userData:null,shapes:new Array(),position:null,rotation:null,linearVelocity:null,angularVelocity:null,linearDamping:null,angularDamping:null,allowSleep:null,isSleeping:null,preventRotation:null,AddShape:function(shape)
{for(var i=0;i<b2Settings.b2_maxShapesPerBody;++i)
{if(this.shapes[i]==null)
{this.shapes[i]=shape;break;}}}};
var b2CollisionFilter=Class.create();b2CollisionFilter.prototype={ShouldCollide:function(shape1,shape2){if(shape1.m_groupIndex==shape2.m_groupIndex&&shape1.m_groupIndex!=0)
{return shape1.m_groupIndex>0;}
var collide=(shape1.m_maskBits&shape2.m_categoryBits)!=0&&(shape1.m_categoryBits&shape2.m_maskBits)!=0;return collide;},initialize:function(){}};b2CollisionFilter.b2_defaultFilter=new b2CollisionFilter;
var b2Island=Class.create();b2Island.prototype={initialize:function(bodyCapacity,contactCapacity,jointCapacity,allocator)
{var i=0;this.m_bodyCapacity=bodyCapacity;this.m_contactCapacity=contactCapacity;this.m_jointCapacity=jointCapacity;this.m_bodyCount=0;this.m_contactCount=0;this.m_jointCount=0;this.m_bodies=new Array(bodyCapacity);for(i=0;i<bodyCapacity;i++)
this.m_bodies[i]=null;this.m_contacts=new Array(contactCapacity);for(i=0;i<contactCapacity;i++)
this.m_contacts[i]=null;this.m_joints=new Array(jointCapacity);for(i=0;i<jointCapacity;i++)
this.m_joints[i]=null;this.m_allocator=allocator;},Clear:function()
{this.m_bodyCount=0;this.m_contactCount=0;this.m_jointCount=0;},Solve:function(step,gravity)
{var i=0;var b;for(i=0;i<this.m_bodyCount;++i)
{b=this.m_bodies[i];if(b.m_invMass==0.0)
continue;b.m_linearVelocity.Add(b2Math.MulFV(step.dt,b2Math.AddVV(gravity,b2Math.MulFV(b.m_invMass,b.m_force))));b.m_angularVelocity+=step.dt*b.m_invI*b.m_torque;b.m_linearVelocity.Multiply(b.m_linearDamping);b.m_angularVelocity*=b.m_angularDamping;b.m_position0.SetV(b.m_position);b.m_rotation0=b.m_rotation;}
var contactSolver=new b2ContactSolver(this.m_contacts,this.m_contactCount,this.m_allocator);contactSolver.PreSolve();for(i=0;i<this.m_jointCount;++i)
{this.m_joints[i].PrepareVelocitySolver();}
for(i=0;i<step.iterations;++i)
{contactSolver.SolveVelocityConstraints();for(var j=0;j<this.m_jointCount;++j)
{this.m_joints[j].SolveVelocityConstraints(step);}}
for(i=0;i<this.m_bodyCount;++i)
{b=this.m_bodies[i];if(b.m_invMass==0.0)
continue;b.m_position.x+=step.dt*b.m_linearVelocity.x;b.m_position.y+=step.dt*b.m_linearVelocity.y;b.m_rotation+=step.dt*b.m_angularVelocity;b.m_R.Set(b.m_rotation);}
for(i=0;i<this.m_jointCount;++i)
{this.m_joints[i].PreparePositionSolver();}
if(b2World.s_enablePositionCorrection)
{for(b2Island.m_positionIterationCount=0;b2Island.m_positionIterationCount<step.iterations;++b2Island.m_positionIterationCount)
{var contactsOkay=contactSolver.SolvePositionConstraints(b2Settings.b2_contactBaumgarte);var jointsOkay=true;for(i=0;i<this.m_jointCount;++i)
{var jointOkay=this.m_joints[i].SolvePositionConstraints();jointsOkay=jointsOkay&&jointOkay;}
if(contactsOkay&&jointsOkay)
{break;}}}
contactSolver.PostSolve();for(i=0;i<this.m_bodyCount;++i)
{b=this.m_bodies[i];if(b.m_invMass==0.0)
continue;b.m_R.Set(b.m_rotation);b.SynchronizeShapes();b.m_force.Set(0.0,0.0);b.m_torque=0.0;}},UpdateSleep:function(dt)
{var i=0;var b;var minSleepTime=Number.MAX_VALUE;var linTolSqr=b2Settings.b2_linearSleepTolerance*b2Settings.b2_linearSleepTolerance;var angTolSqr=b2Settings.b2_angularSleepTolerance*b2Settings.b2_angularSleepTolerance;for(i=0;i<this.m_bodyCount;++i)
{b=this.m_bodies[i];if(b.m_invMass==0.0)
{continue;}
if((b.m_flags&b2Body.e_allowSleepFlag)==0)
{b.m_sleepTime=0.0;minSleepTime=0.0;}
if((b.m_flags&b2Body.e_allowSleepFlag)==0||b.m_angularVelocity*b.m_angularVelocity>angTolSqr||b2Math.b2Dot(b.m_linearVelocity,b.m_linearVelocity)>linTolSqr)
{b.m_sleepTime=0.0;minSleepTime=0.0;}
else
{b.m_sleepTime+=dt;minSleepTime=b2Math.b2Min(minSleepTime,b.m_sleepTime);}}
if(minSleepTime>=b2Settings.b2_timeToSleep)
{for(i=0;i<this.m_bodyCount;++i)
{b=this.m_bodies[i];b.m_flags|=b2Body.e_sleepFlag;}}},AddBody:function(body)
{this.m_bodies[this.m_bodyCount++]=body;},AddContact:function(contact)
{this.m_contacts[this.m_contactCount++]=contact;},AddJoint:function(joint)
{this.m_joints[this.m_jointCount++]=joint;},m_allocator:null,m_bodies:null,m_contacts:null,m_joints:null,m_bodyCount:0,m_jointCount:0,m_contactCount:0,m_bodyCapacity:0,m_contactCapacity:0,m_jointCapacity:0,m_positionError:null};b2Island.m_positionIterationCount=0;
var b2TimeStep=Class.create();b2TimeStep.prototype={dt:null,inv_dt:null,iterations:0,initialize:function(){}};
var b2ContactNode=Class.create();b2ContactNode.prototype={other:null,contact:null,prev:null,next:null,initialize:function(){}};
var b2Contact=Class.create();b2Contact.prototype={GetManifolds:function(){return null},GetManifoldCount:function()
{return this.m_manifoldCount;},GetNext:function(){return this.m_next;},GetShape1:function(){return this.m_shape1;},GetShape2:function(){return this.m_shape2;},initialize:function(s1,s2)
{this.m_node1=new b2ContactNode();this.m_node2=new b2ContactNode();this.m_flags=0;if(!s1||!s2){this.m_shape1=null;this.m_shape2=null;return;}
this.m_shape1=s1;this.m_shape2=s2;this.m_manifoldCount=0;this.m_friction=Math.sqrt(this.m_shape1.m_friction*this.m_shape2.m_friction);this.m_restitution=b2Math.b2Max(this.m_shape1.m_restitution,this.m_shape2.m_restitution);this.m_prev=null;this.m_next=null;this.m_node1.contact=null;this.m_node1.prev=null;this.m_node1.next=null;this.m_node1.other=null;this.m_node2.contact=null;this.m_node2.prev=null;this.m_node2.next=null;this.m_node2.other=null;},Evaluate:function(){},m_flags:0,m_prev:null,m_next:null,m_node1:new b2ContactNode(),m_node2:new b2ContactNode(),m_shape1:null,m_shape2:null,m_manifoldCount:0,m_friction:null,m_restitution:null};b2Contact.e_islandFlag=0x0001;b2Contact.e_destroyFlag=0x0002;b2Contact.AddType=function(createFcn,destroyFcn,type1,type2)
{b2Contact.s_registers[type1][type2].createFcn=createFcn;b2Contact.s_registers[type1][type2].destroyFcn=destroyFcn;b2Contact.s_registers[type1][type2].primary=true;if(type1!=type2)
{b2Contact.s_registers[type2][type1].createFcn=createFcn;b2Contact.s_registers[type2][type1].destroyFcn=destroyFcn;b2Contact.s_registers[type2][type1].primary=false;}};b2Contact.InitializeRegisters=function(){b2Contact.s_registers=new Array(b2Shape.e_shapeTypeCount);for(var i=0;i<b2Shape.e_shapeTypeCount;i++){b2Contact.s_registers[i]=new Array(b2Shape.e_shapeTypeCount);for(var j=0;j<b2Shape.e_shapeTypeCount;j++){b2Contact.s_registers[i][j]=new b2ContactRegister();}}
b2Contact.AddType(b2CircleContact.Create,b2CircleContact.Destroy,b2Shape.e_circleShape,b2Shape.e_circleShape);b2Contact.AddType(b2PolyAndCircleContact.Create,b2PolyAndCircleContact.Destroy,b2Shape.e_polyShape,b2Shape.e_circleShape);b2Contact.AddType(b2PolyContact.Create,b2PolyContact.Destroy,b2Shape.e_polyShape,b2Shape.e_polyShape);};b2Contact.Create=function(shape1,shape2,allocator){if(b2Contact.s_initialized==false)
{b2Contact.InitializeRegisters();b2Contact.s_initialized=true;}
var type1=shape1.m_type;var type2=shape2.m_type;var createFcn=b2Contact.s_registers[type1][type2].createFcn;if(createFcn)
{if(b2Contact.s_registers[type1][type2].primary)
{return createFcn(shape1,shape2,allocator);}
else
{var c=createFcn(shape2,shape1,allocator);for(var i=0;i<c.GetManifoldCount();++i)
{var m=c.GetManifolds()[i];m.normal=m.normal.Negative();}
return c;}}
else
{return null;}};b2Contact.Destroy=function(contact,allocator){if(contact.GetManifoldCount()>0)
{contact.m_shape1.m_body.WakeUp();contact.m_shape2.m_body.WakeUp();}
var type1=contact.m_shape1.m_type;var type2=contact.m_shape2.m_type;var destroyFcn=b2Contact.s_registers[type1][type2].destroyFcn;destroyFcn(contact,allocator);};b2Contact.s_registers=null;b2Contact.s_initialized=false;
var b2ContactConstraint=Class.create();b2ContactConstraint.prototype={initialize:function(){this.normal=new b2Vec2();this.points=new Array(b2Settings.b2_maxManifoldPoints);for(var i=0;i<b2Settings.b2_maxManifoldPoints;i++){this.points[i]=new b2ContactConstraintPoint();}},points:null,normal:new b2Vec2(),manifold:null,body1:null,body2:null,friction:null,restitution:null,pointCount:0};
var b2ContactConstraintPoint=Class.create();b2ContactConstraintPoint.prototype={localAnchor1:new b2Vec2(),localAnchor2:new b2Vec2(),normalImpulse:null,tangentImpulse:null,positionImpulse:null,normalMass:null,tangentMass:null,separation:null,velocityBias:null,initialize:function(){this.localAnchor1=new b2Vec2();this.localAnchor2=new b2Vec2();}};
var b2ContactRegister=Class.create();b2ContactRegister.prototype={createFcn:null,destroyFcn:null,primary:null,initialize:function(){}};
var b2ContactSolver=Class.create();b2ContactSolver.prototype={initialize:function(contacts,contactCount,allocator){this.m_constraints=new Array();this.m_allocator=allocator;var i=0;var tVec;var tMat;this.m_constraintCount=0;for(i=0;i<contactCount;++i)
{this.m_constraintCount+=contacts[i].GetManifoldCount();}
for(i=0;i<this.m_constraintCount;i++){this.m_constraints[i]=new b2ContactConstraint();}
var count=0;for(i=0;i<contactCount;++i)
{var contact=contacts[i];var b1=contact.m_shape1.m_body;var b2=contact.m_shape2.m_body;var manifoldCount=contact.GetManifoldCount();var manifolds=contact.GetManifolds();var friction=contact.m_friction;var restitution=contact.m_restitution;var v1X=b1.m_linearVelocity.x;var v1Y=b1.m_linearVelocity.y;var v2X=b2.m_linearVelocity.x;var v2Y=b2.m_linearVelocity.y;var w1=b1.m_angularVelocity;var w2=b2.m_angularVelocity;for(var j=0;j<manifoldCount;++j)
{var manifold=manifolds[j];var normalX=manifold.normal.x;var normalY=manifold.normal.y;var c=this.m_constraints[count];c.body1=b1;c.body2=b2;c.manifold=manifold;c.normal.x=normalX;c.normal.y=normalY;c.pointCount=manifold.pointCount;c.friction=friction;c.restitution=restitution;for(var k=0;k<c.pointCount;++k)
{var cp=manifold.points[k];var ccp=c.points[k];ccp.normalImpulse=cp.normalImpulse;ccp.tangentImpulse=cp.tangentImpulse;ccp.separation=cp.separation;var r1X=cp.position.x-b1.m_position.x;var r1Y=cp.position.y-b1.m_position.y;var r2X=cp.position.x-b2.m_position.x;var r2Y=cp.position.y-b2.m_position.y;tVec=ccp.localAnchor1;tMat=b1.m_R;tVec.x=r1X*tMat.col1.x+r1Y*tMat.col1.y;tVec.y=r1X*tMat.col2.x+r1Y*tMat.col2.y;tVec=ccp.localAnchor2;tMat=b2.m_R;tVec.x=r2X*tMat.col1.x+r2Y*tMat.col1.y;tVec.y=r2X*tMat.col2.x+r2Y*tMat.col2.y;var r1Sqr=r1X*r1X+r1Y*r1Y;var r2Sqr=r2X*r2X+r2Y*r2Y;var rn1=r1X*normalX+r1Y*normalY;var rn2=r2X*normalX+r2Y*normalY;var kNormal=b1.m_invMass+b2.m_invMass;kNormal+=b1.m_invI*(r1Sqr-rn1*rn1)+b2.m_invI*(r2Sqr-rn2*rn2);ccp.normalMass=1.0/kNormal;var tangentX=normalY
var tangentY=-normalX;var rt1=r1X*tangentX+r1Y*tangentY;var rt2=r2X*tangentX+r2Y*tangentY;var kTangent=b1.m_invMass+b2.m_invMass;kTangent+=b1.m_invI*(r1Sqr-rt1*rt1)+b2.m_invI*(r2Sqr-rt2*rt2);ccp.tangentMass=1.0/kTangent;ccp.velocityBias=0.0;if(ccp.separation>0.0)
{ccp.velocityBias=-60.0*ccp.separation;}
var tX=v2X+(-w2*r2Y)-v1X-(-w1*r1Y);var tY=v2Y+(w2*r2X)-v1Y-(w1*r1X);var vRel=c.normal.x*tX+c.normal.y*tY;if(vRel<-b2Settings.b2_velocityThreshold)
{ccp.velocityBias+=-c.restitution*vRel;}}
++count;}}},PreSolve:function(){var tVec;var tVec2;var tMat;for(var i=0;i<this.m_constraintCount;++i)
{var c=this.m_constraints[i];var b1=c.body1;var b2=c.body2;var invMass1=b1.m_invMass;var invI1=b1.m_invI;var invMass2=b2.m_invMass;var invI2=b2.m_invI;var normalX=c.normal.x;var normalY=c.normal.y;var tangentX=normalY;var tangentY=-normalX;var j=0;var tCount=0;if(b2World.s_enableWarmStarting)
{tCount=c.pointCount;for(j=0;j<tCount;++j)
{var ccp=c.points[j];var PX=ccp.normalImpulse*normalX+ccp.tangentImpulse*tangentX;var PY=ccp.normalImpulse*normalY+ccp.tangentImpulse*tangentY;tMat=b1.m_R;tVec=ccp.localAnchor1;var r1X=tMat.col1.x*tVec.x+tMat.col2.x*tVec.y;var r1Y=tMat.col1.y*tVec.x+tMat.col2.y*tVec.y;tMat=b2.m_R;tVec=ccp.localAnchor2;var r2X=tMat.col1.x*tVec.x+tMat.col2.x*tVec.y;var r2Y=tMat.col1.y*tVec.x+tMat.col2.y*tVec.y;b1.m_angularVelocity-=invI1*(r1X*PY-r1Y*PX);b1.m_linearVelocity.x-=invMass1*PX;b1.m_linearVelocity.y-=invMass1*PY;b2.m_angularVelocity+=invI2*(r2X*PY-r2Y*PX);b2.m_linearVelocity.x+=invMass2*PX;b2.m_linearVelocity.y+=invMass2*PY;ccp.positionImpulse=0.0;}}
else{tCount=c.pointCount;for(j=0;j<tCount;++j)
{var ccp2=c.points[j];ccp2.normalImpulse=0.0;ccp2.tangentImpulse=0.0;ccp2.positionImpulse=0.0;}}}},SolveVelocityConstraints:function(){var j=0;var ccp;var r1X;var r1Y;var r2X;var r2Y;var dvX;var dvY;var lambda;var newImpulse;var PX;var PY;var tMat;var tVec;for(var i=0;i<this.m_constraintCount;++i)
{var c=this.m_constraints[i];var b1=c.body1;var b2=c.body2;var b1_angularVelocity=b1.m_angularVelocity;var b1_linearVelocity=b1.m_linearVelocity;var b2_angularVelocity=b2.m_angularVelocity;var b2_linearVelocity=b2.m_linearVelocity;var invMass1=b1.m_invMass;var invI1=b1.m_invI;var invMass2=b2.m_invMass;var invI2=b2.m_invI;var normalX=c.normal.x;var normalY=c.normal.y;var tangentX=normalY;var tangentY=-normalX;var tCount=c.pointCount;for(j=0;j<tCount;++j)
{ccp=c.points[j];tMat=b1.m_R;tVec=ccp.localAnchor1;r1X=tMat.col1.x*tVec.x+tMat.col2.x*tVec.y
r1Y=tMat.col1.y*tVec.x+tMat.col2.y*tVec.y
tMat=b2.m_R;tVec=ccp.localAnchor2;r2X=tMat.col1.x*tVec.x+tMat.col2.x*tVec.y
r2Y=tMat.col1.y*tVec.x+tMat.col2.y*tVec.y
dvX=b2_linearVelocity.x+(-b2_angularVelocity*r2Y)-b1_linearVelocity.x-(-b1_angularVelocity*r1Y);dvY=b2_linearVelocity.y+(b2_angularVelocity*r2X)-b1_linearVelocity.y-(b1_angularVelocity*r1X);var vn=dvX*normalX+dvY*normalY;lambda=-ccp.normalMass*(vn-ccp.velocityBias);newImpulse=b2Math.b2Max(ccp.normalImpulse+lambda,0.0);lambda=newImpulse-ccp.normalImpulse;PX=lambda*normalX;PY=lambda*normalY;b1_linearVelocity.x-=invMass1*PX;b1_linearVelocity.y-=invMass1*PY;b1_angularVelocity-=invI1*(r1X*PY-r1Y*PX);b2_linearVelocity.x+=invMass2*PX;b2_linearVelocity.y+=invMass2*PY;b2_angularVelocity+=invI2*(r2X*PY-r2Y*PX);ccp.normalImpulse=newImpulse;dvX=b2_linearVelocity.x+(-b2_angularVelocity*r2Y)-b1_linearVelocity.x-(-b1_angularVelocity*r1Y);dvY=b2_linearVelocity.y+(b2_angularVelocity*r2X)-b1_linearVelocity.y-(b1_angularVelocity*r1X);var vt=dvX*tangentX+dvY*tangentY;lambda=ccp.tangentMass*(-vt);var maxFriction=c.friction*ccp.normalImpulse;newImpulse=b2Math.b2Clamp(ccp.tangentImpulse+lambda,-maxFriction,maxFriction);lambda=newImpulse-ccp.tangentImpulse;PX=lambda*tangentX;PY=lambda*tangentY;b1_linearVelocity.x-=invMass1*PX;b1_linearVelocity.y-=invMass1*PY;b1_angularVelocity-=invI1*(r1X*PY-r1Y*PX);b2_linearVelocity.x+=invMass2*PX;b2_linearVelocity.y+=invMass2*PY;b2_angularVelocity+=invI2*(r2X*PY-r2Y*PX);ccp.tangentImpulse=newImpulse;}
b1.m_angularVelocity=b1_angularVelocity;b2.m_angularVelocity=b2_angularVelocity;}},SolvePositionConstraints:function(beta){var minSeparation=0.0;var tMat;var tVec;for(var i=0;i<this.m_constraintCount;++i)
{var c=this.m_constraints[i];var b1=c.body1;var b2=c.body2;var b1_position=b1.m_position;var b1_rotation=b1.m_rotation;var b2_position=b2.m_position;var b2_rotation=b2.m_rotation;var invMass1=b1.m_invMass;var invI1=b1.m_invI;var invMass2=b2.m_invMass;var invI2=b2.m_invI;var normalX=c.normal.x;var normalY=c.normal.y;var tangentX=normalY;var tangentY=-normalX;var tCount=c.pointCount;for(var j=0;j<tCount;++j)
{var ccp=c.points[j];tMat=b1.m_R;tVec=ccp.localAnchor1;var r1X=tMat.col1.x*tVec.x+tMat.col2.x*tVec.y
var r1Y=tMat.col1.y*tVec.x+tMat.col2.y*tVec.y
tMat=b2.m_R;tVec=ccp.localAnchor2;var r2X=tMat.col1.x*tVec.x+tMat.col2.x*tVec.y
var r2Y=tMat.col1.y*tVec.x+tMat.col2.y*tVec.y
var p1X=b1_position.x+r1X;var p1Y=b1_position.y+r1Y;var p2X=b2_position.x+r2X;var p2Y=b2_position.y+r2Y;var dpX=p2X-p1X;var dpY=p2Y-p1Y;var separation=(dpX*normalX+dpY*normalY)+ccp.separation;minSeparation=b2Math.b2Min(minSeparation,separation);var C=beta*b2Math.b2Clamp(separation+b2Settings.b2_linearSlop,-b2Settings.b2_maxLinearCorrection,0.0);var dImpulse=-ccp.normalMass*C;var impulse0=ccp.positionImpulse;ccp.positionImpulse=b2Math.b2Max(impulse0+dImpulse,0.0);dImpulse=ccp.positionImpulse-impulse0;var impulseX=dImpulse*normalX;var impulseY=dImpulse*normalY;b1_position.x-=invMass1*impulseX;b1_position.y-=invMass1*impulseY;b1_rotation-=invI1*(r1X*impulseY-r1Y*impulseX);b1.m_R.Set(b1_rotation);b2_position.x+=invMass2*impulseX;b2_position.y+=invMass2*impulseY;b2_rotation+=invI2*(r2X*impulseY-r2Y*impulseX);b2.m_R.Set(b2_rotation);}
b1.m_rotation=b1_rotation;b2.m_rotation=b2_rotation;}
return minSeparation>=-b2Settings.b2_linearSlop;},PostSolve:function(){for(var i=0;i<this.m_constraintCount;++i)
{var c=this.m_constraints[i];var m=c.manifold;for(var j=0;j<c.pointCount;++j)
{var mPoint=m.points[j];var cPoint=c.points[j];mPoint.normalImpulse=cPoint.normalImpulse;mPoint.tangentImpulse=cPoint.tangentImpulse;}}},m_allocator:null,m_constraints:new Array(),m_constraintCount:0};
var b2CircleContact=Class.create();Object.extend(b2CircleContact.prototype,b2Contact.prototype);Object.extend(b2CircleContact.prototype,{initialize:function(s1,s2){this.m_node1=new b2ContactNode();this.m_node2=new b2ContactNode();this.m_flags=0;if(!s1||!s2){this.m_shape1=null;this.m_shape2=null;return;}
this.m_shape1=s1;this.m_shape2=s2;this.m_manifoldCount=0;this.m_friction=Math.sqrt(this.m_shape1.m_friction*this.m_shape2.m_friction);this.m_restitution=b2Math.b2Max(this.m_shape1.m_restitution,this.m_shape2.m_restitution);this.m_prev=null;this.m_next=null;this.m_node1.contact=null;this.m_node1.prev=null;this.m_node1.next=null;this.m_node1.other=null;this.m_node2.contact=null;this.m_node2.prev=null;this.m_node2.next=null;this.m_node2.other=null;this.m_manifold=[new b2Manifold()];this.m_manifold[0].pointCount=0;this.m_manifold[0].points[0].normalImpulse=0.0;this.m_manifold[0].points[0].tangentImpulse=0.0;},Evaluate:function(){b2Collision.b2CollideCircle(this.m_manifold[0],this.m_shape1,this.m_shape2,false);if(this.m_manifold[0].pointCount>0)
{this.m_manifoldCount=1;}
else
{this.m_manifoldCount=0;}},GetManifolds:function()
{return this.m_manifold;},m_manifold:[new b2Manifold()]});b2CircleContact.Create=function(shape1,shape2,allocator){return new b2CircleContact(shape1,shape2);};b2CircleContact.Destroy=function(contact,allocator){};
var b2Conservative=Class.create();b2Conservative.prototype={initialize:function(){}}
b2Conservative.R1=new b2Mat22();b2Conservative.R2=new b2Mat22();b2Conservative.x1=new b2Vec2();b2Conservative.x2=new b2Vec2();b2Conservative.Conservative=function(shape1,shape2){var body1=shape1.GetBody();var body2=shape2.GetBody();var v1X=body1.m_position.x-body1.m_position0.x;var v1Y=body1.m_position.y-body1.m_position0.y;var omega1=body1.m_rotation-body1.m_rotation0;var v2X=body2.m_position.x-body2.m_position0.x;var v2Y=body2.m_position.y-body2.m_position0.y;var omega2=body2.m_rotation-body2.m_rotation0;var r1=shape1.GetMaxRadius();var r2=shape2.GetMaxRadius();var p1StartX=body1.m_position0.x;var p1StartY=body1.m_position0.y;var a1Start=body1.m_rotation0;var p2StartX=body2.m_position0.x;var p2StartY=body2.m_position0.y;var a2Start=body2.m_rotation0;var p1X=p1StartX;var p1Y=p1StartY;var a1=a1Start;var p2X=p2StartX;var p2Y=p2StartY;var a2=a2Start;b2Conservative.R1.Set(a1);b2Conservative.R2.Set(a2);shape1.QuickSync(p1,b2Conservative.R1);shape2.QuickSync(p2,b2Conservative.R2);var s1=0.0;var maxIterations=10;var dX;var dY;var invRelativeVelocity=0.0;var hit=true;for(var iter=0;iter<maxIterations;++iter)
{var distance=b2Distance.Distance(b2Conservative.x1,b2Conservative.x2,shape1,shape2);if(distance<b2Settings.b2_linearSlop)
{if(iter==0)
{hit=false;}
else
{hit=true;}
break;}
if(iter==0)
{dX=b2Conservative.x2.x-b2Conservative.x1.x;dY=b2Conservative.x2.y-b2Conservative.x1.y;var dLen=Math.sqrt(dX*dX+dY*dY);var relativeVelocity=(dX*(v1X-v2X)+dY*(v1Y-v2Y))+Math.abs(omega1)*r1+Math.abs(omega2)*r2;if(Math.abs(relativeVelocity)<Number.MIN_VALUE)
{hit=false;break;}
invRelativeVelocity=1.0/relativeVelocity;}
var ds=distance*invRelativeVelocity;var s2=s1+ds;if(s2<0.0||1.0<s2)
{hit=false;break;}
if(s2<(1.0+100.0*Number.MIN_VALUE)*s1)
{hit=true;break;}
s1=s2;p1X=p1StartX+s1*v1.x;p1Y=p1StartY+s1*v1.y;a1=a1Start+s1*omega1;p2X=p2StartX+s1*v2.x;p2Y=p2StartY+s1*v2.y;a2=a2Start+s1*omega2;b2Conservative.R1.Set(a1);b2Conservative.R2.Set(a2);shape1.QuickSync(p1,b2Conservative.R1);shape2.QuickSync(p2,b2Conservative.R2);}
if(hit)
{dX=b2Conservative.x2.x-b2Conservative.x1.x;dY=b2Conservative.x2.y-b2Conservative.x1.y;var length=Math.sqrt(dX*dX+dY*dY);if(length>FLT_EPSILON)
{d*=b2_linearSlop/length;}
if(body1.IsStatic())
{body1.m_position.x=p1X;body1.m_position.y=p1Y;}
else
{body1.m_position.x=p1X-dX;body1.m_position.y=p1Y-dY;}
body1.m_rotation=a1;body1.m_R.Set(a1);body1.QuickSyncShapes();if(body2.IsStatic())
{body2.m_position.x=p2X;body2.m_position.y=p2Y;}
else
{body2.m_position.x=p2X+dX;body2.m_position.y=p2Y+dY;}
body2.m_position.x=p2X+dX;body2.m_position.y=p2Y+dY;body2.m_rotation=a2;body2.m_R.Set(a2);body2.QuickSyncShapes();return true;}
shape1.QuickSync(body1.m_position,body1.m_R);shape2.QuickSync(body2.m_position,body2.m_R);return false;};
var b2NullContact=Class.create();Object.extend(b2NullContact.prototype,b2Contact.prototype);Object.extend(b2NullContact.prototype,{initialize:function(s1,s2){this.m_node1=new b2ContactNode();this.m_node2=new b2ContactNode();this.m_flags=0;if(!s1||!s2){this.m_shape1=null;this.m_shape2=null;return;}
this.m_shape1=s1;this.m_shape2=s2;this.m_manifoldCount=0;this.m_friction=Math.sqrt(this.m_shape1.m_friction*this.m_shape2.m_friction);this.m_restitution=b2Math.b2Max(this.m_shape1.m_restitution,this.m_shape2.m_restitution);this.m_prev=null;this.m_next=null;this.m_node1.contact=null;this.m_node1.prev=null;this.m_node1.next=null;this.m_node1.other=null;this.m_node2.contact=null;this.m_node2.prev=null;this.m_node2.next=null;this.m_node2.other=null;},Evaluate:function(){},GetManifolds:function(){return null;}});
var b2PolyAndCircleContact=Class.create();Object.extend(b2PolyAndCircleContact.prototype,b2Contact.prototype);Object.extend(b2PolyAndCircleContact.prototype,{initialize:function(s1,s2){this.m_node1=new b2ContactNode();this.m_node2=new b2ContactNode();this.m_flags=0;if(!s1||!s2){this.m_shape1=null;this.m_shape2=null;return;}
this.m_shape1=s1;this.m_shape2=s2;this.m_manifoldCount=0;this.m_friction=Math.sqrt(this.m_shape1.m_friction*this.m_shape2.m_friction);this.m_restitution=b2Math.b2Max(this.m_shape1.m_restitution,this.m_shape2.m_restitution);this.m_prev=null;this.m_next=null;this.m_node1.contact=null;this.m_node1.prev=null;this.m_node1.next=null;this.m_node1.other=null;this.m_node2.contact=null;this.m_node2.prev=null;this.m_node2.next=null;this.m_node2.other=null;this.m_manifold=[new b2Manifold()];b2Settings.b2Assert(this.m_shape1.m_type==b2Shape.e_polyShape);b2Settings.b2Assert(this.m_shape2.m_type==b2Shape.e_circleShape);this.m_manifold[0].pointCount=0;this.m_manifold[0].points[0].normalImpulse=0.0;this.m_manifold[0].points[0].tangentImpulse=0.0;},Evaluate:function(){b2Collision.b2CollidePolyAndCircle(this.m_manifold[0],this.m_shape1,this.m_shape2,false);if(this.m_manifold[0].pointCount>0)
{this.m_manifoldCount=1;}
else
{this.m_manifoldCount=0;}},GetManifolds:function()
{return this.m_manifold;},m_manifold:[new b2Manifold()]})
b2PolyAndCircleContact.Create=function(shape1,shape2,allocator){return new b2PolyAndCircleContact(shape1,shape2);};b2PolyAndCircleContact.Destroy=function(contact,allocator){};
var b2PolyContact=Class.create();Object.extend(b2PolyContact.prototype,b2Contact.prototype);Object.extend(b2PolyContact.prototype,{initialize:function(s1,s2){this.m_node1=new b2ContactNode();this.m_node2=new b2ContactNode();this.m_flags=0;if(!s1||!s2){this.m_shape1=null;this.m_shape2=null;return;}
this.m_shape1=s1;this.m_shape2=s2;this.m_manifoldCount=0;this.m_friction=Math.sqrt(this.m_shape1.m_friction*this.m_shape2.m_friction);this.m_restitution=b2Math.b2Max(this.m_shape1.m_restitution,this.m_shape2.m_restitution);this.m_prev=null;this.m_next=null;this.m_node1.contact=null;this.m_node1.prev=null;this.m_node1.next=null;this.m_node1.other=null;this.m_node2.contact=null;this.m_node2.prev=null;this.m_node2.next=null;this.m_node2.other=null;this.m0=new b2Manifold();this.m_manifold=[new b2Manifold()];this.m_manifold[0].pointCount=0;},m0:new b2Manifold(),Evaluate:function(){var tMani=this.m_manifold[0];var tPoints=this.m0.points;for(var k=0;k<tMani.pointCount;k++){var tPoint=tPoints[k];var tPoint0=tMani.points[k];tPoint.normalImpulse=tPoint0.normalImpulse;tPoint.tangentImpulse=tPoint0.tangentImpulse;tPoint.id=tPoint0.id.Copy();}
this.m0.pointCount=tMani.pointCount;b2Collision.b2CollidePoly(tMani,this.m_shape1,this.m_shape2,false);if(tMani.pointCount>0)
{var match=[false,false];for(var i=0;i<tMani.pointCount;++i)
{var cp=tMani.points[i];cp.normalImpulse=0.0;cp.tangentImpulse=0.0;var idKey=cp.id.key;for(var j=0;j<this.m0.pointCount;++j)
{if(match[j]==true)
continue;var cp0=this.m0.points[j];var id0=cp0.id;if(id0.key==idKey)
{match[j]=true;cp.normalImpulse=cp0.normalImpulse;cp.tangentImpulse=cp0.tangentImpulse;break;}}}
this.m_manifoldCount=1;}
else
{this.m_manifoldCount=0;}},GetManifolds:function()
{return this.m_manifold;},m_manifold:[new b2Manifold()]});b2PolyContact.Create=function(shape1,shape2,allocator){return new b2PolyContact(shape1,shape2);};b2PolyContact.Destroy=function(contact,allocator){};
var b2ContactManager=Class.create();Object.extend(b2ContactManager.prototype,b2PairCallback.prototype);Object.extend(b2ContactManager.prototype,{initialize:function(){this.m_nullContact=new b2NullContact();this.m_world=null;this.m_destroyImmediate=false;},PairAdded:function(proxyUserData1,proxyUserData2){var shape1=proxyUserData1;var shape2=proxyUserData2;var body1=shape1.m_body;var body2=shape2.m_body;if(body1.IsStatic()&&body2.IsStatic())
{return this.m_nullContact;}
if(shape1.m_body==shape2.m_body)
{return this.m_nullContact;}
if(body2.IsConnected(body1))
{return this.m_nullContact;}
if(this.m_world.m_filter!=null&&this.m_world.m_filter.ShouldCollide(shape1,shape2)==false)
{return this.m_nullContact;}
if(body2.m_invMass==0.0)
{var tempShape=shape1;shape1=shape2;shape2=tempShape;var tempBody=body1;body1=body2;body2=tempBody;}
var contact=b2Contact.Create(shape1,shape2,this.m_world.m_blockAllocator);if(contact==null)
{return this.m_nullContact;}
else
{contact.m_prev=null;contact.m_next=this.m_world.m_contactList;if(this.m_world.m_contactList!=null)
{this.m_world.m_contactList.m_prev=contact;}
this.m_world.m_contactList=contact;this.m_world.m_contactCount++;}
return contact;},PairRemoved:function(proxyUserData1,proxyUserData2,pairUserData){if(pairUserData==null)
{return;}
var c=pairUserData;if(c!=this.m_nullContact)
{if(this.m_destroyImmediate==true)
{this.DestroyContact(c);c=null;}
else
{c.m_flags|=b2Contact.e_destroyFlag;}}},DestroyContact:function(c)
{if(c.m_prev)
{c.m_prev.m_next=c.m_next;}
if(c.m_next)
{c.m_next.m_prev=c.m_prev;}
if(c==this.m_world.m_contactList)
{this.m_world.m_contactList=c.m_next;}
if(c.GetManifoldCount()>0)
{var body1=c.m_shape1.m_body;var body2=c.m_shape2.m_body;var node1=c.m_node1;var node2=c.m_node2;body1.WakeUp();body2.WakeUp();if(node1.prev)
{node1.prev.next=node1.next;}
if(node1.next)
{node1.next.prev=node1.prev;}
if(node1==body1.m_contactList)
{body1.m_contactList=node1.next;}
node1.prev=null;node1.next=null;if(node2.prev)
{node2.prev.next=node2.next;}
if(node2.next)
{node2.next.prev=node2.prev;}
if(node2==body2.m_contactList)
{body2.m_contactList=node2.next;}
node2.prev=null;node2.next=null;}
b2Contact.Destroy(c,this.m_world.m_blockAllocator);--this.m_world.m_contactCount;},CleanContactList:function()
{var c=this.m_world.m_contactList;while(c!=null)
{var c0=c;c=c.m_next;if(c0.m_flags&b2Contact.e_destroyFlag)
{this.DestroyContact(c0);c0=null;}}},Collide:function()
{var body1;var body2;var node1;var node2;for(var c=this.m_world.m_contactList;c!=null;c=c.m_next)
{if(c.m_shape1.m_body.IsSleeping()&&c.m_shape2.m_body.IsSleeping())
{continue;}
var oldCount=c.GetManifoldCount();c.Evaluate();var newCount=c.GetManifoldCount();if(oldCount==0&&newCount>0)
{body1=c.m_shape1.m_body;body2=c.m_shape2.m_body;node1=c.m_node1;node2=c.m_node2;node1.contact=c;node1.other=body2;node1.prev=null;node1.next=body1.m_contactList;if(node1.next!=null)
{node1.next.prev=c.m_node1;}
body1.m_contactList=c.m_node1;node2.contact=c;node2.other=body1;node2.prev=null;node2.next=body2.m_contactList;if(node2.next!=null)
{node2.next.prev=node2;}
body2.m_contactList=node2;}
else if(oldCount>0&&newCount==0)
{body1=c.m_shape1.m_body;body2=c.m_shape2.m_body;node1=c.m_node1;node2=c.m_node2;if(node1.prev)
{node1.prev.next=node1.next;}
if(node1.next)
{node1.next.prev=node1.prev;}
if(node1==body1.m_contactList)
{body1.m_contactList=node1.next;}
node1.prev=null;node1.next=null;if(node2.prev)
{node2.prev.next=node2.next;}
if(node2.next)
{node2.next.prev=node2.prev;}
if(node2==body2.m_contactList)
{body2.m_contactList=node2.next;}
node2.prev=null;node2.next=null;}}},m_world:null,m_nullContact:new b2NullContact(),m_destroyImmediate:null});
var b2World=Class.create();b2World.prototype={initialize:function(worldAABB,gravity,doSleep){this.step=new b2TimeStep();this.m_contactManager=new b2ContactManager();this.m_listener=null;this.m_filter=b2CollisionFilter.b2_defaultFilter;this.m_bodyList=null;this.m_contactList=null;this.m_jointList=null;this.m_bodyCount=0;this.m_contactCount=0;this.m_jointCount=0;this.m_bodyDestroyList=null;this.m_allowSleep=doSleep;this.m_gravity=gravity;this.m_contactManager.m_world=this;this.m_broadPhase=new b2BroadPhase(worldAABB,this.m_contactManager);var bd=new b2BodyDef();this.m_groundBody=this.CreateBody(bd);},SetListener:function(listener){this.m_listener=listener;},SetFilter:function(filter){this.m_filter=filter;},CreateBody:function(def){var b=new b2Body(def,this);b.m_prev=null;b.m_next=this.m_bodyList;if(this.m_bodyList)
{this.m_bodyList.m_prev=b;}
this.m_bodyList=b;++this.m_bodyCount;return b;},DestroyBody:function(b)
{if(b.m_flags&b2Body.e_destroyFlag)
{return;}
if(b.m_prev)
{b.m_prev.m_next=b.m_next;}
if(b.m_next)
{b.m_next.m_prev=b.m_prev;}
if(b==this.m_bodyList)
{this.m_bodyList=b.m_next;}
b.m_flags|=b2Body.e_destroyFlag;--this.m_bodyCount;b.m_prev=null;b.m_next=this.m_bodyDestroyList;this.m_bodyDestroyList=b;},CleanBodyList:function()
{this.m_contactManager.m_destroyImmediate=true;var b=this.m_bodyDestroyList;while(b)
{var b0=b;b=b.m_next;var jn=b0.m_jointList;while(jn)
{var jn0=jn;jn=jn.next;if(this.m_listener)
{this.m_listener.NotifyJointDestroyed(jn0.joint);}
this.DestroyJoint(jn0.joint);}
b0.Destroy();}
this.m_bodyDestroyList=null;this.m_contactManager.m_destroyImmediate=false;},CreateJoint:function(def){var j=b2Joint.Create(def,this.m_blockAllocator);j.m_prev=null;j.m_next=this.m_jointList;if(this.m_jointList)
{this.m_jointList.m_prev=j;}
this.m_jointList=j;++this.m_jointCount;j.m_node1.joint=j;j.m_node1.other=j.m_body2;j.m_node1.prev=null;j.m_node1.next=j.m_body1.m_jointList;if(j.m_body1.m_jointList)j.m_body1.m_jointList.prev=j.m_node1;j.m_body1.m_jointList=j.m_node1;j.m_node2.joint=j;j.m_node2.other=j.m_body1;j.m_node2.prev=null;j.m_node2.next=j.m_body2.m_jointList;if(j.m_body2.m_jointList)j.m_body2.m_jointList.prev=j.m_node2;j.m_body2.m_jointList=j.m_node2;if(def.collideConnected==false)
{var b=def.body1.m_shapeCount<def.body2.m_shapeCount?def.body1:def.body2;for(var s=b.m_shapeList;s;s=s.m_next)
{s.ResetProxy(this.m_broadPhase);}}
return j;},DestroyJoint:function(j)
{var collideConnected=j.m_collideConnected;if(j.m_prev)
{j.m_prev.m_next=j.m_next;}
if(j.m_next)
{j.m_next.m_prev=j.m_prev;}
if(j==this.m_jointList)
{this.m_jointList=j.m_next;}
var body1=j.m_body1;var body2=j.m_body2;body1.WakeUp();body2.WakeUp();if(j.m_node1.prev)
{j.m_node1.prev.next=j.m_node1.next;}
if(j.m_node1.next)
{j.m_node1.next.prev=j.m_node1.prev;}
if(j.m_node1==body1.m_jointList)
{body1.m_jointList=j.m_node1.next;}
j.m_node1.prev=null;j.m_node1.next=null;if(j.m_node2.prev)
{j.m_node2.prev.next=j.m_node2.next;}
if(j.m_node2.next)
{j.m_node2.next.prev=j.m_node2.prev;}
if(j.m_node2==body2.m_jointList)
{body2.m_jointList=j.m_node2.next;}
j.m_node2.prev=null;j.m_node2.next=null;b2Joint.Destroy(j,this.m_blockAllocator);--this.m_jointCount;if(collideConnected==false)
{var b=body1.m_shapeCount<body2.m_shapeCount?body1:body2;for(var s=b.m_shapeList;s;s=s.m_next)
{s.ResetProxy(this.m_broadPhase);}}},GetGroundBody:function(){return this.m_groundBody;},step:new b2TimeStep(),Step:function(dt,iterations){var b;var other;this.step.dt=dt;this.step.iterations=iterations;if(dt>0.0)
{this.step.inv_dt=1.0/dt;}
else
{this.step.inv_dt=0.0;}
this.m_positionIterationCount=0;this.m_contactManager.CleanContactList();this.CleanBodyList();this.m_contactManager.Collide();var island=new b2Island(this.m_bodyCount,this.m_contactCount,this.m_jointCount,this.m_stackAllocator);for(b=this.m_bodyList;b!=null;b=b.m_next)
{b.m_flags&=~b2Body.e_islandFlag;}
for(var c=this.m_contactList;c!=null;c=c.m_next)
{c.m_flags&=~b2Contact.e_islandFlag;}
for(var j=this.m_jointList;j!=null;j=j.m_next)
{j.m_islandFlag=false;}
var stackSize=this.m_bodyCount;var stack=new Array(this.m_bodyCount);for(var k=0;k<this.m_bodyCount;k++)
stack[k]=null;for(var seed=this.m_bodyList;seed!=null;seed=seed.m_next)
{if(seed.m_flags&(b2Body.e_staticFlag|b2Body.e_islandFlag|b2Body.e_sleepFlag|b2Body.e_frozenFlag))
{continue;}
island.Clear();var stackCount=0;stack[stackCount++]=seed;seed.m_flags|=b2Body.e_islandFlag;;while(stackCount>0)
{b=stack[--stackCount];island.AddBody(b);b.m_flags&=~b2Body.e_sleepFlag;if(b.m_flags&b2Body.e_staticFlag)
{continue;}
for(var cn=b.m_contactList;cn!=null;cn=cn.next)
{if(cn.contact.m_flags&b2Contact.e_islandFlag)
{continue;}
island.AddContact(cn.contact);cn.contact.m_flags|=b2Contact.e_islandFlag;other=cn.other;if(other.m_flags&b2Body.e_islandFlag)
{continue;}
stack[stackCount++]=other;other.m_flags|=b2Body.e_islandFlag;}
for(var jn=b.m_jointList;jn!=null;jn=jn.next)
{if(jn.joint.m_islandFlag==true)
{continue;}
island.AddJoint(jn.joint);jn.joint.m_islandFlag=true;other=jn.other;if(other.m_flags&b2Body.e_islandFlag)
{continue;}
stack[stackCount++]=other;other.m_flags|=b2Body.e_islandFlag;}}
island.Solve(this.step,this.m_gravity);this.m_positionIterationCount=b2Math.b2Max(this.m_positionIterationCount,b2Island.m_positionIterationCount);if(this.m_allowSleep)
{island.UpdateSleep(dt);}
for(var i=0;i<island.m_bodyCount;++i)
{b=island.m_bodies[i];if(b.m_flags&b2Body.e_staticFlag)
{b.m_flags&=~b2Body.e_islandFlag;}
if(b.IsFrozen()&&this.m_listener)
{var response=this.m_listener.NotifyBoundaryViolated(b);if(response==b2WorldListener.b2_destroyBody)
{this.DestroyBody(b);b=null;island.m_bodies[i]=null;}}}}
this.m_broadPhase.Commit();},Query:function(aabb,shapes,maxCount){var results=new Array();var count=this.m_broadPhase.QueryAABB(aabb,results,maxCount);for(var i=0;i<count;++i)
{shapes[i]=results[i];}
return count;},GetBodyList:function(){return this.m_bodyList;},GetJointList:function(){return this.m_jointList;},GetContactList:function(){return this.m_contactList;},m_blockAllocator:null,m_stackAllocator:null,m_broadPhase:null,m_contactManager:new b2ContactManager(),m_bodyList:null,m_contactList:null,m_jointList:null,m_bodyCount:0,m_contactCount:0,m_jointCount:0,m_bodyDestroyList:null,m_gravity:null,m_allowSleep:null,m_groundBody:null,m_listener:null,m_filter:null,m_positionIterationCount:0};b2World.s_enablePositionCorrection=1;b2World.s_enableWarmStarting=1;
var b2WorldListener=Class.create();b2WorldListener.prototype={NotifyJointDestroyed:function(joint){},NotifyBoundaryViolated:function(body)
{return b2WorldListener.b2_freezeBody;},initialize:function(){}};b2WorldListener.b2_freezeBody=0;b2WorldListener.b2_destroyBody=1;
var b2JointNode=Class.create();b2JointNode.prototype={other:null,joint:null,prev:null,next:null,initialize:function(){}}

var b2Joint=Class.create();b2Joint.prototype={GetType:function(){return this.m_type;},GetAnchor1:function(){return null},GetAnchor2:function(){return null},GetReactionForce:function(invTimeStep){return null},GetReactionTorque:function(invTimeStep){return 0.0},GetBody1:function()
{return this.m_body1;},GetBody2:function()
{return this.m_body2;},GetNext:function(){return this.m_next;},GetUserData:function(){return this.m_userData;},initialize:function(def){this.m_node1=new b2JointNode();this.m_node2=new b2JointNode();this.m_type=def.type;this.m_prev=null;this.m_next=null;this.m_body1=def.body1;this.m_body2=def.body2;this.m_collideConnected=def.collideConnected;this.m_islandFlag=false;this.m_userData=def.userData;},PrepareVelocitySolver:function(){},SolveVelocityConstraints:function(step){},PreparePositionSolver:function(){},SolvePositionConstraints:function(){return false},m_type:0,m_prev:null,m_next:null,m_node1:new b2JointNode(),m_node2:new b2JointNode(),m_body1:null,m_body2:null,m_islandFlag:null,m_collideConnected:null,m_userData:null};b2Joint.Create=function(def,allocator){var joint=null;switch(def.type)
{case b2Joint.e_distanceJoint:{joint=new b2DistanceJoint(def);}
break;case b2Joint.e_mouseJoint:{joint=new b2MouseJoint(def);}
break;case b2Joint.e_prismaticJoint:{joint=new b2PrismaticJoint(def);}
break;case b2Joint.e_revoluteJoint:{joint=new b2RevoluteJoint(def);}
break;case b2Joint.e_pulleyJoint:{joint=new b2PulleyJoint(def);}
break;case b2Joint.e_gearJoint:{joint=new b2GearJoint(def);}
break;default:break;}
return joint;};b2Joint.Destroy=function(joint,allocator){};b2Joint.e_unknownJoint=0;b2Joint.e_revoluteJoint=1;b2Joint.e_prismaticJoint=2;b2Joint.e_distanceJoint=3;b2Joint.e_pulleyJoint=4;b2Joint.e_mouseJoint=5;b2Joint.e_gearJoint=6;b2Joint.e_inactiveLimit=0;b2Joint.e_atLowerLimit=1;b2Joint.e_atUpperLimit=2;b2Joint.e_equalLimits=3;
var b2JointDef=Class.create();b2JointDef.prototype={initialize:function()
{this.type=b2Joint.e_unknownJoint;this.userData=null;this.body1=null;this.body2=null;this.collideConnected=false;},type:0,userData:null,body1:null,body2:null,collideConnected:null}

var b2DistanceJoint=Class.create();Object.extend(b2DistanceJoint.prototype,b2Joint.prototype);Object.extend(b2DistanceJoint.prototype,{initialize:function(def){this.m_node1=new b2JointNode();this.m_node2=new b2JointNode();this.m_type=def.type;this.m_prev=null;this.m_next=null;this.m_body1=def.body1;this.m_body2=def.body2;this.m_collideConnected=def.collideConnected;this.m_islandFlag=false;this.m_userData=def.userData;this.m_localAnchor1=new b2Vec2();this.m_localAnchor2=new b2Vec2();this.m_u=new b2Vec2();var tMat;var tX;var tY;tMat=this.m_body1.m_R;tX=def.anchorPoint1.x-this.m_body1.m_position.x;tY=def.anchorPoint1.y-this.m_body1.m_position.y;this.m_localAnchor1.x=tX*tMat.col1.x+tY*tMat.col1.y;this.m_localAnchor1.y=tX*tMat.col2.x+tY*tMat.col2.y;tMat=this.m_body2.m_R;tX=def.anchorPoint2.x-this.m_body2.m_position.x;tY=def.anchorPoint2.y-this.m_body2.m_position.y;this.m_localAnchor2.x=tX*tMat.col1.x+tY*tMat.col1.y;this.m_localAnchor2.y=tX*tMat.col2.x+tY*tMat.col2.y;tX=def.anchorPoint2.x-def.anchorPoint1.x;tY=def.anchorPoint2.y-def.anchorPoint1.y;this.m_length=Math.sqrt(tX*tX+tY*tY);this.m_impulse=0.0;},PrepareVelocitySolver:function(){var tMat;tMat=this.m_body1.m_R;var r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;var r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;tMat=this.m_body2.m_R;var r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;var r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;this.m_u.x=this.m_body2.m_position.x+r2X-this.m_body1.m_position.x-r1X;this.m_u.y=this.m_body2.m_position.y+r2Y-this.m_body1.m_position.y-r1Y;var length=Math.sqrt(this.m_u.x*this.m_u.x+this.m_u.y*this.m_u.y);if(length>b2Settings.b2_linearSlop)
{this.m_u.Multiply(1.0/length);}
else
{this.m_u.SetZero();}
var cr1u=(r1X*this.m_u.y-r1Y*this.m_u.x);var cr2u=(r2X*this.m_u.y-r2Y*this.m_u.x);this.m_mass=this.m_body1.m_invMass+this.m_body1.m_invI*cr1u*cr1u+this.m_body2.m_invMass+this.m_body2.m_invI*cr2u*cr2u;this.m_mass=1.0/this.m_mass;if(b2World.s_enableWarmStarting)
{var PX=this.m_impulse*this.m_u.x;var PY=this.m_impulse*this.m_u.y;this.m_body1.m_linearVelocity.x-=this.m_body1.m_invMass*PX;this.m_body1.m_linearVelocity.y-=this.m_body1.m_invMass*PY;this.m_body1.m_angularVelocity-=this.m_body1.m_invI*(r1X*PY-r1Y*PX);this.m_body2.m_linearVelocity.x+=this.m_body2.m_invMass*PX;this.m_body2.m_linearVelocity.y+=this.m_body2.m_invMass*PY;this.m_body2.m_angularVelocity+=this.m_body2.m_invI*(r2X*PY-r2Y*PX);}
else
{this.m_impulse=0.0;}},SolveVelocityConstraints:function(step){var tMat;tMat=this.m_body1.m_R;var r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;var r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;tMat=this.m_body2.m_R;var r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;var r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;var v1X=this.m_body1.m_linearVelocity.x+(-this.m_body1.m_angularVelocity*r1Y);var v1Y=this.m_body1.m_linearVelocity.y+(this.m_body1.m_angularVelocity*r1X);var v2X=this.m_body2.m_linearVelocity.x+(-this.m_body2.m_angularVelocity*r2Y);var v2Y=this.m_body2.m_linearVelocity.y+(this.m_body2.m_angularVelocity*r2X);var Cdot=(this.m_u.x*(v2X-v1X)+this.m_u.y*(v2Y-v1Y));var impulse=-this.m_mass*Cdot;this.m_impulse+=impulse;var PX=impulse*this.m_u.x;var PY=impulse*this.m_u.y;this.m_body1.m_linearVelocity.x-=this.m_body1.m_invMass*PX;this.m_body1.m_linearVelocity.y-=this.m_body1.m_invMass*PY;this.m_body1.m_angularVelocity-=this.m_body1.m_invI*(r1X*PY-r1Y*PX);this.m_body2.m_linearVelocity.x+=this.m_body2.m_invMass*PX;this.m_body2.m_linearVelocity.y+=this.m_body2.m_invMass*PY;this.m_body2.m_angularVelocity+=this.m_body2.m_invI*(r2X*PY-r2Y*PX);},SolvePositionConstraints:function(){var tMat;tMat=this.m_body1.m_R;var r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;var r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;tMat=this.m_body2.m_R;var r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;var r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;var dX=this.m_body2.m_position.x+r2X-this.m_body1.m_position.x-r1X;var dY=this.m_body2.m_position.y+r2Y-this.m_body1.m_position.y-r1Y;var length=Math.sqrt(dX*dX+dY*dY);dX/=length;dY/=length;var C=length-this.m_length;C=b2Math.b2Clamp(C,-b2Settings.b2_maxLinearCorrection,b2Settings.b2_maxLinearCorrection);var impulse=-this.m_mass*C;this.m_u.Set(dX,dY);var PX=impulse*this.m_u.x;var PY=impulse*this.m_u.y;this.m_body1.m_position.x-=this.m_body1.m_invMass*PX;this.m_body1.m_position.y-=this.m_body1.m_invMass*PY;this.m_body1.m_rotation-=this.m_body1.m_invI*(r1X*PY-r1Y*PX);this.m_body2.m_position.x+=this.m_body2.m_invMass*PX;this.m_body2.m_position.y+=this.m_body2.m_invMass*PY;this.m_body2.m_rotation+=this.m_body2.m_invI*(r2X*PY-r2Y*PX);this.m_body1.m_R.Set(this.m_body1.m_rotation);this.m_body2.m_R.Set(this.m_body2.m_rotation);return b2Math.b2Abs(C)<b2Settings.b2_linearSlop;},GetAnchor1:function(){return b2Math.AddVV(this.m_body1.m_position,b2Math.b2MulMV(this.m_body1.m_R,this.m_localAnchor1));},GetAnchor2:function(){return b2Math.AddVV(this.m_body2.m_position,b2Math.b2MulMV(this.m_body2.m_R,this.m_localAnchor2));},GetReactionForce:function(invTimeStep)
{var F=new b2Vec2();F.SetV(this.m_u);F.Multiply(this.m_impulse*invTimeStep);return F;},GetReactionTorque:function(invTimeStep)
{return 0.0;},m_localAnchor1:new b2Vec2(),m_localAnchor2:new b2Vec2(),m_u:new b2Vec2(),m_impulse:null,m_mass:null,m_length:null});
var b2DistanceJointDef=Class.create();Object.extend(b2DistanceJointDef.prototype,b2JointDef.prototype);Object.extend(b2DistanceJointDef.prototype,{initialize:function()
{this.type=b2Joint.e_unknownJoint;this.userData=null;this.body1=null;this.body2=null;this.collideConnected=false;this.anchorPoint1=new b2Vec2();this.anchorPoint2=new b2Vec2();this.type=b2Joint.e_distanceJoint;},anchorPoint1:new b2Vec2(),anchorPoint2:new b2Vec2()});
var b2Jacobian=Class.create();b2Jacobian.prototype={linear1:new b2Vec2(),angular1:null,linear2:new b2Vec2(),angular2:null,SetZero:function(){this.linear1.SetZero();this.angular1=0.0;this.linear2.SetZero();this.angular2=0.0;},Set:function(x1,a1,x2,a2){this.linear1.SetV(x1);this.angular1=a1;this.linear2.SetV(x2);this.angular2=a2;},Compute:function(x1,a1,x2,a2){return(this.linear1.x*x1.x+this.linear1.y*x1.y)+this.angular1*a1+(this.linear2.x*x2.x+this.linear2.y*x2.y)+this.angular2*a2;},initialize:function(){this.linear1=new b2Vec2();this.linear2=new b2Vec2();}};
var b2GearJoint=Class.create();Object.extend(b2GearJoint.prototype,b2Joint.prototype);Object.extend(b2GearJoint.prototype,{GetAnchor1:function(){var tMat=this.m_body1.m_R;return new b2Vec2(this.m_body1.m_position.x+(tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y),this.m_body1.m_position.y+(tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y));},GetAnchor2:function(){var tMat=this.m_body2.m_R;return new b2Vec2(this.m_body2.m_position.x+(tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y),this.m_body2.m_position.y+(tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y));},GetReactionForce:function(invTimeStep){return new b2Vec2();},GetReactionTorque:function(invTimeStep){return 0.0;},GetRatio:function(){return this.m_ratio;},initialize:function(def){this.m_node1=new b2JointNode();this.m_node2=new b2JointNode();this.m_type=def.type;this.m_prev=null;this.m_next=null;this.m_body1=def.body1;this.m_body2=def.body2;this.m_collideConnected=def.collideConnected;this.m_islandFlag=false;this.m_userData=def.userData;this.m_groundAnchor1=new b2Vec2();this.m_groundAnchor2=new b2Vec2();this.m_localAnchor1=new b2Vec2();this.m_localAnchor2=new b2Vec2();this.m_J=new b2Jacobian();this.m_revolute1=null;this.m_prismatic1=null;this.m_revolute2=null;this.m_prismatic2=null;var coordinate1;var coordinate2;this.m_ground1=def.joint1.m_body1;this.m_body1=def.joint1.m_body2;if(def.joint1.m_type==b2Joint.e_revoluteJoint)
{this.m_revolute1=def.joint1;this.m_groundAnchor1.SetV(this.m_revolute1.m_localAnchor1);this.m_localAnchor1.SetV(this.m_revolute1.m_localAnchor2);coordinate1=this.m_revolute1.GetJointAngle();}
else
{this.m_prismatic1=def.joint1;this.m_groundAnchor1.SetV(this.m_prismatic1.m_localAnchor1);this.m_localAnchor1.SetV(this.m_prismatic1.m_localAnchor2);coordinate1=this.m_prismatic1.GetJointTranslation();}
this.m_ground2=def.joint2.m_body1;this.m_body2=def.joint2.m_body2;if(def.joint2.m_type==b2Joint.e_revoluteJoint)
{this.m_revolute2=def.joint2;this.m_groundAnchor2.SetV(this.m_revolute2.m_localAnchor1);this.m_localAnchor2.SetV(this.m_revolute2.m_localAnchor2);coordinate2=this.m_revolute2.GetJointAngle();}
else
{this.m_prismatic2=def.joint2;this.m_groundAnchor2.SetV(this.m_prismatic2.m_localAnchor1);this.m_localAnchor2.SetV(this.m_prismatic2.m_localAnchor2);coordinate2=this.m_prismatic2.GetJointTranslation();}
this.m_ratio=def.ratio;this.m_constant=coordinate1+this.m_ratio*coordinate2;this.m_impulse=0.0;},PrepareVelocitySolver:function(){var g1=this.m_ground1;var g2=this.m_ground2;var b1=this.m_body1;var b2=this.m_body2;var ugX;var ugY;var rX;var rY;var tMat;var tVec;var crug;var K=0.0;this.m_J.SetZero();if(this.m_revolute1)
{this.m_J.angular1=-1.0;K+=b1.m_invI;}
else
{tMat=g1.m_R;tVec=this.m_prismatic1.m_localXAxis1;ugX=tMat.col1.x*tVec.x+tMat.col2.x*tVec.y;ugY=tMat.col1.y*tVec.x+tMat.col2.y*tVec.y;tMat=b1.m_R;rX=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;rY=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;crug=rX*ugY-rY*ugX;this.m_J.linear1.Set(-ugX,-ugY);this.m_J.angular1=-crug;K+=b1.m_invMass+b1.m_invI*crug*crug;}
if(this.m_revolute2)
{this.m_J.angular2=-this.m_ratio;K+=this.m_ratio*this.m_ratio*b2.m_invI;}
else
{tMat=g2.m_R;tVec=this.m_prismatic2.m_localXAxis1;ugX=tMat.col1.x*tVec.x+tMat.col2.x*tVec.y;ugY=tMat.col1.y*tVec.x+tMat.col2.y*tVec.y;tMat=b2.m_R;rX=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;rY=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;crug=rX*ugY-rY*ugX;this.m_J.linear2.Set(-this.m_ratio*ugX,-this.m_ratio*ugY);this.m_J.angular2=-this.m_ratio*crug;K+=this.m_ratio*this.m_ratio*(b2.m_invMass+b2.m_invI*crug*crug);}
this.m_mass=1.0/K;b1.m_linearVelocity.x+=b1.m_invMass*this.m_impulse*this.m_J.linear1.x;b1.m_linearVelocity.y+=b1.m_invMass*this.m_impulse*this.m_J.linear1.y;b1.m_angularVelocity+=b1.m_invI*this.m_impulse*this.m_J.angular1;b2.m_linearVelocity.x+=b2.m_invMass*this.m_impulse*this.m_J.linear2.x;b2.m_linearVelocity.y+=b2.m_invMass*this.m_impulse*this.m_J.linear2.y;b2.m_angularVelocity+=b2.m_invI*this.m_impulse*this.m_J.angular2;},SolveVelocityConstraints:function(step){var b1=this.m_body1;var b2=this.m_body2;var Cdot=this.m_J.Compute(b1.m_linearVelocity,b1.m_angularVelocity,b2.m_linearVelocity,b2.m_angularVelocity);var impulse=-this.m_mass*Cdot;this.m_impulse+=impulse;b1.m_linearVelocity.x+=b1.m_invMass*impulse*this.m_J.linear1.x;b1.m_linearVelocity.y+=b1.m_invMass*impulse*this.m_J.linear1.y;b1.m_angularVelocity+=b1.m_invI*impulse*this.m_J.angular1;b2.m_linearVelocity.x+=b2.m_invMass*impulse*this.m_J.linear2.x;b2.m_linearVelocity.y+=b2.m_invMass*impulse*this.m_J.linear2.y;b2.m_angularVelocity+=b2.m_invI*impulse*this.m_J.angular2;},SolvePositionConstraints:function(){var linearError=0.0;var b1=this.m_body1;var b2=this.m_body2;var coordinate1;var coordinate2;if(this.m_revolute1)
{coordinate1=this.m_revolute1.GetJointAngle();}
else
{coordinate1=this.m_prismatic1.GetJointTranslation();}
if(this.m_revolute2)
{coordinate2=this.m_revolute2.GetJointAngle();}
else
{coordinate2=this.m_prismatic2.GetJointTranslation();}
var C=this.m_constant-(coordinate1+this.m_ratio*coordinate2);var impulse=-this.m_mass*C;b1.m_position.x+=b1.m_invMass*impulse*this.m_J.linear1.x;b1.m_position.y+=b1.m_invMass*impulse*this.m_J.linear1.y;b1.m_rotation+=b1.m_invI*impulse*this.m_J.angular1;b2.m_position.x+=b2.m_invMass*impulse*this.m_J.linear2.x;b2.m_position.y+=b2.m_invMass*impulse*this.m_J.linear2.y;b2.m_rotation+=b2.m_invI*impulse*this.m_J.angular2;b1.m_R.Set(b1.m_rotation);b2.m_R.Set(b2.m_rotation);return linearError<b2Settings.b2_linearSlop;},m_ground1:null,m_ground2:null,m_revolute1:null,m_prismatic1:null,m_revolute2:null,m_prismatic2:null,m_groundAnchor1:new b2Vec2(),m_groundAnchor2:new b2Vec2(),m_localAnchor1:new b2Vec2(),m_localAnchor2:new b2Vec2(),m_J:new b2Jacobian(),m_constant:null,m_ratio:null,m_mass:null,m_impulse:null});
var b2GearJointDef=Class.create();Object.extend(b2GearJointDef.prototype,b2JointDef.prototype);Object.extend(b2GearJointDef.prototype,{initialize:function()
{this.type=b2Joint.e_gearJoint;this.joint1=null;this.joint2=null;this.ratio=1.0;},joint1:null,joint2:null,ratio:null});
var b2MouseJoint=Class.create();Object.extend(b2MouseJoint.prototype,b2Joint.prototype);Object.extend(b2MouseJoint.prototype,{GetAnchor1:function(){return this.m_target;},GetAnchor2:function(){var tVec=b2Math.b2MulMV(this.m_body2.m_R,this.m_localAnchor);tVec.Add(this.m_body2.m_position);return tVec;},GetReactionForce:function(invTimeStep)
{var F=new b2Vec2();F.SetV(this.m_impulse);F.Multiply(invTimeStep);return F;},GetReactionTorque:function(invTimeStep)
{return 0.0;},SetTarget:function(target){this.m_body2.WakeUp();this.m_target=target;},initialize:function(def){this.m_node1=new b2JointNode();this.m_node2=new b2JointNode();this.m_type=def.type;this.m_prev=null;this.m_next=null;this.m_body1=def.body1;this.m_body2=def.body2;this.m_collideConnected=def.collideConnected;this.m_islandFlag=false;this.m_userData=def.userData;this.K=new b2Mat22();this.K1=new b2Mat22();this.K2=new b2Mat22();this.m_localAnchor=new b2Vec2();this.m_target=new b2Vec2();this.m_impulse=new b2Vec2();this.m_ptpMass=new b2Mat22();this.m_C=new b2Vec2();this.m_target.SetV(def.target);var tX=this.m_target.x-this.m_body2.m_position.x;var tY=this.m_target.y-this.m_body2.m_position.y;this.m_localAnchor.x=(tX*this.m_body2.m_R.col1.x+tY*this.m_body2.m_R.col1.y);this.m_localAnchor.y=(tX*this.m_body2.m_R.col2.x+tY*this.m_body2.m_R.col2.y);this.m_maxForce=def.maxForce;this.m_impulse.SetZero();var mass=this.m_body2.m_mass;var omega=2.0*b2Settings.b2_pi*def.frequencyHz;var d=2.0*mass*def.dampingRatio*omega;var k=mass*omega*omega;this.m_gamma=1.0/(d+def.timeStep*k);this.m_beta=def.timeStep*k/(d+def.timeStep*k);},K:new b2Mat22(),K1:new b2Mat22(),K2:new b2Mat22(),PrepareVelocitySolver:function(){var b=this.m_body2;var tMat;tMat=b.m_R;var rX=tMat.col1.x*this.m_localAnchor.x+tMat.col2.x*this.m_localAnchor.y;var rY=tMat.col1.y*this.m_localAnchor.x+tMat.col2.y*this.m_localAnchor.y;var invMass=b.m_invMass;var invI=b.m_invI;this.K1.col1.x=invMass;this.K1.col2.x=0.0;this.K1.col1.y=0.0;this.K1.col2.y=invMass;this.K2.col1.x=invI*rY*rY;this.K2.col2.x=-invI*rX*rY;this.K2.col1.y=-invI*rX*rY;this.K2.col2.y=invI*rX*rX;this.K.SetM(this.K1);this.K.AddM(this.K2);this.K.col1.x+=this.m_gamma;this.K.col2.y+=this.m_gamma;this.K.Invert(this.m_ptpMass);this.m_C.x=b.m_position.x+rX-this.m_target.x;this.m_C.y=b.m_position.y+rY-this.m_target.y;b.m_angularVelocity*=0.98;var PX=this.m_impulse.x;var PY=this.m_impulse.y;b.m_linearVelocity.x+=invMass*PX;b.m_linearVelocity.y+=invMass*PY;b.m_angularVelocity+=invI*(rX*PY-rY*PX);},SolveVelocityConstraints:function(step){var body=this.m_body2;var tMat;tMat=body.m_R;var rX=tMat.col1.x*this.m_localAnchor.x+tMat.col2.x*this.m_localAnchor.y;var rY=tMat.col1.y*this.m_localAnchor.x+tMat.col2.y*this.m_localAnchor.y;var CdotX=body.m_linearVelocity.x+(-body.m_angularVelocity*rY);var CdotY=body.m_linearVelocity.y+(body.m_angularVelocity*rX);tMat=this.m_ptpMass;var tX=CdotX+(this.m_beta*step.inv_dt)*this.m_C.x+this.m_gamma*this.m_impulse.x;var tY=CdotY+(this.m_beta*step.inv_dt)*this.m_C.y+this.m_gamma*this.m_impulse.y;var impulseX=-(tMat.col1.x*tX+tMat.col2.x*tY);var impulseY=-(tMat.col1.y*tX+tMat.col2.y*tY);var oldImpulseX=this.m_impulse.x;var oldImpulseY=this.m_impulse.y;this.m_impulse.x+=impulseX;this.m_impulse.y+=impulseY;var length=this.m_impulse.Length();if(length>step.dt*this.m_maxForce)
{this.m_impulse.Multiply(step.dt*this.m_maxForce/length);}
impulseX=this.m_impulse.x-oldImpulseX;impulseY=this.m_impulse.y-oldImpulseY;body.m_linearVelocity.x+=body.m_invMass*impulseX;body.m_linearVelocity.y+=body.m_invMass*impulseY;body.m_angularVelocity+=body.m_invI*(rX*impulseY-rY*impulseX);},SolvePositionConstraints:function(){return true;},m_localAnchor:new b2Vec2(),m_target:new b2Vec2(),m_impulse:new b2Vec2(),m_ptpMass:new b2Mat22(),m_C:new b2Vec2(),m_maxForce:null,m_beta:null,m_gamma:null});
var b2MouseJointDef=Class.create();Object.extend(b2MouseJointDef.prototype,b2JointDef.prototype);Object.extend(b2MouseJointDef.prototype,{initialize:function()
{this.type=b2Joint.e_unknownJoint;this.userData=null;this.body1=null;this.body2=null;this.collideConnected=false;this.target=new b2Vec2();this.type=b2Joint.e_mouseJoint;this.maxForce=0.0;this.frequencyHz=5.0;this.dampingRatio=0.7;this.timeStep=1.0/60.0;},target:new b2Vec2(),maxForce:null,frequencyHz:null,dampingRatio:null,timeStep:null});
var b2PrismaticJoint=Class.create();Object.extend(b2PrismaticJoint.prototype,b2Joint.prototype);Object.extend(b2PrismaticJoint.prototype,{GetAnchor1:function(){var b1=this.m_body1;var tVec=new b2Vec2();tVec.SetV(this.m_localAnchor1);tVec.MulM(b1.m_R);tVec.Add(b1.m_position);return tVec;},GetAnchor2:function(){var b2=this.m_body2;var tVec=new b2Vec2();tVec.SetV(this.m_localAnchor2);tVec.MulM(b2.m_R);tVec.Add(b2.m_position);return tVec;},GetJointTranslation:function(){var b1=this.m_body1;var b2=this.m_body2;var tMat;tMat=b1.m_R;var r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;var r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;tMat=b2.m_R;var r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;var r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;var p1X=b1.m_position.x+r1X;var p1Y=b1.m_position.y+r1Y;var p2X=b2.m_position.x+r2X;var p2Y=b2.m_position.y+r2Y;var dX=p2X-p1X;var dY=p2Y-p1Y;tMat=b1.m_R;var ax1X=tMat.col1.x*this.m_localXAxis1.x+tMat.col2.x*this.m_localXAxis1.y;var ax1Y=tMat.col1.y*this.m_localXAxis1.x+tMat.col2.y*this.m_localXAxis1.y;var translation=ax1X*dX+ax1Y*dY;return translation;},GetJointSpeed:function(){var b1=this.m_body1;var b2=this.m_body2;var tMat;tMat=b1.m_R;var r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;var r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;tMat=b2.m_R;var r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;var r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;var p1X=b1.m_position.x+r1X;var p1Y=b1.m_position.y+r1Y;var p2X=b2.m_position.x+r2X;var p2Y=b2.m_position.y+r2Y;var dX=p2X-p1X;var dY=p2Y-p1Y;tMat=b1.m_R;var ax1X=tMat.col1.x*this.m_localXAxis1.x+tMat.col2.x*this.m_localXAxis1.y;var ax1Y=tMat.col1.y*this.m_localXAxis1.x+tMat.col2.y*this.m_localXAxis1.y;var v1=b1.m_linearVelocity;var v2=b2.m_linearVelocity;var w1=b1.m_angularVelocity;var w2=b2.m_angularVelocity;var speed=(dX*(-w1*ax1Y)+dY*(w1*ax1X))+(ax1X*(((v2.x+(-w2*r2Y))-v1.x)-(-w1*r1Y))+ax1Y*(((v2.y+(w2*r2X))-v1.y)-(w1*r1X)));return speed;},GetMotorForce:function(invTimeStep){return invTimeStep*this.m_motorImpulse;},SetMotorSpeed:function(speed)
{this.m_motorSpeed=speed;},SetMotorForce:function(force)
{this.m_maxMotorForce=force;},GetReactionForce:function(invTimeStep)
{var tImp=invTimeStep*this.m_limitImpulse;var tMat;tMat=this.m_body1.m_R;var ax1X=tImp*(tMat.col1.x*this.m_localXAxis1.x+tMat.col2.x*this.m_localXAxis1.y);var ax1Y=tImp*(tMat.col1.y*this.m_localXAxis1.x+tMat.col2.y*this.m_localXAxis1.y);var ay1X=tImp*(tMat.col1.x*this.m_localYAxis1.x+tMat.col2.x*this.m_localYAxis1.y);var ay1Y=tImp*(tMat.col1.y*this.m_localYAxis1.x+tMat.col2.y*this.m_localYAxis1.y);return new b2Vec2(ax1X+ay1X,ax1Y+ay1Y);},GetReactionTorque:function(invTimeStep)
{return invTimeStep*this.m_angularImpulse;},initialize:function(def){this.m_node1=new b2JointNode();this.m_node2=new b2JointNode();this.m_type=def.type;this.m_prev=null;this.m_next=null;this.m_body1=def.body1;this.m_body2=def.body2;this.m_collideConnected=def.collideConnected;this.m_islandFlag=false;this.m_userData=def.userData;this.m_localAnchor1=new b2Vec2();this.m_localAnchor2=new b2Vec2();this.m_localXAxis1=new b2Vec2();this.m_localYAxis1=new b2Vec2();this.m_linearJacobian=new b2Jacobian();this.m_motorJacobian=new b2Jacobian();var tMat;var tX;var tY;tMat=this.m_body1.m_R;tX=(def.anchorPoint.x-this.m_body1.m_position.x);tY=(def.anchorPoint.y-this.m_body1.m_position.y);this.m_localAnchor1.Set((tX*tMat.col1.x+tY*tMat.col1.y),(tX*tMat.col2.x+tY*tMat.col2.y));tMat=this.m_body2.m_R;tX=(def.anchorPoint.x-this.m_body2.m_position.x);tY=(def.anchorPoint.y-this.m_body2.m_position.y);this.m_localAnchor2.Set((tX*tMat.col1.x+tY*tMat.col1.y),(tX*tMat.col2.x+tY*tMat.col2.y));tMat=this.m_body1.m_R;tX=def.axis.x;tY=def.axis.y;this.m_localXAxis1.Set((tX*tMat.col1.x+tY*tMat.col1.y),(tX*tMat.col2.x+tY*tMat.col2.y));this.m_localYAxis1.x=-this.m_localXAxis1.y;this.m_localYAxis1.y=this.m_localXAxis1.x;this.m_initialAngle=this.m_body2.m_rotation-this.m_body1.m_rotation;this.m_linearJacobian.SetZero();this.m_linearMass=0.0;this.m_linearImpulse=0.0;this.m_angularMass=0.0;this.m_angularImpulse=0.0;this.m_motorJacobian.SetZero();this.m_motorMass=0.0;this.m_motorImpulse=0.0;this.m_limitImpulse=0.0;this.m_limitPositionImpulse=0.0;this.m_lowerTranslation=def.lowerTranslation;this.m_upperTranslation=def.upperTranslation;this.m_maxMotorForce=def.motorForce;this.m_motorSpeed=def.motorSpeed;this.m_enableLimit=def.enableLimit;this.m_enableMotor=def.enableMotor;},PrepareVelocitySolver:function(){var b1=this.m_body1;var b2=this.m_body2;var tMat;tMat=b1.m_R;var r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;var r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;tMat=b2.m_R;var r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;var r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;var invMass1=b1.m_invMass;var invMass2=b2.m_invMass;var invI1=b1.m_invI;var invI2=b2.m_invI;tMat=b1.m_R;var ay1X=tMat.col1.x*this.m_localYAxis1.x+tMat.col2.x*this.m_localYAxis1.y;var ay1Y=tMat.col1.y*this.m_localYAxis1.x+tMat.col2.y*this.m_localYAxis1.y;var eX=b2.m_position.x+r2X-b1.m_position.x;var eY=b2.m_position.y+r2Y-b1.m_position.y;this.m_linearJacobian.linear1.x=-ay1X;this.m_linearJacobian.linear1.y=-ay1Y;this.m_linearJacobian.linear2.x=ay1X;this.m_linearJacobian.linear2.y=ay1Y;this.m_linearJacobian.angular1=-(eX*ay1Y-eY*ay1X);this.m_linearJacobian.angular2=r2X*ay1Y-r2Y*ay1X;this.m_linearMass=invMass1+invI1*this.m_linearJacobian.angular1*this.m_linearJacobian.angular1+
invMass2+invI2*this.m_linearJacobian.angular2*this.m_linearJacobian.angular2;this.m_linearMass=1.0/this.m_linearMass;this.m_angularMass=1.0/(invI1+invI2);if(this.m_enableLimit||this.m_enableMotor)
{tMat=b1.m_R;var ax1X=tMat.col1.x*this.m_localXAxis1.x+tMat.col2.x*this.m_localXAxis1.y;var ax1Y=tMat.col1.y*this.m_localXAxis1.x+tMat.col2.y*this.m_localXAxis1.y;this.m_motorJacobian.linear1.x=-ax1X;this.m_motorJacobian.linear1.y=-ax1Y;this.m_motorJacobian.linear2.x=ax1X;this.m_motorJacobian.linear2.y=ax1Y;this.m_motorJacobian.angular1=-(eX*ax1Y-eY*ax1X);this.m_motorJacobian.angular2=r2X*ax1Y-r2Y*ax1X;this.m_motorMass=invMass1+invI1*this.m_motorJacobian.angular1*this.m_motorJacobian.angular1+
invMass2+invI2*this.m_motorJacobian.angular2*this.m_motorJacobian.angular2;this.m_motorMass=1.0/this.m_motorMass;if(this.m_enableLimit)
{var dX=eX-r1X;var dY=eY-r1Y;var jointTranslation=ax1X*dX+ax1Y*dY;if(b2Math.b2Abs(this.m_upperTranslation-this.m_lowerTranslation)<2.0*b2Settings.b2_linearSlop)
{this.m_limitState=b2Joint.e_equalLimits;}
else if(jointTranslation<=this.m_lowerTranslation)
{if(this.m_limitState!=b2Joint.e_atLowerLimit)
{this.m_limitImpulse=0.0;}
this.m_limitState=b2Joint.e_atLowerLimit;}
else if(jointTranslation>=this.m_upperTranslation)
{if(this.m_limitState!=b2Joint.e_atUpperLimit)
{this.m_limitImpulse=0.0;}
this.m_limitState=b2Joint.e_atUpperLimit;}
else
{this.m_limitState=b2Joint.e_inactiveLimit;this.m_limitImpulse=0.0;}}}
if(this.m_enableMotor==false)
{this.m_motorImpulse=0.0;}
if(this.m_enableLimit==false)
{this.m_limitImpulse=0.0;}
if(b2World.s_enableWarmStarting)
{var P1X=this.m_linearImpulse*this.m_linearJacobian.linear1.x+(this.m_motorImpulse+this.m_limitImpulse)*this.m_motorJacobian.linear1.x;var P1Y=this.m_linearImpulse*this.m_linearJacobian.linear1.y+(this.m_motorImpulse+this.m_limitImpulse)*this.m_motorJacobian.linear1.y;var P2X=this.m_linearImpulse*this.m_linearJacobian.linear2.x+(this.m_motorImpulse+this.m_limitImpulse)*this.m_motorJacobian.linear2.x;var P2Y=this.m_linearImpulse*this.m_linearJacobian.linear2.y+(this.m_motorImpulse+this.m_limitImpulse)*this.m_motorJacobian.linear2.y;var L1=this.m_linearImpulse*this.m_linearJacobian.angular1-this.m_angularImpulse+(this.m_motorImpulse+this.m_limitImpulse)*this.m_motorJacobian.angular1;var L2=this.m_linearImpulse*this.m_linearJacobian.angular2+this.m_angularImpulse+(this.m_motorImpulse+this.m_limitImpulse)*this.m_motorJacobian.angular2;b1.m_linearVelocity.x+=invMass1*P1X;b1.m_linearVelocity.y+=invMass1*P1Y;b1.m_angularVelocity+=invI1*L1;b2.m_linearVelocity.x+=invMass2*P2X;b2.m_linearVelocity.y+=invMass2*P2Y;b2.m_angularVelocity+=invI2*L2;}
else
{this.m_linearImpulse=0.0;this.m_angularImpulse=0.0;this.m_limitImpulse=0.0;this.m_motorImpulse=0.0;}
this.m_limitPositionImpulse=0.0;},SolveVelocityConstraints:function(step){var b1=this.m_body1;var b2=this.m_body2;var invMass1=b1.m_invMass;var invMass2=b2.m_invMass;var invI1=b1.m_invI;var invI2=b2.m_invI;var oldLimitImpulse;var linearCdot=this.m_linearJacobian.Compute(b1.m_linearVelocity,b1.m_angularVelocity,b2.m_linearVelocity,b2.m_angularVelocity);var linearImpulse=-this.m_linearMass*linearCdot;this.m_linearImpulse+=linearImpulse;b1.m_linearVelocity.x+=(invMass1*linearImpulse)*this.m_linearJacobian.linear1.x;b1.m_linearVelocity.y+=(invMass1*linearImpulse)*this.m_linearJacobian.linear1.y;b1.m_angularVelocity+=invI1*linearImpulse*this.m_linearJacobian.angular1;b2.m_linearVelocity.x+=(invMass2*linearImpulse)*this.m_linearJacobian.linear2.x;b2.m_linearVelocity.y+=(invMass2*linearImpulse)*this.m_linearJacobian.linear2.y;b2.m_angularVelocity+=invI2*linearImpulse*this.m_linearJacobian.angular2;var angularCdot=b2.m_angularVelocity-b1.m_angularVelocity;var angularImpulse=-this.m_angularMass*angularCdot;this.m_angularImpulse+=angularImpulse;b1.m_angularVelocity-=invI1*angularImpulse;b2.m_angularVelocity+=invI2*angularImpulse;if(this.m_enableMotor&&this.m_limitState!=b2Joint.e_equalLimits)
{var motorCdot=this.m_motorJacobian.Compute(b1.m_linearVelocity,b1.m_angularVelocity,b2.m_linearVelocity,b2.m_angularVelocity)-this.m_motorSpeed;var motorImpulse=-this.m_motorMass*motorCdot;var oldMotorImpulse=this.m_motorImpulse;this.m_motorImpulse=b2Math.b2Clamp(this.m_motorImpulse+motorImpulse,-step.dt*this.m_maxMotorForce,step.dt*this.m_maxMotorForce);motorImpulse=this.m_motorImpulse-oldMotorImpulse;b1.m_linearVelocity.x+=(invMass1*motorImpulse)*this.m_motorJacobian.linear1.x;b1.m_linearVelocity.y+=(invMass1*motorImpulse)*this.m_motorJacobian.linear1.y;b1.m_angularVelocity+=invI1*motorImpulse*this.m_motorJacobian.angular1;b2.m_linearVelocity.x+=(invMass2*motorImpulse)*this.m_motorJacobian.linear2.x;b2.m_linearVelocity.y+=(invMass2*motorImpulse)*this.m_motorJacobian.linear2.y;b2.m_angularVelocity+=invI2*motorImpulse*this.m_motorJacobian.angular2;}
if(this.m_enableLimit&&this.m_limitState!=b2Joint.e_inactiveLimit)
{var limitCdot=this.m_motorJacobian.Compute(b1.m_linearVelocity,b1.m_angularVelocity,b2.m_linearVelocity,b2.m_angularVelocity);var limitImpulse=-this.m_motorMass*limitCdot;if(this.m_limitState==b2Joint.e_equalLimits)
{this.m_limitImpulse+=limitImpulse;}
else if(this.m_limitState==b2Joint.e_atLowerLimit)
{oldLimitImpulse=this.m_limitImpulse;this.m_limitImpulse=b2Math.b2Max(this.m_limitImpulse+limitImpulse,0.0);limitImpulse=this.m_limitImpulse-oldLimitImpulse;}
else if(this.m_limitState==b2Joint.e_atUpperLimit)
{oldLimitImpulse=this.m_limitImpulse;this.m_limitImpulse=b2Math.b2Min(this.m_limitImpulse+limitImpulse,0.0);limitImpulse=this.m_limitImpulse-oldLimitImpulse;}
b1.m_linearVelocity.x+=(invMass1*limitImpulse)*this.m_motorJacobian.linear1.x;b1.m_linearVelocity.y+=(invMass1*limitImpulse)*this.m_motorJacobian.linear1.y;b1.m_angularVelocity+=invI1*limitImpulse*this.m_motorJacobian.angular1;b2.m_linearVelocity.x+=(invMass2*limitImpulse)*this.m_motorJacobian.linear2.x;b2.m_linearVelocity.y+=(invMass2*limitImpulse)*this.m_motorJacobian.linear2.y;b2.m_angularVelocity+=invI2*limitImpulse*this.m_motorJacobian.angular2;}},SolvePositionConstraints:function(){var limitC;var oldLimitImpulse;var b1=this.m_body1;var b2=this.m_body2;var invMass1=b1.m_invMass;var invMass2=b2.m_invMass;var invI1=b1.m_invI;var invI2=b2.m_invI;var tMat;tMat=b1.m_R;var r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;var r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;tMat=b2.m_R;var r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;var r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;var p1X=b1.m_position.x+r1X;var p1Y=b1.m_position.y+r1Y;var p2X=b2.m_position.x+r2X;var p2Y=b2.m_position.y+r2Y;var dX=p2X-p1X;var dY=p2Y-p1Y;tMat=b1.m_R;var ay1X=tMat.col1.x*this.m_localYAxis1.x+tMat.col2.x*this.m_localYAxis1.y;var ay1Y=tMat.col1.y*this.m_localYAxis1.x+tMat.col2.y*this.m_localYAxis1.y;var linearC=ay1X*dX+ay1Y*dY;linearC=b2Math.b2Clamp(linearC,-b2Settings.b2_maxLinearCorrection,b2Settings.b2_maxLinearCorrection);var linearImpulse=-this.m_linearMass*linearC;b1.m_position.x+=(invMass1*linearImpulse)*this.m_linearJacobian.linear1.x;b1.m_position.y+=(invMass1*linearImpulse)*this.m_linearJacobian.linear1.y;b1.m_rotation+=invI1*linearImpulse*this.m_linearJacobian.angular1;b2.m_position.x+=(invMass2*linearImpulse)*this.m_linearJacobian.linear2.x;b2.m_position.y+=(invMass2*linearImpulse)*this.m_linearJacobian.linear2.y;b2.m_rotation+=invI2*linearImpulse*this.m_linearJacobian.angular2;var positionError=b2Math.b2Abs(linearC);var angularC=b2.m_rotation-b1.m_rotation-this.m_initialAngle;angularC=b2Math.b2Clamp(angularC,-b2Settings.b2_maxAngularCorrection,b2Settings.b2_maxAngularCorrection);var angularImpulse=-this.m_angularMass*angularC;b1.m_rotation-=b1.m_invI*angularImpulse;b1.m_R.Set(b1.m_rotation);b2.m_rotation+=b2.m_invI*angularImpulse;b2.m_R.Set(b2.m_rotation);var angularError=b2Math.b2Abs(angularC);if(this.m_enableLimit&&this.m_limitState!=b2Joint.e_inactiveLimit)
{tMat=b1.m_R;r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;tMat=b2.m_R;r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;p1X=b1.m_position.x+r1X;p1Y=b1.m_position.y+r1Y;p2X=b2.m_position.x+r2X;p2Y=b2.m_position.y+r2Y;dX=p2X-p1X;dY=p2Y-p1Y;tMat=b1.m_R;var ax1X=tMat.col1.x*this.m_localXAxis1.x+tMat.col2.x*this.m_localXAxis1.y;var ax1Y=tMat.col1.y*this.m_localXAxis1.x+tMat.col2.y*this.m_localXAxis1.y;var translation=(ax1X*dX+ax1Y*dY);var limitImpulse=0.0;if(this.m_limitState==b2Joint.e_equalLimits)
{limitC=b2Math.b2Clamp(translation,-b2Settings.b2_maxLinearCorrection,b2Settings.b2_maxLinearCorrection);limitImpulse=-this.m_motorMass*limitC;positionError=b2Math.b2Max(positionError,b2Math.b2Abs(angularC));}
else if(this.m_limitState==b2Joint.e_atLowerLimit)
{limitC=translation-this.m_lowerTranslation;positionError=b2Math.b2Max(positionError,-limitC);limitC=b2Math.b2Clamp(limitC+b2Settings.b2_linearSlop,-b2Settings.b2_maxLinearCorrection,0.0);limitImpulse=-this.m_motorMass*limitC;oldLimitImpulse=this.m_limitPositionImpulse;this.m_limitPositionImpulse=b2Math.b2Max(this.m_limitPositionImpulse+limitImpulse,0.0);limitImpulse=this.m_limitPositionImpulse-oldLimitImpulse;}
else if(this.m_limitState==b2Joint.e_atUpperLimit)
{limitC=translation-this.m_upperTranslation;positionError=b2Math.b2Max(positionError,limitC);limitC=b2Math.b2Clamp(limitC-b2Settings.b2_linearSlop,0.0,b2Settings.b2_maxLinearCorrection);limitImpulse=-this.m_motorMass*limitC;oldLimitImpulse=this.m_limitPositionImpulse;this.m_limitPositionImpulse=b2Math.b2Min(this.m_limitPositionImpulse+limitImpulse,0.0);limitImpulse=this.m_limitPositionImpulse-oldLimitImpulse;}
b1.m_position.x+=(invMass1*limitImpulse)*this.m_motorJacobian.linear1.x;b1.m_position.y+=(invMass1*limitImpulse)*this.m_motorJacobian.linear1.y;b1.m_rotation+=invI1*limitImpulse*this.m_motorJacobian.angular1;b1.m_R.Set(b1.m_rotation);b2.m_position.x+=(invMass2*limitImpulse)*this.m_motorJacobian.linear2.x;b2.m_position.y+=(invMass2*limitImpulse)*this.m_motorJacobian.linear2.y;b2.m_rotation+=invI2*limitImpulse*this.m_motorJacobian.angular2;b2.m_R.Set(b2.m_rotation);}
return positionError<=b2Settings.b2_linearSlop&&angularError<=b2Settings.b2_angularSlop;},m_localAnchor1:new b2Vec2(),m_localAnchor2:new b2Vec2(),m_localXAxis1:new b2Vec2(),m_localYAxis1:new b2Vec2(),m_initialAngle:null,m_linearJacobian:new b2Jacobian(),m_linearMass:null,m_linearImpulse:null,m_angularMass:null,m_angularImpulse:null,m_motorJacobian:new b2Jacobian(),m_motorMass:null,m_motorImpulse:null,m_limitImpulse:null,m_limitPositionImpulse:null,m_lowerTranslation:null,m_upperTranslation:null,m_maxMotorForce:null,m_motorSpeed:null,m_enableLimit:null,m_enableMotor:null,m_limitState:0});
var b2PrismaticJointDef=Class.create();Object.extend(b2PrismaticJointDef.prototype,b2JointDef.prototype);Object.extend(b2PrismaticJointDef.prototype,{initialize:function()
{this.type=b2Joint.e_unknownJoint;this.userData=null;this.body1=null;this.body2=null;this.collideConnected=false;this.type=b2Joint.e_prismaticJoint;this.anchorPoint=new b2Vec2(0.0,0.0);this.axis=new b2Vec2(0.0,0.0);this.lowerTranslation=0.0;this.upperTranslation=0.0;this.motorForce=0.0;this.motorSpeed=0.0;this.enableLimit=false;this.enableMotor=false;},anchorPoint:null,axis:null,lowerTranslation:null,upperTranslation:null,motorForce:null,motorSpeed:null,enableLimit:null,enableMotor:null});
var b2PulleyJoint=Class.create();Object.extend(b2PulleyJoint.prototype,b2Joint.prototype);Object.extend(b2PulleyJoint.prototype,{GetAnchor1:function(){var tMat=this.m_body1.m_R;return new b2Vec2(this.m_body1.m_position.x+(tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y),this.m_body1.m_position.y+(tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y));},GetAnchor2:function(){var tMat=this.m_body2.m_R;return new b2Vec2(this.m_body2.m_position.x+(tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y),this.m_body2.m_position.y+(tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y));},GetGroundPoint1:function(){return new b2Vec2(this.m_ground.m_position.x+this.m_groundAnchor1.x,this.m_ground.m_position.y+this.m_groundAnchor1.y);},GetGroundPoint2:function(){return new b2Vec2(this.m_ground.m_position.x+this.m_groundAnchor2.x,this.m_ground.m_position.y+this.m_groundAnchor2.y);},GetReactionForce:function(invTimeStep){return new b2Vec2();},GetReactionTorque:function(invTimeStep){return 0.0;},GetLength1:function(){var tMat;tMat=this.m_body1.m_R;var pX=this.m_body1.m_position.x+(tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y);var pY=this.m_body1.m_position.y+(tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y);var dX=pX-(this.m_ground.m_position.x+this.m_groundAnchor1.x);var dY=pY-(this.m_ground.m_position.y+this.m_groundAnchor1.y);return Math.sqrt(dX*dX+dY*dY);},GetLength2:function(){var tMat;tMat=this.m_body2.m_R;var pX=this.m_body2.m_position.x+(tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y);var pY=this.m_body2.m_position.y+(tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y);var dX=pX-(this.m_ground.m_position.x+this.m_groundAnchor2.x);var dY=pY-(this.m_ground.m_position.y+this.m_groundAnchor2.y);return Math.sqrt(dX*dX+dY*dY);},GetRatio:function(){return this.m_ratio;},initialize:function(def){this.m_node1=new b2JointNode();this.m_node2=new b2JointNode();this.m_type=def.type;this.m_prev=null;this.m_next=null;this.m_body1=def.body1;this.m_body2=def.body2;this.m_collideConnected=def.collideConnected;this.m_islandFlag=false;this.m_userData=def.userData;this.m_groundAnchor1=new b2Vec2();this.m_groundAnchor2=new b2Vec2();this.m_localAnchor1=new b2Vec2();this.m_localAnchor2=new b2Vec2();this.m_u1=new b2Vec2();this.m_u2=new b2Vec2();var tMat;var tX;var tY;this.m_ground=this.m_body1.m_world.m_groundBody;this.m_groundAnchor1.x=def.groundPoint1.x-this.m_ground.m_position.x;this.m_groundAnchor1.y=def.groundPoint1.y-this.m_ground.m_position.y;this.m_groundAnchor2.x=def.groundPoint2.x-this.m_ground.m_position.x;this.m_groundAnchor2.y=def.groundPoint2.y-this.m_ground.m_position.y;tMat=this.m_body1.m_R;tX=def.anchorPoint1.x-this.m_body1.m_position.x;tY=def.anchorPoint1.y-this.m_body1.m_position.y;this.m_localAnchor1.x=tX*tMat.col1.x+tY*tMat.col1.y;this.m_localAnchor1.y=tX*tMat.col2.x+tY*tMat.col2.y;tMat=this.m_body2.m_R;tX=def.anchorPoint2.x-this.m_body2.m_position.x;tY=def.anchorPoint2.y-this.m_body2.m_position.y;this.m_localAnchor2.x=tX*tMat.col1.x+tY*tMat.col1.y;this.m_localAnchor2.y=tX*tMat.col2.x+tY*tMat.col2.y;this.m_ratio=def.ratio;tX=def.groundPoint1.x-def.anchorPoint1.x;tY=def.groundPoint1.y-def.anchorPoint1.y;var d1Len=Math.sqrt(tX*tX+tY*tY);tX=def.groundPoint2.x-def.anchorPoint2.x;tY=def.groundPoint2.y-def.anchorPoint2.y;var d2Len=Math.sqrt(tX*tX+tY*tY);var length1=b2Math.b2Max(0.5*b2PulleyJoint.b2_minPulleyLength,d1Len);var length2=b2Math.b2Max(0.5*b2PulleyJoint.b2_minPulleyLength,d2Len);this.m_constant=length1+this.m_ratio*length2;this.m_maxLength1=b2Math.b2Clamp(def.maxLength1,length1,this.m_constant-this.m_ratio*b2PulleyJoint.b2_minPulleyLength);this.m_maxLength2=b2Math.b2Clamp(def.maxLength2,length2,(this.m_constant-b2PulleyJoint.b2_minPulleyLength)/this.m_ratio);this.m_pulleyImpulse=0.0;this.m_limitImpulse1=0.0;this.m_limitImpulse2=0.0;},PrepareVelocitySolver:function(){var b1=this.m_body1;var b2=this.m_body2;var tMat;tMat=b1.m_R;var r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;var r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;tMat=b2.m_R;var r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;var r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;var p1X=b1.m_position.x+r1X;var p1Y=b1.m_position.y+r1Y;var p2X=b2.m_position.x+r2X;var p2Y=b2.m_position.y+r2Y;var s1X=this.m_ground.m_position.x+this.m_groundAnchor1.x;var s1Y=this.m_ground.m_position.y+this.m_groundAnchor1.y;var s2X=this.m_ground.m_position.x+this.m_groundAnchor2.x;var s2Y=this.m_ground.m_position.y+this.m_groundAnchor2.y;this.m_u1.Set(p1X-s1X,p1Y-s1Y);this.m_u2.Set(p2X-s2X,p2Y-s2Y);var length1=this.m_u1.Length();var length2=this.m_u2.Length();if(length1>b2Settings.b2_linearSlop)
{this.m_u1.Multiply(1.0/length1);}
else
{this.m_u1.SetZero();}
if(length2>b2Settings.b2_linearSlop)
{this.m_u2.Multiply(1.0/length2);}
else
{this.m_u2.SetZero();}
if(length1<this.m_maxLength1)
{this.m_limitState1=b2Joint.e_inactiveLimit;this.m_limitImpulse1=0.0;}
else
{this.m_limitState1=b2Joint.e_atUpperLimit;this.m_limitPositionImpulse1=0.0;}
if(length2<this.m_maxLength2)
{this.m_limitState2=b2Joint.e_inactiveLimit;this.m_limitImpulse2=0.0;}
else
{this.m_limitState2=b2Joint.e_atUpperLimit;this.m_limitPositionImpulse2=0.0;}
var cr1u1=r1X*this.m_u1.y-r1Y*this.m_u1.x;var cr2u2=r2X*this.m_u2.y-r2Y*this.m_u2.x;this.m_limitMass1=b1.m_invMass+b1.m_invI*cr1u1*cr1u1;this.m_limitMass2=b2.m_invMass+b2.m_invI*cr2u2*cr2u2;this.m_pulleyMass=this.m_limitMass1+this.m_ratio*this.m_ratio*this.m_limitMass2;this.m_limitMass1=1.0/this.m_limitMass1;this.m_limitMass2=1.0/this.m_limitMass2;this.m_pulleyMass=1.0/this.m_pulleyMass;var P1X=(-this.m_pulleyImpulse-this.m_limitImpulse1)*this.m_u1.x;var P1Y=(-this.m_pulleyImpulse-this.m_limitImpulse1)*this.m_u1.y;var P2X=(-this.m_ratio*this.m_pulleyImpulse-this.m_limitImpulse2)*this.m_u2.x;var P2Y=(-this.m_ratio*this.m_pulleyImpulse-this.m_limitImpulse2)*this.m_u2.y;b1.m_linearVelocity.x+=b1.m_invMass*P1X;b1.m_linearVelocity.y+=b1.m_invMass*P1Y;b1.m_angularVelocity+=b1.m_invI*(r1X*P1Y-r1Y*P1X);b2.m_linearVelocity.x+=b2.m_invMass*P2X;b2.m_linearVelocity.y+=b2.m_invMass*P2Y;b2.m_angularVelocity+=b2.m_invI*(r2X*P2Y-r2Y*P2X);},SolveVelocityConstraints:function(step){var b1=this.m_body1;var b2=this.m_body2;var tMat;tMat=b1.m_R;var r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;var r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;tMat=b2.m_R;var r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;var r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;var v1X;var v1Y;var v2X;var v2Y;var P1X;var P1Y;var P2X;var P2Y;var Cdot;var impulse;var oldLimitImpulse;v1X=b1.m_linearVelocity.x+(-b1.m_angularVelocity*r1Y);v1Y=b1.m_linearVelocity.y+(b1.m_angularVelocity*r1X);v2X=b2.m_linearVelocity.x+(-b2.m_angularVelocity*r2Y);v2Y=b2.m_linearVelocity.y+(b2.m_angularVelocity*r2X);Cdot=-(this.m_u1.x*v1X+this.m_u1.y*v1Y)-this.m_ratio*(this.m_u2.x*v2X+this.m_u2.y*v2Y);impulse=-this.m_pulleyMass*Cdot;this.m_pulleyImpulse+=impulse;P1X=-impulse*this.m_u1.x;P1Y=-impulse*this.m_u1.y;P2X=-this.m_ratio*impulse*this.m_u2.x;P2Y=-this.m_ratio*impulse*this.m_u2.y;b1.m_linearVelocity.x+=b1.m_invMass*P1X;b1.m_linearVelocity.y+=b1.m_invMass*P1Y;b1.m_angularVelocity+=b1.m_invI*(r1X*P1Y-r1Y*P1X);b2.m_linearVelocity.x+=b2.m_invMass*P2X;b2.m_linearVelocity.y+=b2.m_invMass*P2Y;b2.m_angularVelocity+=b2.m_invI*(r2X*P2Y-r2Y*P2X);if(this.m_limitState1==b2Joint.e_atUpperLimit)
{v1X=b1.m_linearVelocity.x+(-b1.m_angularVelocity*r1Y);v1Y=b1.m_linearVelocity.y+(b1.m_angularVelocity*r1X);Cdot=-(this.m_u1.x*v1X+this.m_u1.y*v1Y);impulse=-this.m_limitMass1*Cdot;oldLimitImpulse=this.m_limitImpulse1;this.m_limitImpulse1=b2Math.b2Max(0.0,this.m_limitImpulse1+impulse);impulse=this.m_limitImpulse1-oldLimitImpulse;P1X=-impulse*this.m_u1.x;P1Y=-impulse*this.m_u1.y;b1.m_linearVelocity.x+=b1.m_invMass*P1X;b1.m_linearVelocity.y+=b1.m_invMass*P1Y;b1.m_angularVelocity+=b1.m_invI*(r1X*P1Y-r1Y*P1X);}
if(this.m_limitState2==b2Joint.e_atUpperLimit)
{v2X=b2.m_linearVelocity.x+(-b2.m_angularVelocity*r2Y);v2Y=b2.m_linearVelocity.y+(b2.m_angularVelocity*r2X);Cdot=-(this.m_u2.x*v2X+this.m_u2.y*v2Y);impulse=-this.m_limitMass2*Cdot;oldLimitImpulse=this.m_limitImpulse2;this.m_limitImpulse2=b2Math.b2Max(0.0,this.m_limitImpulse2+impulse);impulse=this.m_limitImpulse2-oldLimitImpulse;P2X=-impulse*this.m_u2.x;P2Y=-impulse*this.m_u2.y;b2.m_linearVelocity.x+=b2.m_invMass*P2X;b2.m_linearVelocity.y+=b2.m_invMass*P2Y;b2.m_angularVelocity+=b2.m_invI*(r2X*P2Y-r2Y*P2X);}},SolvePositionConstraints:function(){var b1=this.m_body1;var b2=this.m_body2;var tMat;var s1X=this.m_ground.m_position.x+this.m_groundAnchor1.x;var s1Y=this.m_ground.m_position.y+this.m_groundAnchor1.y;var s2X=this.m_ground.m_position.x+this.m_groundAnchor2.x;var s2Y=this.m_ground.m_position.y+this.m_groundAnchor2.y;var r1X;var r1Y;var r2X;var r2Y;var p1X;var p1Y;var p2X;var p2Y;var length1;var length2;var C;var impulse;var oldLimitPositionImpulse;var linearError=0.0;{tMat=b1.m_R;r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;tMat=b2.m_R;r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;p1X=b1.m_position.x+r1X;p1Y=b1.m_position.y+r1Y;p2X=b2.m_position.x+r2X;p2Y=b2.m_position.y+r2Y;this.m_u1.Set(p1X-s1X,p1Y-s1Y);this.m_u2.Set(p2X-s2X,p2Y-s2Y);length1=this.m_u1.Length();length2=this.m_u2.Length();if(length1>b2Settings.b2_linearSlop)
{this.m_u1.Multiply(1.0/length1);}
else
{this.m_u1.SetZero();}
if(length2>b2Settings.b2_linearSlop)
{this.m_u2.Multiply(1.0/length2);}
else
{this.m_u2.SetZero();}
C=this.m_constant-length1-this.m_ratio*length2;linearError=b2Math.b2Max(linearError,Math.abs(C));C=b2Math.b2Clamp(C,-b2Settings.b2_maxLinearCorrection,b2Settings.b2_maxLinearCorrection);impulse=-this.m_pulleyMass*C;p1X=-impulse*this.m_u1.x;p1Y=-impulse*this.m_u1.y;p2X=-this.m_ratio*impulse*this.m_u2.x;p2Y=-this.m_ratio*impulse*this.m_u2.y;b1.m_position.x+=b1.m_invMass*p1X;b1.m_position.y+=b1.m_invMass*p1Y;b1.m_rotation+=b1.m_invI*(r1X*p1Y-r1Y*p1X);b2.m_position.x+=b2.m_invMass*p2X;b2.m_position.y+=b2.m_invMass*p2Y;b2.m_rotation+=b2.m_invI*(r2X*p2Y-r2Y*p2X);b1.m_R.Set(b1.m_rotation);b2.m_R.Set(b2.m_rotation);}
if(this.m_limitState1==b2Joint.e_atUpperLimit)
{tMat=b1.m_R;r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;p1X=b1.m_position.x+r1X;p1Y=b1.m_position.y+r1Y;this.m_u1.Set(p1X-s1X,p1Y-s1Y);length1=this.m_u1.Length();if(length1>b2Settings.b2_linearSlop)
{this.m_u1.x*=1.0/length1;this.m_u1.y*=1.0/length1;}
else
{this.m_u1.SetZero();}
C=this.m_maxLength1-length1;linearError=b2Math.b2Max(linearError,-C);C=b2Math.b2Clamp(C+b2Settings.b2_linearSlop,-b2Settings.b2_maxLinearCorrection,0.0);impulse=-this.m_limitMass1*C;oldLimitPositionImpulse=this.m_limitPositionImpulse1;this.m_limitPositionImpulse1=b2Math.b2Max(0.0,this.m_limitPositionImpulse1+impulse);impulse=this.m_limitPositionImpulse1-oldLimitPositionImpulse;p1X=-impulse*this.m_u1.x;p1Y=-impulse*this.m_u1.y;b1.m_position.x+=b1.m_invMass*p1X;b1.m_position.y+=b1.m_invMass*p1Y;b1.m_rotation+=b1.m_invI*(r1X*p1Y-r1Y*p1X);b1.m_R.Set(b1.m_rotation);}
if(this.m_limitState2==b2Joint.e_atUpperLimit)
{tMat=b2.m_R;r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;p2X=b2.m_position.x+r2X;p2Y=b2.m_position.y+r2Y;this.m_u2.Set(p2X-s2X,p2Y-s2Y);length2=this.m_u2.Length();if(length2>b2Settings.b2_linearSlop)
{this.m_u2.x*=1.0/length2;this.m_u2.y*=1.0/length2;}
else
{this.m_u2.SetZero();}
C=this.m_maxLength2-length2;linearError=b2Math.b2Max(linearError,-C);C=b2Math.b2Clamp(C+b2Settings.b2_linearSlop,-b2Settings.b2_maxLinearCorrection,0.0);impulse=-this.m_limitMass2*C;oldLimitPositionImpulse=this.m_limitPositionImpulse2;this.m_limitPositionImpulse2=b2Math.b2Max(0.0,this.m_limitPositionImpulse2+impulse);impulse=this.m_limitPositionImpulse2-oldLimitPositionImpulse;p2X=-impulse*this.m_u2.x;p2Y=-impulse*this.m_u2.y;b2.m_position.x+=b2.m_invMass*p2X;b2.m_position.y+=b2.m_invMass*p2Y;b2.m_rotation+=b2.m_invI*(r2X*p2Y-r2Y*p2X);b2.m_R.Set(b2.m_rotation);}
return linearError<b2Settings.b2_linearSlop;},m_ground:null,m_groundAnchor1:new b2Vec2(),m_groundAnchor2:new b2Vec2(),m_localAnchor1:new b2Vec2(),m_localAnchor2:new b2Vec2(),m_u1:new b2Vec2(),m_u2:new b2Vec2(),m_constant:null,m_ratio:null,m_maxLength1:null,m_maxLength2:null,m_pulleyMass:null,m_limitMass1:null,m_limitMass2:null,m_pulleyImpulse:null,m_limitImpulse1:null,m_limitImpulse2:null,m_limitPositionImpulse1:null,m_limitPositionImpulse2:null,m_limitState1:0,m_limitState2:0});b2PulleyJoint.b2_minPulleyLength=b2Settings.b2_lengthUnitsPerMeter;
var b2PulleyJointDef=Class.create();Object.extend(b2PulleyJointDef.prototype,b2JointDef.prototype);Object.extend(b2PulleyJointDef.prototype,{initialize:function()
{this.type=b2Joint.e_unknownJoint;this.userData=null;this.body1=null;this.body2=null;this.collideConnected=false;this.groundPoint1=new b2Vec2();this.groundPoint2=new b2Vec2();this.anchorPoint1=new b2Vec2();this.anchorPoint2=new b2Vec2();this.type=b2Joint.e_pulleyJoint;this.groundPoint1.Set(-1.0,1.0);this.groundPoint2.Set(1.0,1.0);this.anchorPoint1.Set(-1.0,0.0);this.anchorPoint2.Set(1.0,0.0);this.maxLength1=0.5*b2PulleyJoint.b2_minPulleyLength;this.maxLength2=0.5*b2PulleyJoint.b2_minPulleyLength;this.ratio=1.0;this.collideConnected=true;},groundPoint1:new b2Vec2(),groundPoint2:new b2Vec2(),anchorPoint1:new b2Vec2(),anchorPoint2:new b2Vec2(),maxLength1:null,maxLength2:null,ratio:null});
var b2RevoluteJoint=Class.create();Object.extend(b2RevoluteJoint.prototype,b2Joint.prototype);Object.extend(b2RevoluteJoint.prototype,{GetAnchor1:function(){var tMat=this.m_body1.m_R;return new b2Vec2(this.m_body1.m_position.x+(tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y),this.m_body1.m_position.y+(tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y));},GetAnchor2:function(){var tMat=this.m_body2.m_R;return new b2Vec2(this.m_body2.m_position.x+(tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y),this.m_body2.m_position.y+(tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y));},GetJointAngle:function(){return this.m_body2.m_rotation-this.m_body1.m_rotation;},GetJointSpeed:function(){return this.m_body2.m_angularVelocity-this.m_body1.m_angularVelocity;},GetMotorTorque:function(invTimeStep){return invTimeStep*this.m_motorImpulse;},SetMotorSpeed:function(speed)
{this.m_motorSpeed=speed;},SetMotorTorque:function(torque)
{this.m_maxMotorTorque=torque;},GetReactionForce:function(invTimeStep)
{var tVec=this.m_ptpImpulse.Copy();tVec.Multiply(invTimeStep);return tVec;},GetReactionTorque:function(invTimeStep)
{return invTimeStep*this.m_limitImpulse;},initialize:function(def){this.m_node1=new b2JointNode();this.m_node2=new b2JointNode();this.m_type=def.type;this.m_prev=null;this.m_next=null;this.m_body1=def.body1;this.m_body2=def.body2;this.m_collideConnected=def.collideConnected;this.m_islandFlag=false;this.m_userData=def.userData;this.K=new b2Mat22();this.K1=new b2Mat22();this.K2=new b2Mat22();this.K3=new b2Mat22();this.m_localAnchor1=new b2Vec2();this.m_localAnchor2=new b2Vec2();this.m_ptpImpulse=new b2Vec2();this.m_ptpMass=new b2Mat22();var tMat;var tX;var tY;tMat=this.m_body1.m_R;tX=def.anchorPoint.x-this.m_body1.m_position.x;tY=def.anchorPoint.y-this.m_body1.m_position.y;this.m_localAnchor1.x=tX*tMat.col1.x+tY*tMat.col1.y;this.m_localAnchor1.y=tX*tMat.col2.x+tY*tMat.col2.y;tMat=this.m_body2.m_R;tX=def.anchorPoint.x-this.m_body2.m_position.x;tY=def.anchorPoint.y-this.m_body2.m_position.y;this.m_localAnchor2.x=tX*tMat.col1.x+tY*tMat.col1.y;this.m_localAnchor2.y=tX*tMat.col2.x+tY*tMat.col2.y;this.m_intialAngle=this.m_body2.m_rotation-this.m_body1.m_rotation;this.m_ptpImpulse.Set(0.0,0.0);this.m_motorImpulse=0.0;this.m_limitImpulse=0.0;this.m_limitPositionImpulse=0.0;this.m_lowerAngle=def.lowerAngle;this.m_upperAngle=def.upperAngle;this.m_maxMotorTorque=def.motorTorque;this.m_motorSpeed=def.motorSpeed;this.m_enableLimit=def.enableLimit;this.m_enableMotor=def.enableMotor;},K:new b2Mat22(),K1:new b2Mat22(),K2:new b2Mat22(),K3:new b2Mat22(),PrepareVelocitySolver:function(){var b1=this.m_body1;var b2=this.m_body2;var tMat;tMat=b1.m_R;var r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;var r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;tMat=b2.m_R;var r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;var r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;var invMass1=b1.m_invMass;var invMass2=b2.m_invMass;var invI1=b1.m_invI;var invI2=b2.m_invI;this.K1.col1.x=invMass1+invMass2;this.K1.col2.x=0.0;this.K1.col1.y=0.0;this.K1.col2.y=invMass1+invMass2;this.K2.col1.x=invI1*r1Y*r1Y;this.K2.col2.x=-invI1*r1X*r1Y;this.K2.col1.y=-invI1*r1X*r1Y;this.K2.col2.y=invI1*r1X*r1X;this.K3.col1.x=invI2*r2Y*r2Y;this.K3.col2.x=-invI2*r2X*r2Y;this.K3.col1.y=-invI2*r2X*r2Y;this.K3.col2.y=invI2*r2X*r2X;this.K.SetM(this.K1);this.K.AddM(this.K2);this.K.AddM(this.K3);this.K.Invert(this.m_ptpMass);this.m_motorMass=1.0/(invI1+invI2);if(this.m_enableMotor==false)
{this.m_motorImpulse=0.0;}
if(this.m_enableLimit)
{var jointAngle=b2.m_rotation-b1.m_rotation-this.m_intialAngle;if(b2Math.b2Abs(this.m_upperAngle-this.m_lowerAngle)<2.0*b2Settings.b2_angularSlop)
{this.m_limitState=b2Joint.e_equalLimits;}
else if(jointAngle<=this.m_lowerAngle)
{if(this.m_limitState!=b2Joint.e_atLowerLimit)
{this.m_limitImpulse=0.0;}
this.m_limitState=b2Joint.e_atLowerLimit;}
else if(jointAngle>=this.m_upperAngle)
{if(this.m_limitState!=b2Joint.e_atUpperLimit)
{this.m_limitImpulse=0.0;}
this.m_limitState=b2Joint.e_atUpperLimit;}
else
{this.m_limitState=b2Joint.e_inactiveLimit;this.m_limitImpulse=0.0;}}
else
{this.m_limitImpulse=0.0;}
if(b2World.s_enableWarmStarting)
{b1.m_linearVelocity.x-=invMass1*this.m_ptpImpulse.x;b1.m_linearVelocity.y-=invMass1*this.m_ptpImpulse.y;b1.m_angularVelocity-=invI1*((r1X*this.m_ptpImpulse.y-r1Y*this.m_ptpImpulse.x)+this.m_motorImpulse+this.m_limitImpulse);b2.m_linearVelocity.x+=invMass2*this.m_ptpImpulse.x;b2.m_linearVelocity.y+=invMass2*this.m_ptpImpulse.y;b2.m_angularVelocity+=invI2*((r2X*this.m_ptpImpulse.y-r2Y*this.m_ptpImpulse.x)+this.m_motorImpulse+this.m_limitImpulse);}
else{this.m_ptpImpulse.SetZero();this.m_motorImpulse=0.0;this.m_limitImpulse=0.0;}
this.m_limitPositionImpulse=0.0;},SolveVelocityConstraints:function(step){var b1=this.m_body1;var b2=this.m_body2;var tMat;tMat=b1.m_R;var r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;var r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;tMat=b2.m_R;var r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;var r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;var oldLimitImpulse;var ptpCdotX=b2.m_linearVelocity.x+(-b2.m_angularVelocity*r2Y)-b1.m_linearVelocity.x-(-b1.m_angularVelocity*r1Y);var ptpCdotY=b2.m_linearVelocity.y+(b2.m_angularVelocity*r2X)-b1.m_linearVelocity.y-(b1.m_angularVelocity*r1X);var ptpImpulseX=-(this.m_ptpMass.col1.x*ptpCdotX+this.m_ptpMass.col2.x*ptpCdotY);var ptpImpulseY=-(this.m_ptpMass.col1.y*ptpCdotX+this.m_ptpMass.col2.y*ptpCdotY);this.m_ptpImpulse.x+=ptpImpulseX;this.m_ptpImpulse.y+=ptpImpulseY;b1.m_linearVelocity.x-=b1.m_invMass*ptpImpulseX;b1.m_linearVelocity.y-=b1.m_invMass*ptpImpulseY;b1.m_angularVelocity-=b1.m_invI*(r1X*ptpImpulseY-r1Y*ptpImpulseX);b2.m_linearVelocity.x+=b2.m_invMass*ptpImpulseX;b2.m_linearVelocity.y+=b2.m_invMass*ptpImpulseY;b2.m_angularVelocity+=b2.m_invI*(r2X*ptpImpulseY-r2Y*ptpImpulseX);if(this.m_enableMotor&&this.m_limitState!=b2Joint.e_equalLimits)
{var motorCdot=b2.m_angularVelocity-b1.m_angularVelocity-this.m_motorSpeed;var motorImpulse=-this.m_motorMass*motorCdot;var oldMotorImpulse=this.m_motorImpulse;this.m_motorImpulse=b2Math.b2Clamp(this.m_motorImpulse+motorImpulse,-step.dt*this.m_maxMotorTorque,step.dt*this.m_maxMotorTorque);motorImpulse=this.m_motorImpulse-oldMotorImpulse;b1.m_angularVelocity-=b1.m_invI*motorImpulse;b2.m_angularVelocity+=b2.m_invI*motorImpulse;}
if(this.m_enableLimit&&this.m_limitState!=b2Joint.e_inactiveLimit)
{var limitCdot=b2.m_angularVelocity-b1.m_angularVelocity;var limitImpulse=-this.m_motorMass*limitCdot;if(this.m_limitState==b2Joint.e_equalLimits)
{this.m_limitImpulse+=limitImpulse;}
else if(this.m_limitState==b2Joint.e_atLowerLimit)
{oldLimitImpulse=this.m_limitImpulse;this.m_limitImpulse=b2Math.b2Max(this.m_limitImpulse+limitImpulse,0.0);limitImpulse=this.m_limitImpulse-oldLimitImpulse;}
else if(this.m_limitState==b2Joint.e_atUpperLimit)
{oldLimitImpulse=this.m_limitImpulse;this.m_limitImpulse=b2Math.b2Min(this.m_limitImpulse+limitImpulse,0.0);limitImpulse=this.m_limitImpulse-oldLimitImpulse;}
b1.m_angularVelocity-=b1.m_invI*limitImpulse;b2.m_angularVelocity+=b2.m_invI*limitImpulse;}},SolvePositionConstraints:function(){var oldLimitImpulse;var limitC;var b1=this.m_body1;var b2=this.m_body2;var positionError=0.0;var tMat;tMat=b1.m_R;var r1X=tMat.col1.x*this.m_localAnchor1.x+tMat.col2.x*this.m_localAnchor1.y;var r1Y=tMat.col1.y*this.m_localAnchor1.x+tMat.col2.y*this.m_localAnchor1.y;tMat=b2.m_R;var r2X=tMat.col1.x*this.m_localAnchor2.x+tMat.col2.x*this.m_localAnchor2.y;var r2Y=tMat.col1.y*this.m_localAnchor2.x+tMat.col2.y*this.m_localAnchor2.y;var p1X=b1.m_position.x+r1X;var p1Y=b1.m_position.y+r1Y;var p2X=b2.m_position.x+r2X;var p2Y=b2.m_position.y+r2Y;var ptpCX=p2X-p1X;var ptpCY=p2Y-p1Y;positionError=Math.sqrt(ptpCX*ptpCX+ptpCY*ptpCY);var invMass1=b1.m_invMass;var invMass2=b2.m_invMass;var invI1=b1.m_invI;var invI2=b2.m_invI;this.K1.col1.x=invMass1+invMass2;this.K1.col2.x=0.0;this.K1.col1.y=0.0;this.K1.col2.y=invMass1+invMass2;this.K2.col1.x=invI1*r1Y*r1Y;this.K2.col2.x=-invI1*r1X*r1Y;this.K2.col1.y=-invI1*r1X*r1Y;this.K2.col2.y=invI1*r1X*r1X;this.K3.col1.x=invI2*r2Y*r2Y;this.K3.col2.x=-invI2*r2X*r2Y;this.K3.col1.y=-invI2*r2X*r2Y;this.K3.col2.y=invI2*r2X*r2X;this.K.SetM(this.K1);this.K.AddM(this.K2);this.K.AddM(this.K3);this.K.Solve(b2RevoluteJoint.tImpulse,-ptpCX,-ptpCY);var impulseX=b2RevoluteJoint.tImpulse.x;var impulseY=b2RevoluteJoint.tImpulse.y;b1.m_position.x-=b1.m_invMass*impulseX;b1.m_position.y-=b1.m_invMass*impulseY;b1.m_rotation-=b1.m_invI*(r1X*impulseY-r1Y*impulseX);b1.m_R.Set(b1.m_rotation);b2.m_position.x+=b2.m_invMass*impulseX;b2.m_position.y+=b2.m_invMass*impulseY;b2.m_rotation+=b2.m_invI*(r2X*impulseY-r2Y*impulseX);b2.m_R.Set(b2.m_rotation);var angularError=0.0;if(this.m_enableLimit&&this.m_limitState!=b2Joint.e_inactiveLimit)
{var angle=b2.m_rotation-b1.m_rotation-this.m_intialAngle;var limitImpulse=0.0;if(this.m_limitState==b2Joint.e_equalLimits)
{limitC=b2Math.b2Clamp(angle,-b2Settings.b2_maxAngularCorrection,b2Settings.b2_maxAngularCorrection);limitImpulse=-this.m_motorMass*limitC;angularError=b2Math.b2Abs(limitC);}
else if(this.m_limitState==b2Joint.e_atLowerLimit)
{limitC=angle-this.m_lowerAngle;angularError=b2Math.b2Max(0.0,-limitC);limitC=b2Math.b2Clamp(limitC+b2Settings.b2_angularSlop,-b2Settings.b2_maxAngularCorrection,0.0);limitImpulse=-this.m_motorMass*limitC;oldLimitImpulse=this.m_limitPositionImpulse;this.m_limitPositionImpulse=b2Math.b2Max(this.m_limitPositionImpulse+limitImpulse,0.0);limitImpulse=this.m_limitPositionImpulse-oldLimitImpulse;}
else if(this.m_limitState==b2Joint.e_atUpperLimit)
{limitC=angle-this.m_upperAngle;angularError=b2Math.b2Max(0.0,limitC);limitC=b2Math.b2Clamp(limitC-b2Settings.b2_angularSlop,0.0,b2Settings.b2_maxAngularCorrection);limitImpulse=-this.m_motorMass*limitC;oldLimitImpulse=this.m_limitPositionImpulse;this.m_limitPositionImpulse=b2Math.b2Min(this.m_limitPositionImpulse+limitImpulse,0.0);limitImpulse=this.m_limitPositionImpulse-oldLimitImpulse;}
b1.m_rotation-=b1.m_invI*limitImpulse;b1.m_R.Set(b1.m_rotation);b2.m_rotation+=b2.m_invI*limitImpulse;b2.m_R.Set(b2.m_rotation);}
return positionError<=b2Settings.b2_linearSlop&&angularError<=b2Settings.b2_angularSlop;},m_localAnchor1:new b2Vec2(),m_localAnchor2:new b2Vec2(),m_ptpImpulse:new b2Vec2(),m_motorImpulse:null,m_limitImpulse:null,m_limitPositionImpulse:null,m_ptpMass:new b2Mat22(),m_motorMass:null,m_intialAngle:null,m_lowerAngle:null,m_upperAngle:null,m_maxMotorTorque:null,m_motorSpeed:null,m_enableLimit:null,m_enableMotor:null,m_limitState:0});b2RevoluteJoint.tImpulse=new b2Vec2();
var b2RevoluteJointDef=Class.create();Object.extend(b2RevoluteJointDef.prototype,b2JointDef.prototype);Object.extend(b2RevoluteJointDef.prototype,{initialize:function()
{this.type=b2Joint.e_unknownJoint;this.userData=null;this.body1=null;this.body2=null;this.collideConnected=false;this.type=b2Joint.e_revoluteJoint;this.anchorPoint=new b2Vec2(0.0,0.0);this.lowerAngle=0.0;this.upperAngle=0.0;this.motorTorque=0.0;this.motorSpeed=0.0;this.enableLimit=false;this.enableMotor=false;},anchorPoint:null,lowerAngle:null,upperAngle:null,motorTorque:null,motorSpeed:null,enableLimit:null,enableMotor:null});



var canvas;

//var stats = new Stats();

var delta = [0,0];
var stage = [window.screenX,window.screenY,window.innerWidth,window.innerHeight];
getBrowserDimensions();

var theme;
var themes = [
		["#10222B","#95AB63","#BDD684","#E2F0D6","#F6FFE0"],
		["#362C2A","#732420","#BF734C","#FAD9A0","#736859"],
		["#0D1114","#102C2E","#695F4C","#EBBC5E","#FFFBB8"],
		["#2E2F38","#FFD63E","#FFB54B","#E88638","#8A221C"],
		["#121212","#E6F2DA","#C9F24B","#4D7B85","#23383D"],
		["#343F40","#736751","#F2D7B6","#BFAC95","#8C3F3F"],
		["#000000","#2D2B2A","#561812","#B81111","#FFFFFF"],
		["#333B3A","#B4BD51","#543B38","#61594D","#B8925A"]
	];

var worldAABB;
var world;
var iterations = 1;
var timeStep = 1 / 20;

var walls = new Array();
var wall_thickness = 200;
var wallsSetted = false;

var text;

var bodies;
var elements;

var createMode = false;
var destroyMode = false;

var isMouseDown = false;
var mouseJoint;
var mouseX = 0;
var mouseY = 0;
var PI2 = Math.PI * 2;

init();
play();

function init()
{
	canvas = document.getElementById('canvas');
	
	document.onmousedown = onDocumentMouseDown;
	document.onmouseup = onDocumentMouseUp;
	document.onmousemove = onDocumentMouseMove;
	document.ondblclick = onDocumentDoubleClick;
	//document.onselectstart = function() {return false;} // ie
	
	// init box2d
	
	worldAABB = new b2AABB();
	worldAABB.minVertex.Set(-200, -200);
	worldAABB.maxVertex.Set( screen.width + 200, screen.height + 200);

	world = new b2World(worldAABB, new b2Vec2(0, 0), true);
		
	setWalls();
	reset();
}


function play()
{
	setInterval(loop, 25);	
}

function reset()
{	
	// color theme
	theme = themes[ Math.random() * themes.length >> 0 ];
	document.body.style['backgroundColor'] = theme[0];
	
	bodies = new Array();
	elements = new Array();	

	createInstructions();
	
	for(var i = 0; i < 10; i++)
		createBall();
}

// .. ACTIONS

function onDocumentMouseDown()
{
	isMouseDown = true;
	return false;
}

function onDocumentMouseUp()
{
	isMouseDown = false;
	return false;
}

function onDocumentMouseMove(e)
{
	var ev = (!e) ? window.event : e;
	mouseX = ev.clientX;
	mouseY = ev.clientY;
}

function onDocumentDoubleClick()
{
	for (i = 0; i < bodies.length; i++)
	{
		var body = bodies[i]
		canvas.removeChild( body.GetUserData().element );
		world.DestroyBody(body);
		body = null;
	}

	reset();
}

function onElementMouseDown()
{
	return false;
}

function onElementMouseUp()
{
	return false;
}

function onElementClick()
{
	return false;
}

//
function createInstructions()
{
	var size = 250;
	
	var element = document.createElement("div");
	element.width = size;
	element.height = size;	
	element.style['position'] = 'absolute';
	element.style['left'] = -200 + 'px';
	element.style['top'] = -200 + 'px';
	element.style.cursor = "default";
	
	canvas.appendChild(element);
	elements.push( element );	
	
	var circle = document.createElement("canvas");	
	circle.width = size;
	circle.height = size;
	
	var graphics = circle.getContext("2d");
	
	graphics.fillStyle = theme[3];
	graphics.beginPath();
	graphics.arc(size * .5, size * .5, size * .5, 0, PI2, true); 
	graphics.closePath();
	graphics.fill();
	
	element.appendChild(circle);
	
	text = document.createElement("div");
	text.onSelectStart = null;
	text.innerHTML = '<span style="color:' + theme[0] + ';font-size:40px;">Hello!</span><br /><br /><span style="font-size:15px;"><strong>This is how it works:</strong><br /><br />1. Drag a ball.<br />2.&nbsp;Click&nbsp;on&nbsp;the&nbsp;background.<br />3. Shake your browser.<br />4. Double click.<br />5. Play!</span>';
	text.style['color'] = theme[1];
	text.style['position'] = 'absolute';
	text.style['left'] = '0px';
	text.style['top'] = '0px';	
	text.style['font-family'] = 'Georgia';
	//text.style['text-align'] = 'center';
	text.style.textAlign = 'center';
	element.appendChild(text);	
	
	text.style['left'] = ((250 - text.clientWidth) / 2) +'px';
	text.style['top'] = ((250 - text.clientHeight) / 2) +'px';	

	var b2body = new b2BodyDef();	
	
	var circle = new b2CircleDef();
	circle.radius = size >> 1;
	circle.density = 1;
	circle.friction = 0.3;
	circle.restitution = 0.3;
	b2body.AddShape(circle);
	b2body.userData = {element: element};

	b2body.position.Set( Math.random() * stage[2], Math.random() * -200 );
	b2body.linearVelocity.Set( Math.random() * 400 - 200, Math.random() * 400 - 200 );
	bodies.push( world.CreateBody(b2body) );	
}

function createBall(x,y)
{
	var x = (x != null) ? x : Math.random() * stage[2];
	var y = (y != null) ? y : Math.random() * -200;

	var size = (Math.random() * 100 >> 0) + 20;

	var element = document.createElement("canvas");
	element.width = size;
	element.height = size;
	element.style['position'] = 'absolute';
	element.style['left'] = -200 + 'px';
	element.style['top'] = -200 + 'px';	
	
	var graphics = element.getContext("2d");

	var num_circles = Math.random() * 10 >> 0;
	
	for (var i = size; i > 0; i-= (size/num_circles))
	{
		graphics.fillStyle = theme[ (Math.random() * 4 >> 0) + 1];
		graphics.beginPath();
		graphics.arc(size * .5, size * .5, i * .5, 0, PI2, true); 
		graphics.closePath();
		graphics.fill();
	}
	
	canvas.appendChild(element);
	
	elements.push( element );	

	var b2body = new b2BodyDef();	
	
	var circle = new b2CircleDef();
	circle.radius = size >> 1;
	circle.density = 1;
	circle.friction = 0.3;
	circle.restitution = 0.3;
	b2body.AddShape(circle);
	b2body.userData = {element: element};

	b2body.position.Set( x, y );
	b2body.linearVelocity.Set( Math.random() * 400 - 200, Math.random() * 400 - 200 );
	bodies.push( world.CreateBody(b2body) );
}

//

function loop()
{
	if (getBrowserDimensions())
		setWalls();

	delta[0] += (0 - delta[0]) * .5;
	delta[1] += (0 - delta[1]) * .5;
	
	world.m_gravity.x = 0 + delta[0];
	world.m_gravity.y = 350 + delta[1];
		
	mouseDrag();
	world.Step(timeStep, iterations);	
	
	for (i = 0; i < bodies.length; i++)
	{
		var body = bodies[i];
		var element = elements[i];
		
		element.style['left'] = (body.m_position0.x - (element.width >> 1)) + 'px';
		element.style['top'] = (body.m_position0.y - (element.height >> 1)) + 'px';
		
		if (element.tagName == "DIV")
		{
			// webkit
			text.style['-webkit-transform'] = 'rotate(' + (bodies[i].m_rotation0 * 57.2957795) + 'deg)';
			
			// gecko
			text.style['MozTransform'] = 'rotate(' + (bodies[i].m_rotation0 * 57.2957795) + 'deg)';

			// opera
			element.style['OTransform'] = 'rotate(' + (bodies[i].m_rotation0 * 57.2957795) + 'deg)';
		}
	}
}


// .. BOX2D UTILS

function createBox(world, x, y, width, height, fixed)
{
	if (typeof(fixed) == 'undefined') fixed = true;
	var boxSd = new b2BoxDef();
	if (!fixed) boxSd.density = 1.0;
	boxSd.extents.Set(width, height);
	var boxBd = new b2BodyDef();
	boxBd.AddShape(boxSd);
	boxBd.position.Set(x,y);
	return world.CreateBody(boxBd)
}

function mouseDrag()
{
	// mouse press
	if (createMode)
	{
		createBall( mouseX, mouseY );
	}
	else if (isMouseDown && !mouseJoint)
	{
		var body = getBodyAtMouse();
		
		if (body)
		{
			var md = new b2MouseJointDef();
			md.body1 = world.m_groundBody;
			md.body2 = body;
			md.target.Set(mouseX, mouseY);
			md.maxForce = 30000 * body.m_mass;
			md.timeStep = timeStep;
			mouseJoint = world.CreateJoint(md);
			body.WakeUp();
		}
		else
		{
			createMode = true;
		}
	}
	
	// mouse release
	if (!isMouseDown)
	{
		createMode = false;
		destroyMode = false;
	
		if (mouseJoint)
		{
			world.DestroyJoint(mouseJoint);
			mouseJoint = null;
		}
	}
	
	// mouse move
	if (mouseJoint)
	{
		var p2 = new b2Vec2(mouseX, mouseY);
		mouseJoint.SetTarget(p2);
	}
}

function getBodyAtMouse()
{
	// Make a small box.
	var mousePVec = new b2Vec2();
	mousePVec.Set(mouseX, mouseY);
	
	var aabb = new b2AABB();
	aabb.minVertex.Set(mouseX - 1, mouseY - 1);
	aabb.maxVertex.Set(mouseX + 1, mouseY + 1);

	// Query the world for overlapping shapes.
	var k_maxCount = 10;
	var shapes = new Array();
	var count = world.Query(aabb, shapes, k_maxCount);
	var body = null;
	
	for (var i = 0; i < count; ++i)
	{
		if (shapes[i].m_body.IsStatic() == false)
		{
			if ( shapes[i].TestPoint(mousePVec) )
			{
				body = shapes[i].m_body;
				break;
			}
		}
	}
	return body;
}

function setWalls()
{
	if (wallsSetted)
	{
		world.DestroyBody(walls[0]);
		world.DestroyBody(walls[1]);
		world.DestroyBody(walls[2]);
		world.DestroyBody(walls[3]);
		
		walls[0] = null; 
		walls[1] = null;
		walls[2] = null;
		walls[3] = null;
	}
	
	walls[0] = createBox(world, stage[2] / 2, - wall_thickness, stage[2], wall_thickness);
	walls[1] = createBox(world, stage[2] / 2, stage[3] + wall_thickness, stage[2], wall_thickness);
	walls[2] = createBox(world, - wall_thickness, stage[3] / 2, wall_thickness, stage[3]);
	walls[3] = createBox(world, stage[2] + wall_thickness, stage[3] / 2, wall_thickness, stage[3]);	
	
	wallsSetted = true;
}

// BROWSER DIMENSIONS

function getBrowserDimensions()
{
	var changed = false;
		
	if (stage[0] != window.screenX)
	{
		delta[0] = (window.screenX - stage[0]) * 50;
		stage[0] = window.screenX;
		changed = true;
	}
	
	if (stage[1] != window.screenY)
	{
		delta[1] = (window.screenY - stage[1]) * 50;
		stage[1] = window.screenY;
		changed = true;
	}
	
	if (stage[2] != window.innerWidth)
	{
		stage[2] = window.innerWidth;
		changed = true;
	}
	
	if (stage[3] != window.innerHeight)
	{
		stage[3] = window.innerHeight;
		changed = true;
	}
	
	return changed;
}	



var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));



(function(){var aa="_gat",ba="_gaq",r=true,v=false,w=undefined,ca="4.6.5",x="length",y="cookie",A="location",B="&",C="=",D="__utma=",E="__utmb=",G="__utmc=",da="__utmk=",H="__utmv=",J="__utmz=",K="__utmx=",L="GASO=";var N=function(i){return w==i||"-"==i||""==i},ea=function(i){return i[x]>0&&" \n\r\t".indexOf(i)>-1},P=function(i,l,g){var t="-",k;if(!N(i)&&!N(l)&&!N(g)){k=i.indexOf(l);if(k>-1){g=i.indexOf(g,k);if(g<0)g=i[x];t=O(i,k+l.indexOf(C)+1,g)}}return t},Q=function(i){var l=v,g=0,t,k;if(!N(i)){l=r;for(t=0;t<i[x];t++){k=i.charAt(t);g+="."==k?1:0;l=l&&g<=1&&(0==t&&"-"==k||".0123456789".indexOf(k)>-1)}}return l},S=function(i,l){var g=encodeURIComponent;return g instanceof Function?l?encodeURI(i):g(i):escape(i)},
T=function(i,l){var g=decodeURIComponent,t;i=i.split("+").join(" ");if(g instanceof Function)try{t=l?decodeURI(i):g(i)}catch(k){t=unescape(i)}else t=unescape(i);return t},U=function(i,l){return i.indexOf(l)>-1},V=function(i,l){i[i[x]]=l},W=function(i){return i.toLowerCase()},X=function(i,l){return i.split(l)},fa=function(i,l){return i.indexOf(l)},O=function(i,l,g){g=w==g?i[x]:g;return i.substring(l,g)},ga=function(i,l){return i.join(l)},ia=function(i){var l=1,g=0,t;if(!N(i)){l=0;for(t=i[x]-1;t>=0;t--){g=
i.charCodeAt(t);l=(l<<6&268435455)+g+(g<<14);g=l&266338304;l=g!=0?l^g>>21:l}}return l},ja=function(){var i=window,l=w;if(i&&i.gaGlobal&&i.gaGlobal.hid)l=i.gaGlobal.hid;else{l=Y();i.gaGlobal=i.gaGlobal?i.gaGlobal:{};i.gaGlobal.hid=l}return l},Y=function(){return Math.round(Math.random()*2147483647)},Z={Ha:function(i,l){this.bb=i;this.nb=l},ib:v,_gasoDomain:w,_gasoCPath:w};Z.Gb=function(){function i(k){return new t(k[0],k[1])}function l(k){var p=[];k=k.split(",");var f;for(f=0;f<k.length;++f)p.push(i(k[f].split(":")));return p}var g=this,t=Z.Ha;g.Ia="utm_campaign";g.Ja="utm_content";g.Ka="utm_id";g.La="utm_medium";g.Ma="utm_nooverride";g.Na="utm_source";g.Oa="utm_term";g.Pa="gclid";g.ba=0;g.z=0;g.Ta=15768E6;g.sb=18E5;g.v=63072E6;g.ta=[];g.va=[];g.nc="cse";g.oc="q";g.ob=5;g.T=l("daum:q,eniro:search_word,naver:query,images.google:q,google:q,yahoo:p,msn:q,bing:q,aol:query,aol:encquery,lycos:query,ask:q,altavista:q,netscape:query,cnn:query,about:terms,mamma:query,alltheweb:q,voila:rdata,virgilio:qs,live:q,baidu:wd,alice:qs,yandex:text,najdi:q,aol:q,mama:query,seznam:q,search:q,wp:szukaj,onet:qt,szukacz:q,yam:k,pchome:q,kvasir:q,sesam:q,ozu:q,terra:query,mynet:q,ekolay:q,rambler:words");
g.t=w;g.lb=v;g.h="/";g.U=100;g.oa="/__utm.gif";g.ga=1;g.ha=1;g.u="|";g.fa=1;g.da=1;g.Ra=1;g.b="auto";g.I=1;g.ra=1E3;g.Jc=10;g.Pb=10;g.Kc=0.2;g.o=w;g.a=document;g.e=window};Z.Hb=function(i){function l(d,a,j,c){var n="",s=0;n=P(d,"2"+a,";");if(!N(n)){d=n.indexOf("^"+j+".");if(d<0)return["",0];n=O(n,d+j[x]+2);if(n.indexOf("^")>0)n=n.split("^")[0];j=n.split(":");n=j[1];s=parseInt(j[0],10);if(!c&&s<p.r)n=""}if(N(n))n="";return[n,s]}function g(d,a){return"^"+ga([[a,d[1]].join("."),d[0]],":")}function t(d,a){f.a[y]=d+"; path="+f.h+"; "+a+p.fb()}function k(d){var a=new Date;d=new Date(a.getTime()+d);return"expires="+d.toGMTString()+"; "}var p=this,f=i;p.r=(new Date).getTime();
var h=[D,E,G,J,H,K,L];p.k=function(){var d=f.a[y];return f.o?p.Wb(d,f.o):d};p.Wb=function(d,a){var j=[],c,n;for(c=0;c<h[x];c++){n=l(d,h[c],a)[0];N(n)||(j[j[x]]=h[c]+n+";")}return j.join("")};p.l=function(d,a,j){var c=j>0?k(j):"";if(f.o){a=p.kc(f.a[y],d,f.o,a,j);d="2"+d;c=j>0?k(f.v):""}t(d+a,c)};p.kc=function(d,a,j,c,n){var s="";n=n||f.v;c=g([c,p.r+n*1],j);s=P(d,"2"+a,";");if(!N(s)){d=g(l(d,a,j,r),j);s=ga(s.split(d),"");return s=c+s}return c};p.fb=function(){return N(f.b)?"":"domain="+f.b+";"}};Z.$=function(i){function l(b){b=b instanceof Array?b.join("."):"";return N(b)?"-":b}function g(b,e){var o=[];if(!N(b)){o=b.split(".");if(e)for(b=0;b<o[x];b++)Q(o[b])||(o[b]="-")}return o}function t(b,e,o){var m=c.M,q,u;for(q=0;q<m[x];q++){u=m[q][0];u+=N(e)?e:e+m[q][4];m[q][2](P(b,u,o))}}var k,p,f,h,d,a,j,c=this,n,s=i;c.j=new Z.Hb(i);c.kb=function(){return w==n||n==c.P()};c.k=function(){return c.j.k()};c.ma=function(){return d?d:"-"};c.vb=function(b){d=b};c.za=function(b){n=Q(b)?b*1:"-"};c.la=function(){return l(a)};
c.Aa=function(b){a=g(b)};c.Vb=function(){c.j.l(H,"",-1)};c.lc=function(){return n?n:"-"};c.fb=function(){return N(s.b)?"":"domain="+s.b+";"};c.ja=function(){return l(k)};c.tb=function(b){k=g(b,1)};c.C=function(){return l(p)};c.ya=function(b){p=g(b,1)};c.ka=function(){return l(f)};c.ub=function(b){f=g(b,1)};c.na=function(){return l(h)};c.wb=function(b){h=g(b);for(b=0;b<h[x];b++)if(b<4&&!Q(h[b]))h[b]="-"};c.fc=function(){return j};c.Dc=function(b){j=b};c.Sb=function(){k=[];p=[];f=[];h=[];d=w;a=[];n=
w};c.P=function(){var b="",e;for(e=0;e<c.M[x];e++)b+=c.M[e][1]();return ia(b)};c.ua=function(b){var e=c.k(),o=v;if(e){t(e,b,";");c.za(c.P());o=r}return o};c.zc=function(b){t(b,"",B);c.za(P(b,da,B))};c.Hc=function(){var b=c.M,e=[],o;for(o=0;o<b[x];o++)V(e,b[o][0]+b[o][1]());V(e,da+c.P());return e.join(B)};c.Nc=function(b,e){var o=c.M,m=s.h;c.ua(b);s.h=e;for(b=0;b<o[x];b++)N(o[b][1]())||o[b][3]();s.h=m};c.Cb=function(){c.j.l(D,c.ja(),s.v)};c.Ea=function(){c.j.l(E,c.C(),s.sb)};c.Db=function(){c.j.l(G,
c.ka(),0)};c.Ga=function(){c.j.l(J,c.na(),s.Ta)};c.Eb=function(){c.j.l(K,c.ma(),s.v)};c.Fa=function(){c.j.l(H,c.la(),s.v)};c.Oc=function(){c.j.l(L,c.fc(),0)};c.M=[[D,c.ja,c.tb,c.Cb,"."],[E,c.C,c.ya,c.Ea,""],[G,c.ka,c.ub,c.Db,""],[K,c.ma,c.vb,c.Eb,""],[J,c.na,c.wb,c.Ga,"."],[H,c.la,c.Aa,c.Fa,"."]]};Z.Kb=function(i){var l=this,g=i,t=new Z.$(g),k=function(){},p=function(f){var h=(new Date).getTime(),d;d=(h-f[3])*(g.Kc/1E3);if(d>=1){f[2]=Math.min(Math.floor(f[2]*1+d),g.Pb);f[3]=h}return f};l.H=function(f,h,d,a,j,c){var n,s=g.I,b=g.a[A];t.ua(d);n=X(t.C(),".");if(n[1]<500||a){if(j)n=p(n);if(a||!j||n[2]>=1){if(!a&&j)n[2]=n[2]*1-1;n[1]=n[1]*1+1;f="?utmwv="+ca+"&utmn="+Y()+(N(b.hostname)?"":"&utmhn="+S(b.hostname))+(g.U==100?"":"&utmsp="+S(g.U))+f;if(0==s||2==s){a=2==s?k:c||k;l.$a(g.oa+f,a)}if(1==s||
2==s){f=("https:"==b.protocol?"https://ssl.google-analytics.com/__utm.gif":"http://www.google-analytics.com/__utm.gif")+f+"&utmac="+h+"&utmcc="+l.ac(d);if(ka)f+="&gaq=1";l.$a(f,c)}}}t.ya(n.join("."));t.Ea()};l.$a=function(f,h){var d=new Image(1,1);d.src=f;d.onload=function(){d.onload=null;(h||k)()}};l.ac=function(f){var h=[],d=[D,J,H,K],a,j=t.k(),c;for(a=0;a<d[x];a++){c=P(j,d[a]+f,";");if(!N(c)){if(d[a]==H){c=X(c.split(f+".")[1],"|")[0];if(N(c))continue;c=f+"."+c}V(h,d[a]+c+";")}}return S(h.join("+"))}};Z.n=function(){var i=this;i.Y=[];i.hb=function(l){var g,t=i.Y,k;for(k=0;k<t.length;k++)g=l==t[k].q?t[k]:g;return g};i.Ob=function(l,g,t,k,p,f,h,d){var a=i.hb(l);if(w==a){a=new Z.n.Mb(l,g,t,k,p,f,h,d);V(i.Y,a)}else{a.Qa=g;a.Ab=t;a.zb=k;a.xb=p;a.Xa=f;a.yb=h;a.Za=d}return a}};Z.n.Lb=function(i,l,g,t,k,p){var f=this;f.Bb=i;f.Ba=l;f.D=g;f.Va=t;f.pb=k;f.qb=p;f.Ca=function(){return"&"+["utmt=item","tid="+S(f.Bb),"ipc="+S(f.Ba),"ipn="+S(f.D),"iva="+S(f.Va),"ipr="+S(f.pb),"iqt="+S(f.qb)].join("&utm")}};
Z.n.Mb=function(i,l,g,t,k,p,f,h){var d=this;d.q=i;d.Qa=l;d.Ab=g;d.zb=t;d.xb=k;d.Xa=p;d.yb=f;d.Za=h;d.R=[];d.Nb=function(a,j,c,n,s){var b=d.gc(a),e=d.q;if(w==b)V(d.R,new Z.n.Lb(e,a,j,c,n,s));else{b.Bb=e;b.Ba=a;b.D=j;b.Va=c;b.pb=n;b.qb=s}};d.gc=function(a){var j,c=d.R,n;for(n=0;n<c.length;n++)j=a==c[n].Ba?c[n]:j;return j};d.Ca=function(){return"&"+["utmt=tran","id="+S(d.q),"st="+S(d.Qa),"to="+S(d.Ab),"tx="+S(d.zb),"sp="+S(d.xb),"ci="+S(d.Xa),"rg="+S(d.yb),"co="+S(d.Za)].join("&utmt")}};Z.Fb=function(i){function l(){var f,h,d;h="ShockwaveFlash";var a="$version",j=k.d?k.d.plugins:w;if(j&&j[x]>0)for(f=0;f<j[x]&&!d;f++){h=j[f];if(U(h.name,"Shockwave Flash"))d=h.description.split("Shockwave Flash ")[1]}else{h=h+"."+h;try{f=new ActiveXObject(h+".7");d=f.GetVariable(a)}catch(c){}if(!d)try{f=new ActiveXObject(h+".6");d="WIN 6,0,21,0";f.AllowScriptAccess="always";d=f.GetVariable(a)}catch(n){}if(!d)try{f=new ActiveXObject(h);d=f.GetVariable(a)}catch(s){}if(d){d=X(d.split(" ")[1],",");d=d[0]+
"."+d[1]+" r"+d[2]}}return d?d:p}var g=i,t=g.e,k=this,p="-";k.V=t.screen;k.Sa=!k.V&&t.java?java.awt.Toolkit.getDefaultToolkit():w;k.d=t.navigator;k.W=p;k.xa=p;k.Wa=p;k.qa=p;k.pa=1;k.eb=p;k.bc=function(){var f;if(t.screen){k.W=k.V.width+"x"+k.V.height;k.xa=k.V.colorDepth+"-bit"}else if(k.Sa)try{f=k.Sa.getScreenSize();k.W=f.width+"x"+f.height}catch(h){}k.qa=W(k.d&&k.d.language?k.d.language:k.d&&k.d.browserLanguage?k.d.browserLanguage:p);k.pa=k.d&&k.d.javaEnabled()?1:0;k.eb=g.ha?l():p;k.Wa=S(g.a.characterSet?
g.a.characterSet:g.a.charset?g.a.charset:p)};k.Ic=function(){return B+"utm"+["cs="+S(k.Wa),"sr="+k.W,"sc="+k.xa,"ul="+k.qa,"je="+k.pa,"fl="+S(k.eb)].join("&utm")};k.$b=function(){var f=g.a,h=t.history[x];f=k.d.appName+k.d.version+k.qa+k.d.platform+k.d.userAgent+k.pa+k.W+k.xa+(f[y]?f[y]:"")+(f.referrer?f.referrer:"");for(var d=f[x];h>0;)f+=h--^d++;return ia(f)}};Z.m=function(i,l,g,t){function k(d){var a="";d=W(d.split("://")[1]);if(U(d,"/")){d=d.split("/")[1];if(U(d,"?"))a=d.split("?")[0]}return a}function p(d){var a="";a=W(d.split("://")[1]);if(U(a,"/"))a=a.split("/")[0];return a}var f=t,h=this;h.c=i;h.rb=l;h.r=g;h.ic=function(d){var a=h.gb();return new Z.m.w(P(d,f.Ka+C,B),P(d,f.Na+C,B),P(d,f.Pa+C,B),h.Q(d,f.Ia,"(not set)"),h.Q(d,f.La,"(not set)"),h.Q(d,f.Oa,a&&!N(a.K)?T(a.K):w),h.Q(d,f.Ja,w))};h.jb=function(d){var a=p(d),j=k(d);if(U(a,"google")){d=d.split("?").join(B);
if(U(d,B+f.oc+C))if(j==f.nc)return r}return v};h.gb=function(){var d,a=h.rb,j,c,n=f.T;if(!(N(a)||"0"==a||!U(a,"://")||h.jb(a))){d=p(a);for(j=0;j<n[x];j++){c=n[j];if(U(d,W(c.bb))){a=a.split("?").join(B);if(U(a,B+c.nb+C)){d=a.split(B+c.nb+C)[1];if(U(d,B))d=d.split(B)[0];return new Z.m.w(w,c.bb,w,"(organic)","organic",d,w)}}}}};h.Q=function(d,a,j){d=P(d,a+C,B);return j=!N(d)?T(d):!N(j)?j:"-"};h.uc=function(d){var a=f.ta,j=v,c;if(d&&"organic"==d.S){d=W(T(d.K));for(c=0;c<a[x];c++)j=j||W(a[c])==d}return j};
h.hc=function(){var d="",a="";d=h.rb;if(!(N(d)||"0"==d||!U(d,"://")||h.jb(d))){d=d.split("://")[1];if(U(d,"/")){a=O(d,d.indexOf("/"));a=a.split("?")[0];d=W(d.split("/")[0])}if(0==d.indexOf("www."))d=O(d,4);return new Z.m.w(w,d,w,"(referral)","referral",w,a)}};h.Xb=function(d){var a="";if(f.ba){a=d&&d.hash?d.href.substring(d.href.indexOf("#")):"";a=""!=a?a+B:a}a+=d.search;return a};h.dc=function(){return new Z.m.w(w,"(direct)",w,"(direct)","(none)",w,w)};h.vc=function(d){var a=v,j,c=f.va;if(d&&"referral"==
d.S){d=W(S(d.X));for(j=0;j<c[x];j++)a=a||U(d,W(c[j]))}return a};h.L=function(d){return w!=d&&d.mb()};h.cc=function(d,a){var j="",c="-",n,s=0,b,e,o=h.c;if(!d)return"";e=d.k();j=h.Xb(f.a[A]);if(f.z&&d.kb()){c=d.na();if(!N(c)&&!U(c,";")){d.Ga();return""}}c=P(e,J+o+".",";");n=h.ic(j);if(h.L(n)){j=P(j,f.Ma+C,B);if("1"==j&&!N(c))return""}if(!h.L(n)){n=h.gb();if(!N(c)&&h.uc(n))return""}if(!h.L(n)&&a){n=h.hc();if(!N(c)&&h.vc(n))return""}if(!h.L(n))if(N(c)&&a)n=h.dc();if(!h.L(n))return"";if(!N(c)){s=c.split(".");
b=new Z.m.w;b.Zb(s.slice(4).join("."));b=W(b.Da())==W(n.Da());s=s[3]*1}if(!b||a){a=P(e,D+o+".",";");e=a.lastIndexOf(".");a=e>9?O(a,e+1)*1:0;s++;a=0==a?1:a;d.wb([o,h.r,a,s,n.Da()].join("."));d.Ga();return B+"utmcn=1"}else return B+"utmcr=1"}};
Z.m.w=function(i,l,g,t,k,p,f){var h=this;h.q=i;h.X=l;h.ea=g;h.D=t;h.S=k;h.K=p;h.Ya=f;h.Da=function(){var d=[],a=[["cid",h.q],["csr",h.X],["gclid",h.ea],["ccn",h.D],["cmd",h.S],["ctr",h.K],["cct",h.Ya]],j,c;if(h.mb())for(j=0;j<a[x];j++)if(!N(a[j][1])){c=a[j][1].split("+").join("%20");c=c.split(" ").join("%20");V(d,"utm"+a[j][0]+C+c)}return d.join("|")};h.mb=function(){return!(N(h.q)&&N(h.X)&&N(h.ea))};h.Zb=function(d){var a=function(j){return T(P(d,"utm"+j+C,"|"))};h.q=a("cid");h.X=a("csr");h.ea=a("gclid");
h.D=a("ccn");h.S=a("cmd");h.K=a("ctr");h.Ya=a("cct")}};Z.Ib=function(i,l,g,t){function k(j,c,n){var s;if(!N(n)){n=n.split(",");for(var b=0;b<n[x];b++){s=n[b];if(!N(s)){s=s.split(h);if(s[x]==4)c[s[0]]=[s[1],s[2],j]}}}}var p=this,f=l,h=C,d=i,a=t;p.O=g;p.sa="";p.p={};p.tc=function(){var j;j=X(P(p.O.k(),H+f+".",";"),f+".")[1];if(!N(j)){j=j.split("|");k(1,p.p,j[1]);p.sa=j[0];p.Z()}};p.Z=function(){p.Qb();var j=p.sa,c,n,s="";for(c in p.p)if((n=p.p[c])&&1===n[2])s+=c+h+n[0]+h+n[1]+h+1+",";N(s)||(j+="|"+s);if(N(j))p.O.Vb();else{p.O.Aa(f+"."+j);p.O.Fa()}};p.Ec=
function(j){p.sa=j;p.Z()};p.Cc=function(j,c,n,s){if(1!=s&&2!=s&&3!=s)s=3;var b=v;if(c&&n&&j>0&&j<=d.ob){c=S(c);n=S(n);if(c[x]+n[x]<=64){p.p[j]=[c,n,s];p.Z();b=r}}return b};p.mc=function(j){if((j=p.p[j])&&1===j[2])return j[1]};p.Ub=function(j){var c=p.p;if(c[j]){delete c[j];p.Z()}};p.Qb=function(){a._clearKey(8);a._clearKey(9);a._clearKey(11);var j=p.p,c,n;for(n in j)if(c=j[n]){a._setKey(8,n,c[0]);a._setKey(9,n,c[1]);(c=c[2])&&3!=c&&a._setKey(11,n,""+c)}}};Z.N=function(){function i(m,q,u,z){if(w==f[m])f[m]={};if(w==f[m][q])f[m][q]=[];f[m][q][u]=z}function l(m,q){if(w!=f[m]&&w!=f[m][q]){f[m][q]=w;q=r;var u;for(u=0;u<a[x];u++)if(w!=f[m][a[u]]){q=v;break}if(q)f[m]=w}}function g(m){var q="",u=v,z,M;for(z=0;z<a[x];z++){M=m[a[z]];if(w!=M){if(u)q+=a[z];q+=t(M);u=v}else u=r}return q}function t(m){var q=[],u,z;for(z=0;z<m[x];z++)if(w!=m[z]){u="";if(z!=o&&w==m[z-1])u+=z.toString()+s;u+=k(m[z]);V(q,u)}return j+q.join(n)+c}function k(m){var q="",u,z,M;for(u=0;u<
m[x];u++){z=m.charAt(u);M=e[z];q+=w!=M?M:z}return q}var p=this,f={},h="k",d="v",a=[h,d],j="(",c=")",n="*",s="!",b="'",e={};e[b]="'0";e[c]="'1";e[n]="'2";e[s]="'3";var o=1;p.qc=function(m){return w!=f[m]};p.G=function(){var m="",q;for(q in f)if(w!=f[q])m+=q.toString()+g(f[q]);return m};p.Ac=function(m){if(m==w)return p.G();var q=m.G(),u;for(u in f)if(w!=f[u]&&!m.qc(u))q+=u.toString()+g(f[u]);return q};p._setKey=function(m,q,u){if(typeof u!="string")return v;i(m,h,q,u);return r};p._setValue=function(m,
q,u){if(typeof u!="number"&&(w==Number||!(u instanceof Number))||Math.round(u)!=u||u==NaN||u==Infinity)return v;i(m,d,q,u.toString());return r};p._getKey=function(m,q){return w!=f[m]&&w!=f[m][h]?f[m][h][q]:w};p._getValue=function(m,q){return w!=f[m]&&w!=f[m][d]?f[m][d][q]:w};p._clearKey=function(m){l(m,h)};p._clearValue=function(m){l(m,d)}};Z.Jb=function(i,l){var g=this;g.Qc=l;g.xc=i;g._trackEvent=function(t,k,p){return l._trackEvent(g.xc,t,k,p)}};Z.aa=function(i,l){function g(){if("auto"==c.b){var b=c.a.domain;if("www."==O(b,0,4))b=O(b,4);c.b=b}c.b=W(c.b)}function t(){var b=c.b,e=b.indexOf("www.google.")*b.indexOf(".google.")*b.indexOf("google.");return e||"/"!=c.h||b.indexOf("google.org")>-1}function k(b,e,o){if(N(b)||N(e)||N(o))return"-";b=P(b,D+a.c+".",e);if(!N(b)){b=b.split(".");b[5]=b[5]?b[5]*1+1:1;b[3]=b[4];b[4]=o;b=b.join(".")}return b}function p(){return"file:"!=c.a[A].protocol&&t()}function f(b){if(!b||""==b)return"";for(;ea(b.charAt(0));)b=
O(b,1);for(;ea(b.charAt(b[x]-1));)b=O(b,0,b[x]-1);return b}function h(b,e,o,m){if(!N(b())){e(m?T(b()):b());U(b(),";")||o()}}function d(b){var e,o=""!=b&&c.a[A].host!=b;if(o)for(e=0;e<c.t[x];e++)o=o&&fa(W(b),W(c.t[e]))==-1;return o}var a=this,j=w,c=new Z.Gb,n=v,s=w;a.e=window;a.r=Math.round((new Date).getTime()/1E3);a.s=i||"UA-XXXXX-X";a.ab=c.a.referrer;a.ia=w;a.f=w;a.B=w;a.F=v;a.A=w;a.Ua="";a.g=w;a.cb=w;a.c=w;a.i=w;c.o=l?S(l):w;a.wc=function(){var b=v;if(a.B)b=a.B.match(/^[0-9a-z-_.]{10,1200}$/i);
return b};a.jc=function(){return Y()^a.A.$b()&2147483647};a.ec=function(){if(!c.b||""==c.b||"none"==c.b){c.b="";return 1}g();return c.Ra?ia(c.b):1};a.Yb=function(b,e){if(N(b))b="-";else{e+=c.h&&"/"!=c.h?c.h:"";e=b.indexOf(e);b=e>=0&&e<=8?"0":"["==b.charAt(0)&&"]"==b.charAt(b[x]-1)?"-":b}return b};a.wa=function(b){var e="",o=c.a;e+=c.fa?a.A.Ic():"";e+=c.da?a.Ua:"";e+=c.ga&&!N(o.title)?"&utmdt="+S(o.title):"";e+="&utmhid="+ja()+"&utmr="+S(a.ia)+"&utmp="+S(a.Bc(b));return e};a.Bc=function(b){var e=c.a[A];
return b=w!=b&&""!=b?S(b,r):S(e.pathname+e.search,r)};a.Lc=function(b){if(a.J()){var e="";if(a.g!=w&&a.g.G()[x]>0)e+="&utme="+S(a.g.G());e+=a.wa(b);j.H(e,a.s,a.c)}};a.Tb=function(){var b=new Z.$(c);return b.ua(a.c)?b.Hc():w};a._getLinkerUrl=function(b,e){var o=b.split("#"),m=b,q=a.Tb();if(q)if(e&&1>=o[x])m+="#"+q;else if(!e||1>=o[x])if(1>=o[x])m+=(U(b,"?")?B:"?")+q;else m=o[0]+(U(b,"?")?B:"?")+q+"#"+o[1];return m};a.Fc=function(){var b;if(a.wc()){a.i.Dc(a.B);a.i.Oc();Z._gasoDomain=c.b;Z._gasoCPath=
c.h;b=c.a.createElement("script");b.type="text/javascript";b.id="_gasojs";b.src="https://www.google.com/analytics/reporting/overlay_js?gaso="+a.B+B+Y();c.a.getElementsByTagName("head")[0].appendChild(b)}};a.pc=function(){var b=a.r,e=a.i,o=e.k(),m=a.c+"",q=c.e,u=q?q.gaGlobal:w,z,M=U(o,D+m+"."),la=U(o,E+m),ma=U(o,G+m),F,I=[],R="",ha=v;o=N(o)?"":o;if(c.z){z=c.a[A]&&c.a[A].hash?c.a[A].href.substring(c.a[A].href.indexOf("#")):"";if(c.ba&&!N(z))R=z+B;R+=c.a[A].search;if(!N(R)&&U(R,D)){e.zc(R);e.kb()||e.Sb();
F=e.ja()}h(e.ma,e.vb,e.Eb,true);h(e.la,e.Aa,e.Fa)}if(N(F))if(M)if(!la||!ma){F=k(o,";",b);a.F=r}else{F=P(o,D+m+".",";");I=X(P(o,E+m,";"),".")}else{F=ga([m,a.jc(),b,b,b,1],".");ha=a.F=r}else if(N(e.C())||N(e.ka())){F=k(R,B,b);a.F=r}else{I=X(e.C(),".");m=I[0]}F=F.split(".");if(q&&u&&u.dh==m&&!c.o){F[4]=u.sid?u.sid:F[4];if(ha){F[3]=u.sid?u.sid:F[4];if(u.vid){b=u.vid.split(".");F[1]=b[0];F[2]=b[1]}}}e.tb(F.join("."));I[0]=m;I[1]=I[1]?I[1]:0;I[2]=w!=I[2]?I[2]:c.Jc;I[3]=I[3]?I[3]:F[4];e.ya(I.join("."));
e.ub(m);N(e.lc())||e.za(e.P());e.Cb();e.Ea();e.Db()};a.rc=function(){j=new Z.Kb(c)};a._initData=function(){var b;if(!n){if(!a.A){a.A=new Z.Fb(c);a.A.bc()}a.c=a.ec();a.i=new Z.$(c);a.g=new Z.N;s=new Z.Ib(c,a.c,a.i,a.g);a.rc()}if(p()){a.pc();s.tc()}if(!n){if(p()){a.ia=a.Yb(a.ab,c.a.domain);if(c.da){b=new Z.m(a.c,a.ia,a.r,c);a.Ua=b.cc(a.i,a.F)}}a.cb=new Z.N;n=r}Z.ib||a.sc()};a._visitCode=function(){a._initData();var b=P(a.i.k(),D+a.c+".",";");b=b.split(".");return b[x]<4?"":b[1]};a._cookiePathCopy=function(b){a._initData();
a.i&&a.i.Nc(a.c,b)};a.sc=function(){var b=c.a[A].hash;if(b&&1==b.indexOf("gaso="))b=P(b,"gaso=",B);else b=(b=c.e.name)&&0<=b.indexOf("gaso=")?P(b,"gaso=",B):P(a.i.k(),L,";");if(b[x]>=10){a.B=b;a.Fc()}Z.ib=r};a.J=function(){return a._visitCode()%1E4<c.U*100};a.Gc=function(){var b,e,o=c.a.links;if(!c.lb){b=c.a.domain;if("www."==O(b,0,4))b=O(b,4);c.t.push("."+b)}for(b=0;b<o[x]&&(c.ra==-1||b<c.ra);b++){e=o[b];if(d(e.host))if(!e.gatcOnclick){e.gatcOnclick=e.onclick?e.onclick:a.yc;e.onclick=function(m){var q=
!this.target||this.target=="_self"||this.target=="_top"||this.target=="_parent";q=q&&!a.Rb(m);a.Mc(m,this,q);return q?v:this.gatcOnclick?this.gatcOnclick(m):r}}}};a.yc=function(){};a._trackPageview=function(b){if(p()){a._initData();c.t&&a.Gc();a.Lc(b);a.F=v}};a._trackTrans=function(){var b=a.c,e=[],o,m,q;a._initData();if(a.f&&a.J()){for(o=0;o<a.f.Y[x];o++){m=a.f.Y[o];V(e,m.Ca());for(q=0;q<m.R[x];q++)V(e,m.R[q].Ca())}for(o=0;o<e[x];o++)j.H(e[o],a.s,b,r)}};a._setTrans=function(){var b=c.a,e,o,m;b=b.getElementById?
b.getElementById("utmtrans"):b.utmform&&b.utmform.utmtrans?b.utmform.utmtrans:w;a._initData();if(b&&b.value){a.f=new Z.n;m=b.value.split("UTM:");c.u=!c.u||""==c.u?"|":c.u;for(b=0;b<m[x];b++){m[b]=f(m[b]);e=m[b].split(c.u);for(o=0;o<e[x];o++)e[o]=f(e[o]);if("T"==e[0])a._addTrans(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);else"I"==e[0]&&a._addItem(e[1],e[2],e[3],e[4],e[5],e[6])}}};a._addTrans=function(b,e,o,m,q,u,z,M){a.f=a.f?a.f:new Z.n;return a.f.Ob(b,e,o,m,q,u,z,M)};a._addItem=function(b,e,o,m,q,u){var z;
a.f=a.f?a.f:new Z.n;(z=a.f.hb(b))||(z=a._addTrans(b,"","","","","","",""));z.Nb(e,o,m,q,u)};a._setVar=function(b){if(b&&""!=b&&t()){a._initData();s.Ec(S(b));a.J()&&j.H("&utmt=var",a.s,a.c)}};a._setCustomVar=function(b,e,o,m){a._initData();return s.Cc(b,e,o,m)};a._deleteCustomVar=function(b){a._initData();s.Ub(b)};a._getVisitorCustomVar=function(b){a._initData();return s.mc(b)};a._setMaxCustomVariables=function(b){c.ob=b};a._link=function(b,e){if(c.z&&b){a._initData();c.a[A].href=a._getLinkerUrl(b,
e)}};a._linkByPost=function(b,e){if(c.z&&b&&b.action){a._initData();b.action=a._getLinkerUrl(b.action,e)}};a._setXKey=function(b,e,o){a.g._setKey(b,e,o)};a._setXValue=function(b,e,o){a.g._setValue(b,e,o)};a._getXKey=function(b,e){return a.g._getKey(b,e)};a._getXValue=function(b,e){return a.g.getValue(b,e)};a._clearXKey=function(b){a.g._clearKey(b)};a._clearXValue=function(b){a.g._clearValue(b)};a._createXObj=function(){a._initData();return new Z.N};a._sendXEvent=function(b){var e="";a._initData();
if(a.J()){e+="&utmt=event&utme="+S(a.g.Ac(b))+a.wa();j.H(e,a.s,a.c,v,r)}};a._createEventTracker=function(b){a._initData();return new Z.Jb(b,a)};a._trackEvent=function(b,e,o,m){var q=a.cb;if(w!=b&&w!=e&&""!=b&&""!=e){q._clearKey(5);q._clearValue(5);(b=q._setKey(5,1,b)&&q._setKey(5,2,e)&&(w==o||q._setKey(5,3,o))&&(w==m||q._setValue(5,1,m)))&&a._sendXEvent(q)}else b=v;return b};a.Mc=function(b,e,o){a._initData();if(a.J()){var m=new Z.N;m._setKey(6,1,e.href);var q=o?function(){a.db(b,e)}:w;j.H("&utmt=event&utme="+
S(m.G())+a.wa(),a.s,a.c,v,r,q);if(o){var u=this;c.e.setTimeout(function(){u.db(b,e)},500)}}};a.db=function(b,e){if(!b)b=c.e.event;var o=r;if(e.gatcOnclick)o=e.gatcOnclick(b);if(o||typeof o=="undefined")if(!e.target||e.target=="_self")c.e[A]=e.href;else if(e.target=="_top")c.e.top.document[A]=e.href;else if(e.target=="_parent")c.e.parent.document[A]=e.href};a.Rb=function(b){if(!b)b=c.e.event;var e=b.shiftKey||b.ctrlKey||b.altKey;if(!e)if(b.modifiers&&c.e.Event)e=b.modifiers&c.e.Event.CONTROL_MASK||
b.modifiers&c.e.Event.SHIFT_MASK||b.modifiers&c.e.Event.ALT_MASK;return e};a.Pc=function(){return c};a._setDomainName=function(b){c.b=b};a._addOrganic=function(b,e,o){c.T.splice(o?0:c.T.length,0,new Z.Ha(b,e))};a._clearOrganic=function(){c.T=[]};a._addIgnoredOrganic=function(b){V(c.ta,b)};a._clearIgnoredOrganic=function(){c.ta=[]};a._addIgnoredRef=function(b){V(c.va,b)};a._clearIgnoredRef=function(){c.va=[]};a._setAllowHash=function(b){c.Ra=b?1:0};a._setCampaignTrack=function(b){c.da=b?1:0};a._setClientInfo=
function(b){c.fa=b?1:0};a._getClientInfo=function(){return c.fa};a._setCookiePath=function(b){c.h=b};a._setTransactionDelim=function(b){c.u=b};a._setCookieTimeout=function(b){a._setCampaignCookieTimeout(b*1E3)};a._setCampaignCookieTimeout=function(b){c.Ta=b};a._setDetectFlash=function(b){c.ha=b?1:0};a._getDetectFlash=function(){return c.ha};a._setDetectTitle=function(b){c.ga=b?1:0};a._getDetectTitle=function(){return c.ga};a._setLocalGifPath=function(b){c.oa=b};a._getLocalGifPath=function(){return c.oa};
a._setLocalServerMode=function(){c.I=0};a._setRemoteServerMode=function(){c.I=1};a._setLocalRemoteServerMode=function(){c.I=2};a._getServiceMode=function(){return c.I};a._setSampleRate=function(b){c.U=b};a._setSessionTimeout=function(b){a._setSessionCookieTimeout(b*1E3)};a._setSessionCookieTimeout=function(b){c.sb=b};a._setAllowLinker=function(b){c.z=b?1:0};a._setAllowAnchor=function(b){c.ba=b?1:0};a._setCampNameKey=function(b){c.Ia=b};a._setCampContentKey=function(b){c.Ja=b};a._setCampIdKey=function(b){c.Ka=
b};a._setCampMediumKey=function(b){c.La=b};a._setCampNOKey=function(b){c.Ma=b};a._setCampSourceKey=function(b){c.Na=b};a._setCampTermKey=function(b){c.Oa=b};a._setCampCIdKey=function(b){c.Pa=b};a._getAccount=function(){return a.s};a._setAccount=function(b){a.s=b};a._setNamespace=function(b){c.o=b?S(b):w};a._getVersion=function(){return ca};a._setAutoTrackOutbound=function(b){c.t=[];if(b)c.t=b};a._setTrackOutboundSubdomains=function(b){c.lb=b};a._setHrefExamineLimit=function(b){c.ra=b};a._setReferrerOverride=
function(b){a.ab=b};a._setCookiePersistence=function(b){a._setVisitorCookieTimeout(b)};a._setVisitorCookieTimeout=function(b){c.v=b}};Z._getTracker=function(i,l){return new Z.aa(i,l)};var ka=v,$={ca:{},_createAsyncTracker:function(i,l){l=l||"";i=new Z.aa(i);$.ca[l]=i;ka=r;return i},_getAsyncTracker:function(i){i=i||"";var l=$.ca[i];if(!l){l=new Z.aa;$.ca[i]=l;ka=r}return l},push:function(){for(var i=arguments,l=0,g=0;g<i[x];g++)try{if(typeof i[g]==="function")i[g]();else{var t="",k=i[g][0],p=k.lastIndexOf(".");if(p>0){t=O(k,0,p);k=O(k,p+1)}var f=$._getAsyncTracker(t);f[k].apply(f,i[g].slice(1))}}catch(h){l++}return l}};window[aa]=Z;function na(){var i=window[ba],l=v;if(i&&typeof i.push=="function"){l=i.constructor==Array;if(!l)return}window[ba]=$;l&&$.push.apply($,i)}na();})()



try {
var pageTracker = _gat._getTracker("UA-86951-7");
pageTracker._trackPageview();
} catch(err) {}
</script>


<script id="dojo" type="x">
/*
	Copyright (c) 2004-2009, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/

/*
	This is a compiled version of Dojo, built for deployment and not for
	development. To get an editable version, please visit:

		http://dojotoolkit.org

	for documentation and information on getting the source.
*/

(function(){var _1=null;if((_1||(typeof djConfig!="undefined"&&djConfig.scopeMap))&&(typeof window!="undefined")){var _2="",_3="",_4="",_5={},_6={};_1=_1||djConfig.scopeMap;for(var i=0;i<_1.length;i++){var _7=_1[i];_2+="var "+_7[0]+" = {}; "+_7[1]+" = "+_7[0]+";"+_7[1]+"._scopeName = '"+_7[1]+"';";_3+=(i==0?"":",")+_7[0];_4+=(i==0?"":",")+_7[1];_5[_7[0]]=_7[1];_6[_7[1]]=_7[0];}eval(_2+"dojo._scopeArgs = ["+_4+"];");dojo._scopePrefixArgs=_3;dojo._scopePrefix="(function("+_3+"){";dojo._scopeSuffix="})("+_4+")";dojo._scopeMap=_5;dojo._scopeMapRev=_6;}(function(){if(typeof this["loadFirebugConsole"]=="function"){this["loadFirebugConsole"]();}else{this.console=this.console||{};var cn=["assert","count","debug","dir","dirxml","error","group","groupEnd","info","profile","profileEnd","time","timeEnd","trace","warn","log"];var i=0,tn;while((tn=cn[i++])){if(!console[tn]){(function(){var _8=tn+"";console[_8]=("log" in console)?function(){var a=Array.apply({},arguments);a.unshift(_8+":");console["log"](a.join(" "));}:function(){};console[_8]._fake=true;})();}}}if(typeof dojo=="undefined"){dojo={_scopeName:"dojo",_scopePrefix:"",_scopePrefixArgs:"",_scopeSuffix:"",_scopeMap:{},_scopeMapRev:{}};}var d=dojo;if(typeof dijit=="undefined"){dijit={_scopeName:"dijit"};}if(typeof dojox=="undefined"){dojox={_scopeName:"dojox"};}if(!d._scopeArgs){d._scopeArgs=[dojo,dijit,dojox];}d.global=this;d.config={isDebug:false,debugAtAllCosts:false};if(typeof djConfig!="undefined"){for(var _9 in djConfig){d.config[_9]=djConfig[_9];}}dojo.locale=d.config.locale;var _a="$Rev: 21254 $".match(/\d+/);dojo.version={major:1,minor:4,patch:1,flag:"",revision:_a?+_a[0]:NaN,toString:function(){with(d.version){return major+"."+minor+"."+patch+flag+" ("+revision+")";}}};if(typeof OpenAjax!="undefined"){OpenAjax.hub.registerLibrary(dojo._scopeName,"http://dojotoolkit.org",d.version.toString());}var _b,_c,_d={};for(var i in {toString:1}){_b=[];break;}dojo._extraNames=_b=_b||["hasOwnProperty","valueOf","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","constructor"];_c=_b.length;dojo._mixin=function(_e,_f){var _10,s,i;for(_10 in _f){s=_f[_10];if(!(_10 in _e)||(_e[_10]!==s&&(!(_10 in _d)||_d[_10]!==s))){_e[_10]=s;}}if(_c&&_f){for(i=0;i<_c;++i){_10=_b[i];s=_f[_10];if(!(_10 in _e)||(_e[_10]!==s&&(!(_10 in _d)||_d[_10]!==s))){_e[_10]=s;}}}return _e;};dojo.mixin=function(obj,_11){if(!obj){obj={};}for(var i=1,l=arguments.length;i<l;i++){d._mixin(obj,arguments[i]);}return obj;};dojo._getProp=function(_12,_13,_14){var obj=_14||d.global;for(var i=0,p;obj&&(p=_12[i]);i++){if(i==0&&d._scopeMap[p]){p=d._scopeMap[p];}obj=(p in obj?obj[p]:(_13?obj[p]={}:undefined));}return obj;};dojo.setObject=function(_15,_16,_17){var _18=_15.split("."),p=_18.pop(),obj=d._getProp(_18,true,_17);return obj&&p?(obj[p]=_16):undefined;};dojo.getObject=function(_19,_1a,_1b){return d._getProp(_19.split("."),_1a,_1b);};dojo.exists=function(_1c,obj){return !!d.getObject(_1c,false,obj);};dojo["eval"]=function(_1d){return d.global.eval?d.global.eval(_1d):eval(_1d);};d.deprecated=d.experimental=function(){};})();(function(){var d=dojo;d.mixin(d,{_loadedModules:{},_inFlightCount:0,_hasResource:{},_modulePrefixes:{dojo:{name:"dojo",value:"."},doh:{name:"doh",value:"../util/doh"},tests:{name:"tests",value:"tests"}},_moduleHasPrefix:function(_1e){var mp=d._modulePrefixes;return !!(mp[_1e]&&mp[_1e].value);},_getModulePrefix:function(_1f){var mp=d._modulePrefixes;if(d._moduleHasPrefix(_1f)){return mp[_1f].value;}return _1f;},_loadedUrls:[],_postLoad:false,_loaders:[],_unloaders:[],_loadNotifying:false});dojo._loadPath=function(_20,_21,cb){var uri=((_20.charAt(0)=="/"||_20.match(/^\w+:/))?"":d.baseUrl)+_20;try{return !_21?d._loadUri(uri,cb):d._loadUriAndCheck(uri,_21,cb);}catch(e){console.error(e);return false;}};dojo._loadUri=function(uri,cb){if(d._loadedUrls[uri]){return true;}d._inFlightCount++;var _22=d._getText(uri,true);if(_22){d._loadedUrls[uri]=true;d._loadedUrls.push(uri);if(cb){_22="("+_22+")";}else{_22=d._scopePrefix+_22+d._scopeSuffix;}if(!d.isIE){_22+="\r\n//@ sourceURL="+uri;}var _23=d["eval"](_22);if(cb){cb(_23);}}if(--d._inFlightCount==0&&d._postLoad&&d._loaders.length){setTimeout(function(){if(d._inFlightCount==0){d._callLoaded();}},0);}return !!_22;};dojo._loadUriAndCheck=function(uri,_24,cb){var ok=false;try{ok=d._loadUri(uri,cb);}catch(e){console.error("failed loading "+uri+" with error: "+e);}return !!(ok&&d._loadedModules[_24]);};dojo.loaded=function(){d._loadNotifying=true;d._postLoad=true;var mll=d._loaders;d._loaders=[];for(var x=0;x<mll.length;x++){mll[x]();}d._loadNotifying=false;if(d._postLoad&&d._inFlightCount==0&&mll.length){d._callLoaded();}};dojo.unloaded=function(){var mll=d._unloaders;while(mll.length){(mll.pop())();}};d._onto=function(arr,obj,fn){if(!fn){arr.push(obj);}else{if(fn){var _25=(typeof fn=="string")?obj[fn]:fn;arr.push(function(){_25.call(obj);});}}};dojo.ready=dojo.addOnLoad=function(obj,_26){d._onto(d._loaders,obj,_26);if(d._postLoad&&d._inFlightCount==0&&!d._loadNotifying){d._callLoaded();}};var dca=d.config.addOnLoad;if(dca){d.addOnLoad[(dca instanceof Array?"apply":"call")](d,dca);}dojo._modulesLoaded=function(){if(d._postLoad){return;}if(d._inFlightCount>0){console.warn("files still in flight!");return;}d._callLoaded();};dojo._callLoaded=function(){if(typeof setTimeout=="object"||(d.config.useXDomain&&d.isOpera)){setTimeout(d.isAIR?function(){d.loaded();}:d._scopeName+".loaded();",0);}else{d.loaded();}};dojo._getModuleSymbols=function(_27){var _28=_27.split(".");for(var i=_28.length;i>0;i--){var _29=_28.slice(0,i).join(".");if(i==1&&!d._moduleHasPrefix(_29)){_28[0]="../"+_28[0];}else{var _2a=d._getModulePrefix(_29);if(_2a!=_29){_28.splice(0,i,_2a);break;}}}return _28;};dojo._global_omit_module_check=false;dojo.loadInit=function(_2b){_2b();};dojo._loadModule=dojo.require=function(_2c,_2d){_2d=d._global_omit_module_check||_2d;var _2e=d._loadedModules[_2c];if(_2e){return _2e;}var _2f=d._getModuleSymbols(_2c).join("/")+".js";var _30=!_2d?_2c:null;var ok=d._loadPath(_2f,_30);if(!ok&&!_2d){throw new Error("Could not load '"+_2c+"'; last tried '"+_2f+"'");}if(!_2d&&!d._isXDomain){_2e=d._loadedModules[_2c];if(!_2e){throw new Error("symbol '"+_2c+"' is not defined after loading '"+_2f+"'");}}return _2e;};dojo.provide=function(_31){_31=_31+"";return (d._loadedModules[_31]=d.getObject(_31,true));};dojo.platformRequire=function(_32){var _33=_32.common||[];var _34=_33.concat(_32[d._name]||_32["default"]||[]);for(var x=0;x<_34.length;x++){var _35=_34[x];if(_35.constructor==Array){d._loadModule.apply(d,_35);}else{d._loadModule(_35);}}};dojo.requireIf=function(_36,_37){if(_36===true){var _38=[];for(var i=1;i<arguments.length;i++){_38.push(arguments[i]);}d.require.apply(d,_38);}};dojo.requireAfterIf=d.requireIf;dojo.registerModulePath=function(_39,_3a){d._modulePrefixes[_39]={name:_39,value:_3a};};dojo.requireLocalization=function(_3b,_3c,_3d,_3e){d.require("dojo.i18n");d.i18n._requireLocalization.apply(d.hostenv,arguments);};var ore=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),ire=new RegExp("^((([^\\[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^\\[:]*))(:([0-9]+))?$");dojo._Url=function(){var n=null,_3f=arguments,uri=[_3f[0]];for(var i=1;i<_3f.length;i++){if(!_3f[i]){continue;}var _40=new d._Url(_3f[i]+""),_41=new d._Url(uri[0]+"");if(_40.path==""&&!_40.scheme&&!_40.authority&&!_40.query){if(_40.fragment!=n){_41.fragment=_40.fragment;}_40=_41;}else{if(!_40.scheme){_40.scheme=_41.scheme;if(!_40.authority){_40.authority=_41.authority;if(_40.path.charAt(0)!="/"){var _42=_41.path.substring(0,_41.path.lastIndexOf("/")+1)+_40.path;var _43=_42.split("/");for(var j=0;j<_43.length;j++){if(_43[j]=="."){if(j==_43.length-1){_43[j]="";}else{_43.splice(j,1);j--;}}else{if(j>0&&!(j==1&&_43[0]=="")&&_43[j]==".."&&_43[j-1]!=".."){if(j==(_43.length-1)){_43.splice(j,1);_43[j-1]="";}else{_43.splice(j-1,2);j-=2;}}}}_40.path=_43.join("/");}}}}uri=[];if(_40.scheme){uri.push(_40.scheme,":");}if(_40.authority){uri.push("//",_40.authority);}uri.push(_40.path);if(_40.query){uri.push("?",_40.query);}if(_40.fragment){uri.push("#",_40.fragment);}}this.uri=uri.join("");var r=this.uri.match(ore);this.scheme=r[2]||(r[1]?"":n);this.authority=r[4]||(r[3]?"":n);this.path=r[5];this.query=r[7]||(r[6]?"":n);this.fragment=r[9]||(r[8]?"":n);if(this.authority!=n){r=this.authority.match(ire);this.user=r[3]||n;this.password=r[4]||n;this.host=r[6]||r[7];this.port=r[9]||n;}};dojo._Url.prototype.toString=function(){return this.uri;};dojo.moduleUrl=function(_44,url){var loc=d._getModuleSymbols(_44).join("/");if(!loc){return null;}if(loc.lastIndexOf("/")!=loc.length-1){loc+="/";}var _45=loc.indexOf(":");if(loc.charAt(0)!="/"&&(_45==-1||_45>loc.indexOf("/"))){loc=d.baseUrl+loc;}return new d._Url(loc,url);};})();if(typeof window!="undefined"){dojo.isBrowser=true;dojo._name="browser";(function(){var d=dojo;if(document&&document.getElementsByTagName){var _46=document.getElementsByTagName("script");var _47=/dojo(\.xd)?\.js(\W|$)/i;for(var i=0;i<_46.length;i++){var src=_46[i].getAttribute("src");if(!src){continue;}var m=src.match(_47);if(m){if(!d.config.baseUrl){d.config.baseUrl=src.substring(0,m.index);}var cfg=_46[i].getAttribute("djConfig");if(cfg){var _48=eval("({ "+cfg+" })");for(var x in _48){dojo.config[x]=_48[x];}}break;}}}d.baseUrl=d.config.baseUrl;var n=navigator;var dua=n.userAgent,dav=n.appVersion,tv=parseFloat(dav);if(dua.indexOf("Opera")>=0){d.isOpera=tv;}if(dua.indexOf("AdobeAIR")>=0){d.isAIR=1;}d.isKhtml=(dav.indexOf("Konqueror")>=0)?tv:0;d.isWebKit=parseFloat(dua.split("WebKit/")[1])||undefined;d.isChrome=parseFloat(dua.split("Chrome/")[1])||undefined;d.isMac=dav.indexOf("Macintosh")>=0;var _49=Math.max(dav.indexOf("WebKit"),dav.indexOf("Safari"),0);if(_49&&!dojo.isChrome){d.isSafari=parseFloat(dav.split("Version/")[1]);if(!d.isSafari||parseFloat(dav.substr(_49+7))<=419.3){d.isSafari=2;}}if(dua.indexOf("Gecko")>=0&&!d.isKhtml&&!d.isWebKit){d.isMozilla=d.isMoz=tv;}if(d.isMoz){d.isFF=parseFloat(dua.split("Firefox/")[1]||dua.split("Minefield/")[1])||undefined;}if(document.all&&!d.isOpera){d.isIE=parseFloat(dav.split("MSIE ")[1])||undefined;var _4a=document.documentMode;if(_4a&&_4a!=5&&Math.floor(d.isIE)!=_4a){d.isIE=_4a;}}if(dojo.isIE&&window.location.protocol==="file:"){dojo.config.ieForceActiveXXhr=true;}d.isQuirks=document.compatMode=="BackCompat";d.locale=dojo.config.locale||(d.isIE?n.userLanguage:n.language).toLowerCase();d._XMLHTTP_PROGIDS=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"];d._xhrObj=function(){var _4b,_4c;if(!dojo.isIE||!dojo.config.ieForceActiveXXhr){try{_4b=new XMLHttpRequest();}catch(e){}}if(!_4b){for(var i=0;i<3;++i){var _4d=d._XMLHTTP_PROGIDS[i];try{_4b=new ActiveXObject(_4d);}catch(e){_4c=e;}if(_4b){d._XMLHTTP_PROGIDS=[_4d];break;}}}if(!_4b){throw new Error("XMLHTTP not available: "+_4c);}return _4b;};d._isDocumentOk=function(_4e){var _4f=_4e.status||0,lp=location.protocol;return (_4f>=200&&_4f<300)||_4f==304||_4f==1223||(!_4f&&(lp=="file:"||lp=="chrome:"||lp=="app:"));};var _50=window.location+"";var _51=document.getElementsByTagName("base");var _52=(_51&&_51.length>0);d._getText=function(uri,_53){var _54=d._xhrObj();if(!_52&&dojo._Url){uri=(new dojo._Url(_50,uri)).toString();}if(d.config.cacheBust){uri+="";uri+=(uri.indexOf("?")==-1?"?":"&")+String(d.config.cacheBust).replace(/\W+/g,"");}_54.open("GET",uri,false);try{_54.send(null);if(!d._isDocumentOk(_54)){var err=Error("Unable to load "+uri+" status:"+_54.status);err.status=_54.status;err.responseText=_54.responseText;throw err;}}catch(e){if(_53){return null;}throw e;}return _54.responseText;};var _55=window;var _56=function(_57,fp){var _58=_55.attachEvent||_55.addEventListener;_57=_55.attachEvent?_57:_57.substring(2);_58(_57,function(){fp.apply(_55,arguments);},false);};d._windowUnloaders=[];d.windowUnloaded=function(){var mll=d._windowUnloaders;while(mll.length){(mll.pop())();}};var _59=0;d.addOnWindowUnload=function(obj,_5a){d._onto(d._windowUnloaders,obj,_5a);if(!_59){_59=1;_56("onunload",d.windowUnloaded);}};var _5b=0;d.addOnUnload=function(obj,_5c){d._onto(d._unloaders,obj,_5c);if(!_5b){_5b=1;_56("onbeforeunload",dojo.unloaded);}};})();dojo._initFired=false;dojo._loadInit=function(e){if(!dojo._initFired){dojo._initFired=true;if(!dojo.config.afterOnLoad&&window.detachEvent){window.detachEvent("onload",dojo._loadInit);}if(dojo._inFlightCount==0){dojo._modulesLoaded();}}};if(!dojo.config.afterOnLoad){if(document.addEventListener){document.addEventListener("DOMContentLoaded",dojo._loadInit,false);window.addEventListener("load",dojo._loadInit,false);}else{if(window.attachEvent){window.attachEvent("onload",dojo._loadInit);}}}if(dojo.isIE){if(!dojo.config.afterOnLoad&&!dojo.config.skipIeDomLoaded){document.write("<scr"+"ipt defer src=\"//:\" "+"onreadystatechange=\"if(this.readyState=='complete'){"+dojo._scopeName+"._loadInit();}\">"+"</scr"+"ipt>");}try{document.namespaces.add("v","urn:schemas-microsoft-com:vml");var _5d=["*","group","roundrect","oval","shape","rect","imagedata"],i=0,l=1,s=document.createStyleSheet();if(dojo.isIE>=8){i=1;l=_5d.length;}for(;i<l;++i){s.addRule("v\\:"+_5d[i],"behavior:url(#default#VML); display:inline-block");}}catch(e){}}}(function(){var mp=dojo.config["modulePaths"];if(mp){for(var _5e in mp){dojo.registerModulePath(_5e,mp[_5e]);}}})();if(dojo.config.isDebug){dojo.require("dojo._firebug.firebug");}if(dojo.config.debugAtAllCosts){dojo.config.useXDomain=true;dojo.require("dojo._base._loader.loader_xd");dojo.require("dojo._base._loader.loader_debug");dojo.require("dojo.i18n");}if(!dojo._hasResource["dojo._base.lang"]){dojo._hasResource["dojo._base.lang"]=true;dojo.provide("dojo._base.lang");(function(){var d=dojo,_5f=Object.prototype.toString;dojo.isString=function(it){return (typeof it=="string"||it instanceof String);};dojo.isArray=function(it){return it&&(it instanceof Array||typeof it=="array");};dojo.isFunction=function(it){return _5f.call(it)==="[object Function]";};dojo.isObject=function(it){return it!==undefined&&(it===null||typeof it=="object"||d.isArray(it)||d.isFunction(it));};dojo.isArrayLike=function(it){return it&&it!==undefined&&!d.isString(it)&&!d.isFunction(it)&&!(it.tagName&&it.tagName.toLowerCase()=="form")&&(d.isArray(it)||isFinite(it.length));};dojo.isAlien=function(it){return it&&!d.isFunction(it)&&/\{\s*\[native code\]\s*\}/.test(String(it));};dojo.extend=function(_60,_61){for(var i=1,l=arguments.length;i<l;i++){d._mixin(_60.prototype,arguments[i]);}return _60;};dojo._hitchArgs=function(_62,_63){var pre=d._toArray(arguments,2);var _64=d.isString(_63);return function(){var _65=d._toArray(arguments);var f=_64?(_62||d.global)[_63]:_63;return f&&f.apply(_62||this,pre.concat(_65));};};dojo.hitch=function(_66,_67){if(arguments.length>2){return d._hitchArgs.apply(d,arguments);}if(!_67){_67=_66;_66=null;}if(d.isString(_67)){_66=_66||d.global;if(!_66[_67]){throw (["dojo.hitch: scope[\"",_67,"\"] is null (scope=\"",_66,"\")"].join(""));}return function(){return _66[_67].apply(_66,arguments||[]);};}return !_66?_67:function(){return _67.apply(_66,arguments||[]);};};dojo.delegate=dojo._delegate=(function(){function TMP(){};return function(obj,_68){TMP.prototype=obj;var tmp=new TMP();TMP.prototype=null;if(_68){d._mixin(tmp,_68);}return tmp;};})();var _69=function(obj,_6a,_6b){return (_6b||[]).concat(Array.prototype.slice.call(obj,_6a||0));};var _6c=function(obj,_6d,_6e){var arr=_6e||[];for(var x=_6d||0;x<obj.length;x++){arr.push(obj[x]);}return arr;};dojo._toArray=d.isIE?function(obj){return ((obj.item)?_6c:_69).apply(this,arguments);}:_69;dojo.partial=function(_6f){var arr=[null];return d.hitch.apply(d,arr.concat(d._toArray(arguments)));};var _70=d._extraNames,_71=_70.length,_72={};dojo.clone=function(o){if(!o||typeof o!="object"||d.isFunction(o)){return o;}if(o.nodeType&&"cloneNode" in o){return o.cloneNode(true);}if(o instanceof Date){return new Date(o.getTime());}var r,i,l,s,_73;if(d.isArray(o)){r=[];for(i=0,l=o.length;i<l;++i){if(i in o){r.push(d.clone(o[i]));}}}else{r=o.constructor?new o.constructor():{};}for(_73 in o){s=o[_73];if(!(_73 in r)||(r[_73]!==s&&(!(_73 in _72)||_72[_73]!==s))){r[_73]=d.clone(s);}}if(_71){for(i=0;i<_71;++i){_73=_70[i];s=o[_73];if(!(_73 in r)||(r[_73]!==s&&(!(_73 in _72)||_72[_73]!==s))){r[_73]=s;}}}return r;};dojo.trim=String.prototype.trim?function(str){return str.trim();}:function(str){return str.replace(/^\s\s*/,"").replace(/\s\s*$/,"");};var _74=/\{([^\}]+)\}/g;dojo.replace=function(_75,map,_76){return _75.replace(_76||_74,d.isFunction(map)?map:function(_77,k){return d.getObject(k,false,map);});};})();}if(!dojo._hasResource["dojo._base.array"]){dojo._hasResource["dojo._base.array"]=true;dojo.provide("dojo._base.array");(function(){var _78=function(arr,obj,cb){return [(typeof arr=="string")?arr.split(""):arr,obj||dojo.global,(typeof cb=="string")?new Function("item","index","array",cb):cb];};var _79=function(_7a,arr,_7b,_7c){var _7d=_78(arr,_7c,_7b);arr=_7d[0];for(var i=0,l=arr.length;i<l;++i){var _7e=!!_7d[2].call(_7d[1],arr[i],i,arr);if(_7a^_7e){return _7e;}}return _7a;};dojo.mixin(dojo,{indexOf:function(_7f,_80,_81,_82){var _83=1,end=_7f.length||0,i=0;if(_82){i=end-1;_83=end=-1;}if(_81!=undefined){i=_81;}if((_82&&i>end)||i<end){for(;i!=end;i+=_83){if(_7f[i]==_80){return i;}}}return -1;},lastIndexOf:function(_84,_85,_86){return dojo.indexOf(_84,_85,_86,true);},forEach:function(arr,_87,_88){if(!arr||!arr.length){return;}var _89=_78(arr,_88,_87);arr=_89[0];for(var i=0,l=arr.length;i<l;++i){_89[2].call(_89[1],arr[i],i,arr);}},every:function(arr,_8a,_8b){return _79(true,arr,_8a,_8b);},some:function(arr,_8c,_8d){return _79(false,arr,_8c,_8d);},map:function(arr,_8e,_8f){var _90=_78(arr,_8f,_8e);arr=_90[0];var _91=(arguments[3]?(new arguments[3]()):[]);for(var i=0,l=arr.length;i<l;++i){_91.push(_90[2].call(_90[1],arr[i],i,arr));}return _91;},filter:function(arr,_92,_93){var _94=_78(arr,_93,_92);arr=_94[0];var _95=[];for(var i=0,l=arr.length;i<l;++i){if(_94[2].call(_94[1],arr[i],i,arr)){_95.push(arr[i]);}}return _95;}});})();}if(!dojo._hasResource["dojo._base.declare"]){dojo._hasResource["dojo._base.declare"]=true;dojo.provide("dojo._base.declare");(function(){var d=dojo,mix=d._mixin,op=Object.prototype,_96=op.toString,_97=new Function,_98=0,_99="constructor";function err(msg){throw new Error("declare: "+msg);};function _9a(_9b){var _9c=[],_9d=[{cls:0,refs:[]}],_9e={},_9f=1,l=_9b.length,i=0,j,lin,_a0,top,_a1,rec,_a2,_a3;for(;i<l;++i){_a0=_9b[i];if(!_a0){err("mixin #"+i+" is null");}lin=_a0._meta?_a0._meta.bases:[_a0];top=0;for(j=lin.length-1;j>=0;--j){_a1=lin[j].prototype;if(!_a1.hasOwnProperty("declaredClass")){_a1.declaredClass="uniqName_"+(_98++);}_a2=_a1.declaredClass;if(!_9e.hasOwnProperty(_a2)){_9e[_a2]={count:0,refs:[],cls:lin[j]};++_9f;}rec=_9e[_a2];if(top&&top!==rec){rec.refs.push(top);++top.count;}top=rec;}++top.count;_9d[0].refs.push(top);}while(_9d.length){top=_9d.pop();_9c.push(top.cls);--_9f;while(_a3=top.refs,_a3.length==1){top=_a3[0];if(!top||--top.count){top=0;break;}_9c.push(top.cls);--_9f;}if(top){for(i=0,l=_a3.length;i<l;++i){top=_a3[i];if(!--top.count){_9d.push(top);}}}}if(_9f){err("can't build consistent linearization");}_a0=_9b[0];_9c[0]=_a0?_a0._meta&&_a0===_9c[_9c.length-_a0._meta.bases.length]?_a0._meta.bases.length:1:0;return _9c;};function _a4(_a5,a,f){var _a6,_a7,_a8,_a9,_aa,_ab,_ac,opf,pos,_ad=this._inherited=this._inherited||{};if(typeof _a5=="string"){_a6=_a5;_a5=a;a=f;}f=0;_a9=_a5.callee;_a6=_a6||_a9.nom;if(!_a6){err("can't deduce a name to call inherited()");}_aa=this.constructor._meta;_a8=_aa.bases;pos=_ad.p;if(_a6!=_99){if(_ad.c!==_a9){pos=0;_ab=_a8[0];_aa=_ab._meta;if(_aa.hidden[_a6]!==_a9){_a7=_aa.chains;if(_a7&&typeof _a7[_a6]=="string"){err("calling chained method with inherited: "+_a6);}do{_aa=_ab._meta;_ac=_ab.prototype;if(_aa&&(_ac[_a6]===_a9&&_ac.hasOwnProperty(_a6)||_aa.hidden[_a6]===_a9)){break;}}while(_ab=_a8[++pos]);pos=_ab?pos:-1;}}_ab=_a8[++pos];if(_ab){_ac=_ab.prototype;if(_ab._meta&&_ac.hasOwnProperty(_a6)){f=_ac[_a6];}else{opf=op[_a6];do{_ac=_ab.prototype;f=_ac[_a6];if(f&&(_ab._meta?_ac.hasOwnProperty(_a6):f!==opf)){break;}}while(_ab=_a8[++pos]);}}f=_ab&&f||op[_a6];}else{if(_ad.c!==_a9){pos=0;_aa=_a8[0]._meta;if(_aa&&_aa.ctor!==_a9){_a7=_aa.chains;if(!_a7||_a7.constructor!=="manual"){err("calling chained constructor with inherited");}while(_ab=_a8[++pos]){_aa=_ab._meta;if(_aa&&_aa.ctor===_a9){break;}}pos=_ab?pos:-1;}}while(_ab=_a8[++pos]){_aa=_ab._meta;f=_aa?_aa.ctor:_ab;if(f){break;}}f=_ab&&f;}_ad.c=f;_ad.p=pos;if(f){return a===true?f:f.apply(this,a||_a5);}};function _ae(_af,_b0){if(typeof _af=="string"){return this.inherited(_af,_b0,true);}return this.inherited(_af,true);};function _b1(cls){var _b2=this.constructor._meta.bases;for(var i=0,l=_b2.length;i<l;++i){if(_b2[i]===cls){return true;}}return this instanceof cls;};function _b3(_b4,_b5){var _b6,t,i=0,l=d._extraNames.length;for(_b6 in _b5){t=_b5[_b6];if((t!==op[_b6]||!(_b6 in op))&&_b6!=_99){if(_96.call(t)=="[object Function]"){t.nom=_b6;}_b4[_b6]=t;}}for(;i<l;++i){_b6=d._extraNames[i];t=_b5[_b6];if((t!==op[_b6]||!(_b6 in op))&&_b6!=_99){if(_96.call(t)=="[object Function]"){t.nom=_b6;}_b4[_b6]=t;}}return _b4;};function _b7(_b8){_b3(this.prototype,_b8);return this;};function _b9(_ba,_bb){return function(){var a=arguments,_bc=a,a0=a[0],f,i,m,l=_ba.length,_bd;if(_bb&&(a0&&a0.preamble||this.preamble)){_bd=new Array(_ba.length);_bd[0]=a;for(i=0;;){a0=a[0];if(a0){f=a0.preamble;if(f){a=f.apply(this,a)||a;}}f=_ba[i].prototype;f=f.hasOwnProperty("preamble")&&f.preamble;if(f){a=f.apply(this,a)||a;}if(++i==l){break;}_bd[i]=a;}}for(i=l-1;i>=0;--i){f=_ba[i];m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,_bd?_bd[i]:a);}}f=this.postscript;if(f){f.apply(this,_bc);}};};function _be(_bf,_c0){return function(){var a=arguments,t=a,a0=a[0],f;if(_c0){if(a0){f=a0.preamble;if(f){t=f.apply(this,t)||t;}}f=this.preamble;if(f){f.apply(this,t);}}if(_bf){_bf.apply(this,a);}f=this.postscript;if(f){f.apply(this,a);}};};function _c1(_c2){return function(){var a=arguments,i=0,f;for(;f=_c2[i];++i){m=f._meta;f=m?m.ctor:f;if(f){f.apply(this,a);break;}}f=this.postscript;if(f){f.apply(this,a);}};};function _c3(_c4,_c5,_c6){return function(){var b,m,f,i=0,_c7=1;if(_c6){i=_c5.length-1;_c7=-1;}for(;b=_c5[i];i+=_c7){m=b._meta;f=(m?m.hidden:b.prototype)[_c4];if(f){f.apply(this,arguments);}}};};d.declare=function(_c8,_c9,_ca){var _cb,i,t,_cc,_cd,_ce,_cf,_d0=1,_d1=_c9;if(typeof _c8!="string"){_ca=_c9;_c9=_c8;_c8="";}_ca=_ca||{};if(_96.call(_c9)=="[object Array]"){_ce=_9a(_c9);t=_ce[0];_d0=_ce.length-t;_c9=_ce[_d0];}else{_ce=[0];if(_c9){t=_c9._meta;_ce=_ce.concat(t?t.bases:_c9);}}if(_c9){for(i=_d0-1;;--i){_97.prototype=_c9.prototype;_cb=new _97;if(!i){break;}t=_ce[i];mix(_cb,t._meta?t._meta.hidden:t.prototype);_cc=new Function;_cc.superclass=_c9;_cc.prototype=_cb;_c9=_cb.constructor=_cc;}}else{_cb={};}_b3(_cb,_ca);t=_ca.constructor;if(t!==op.constructor){t.nom=_99;_cb.constructor=t;}_97.prototype=0;for(i=_d0-1;i;--i){t=_ce[i]._meta;if(t&&t.chains){_cf=mix(_cf||{},t.chains);}}if(_cb["-chains-"]){_cf=mix(_cf||{},_cb["-chains-"]);}t=!_cf||!_cf.hasOwnProperty(_99);_ce[0]=_cc=(_cf&&_cf.constructor==="manual")?_c1(_ce):(_ce.length==1?_be(_ca.constructor,t):_b9(_ce,t));_cc._meta={bases:_ce,hidden:_ca,chains:_cf,parents:_d1,ctor:_ca.constructor};_cc.superclass=_c9&&_c9.prototype;_cc.extend=_b7;_cc.prototype=_cb;_cb.constructor=_cc;_cb.getInherited=_ae;_cb.inherited=_a4;_cb.isInstanceOf=_b1;if(_c8){_cb.declaredClass=_c8;d.setObject(_c8,_cc);}if(_cf){for(_cd in _cf){if(_cb[_cd]&&typeof _cf[_cd]=="string"&&_cd!=_99){t=_cb[_cd]=_c3(_cd,_ce,_cf[_cd]==="after");t.nom=_cd;}}}return _cc;};d.safeMixin=_b3;})();}if(!dojo._hasResource["dojo._base.connect"]){dojo._hasResource["dojo._base.connect"]=true;dojo.provide("dojo._base.connect");dojo._listener={getDispatcher:function(){return function(){var ap=Array.prototype,c=arguments.callee,ls=c._listeners,t=c.target;var r=t&&t.apply(this,arguments);var lls;lls=[].concat(ls);for(var i in lls){if(!(i in ap)){lls[i].apply(this,arguments);}}return r;};},add:function(_d2,_d3,_d4){_d2=_d2||dojo.global;var f=_d2[_d3];if(!f||!f._listeners){var d=dojo._listener.getDispatcher();d.target=f;d._listeners=[];f=_d2[_d3]=d;}return f._listeners.push(_d4);},remove:function(_d5,_d6,_d7){var f=(_d5||dojo.global)[_d6];if(f&&f._listeners&&_d7--){delete f._listeners[_d7];}}};dojo.connect=function(obj,_d8,_d9,_da,_db){var a=arguments,_dc=[],i=0;_dc.push(dojo.isString(a[0])?null:a[i++],a[i++]);var a1=a[i+1];_dc.push(dojo.isString(a1)||dojo.isFunction(a1)?a[i++]:null,a[i++]);for(var l=a.length;i<l;i++){_dc.push(a[i]);}return dojo._connect.apply(this,_dc);};dojo._connect=function(obj,_dd,_de,_df){var l=dojo._listener,h=l.add(obj,_dd,dojo.hitch(_de,_df));return [obj,_dd,h,l];};dojo.disconnect=function(_e0){if(_e0&&_e0[0]!==undefined){dojo._disconnect.apply(this,_e0);delete _e0[0];}};dojo._disconnect=function(obj,_e1,_e2,_e3){_e3.remove(obj,_e1,_e2);};dojo._topics={};dojo.subscribe=function(_e4,_e5,_e6){return [_e4,dojo._listener.add(dojo._topics,_e4,dojo.hitch(_e5,_e6))];};dojo.unsubscribe=function(_e7){if(_e7){dojo._listener.remove(dojo._topics,_e7[0],_e7[1]);}};dojo.publish=function(_e8,_e9){var f=dojo._topics[_e8];if(f){f.apply(this,_e9||[]);}};dojo.connectPublisher=function(_ea,obj,_eb){var pf=function(){dojo.publish(_ea,arguments);};return (_eb)?dojo.connect(obj,_eb,pf):dojo.connect(obj,pf);};}if(!dojo._hasResource["dojo._base.Deferred"]){dojo._hasResource["dojo._base.Deferred"]=true;dojo.provide("dojo._base.Deferred");dojo.Deferred=function(_ec){this.chain=[];this.id=this._nextId();this.fired=-1;this.paused=0;this.results=[null,null];this.canceller=_ec;this.silentlyCancelled=false;this.isFiring=false;};dojo.extend(dojo.Deferred,{_nextId:(function(){var n=1;return function(){return n++;};})(),cancel:function(){var err;if(this.fired==-1){if(this.canceller){err=this.canceller(this);}else{this.silentlyCancelled=true;}if(this.fired==-1){if(!(err instanceof Error)){var res=err;var msg="Deferred Cancelled";if(err&&err.toString){msg+=": "+err.toString();}err=new Error(msg);err.dojoType="cancel";err.cancelResult=res;}this.errback(err);}}else{if((this.fired==0)&&(this.results[0] instanceof dojo.Deferred)){this.results[0].cancel();}}},_resback:function(res){this.fired=((res instanceof Error)?1:0);this.results[this.fired]=res;this._fire();},_check:function(){if(this.fired!=-1){if(!this.silentlyCancelled){throw new Error("already called!");}this.silentlyCancelled=false;return;}},callback:function(res){this._check();this._resback(res);},errback:function(res){this._check();if(!(res instanceof Error)){res=new Error(res);}this._resback(res);},addBoth:function(cb,_ed){var _ee=dojo.hitch.apply(dojo,arguments);return this.addCallbacks(_ee,_ee);},addCallback:function(cb,_ef){return this.addCallbacks(dojo.hitch.apply(dojo,arguments));},addErrback:function(cb,_f0){return this.addCallbacks(null,dojo.hitch.apply(dojo,arguments));},addCallbacks:function(cb,eb){this.chain.push([cb,eb]);if(this.fired>=0&&!this.isFiring){this._fire();}return this;},_fire:function(){this.isFiring=true;var _f1=this.chain;var _f2=this.fired;var res=this.results[_f2];var _f3=this;var cb=null;while((_f1.length>0)&&(this.paused==0)){var f=_f1.shift()[_f2];if(!f){continue;}var _f4=function(){var ret=f(res);if(typeof ret!="undefined"){res=ret;}_f2=((res instanceof Error)?1:0);if(res instanceof dojo.Deferred){cb=function(res){_f3._resback(res);_f3.paused--;if((_f3.paused==0)&&(_f3.fired>=0)){_f3._fire();}};this.paused++;}};if(dojo.config.debugAtAllCosts){_f4.call(this);}else{try{_f4.call(this);}catch(err){_f2=1;res=err;}}}this.fired=_f2;this.results[_f2]=res;this.isFiring=false;if((cb)&&(this.paused)){res.addBoth(cb);}}});}if(!dojo._hasResource["dojo._base.json"]){dojo._hasResource["dojo._base.json"]=true;dojo.provide("dojo._base.json");dojo.fromJson=function(_f5){return eval("("+_f5+")");};dojo._escapeString=function(str){return ("\""+str.replace(/(["\\])/g,"\\$1")+"\"").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r");};dojo.toJsonIndentStr="\t";dojo.toJson=function(it,_f6,_f7){if(it===undefined){return "undefined";}var _f8=typeof it;if(_f8=="number"||_f8=="boolean"){return it+"";}if(it===null){return "null";}if(dojo.isString(it)){return dojo._escapeString(it);}var _f9=arguments.callee;var _fa;_f7=_f7||"";var _fb=_f6?_f7+dojo.toJsonIndentStr:"";var tf=it.__json__||it.json;if(dojo.isFunction(tf)){_fa=tf.call(it);if(it!==_fa){return _f9(_fa,_f6,_fb);}}if(it.nodeType&&it.cloneNode){throw new Error("Can't serialize DOM nodes");}var sep=_f6?" ":"";var _fc=_f6?"\n":"";if(dojo.isArray(it)){var res=dojo.map(it,function(obj){var val=_f9(obj,_f6,_fb);if(typeof val!="string"){val="undefined";}return _fc+_fb+val;});return "["+res.join(","+sep)+_fc+_f7+"]";}if(_f8=="function"){return null;}var _fd=[],key;for(key in it){var _fe,val;if(typeof key=="number"){_fe="\""+key+"\"";}else{if(typeof key=="string"){_fe=dojo._escapeString(key);}else{continue;}}val=_f9(it[key],_f6,_fb);if(typeof val!="string"){continue;}_fd.push(_fc+_fb+_fe+":"+sep+val);}return "{"+_fd.join(","+sep)+_fc+_f7+"}";};}if(!dojo._hasResource["dojo._base.Color"]){dojo._hasResource["dojo._base.Color"]=true;dojo.provide("dojo._base.Color");(function(){var d=dojo;dojo.Color=function(_ff){if(_ff){this.setColor(_ff);}};dojo.Color.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:d.config.transparentColor||[255,255,255]};dojo.extend(dojo.Color,{r:255,g:255,b:255,a:1,_set:function(r,g,b,a){var t=this;t.r=r;t.g=g;t.b=b;t.a=a;},setColor:function(_100){if(d.isString(_100)){d.colorFromString(_100,this);}else{if(d.isArray(_100)){d.colorFromArray(_100,this);}else{this._set(_100.r,_100.g,_100.b,_100.a);if(!(_100 instanceof d.Color)){this.sanitize();}}}return this;},sanitize:function(){return this;},toRgb:function(){var t=this;return [t.r,t.g,t.b];},toRgba:function(){var t=this;return [t.r,t.g,t.b,t.a];},toHex:function(){var arr=d.map(["r","g","b"],function(x){var s=this[x].toString(16);return s.length<2?"0"+s:s;},this);return "#"+arr.join("");},toCss:function(_101){var t=this,rgb=t.r+", "+t.g+", "+t.b;return (_101?"rgba("+rgb+", "+t.a:"rgb("+rgb)+")";},toString:function(){return this.toCss(true);}});dojo.blendColors=function(_102,end,_103,obj){var t=obj||new d.Color();d.forEach(["r","g","b","a"],function(x){t[x]=_102[x]+(end[x]-_102[x])*_103;if(x!="a"){t[x]=Math.round(t[x]);}});return t.sanitize();};dojo.colorFromRgb=function(_104,obj){var m=_104.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/);return m&&dojo.colorFromArray(m[1].split(/\s*,\s*/),obj);};dojo.colorFromHex=function(_105,obj){var t=obj||new d.Color(),bits=(_105.length==4)?4:8,mask=(1<<bits)-1;_105=Number("0x"+_105.substr(1));if(isNaN(_105)){return null;}d.forEach(["b","g","r"],function(x){var c=_105&mask;_105>>=bits;t[x]=bits==4?17*c:c;});t.a=1;return t;};dojo.colorFromArray=function(a,obj){var t=obj||new d.Color();t._set(Number(a[0]),Number(a[1]),Number(a[2]),Number(a[3]));if(isNaN(t.a)){t.a=1;}return t.sanitize();};dojo.colorFromString=function(str,obj){var a=d.Color.named[str];return a&&d.colorFromArray(a,obj)||d.colorFromRgb(str,obj)||d.colorFromHex(str,obj);};})();}if(!dojo._hasResource["dojo._base"]){dojo._hasResource["dojo._base"]=true;dojo.provide("dojo._base");}if(!dojo._hasResource["dojo._base.window"]){dojo._hasResource["dojo._base.window"]=true;dojo.provide("dojo._base.window");dojo.doc=window["document"]||null;dojo.body=function(){return dojo.doc.body||dojo.doc.getElementsByTagName("body")[0];};dojo.setContext=function(_106,_107){dojo.global=_106;dojo.doc=_107;};dojo.withGlobal=function(_108,_109,_10a,_10b){var _10c=dojo.global;try{dojo.global=_108;return dojo.withDoc.call(null,_108.document,_109,_10a,_10b);}finally{dojo.global=_10c;}};dojo.withDoc=function(_10d,_10e,_10f,_110){var _111=dojo.doc,_112=dojo._bodyLtr,oldQ=dojo.isQuirks;try{dojo.doc=_10d;delete dojo._bodyLtr;dojo.isQuirks=dojo.doc.compatMode=="BackCompat";if(_10f&&typeof _10e=="string"){_10e=_10f[_10e];}return _10e.apply(_10f,_110||[]);}finally{dojo.doc=_111;delete dojo._bodyLtr;if(_112!==undefined){dojo._bodyLtr=_112;}dojo.isQuirks=oldQ;}};}if(!dojo._hasResource["dojo._base.event"]){dojo._hasResource["dojo._base.event"]=true;dojo.provide("dojo._base.event");(function(){var del=(dojo._event_listener={add:function(node,name,fp){if(!node){return;}name=del._normalizeEventName(name);fp=del._fixCallback(name,fp);var _113=name;if(!dojo.isIE&&(name=="mouseenter"||name=="mouseleave")){var ofp=fp;name=(name=="mouseenter")?"mouseover":"mouseout";fp=function(e){if(!dojo.isDescendant(e.relatedTarget,node)){return ofp.call(this,e);}};}node.addEventListener(name,fp,false);return fp;},remove:function(node,_114,_115){if(node){_114=del._normalizeEventName(_114);if(!dojo.isIE&&(_114=="mouseenter"||_114=="mouseleave")){_114=(_114=="mouseenter")?"mouseover":"mouseout";}node.removeEventListener(_114,_115,false);}},_normalizeEventName:function(name){return name.slice(0,2)=="on"?name.slice(2):name;},_fixCallback:function(name,fp){return name!="keypress"?fp:function(e){return fp.call(this,del._fixEvent(e,this));};},_fixEvent:function(evt,_116){switch(evt.type){case "keypress":del._setKeyChar(evt);break;}return evt;},_setKeyChar:function(evt){evt.keyChar=evt.charCode?String.fromCharCode(evt.charCode):"";evt.charOrCode=evt.keyChar||evt.keyCode;},_punctMap:{106:42,111:47,186:59,187:43,188:44,189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39}});dojo.fixEvent=function(evt,_117){return del._fixEvent(evt,_117);};dojo.stopEvent=function(evt){evt.preventDefault();evt.stopPropagation();};var _118=dojo._listener;dojo._connect=function(obj,_119,_11a,_11b,_11c){var _11d=obj&&(obj.nodeType||obj.attachEvent||obj.addEventListener);var lid=_11d?(_11c?2:1):0,l=[dojo._listener,del,_118][lid];var h=l.add(obj,_119,dojo.hitch(_11a,_11b));return [obj,_119,h,lid];};dojo._disconnect=function(obj,_11e,_11f,_120){([dojo._listener,del,_118][_120]).remove(obj,_11e,_11f);};dojo.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:dojo.isSafari?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,copyKey:dojo.isMac&&!dojo.isAIR?(dojo.isSafari?91:224):17};var _121=dojo.isMac?"metaKey":"ctrlKey";dojo.isCopyKey=function(e){return e[_121];};if(dojo.isIE){dojo.mouseButtons={LEFT:1,MIDDLE:4,RIGHT:2,isButton:function(e,_122){return e.button&_122;},isLeft:function(e){return e.button&1;},isMiddle:function(e){return e.button&4;},isRight:function(e){return e.button&2;}};}else{dojo.mouseButtons={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(e,_123){return e.button==_123;},isLeft:function(e){return e.button==0;},isMiddle:function(e){return e.button==1;},isRight:function(e){return e.button==2;}};}if(dojo.isIE){var _124=function(e,code){try{return (e.keyCode=code);}catch(e){return 0;}};var iel=dojo._listener;var _125=(dojo._ieListenersName="_"+dojo._scopeName+"_listeners");if(!dojo.config._allow_leaks){_118=iel=dojo._ie_listener={handlers:[],add:function(_126,_127,_128){_126=_126||dojo.global;var f=_126[_127];if(!f||!f[_125]){var d=dojo._getIeDispatcher();d.target=f&&(ieh.push(f)-1);d[_125]=[];f=_126[_127]=d;}return f[_125].push(ieh.push(_128)-1);},remove:function(_129,_12a,_12b){var f=(_129||dojo.global)[_12a],l=f&&f[_125];if(f&&l&&_12b--){delete ieh[l[_12b]];delete l[_12b];}}};var ieh=iel.handlers;}dojo.mixin(del,{add:function(node,_12c,fp){if(!node){return;}_12c=del._normalizeEventName(_12c);if(_12c=="onkeypress"){var kd=node.onkeydown;if(!kd||!kd[_125]||!kd._stealthKeydownHandle){var h=del.add(node,"onkeydown",del._stealthKeyDown);kd=node.onkeydown;kd._stealthKeydownHandle=h;kd._stealthKeydownRefs=1;}else{kd._stealthKeydownRefs++;}}return iel.add(node,_12c,del._fixCallback(fp));},remove:function(node,_12d,_12e){_12d=del._normalizeEventName(_12d);iel.remove(node,_12d,_12e);if(_12d=="onkeypress"){var kd=node.onkeydown;if(--kd._stealthKeydownRefs<=0){iel.remove(node,"onkeydown",kd._stealthKeydownHandle);delete kd._stealthKeydownHandle;}}},_normalizeEventName:function(_12f){return _12f.slice(0,2)!="on"?"on"+_12f:_12f;},_nop:function(){},_fixEvent:function(evt,_130){if(!evt){var w=_130&&(_130.ownerDocument||_130.document||_130).parentWindow||window;evt=w.event;}if(!evt){return (evt);}evt.target=evt.srcElement;evt.currentTarget=(_130||evt.srcElement);evt.layerX=evt.offsetX;evt.layerY=evt.offsetY;var se=evt.srcElement,doc=(se&&se.ownerDocument)||document;var _131=((dojo.isIE<6)||(doc["compatMode"]=="BackCompat"))?doc.body:doc.documentElement;var _132=dojo._getIeDocumentElementOffset();evt.pageX=evt.clientX+dojo._fixIeBiDiScrollLeft(_131.scrollLeft||0)-_132.x;evt.pageY=evt.clientY+(_131.scrollTop||0)-_132.y;if(evt.type=="mouseover"){evt.relatedTarget=evt.fromElement;}if(evt.type=="mouseout"){evt.relatedTarget=evt.toElement;}evt.stopPropagation=del._stopPropagation;evt.preventDefault=del._preventDefault;return del._fixKeys(evt);},_fixKeys:function(evt){switch(evt.type){case "keypress":var c=("charCode" in evt?evt.charCode:evt.keyCode);if(c==10){c=0;evt.keyCode=13;}else{if(c==13||c==27){c=0;}else{if(c==3){c=99;}}}evt.charCode=c;del._setKeyChar(evt);break;}return evt;},_stealthKeyDown:function(evt){var kp=evt.currentTarget.onkeypress;if(!kp||!kp[_125]){return;}var k=evt.keyCode;var _133=k!=13&&k!=32&&k!=27&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222);if(_133||evt.ctrlKey){var c=_133?0:k;if(evt.ctrlKey){if(k==3||k==13){return;}else{if(c>95&&c<106){c-=48;}else{if((!evt.shiftKey)&&(c>=65&&c<=90)){c+=32;}else{c=del._punctMap[c]||c;}}}}var faux=del._synthesizeEvent(evt,{type:"keypress",faux:true,charCode:c});kp.call(evt.currentTarget,faux);evt.cancelBubble=faux.cancelBubble;evt.returnValue=faux.returnValue;_124(evt,faux.keyCode);}},_stopPropagation:function(){this.cancelBubble=true;},_preventDefault:function(){this.bubbledKeyCode=this.keyCode;if(this.ctrlKey){_124(this,0);}this.returnValue=false;}});dojo.stopEvent=function(evt){evt=evt||window.event;del._stopPropagation.call(evt);del._preventDefault.call(evt);};}del._synthesizeEvent=function(evt,_134){var faux=dojo.mixin({},evt,_134);del._setKeyChar(faux);faux.preventDefault=function(){evt.preventDefault();};faux.stopPropagation=function(){evt.stopPropagation();};return faux;};if(dojo.isOpera){dojo.mixin(del,{_fixEvent:function(evt,_135){switch(evt.type){case "keypress":var c=evt.which;if(c==3){c=99;}c=c<41&&!evt.shiftKey?0:c;if(evt.ctrlKey&&!evt.shiftKey&&c>=65&&c<=90){c+=32;}return del._synthesizeEvent(evt,{charCode:c});}return evt;}});}if(dojo.isWebKit){del._add=del.add;del._remove=del.remove;dojo.mixin(del,{add:function(node,_136,fp){if(!node){return;}var _137=del._add(node,_136,fp);if(del._normalizeEventName(_136)=="keypress"){_137._stealthKeyDownHandle=del._add(node,"keydown",function(evt){var k=evt.keyCode;var _138=k!=13&&k!=32&&(k<48||k>90)&&(k<96||k>111)&&(k<186||k>192)&&(k<219||k>222);if(_138||evt.ctrlKey){var c=_138?0:k;if(evt.ctrlKey){if(k==3||k==13){return;}else{if(c>95&&c<106){c-=48;}else{if(!evt.shiftKey&&c>=65&&c<=90){c+=32;}else{c=del._punctMap[c]||c;}}}}var faux=del._synthesizeEvent(evt,{type:"keypress",faux:true,charCode:c});fp.call(evt.currentTarget,faux);}});}return _137;},remove:function(node,_139,_13a){if(node){if(_13a._stealthKeyDownHandle){del._remove(node,"keydown",_13a._stealthKeyDownHandle);}del._remove(node,_139,_13a);}},_fixEvent:function(evt,_13b){switch(evt.type){case "keypress":if(evt.faux){return evt;}var c=evt.charCode;c=c>=32?c:0;return del._synthesizeEvent(evt,{charCode:c,faux:true});}return evt;}});}})();if(dojo.isIE){dojo._ieDispatcher=function(args,_13c){var ap=Array.prototype,h=dojo._ie_listener.handlers,c=args.callee,ls=c[dojo._ieListenersName],t=h[c.target];var r=t&&t.apply(_13c,args);var lls=[].concat(ls);for(var i in lls){var f=h[lls[i]];if(!(i in ap)&&f){f.apply(_13c,args);}}return r;};dojo._getIeDispatcher=function(){return new Function(dojo._scopeName+"._ieDispatcher(arguments, this)");};dojo._event_listener._fixCallback=function(fp){var f=dojo._event_listener._fixEvent;return function(e){return fp.call(this,f(e,this));};};}}if(!dojo._hasResource["dojo._base.html"]){dojo._hasResource["dojo._base.html"]=true;dojo.provide("dojo._base.html");try{document.execCommand("BackgroundImageCache",false,true);}catch(e){}if(dojo.isIE||dojo.isOpera){dojo.byId=function(id,doc){if(typeof id!="string"){return id;}var _13d=doc||dojo.doc,te=_13d.getElementById(id);if(te&&(te.attributes.id.value==id||te.id==id)){return te;}else{var eles=_13d.all[id];if(!eles||eles.nodeName){eles=[eles];}var i=0;while((te=eles[i++])){if((te.attributes&&te.attributes.id&&te.attributes.id.value==id)||te.id==id){return te;}}}};}else{dojo.byId=function(id,doc){return (typeof id=="string")?(doc||dojo.doc).getElementById(id):id;};}(function(){var d=dojo;var byId=d.byId;var _13e=null,_13f;d.addOnWindowUnload(function(){_13e=null;});dojo._destroyElement=dojo.destroy=function(node){node=byId(node);try{var doc=node.ownerDocument;if(!_13e||_13f!=doc){_13e=doc.createElement("div");_13f=doc;}_13e.appendChild(node.parentNode?node.parentNode.removeChild(node):node);_13e.innerHTML="";}catch(e){}};dojo.isDescendant=function(node,_140){try{node=byId(node);_140=byId(_140);while(node){if(node==_140){return true;}node=node.parentNode;}}catch(e){}return false;};dojo.setSelectable=function(node,_141){node=byId(node);if(d.isMozilla){node.style.MozUserSelect=_141?"":"none";}else{if(d.isKhtml||d.isWebKit){node.style.KhtmlUserSelect=_141?"auto":"none";}else{if(d.isIE){var v=(node.unselectable=_141?"":"on");d.query("*",node).forEach("item.unselectable = '"+v+"'");}}}};var _142=function(node,ref){var _143=ref.parentNode;if(_143){_143.insertBefore(node,ref);}};var _144=function(node,ref){var _145=ref.parentNode;if(_145){if(_145.lastChild==ref){_145.appendChild(node);}else{_145.insertBefore(node,ref.nextSibling);}}};dojo.place=function(node,_146,_147){_146=byId(_146);if(typeof node=="string"){node=node.charAt(0)=="<"?d._toDom(node,_146.ownerDocument):byId(node);}if(typeof _147=="number"){var cn=_146.childNodes;if(!cn.length||cn.length<=_147){_146.appendChild(node);}else{_142(node,cn[_147<0?0:_147]);}}else{switch(_147){case "before":_142(node,_146);break;case "after":_144(node,_146);break;case "replace":_146.parentNode.replaceChild(node,_146);break;case "only":d.empty(_146);_146.appendChild(node);break;case "first":if(_146.firstChild){_142(node,_146.firstChild);break;}default:_146.appendChild(node);}}return node;};dojo.boxModel="content-box";if(d.isIE){d.boxModel=document.compatMode=="BackCompat"?"border-box":"content-box";}var gcs;if(d.isWebKit){gcs=function(node){var s;if(node.nodeType==1){var dv=node.ownerDocument.defaultView;s=dv.getComputedStyle(node,null);if(!s&&node.style){node.style.display="";s=dv.getComputedStyle(node,null);}}return s||{};};}else{if(d.isIE){gcs=function(node){return node.nodeType==1?node.currentStyle:{};};}else{gcs=function(node){return node.nodeType==1?node.ownerDocument.defaultView.getComputedStyle(node,null):{};};}}dojo.getComputedStyle=gcs;if(!d.isIE){d._toPixelValue=function(_148,_149){return parseFloat(_149)||0;};}else{d._toPixelValue=function(_14a,_14b){if(!_14b){return 0;}if(_14b=="medium"){return 4;}if(_14b.slice&&_14b.slice(-2)=="px"){return parseFloat(_14b);}with(_14a){var _14c=style.left;var _14d=runtimeStyle.left;runtimeStyle.left=currentStyle.left;try{style.left=_14b;_14b=style.pixelLeft;}catch(e){_14b=0;}style.left=_14c;runtimeStyle.left=_14d;}return _14b;};}var px=d._toPixelValue;var astr="DXImageTransform.Microsoft.Alpha";var af=function(n,f){try{return n.filters.item(astr);}catch(e){return f?{}:null;}};dojo._getOpacity=d.isIE?function(node){try{return af(node).Opacity/100;}catch(e){return 1;}}:function(node){return gcs(node).opacity;};dojo._setOpacity=d.isIE?function(node,_14e){var ov=_14e*100;node.style.zoom=1;af(node,1).Enabled=!(_14e==1);if(!af(node)){node.style.filter+=" progid:"+astr+"(Opacity="+ov+")";}else{af(node,1).Opacity=ov;}if(node.nodeName.toLowerCase()=="tr"){d.query("> td",node).forEach(function(i){d._setOpacity(i,_14e);});}return _14e;}:function(node,_14f){return node.style.opacity=_14f;};var _150={left:true,top:true};var _151=/margin|padding|width|height|max|min|offset/;var _152=function(node,type,_153){type=type.toLowerCase();if(d.isIE){if(_153=="auto"){if(type=="height"){return node.offsetHeight;}if(type=="width"){return node.offsetWidth;}}if(type=="fontweight"){switch(_153){case 700:return "bold";case 400:default:return "normal";}}}if(!(type in _150)){_150[type]=_151.test(type);}return _150[type]?px(node,_153):_153;};var _154=d.isIE?"styleFloat":"cssFloat",_155={"cssFloat":_154,"styleFloat":_154,"float":_154};dojo.style=function(node,_156,_157){var n=byId(node),args=arguments.length,op=(_156=="opacity");_156=_155[_156]||_156;if(args==3){return op?d._setOpacity(n,_157):n.style[_156]=_157;}if(args==2&&op){return d._getOpacity(n);}var s=gcs(n);if(args==2&&typeof _156!="string"){for(var x in _156){d.style(node,x,_156[x]);}return s;}return (args==1)?s:_152(n,_156,s[_156]||n.style[_156]);};dojo._getPadExtents=function(n,_158){var s=_158||gcs(n),l=px(n,s.paddingLeft),t=px(n,s.paddingTop);return {l:l,t:t,w:l+px(n,s.paddingRight),h:t+px(n,s.paddingBottom)};};dojo._getBorderExtents=function(n,_159){var ne="none",s=_159||gcs(n),bl=(s.borderLeftStyle!=ne?px(n,s.borderLeftWidth):0),bt=(s.borderTopStyle!=ne?px(n,s.borderTopWidth):0);return {l:bl,t:bt,w:bl+(s.borderRightStyle!=ne?px(n,s.borderRightWidth):0),h:bt+(s.borderBottomStyle!=ne?px(n,s.borderBottomWidth):0)};};dojo._getPadBorderExtents=function(n,_15a){var s=_15a||gcs(n),p=d._getPadExtents(n,s),b=d._getBorderExtents(n,s);return {l:p.l+b.l,t:p.t+b.t,w:p.w+b.w,h:p.h+b.h};};dojo._getMarginExtents=function(n,_15b){var s=_15b||gcs(n),l=px(n,s.marginLeft),t=px(n,s.marginTop),r=px(n,s.marginRight),b=px(n,s.marginBottom);if(d.isWebKit&&(s.position!="absolute")){r=l;}return {l:l,t:t,w:l+r,h:t+b};};dojo._getMarginBox=function(node,_15c){var s=_15c||gcs(node),me=d._getMarginExtents(node,s);var l=node.offsetLeft-me.l,t=node.offsetTop-me.t,p=node.parentNode;if(d.isMoz){var sl=parseFloat(s.left),st=parseFloat(s.top);if(!isNaN(sl)&&!isNaN(st)){l=sl,t=st;}else{if(p&&p.style){var pcs=gcs(p);if(pcs.overflow!="visible"){var be=d._getBorderExtents(p,pcs);l+=be.l,t+=be.t;}}}}else{if(d.isOpera||(d.isIE>7&&!d.isQuirks)){if(p){be=d._getBorderExtents(p);l-=be.l;t-=be.t;}}}return {l:l,t:t,w:node.offsetWidth+me.w,h:node.offsetHeight+me.h};};dojo._getContentBox=function(node,_15d){var s=_15d||gcs(node),pe=d._getPadExtents(node,s),be=d._getBorderExtents(node,s),w=node.clientWidth,h;if(!w){w=node.offsetWidth,h=node.offsetHeight;}else{h=node.clientHeight,be.w=be.h=0;}if(d.isOpera){pe.l+=be.l;pe.t+=be.t;}return {l:pe.l,t:pe.t,w:w-pe.w-be.w,h:h-pe.h-be.h};};dojo._getBorderBox=function(node,_15e){var s=_15e||gcs(node),pe=d._getPadExtents(node,s),cb=d._getContentBox(node,s);return {l:cb.l-pe.l,t:cb.t-pe.t,w:cb.w+pe.w,h:cb.h+pe.h};};dojo._setBox=function(node,l,t,w,h,u){u=u||"px";var s=node.style;if(!isNaN(l)){s.left=l+u;}if(!isNaN(t)){s.top=t+u;}if(w>=0){s.width=w+u;}if(h>=0){s.height=h+u;}};dojo._isButtonTag=function(node){return node.tagName=="BUTTON"||node.tagName=="INPUT"&&(node.getAttribute("type")||"").toUpperCase()=="BUTTON";};dojo._usesBorderBox=function(node){var n=node.tagName;return d.boxModel=="border-box"||n=="TABLE"||d._isButtonTag(node);};dojo._setContentSize=function(node,_15f,_160,_161){if(d._usesBorderBox(node)){var pb=d._getPadBorderExtents(node,_161);if(_15f>=0){_15f+=pb.w;}if(_160>=0){_160+=pb.h;}}d._setBox(node,NaN,NaN,_15f,_160);};dojo._setMarginBox=function(node,_162,_163,_164,_165,_166){var s=_166||gcs(node),bb=d._usesBorderBox(node),pb=bb?_167:d._getPadBorderExtents(node,s);if(d.isWebKit){if(d._isButtonTag(node)){var ns=node.style;if(_164>=0&&!ns.width){ns.width="4px";}if(_165>=0&&!ns.height){ns.height="4px";}}}var mb=d._getMarginExtents(node,s);if(_164>=0){_164=Math.max(_164-pb.w-mb.w,0);}if(_165>=0){_165=Math.max(_165-pb.h-mb.h,0);}d._setBox(node,_162,_163,_164,_165);};var _167={l:0,t:0,w:0,h:0};dojo.marginBox=function(node,box){var n=byId(node),s=gcs(n),b=box;return !b?d._getMarginBox(n,s):d._setMarginBox(n,b.l,b.t,b.w,b.h,s);};dojo.contentBox=function(node,box){var n=byId(node),s=gcs(n),b=box;return !b?d._getContentBox(n,s):d._setContentSize(n,b.w,b.h,s);};var _168=function(node,prop){if(!(node=(node||0).parentNode)){return 0;}var val,_169=0,_16a=d.body();while(node&&node.style){if(gcs(node).position=="fixed"){return 0;}val=node[prop];if(val){_169+=val-0;if(node==_16a){break;}}node=node.parentNode;}return _169;};dojo._docScroll=function(){var n=d.global;return "pageXOffset" in n?{x:n.pageXOffset,y:n.pageYOffset}:(n=d.doc.documentElement,n.clientHeight?{x:d._fixIeBiDiScrollLeft(n.scrollLeft),y:n.scrollTop}:(n=d.body(),{x:n.scrollLeft||0,y:n.scrollTop||0}));};dojo._isBodyLtr=function(){return "_bodyLtr" in d?d._bodyLtr:d._bodyLtr=(d.body().dir||d.doc.documentElement.dir||"ltr").toLowerCase()=="ltr";};dojo._getIeDocumentElementOffset=function(){var de=d.doc.documentElement;if(d.isIE<8){var r=de.getBoundingClientRect();var l=r.left,t=r.top;if(d.isIE<7){l+=de.clientLeft;t+=de.clientTop;}return {x:l<0?0:l,y:t<0?0:t};}else{return {x:0,y:0};}};dojo._fixIeBiDiScrollLeft=function(_16b){var dd=d.doc;if(d.isIE<8&&!d._isBodyLtr()){var de=d.isQuirks?dd.body:dd.documentElement;return _16b+de.clientWidth-de.scrollWidth;}return _16b;};dojo._abs=dojo.position=function(node,_16c){var db=d.body(),dh=db.parentNode,ret;node=byId(node);if(node["getBoundingClientRect"]){ret=node.getBoundingClientRect();ret={x:ret.left,y:ret.top,w:ret.right-ret.left,h:ret.bottom-ret.top};if(d.isIE){var _16d=d._getIeDocumentElementOffset();ret.x-=_16d.x+(d.isQuirks?db.clientLeft+db.offsetLeft:0);ret.y-=_16d.y+(d.isQuirks?db.clientTop+db.offsetTop:0);}else{if(d.isFF==3){var cs=gcs(dh);ret.x-=px(dh,cs.marginLeft)+px(dh,cs.borderLeftWidth);ret.y-=px(dh,cs.marginTop)+px(dh,cs.borderTopWidth);}}}else{ret={x:0,y:0,w:node.offsetWidth,h:node.offsetHeight};if(node["offsetParent"]){ret.x-=_168(node,"scrollLeft");ret.y-=_168(node,"scrollTop");var _16e=node;do{var n=_16e.offsetLeft,t=_16e.offsetTop;ret.x+=isNaN(n)?0:n;ret.y+=isNaN(t)?0:t;cs=gcs(_16e);if(_16e!=node){if(d.isMoz){ret.x+=2*px(_16e,cs.borderLeftWidth);ret.y+=2*px(_16e,cs.borderTopWidth);}else{ret.x+=px(_16e,cs.borderLeftWidth);ret.y+=px(_16e,cs.borderTopWidth);}}if(d.isMoz&&cs.position=="static"){var _16f=_16e.parentNode;while(_16f!=_16e.offsetParent){var pcs=gcs(_16f);if(pcs.position=="static"){ret.x+=px(_16e,pcs.borderLeftWidth);ret.y+=px(_16e,pcs.borderTopWidth);}_16f=_16f.parentNode;}}_16e=_16e.offsetParent;}while((_16e!=dh)&&_16e);}else{if(node.x&&node.y){ret.x+=isNaN(node.x)?0:node.x;ret.y+=isNaN(node.y)?0:node.y;}}}if(_16c){var _170=d._docScroll();ret.x+=_170.x;ret.y+=_170.y;}return ret;};dojo.coords=function(node,_171){var n=byId(node),s=gcs(n),mb=d._getMarginBox(n,s);var abs=d.position(n,_171);mb.x=abs.x;mb.y=abs.y;return mb;};var _172={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",valuetype:"valueType"},_173={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"},_174={innerHTML:1,className:1,htmlFor:d.isIE,value:1};var _175=function(name){return _173[name.toLowerCase()]||name;};var _176=function(node,name){var attr=node.getAttributeNode&&node.getAttributeNode(name);return attr&&attr.specified;};dojo.hasAttr=function(node,name){var lc=name.toLowerCase();return _174[_172[lc]||name]||_176(byId(node),_173[lc]||name);};var _177={},_178=0,_179=dojo._scopeName+"attrid",_17a={col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1};dojo.attr=function(node,name,_17b){node=byId(node);var args=arguments.length,prop;if(args==2&&typeof name!="string"){for(var x in name){d.attr(node,x,name[x]);}return node;}var lc=name.toLowerCase(),_17c=_172[lc]||name,_17d=_174[_17c],_17e=_173[lc]||name;if(args==3){do{if(_17c=="style"&&typeof _17b!="string"){d.style(node,_17b);break;}if(_17c=="innerHTML"){if(d.isIE&&node.tagName.toLowerCase() in _17a){d.empty(node);node.appendChild(d._toDom(_17b,node.ownerDocument));}else{node[_17c]=_17b;}break;}if(d.isFunction(_17b)){var _17f=d.attr(node,_179);if(!_17f){_17f=_178++;d.attr(node,_179,_17f);}if(!_177[_17f]){_177[_17f]={};}var h=_177[_17f][_17c];if(h){d.disconnect(h);}else{try{delete node[_17c];}catch(e){}}_177[_17f][_17c]=d.connect(node,_17c,_17b);break;}if(_17d||typeof _17b=="boolean"){node[_17c]=_17b;break;}node.setAttribute(_17e,_17b);}while(false);return node;}_17b=node[_17c];if(_17d&&typeof _17b!="undefined"){return _17b;}if(_17c!="href"&&(typeof _17b=="boolean"||d.isFunction(_17b))){return _17b;}return _176(node,_17e)?node.getAttribute(_17e):null;};dojo.removeAttr=function(node,name){byId(node).removeAttribute(_175(name));};dojo.getNodeProp=function(node,name){node=byId(node);var lc=name.toLowerCase(),_180=_172[lc]||name;if((_180 in node)&&_180!="href"){return node[_180];}var _181=_173[lc]||name;return _176(node,_181)?node.getAttribute(_181):null;};dojo.create=function(tag,_182,_183,pos){var doc=d.doc;if(_183){_183=byId(_183);doc=_183.ownerDocument;}if(typeof tag=="string"){tag=doc.createElement(tag);}if(_182){d.attr(tag,_182);}if(_183){d.place(tag,_183,pos);}return tag;};d.empty=d.isIE?function(node){node=byId(node);for(var c;c=node.lastChild;){d.destroy(c);}}:function(node){byId(node).innerHTML="";};var _184={option:["select"],tbody:["table"],thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},_185=/<\s*([\w\:]+)/,_186={},_187=0,_188="__"+d._scopeName+"ToDomId";for(var _189 in _184){var tw=_184[_189];tw.pre=_189=="option"?"<select multiple=\"multiple\">":"<"+tw.join("><")+">";tw.post="</"+tw.reverse().join("></")+">";}d._toDom=function(frag,doc){doc=doc||d.doc;var _18a=doc[_188];if(!_18a){doc[_188]=_18a=++_187+"";_186[_18a]=doc.createElement("div");}frag+="";var _18b=frag.match(_185),tag=_18b?_18b[1].toLowerCase():"",_18c=_186[_18a],wrap,i,fc,df;if(_18b&&_184[tag]){wrap=_184[tag];_18c.innerHTML=wrap.pre+frag+wrap.post;for(i=wrap.length;i;--i){_18c=_18c.firstChild;}}else{_18c.innerHTML=frag;}if(_18c.childNodes.length==1){return _18c.removeChild(_18c.firstChild);}df=doc.createDocumentFragment();while(fc=_18c.firstChild){df.appendChild(fc);}return df;};var _18d="className";dojo.hasClass=function(node,_18e){return ((" "+byId(node)[_18d]+" ").indexOf(" "+_18e+" ")>=0);};var _18f=/\s+/,a1=[""],_190=function(s){if(typeof s=="string"||s instanceof String){if(s.indexOf(" ")<0){a1[0]=s;return a1;}else{return s.split(_18f);}}return s;};dojo.addClass=function(node,_191){node=byId(node);_191=_190(_191);var cls=" "+node[_18d]+" ";for(var i=0,len=_191.length,c;i<len;++i){c=_191[i];if(c&&cls.indexOf(" "+c+" ")<0){cls+=c+" ";}}node[_18d]=d.trim(cls);};dojo.removeClass=function(node,_192){node=byId(node);var cls;if(_192!==undefined){_192=_190(_192);cls=" "+node[_18d]+" ";for(var i=0,len=_192.length;i<len;++i){cls=cls.replace(" "+_192[i]+" "," ");}cls=d.trim(cls);}else{cls="";}if(node[_18d]!=cls){node[_18d]=cls;}};dojo.toggleClass=function(node,_193,_194){if(_194===undefined){_194=!d.hasClass(node,_193);}d[_194?"addClass":"removeClass"](node,_193);};})();}if(!dojo._hasResource["dojo._base.NodeList"]){dojo._hasResource["dojo._base.NodeList"]=true;dojo.provide("dojo._base.NodeList");(function(){var d=dojo;var ap=Array.prototype,aps=ap.slice,apc=ap.concat;var tnl=function(a,_195,_196){if(!a.sort){a=aps.call(a,0);}var ctor=_196||this._NodeListCtor||d._NodeListCtor;a.constructor=ctor;dojo._mixin(a,ctor.prototype);a._NodeListCtor=ctor;return _195?a._stash(_195):a;};var _197=function(f,a,o){a=[0].concat(aps.call(a,0));o=o||d.global;return function(node){a[0]=node;return f.apply(o,a);};};var _198=function(f,o){return function(){this.forEach(_197(f,arguments,o));return this;};};var _199=function(f,o){return function(){return this.map(_197(f,arguments,o));};};var _19a=function(f,o){return function(){return this.filter(_197(f,arguments,o));};};var _19b=function(f,g,o){return function(){var a=arguments,body=_197(f,a,o);if(g.call(o||d.global,a)){return this.map(body);}this.forEach(body);return this;};};var _19c=function(a){return a.length==1&&(typeof a[0]=="string");};var _19d=function(node){var p=node.parentNode;if(p){p.removeChild(node);}};dojo.NodeList=function(){return tnl(Array.apply(null,arguments));};d._NodeListCtor=d.NodeList;var nl=d.NodeList,nlp=nl.prototype;nl._wrap=nlp._wrap=tnl;nl._adaptAsMap=_199;nl._adaptAsForEach=_198;nl._adaptAsFilter=_19a;nl._adaptWithCondition=_19b;d.forEach(["slice","splice"],function(name){var f=ap[name];nlp[name]=function(){return this._wrap(f.apply(this,arguments),name=="slice"?this:null);};});d.forEach(["indexOf","lastIndexOf","every","some"],function(name){var f=d[name];nlp[name]=function(){return f.apply(d,[this].concat(aps.call(arguments,0)));};});d.forEach(["attr","style"],function(name){nlp[name]=_19b(d[name],_19c);});d.forEach(["connect","addClass","removeClass","toggleClass","empty","removeAttr"],function(name){nlp[name]=_198(d[name]);});dojo.extend(dojo.NodeList,{_normalize:function(_19e,_19f){var _1a0=_19e.parse===true?true:false;if(typeof _19e.template=="string"){var _1a1=_19e.templateFunc||(dojo.string&&dojo.string.substitute);_19e=_1a1?_1a1(_19e.template,_19e):_19e;}var type=(typeof _19e);if(type=="string"||type=="number"){_19e=dojo._toDom(_19e,(_19f&&_19f.ownerDocument));if(_19e.nodeType==11){_19e=dojo._toArray(_19e.childNodes);}else{_19e=[_19e];}}else{if(!dojo.isArrayLike(_19e)){_19e=[_19e];}else{if(!dojo.isArray(_19e)){_19e=dojo._toArray(_19e);}}}if(_1a0){_19e._runParse=true;}return _19e;},_cloneNode:function(node){return node.cloneNode(true);},_place:function(ary,_1a2,_1a3,_1a4){if(_1a2.nodeType!=1&&_1a3=="only"){return;}var _1a5=_1a2,_1a6;var _1a7=ary.length;for(var i=_1a7-1;i>=0;i--){var node=(_1a4?this._cloneNode(ary[i]):ary[i]);if(ary._runParse&&dojo.parser&&dojo.parser.parse){if(!_1a6){_1a6=_1a5.ownerDocument.createElement("div");}_1a6.appendChild(node);dojo.parser.parse(_1a6);node=_1a6.firstChild;while(_1a6.firstChild){_1a6.removeChild(_1a6.firstChild);}}if(i==_1a7-1){dojo.place(node,_1a5,_1a3);}else{_1a5.parentNode.insertBefore(node,_1a5);}_1a5=node;}},_stash:function(_1a8){this._parent=_1a8;return this;},end:function(){if(this._parent){return this._parent;}else{return new this._NodeListCtor();}},concat:function(item){var t=d.isArray(this)?this:aps.call(this,0),m=d.map(arguments,function(a){return a&&!d.isArray(a)&&(typeof NodeList!="undefined"&&a.constructor===NodeList||a.constructor===this._NodeListCtor)?aps.call(a,0):a;});return this._wrap(apc.apply(t,m),this);},map:function(func,obj){return this._wrap(d.map(this,func,obj),this);},forEach:function(_1a9,_1aa){d.forEach(this,_1a9,_1aa);return this;},coords:_199(d.coords),position:_199(d.position),place:function(_1ab,_1ac){var item=d.query(_1ab)[0];return this.forEach(function(node){d.place(node,item,_1ac);});},orphan:function(_1ad){return (_1ad?d._filterQueryResult(this,_1ad):this).forEach(_19d);},adopt:function(_1ae,_1af){return d.query(_1ae).place(this[0],_1af)._stash(this);},query:function(_1b0){if(!_1b0){return this;}var ret=this.map(function(node){return d.query(_1b0,node).filter(function(_1b1){return _1b1!==undefined;});});return this._wrap(apc.apply([],ret),this);},filter:function(_1b2){var a=arguments,_1b3=this,_1b4=0;if(typeof _1b2=="string"){_1b3=d._filterQueryResult(this,a[0]);if(a.length==1){return _1b3._stash(this);}_1b4=1;}return this._wrap(d.filter(_1b3,a[_1b4],a[_1b4+1]),this);},addContent:function(_1b5,_1b6){_1b5=this._normalize(_1b5,this[0]);for(var i=0,node;node=this[i];i++){this._place(_1b5,node,_1b6,i>0);}return this;},instantiate:function(_1b7,_1b8){var c=d.isFunction(_1b7)?_1b7:d.getObject(_1b7);_1b8=_1b8||{};return this.forEach(function(node){new c(_1b8,node);});},at:function(){var t=new this._NodeListCtor();d.forEach(arguments,function(i){if(this[i]){t.push(this[i]);}},this);return t._stash(this);}});nl.events=["blur","focus","change","click","error","keydown","keypress","keyup","load","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","submit"];d.forEach(nl.events,function(evt){var _1b9="on"+evt;nlp[_1b9]=function(a,b){return this.connect(_1b9,a,b);};});})();}if(!dojo._hasResource["dojo._base.query"]){dojo._hasResource["dojo._base.query"]=true;if(typeof dojo!="undefined"){dojo.provide("dojo._base.query");}(function(d){var trim=d.trim;var each=d.forEach;var qlc=d._NodeListCtor=d.NodeList;var _1ba=function(){return d.doc;};var _1bb=((d.isWebKit||d.isMozilla)&&((_1ba().compatMode)=="BackCompat"));var _1bc=!!_1ba().firstChild["children"]?"children":"childNodes";var _1bd=">~+";var _1be=false;var _1bf=function(){return true;};var _1c0=function(_1c1){if(_1bd.indexOf(_1c1.slice(-1))>=0){_1c1+=" * ";}else{_1c1+=" ";}var ts=function(s,e){return trim(_1c1.slice(s,e));};var _1c2=[];var _1c3=-1,_1c4=-1,_1c5=-1,_1c6=-1,_1c7=-1,inId=-1,_1c8=-1,lc="",cc="",_1c9;var x=0,ql=_1c1.length,_1ca=null,_1cb=null;var _1cc=function(){if(_1c8>=0){var tv=(_1c8==x)?null:ts(_1c8,x);_1ca[(_1bd.indexOf(tv)<0)?"tag":"oper"]=tv;_1c8=-1;}};var _1cd=function(){if(inId>=0){_1ca.id=ts(inId,x).replace(/\\/g,"");inId=-1;}};var _1ce=function(){if(_1c7>=0){_1ca.classes.push(ts(_1c7+1,x).replace(/\\/g,""));_1c7=-1;}};var _1cf=function(){_1cd();_1cc();_1ce();};var _1d0=function(){_1cf();if(_1c6>=0){_1ca.pseudos.push({name:ts(_1c6+1,x)});}_1ca.loops=(_1ca.pseudos.length||_1ca.attrs.length||_1ca.classes.length);_1ca.oquery=_1ca.query=ts(_1c9,x);_1ca.otag=_1ca.tag=(_1ca["oper"])?null:(_1ca.tag||"*");if(_1ca.tag){_1ca.tag=_1ca.tag.toUpperCase();}if(_1c2.length&&(_1c2[_1c2.length-1].oper)){_1ca.infixOper=_1c2.pop();_1ca.query=_1ca.infixOper.query+" "+_1ca.query;}_1c2.push(_1ca);_1ca=null;};for(;lc=cc,cc=_1c1.charAt(x),x<ql;x++){if(lc=="\\"){continue;}if(!_1ca){_1c9=x;_1ca={query:null,pseudos:[],attrs:[],classes:[],tag:null,oper:null,id:null,getTag:function(){return (_1be)?this.otag:this.tag;}};_1c8=x;}if(_1c3>=0){if(cc=="]"){if(!_1cb.attr){_1cb.attr=ts(_1c3+1,x);}else{_1cb.matchFor=ts((_1c5||_1c3+1),x);}var cmf=_1cb.matchFor;if(cmf){if((cmf.charAt(0)=="\"")||(cmf.charAt(0)=="'")){_1cb.matchFor=cmf.slice(1,-1);}}_1ca.attrs.push(_1cb);_1cb=null;_1c3=_1c5=-1;}else{if(cc=="="){var _1d1=("|~^$*".indexOf(lc)>=0)?lc:"";_1cb.type=_1d1+cc;_1cb.attr=ts(_1c3+1,x-_1d1.length);_1c5=x+1;}}}else{if(_1c4>=0){if(cc==")"){if(_1c6>=0){_1cb.value=ts(_1c4+1,x);}_1c6=_1c4=-1;}}else{if(cc=="#"){_1cf();inId=x+1;}else{if(cc=="."){_1cf();_1c7=x;}else{if(cc==":"){_1cf();_1c6=x;}else{if(cc=="["){_1cf();_1c3=x;_1cb={};}else{if(cc=="("){if(_1c6>=0){_1cb={name:ts(_1c6+1,x),value:null};_1ca.pseudos.push(_1cb);}_1c4=x;}else{if((cc==" ")&&(lc!=cc)){_1d0();}}}}}}}}}return _1c2;};var _1d2=function(_1d3,_1d4){if(!_1d3){return _1d4;}if(!_1d4){return _1d3;}return function(){return _1d3.apply(window,arguments)&&_1d4.apply(window,arguments);};};var _1d5=function(i,arr){var r=arr||[];if(i){r.push(i);}return r;};var _1d6=function(n){return (1==n.nodeType);};var _1d7="";var _1d8=function(elem,attr){if(!elem){return _1d7;}if(attr=="class"){return elem.className||_1d7;}if(attr=="for"){return elem.htmlFor||_1d7;}if(attr=="style"){return elem.style.cssText||_1d7;}return (_1be?elem.getAttribute(attr):elem.getAttribute(attr,2))||_1d7;};var _1d9={"*=":function(attr,_1da){return function(elem){return (_1d8(elem,attr).indexOf(_1da)>=0);};},"^=":function(attr,_1db){return function(elem){return (_1d8(elem,attr).indexOf(_1db)==0);};},"$=":function(attr,_1dc){var tval=" "+_1dc;return function(elem){var ea=" "+_1d8(elem,attr);return (ea.lastIndexOf(_1dc)==(ea.length-_1dc.length));};},"~=":function(attr,_1dd){var tval=" "+_1dd+" ";return function(elem){var ea=" "+_1d8(elem,attr)+" ";return (ea.indexOf(tval)>=0);};},"|=":function(attr,_1de){var _1df=" "+_1de+"-";return function(elem){var ea=" "+_1d8(elem,attr);return ((ea==_1de)||(ea.indexOf(_1df)==0));};},"=":function(attr,_1e0){return function(elem){return (_1d8(elem,attr)==_1e0);};}};var _1e1=(typeof _1ba().firstChild.nextElementSibling=="undefined");var _1e2=!_1e1?"nextElementSibling":"nextSibling";var _1e3=!_1e1?"previousElementSibling":"previousSibling";var _1e4=(_1e1?_1d6:_1bf);var _1e5=function(node){while(node=node[_1e3]){if(_1e4(node)){return false;}}return true;};var _1e6=function(node){while(node=node[_1e2]){if(_1e4(node)){return false;}}return true;};var _1e7=function(node){var root=node.parentNode;var i=0,tret=root[_1bc],ci=(node["_i"]||-1),cl=(root["_l"]||-1);if(!tret){return -1;}var l=tret.length;if(cl==l&&ci>=0&&cl>=0){return ci;}root["_l"]=l;ci=-1;for(var te=root["firstElementChild"]||root["firstChild"];te;te=te[_1e2]){if(_1e4(te)){te["_i"]=++i;if(node===te){ci=i;}}}return ci;};var _1e8=function(elem){return !((_1e7(elem))%2);};var _1e9=function(elem){return ((_1e7(elem))%2);};var _1ea={"checked":function(name,_1eb){return function(elem){return !!("checked" in elem?elem.checked:elem.selected);};},"first-child":function(){return _1e5;},"last-child":function(){return _1e6;},"only-child":function(name,_1ec){return function(node){if(!_1e5(node)){return false;}if(!_1e6(node)){return false;}return true;};},"empty":function(name,_1ed){return function(elem){var cn=elem.childNodes;var cnl=elem.childNodes.length;for(var x=cnl-1;x>=0;x--){var nt=cn[x].nodeType;if((nt===1)||(nt==3)){return false;}}return true;};},"contains":function(name,_1ee){var cz=_1ee.charAt(0);if(cz=="\""||cz=="'"){_1ee=_1ee.slice(1,-1);}return function(elem){return (elem.innerHTML.indexOf(_1ee)>=0);};},"not":function(name,_1ef){var p=_1c0(_1ef)[0];var _1f0={el:1};if(p.tag!="*"){_1f0.tag=1;}if(!p.classes.length){_1f0.classes=1;}var ntf=_1f1(p,_1f0);return function(elem){return (!ntf(elem));};},"nth-child":function(name,_1f2){var pi=parseInt;if(_1f2=="odd"){return _1e9;}else{if(_1f2=="even"){return _1e8;}}if(_1f2.indexOf("n")!=-1){var _1f3=_1f2.split("n",2);var pred=_1f3[0]?((_1f3[0]=="-")?-1:pi(_1f3[0])):1;var idx=_1f3[1]?pi(_1f3[1]):0;var lb=0,ub=-1;if(pred>0){if(idx<0){idx=(idx%pred)&&(pred+(idx%pred));}else{if(idx>0){if(idx>=pred){lb=idx-idx%pred;}idx=idx%pred;}}}else{if(pred<0){pred*=-1;if(idx>0){ub=idx;idx=idx%pred;}}}if(pred>0){return function(elem){var i=_1e7(elem);return (i>=lb)&&(ub<0||i<=ub)&&((i%pred)==idx);};}else{_1f2=idx;}}var _1f4=pi(_1f2);return function(elem){return (_1e7(elem)==_1f4);};}};var _1f5=(d.isIE)?function(cond){var clc=cond.toLowerCase();if(clc=="class"){cond="className";}return function(elem){return (_1be?elem.getAttribute(cond):elem[cond]||elem[clc]);};}:function(cond){return function(elem){return (elem&&elem.getAttribute&&elem.hasAttribute(cond));};};var _1f1=function(_1f6,_1f7){if(!_1f6){return _1bf;}_1f7=_1f7||{};var ff=null;if(!("el" in _1f7)){ff=_1d2(ff,_1d6);}if(!("tag" in _1f7)){if(_1f6.tag!="*"){ff=_1d2(ff,function(elem){return (elem&&(elem.tagName==_1f6.getTag()));});}}if(!("classes" in _1f7)){each(_1f6.classes,function(_1f8,idx,arr){var re=new RegExp("(?:^|\\s)"+_1f8+"(?:\\s|$)");ff=_1d2(ff,function(elem){return re.test(elem.className);});ff.count=idx;});}if(!("pseudos" in _1f7)){each(_1f6.pseudos,function(_1f9){var pn=_1f9.name;if(_1ea[pn]){ff=_1d2(ff,_1ea[pn](pn,_1f9.value));}});}if(!("attrs" in _1f7)){each(_1f6.attrs,function(attr){var _1fa;var a=attr.attr;if(attr.type&&_1d9[attr.type]){_1fa=_1d9[attr.type](a,attr.matchFor);}else{if(a.length){_1fa=_1f5(a);}}if(_1fa){ff=_1d2(ff,_1fa);}});}if(!("id" in _1f7)){if(_1f6.id){ff=_1d2(ff,function(elem){return (!!elem&&(elem.id==_1f6.id));});}}if(!ff){if(!("default" in _1f7)){ff=_1bf;}}return ff;};var _1fb=function(_1fc){return function(node,ret,bag){while(node=node[_1e2]){if(_1e1&&(!_1d6(node))){continue;}if((!bag||_1fd(node,bag))&&_1fc(node)){ret.push(node);}break;}return ret;};};var _1fe=function(_1ff){return function(root,ret,bag){var te=root[_1e2];while(te){if(_1e4(te)){if(bag&&!_1fd(te,bag)){break;}if(_1ff(te)){ret.push(te);}}te=te[_1e2];}return ret;};};var _200=function(_201){_201=_201||_1bf;return function(root,ret,bag){var te,x=0,tret=root[_1bc];while(te=tret[x++]){if(_1e4(te)&&(!bag||_1fd(te,bag))&&(_201(te,x))){ret.push(te);}}return ret;};};var _202=function(node,root){var pn=node.parentNode;while(pn){if(pn==root){break;}pn=pn.parentNode;}return !!pn;};var _203={};var _204=function(_205){var _206=_203[_205.query];if(_206){return _206;}var io=_205.infixOper;var oper=(io?io.oper:"");var _207=_1f1(_205,{el:1});var qt=_205.tag;var _208=("*"==qt);var ecs=_1ba()["getElementsByClassName"];if(!oper){if(_205.id){_207=(!_205.loops&&_208)?_1bf:_1f1(_205,{el:1,id:1});_206=function(root,arr){var te=d.byId(_205.id,(root.ownerDocument||root));if(!te||!_207(te)){return;}if(9==root.nodeType){return _1d5(te,arr);}else{if(_202(te,root)){return _1d5(te,arr);}}};}else{if(ecs&&/\{\s*\[native code\]\s*\}/.test(String(ecs))&&_205.classes.length&&!_1bb){_207=_1f1(_205,{el:1,classes:1,id:1});var _209=_205.classes.join(" ");_206=function(root,arr,bag){var ret=_1d5(0,arr),te,x=0;var tret=root.getElementsByClassName(_209);while((te=tret[x++])){if(_207(te,root)&&_1fd(te,bag)){ret.push(te);}}return ret;};}else{if(!_208&&!_205.loops){_206=function(root,arr,bag){var ret=_1d5(0,arr),te,x=0;var tret=root.getElementsByTagName(_205.getTag());while((te=tret[x++])){if(_1fd(te,bag)){ret.push(te);}}return ret;};}else{_207=_1f1(_205,{el:1,tag:1,id:1});_206=function(root,arr,bag){var ret=_1d5(0,arr),te,x=0;var tret=root.getElementsByTagName(_205.getTag());while((te=tret[x++])){if(_207(te,root)&&_1fd(te,bag)){ret.push(te);}}return ret;};}}}}else{var _20a={el:1};if(_208){_20a.tag=1;}_207=_1f1(_205,_20a);if("+"==oper){_206=_1fb(_207);}else{if("~"==oper){_206=_1fe(_207);}else{if(">"==oper){_206=_200(_207);}}}}return _203[_205.query]=_206;};var _20b=function(root,_20c){var _20d=_1d5(root),qp,x,te,qpl=_20c.length,bag,ret;for(var i=0;i<qpl;i++){ret=[];qp=_20c[i];x=_20d.length-1;if(x>0){bag={};ret.nozip=true;}var gef=_204(qp);for(var j=0;(te=_20d[j]);j++){gef(te,ret,bag);}if(!ret.length){break;}_20d=ret;}return ret;};var _20e={},_20f={};var _210=function(_211){var _212=_1c0(trim(_211));if(_212.length==1){var tef=_204(_212[0]);return function(root){var r=tef(root,new qlc());if(r){r.nozip=true;}return r;};}return function(root){return _20b(root,_212);};};var nua=navigator.userAgent;var wk="WebKit/";var _213=(d.isWebKit&&(nua.indexOf(wk)>0)&&(parseFloat(nua.split(wk)[1])>528));var _214=d.isIE?"commentStrip":"nozip";var qsa="querySelectorAll";var _215=(!!_1ba()[qsa]&&(!d.isSafari||(d.isSafari>3.1)||_213));var _216=/n\+\d|([^ ])?([>~+])([^ =])?/g;var _217=function(_218,pre,ch,post){return ch?(pre?pre+" ":"")+ch+(post?" "+post:""):_218;};var _219=function(_21a,_21b){_21a=_21a.replace(_216,_217);if(_215){var _21c=_20f[_21a];if(_21c&&!_21b){return _21c;}}var _21d=_20e[_21a];if(_21d){return _21d;}var qcz=_21a.charAt(0);var _21e=(-1==_21a.indexOf(" "));if((_21a.indexOf("#")>=0)&&(_21e)){_21b=true;}var _21f=(_215&&(!_21b)&&(_1bd.indexOf(qcz)==-1)&&(!d.isIE||(_21a.indexOf(":")==-1))&&(!(_1bb&&(_21a.indexOf(".")>=0)))&&(_21a.indexOf(":contains")==-1)&&(_21a.indexOf(":checked")==-1)&&(_21a.indexOf("|=")==-1));if(_21f){var tq=(_1bd.indexOf(_21a.charAt(_21a.length-1))>=0)?(_21a+" *"):_21a;return _20f[_21a]=function(root){try{if(!((9==root.nodeType)||_21e)){throw "";}var r=root[qsa](tq);r[_214]=true;return r;}catch(e){return _219(_21a,true)(root);}};}else{var _220=_21a.split(/\s*,\s*/);return _20e[_21a]=((_220.length<2)?_210(_21a):function(root){var _221=0,ret=[],tp;while((tp=_220[_221++])){ret=ret.concat(_210(tp)(root));}return ret;});}};var _222=0;var _223=d.isIE?function(node){if(_1be){return (node.getAttribute("_uid")||node.setAttribute("_uid",++_222)||_222);}else{return node.uniqueID;}}:function(node){return (node._uid||(node._uid=++_222));};var _1fd=function(node,bag){if(!bag){return 1;}var id=_223(node);if(!bag[id]){return bag[id]=1;}return 0;};var _224="_zipIdx";var _225=function(arr){if(arr&&arr.nozip){return (qlc._wrap)?qlc._wrap(arr):arr;}var ret=new qlc();if(!arr||!arr.length){return ret;}if(arr[0]){ret.push(arr[0]);}if(arr.length<2){return ret;}_222++;if(d.isIE&&_1be){var _226=_222+"";arr[0].setAttribute(_224,_226);for(var x=1,te;te=arr[x];x++){if(arr[x].getAttribute(_224)!=_226){ret.push(te);}te.setAttribute(_224,_226);}}else{if(d.isIE&&arr.commentStrip){try{for(var x=1,te;te=arr[x];x++){if(_1d6(te)){ret.push(te);}}}catch(e){}}else{if(arr[0]){arr[0][_224]=_222;}for(var x=1,te;te=arr[x];x++){if(arr[x][_224]!=_222){ret.push(te);}te[_224]=_222;}}}return ret;};d.query=function(_227,root){qlc=d._NodeListCtor;if(!_227){return new qlc();}if(_227.constructor==qlc){return _227;}if(typeof _227!="string"){return new qlc(_227);}if(typeof root=="string"){root=d.byId(root);if(!root){return new qlc();}}root=root||_1ba();var od=root.ownerDocument||root.documentElement;_1be=(root.contentType&&root.contentType=="application/xml")||(d.isOpera&&(root.doctype||od.toString()=="[object XMLDocument]"))||(!!od)&&(d.isIE?od.xml:(root.xmlVersion||od.xmlVersion));var r=_219(_227)(root);if(r&&r.nozip&&!qlc._wrap){return r;}return _225(r);};d.query.pseudos=_1ea;d._filterQueryResult=function(_228,_229){var _22a=new d._NodeListCtor();var _22b=_1f1(_1c0(_229)[0]);for(var x=0,te;te=_228[x];x++){if(_22b(te)){_22a.push(te);}}return _22a;};})(this["queryPortability"]||this["acme"]||dojo);}if(!dojo._hasResource["dojo._base.xhr"]){dojo._hasResource["dojo._base.xhr"]=true;dojo.provide("dojo._base.xhr");(function(){var _22c=dojo,cfg=_22c.config;function _22d(obj,name,_22e){if(_22e===null){return;}var val=obj[name];if(typeof val=="string"){obj[name]=[val,_22e];}else{if(_22c.isArray(val)){val.push(_22e);}else{obj[name]=_22e;}}};dojo.fieldToObject=function(_22f){var ret=null;var item=_22c.byId(_22f);if(item){var _230=item.name;var type=(item.type||"").toLowerCase();if(_230&&type&&!item.disabled){if(type=="radio"||type=="checkbox"){if(item.checked){ret=item.value;}}else{if(item.multiple){ret=[];_22c.query("option",item).forEach(function(opt){if(opt.selected){ret.push(opt.value);}});}else{ret=item.value;}}}}return ret;};dojo.formToObject=function(_231){var ret={};var _232="file|submit|image|reset|button|";_22c.forEach(dojo.byId(_231).elements,function(item){var _233=item.name;var type=(item.type||"").toLowerCase();if(_233&&type&&_232.indexOf(type)==-1&&!item.disabled){_22d(ret,_233,_22c.fieldToObject(item));if(type=="image"){ret[_233+".x"]=ret[_233+".y"]=ret[_233].x=ret[_233].y=0;}}});return ret;};dojo.objectToQuery=function(map){var enc=encodeURIComponent;var _234=[];var _235={};for(var name in map){var _236=map[name];if(_236!=_235[name]){var _237=enc(name)+"=";if(_22c.isArray(_236)){for(var i=0;i<_236.length;i++){_234.push(_237+enc(_236[i]));}}else{_234.push(_237+enc(_236));}}}return _234.join("&");};dojo.formToQuery=function(_238){return _22c.objectToQuery(_22c.formToObject(_238));};dojo.formToJson=function(_239,_23a){return _22c.toJson(_22c.formToObject(_239),_23a);};dojo.queryToObject=function(str){var ret={};var qp=str.split("&");var dec=decodeURIComponent;_22c.forEach(qp,function(item){if(item.length){var _23b=item.split("=");var name=dec(_23b.shift());var val=dec(_23b.join("="));if(typeof ret[name]=="string"){ret[name]=[ret[name]];}if(_22c.isArray(ret[name])){ret[name].push(val);}else{ret[name]=val;}}});return ret;};dojo._blockAsync=false;var _23c=_22c._contentHandlers=dojo.contentHandlers={text:function(xhr){return xhr.responseText;},json:function(xhr){return _22c.fromJson(xhr.responseText||null);},"json-comment-filtered":function(xhr){if(!dojo.config.useCommentedJson){console.warn("Consider using the standard mimetype:application/json."+" json-commenting can introduce security issues. To"+" decrease the chances of hijacking, use the standard the 'json' handler and"+" prefix your json with: {}&&\n"+"Use djConfig.useCommentedJson=true to turn off this message.");}var _23d=xhr.responseText;var _23e=_23d.indexOf("/*");var _23f=_23d.lastIndexOf("*/");if(_23e==-1||_23f==-1){throw new Error("JSON was not comment filtered");}return _22c.fromJson(_23d.substring(_23e+2,_23f));},javascript:function(xhr){return _22c.eval(xhr.responseText);},xml:function(xhr){var _240=xhr.responseXML;if(_22c.isIE&&(!_240||!_240.documentElement)){var ms=function(n){return "MSXML"+n+".DOMDocument";};var dp=["Microsoft.XMLDOM",ms(6),ms(4),ms(3),ms(2)];_22c.some(dp,function(p){try{var dom=new ActiveXObject(p);dom.async=false;dom.loadXML(xhr.responseText);_240=dom;}catch(e){return false;}return true;});}return _240;},"json-comment-optional":function(xhr){if(xhr.responseText&&/^[^{\[]*\/\*/.test(xhr.responseText)){return _23c["json-comment-filtered"](xhr);}else{return _23c["json"](xhr);}}};dojo._ioSetArgs=function(args,_241,_242,_243){var _244={args:args,url:args.url};var _245=null;if(args.form){var form=_22c.byId(args.form);var _246=form.getAttributeNode("action");_244.url=_244.url||(_246?_246.value:null);_245=_22c.formToObject(form);}var _247=[{}];if(_245){_247.push(_245);}if(args.content){_247.push(args.content);}if(args.preventCache){_247.push({"dojo.preventCache":new Date().valueOf()});}_244.query=_22c.objectToQuery(_22c.mixin.apply(null,_247));_244.handleAs=args.handleAs||"text";var d=new _22c.Deferred(_241);d.addCallbacks(_242,function(_248){return _243(_248,d);});var ld=args.load;if(ld&&_22c.isFunction(ld)){d.addCallback(function(_249){return ld.call(args,_249,_244);});}var err=args.error;if(err&&_22c.isFunction(err)){d.addErrback(function(_24a){return err.call(args,_24a,_244);});}var _24b=args.handle;if(_24b&&_22c.isFunction(_24b)){d.addBoth(function(_24c){return _24b.call(args,_24c,_244);});}if(cfg.ioPublish&&_22c.publish&&_244.args.ioPublish!==false){d.addCallbacks(function(res){_22c.publish("/dojo/io/load",[d,res]);return res;},function(res){_22c.publish("/dojo/io/error",[d,res]);return res;});d.addBoth(function(res){_22c.publish("/dojo/io/done",[d,res]);return res;});}d.ioArgs=_244;return d;};var _24d=function(dfd){dfd.canceled=true;var xhr=dfd.ioArgs.xhr;var _24e=typeof xhr.abort;if(_24e=="function"||_24e=="object"||_24e=="unknown"){xhr.abort();}var err=dfd.ioArgs.error;if(!err){err=new Error("xhr cancelled");err.dojoType="cancel";}return err;};var _24f=function(dfd){var ret=_23c[dfd.ioArgs.handleAs](dfd.ioArgs.xhr);return ret===undefined?null:ret;};var _250=function(_251,dfd){if(!dfd.ioArgs.args.failOk){console.error(_251);}return _251;};var _252=null;var _253=[];var _254=0;var _255=function(dfd){if(_254<=0){_254=0;if(cfg.ioPublish&&_22c.publish&&(!dfd||dfd&&dfd.ioArgs.args.ioPublish!==false)){_22c.publish("/dojo/io/stop");}}};var _256=function(){var now=(new Date()).getTime();if(!_22c._blockAsync){for(var i=0,tif;i<_253.length&&(tif=_253[i]);i++){var dfd=tif.dfd;var func=function(){if(!dfd||dfd.canceled||!tif.validCheck(dfd)){_253.splice(i--,1);_254-=1;}else{if(tif.ioCheck(dfd)){_253.splice(i--,1);tif.resHandle(dfd);_254-=1;}else{if(dfd.startTime){if(dfd.startTime+(dfd.ioArgs.args.timeout||0)<now){_253.splice(i--,1);var err=new Error("timeout exceeded");err.dojoType="timeout";dfd.errback(err);dfd.cancel();_254-=1;}}}}};if(dojo.config.debugAtAllCosts){func.call(this);}else{try{func.call(this);}catch(e){dfd.errback(e);}}}}_255(dfd);if(!_253.length){clearInterval(_252);_252=null;return;}};dojo._ioCancelAll=function(){try{_22c.forEach(_253,function(i){try{i.dfd.cancel();}catch(e){}});}catch(e){}};if(_22c.isIE){_22c.addOnWindowUnload(_22c._ioCancelAll);}_22c._ioNotifyStart=function(dfd){if(cfg.ioPublish&&_22c.publish&&dfd.ioArgs.args.ioPublish!==false){if(!_254){_22c.publish("/dojo/io/start");}_254+=1;_22c.publish("/dojo/io/send",[dfd]);}};_22c._ioWatch=function(dfd,_257,_258,_259){var args=dfd.ioArgs.args;if(args.timeout){dfd.startTime=(new Date()).getTime();}_253.push({dfd:dfd,validCheck:_257,ioCheck:_258,resHandle:_259});if(!_252){_252=setInterval(_256,50);}if(args.sync){_256();}};var _25a="application/x-www-form-urlencoded";var _25b=function(dfd){return dfd.ioArgs.xhr.readyState;};var _25c=function(dfd){return 4==dfd.ioArgs.xhr.readyState;};var _25d=function(dfd){var xhr=dfd.ioArgs.xhr;if(_22c._isDocumentOk(xhr)){dfd.callback(dfd);}else{var err=new Error("Unable to load "+dfd.ioArgs.url+" status:"+xhr.status);err.status=xhr.status;err.responseText=xhr.responseText;dfd.errback(err);}};dojo._ioAddQueryToUrl=function(_25e){if(_25e.query.length){_25e.url+=(_25e.url.indexOf("?")==-1?"?":"&")+_25e.query;_25e.query=null;}};dojo.xhr=function(_25f,args,_260){var dfd=_22c._ioSetArgs(args,_24d,_24f,_250);var _261=dfd.ioArgs;var xhr=_261.xhr=_22c._xhrObj(_261.args);if(!xhr){dfd.cancel();return dfd;}if("postData" in args){_261.query=args.postData;}else{if("putData" in args){_261.query=args.putData;}else{if("rawBody" in args){_261.query=args.rawBody;}else{if((arguments.length>2&&!_260)||"POST|PUT".indexOf(_25f.toUpperCase())==-1){_22c._ioAddQueryToUrl(_261);}}}}xhr.open(_25f,_261.url,args.sync!==true,args.user||undefined,args.password||undefined);if(args.headers){for(var hdr in args.headers){if(hdr.toLowerCase()==="content-type"&&!args.contentType){args.contentType=args.headers[hdr];}else{if(args.headers[hdr]){xhr.setRequestHeader(hdr,args.headers[hdr]);}}}}xhr.setRequestHeader("Content-Type",args.contentType||_25a);if(!args.headers||!("X-Requested-With" in args.headers)){xhr.setRequestHeader("X-Requested-With","XMLHttpRequest");}_22c._ioNotifyStart(dfd);if(dojo.config.debugAtAllCosts){xhr.send(_261.query);}else{try{xhr.send(_261.query);}catch(e){_261.error=e;dfd.cancel();}}_22c._ioWatch(dfd,_25b,_25c,_25d);xhr=null;return dfd;};dojo.xhrGet=function(args){return _22c.xhr("GET",args);};dojo.rawXhrPost=dojo.xhrPost=function(args){return _22c.xhr("POST",args,true);};dojo.rawXhrPut=dojo.xhrPut=function(args){return _22c.xhr("PUT",args,true);};dojo.xhrDelete=function(args){return _22c.xhr("DELETE",args);};})();}if(!dojo._hasResource["dojo._base.fx"]){dojo._hasResource["dojo._base.fx"]=true;dojo.provide("dojo._base.fx");(function(){var d=dojo;var _262=d._mixin;dojo._Line=function(_263,end){this.start=_263;this.end=end;};dojo._Line.prototype.getValue=function(n){return ((this.end-this.start)*n)+this.start;};dojo.Animation=function(args){_262(this,args);if(d.isArray(this.curve)){this.curve=new d._Line(this.curve[0],this.curve[1]);}};d._Animation=d.Animation;d.extend(dojo.Animation,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var _264=this._percent,_265=this.easing;return _265?_265(_264):_264;},_fire:function(evt,args){var a=args||[];if(this[evt]){if(d.config.debugAtAllCosts){this[evt].apply(this,a);}else{try{this[evt].apply(this,a);}catch(e){console.error("exception in animation handler for:",evt);console.error(e);}}}return this;},play:function(_266,_267){var _268=this;if(_268._delayTimer){_268._clearTimer();}if(_267){_268._stopTimer();_268._active=_268._paused=false;_268._percent=0;}else{if(_268._active&&!_268._paused){return _268;}}_268._fire("beforeBegin",[_268.node]);var de=_266||_268.delay,_269=dojo.hitch(_268,"_play",_267);if(de>0){_268._delayTimer=setTimeout(_269,de);return _268;}_269();return _268;},_play:function(_26a){var _26b=this;if(_26b._delayTimer){_26b._clearTimer();}_26b._startTime=new Date().valueOf();if(_26b._paused){_26b._startTime-=_26b.duration*_26b._percent;}_26b._endTime=_26b._startTime+_26b.duration;_26b._active=true;_26b._paused=false;var _26c=_26b.curve.getValue(_26b._getStep());if(!_26b._percent){if(!_26b._startRepeatCount){_26b._startRepeatCount=_26b.repeat;}_26b._fire("onBegin",[_26c]);}_26b._fire("onPlay",[_26c]);_26b._cycle();return _26b;},pause:function(){var _26d=this;if(_26d._delayTimer){_26d._clearTimer();}_26d._stopTimer();if(!_26d._active){return _26d;}_26d._paused=true;_26d._fire("onPause",[_26d.curve.getValue(_26d._getStep())]);return _26d;},gotoPercent:function(_26e,_26f){var _270=this;_270._stopTimer();_270._active=_270._paused=true;_270._percent=_26e;if(_26f){_270.play();}return _270;},stop:function(_271){var _272=this;if(_272._delayTimer){_272._clearTimer();}if(!_272._timer){return _272;}_272._stopTimer();if(_271){_272._percent=1;}_272._fire("onStop",[_272.curve.getValue(_272._getStep())]);_272._active=_272._paused=false;return _272;},status:function(){if(this._active){return this._paused?"paused":"playing";}return "stopped";},_cycle:function(){var _273=this;if(_273._active){var curr=new Date().valueOf();var step=(curr-_273._startTime)/(_273._endTime-_273._startTime);if(step>=1){step=1;}_273._percent=step;if(_273.easing){step=_273.easing(step);}_273._fire("onAnimate",[_273.curve.getValue(step)]);if(_273._percent<1){_273._startTimer();}else{_273._active=false;if(_273.repeat>0){_273.repeat--;_273.play(null,true);}else{if(_273.repeat==-1){_273.play(null,true);}else{if(_273._startRepeatCount){_273.repeat=_273._startRepeatCount;_273._startRepeatCount=0;}}}_273._percent=0;_273._fire("onEnd",[_273.node]);!_273.repeat&&_273._stopTimer();}}return _273;},_clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer;}});var ctr=0,_274=[],_275=null,_276={run:function(){}};d.extend(d.Animation,{_startTimer:function(){if(!this._timer){this._timer=d.connect(_276,"run",this,"_cycle");ctr++;}if(!_275){_275=setInterval(d.hitch(_276,"run"),this.rate);}},_stopTimer:function(){if(this._timer){d.disconnect(this._timer);this._timer=null;ctr--;}if(ctr<=0){clearInterval(_275);_275=null;ctr=0;}}});var _277=d.isIE?function(node){var ns=node.style;if(!ns.width.length&&d.style(node,"width")=="auto"){ns.width="auto";}}:function(){};dojo._fade=function(args){args.node=d.byId(args.node);var _278=_262({properties:{}},args),_279=(_278.properties.opacity={});_279.start=!("start" in _278)?function(){return +d.style(_278.node,"opacity")||0;}:_278.start;_279.end=_278.end;var anim=d.animateProperty(_278);d.connect(anim,"beforeBegin",d.partial(_277,_278.node));return anim;};dojo.fadeIn=function(args){return d._fade(_262({end:1},args));};dojo.fadeOut=function(args){return d._fade(_262({end:0},args));};dojo._defaultEasing=function(n){return 0.5+((Math.sin((n+1.5)*Math.PI))/2);};var _27a=function(_27b){this._properties=_27b;for(var p in _27b){var prop=_27b[p];if(prop.start instanceof d.Color){prop.tempColor=new d.Color();}}};_27a.prototype.getValue=function(r){var ret={};for(var p in this._properties){var prop=this._properties[p],_27c=prop.start;if(_27c instanceof d.Color){ret[p]=d.blendColors(_27c,prop.end,r,prop.tempColor).toCss();}else{if(!d.isArray(_27c)){ret[p]=((prop.end-_27c)*r)+_27c+(p!="opacity"?prop.units||"px":0);}}}return ret;};dojo.animateProperty=function(args){var n=args.node=d.byId(args.node);if(!args.easing){args.easing=d._defaultEasing;}var anim=new d.Animation(args);d.connect(anim,"beforeBegin",anim,function(){var pm={};for(var p in this.properties){if(p=="width"||p=="height"){this.node.display="block";}var prop=this.properties[p];if(d.isFunction(prop)){prop=prop(n);}prop=pm[p]=_262({},(d.isObject(prop)?prop:{end:prop}));if(d.isFunction(prop.start)){prop.start=prop.start(n);}if(d.isFunction(prop.end)){prop.end=prop.end(n);}var _27d=(p.toLowerCase().indexOf("color")>=0);function _27e(node,p){var v={height:node.offsetHeight,width:node.offsetWidth}[p];if(v!==undefined){return v;}v=d.style(node,p);return (p=="opacity")?+v:(_27d?v:parseFloat(v));};if(!("end" in prop)){prop.end=_27e(n,p);}else{if(!("start" in prop)){prop.start=_27e(n,p);}}if(_27d){prop.start=new d.Color(prop.start);prop.end=new d.Color(prop.end);}else{prop.start=(p=="opacity")?+prop.start:parseFloat(prop.start);}}this.curve=new _27a(pm);});d.connect(anim,"onAnimate",d.hitch(d,"style",anim.node));return anim;};dojo.anim=function(node,_27f,_280,_281,_282,_283){return d.animateProperty({node:node,duration:_280||d.Animation.prototype.duration,properties:_27f,easing:_281,onEnd:_282}).play(_283||0);};})();}if(!dojo._hasResource["dojo._base.browser"]){dojo._hasResource["dojo._base.browser"]=true;dojo.provide("dojo._base.browser");dojo.forEach(dojo.config.require,function(i){dojo["require"](i);});}if(dojo.config.afterOnLoad&&dojo.isBrowser){window.setTimeout(dojo._loadInit,1000);}})();
</script>


<script id="effectgames" type="x">
;
var ZeroUpload = {
clients: {}, 
moviePath: 'ZeroUpload.swf', 
nextId: 1, 
$: function(thingy) {
if (typeof(thingy) == 'string') thingy = document.getElementById(thingy);
if (!thingy.__zeroUploadExtended) {
thingy.__zeroUploadExtended = true;
thingy.hide = function() { this.style.display = 'none'; };
thingy.show = function() { this.style.display = ''; };
thingy.addClass = function(name) { this.removeClass(name); this.className += ' ' + name; };
thingy.removeClass = function(name) {
this.className = this.className.replace( new RegExp("(^|\\s+)" + name + "(\\s+|$)"), "").replace(/^\s+|\s+$/g, '');
};
thingy.hasClass = function(name) {
return !!this.className.match( new RegExp("\\s*" + name + "\\s*") );
};
}
return thingy;
},
setMoviePath: function(path) {
this.moviePath = path;
},
dispatch: function(id, eventName, args) {
var client = this.clients[id];
if (client) {
client.receiveEvent(eventName, args);
}
},
register: function(id, client) {
this.clients[id] = client;
},
getDOMObjectPosition: function(obj) {
var info = {
left: 0, 
top: 0, 
width: obj.width ? obj.width : obj.offsetWidth, 
height: obj.height ? obj.height : obj.offsetHeight
};
while (obj) {
info.left += obj.offsetLeft;
info.top += obj.offsetTop;
obj = obj.offsetParent;
}
return info;
},
Client: function(elem) {
this.fileTypes = ["All Files", "*.*"];
this.postParams = {};
this.handlers = {};
this.id = ZeroUpload.nextId++;
this.containerId = 'ZeroUploadContainer_' + this.id;
this.movieId = 'ZeroUploadMovie_' + this.id;
ZeroUpload.register(this.id, this);
if (elem) this.glue(elem);
}
};
ZeroUpload.Client.prototype = {
id: 0, 
ready: false, 
movie: null, 
fileTypes: null, 
postParams: null, 
targetURL: '', 
fileDataField: 'Filedata', 
handCursorEnabled: true, 
maxFileSize: 0, 
cssEffects: true, 
maxFiles: 0, 
delayBetween: 1, 
handlers: null, 
glue: function(elem) {
this.domElement = ZeroUpload.$(elem);
var zIndex = 9999;
if (this.domElement.style.zIndex) {
zIndex = parseInt(this.domElement.style.zIndex, 10) + 1;
}
var box = ZeroUpload.getDOMObjectPosition(this.domElement);
this.div = document.createElement('div');
var style = this.div.style;
style.position = 'absolute';
style.left = '' + box.left + 'px';
style.top = '' + box.top + 'px';
style.width = '' + box.width + 'px';
style.height = '' + box.height + 'px';
style.zIndex = zIndex;
var body = document.getElementsByTagName('body')[0];
body.appendChild(this.div);
this.div.innerHTML = this.getHTML( box.width, box.height );
},
getHTML: function(width, height) {
var html = '';
var flashvars = 'id=' + this.id + 
'&width=' + width + 
'&height=' + height;
if (navigator.userAgent.match(/MSIE/)) {
var protocol = location.href.match(/^https/i) ? 'https://' : 'http://';
html += '<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+protocol+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+width+'" height="'+height+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroUpload.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+flashvars+'"/><param name="wmode" value="transparent"/></object>';
}
else {
html += '<embed id="'+this.movieId+'" src="'+ZeroUpload.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+width+'" height="'+height+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+flashvars+'" wmode="transparent" />';
}
return html;
},
hide: function() {
if (this.div) {
this.div.style.left = '-2000px';
}
},
show: function() {
this.reposition();
},
destroy: function() {
if (this.domElement && this.div) {
this.hide();
this.movie = null;
try { this.div.removeChild( this.movie ); } catch(e) {;}
var body = document.getElementsByTagName('body')[0];
try { body.removeChild( this.div ); } catch(e) {;}
this.domElement = null;
this.div = null;
}
},
reposition: function(elem) {
if (elem) {
this.domElement = ZeroUpload.$(elem);
}
if (this.domElement && this.div) {
var box = ZeroUpload.getDOMObjectPosition(this.domElement);
var style = this.div.style;
style.left = '' + box.left + 'px';
style.top = '' + box.top + 'px';
}
},
setFileTypes: function(desc, exts) {
this.fileTypes = [desc, exts];
if (this.ready) this.movie.setFileTypes(desc, exts);
},
setPostParam: function(name, value) {
this.postParams[name] = value;
if (this.ready) this.movie.setPostParam(name, value);
},
setPostParams: function(obj) {
for (var key in obj) this.setPostParam(key, obj[key]);
if (this.ready) this.movie.setPostParams(obj);
},
setURL: function(url) {
this.targetURL = url;
if (this.ready) this.movie.setURL(url);
},
setFileDataField: function(name) {
this.fileDataField = name;
if (this.ready) this.movie.setFileDataField(name);
},
addEventListener: function(eventName, func) {
eventName = eventName.toString().toLowerCase().replace(/^on/, '');
if (!this.handlers[eventName]) this.handlers[eventName] = [];
this.handlers[eventName].push(func);
},
cancel: function() {
if (this.ready) this.movie.cancel();
},
setHandCursor: function(enabled) {
this.handCursorEnabled = enabled;
if (this.ready) this.movie.setHandCursor(enabled);
},
setMaxFileSize: function(size) {
this.maxFileSize = size;
if (this.ready) this.movie.setMaxFileSize(size);
},
setMaxFiles: function(num) {
this.maxFiles = num;
if (this.ready) this.movie.setMaxFiles(num);
},
setCSSEffects: function(enabled) {
this.cssEffects = !!enabled;
},
setDelayBetween: function(ms) {
this.delayBetween = ms;
if (this.ready) this.movie.setDelayBetween(ms);
},
receiveEvent: function(eventName, args) {
eventName = eventName.toString().toLowerCase().replace(/^on/, '');
if (this.handlers.debug) {
for (var idx = 0, len = this.handlers.debug.length; idx < len; idx++) {
this.fireHandler( 'debug', eventName, args );
}
}
switch (eventName) {
case 'load':
this.movie = document.getElementById(this.movieId);
if (!this.movie) {
var self = this;
setTimeout( function() { self.receiveEvent('load', null); }, 10 );
return;
}
if (!this.ready && navigator.userAgent.match(/Firefox/) && navigator.userAgent.match(/Windows/)) {
var self = this;
setTimeout( function() { self.receiveEvent('load', null); }, 100 );
this.ready = true;
return;
}
this.ready = true;
this.movie.setFileTypes( this.fileTypes[0], this.fileTypes[1] );
this.movie.setPostParams( this.postParams );
this.movie.setURL( this.targetURL );
this.movie.setFileDataField( this.fileDataField );
this.movie.setHandCursor( this.handCursorEnabled );
this.movie.setMaxFileSize( this.maxFileSize );
this.movie.setMaxFiles( this.maxFiles );
this.movie.setDelayBetween( this.delayBetween );
break;
case 'mouseover':
if (this.domElement && this.cssEffects) {
this.domElement.addClass('hover');
if (this.recoverActive) this.domElement.addClass('active');
}
break;
case 'mouseout':
if (this.domElement && this.cssEffects) {
this.recoverActive = false;
if (this.domElement.hasClass('active')) {
this.domElement.removeClass('active');
this.recoverActive = true;
}
this.domElement.removeClass('hover');
}
break;
case 'mousedown':
if (this.domElement && this.cssEffects) {
this.domElement.addClass('active');
}
break;
case 'mouseup':
if (this.domElement && this.cssEffects) {
this.domElement.removeClass('active');
this.recoverActive = false;
}
break;
} 
this.fireHandler(eventName, args);
},
fireHandler: function() {
var eventName = arguments[0];
eventName = eventName.toString().toLowerCase().replace(/^on/, '');
var args = [ this ];
for (var idx = 1; idx < arguments.length; idx++) args.push( arguments[idx] );
if (this.handlers[eventName]) {
for (var idx = 0, len = this.handlers[eventName].length; idx < len; idx++) {
var func = this.handlers[eventName][idx];
if (typeof(func) == 'function') {
func.apply(window, args);
}
else if ((typeof(func) == 'object') && (func.length == 2)) {
func[0][ func[1] ].apply(func[0], args);
}
else if (typeof(func) == 'string') {
window[func].apply(window, args);
}
} 
} 
}
};
var ZeroClipboard = {
version: "1.0.5",
clients: {}, 
moviePath: 'ZeroClipboard.swf', 
nextId: 1, 
$: function(thingy) {
if (typeof(thingy) == 'string') thingy = document.getElementById(thingy);
if (!thingy.addClass) {
thingy.hide = function() { this.style.display = 'none'; };
thingy.show = function() { this.style.display = ''; };
thingy.addClass = function(name) { this.removeClass(name); this.className += ' ' + name; };
thingy.removeClass = function(name) {
this.className = this.className.replace( new RegExp("(^|\\s+)" + name + "(\\s+|$)"), "").replace(/^\s+|\s+$/g, '');
};
thingy.hasClass = function(name) {
return !!this.className.match( new RegExp("\\s*" + name + "\\s*") );
};
}
return thingy;
},
setMoviePath: function(path) {
this.moviePath = path;
},
dispatch: function(id, eventName, args) {
var client = this.clients[id];
if (client) {
client.receiveEvent(eventName, args);
}
},
register: function(id, client) {
this.clients[id] = client;
},
getDOMObjectPosition: function(obj, stopObj) {
var info = {
left: 0, 
top: 0, 
width: obj.width ? obj.width : obj.offsetWidth, 
height: obj.height ? obj.height : obj.offsetHeight
};
while (obj && (obj != stopObj)) {
info.left += obj.offsetLeft;
info.top += obj.offsetTop;
obj = obj.offsetParent;
}
return info;
},
Client: function(elem) {
this.handlers = {};
this.id = ZeroClipboard.nextId++;
this.movieId = 'ZeroClipboardMovie_' + this.id;
ZeroClipboard.register(this.id, this);
if (elem) this.glue(elem);
}
};
ZeroClipboard.Client.prototype = {
id: 0, 
ready: false, 
movie: null, 
clipText: '', 
handCursorEnabled: true, 
cssEffects: true, 
handlers: null, 
glue: function(elem, appendElem, stylesToAdd) {
this.domElement = ZeroClipboard.$(elem);
var zIndex = 99;
if (this.domElement.style.zIndex) {
zIndex = parseInt(this.domElement.style.zIndex, 10) + 1;
}
if (typeof(appendElem) == 'string') {
appendElem = ZeroClipboard.$(appendElem);
}
else if (typeof(appendElem) == 'undefined') {
appendElem = document.getElementsByTagName('body')[0];
}
var box = ZeroClipboard.getDOMObjectPosition(this.domElement, appendElem);
this.div = document.createElement('div');
var style = this.div.style;
style.position = 'absolute';
style.left = '' + box.left + 'px';
style.top = '' + box.top + 'px';
style.width = '' + box.width + 'px';
style.height = '' + box.height + 'px';
style.zIndex = zIndex;
if (typeof(stylesToAdd) == 'object') {
for (addedStyle in stylesToAdd) {
style[addedStyle] = stylesToAdd[addedStyle];
}
}
appendElem.appendChild(this.div);
this.div.innerHTML = this.getHTML( box.width, box.height );
},
getHTML: function(width, height) {
var html = '';
var flashvars = 'id=' + this.id + 
'&width=' + width + 
'&height=' + height;
if (navigator.userAgent.match(/MSIE/)) {
var protocol = location.href.match(/^https/i) ? 'https://' : 'http://';
html += '<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+protocol+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+width+'" height="'+height+'" id="'+this.movieId+'" align="middle"><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+ZeroClipboard.moviePath+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+flashvars+'"/><param name="wmode" value="transparent"/></object>';
}
else {
html += '<embed id="'+this.movieId+'" src="'+ZeroClipboard.moviePath+'" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+width+'" height="'+height+'" name="'+this.movieId+'" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+flashvars+'" wmode="transparent" />';
}
return html;
},
hide: function() {
if (this.div) {
this.div.style.left = '-2000px';
}
},
show: function() {
this.reposition();
},
destroy: function() {
if (this.domElement && this.div) {
this.hide();
this.div.innerHTML = '';
var body = document.getElementsByTagName('body')[0];
try { body.removeChild( this.div ); } catch(e) {;}
this.domElement = null;
this.div = null;
}
},
reposition: function(elem) {
if (elem) {
this.domElement = ZeroClipboard.$(elem);
if (!this.domElement) this.hide();
}
if (this.domElement && this.div) {
var box = ZeroClipboard.getDOMObjectPosition(this.domElement);
var style = this.div.style;
style.left = '' + box.left + 'px';
style.top = '' + box.top + 'px';
}
},
setText: function(newText) {
this.clipText = newText;
if (this.ready) this.movie.setText(newText);
},
addEventListener: function(eventName, func) {
eventName = eventName.toString().toLowerCase().replace(/^on/, '');
if (!this.handlers[eventName]) this.handlers[eventName] = [];
this.handlers[eventName].push(func);
},
setHandCursor: function(enabled) {
this.handCursorEnabled = enabled;
if (this.ready) this.movie.setHandCursor(enabled);
},
setCSSEffects: function(enabled) {
this.cssEffects = !!enabled;
},
receiveEvent: function(eventName, args) {
eventName = eventName.toString().toLowerCase().replace(/^on/, '');
switch (eventName) {
case 'load':
this.movie = document.getElementById(this.movieId);
if (!this.movie) {
var self = this;
setTimeout( function() { self.receiveEvent('load', null); }, 1 );
return;
}
if (!this.ready && navigator.userAgent.match(/Firefox/) && navigator.userAgent.match(/Windows/)) {
var self = this;
setTimeout( function() { self.receiveEvent('load', null); }, 100 );
this.ready = true;
return;
}
this.ready = true;
this.movie.setText( this.clipText );
this.movie.setHandCursor( this.handCursorEnabled );
break;
case 'mouseover':
if (this.domElement && this.cssEffects) {
this.domElement.addClass('hover');
if (this.recoverActive) this.domElement.addClass('active');
}
break;
case 'mouseout':
if (this.domElement && this.cssEffects) {
this.recoverActive = false;
if (this.domElement.hasClass('active')) {
this.domElement.removeClass('active');
this.recoverActive = true;
}
this.domElement.removeClass('hover');
}
break;
case 'mousedown':
if (this.domElement && this.cssEffects) {
this.domElement.addClass('active');
}
break;
case 'mouseup':
if (this.domElement && this.cssEffects) {
this.domElement.removeClass('active');
this.recoverActive = false;
}
break;
} 
if (this.handlers[eventName]) {
for (var idx = 0, len = this.handlers[eventName].length; idx < len; idx++) {
var func = this.handlers[eventName][idx];
if (typeof(func) == 'function') {
func(this, args);
}
else if ((typeof(func) == 'object') && (func.length == 2)) {
func[0][ func[1] ](this, args);
}
else if (typeof(func) == 'string') {
window[func](this, args);
}
} 
} 
}
};
var hexcase = 0;  
var b64pad  = ""; 
var chrsz   = 8;  
function hex_md5(s){ return binl2hex(core_md5(str2binl(s), s.length * chrsz));}
function b64_md5(s){ return binl2b64(core_md5(str2binl(s), s.length * chrsz));}
function hex_hmac_md5(key, data) { return binl2hex(core_hmac_md5(key, data)); }
function b64_hmac_md5(key, data) { return binl2b64(core_hmac_md5(key, data)); }
function calcMD5(s){ return binl2hex(core_md5(str2binl(s), s.length * chrsz));}
function md5_vm_test()
{
return hex_md5("abc") == "900150983cd24fb0d6963f7d28e17f72";
}
function core_md5(x, len)
{
x[len >> 5] |= 0x80 << ((len) % 32);
x[(((len + 64) >>> 9) << 4) + 14] = len;
var a =  1732584193;
var b = -271733879;
var c = -1732584194;
var d =  271733878;
for(var i = 0; i < x.length; i += 16)
{
var olda = a;
var oldb = b;
var oldc = c;
var oldd = d;
a = md5_ff(a, b, c, d, x[i+ 0], 7 , -680876936);
d = md5_ff(d, a, b, c, x[i+ 1], 12, -389564586);
c = md5_ff(c, d, a, b, x[i+ 2], 17,  606105819);
b = md5_ff(b, c, d, a, x[i+ 3], 22, -1044525330);
a = md5_ff(a, b, c, d, x[i+ 4], 7 , -176418897);
d = md5_ff(d, a, b, c, x[i+ 5], 12,  1200080426);
c = md5_ff(c, d, a, b, x[i+ 6], 17, -1473231341);
b = md5_ff(b, c, d, a, x[i+ 7], 22, -45705983);
a = md5_ff(a, b, c, d, x[i+ 8], 7 ,  1770035416);
d = md5_ff(d, a, b, c, x[i+ 9], 12, -1958414417);
c = md5_ff(c, d, a, b, x[i+10], 17, -42063);
b = md5_ff(b, c, d, a, x[i+11], 22, -1990404162);
a = md5_ff(a, b, c, d, x[i+12], 7 ,  1804603682);
d = md5_ff(d, a, b, c, x[i+13], 12, -40341101);
c = md5_ff(c, d, a, b, x[i+14], 17, -1502002290);
b = md5_ff(b, c, d, a, x[i+15], 22,  1236535329);
a = md5_gg(a, b, c, d, x[i+ 1], 5 , -165796510);
d = md5_gg(d, a, b, c, x[i+ 6], 9 , -1069501632);
c = md5_gg(c, d, a, b, x[i+11], 14,  643717713);
b = md5_gg(b, c, d, a, x[i+ 0], 20, -373897302);
a = md5_gg(a, b, c, d, x[i+ 5], 5 , -701558691);
d = md5_gg(d, a, b, c, x[i+10], 9 ,  38016083);
c = md5_gg(c, d, a, b, x[i+15], 14, -660478335);
b = md5_gg(b, c, d, a, x[i+ 4], 20, -405537848);
a = md5_gg(a, b, c, d, x[i+ 9], 5 ,  568446438);
d = md5_gg(d, a, b, c, x[i+14], 9 , -1019803690);
c = md5_gg(c, d, a, b, x[i+ 3], 14, -187363961);
b = md5_gg(b, c, d, a, x[i+ 8], 20,  1163531501);
a = md5_gg(a, b, c, d, x[i+13], 5 , -1444681467);
d = md5_gg(d, a, b, c, x[i+ 2], 9 , -51403784);
c = md5_gg(c, d, a, b, x[i+ 7], 14,  1735328473);
b = md5_gg(b, c, d, a, x[i+12], 20, -1926607734);
a = md5_hh(a, b, c, d, x[i+ 5], 4 , -378558);
d = md5_hh(d, a, b, c, x[i+ 8], 11, -2022574463);
c = md5_hh(c, d, a, b, x[i+11], 16,  1839030562);
b = md5_hh(b, c, d, a, x[i+14], 23, -35309556);
a = md5_hh(a, b, c, d, x[i+ 1], 4 , -1530992060);
d = md5_hh(d, a, b, c, x[i+ 4], 11,  1272893353);
c = md5_hh(c, d, a, b, x[i+ 7], 16, -155497632);
b = md5_hh(b, c, d, a, x[i+10], 23, -1094730640);
a = md5_hh(a, b, c, d, x[i+13], 4 ,  681279174);
d = md5_hh(d, a, b, c, x[i+ 0], 11, -358537222);
c = md5_hh(c, d, a, b, x[i+ 3], 16, -722521979);
b = md5_hh(b, c, d, a, x[i+ 6], 23,  76029189);
a = md5_hh(a, b, c, d, x[i+ 9], 4 , -640364487);
d = md5_hh(d, a, b, c, x[i+12], 11, -421815835);
c = md5_hh(c, d, a, b, x[i+15], 16,  530742520);
b = md5_hh(b, c, d, a, x[i+ 2], 23, -995338651);
a = md5_ii(a, b, c, d, x[i+ 0], 6 , -198630844);
d = md5_ii(d, a, b, c, x[i+ 7], 10,  1126891415);
c = md5_ii(c, d, a, b, x[i+14], 15, -1416354905);
b = md5_ii(b, c, d, a, x[i+ 5], 21, -57434055);
a = md5_ii(a, b, c, d, x[i+12], 6 ,  1700485571);
d = md5_ii(d, a, b, c, x[i+ 3], 10, -1894986606);
c = md5_ii(c, d, a, b, x[i+10], 15, -1051523);
b = md5_ii(b, c, d, a, x[i+ 1], 21, -2054922799);
a = md5_ii(a, b, c, d, x[i+ 8], 6 ,  1873313359);
d = md5_ii(d, a, b, c, x[i+15], 10, -30611744);
c = md5_ii(c, d, a, b, x[i+ 6], 15, -1560198380);
b = md5_ii(b, c, d, a, x[i+13], 21,  1309151649);
a = md5_ii(a, b, c, d, x[i+ 4], 6 , -145523070);
d = md5_ii(d, a, b, c, x[i+11], 10, -1120210379);
c = md5_ii(c, d, a, b, x[i+ 2], 15,  718787259);
b = md5_ii(b, c, d, a, x[i+ 9], 21, -343485551);
a = safe_add(a, olda);
b = safe_add(b, oldb);
c = safe_add(c, oldc);
d = safe_add(d, oldd);
}
return Array(a, b, c, d);
}
function md5_cmn(q, a, b, x, s, t)
{
return safe_add(bit_rol(safe_add(safe_add(a, q), safe_add(x, t)), s),b);
}
function md5_ff(a, b, c, d, x, s, t)
{
return md5_cmn((b & c) | ((~b) & d), a, b, x, s, t);
}
function md5_gg(a, b, c, d, x, s, t)
{
return md5_cmn((b & d) | (c & (~d)), a, b, x, s, t);
}
function md5_hh(a, b, c, d, x, s, t)
{
return md5_cmn(b ^ c ^ d, a, b, x, s, t);
}
function md5_ii(a, b, c, d, x, s, t)
{
return md5_cmn(c ^ (b | (~d)), a, b, x, s, t);
}
function core_hmac_md5(key, data)
{
var bkey = str2binl(key);
if(bkey.length > 16) bkey = core_md5(bkey, key.length * chrsz);
var ipad = Array(16), opad = Array(16);
for(var i = 0; i < 16; i++) 
{
ipad[i] = bkey[i] ^ 0x36363636;
opad[i] = bkey[i] ^ 0x5C5C5C5C;
}
var hash = core_md5(ipad.concat(str2binl(data)), 512 + data.length * chrsz);
return core_md5(opad.concat(hash), 512 + 128);
}
function safe_add(x, y)
{
var lsw = (x & 0xFFFF) + (y & 0xFFFF);
var msw = (x >> 16) + (y >> 16) + (lsw >> 16);
return (msw << 16) | (lsw & 0xFFFF);
}
function bit_rol(num, cnt)
{
return (num << cnt) | (num >>> (32 - cnt));
}
function str2binl(str)
{
var bin = Array();
var mask = (1 << chrsz) - 1;
for(var i = 0; i < str.length * chrsz; i += chrsz)
bin[i>>5] |= (str.charCodeAt(i / chrsz) & mask) << (i%32);
return bin;
}
function binl2hex(binarray)
{
var hex_tab = hexcase ? "0123456789ABCDEF" : "0123456789abcdef";
var str = "";
for(var i = 0; i < binarray.length * 4; i++)
{
str += hex_tab.charAt((binarray[i>>2] >> ((i%4)*8+4)) & 0xF) +
hex_tab.charAt((binarray[i>>2] >> ((i%4)*8  )) & 0xF);
}
return str;
}
function binl2b64(binarray)
{
var tab = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";
var str = "";
for(var i = 0; i < binarray.length * 4; i += 3)
{
var triplet = (((binarray[i   >> 2] >> 8 * ( i   %4)) & 0xFF) << 16)
| (((binarray[i+1 >> 2] >> 8 * ((i+1)%4)) & 0xFF) << 8 )
|  ((binarray[i+2 >> 2] >> 8 * ((i+2)%4)) & 0xFF);
for(var j = 0; j < 4; j++)
{
if(i * 8 + j * 6 > binarray.length * 32) str += b64pad;
else str += tab.charAt((triplet >> 6*(3-j)) & 0x3F);
}
}
return str;
}
var Namespace = {
create: function(path, container) {
if (!container) container = window;
while (path.match(/^(\w+)\.?/)) {
var key = RegExp.$1;
path = path.replace(/^(\w+)\.?/, "");
if (!container[key]) container[key] = {};
container = container[key];
}
return container;
},
prep: function(name, container) {
if (!container) container = window;
if (name.match(/^(.+)\.(\w+)$/)) {
var path = RegExp.$1;
name = RegExp.$2;
container = Namespace.create(path, container);
}
return { container: container, name: name };
}
};
var Class = {
create: function(name, members) {
assert(name, "Must pass name to Class.create");
if (!members) members = {};
members.__parent = null;
var ns = Namespace.prep(name);
var container = ns.container;
name = ns.name;
members.__name = name;
if (!members.__construct) members.__construct = function() {};
container[name] = members.__construct;
var static_members = members.__static;
if (static_members) {
for (var key in static_members) {
container[name][key] = static_members[key];
}
}
container[name].prototype = members;
container[name].extend = container[name].subclass = function(name, members) {
Class.subclass( this, name, members );
};
container[name].set = container[name].add = function(members) {
Class.add( this, members );
};
},
subclass: function(parent, name, members) {
assert(parent, "Must pass parent class to Class.subclass");
assert(name, "Must pass name to Class.subclass");
if (!members) members = {};
members.__name = name;
members.__parent = parent.prototype;
var ns = Namespace.prep(name);
var container = ns.container;
var subname = ns.name;
if (members.__construct) {
container[subname] = members.__construct;
}
else {
var code = parent.toString();
var args = code.substring( code.indexOf("(")+1, code.indexOf(")") );
var inner_code = code.substring( code.indexOf("{")+1, code.lastIndexOf("}") );
eval('members.__construct = container[subname] = function ('+args+') {'+inner_code+'};');
}
if (parent.prototype.__static) {
for (var key in parent.prototype.__static) {
container[subname][key] = parent.prototype.__static[key];
}
}
var static_members = members.__static;
if (static_members) {
for (var key in static_members) {
container[subname][key] = static_members[key];
}
}
container[subname].prototype = new parent();
for (var key in members) container[subname].prototype[key] = members[key];
container[subname].extend = container[subname].subclass = function(name, members) {
Class.subclass( this, name, members );
};
container[subname].set = container[subname].add = function(members) {
Class.add( this, members );
};
},
add: function(obj, members) {
for (var key in members) obj.prototype[key] = members[key];
},
require: function() {
for (var idx = 0, len = arguments.length; idx < len; idx++) {
assert( !!eval('window.' + arguments[idx]) );
}
return true;
}
};
Class.extend = Class.subclass;
Class.set = Class.add;
if (!window.assert) window.assert = function(fact, msg) {
if (!fact) return alert("ASSERT FAILED!  " + msg);
return fact;
};
var images_uri = '/effect/images';
var icons_uri = images_uri + '/icons';
var protocol = location.protocol.match(/https/i) ? 'https' : 'http';
var ua = navigator.userAgent;
var safari = !!ua.match(/Safari/);
var safari3 = safari && (!!ua.match(/Version\/[3456789]/) || window.chrome);
var safari2 = (safari && !safari3 && !window.chrome);
var ie = !!ua.match(/MSIE/);
var ie7 = ie && !!ua.match(/MSIE\s+[789]/);
var ie6 = (ie && !ie7);
var moz = !safari && !ie;
var op = !!window.opera;
var mac = !!ua.match(/Mac/i);
var ff = !!ua.match(/Firefox/i);
var ff2 = ff && !!ua.match(/Firefox\/2/);
var ff3 = ff && !!ua.match(/Firefox\/[3456789]/);
var months = [
[ 1, 'January' ], [ 2, 'February' ], [ 3, 'March' ], [ 4, 'April' ],
[ 5, 'May' ], [ 6, 'June' ], [ 7, 'July' ], [ 8, 'August' ],
[ 9, 'September' ], [ 10, 'October' ], [ 11, 'November' ],
[ 12, 'December' ]
];
var short_month_names = [ 'Jan', 'Feb', 'Mar', 'Apr', 'May', 
'June', 'July', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec' ];
var day_names = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 
'Thursday', 'Friday', 'Saturday'];
function $(thingy) {
var obj = (typeof(thingy) == 'string') ? document.getElementById(thingy) : thingy;
if (obj && !obj.setOpacity) {
obj.hide = function() { this.style.display = 'none'; return this; };
obj.show = function() { this.style.display = ''; return this; };
obj.addClass = function(name) { this.removeClass(name); this.className += ' ' + name; return this; };
obj.removeClass = function(name) {
var classes = this.className.split(/\s+/);
var idx = find_idx_in_array( classes, name );
if (idx > -1) {
classes.splice( idx, 1 );
this.className = classes.join(' ');
}
return this;
};
obj.setOpacity = function(opacity) {
if (opacity == 0.0) {
this.style.opacity = 1.0;
if (moz) this.style.MozOpacity = 1.0;
else if (ie) this.style.filter = "";
this.style.visibility = 'hidden';
}
else if (opacity == 1.0) {
this.style.opacity = 1.0;
if (moz) this.style.MozOpacity = 1.0;
else if (ie) this.style.filter = "";
this.style.visibility = 'visible';
}
else {
this.style.opacity = opacity;
if (moz) this.style.MozOpacity = opacity;
else if (ie) this.style.filter = "alpha(opacity=" + parseInt(opacity * 100, 10) + ")";
this.style.visibility = 'visible';
}
return this;
};
}
return obj;
}
function parseQueryString(queryString) {
var pair = null;
var queryObject = new Object();
queryString = queryString.replace(/^.*\?(.+)$/,'$1');
while ((pair = queryString.match(/(\w+)=([^\&]*)\&?/)) && pair[0].length) {
queryString = queryString.substring( pair[0].length );
pair[2] = unescape(pair[2]);
if (/^\-?\d+$/.test(pair[2])) pair[2] = parseInt(pair[2], 10);
if (typeof(queryObject[pair[1]]) != 'undefined') {
always_array( queryObject, pair[1] );
array_push( queryObject[pair[1]], pair[2] );
}
else queryObject[pair[1]] = pair[2];
}
return queryObject;
}
function composeQueryString(queryObj) {
var qs = '';
for (var key in queryObj) {
var values = always_array(queryObj[key]);
for (var idx = 0, len = values.length; idx < len; idx++) {
qs += (qs.length ? '&' : '?') + escape(key) + '=' + escape(values[idx]);
}
}
return qs;
}
function spacer(width, height) {
return '<img src="'+images_uri+'/spacer.gif" width="'+width+'" height="'+height+'">';
}
function solidify(obj) {
obj.style.opacity = '1.0';
if (moz) obj.style.MozOpacity = '1.0';
else if (ie) obj.style.filter = '';
}
function transify(obj) {
obj.style.opacity = '0.5';
if (moz) obj.style.MozOpacity = '0.5';
else if (ie) obj.style.filter = 'alpha(opacity=50)';
}
function trans_icon(name, code) {
var size = 16;
var html = '<a href="javascript:void(' + code + ')">';
html += '<img src="'+icons_uri+'/'+name+'.gif" width='+size+' height='+size+' border=0';
html += ' style="opacity:0.5; moz-opacity:0.5; filter:alpha(opacity=50);"';
html += ' onMouseOver="solidify(this)"';
html += ' onMouseOut="transify(this)"';
html += '>';
html += '</a>';
return html;
}
function icon(name, label, code, status_text, id, hspace) {
if (!window.icons_uri) return 'icons_uri not set!';
var html = '';
var ahref = '';
var size = 16;
if (typeof(label) == 'undefined') label = '';
else label = '' + label;
if (!id) id = '';
if (!status_text) status_text = '';
if (name.indexOf('_mini') > -1) size = 14;
if (!name.match(/\.\w+$/)) name += '.gif';
if (label) {
html += '<table cellspacing=0 cellpadding=0 border=0><tr><td style="padding:0px; background:transparent;" valign=center>';
}
if (code) {
if (code.toString().match(/^(\#|\/|http\:\/\/)/)) ahref = '<a href="' + code + '"';
else ahref = '<a href="javascript:void(' + code + ')"';
ahref += ' title="' + status_text + '">';
html += ahref;
}
html += '<img id="'+id+'" class="png" src="'+png(icons_uri+'/'+name, true)+'" width='+size+' height='+size+' border=0>';
if (code) html += '</a>';
if (hspace) html += '&nbsp;';
if (label) {
html += '</td><td style="padding:0px;  background:transparent;" width=4>'+spacer(4,1)+'</td><td style="padding:0px; background:transparent;" valign=center>';
if (code) html += ahref;
html += label;
if (code) html += '</a>';
html += '</td></tr></table>';
}
return html;
}
function code_link(code, html, status_text) {
if (!status_text) status_text = html.toString().replace(/<.+?>/g, "");
return '<a href="javascript:void(' + code + ')"' + 
' title="' + status_text + '"' + 
' style="cursor:pointer"' + 
'>' + html + '</a>';
}
function set_section_visibility(id, visible) {
var div = document.getElementById(id);
var current_state = div.style.display;
div.style.display = visible ? 'block' : 'none';
var sc = document.getElementById('sc_' + id);
if (sc) {
var new_icon_name = visible ? 'arrow-down' : 'arrow-right';
if (sc.src.indexOf('_mini') > -1) new_icon_name += '_mini';
sc.src = icons_uri + '/' + new_icon_name + '.png';
}
if (visible && !div.innerHTML.length && div.getAttribute('onExpand')) 
eval( div.getAttribute('onExpand') );
}
function toggle_section(id) {
var div = document.getElementById(id);
var current_state = div.style.display;
div.style.display = (current_state == 'block') ? 'none' : 'block';
var sc = document.getElementById('sc_' + id);
if (sc) {
var new_icon_name = (current_state == 'block') ? 'arrow-right' : 'arrow-down';
if (sc.src.indexOf('_mini') > -1) new_icon_name += '_mini';
sc.src = icons_uri + '/' + new_icon_name + '.png';
}
if (!div.innerHTML.length && div.getAttribute('onExpand')) 
eval( div.getAttribute('onExpand') );
}
function section_control(id, expanded) {
return icon(
expanded ? 'arrow-down.png' : 'arrow-right.png', '', '', 'Toggle Section View', 'sc_' + id
);
}
function get_text_from_bytes(bytes) {
if (bytes >= 1024) {
bytes = parseInt( (bytes / 1024) * 10, 10 ) / 10;
if (bytes >= 1024) {
bytes = parseInt( (bytes / 1024) * 10, 10 ) / 10;
if (bytes >= 1024) {
bytes = parseInt( (bytes / 1024) * 10, 10 ) / 10;
return bytes + ' GB';
} else return bytes + ' MB';
}
else return bytes + ' K';
}
else return bytes + ' bytes';
}
function csv_to_hash(csv) {
if (!csv.length) return {};
assert( arguments.length == 1, "Wrong number of arguments sent to csv_to_hash (" + arguments.length + ")" );
var list = csv.split(/\,\s*/);
var hash = {};
for (var idx = 0, len = list.length; idx < len; idx++) {
hash[ list[idx] ] = 1;
}
return hash;
}
function num_keys(hash) {
var count = 0;
for (var a in hash) count++;
return count;
}
function reverse_hash(a) {
var c = {};
for (var key in a) {
c[ a[key] ] = key;
}
return c;
}
function progress_bar(args) {
if (!args.counter_max) args.counter_max = 1;
var x = parseInt( (args.counter * args.width) / args.counter_max, 10 );
if (x < 0) x = 0;
if (x > args.width) x = args.width;
var html = '<table cellspacing=0 cellpadding=0 border=0><tr><td valign=center';
if (!x) html += ' background="'+images_uri+'/b2_loop.gif"';
html += '>';
html += '<nobr>';
if (x > 4) {
var xtemp = x - 4;
html += '<img src="'+images_uri+'/a1.gif" width=2 height='+args.height+'>';
html += '<img src="'+images_uri+'/a2.gif" width='+xtemp+' height='+args.height+'>';
html += '<img src="'+images_uri+'/a3.gif" width=2 height='+args.height+'>';
}
if (x < args.width - 4) {
var xtemp = (args.width - x) - 4;
var b2 = x ? "b2" : "spacer";
html += '<img src="'+images_uri+'/b1.gif" width=2 height='+args.height+'>';
html += '<img src="'+images_uri+'/'+b2+'.gif" width='+xtemp+' height='+args.height+'>';
html += '<img src="'+images_uri+'/b3.gif" width=2 height='+args.height+'>';
}
html += '</nobr>';
html += '</td>';
if (args.show_percent) {
var pct = parseInt( (args.counter * 100) / args.counter_max, 10 );
if (pct < 0) pct = 0;
if (pct > 100) pct = 100;
html += '<td valign=center>&nbsp;' + pct + '%</td>';
}
html += '</tr></table>';
return html;
}
var g_unique_id = 772; 
function get_unique_id() {
g_unique_id++;
return g_unique_id;
}
function substitute(text, args) {
if (!text) text = "";
if (!args) args = {};
while (text.indexOf('[') > -1) {
var open_bracket = text.indexOf('[');
var close_bracket = text.indexOf(']');
var before = text.substring(0, open_bracket);
var after = text.substring(close_bracket + 1, text.length);
var name = text.substring( open_bracket + 1, close_bracket );
var value = '';
if (name.indexOf('/') == 0) value = lookup_path(name, args);
else if (typeof(args[name]) != 'undefined') value = args[name];
else if (!(/^\w+$/.test(name))) value = eval(name);
else value = '[' + name + ']';
text = before + value + after;
} 
return text;
}
function time_now() {
var now = new Date();
return parseInt( now.getTime() / 1000, 10 );
}
function ucfirst(text) {
return text.substring(0, 1).toUpperCase() + text.substring(1, text.length).toLowerCase();
}
function text_to_html(text) {
if (!text) text = "";
return encode_entities(text).toString().replace(/\n/g, "\n<br>");
}
function html_to_text(html) {
html = html.replace(/<\/(p|div|ul|ol|li|table|tr|dl|dd|dt|h\d)>/ig, "__ChBREAk__");
html = html.replace(/<br\/?>/ig, "__ChBREAk__");
html = html.replace(/<.+?>/g, "");
html = html.replace(/__ChBREAk__/g, "<br/>");
return html;
}
function image_rollover(img) {
img.src = img.src.replace(/_up(\.\w+)$/, "_over$1");
}
function image_rollout(img) {
img.src = img.src.replace(/_over(\.\w+)$/, "_up$1");
}
function commify(number) {
if (!number) number = 0;
number = '' + number;
if (number.length > 3) {
var mod = number.length % 3;
var output = (mod > 0 ? (number.substring(0,mod)) : '');
for (i=0 ; i < Math.floor(number.length / 3); i++) {
if ((mod == 0) && (i == 0))
output += number.substring(mod+ 3 * i, mod + 3 * i + 3);
else
output+= ',' + number.substring(mod + 3 * i, mod + 3 * i + 3);
}
return (output);
}
else return number;
}
function short_float(value) {
if (!value) value = 0;
return value.toString().replace(/^(\-?\d+\.[0]*\d{2}).*$/, '$1');
}
function pct(count, max) {
var pct = (count * 100) / (max || 1);
if (!pct.toString().match(/^\d+(\.\d+)?$/)) { pct = 0; }
return '' + short_float( pct ) + '%';
}
function hash_to_query(hash) {
var str = '';
for (var key in hash) {
if (str.length > 0) str += '&';
str += key + '=' + escape(hash[key]);
}
return str;
}
function get_text_from_seconds(sec, abbrev, no_secondary) {
var neg = '';
sec = parseInt(sec, 10);
if (sec<0) { sec =- sec; neg = '-'; }
var p_text = abbrev ? "sec" : "second";
var p_amt = sec;
var s_text = "";
var s_amt = 0;
if (sec > 59) {
var min = parseInt(sec / 60, 10);
sec = sec % 60; 
s_text = abbrev ? "sec" : "second"; 
s_amt = sec; 
p_text = abbrev ? "min" : "minute"; 
p_amt = min;
if (min > 59) {
var hour = parseInt(min / 60, 10);
min = min % 60; 
s_text = abbrev ? "min" : "minute"; 
s_amt = min; 
p_text = abbrev ? "hr" : "hour"; 
p_amt = hour;
if (hour > 23) {
var day = parseInt(hour / 24, 10);
hour = hour % 24; 
s_text = abbrev ? "hr" : "hour"; 
s_amt = hour; 
p_text = "day"; 
p_amt = day;
if (day > 29) {
var month = parseInt(day / 30, 10);
day = day % 30; 
s_text = "day"; 
s_amt = day; 
p_text = abbrev ? "mon" : "month"; 
p_amt = month;
} 
} 
} 
} 
var text = p_amt + "&nbsp;" + p_text;
if ((p_amt != 1) && !abbrev) text += "s";
if (s_amt && !no_secondary) {
text += ", " + s_amt + "&nbsp;" + s_text;
if ((s_amt != 1) && !abbrev) text += "s";
}
return(neg + text);
}
function get_nice_remaining_time(epoch_start, epoch_now, counter, counter_max, abbrev) {
if (counter == counter_max) return 'Complete';
if (counter == 0) return 'n/a';
var sec_remain = parseInt(((counter_max - counter) * (epoch_now - epoch_start)) / counter, 10);
return get_text_from_seconds( sec_remain, abbrev );
}
function dumper(_obj, _max_levels, _indent) {
if (typeof(_max_levels) == 'undefined') _max_levels = 0;
var _text = '';
if (!_indent) {
if (typeof(_obj) == 'object' && typeof(_obj.length) != 'undefined') _text += "[\n";
else _text += "{\n";
_indent = 1;
}
var _indentStr = '';
for (var _k=0; _k<_indent; _k++) _indentStr += "\t";
if (typeof(_obj) == 'object' && typeof(_obj.length) != 'undefined') {
for (var _a = 0; _a < _obj.length; _a++) {
if (typeof(_obj[_a]) != 'function') {
if (typeof(_obj.length) != 'undefined') _text += _indentStr;
else _text += _indentStr + _a + ": ";
if (typeof(_obj[_a]) == 'object') {
if (_obj[_a] == null) {
_text += "null,\n";
}
else if (typeof(_obj[_a].length) != 'undefined') {
if (_max_levels) _text += "[\n" + dumper( _obj[_a], _max_levels - 1, _indent + 1 ) + _indentStr + "],\n";
else _text += "[...],\n";
}
else {
if (_max_levels) _text += "{\n" + dumper( _obj[_a], _max_levels - 1, _indent + 1 ) + _indentStr + "},\n";
else _text += "{...},\n";
}
}
else if (typeof(_obj[_a]) == 'number') _text += _obj[_a] + ",\n";
else _text += '"' + _obj[_a] + '",' + "\n";
} 
} 
} 
else {
for (var _a in _obj) {
if (typeof(_obj[_a]) != 'function') {
if (typeof(_obj.length) != 'undefined') _text += _indentStr;
else _text += _indentStr + _a + ": ";
if (typeof(_obj[_a]) == 'object') {
if (_obj[_a] == null) {
_text += "null,\n";
}
else if (typeof(_obj[_a].length) != 'undefined') {
if (_max_levels) _text += "[\n" + dumper( _obj[_a], _max_levels - 1, _indent + 1 ) + _indentStr + "],\n";
else _text += "[...],\n";
}
else {
if (_max_levels) _text += "{\n" + dumper( _obj[_a], _max_levels - 1, _indent + 1) + _indentStr + "},\n";
else _text += "{...},\n";
}
}
else if (typeof(_obj[_a]) == 'number') _text += _obj[_a] + ",\n";
else _text += '"' + _obj[_a] + '",' + "\n";
} 
} 
} 
if (_indent == 1) {
if (typeof(_obj) == 'object' && typeof(_obj.length) != 'undefined') _text += "]\n";
else _text += "}\n";
}
return _text;

}
function object_tree( title, obj, expanded ) {
var html = '';
var id = 's_' + get_unique_id();
html += '<table cellspacing=0 cellpadding=0 onClick="toggle_section(\'' + id + '\')"><tr>';
html += '<td style="padding:0px" width=16>' + section_control(id, expanded) + '</td>';
html += '<td style="padding:0px" width=16>' + icon('folder') + '</td><td style="padding:0px" width=2>' + spacer(2,1) + '</td>';
html += '<td style="padding:0px"><font class=section_title><nobr><font color=blue style="cursor:pointer"><b>'+title+'</b></font></nobr></font></td>';
html += '</tr></table>';
html += '<div id="'+id+'" style="display:' + (expanded ? 'block' : 'none') + '">';
html += '<table cellspacing=0 cellpadding=0><tr><td style="padding:0px" width=16>&nbsp;</td><td style="padding:0px">';
html += '<table>';
var sorted_keys = hash_keys_to_array(obj).sort();
for (var idx in sorted_keys) {
var key = sorted_keys[idx];
if (typeof(obj[key]) == 'object') {
html += '<tr><td style="padding:0px">';
html += object_tree( key, obj[key], 0 );
html += '</td></tr>';
}
}
for (var idx in sorted_keys) {
var key = sorted_keys[idx];
if (typeof(obj[key]) != 'object') {
html += '<tr><td style="padding:0px">';
html += '<table cellspacing=0 cellpadding=0><tr><td style="padding:0px" width=16>&nbsp;</td><td style="padding:0px">';
html += icon( 'file', '<b>' + key.toString().replace(/^\W+/, "") + ':</b> ' + obj[key] );
html += '</td></tr></table>';
html += '</td></tr>';
}
}
html += '</table>';
html += '</td></tr></table>';
html += '</div>';
return html;
}
function this_hour() {
var now = new Date();
var then = new Date(
now.getFullYear(),
now.getMonth(),
now.getDate(),
now.getHours(),
0, 0, 0 );
return parseInt( then.getTime() / 1000, 10 );
}
function today_midnight() {
var now = new Date();
var then = new Date(
now.getFullYear(),
now.getMonth(),
now.getDate(),
0, 0, 0, 0 );
return parseInt( then.getTime() / 1000, 10 );
}
function yesterday_midnight() {
var midnight = today_midnight();
var yesterday = new Date( (midnight - 1) * 1000 );
var then = new Date(
yesterday.getFullYear(),
yesterday.getMonth(),
yesterday.getDate(),
0, 0, 0, 0 );
return parseInt( then.getTime() / 1000, 10 );
}
function this_month_midnight() {
var now = new Date();
var then = new Date(
now.getFullYear(),
now.getMonth(),
1, 0, 0, 0, 0 );
return parseInt( then.getTime() / 1000, 10 );
}
function last_month_midnight() {
var this_month = this_month_midnight();
var last_month = new Date( (this_month - 1) * 1000 );
var then = new Date(
last_month.getFullYear(),
last_month.getMonth(),
1, 0, 0, 0, 0 );
return parseInt( then.getTime() / 1000, 10 );
}
function get_date_args(epoch) {
var date = new Date( epoch * 1000 );
var args = {
year: date.getFullYear(),
mon: date.getMonth() + 1,
mday: date.getDate(),
hour: date.getHours(),
min: date.getMinutes(),
sec: date.getSeconds(),
msec: date.getMilliseconds()
};
args.yyyy = args.year;
if (args.mon < 10) args.mm = "0" + args.mon; else args.mm = args.mon;
if (args.mday < 10) args.dd = "0" + args.mday; else args.dd = args.mday;
if (args.hour < 10) args.hh = "0" + args.hour; else args.hh = args.hour;
if (args.min < 10) args.mi = "0" + args.min; else args.mi = args.min;
if (args.sec < 10) args.ss = "0" + args.sec; else args.ss = args.sec;
if (args.hour >= 12) {
args.ampm = 'pm';
args.hour12 = args.hour - 12;
if (!args.hour12) args.hour12 = 12;
}
else {
args.ampm = 'am';
args.hour12 = args.hour;
if (!args.hour12) args.hour12 = 12;
}
return args;
}
function get_time_from_args(args) {
var then = new Date(
args.year,
args.mon - 1,
args.mday,
args.hour,
args.min,
args.sec,
0
);
return parseInt( then.getTime() / 1000, 10 );
}
function yyyy(epoch) {
if (!epoch) epoch = time_now();
var args = get_date_args(epoch);
return args.year;
}
function yyyy_mm_dd(epoch) {
if (!epoch) epoch = time_now();
var args = get_date_args(epoch);
return args.yyyy + '/' + args.mm + '/' + args.dd;
}
function normalize_time(epoch, zero_args) {
var args = get_date_args(epoch);
for (key in zero_args) args[key] = zero_args[key];
if (!args['mday']) args['mday'] = 1;
return get_time_from_args(args);
}
function find_iframe_doc(id) {
var domObj = $(id);
if (!domObj) return null;
var doc = null;
if (domObj.contentDocument)	doc = domObj.contentDocument; 
else if (domObj.contentWindow) doc = domObj.contentWindow.document; 
else if (domObj.document) doc = eval(domObj.id+".document"); 
return doc;
}
function rand_array(arr) {
return arr[ parseInt(Math.random() * arr.length, 10) ];
}
function find_elem_idx(arr, elem) {
for (var idx = 0, len = arr.length; idx < len; idx++) {
if (arr[idx] == elem) return idx;
}
return -1; 
}
function remove_from_array(arr, elem) {
var idx = find_elem_idx(arr, elem);
if (idx > -1) {
array_splice( arr, idx, 1 );
return 1;
}
return 0;
}
function remove_all_from_array(arr, elem) {
var done = 0;
var found = 0;
while (!done) {
var idx = find_elem_idx(arr, elem);
if (idx > -1) { array_splice(arr, idx, 1); found++; }
else { done = 1; }
}
return found;
}
function getInnerWindowSize(dom) {
if (!dom) dom = window;
var myWidth = 0, myHeight = 0;
if( typeof( dom.innerWidth ) == 'number' ) {
myWidth = dom.innerWidth;
myHeight = dom.innerHeight;
}
else if( dom.document.documentElement && ( dom.document.documentElement.clientWidth || dom.document.documentElement.clientHeight ) ) {
myWidth = dom.document.documentElement.clientWidth;
myHeight = dom.document.documentElement.clientHeight;
}
else if( dom.document.body && ( dom.document.body.clientWidth || dom.document.body.clientHeight ) ) {
myWidth = dom.document.body.clientWidth;
myHeight = dom.document.body.clientHeight;
}
return { width: myWidth, height: myHeight };
}
function getScrollXY(dom) {
if (!dom) dom = window;
var scrOfX = 0, scrOfY = 0;
if( typeof( dom.pageYOffset ) == 'number' ) {
scrOfY = dom.pageYOffset;
scrOfX = dom.pageXOffset;
} else if( dom.document.body && ( dom.document.body.scrollLeft || dom.document.body.scrollTop ) ) {
scrOfY = dom.document.body.scrollTop;
scrOfX = dom.document.body.scrollLeft;
} else if( dom.document.documentElement && ( dom.document.documentElement.scrollLeft || dom.document.documentElement.scrollTop ) ) {
scrOfY = dom.document.documentElement.scrollTop;
scrOfX = dom.document.documentElement.scrollLeft;
}
return { x: scrOfX, y: scrOfY };
}
function getScrollMax(dom) {
if (!dom) dom = window;
var myWidth = 0, myHeight = 0;
if (dom.document.body.scrollHeight) {
myWidth = dom.document.body.scrollWidth;
myHeight = dom.document.body.scrollHeight;
}
else if (dom.document.documentElement.scrollHeight) {
myWidth = dom.document.documentElement.scrollWidth;
myHeight = dom.document.documentElement.scrollHeight;
}
return { width: myWidth, height: myHeight };
}
function safe_call(name, arg1, arg2, arg3) {
if (window[name]) return window[name](arg1, arg2, arg3);
else return null;
}
function hires_time_now() {
var now = new Date();
return ( now.getTime() / 1000 );
}
function fire_callback(callback) {
var args = array_slice( arguments, 1 );
if (isa_array(callback)) {
var obj = callback[0];
var func = callback[1];
return obj[func].apply(obj, args);
}
else if (typeof(callback) == 'function') {
return callback.apply(null, args);
}
else {
return window[callback].apply(null, args);
}
}
function fire_hook(name) {
if (session.hooks[name]) {
var args = array_slice(arguments, 1);
array_unshift( args, session.hooks[name] );
delete session.hooks[name];
return fire_callback.apply(window, args);
}
return true; 
}
function str_value(str) {
if (typeof(str) == 'undefined') str = '';
else if (str === null) str = '';
return '' + str;
}
function pluralize(word, num) {
if (num != 1) return word + 's'; else return word;
}
function get_menu_value(id) {
var menu = $(id);
if (!menu) return '';
return menu.options[menu.selectedIndex].value;
}
function get_menu_text(id) {
var menu = $(id);
if (!menu) return '';
return menu.options[menu.selectedIndex].text;
}
function set_menu_value(id, value, auto_add) {
var menu = $(id);
if (!menu) return false;
for (var idx = 0, len = menu.options.length; idx < len; idx++) {
if (menu.options[idx].value == value) {
menu.selectedIndex = idx;
return true;
}
}
if (auto_add) {
menu.options[menu.options.length] = new Option(value, value);
menu.selectedIndex = menu.options.length - 1;
return true;
}
return false;
}
function disable_menu(id) {
var menu = $(id);
if (!menu) return false;
menu.disabled = true;
menu.setAttribute( 'disabled', 'disabled' );
}
function enable_menu(id) {
var menu = $(id);
if (!menu) return false;
menu.disabled = false;
menu.setAttribute( 'disabled', '' );
}
function populate_menu(id, items, sel_value) {
var menu = $(id);
if (!menu) return false;
menu.options.length = 0;
for (var idx = 0, len = items.length; idx < len; idx++) {
var item = items[idx];
var item_name = isa_array(item) ? item[0] : item;
var item_value = isa_array(item) ? item[1] : item;
menu.options[ menu.options.length ] = new Option( item_name, item_value );
if (item_value == sel_value) menu.selectedIndex = idx;
} 
}
function dirname(path) {
return path.toString().replace(/\/$/, "").replace(/\/[^\/]+$/, "");
}
function basename(path) {
return path.toString().replace(/\/$/, "").replace(/^(.*)\/([^\/]+)$/, "$2");
}
function strip_ext(path) {
return path.toString().replace(/\.\w+$/, "");
}
function mm_dd_yyyy(epoch, ch) {
if (!ch) ch = '/';
var dargs = get_date_args(epoch);
if (dargs.mon < 10) dargs.mon = '0' + dargs.mon;
if (dargs.mday < 10) dargs.mday = '0' + dargs.mday;
return dargs.year + ch + dargs.mon + ch + dargs.mday;
}
function get_nice_date(epoch, abbrev) {
var dargs = get_date_args(epoch);
var month = months[dargs.mon - 1][1];
if (abbrev) month = month.substring(0, 3);
return month + ' ' + dargs.mday + ', ' + dargs.year;
}
function get_nice_time(epoch, secs) {
var dargs = get_date_args(epoch);
if (dargs.min < 10) dargs.min = '0' + dargs.min;
if (dargs.sec < 10) dargs.sec = '0' + dargs.sec;
var output = dargs.hour12 + ':' + dargs.min;
if (secs) output += ':' + dargs.sec;
output += ' ' + dargs.ampm.toUpperCase();
return output;
}
function get_nice_date_time(epoch, secs) {
return get_nice_date(epoch) + ' ' + get_nice_time(epoch, secs);
}
function get_short_date_time(epoch) {
return get_nice_date(epoch, true) + ' ' + get_nice_time(epoch, false);
}
function get_midnight(date) {
var midnight = parseInt( date.getTime() / 1000, 10 );
midnight -= (date.getHours() * 3600);
midnight -= (date.getMinutes() * 60);
midnight -= date.getSeconds();
return midnight;
}
function get_relative_date(epoch, show_time) {
var mydate;
var now = new Date();
var now_epoch = parseInt( now.getTime() / 1000, 10 );
if (epoch) {
mydate = new Date( epoch * 1000 );
epoch = parseInt( epoch, 10 );
}
else {
mydate = new Date();
epoch = parseInt( mydate.getTime() / 1000, 10 );
}
var full_date_string = mydate.toLocaleString();
var html = '<span title="'+full_date_string+'">';
var mydate_midnight = get_midnight( mydate );
var now_midnight = get_midnight( now );
if (mydate_midnight > now_midnight) {
var mm = mydate.getMonth() + 1; 
var dd = mydate.getDate(); 
var yyyy = mydate.getFullYear();
html += short_month_names[ mydate.getMonth() ] + ' ' + dd;
if (yyyy != now.getFullYear()) html += ', ' + yyyy;
}
else if (mydate_midnight == now_midnight) {
if (show_time) {
if (now_epoch - epoch < 1) {
html += 'Now';
}
else if (now_epoch - epoch < 60) {
html += 'A Moment Ago';
}
else if (now_epoch - epoch < 3600) {
var min = parseInt( (now_epoch - epoch) / 60, 10 );
html += min + ' Minute';
if (min != 1) html += 's';
html += ' Ago';
}
else if (now_epoch - epoch <= 12 * 3600) {
var hr = parseInt( (now_epoch - epoch) / 3600, 10 );
html += hr + ' Hour';
if (hr != 1) html += 's';
html += ' Ago';
}
else {
html += 'Earlier Today';
if (show_time) html += ', ' + get_short_time(epoch);
}
}
else html += 'Today';
}
else if (now_midnight - mydate_midnight == 86400) {
html += 'Yesterday';
if (show_time) html += ', ' + get_short_time(epoch);
}
else if ((now_midnight - mydate_midnight < 86400 * 7) && (mydate.getDay() < now.getDay())) {
html += day_names[ mydate.getDay() ];
if (show_time) html += ', ' + get_short_time(epoch);
}
else if ((mydate.getMonth() == now.getMonth()) && (mydate.getFullYear() == now.getFullYear())) {
var mydate_sunday = mydate_midnight - (mydate.getDay() * 86400);
var now_sunday = now_midnight - (now.getDay() * 86400);
if (now_sunday - mydate_sunday == 86400 * 7) {
html += 'Last ' + day_names[ mydate.getDay() ];
}
else if (now_sunday - mydate_sunday == 86400 * 14) {
html += 'Two Weeks Ago';
}
else if (now_sunday - mydate_sunday == 86400 * 21) {
html += 'Three Weeks Ago';
}
else {
html += 'Four Weeks Ago';
}
}
else {
var mm = mydate.getMonth() + 1; 
var dd = mydate.getDate(); 
var yyyy = mydate.getFullYear();
html += short_month_names[ mydate.getMonth() ] + ' ' + dd;
if (yyyy != now.getFullYear()) html += ', ' + yyyy;
}
html += '</span>';
return html;
}
function get_short_time(epoch, show_msec) {
var mydate;
if (epoch) mydate = new Date( epoch * 1000 );
else mydate = new Date();
var ampm = 'AM';
var hh = mydate.getHours();
if (hh >= 12) { ampm = 'PM'; hh -=12; }
if (hh == 0) hh = 12;
var mi = mydate.getMinutes(); if (mi < 10) mi = "0" + mi;
var ss = mydate.getSeconds(); if (ss < 10) ss = "0" + ss;
var msec = mydate.getMilliseconds();
if (msec < 10) msec = "00" + msec;
else if (msec < 100) msec = "0" + msec;
var str = hh+':'+mi;
if (show_msec) str += ':'+ss+'.'+msec;
str += '&nbsp;'+ampm;
return str;
}
function load_script(url) {
var scr = document.createElement('SCRIPT');
scr.type = 'text/javascript';
scr.src = url;
document.getElementsByTagName('HEAD')[0].appendChild(scr);
}
function safe_query_add(url, str) {
if (url.match(/\?/)) url += '&'; else url += '?';
return url + str;
}
function trim(str) {
return str.toString().replace(/^\s+/, "").replace(/\s+$/, "");
}
function compose_attribs(attribs) {
var html = '';
if (attribs) {
for (var key in attribs) {
html += " " + key + "=\"" + attribs[key] + "\"";
}
}
return html;
}
function compose_style(attribs) {
var html = '';
if (attribs) {
for (var key in attribs) {
html += " " + key + ":" + attribs[key] + ";";
}
}
return html;
}
function find_idx_in_array(arr, elem) {
for (var idx = 0, len = arr.length; idx < len; idx++) {
if (arr[idx] == elem) return idx;
}
return -1;
}
function find_in_array(arr, elem) {
for (var idx = 0, len = arr.length; idx < len; idx++) {
if (arr[idx] == elem) return true;
}
return false;
}
function delete_from_array(arr, elem) {
var idx = find_idx_in_array(arr, elem);
if (idx > -1) arr.splice(idx, 1);
}
function tiptext_field(id, class_name, attribs, style, value, tip) {
var html = '';
if (!attribs) attribs = {};
if (!style) style = {};
value = str_value(value);
if (value.length == 0) {
value = tip;
if (class_name.length) class_name += ' ';
class_name += 'tiptext_empty';
}
html += '<input type="text" class="'+class_name+'" id="'+id+'" style="'+compose_style(style)+'" value="'+escape_text_field_value(value)+'" title="'+tip+'" onBlur="tiptext_blur(this)" onFocus="tiptext_focus(this)" '+compose_attribs(attribs)+'>';
return html;
}
function tiptext_focus(obj) {
if (obj.value == obj.getAttribute('title')) obj.value = '';
$(obj).removeClass('tiptext_empty');
}
function tiptext_blur(obj) {
if (!obj.value.length) {
obj.value = obj.getAttribute('title');
$(obj).addClass('tiptext_empty');
}
else if (obj.value != obj.getAttribute('title')) {
$(obj).removeClass('tiptext_empty');
}
}
function tiptext_value(id) {
var value = get_clean_field_value(id);
if (value == $(id).getAttribute('title')) value = '';
return value;
}
function tiptext_set(id, value) {
var obj = $(id); if (!obj) return;
value = str_value(value);
if (value.length > 0) {
tiptext_focus(obj);
obj.value = value;
}
else {
obj.value = '';
tiptext_blur(obj);
}
}
function get_clean_field_value(id) {
return trim( $(id).value );
}
function validate_url(url) {

return !!url.match(/^(https?\:\/\/)[\w\-\.\/]+(\?\S+)?$/);
}
function format_price_usd(value, show_usd) {
var matches = value.toString().match(/^(\d+)\.(\d+)$/);
if (matches) {
if (matches[2].length < 2) matches[2] = '0' + matches[2];
else if (matches[2].length > 2) matches[2] = matches[2].substring(0, 2);
return '$' + commify(matches[1]) + '.' + matches[2] + (show_usd ? ' USD' : '');
}
else return '$' + commify(value) + '.00' + (show_usd ? ' USD' : '');
}
function pretty_print_csv(csv) {
csv = str_value(csv);
return csv.toString().replace(/\,(\S)/g, ", $1");
}
function blur_all_text_fields() {
var fields = document.getElementsByTagName('input');
for (var idx = 0, len = fields.length; idx < len; idx++) {
var field = fields[idx];
if (field.type == 'text') field.blur();
}
}
function escape_text_field_value(text) {
text = encode_attrib_entities( str_value(text) );
if (ie && text.replace) text = text.replace(/\&apos\;/g, "'");
return text;
}
function escape_textarea_value(text) {
text = encode_entities( str_value(text) );
if (ie && text.replace) text = text.replace(/\&apos\;/g, "'");
return text;
}
function selectLine(input, lineNum) {
lineNum--; 
var lines = input.value.split(/\n/);
var before = '';
for (var idx = 0, len = lines.length; idx < len; idx++) {
if (idx == lineNum) idx = len;
else before += lines[idx] + "\n";
}
setSelectionRange( input, before.length, before.length + lines[lineNum].length + 1 );
}
function selectAllText(input) {
if (input.setSelectionRange) {
input.focus();
input.setSelectionRange(0, input.value.length);
}
else if (input.createTextRange) {
var range = input.createTextRange();
range.collapse(true);
range.moveEnd('character', input.value.length);
range.moveStart('character', 0);
range.select();
}
return true;
}
function setSelectionRange(input, selectionStart, selectionEnd) {
if (input.setSelectionRange) {
input.focus();
input.setSelectionRange(selectionStart, selectionEnd);
}
else if (input.createTextRange) {
var range = input.createTextRange();
range.collapse(true);
range.moveEnd('character', selectionEnd);
range.moveStart('character', selectionStart);
range.select();
}
}
function getSelectedText(input) {
if (input.setSelectionRange) {
return input.value.substring( input.selectionStart, input.selectionEnd );
}
else if (document.selection) {
var range = document.selection.createRange();
if (range.parentElement() == input) {
return range.text;
}
}
return '';
}
function indentSelectedText(input, direction) {
if (input.setSelectionRange) {
var selectionStart = input.selectionStart;
var selectionEnd = input.selectionEnd;
while ((selectionStart > 0) && (input.value.substring(selectionStart - 1, selectionStart) != "\n"))
selectionStart--;
while ((selectionEnd < input.value.length) && !input.value.substring(selectionEnd - 1, selectionEnd).match(/[\r\n]/))
selectionEnd++;
input.setSelectionRange( selectionStart, selectionEnd );
input.focus();
}
var lines = getSelectedText(input).split(/\n/);
var text = '';
for (var idx = 0, len = lines.length; idx < len - 1; idx++) {
var line = lines[idx];
if (direction == 1) text += "\t" + line;
else if (direction == -1) text += line.replace(/^(\t| {4})/, '');
if (idx < len - 1) text += "\n";
}
replaceSelection(input, text);
}
function surroundSelection(input, left, right) {
if (!right) right = left;
var text = getSelectedText(input);
replaceSelection(input, left + text + right);
if (!text.length && input.setSelectionRange) {
input.setSelectionRange(input.selectionStart - right.length, input.selectionEnd - right.length);
}
}
function replaceSelection (input, replaceString) {
var oldScroll = input.scrollTop;
if (input.setSelectionRange) {
var selectionStart = input.selectionStart;
var selectionEnd = input.selectionEnd;
input.value = input.value.substring(0, selectionStart)+ replaceString + input.value.substring(selectionEnd);
if (selectionStart != selectionEnd){ 
setSelectionRange(input, selectionStart, selectionStart + 	replaceString.length);
}else{
setSelectionRange(input, selectionStart + replaceString.length, selectionStart + replaceString.length);
}
}else if (document.selection) {
var range = document.selection.createRange();
if (range.parentElement() == input) {
var isCollapsed = range.text == '';
range.text = replaceString;
if (!isCollapsed)  {
range.moveStart('character', -replaceString.length);
range.select();
}
}
}
input.scrollTop = oldScroll;
}
function catchTab(item,e){
var c = e.which ? e.which : e.keyCode;
if (c == 9) { 
if (getSelectedText(item).length) {
indentSelectedText(item, e.shiftKey ? -1 : 1);
}
else {
replaceSelection(item, String.fromCharCode(9));
}
setTimeout("document.getElementById('"+item.id+"').focus();",0);	
return false;
}
}
function count_chars(str, ch) {
var count = 0;
for (var idx = 0, len = str.length; idx < len; idx++) {
if (str.substring(idx, idx + 1) == ch) count++;
}
return count;
}
function multiplex_str(ch, num) {
var str = '';
for (var idx = 0; idx < num; idx++) str += ch;
return str;
}
function deep_copy_tree(obj) {
var new_obj = null;
if (typeof(obj.length) != 'undefined') {
new_obj = [];
for (var idx = 0, len = obj.length; idx < len; idx++) {
if ((typeof(obj[idx]) == 'object') || (typeof(obj[idx]) == 'array')) new_obj[idx] = deep_copy_tree( obj[idx] );
else new_obj[idx] = obj[idx];
}
}
else {
new_obj = {};
for (var key in obj) {
if ((typeof(obj[key]) == 'object') || (typeof(obj[key]) == 'array')) new_obj[key] = deep_copy_tree( obj[key] );
else new_obj[key] = obj[key];
}
}
return new_obj;
}
function strip_base_path(path, base) {
if (!path || !base) return '';
if (path.indexOf(base) == 0) path = path.substring( base.length );
return path;
}
function parse_useragent(useragent) {
if (!useragent) useragent = navigator.userAgent;
useragent = '' + useragent;
var os = 'Unknown';
var browser = 'Unknown';
useragent = useragent.replace(/\;\s+[\d\.]+\s+cache[\.\w]+(\:\d+)?\s+\(squid[^\)]+\)/, '');
if (useragent.match(/SunOS/)) { os = 'SunOS'; }
else if (useragent.match(/IRIX/)) { os = 'IRIX'; }
else if (useragent.match(/Linux/)) { os = 'Linux'; }
else if (useragent.match(/iPhone/)) { os = 'iPhone'; }
else if (useragent.match(/Mac\s+OS\s+X\s+([\d\_]+)/)) { os = 'Mac OS X'; }
else if (useragent.match(/(Mac\s+OS\s+X|Mac_PowerPC)/)) { os = 'Mac OS X'; }
else if (useragent.match(/Mac/)) { os = 'Mac OS'; }
else if (useragent.match(/Windows\s+CE/)) { os = 'Windows CE'; }
else if (useragent.match(/(Windows\s+ME|Win\s9x)/)) { os = 'Windows Me'; }
else if (useragent.match(/Win(95|98|NT)/)) { os = "Windows " + RegExp.RegExp.$1; }
else if (useragent.match(/Win\D+([\d\.]+)/)) {
var ver = RegExp.$1;
if (ver.match(/95/)) { os = 'Windows 95'; }
else if (ver.match(/98/)) { os = 'Windows 98'; }
else if (ver.match(/4\.0/)) { os = 'Windows NT'; }
else if (ver.match(/5\.0/)) { os = 'Windows 2000'; }
else if (ver.match(/5\.[12]/)) {
os = 'Windows XP';
}
else if (ver.match(/6.\d+/)) { os = 'Windows Vista'; }
else if (ver.match(/7.\d+/)) { os = 'Windows 7'; }
else if (useragent.match(/Windows\sNT/)) { os = 'Windows NT'; }
}
else if (useragent.match(/Windows\sNT/)) { os = 'Windows NT'; }
else if (useragent.match(/PSP/)) { os = 'Sony PSP'; }
else if (useragent.match(/WebTV/)) { os = 'Web TV'; }
else if (useragent.match(/Palm/)) { os = 'Palm OS'; }
else if (useragent.match(/Wii/)) { os = 'Nintendo Wii'; }
else if (useragent.match(/Symbian/)) { os = 'Symbian OS'; }
if (useragent.match(/Chrome\D+(\d+)/)) {
browser = "Chrome " + RegExp.$1;
}
else if (useragent.match(/Safari\/((\d+)[\d\.]+)/)) {
if (useragent.match(/Version\D+([\d]+)/)) {
browser = "Safari " + RegExp.$1;
}
else {
browser = 'Safari 2';
}
}
else if (useragent.match(/iCab/)) { browser = 'iCab'; }
else if (useragent.match(/OmniWeb/)) { browser = 'OmniWeb'; }
else if (useragent.match(/Opera\D*(\d+)/)) { browser = "Opera " + RegExp.$1; }
else if (useragent.match(/(Camino|Chimera)/)) { browser = 'Camino'; }
else if (useragent.match(/Firefox\D*(\d+\.\d+)/)) { browser = "Firefox " + RegExp.$1; }
else if (useragent.match(/Netscape\D*(\d+(\.\d+)?)/)) { browser = "Netscape " + RegExp.$1; }
else if (useragent.match(/Gecko/)) { browser = 'Mozilla'; }
else if (useragent.match(/America\s+Online\s+Browser\D+(\d+(\.\d+)?)/)) { browser = "AOL Explorer " + RegExp.$1; }
else if (useragent.match(/PSP\D+(\d+(\.\d+)?)/)) { browser = "PSP " + RegExp.$1; }
else if (useragent.match(/Lynx\D+(\d+(\.\d+)?)/)) { browser = "Lynx " + RegExp.$1; }
else if (useragent.match(/Konqueror\D+(\d+(\.\d+)?)/)) { browser = "Konqueror " + RegExp.$1; }
else if (useragent.match(/Blazer\D+(\d+(\.\d+)?)/)) { browser = "Blazer " + RegExp.$1; }
else if (useragent.match(/MSIE\D+(\d+)/)) { browser = "Internet Explorer " + RegExp.$1; }
else if (useragent.match(/Mozilla\/(4\.\d)/)) {
var ver = RegExp.$1;
if (ver != '4.0') { browser = "Netscape " + ver; }
else { browser = "Mozilla"; }
}
else if (useragent.match(/Mozilla/)) { browser = "Mozilla"; }
if ((os == 'Unknown') && (browser == 'Unknown') && useragent.match(/Flash\s+Player\s+([\d\.\,]+)/)) {
os = 'Adobe';
browser = 'Flash Player ' + RegExp.$1;
}
if ((os == 'Unknown') && (browser == 'Unknown')) {
os = '';
browser = useragent;
}
return { os: os, browser: browser };
}
function forceFloatString(value) {
if (!value.toString().match(/^\d+\.\d+$/)) value = '' + value + '.0';
return value;
}
function check_reserved_word(name) {
return !name.toString().match(/^(break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|this|throw|try|typeof|var|void|while|with|type|interface|class)$/);
}
function get_next_key_seq(hash) {
var largest = 0;
for (var key in hash) {
if (key.match(/^\d+$/)) {
var num = parseInt(key, 10);
if (num > largest) largest = num;
}
}
return largest + 1;
}
function scroll_to_element(elem) {
var elem = $(elem);
if (elem) {
var info = get_dom_object_info( $(elem) );
if (info) window.scrollTo( 0, info.top );
}
}
function get_user_client_info(str) {
str = str.toString().replace( /\b10\.\d+\.\d+\.\d+\,\s*/, '' ); 
var ip = '';
if (str.match(/^(\d+\.\d+\.\d+\.\d+)\,\s*/)) {
ip = RegExp.$1;
str = str.replace( /^(\d+\.\d+\.\d+\.\d+)\,\s*/, '' );
}
str = str.toString().replace(/\;\s+[\d\.]+\s+cache[\.\w]+(\:\d+)?\s+\(squid[^\)]+\)/, '');
var user_info = parse_useragent( str );
user_info.ip = ip;
return user_info;
}
window.EaseAlgos = {
Linear: function(amount) { return amount; },
Quadratic: function(amount) { return Math.pow(amount, 2); },
Cubic: function(amount) { return Math.pow(amount, 3); },
Quartetic: function(amount) { return Math.pow(amount, 4); },
Quintic: function(amount) { return Math.pow(amount, 5); },
Sine: function(amount) { return 1 - Math.sin((1 - amount) * Math.PI / 2); },
Circular: function(amount) { return 1 - Math.sin(Math.acos(amount)); }
};
window.EaseModes = {
EaseIn: function(amount, algo) { return window.EaseAlgos[algo](amount); },
EaseOut: function(amount, algo) { return 1 - window.EaseAlgos[algo](1 - amount); },
EaseInOut: function(amount, algo) {
return (amount <= 0.5) ? window.EaseAlgos[algo](2 * amount) / 2 : (2 - window.EaseAlgos[algo](2 * (1 - amount))) / 2;
}
};
function ease(amount, mode, algo) {
return window.EaseModes[mode]( amount, algo );
}
function tweenFrame(start, end, amount, mode, algo) {
return start + (ease(amount, mode, algo) * (end - start));
}
var indent_string = "\t";
var xml_header = '<?xml version="1.0"?>';
var sort_args = null;
var re_valid_tag_name  = /^\w[\w\-\:]*$/;
function XML(args) {
if (!args) args = '';
if (isa_hash(args)) {
for (var key in args) this[key] = args[key];
}
else this.text = args || '';
this.tree = {};
this.errors = [];
this.piNodeList = [];
this.dtdNodeList = [];
this.documentNodeName = '';
this.patTag.lastIndex = 0;
if (this.text) this.parse();
}
XML.prototype.preserveAttributes = false;
XML.prototype.patTag = /([^<]*?)<([^>]+)>/g;
XML.prototype.patSpecialTag = /^\s*([\!\?])/;
XML.prototype.patPITag = /^\s*\?/;
XML.prototype.patCommentTag = /^\s*\!--/;
XML.prototype.patDTDTag = /^\s*\!DOCTYPE/;
XML.prototype.patCDATATag = /^\s*\!\s*\[\s*CDATA/;
XML.prototype.patStandardTag = /^\s*(\/?)([\w\-\:\.]+)\s*(.*)$/;
XML.prototype.patSelfClosing = /\/\s*$/;
XML.prototype.patAttrib = new RegExp("([\\w\\-\\:\\.]+)\\s*=\\s*([\\\"\\'])([^\\2]*?)\\2", "g");
XML.prototype.patPINode = /^\s*\?\s*([\w\-\:]+)\s*(.*)$/;
XML.prototype.patEndComment = /--$/;
XML.prototype.patNextClose = /([^>]*?)>/g;
XML.prototype.patExternalDTDNode = new RegExp("^\\s*\\!DOCTYPE\\s+([\\w\\-\\:]+)\\s+(SYSTEM|PUBLIC)\\s+\\\"([^\\\"]+)\\\"");
XML.prototype.patInlineDTDNode = /^\s*\!DOCTYPE\s+([\w\-\:]+)\s+\[/;
XML.prototype.patEndDTD = /\]$/;
XML.prototype.patDTDNode = /^\s*\!DOCTYPE\s+([\w\-\:]+)\s+\[(.*)\]/;
XML.prototype.patEndCDATA = /\]\]$/;
XML.prototype.patCDATANode = /^\s*\!\s*\[\s*CDATA\s*\[(.*)\]\]/;
XML.prototype.attribsKey = '_Attribs';
XML.prototype.dataKey = '_Data';
XML.prototype.parse = function(branch, name) {
if (!branch) branch = this.tree;
if (!name) name = null;
var foundClosing = false;
var matches = null;
while ( matches = this.patTag.exec(this.text) ) {
var before = matches[1];
var tag = matches[2];
if (before.match(/\S/)) {
if (typeof(branch[this.dataKey]) != 'undefined') branch[this.dataKey] += ' '; else branch[this.dataKey] = '';
branch[this.dataKey] += trim(decode_entities(before));
}
if (tag.match(this.patSpecialTag)) {
if (tag.match(this.patPITag)) tag = this.parsePINode(tag);
else if (tag.match(this.patCommentTag)) tag = this.parseCommentNode(tag);
else if (tag.match(this.patDTDTag)) tag = this.parseDTDNode(tag);
else if (tag.match(this.patCDATATag)) {
tag = this.parseCDATANode(tag);
if (typeof(branch[this.dataKey]) != 'undefined') branch[this.dataKey] += ' '; else branch[this.dataKey] = '';
branch[this.dataKey] += trim(decode_entities(tag));
} 
else {
this.throwParseError( "Malformed special tag", tag );
break;
} 
if (tag == null) break;
continue;
} 
else {
var matches = tag.match(this.patStandardTag);
if (!matches) {
this.throwParseError( "Malformed tag", tag );
break;
}
var closing = matches[1];
var nodeName = matches[2];
var attribsRaw = matches[3];
if (closing) {
if (nodeName == (name || '')) {
foundClosing = 1;
break;
}
else {
this.throwParseError( "Mismatched closing tag (expected </" + name + ">)", tag );
break;
}
} 
else {
var selfClosing = !!attribsRaw.match(this.patSelfClosing);
var leaf = {};
var attribs = leaf;
if (this.preserveAttributes) {
leaf[this.attribsKey] = {};
attribs = leaf[this.attribsKey];
}
this.patAttrib.lastIndex = 0;
while ( matches = this.patAttrib.exec(attribsRaw) ) {
attribs[ matches[1] ] = decode_entities( matches[3] );
} 
if (this.preserveAttributes && !num_keys(attribs)) {
delete leaf[this.attribsKey];
}
if (!selfClosing) {
this.parse( leaf, nodeName );
if (this.error()) break;
}
var num_leaf_keys = num_keys(leaf);
if ((typeof(leaf[this.dataKey]) != 'undefined') && (num_leaf_keys == 1)) {
leaf = leaf[this.dataKey];
}
else if (!num_leaf_keys) {
leaf = '';
}
if (typeof(branch[nodeName]) != 'undefined') {
if (isa_array(branch[nodeName])) {
array_push( branch[nodeName], leaf );
}
else {
var temp = branch[nodeName];
branch[nodeName] = [ temp, leaf ];
}
}
else {
branch[nodeName] = leaf;
}
if (this.error() || (branch == this.tree)) break;
} 
} 
} 
if (name && !foundClosing) {
this.throwParseError( "Missing closing tag (expected </" + name + ">)", name );
}
if (branch == this.tree) {
if (typeof(this.tree[this.dataKey]) != 'undefined') delete this.tree[this.dataKey];
if (num_keys(this.tree) > 1) {
this.throwParseError( 'Only one top-level node is allowed in document', first_key(this.tree) );
return;
}
this.documentNodeName = first_key(this.tree);
if (this.documentNodeName) {
this.tree = this.tree[this.documentNodeName];
}
}
};
XML.prototype.throwParseError = function(key, tag) {
var parsedSource = this.text.substring(0, this.patTag.lastIndex);
var eolMatch = parsedSource.match(/\n/g);
var lineNum = (eolMatch ? eolMatch.length : 0) + 1;
lineNum -= tag.match(/\n/) ? tag.match(/\n/g).length : 0;
array_push(this.errors, {
type: 'Parse',
key: key,
text: '<' + tag + '>',
line: lineNum
});
};
XML.prototype.error = function() {
return this.errors.length;
};
XML.prototype.getError = function(error) {
var text = '';
if (!error) return '';
text = (error.type || 'General') + ' Error';
if (error.code) text += ' ' + error.code;
text += ': ' + error.key;
if (error.line) text += ' on line ' + error.line;
if (error.text) text += ': ' + error.text;
return text;
};
XML.prototype.getLastError = function() {
if (!this.error()) return '';
return this.getError( this.errors[this.errors.length - 1] );
};
XML.prototype.parsePINode = function(tag) {
if (!tag.match(this.patPINode)) {
this.throwParseError( "Malformed processor instruction", tag );
return null;
}
array_push( this.piNodeList, tag );
return tag;
};
XML.prototype.parseCommentNode = function(tag) {
var matches = null;
this.patNextClose.lastIndex = this.patTag.lastIndex;
while (!tag.match(this.patEndComment)) {
if (matches = this.patNextClose.exec(this.text)) {
tag += '>' + matches[1];
}
else {
this.throwParseError( "Unclosed comment tag", tag );
return null;
}
}
this.patTag.lastIndex = this.patNextClose.lastIndex;
return tag;
};
XML.prototype.parseDTDNode = function(tag) {
var matches = null;
if (tag.match(this.patExternalDTDNode)) {
array_push( this.dtdNodeList, tag );
}
else if (tag.match(this.patInlineDTDNode)) {
this.patNextClose.lastIndex = this.patTag.lastIndex;
while (!tag.match(this.patEndDTD)) {
if (matches = this.patNextClose.exec(this.text)) {
tag += '>' + matches[1];
}
else {
this.throwParseError( "Unclosed DTD tag", tag );
return null;
}
}
this.patTag.lastIndex = this.patNextClose.lastIndex;
if (tag.match(this.patDTDNode)) {
array_push( this.dtdNodeList, tag );
}
else {
this.throwParseError( "Malformed DTD tag", tag );
return null;
}
}
else {
this.throwParseError( "Malformed DTD tag", tag );
return null;
}
return tag;
};
XML.prototype.parseCDATANode = function(tag) {
var matches = null;
this.patNextClose.lastIndex = this.patTag.lastIndex;
while (!tag.match(this.patEndCDATA)) {
if (matches = this.patNextClose.exec(this.text)) {
tag += '>' + matches[1];
}
else {
this.throwParseError( "Unclosed CDATA tag", tag );
return null;
}
}
this.patTag.lastIndex = this.patNextClose.lastIndex;
if (matches = tag.match(this.patCDATANode)) {
return matches[1];
}
else {
this.throwParseError( "Malformed CDATA tag", tag );
return null;
}
};
XML.prototype.getTree = function() {
return this.tree;
};
XML.prototype.compose = function() {
var raw = compose_xml( this.documentNodeName, this.tree );
var body = raw.substring( raw.indexOf("\n") + 1, raw.length );
var xml = '';
if (this.piNodeList.length) {
for (var idx = 0, len = this.piNodeList.length; idx < len; idx++) {
xml += '<' + this.piNodeList[idx] + '>' + "\n";
}
}
else {
xml += xml_header + "\n";
}
if (this.dtdNodeList.length) {
for (var idx = 0, len = this.dtdNodeList.length; idx < len; idx++) {
xml += '<' + this.dtdNodeList[idx] + '>' + "\n";
}
}
xml += body;
return xml;
};
function parse_xml(text) {
var parser = new XML(text);
return parser.error() ? parser.getLastError() : parser.getTree();
}
function trim(text) {
if (text == null) return '';
if (text && text.replace) {
text = text.replace(/^\s+/, "");
text = text.replace(/\s+$/, "");
}
return text;
}
function encode_entities(text) {
if (text == null) return '';
if (text && text.replace) {
text = text.replace(/\&/g, "&amp;"); 
text = text.replace(/</g, "&lt;");
text = text.replace(/>/g, "&gt;");
}
return text;
}
function encode_attrib_entities(text) {
if (text == null) return '';
if (text && text.replace) {
text = text.replace(/\&/g, "&amp;"); 
text = text.replace(/</g, "&lt;");
text = text.replace(/>/g, "&gt;");
text = text.replace(/\"/g, "&quot;");
text = text.replace(/\'/g, "&apos;");
}
return text;
}
function decode_entities(text) {
if (text == null) return '';
if (text && text.replace) {
text = text.replace(/\&lt\;/g, "<");
text = text.replace(/\&gt\;/g, ">");
text = text.replace(/\&quot\;/g, '"');
text = text.replace(/\&apos\;/g, "'");
text = text.replace(/\&amp\;/g, "&"); 
}
return text;
}
function compose_xml(name, node, indent) {
var xml = "";
if (!indent) {
indent = 0;
xml = xml_header + "\n";
}
var indent_text = "";
for (var k = 0; k < indent; k++) indent_text += indent_string;
if ((typeof(node) == 'object') && (node != null)) {
if (!node.length) { 
xml += indent_text + "<" + name;
var num_keys = 0;
var has_attribs = 0;
for (var key in node) num_keys++; 
if (node["_Attribs"]) {
has_attribs = 1;
var sorted_keys = hash_keys_to_array(node["_Attribs"]).sort();
for (var idx = 0, len = sorted_keys.length; idx < len; idx++) {
var key = sorted_keys[idx];
xml += " " + key + "=\"" + encode_attrib_entities(node["_Attribs"][key]) + "\"";
}
} 
if (num_keys > has_attribs) {
xml += ">";
if (node["_Data"]) {
xml += encode_entities(node["_Data"]) + "</" + name + ">\n";
} 
else {
xml += "\n";
var sorted_keys = hash_keys_to_array(node).sort();
for (var idx = 0, len = sorted_keys.length; idx < len; idx++) {
var key = sorted_keys[idx];					
if ((key != "_Attribs") && key.match(re_valid_tag_name)) {
xml += compose_xml( key, node[key], indent + 1 );
} 
} 
xml += indent_text + "</" + name + ">\n";
} 
}
else {
xml += "/>\n";
}
} 
else {
for (var idx = 0; idx < node.length; idx++) {
xml += compose_xml( name, node[idx], indent );
}
} 
} 
else {
xml += indent_text + "<" + name + ">" + encode_entities(node) + "</" + name + ">\n";
} 
return xml;
}
function find_object(obj, criteria) {
var criteria_length = 0;
for (var a in criteria) criteria_length++;
obj = always_array(obj);
for (var a = 0; a < obj.length; a++) {
var matches = 0;
for (var b in criteria) {
if (obj[a][b] && (obj[a][b] == criteria[b])) matches++;
else if (obj[a]["_Attribs"] && obj[a]["_Attribs"][b] && (obj[a]["_Attribs"][b] == criteria[b])) matches++;
}
if (matches >= criteria_length) return obj[a];
}
return null;
}
function find_objects(obj, criteria) {
var objs = new Array();
var criteria_length = 0;
for (var a in criteria) criteria_length++;
obj = always_array(obj);
for (var a = 0; a < obj.length; a++) {
var matches = 0;
for (var b in criteria) {
if (obj[a][b] && obj[a][b] == criteria[b]) matches++;
else if (obj[a]["_Attribs"] && obj[a]["_Attribs"][b] && (obj[a]["_Attribs"][b] == criteria[b])) matches++;
}
if (matches >= criteria_length) array_push( objs, obj[a] );
}
return objs;
}
function find_object_idx(obj, criteria) {
var criteria_length = 0;
for (var a in criteria) criteria_length++;
obj = always_array(obj);
for (var idx = 0; idx < obj.length; idx++) {
var matches = 0;
for (var b in criteria) {
if (obj[idx][b] && (obj[idx][b] == criteria[b])) matches++;
else if (obj[idx]["_Attribs"] && obj[idx]["_Attribs"][b] && (obj[idx]["_Attribs"][b] == criteria[b])) matches++;
}
if (matches >= criteria_length) return idx;
}
return -1;
}
function delete_object(obj, criteria) {
var idx = find_object_idx(obj, criteria);
if (idx > -1) {
array_splice( obj, idx, 1 );
return true;
}
return false;
}
function delete_objects(obj, criteria) {
while (delete_object(obj, criteria)) ;
}
function insert_object_before(obj, criteria, insert) {
var idx = find_object_idx(obj, criteria);
if (idx > -1) {
array_splice( obj, idx, 0, insert );
return true;
}
return false;
}
function always_array(obj, key) {
if (key) {
if ((typeof(obj[key]) != 'object') || (typeof(obj[key].length) == 'undefined')) {
var temp = obj[key];
delete obj[key];
obj[key] = new Array();
obj[key][0] = temp;
}
return null;
}
else {
if ((typeof(obj) != 'object') || (typeof(obj.length) == 'undefined')) { return [ obj ]; }
else return obj;
}
}
function hash_keys_to_array(hash) {
var array = [];
for (var key in hash) array_push(array, key);
return array;
}
function encode_object(obj) {
for (var idx = 1; idx < arguments.length; idx++) obj = merge_objects(obj, arguments[idx]);
var stream = serialize(obj);
return "decode_object('" + escape(stream) + "')";
}
function decode_object(stream) {
var a;
return eval( 'a=' + unescape(stream) );
}
function serialize(thingy, glue) {
if (!glue) glue = ':'; 
var stream = '';
if (typeof(thingy) == 'number') {
stream += thingy;
}
else if (typeof(thingy) == 'string') {
stream += '"' + thingy.replace(/([\"\\])/g, '\\$1').replace(/\r/g, "\\r").replace(/\n/g, "\\n") + '"';
}
else if (isa_hash(thingy)) {
var num = 0;
var buffer = [];
for (var key in thingy) {
buffer[num] = (key.match(/^[A-Za-z]\w*$/) ? key : ('"'+key+'"')) + glue + serialize(thingy[key], glue);
num++;
}
stream += '{' + buffer.join(',') + '}';
}
else if (isa_array(thingy)) {
var buffer = [];
for (var idx = 0, len = thingy.length; idx < len; idx++) {
buffer[idx] = serialize(thingy[idx], glue);
}
stream += '[' + buffer.join(',') + ']';
}
else {
stream += '0';
}
return stream;
}
function ue(str) {
return unescape(str);
}
function custom_sort(a, b) {
var value_a = a[ sort_args.sort_by ];
if (!value_a && a["_Attribs"]) value_a = a["_Attribs"][ sort_args.sort_by ];
var value_b = b[ sort_args.sort_by ];
if (!value_b && b["_Attribs"]) value_b = b["_Attribs"][ sort_args.sort_by ];
var cmp = (value_b < value_a) ? 1 : -1;
return cmp * sort_args.sort_dir;
}
function sort_array(obj, args) {
var list = always_array(obj);
sort_args = args;
return list.sort( custom_sort );
}
function merge_objects(a, b) {
if (!a) a = {};
if (!b) b = {};
var c = {};
if (typeof(a) != 'object') eval( "a = " + a );
if (typeof(b) != 'object') eval( "b = " + b );
for (var key in a) c[key] = a[key];
for (var key in b) c[key] = b[key];
return c;
}
function copy_object(obj) {
var new_obj = {};
for (var key in obj) new_obj[key] = obj[key];
return new_obj;
}
function deep_copy_object(obj) {
if (isa_hash(obj)) {
var new_obj = {};
for (var key in obj) {
if (isa_hash(obj[key]) || isa_array(obj[key]))
new_obj[key] = deep_copy_object(obj[key]);
else
new_obj[key] = obj[key];
}
return new_obj;
}
else if (isa_array(obj)) {
var new_obj = [];
for (var idx = 0, len = obj.length; idx < len; idx++) {
if (isa_hash(obj[idx]) || isa_array(obj[idx]))
new_obj[idx] = deep_copy_object(obj[idx]);
else
new_obj[idx] = obj[idx];
}
return new_obj;
}
return null;
}
function deep_copy_object_lc_keys(obj) {
var new_obj = {};
if (obj.length) new_obj = [];
for (var key in obj) {
var lc_key = key.toLowerCase ? key.toLowerCase() : key;
if (typeof(obj[key]) == 'object') new_obj[lc_key] = deep_copy_object_lc_keys( obj[key] );
else new_obj[lc_key] = obj[key];
}
return new_obj;
}
function copy_into_object(a, b) {
for (var key in b) a[key] = b[key];
}
function deep_copy_into_object(a, b) {
for (var key in b) {
if (typeof(b[key]) == 'object') {
if (typeof(a[key]) == 'undefined') {
if (b[key].length) a[key] = []; else a[key] = {};
}
deep_copy_into_object( a[key], b[key] );
}
else a[key] = b[key];
}
}
function num_keys(hash) {
var count = 0;
for (var a in hash) count++;
return count;
}
function deep_diff_object(a, b) {
if ((typeof(a) != 'object') && (typeof(a) != 'array')) {
if (typeof(a) == 'string') {
a = a.replace(/\r\n/g, "\n");
a = a.replace(/\r/g, "\n");
}
if (typeof(b) == 'string') {
b = b.replace(/\r\n/g, "\n");
b = b.replace(/\r/g, "\n");
}
if (a != b) return 1; 
else return 0;
}
if (typeof(a) != typeof(b)) return 1; 
if (typeof(a.length) == 'undefined') {
if (num_keys(a) != num_keys(b)) return 1; 
for (var akey in a) {
if (typeof(b[akey]) == 'undefined') return 1; 
if (deep_diff_object( a[akey], b[akey] )) return 1; 
}
for (var bkey in b) {
if (typeof(a[bkey]) == 'undefined') return 1; 
}
}
else {
if (a.length != b.length) return 1; 
for (var idx = 0; idx < a.length; idx++) {
if (deep_diff_object( a[idx], b[idx] )) return 1; 
}
}
return 0;
}
function lookup_path(path, obj) {
path = path.replace(/\/$/, ""); 
while (/\/[^\/]+/.test(path) && (typeof(obj) == 'object')) {
var slash = path.indexOf('/');
path = path.substring( slash + 1 );
slash = path.indexOf('/');
if (slash == -1) slash = path.length;
var name = path.substring(0, slash);
if (typeof(obj.length) == 'undefined') {
if (typeof(obj[name]) != 'undefined') obj = obj[name];
else return null;
}
else {
var idx = parseInt(name, 10);
if (isNaN(idx)) return null;
if (typeof(obj[idx]) != 'undefined') obj = obj[idx];
else return null;
}
} 
return obj;
}
function set_path_value(path, obj, value) {
path = path.replace(/\/$/, ""); 
var final_slash = path.lastIndexOf('/');
var final_name = path.substring( final_slash + 1, path.length );
path = path.substring( 0, final_slash );
while (/\/[^\/]+/.test(path)) {
var slash = path.indexOf('/');
path = path.substring( slash + 1 );
slash = path.indexOf('/');
if (slash == -1) slash = path.length;
var name = path.substring(0, slash);
if (typeof(obj.length) == 'undefined') {
if (!isa_hash(obj[name])) obj[name] = {}; 
obj = obj[name];
}
else {
var idx = parseInt(name, 10);
if (isNaN(idx)) return null;
if (typeof(obj[idx]) != 'undefined') obj[idx] = {}; 
obj = obj[idx];
}
} 
obj[final_name] = value;
}
function delete_path_value(path, obj) {
path = path.replace(/\/$/, ""); 
var final_slash = path.lastIndexOf('/');
var final_name = path.substring( final_slash + 1, path.length );
path = path.substring( 0, final_slash );
while (/\/[^\/]+/.test(path) && (typeof(obj) == 'object')) {
var slash = path.indexOf('/');
path = path.substring( slash + 1 );
slash = path.indexOf('/');
if (slash == -1) slash = path.length;
var name = path.substring(0, slash);
if (typeof(obj.length) == 'undefined') {
if (typeof(obj[name]) != 'undefined') obj = obj[name];
else return null;
}
else {
var idx = parseInt(name, 10);
if (isNaN(idx)) return null;
if (typeof(obj[idx]) != 'undefined') obj = obj[idx];
else return null;
}
} 
delete obj[final_name];
return true;
}
function set_all(obj, args) {
for (var idx = 0; idx < obj.length; idx++) {
for (var a in args) {
obj[idx][a] = args[a];
} 
} 
}
function delete_all(obj, key) {
for (var idx = 0; idx < obj.length; idx++) {
if (typeof(obj[idx][key]) != 'undefined') delete obj[idx][key];
}
}
function compose_attribs(attribs) {
var html = '';
if (attribs) {
for (var key in attribs) {
html += " " + key + "=\"" + attribs[key] + "\"";
}
}
return html;
}
function compose_style(attribs) {
var html = '';
if (attribs) {
for (var key in attribs) {
html += " " + key + ":" + attribs[key] + ";";
}
}
return html;
}
function isa_hash(arg) {
return( !!arg && (typeof(arg) == 'object') && (typeof(arg.length) == 'undefined') );
}
function isa_array(arg) {
if (typeof(arg) == 'array') return true;
return( !!arg && (typeof(arg) == 'object') && (typeof(arg.length) != 'undefined') );
}
function first_key(hash) {
for (var key in hash) return key;
return null; 
}
function xml_index_by( xml, element, key, recursive, compress ) {
if (!xml || !key || !element) return 0;
if (isa_hash(xml) && isa_hash(xml[element]) && xml[element][key])
always_array( xml, element );
if (isa_hash(xml) && isa_array(xml[element])) {
var reindex = 0;
for (var idx = xml[element].length - 1; idx >= 0; idx--) {
var elem = xml[element][idx];
if (elem[key]) {
reindex = 1;
var new_name = elem[key];
delete elem[key];
if (compress && (num_keys(elem) == 1) && (typeof(elem[ first_key(elem) ]) != 'object')) {
elem = elem[ first_key(elem) ];
} 
if (typeof(xml[new_name]) != 'undefined') {
always_array( xml, new_name );
array_unshift( xml[new_name], elem );
}
else {
xml[new_name] = elem;
}
} 
} 
if (reindex) {
delete xml[element];
}
} 
if (recursive) {
if (xml && (typeof(xml) == 'object')) { 
if (typeof(xml.length) != 'undefined') {
for (var idx = 0; idx < xml.length; idx++) {
xml_index_by( xml[idx], element, key, recursive, compress );
} 
}
else {
for (var key in xml) {
xml_index_by( xml[key], element, key, recursive, compress );
} 
}
} 
} 
}
function expand_parameter_nodes(tree) {
xml_index_by( tree, 'ParameterGroup', 'Name', true, false );
xml_index_by( tree, 'Parameter', 'Name', true, true );
}
function make_parameter_nodes(tree, max_levels) {
var out = {};
if (typeof(max_levels) == 'undefined') { max_levels = -1; } 
if (!max_levels) { return {}; } 
for (var key in tree) {
if (isa_hash(tree[key])) {
var node_group = merge_objects({ "_Attribs": { Name: key } },
make_parameter_nodes(tree[key], max_levels - 1) );
if (out['ParameterGroup']) {
if (isa_array(out['ParameterGroup'])) {
array_push( out['ParameterGroup'], node_group );
}
else {
out['ParameterGroup'] = [ out['ParameterGroup'], node_group ];
}
}
else {
out['ParameterGroup'] = node_group;
}
}
else if (isa_array(tree[key])) {
for (var idx = 0; idx < tree[key].length; idx++) {
var elem = tree[key][idx];
if (isa_hash(elem)) {
var node_group = merge_objects({ "_Attribs": { Name: key } },
make_parameter_nodes(elem, max_levels - 1) );
if (out['ParameterGroup']) {
if (isa_array(out['ParameterGroup'])) {
array_push( out['ParameterGroup'], node_group );
}
else {
out['ParameterGroup'] = [ out['ParameterGroup'], node_group ];
}
}
else {
out['ParameterGroup'] = node_group;
}
} 
else {
var node = { "_Attribs": { Name: key } };
if (/[\n\"]/.test(elem)) {
node['content'] = elem;
}
else {
node['_Attribs']['Value'] = elem;
}
if (out['Parameter']) {
if (isa_array(out['Parameter'])) {
array_push( out['Parameter'], node );
}
else {
out['Parameter'] = [ out['Parameter'], node ];
}
}
else {
out['Parameter'] = node;
}
} 
} 
}
else {
var node = { "_Attribs": { Name: key } };
if (/[\n\"]/.test(tree[key])) {
node['content'] = tree[key];
}
else {
node['_Attribs']['Value'] = tree[key];
}
if (out['Parameter']) {
if (isa_array(out['Parameter'])) {
array_push( out['Parameter'], node );
}
else {
out['Parameter'] = [ out['Parameter'], node ];
}
}
else {
out['Parameter'] = node;
}
}
}
return out;
}
function xpath_summary(xml, base_path) {
if (!base_path) base_path = '/';
var paths = {};
if (isa_hash(xml)) {
for (var key in xml) {
if (typeof(xml[key]) == 'object') paths = merge_objects(paths, xpath_summary(xml[key], base_path + key + '/'));
else paths[base_path + key] = xml[key];
}
}
else if (isa_array(xml)) {
for (var idx = 0, len = xml.length; idx < len; idx++) {
if (typeof(xml[idx]) == 'object') paths = merge_objects(paths, xpath_summary(xml[idx], base_path.replace(/\/$/, '') + '[' + idx + ']/'));
else paths[ base_path.replace(/\/$/, '') + '[' + idx + ']'] = xml[idx];
}
}
return paths;
}
function array_push(array, item) {
array[ array.length ] = item;
}
function array_pop(array) {
if (array.length > 0) {
var temp = array[ array.length - 1 ];
delete array[ array.length - 1 ];
array.length--;
return temp;
}
else return null;
}
function array_unshift(array, item) {
if (array.length > 0) {
for (var idx = array.length - 1; idx >= 0; idx--) {
array[idx + 1] = array[idx];
}
}
array[0] = item;
}
function array_shift(array) {
if (array.length > 0) {
var temp = array[0];
if (array.length > 1) {
for (var idx = 0; idx < array.length - 1; idx++) {
array[idx] = array[idx + 1];
}
}
array_pop(array);
return temp;
}
else return null;
}
function array_splice(array, pos, del_count, item) {
var spliced = [];
while (del_count) {
array_push(spliced, array[pos]);
if (array.length > pos + 1) {
for (var idx = pos; idx < array.length - 1; idx++) {
array[idx] = array[idx + 1];
}
}
array_pop(array);
del_count--;
}
if (typeof(item) != 'undefined') {
for (var idx = array.length - 1; idx >= pos; idx--) {
array[idx + 1] = array[idx];
}
array[pos] = item;
}
return spliced;
}
function array_slice(array, start, end) {
if (!end) end = array.length;
var slice = [];
for (var idx = start; idx < end; idx++) {
if (idx < array.length) array_push( slice, array[idx] );
}
return slice;
}
function array_combine(a, b) {
var c = [];
for (var idx = 0; idx < a.length; idx++) array_push( c, a[idx] );
for (var idx = 0; idx < b.length; idx++) array_push( c, b[idx] );
return c;
}
function array_cat(a, b) {
for (var idx = 0; idx < b.length; idx++) array_push( a, b[idx] );
}
function array_join(arr, glue) {
var str = '';
for (var idx = 0, len = arr.length; idx < len; idx++) {
if (idx > 0) str += glue;
str += arr[idx];
}
return str;
}
if (!window.Ajax) window.Ajax = {};
Ajax.Connection = function() {
this._inUse = false;
this._conn = null;
this._xProgIds = [
'MSXML2.XMLHTTP.3.0',
'MSXML2.XMLHTTP',
'Microsoft.XMLHTTP'
];
try {
this._conn = new XMLHttpRequest();
}
catch (e) {
for (var idx = 0; idx < this._xProgIds.length; idx++) {
try {
this._conn = new ActiveXObject( this._xProgIds[idx] );
break;
}
catch (e) {}
} 
} 
};
Ajax.Connection.prototype._socketTimeout = 30 * 1000;
Ajax.Connection.prototype.send = function(tx) {
this.tx = tx;
if (!this._conn) {
this.tx.response.code = 500;
this.tx.response.data = "Could not create XMLHTTP object";
this.tx._notifyComplete();
return;
}
if (this.tx.request.url.toLowerCase().match(/^(\w+)\:\/\/([\w\-\.]+)/)) {
if ((RegExp.$1 != 'file') && (RegExp.$2.toLowerCase() != location.hostname.toLowerCase())) {
this.tx.response.code = 501;
this.tx.response.data = "Cannot perform cross-domain AJAX calls";
this.tx._notifyComplete();
return;
}
}
else {
if (this.tx.request.url.match(/^\//)) {
var proto = location.protocol.match(/https/i) ? 'https' : 'http';
this.tx.request.url = proto + '://' + location.hostname + this.tx.request.url;
}
else {
var base_url = location.href.replace(/\?.*$/, ""); 
if (!base_url.match(/\/$/)) base_url = base_url.replace(/\/[^\/]+$/, "/");
this.tx.request.url = base_url + this.tx.request.url;
}
}
try {
this._conn.open(this.tx.request.method, this.tx.request.url, true);
}
catch (e) {
this.tx.response.code = 502;
this.tx.response.data = e.toString();
this.tx._notifyComplete();
return;
}
var me = this;
this._conn.onreadystatechange = function() {
me.pollConnection();
};
for (var key in this.tx.request.headers)
this._conn.setRequestHeader( key, this.tx.request.headers[key] );
try {
this._conn.send( this.tx.request.data.length ? this.tx.request.data : null );
}
catch (e) {
this.tx.response.code = 503;
this.tx.response.data = e.toString();
this.tx._notifyComplete();
return;
}
this._inUse = true;
this._timeout = setTimeout( function() { me.callTimeout(); }, this._socketTimeout );
};
Ajax.Connection.prototype.callTimeout = function() {
this._conn.abort();
if (this._pollTimer) { clearInterval( this._pollTimer ); this._pollTimer = null; }
this._inUse = false;
this.tx.response.code = 504;
this.tx.response.data = 'Socket Timeout: ' + this.tx.request.url.replace(/\?.+$/, "?...");
this.tx._notifyComplete();
};
Ajax.Connection.prototype.pollConnection = function() {
if (this._inUse && this._conn && (this._conn.readyState == 4)) {
if (this._pollTimer) { clearInterval( this._pollTimer ); this._pollTimer = null; }
if (this._timeout) { clearTimeout( this._timeout ); this._timeout = null; }
this.complete();
} 
};
Ajax.Connection.prototype.complete = function() {
this._inUse = false;
if (!this._conn.status && this._conn.responseText.length) {
this.tx.response.code = 200;
}
else {
try {
if ((typeof(this._conn.status) != "undefined") && (this._conn.status != 0)) {
this.tx.response.code = this._conn.status;
}
else {
this.tx.response.code = 505;
this.tx.response.data = 'Could not determine HTTP Status Code';
}
}
catch(e) {
this.tx.response.code = 506;
this.tx.response.data = 'Could not determine HTTP Status Code';
}
try {
this.tx.response.headersRaw = this._conn.getAllResponseHeaders();
var headers = this.tx.response.headersRaw.split('\n');
for (var idx = 0; idx < headers.length; idx++){
var delimitPos = headers[idx].indexOf(':');
if (delimitPos != -1) {
this.tx.response.headers[headers[idx].substring(0, delimitPos)] = 
headers[idx].substring(delimitPos + 2);
}
}
}
catch (e) {
}
}
this.tx.response.data = '' + this._conn.responseText;
this.tx.response.xml = this._conn.responseXML ? this._conn.responseXML : null;
this.tx.response.statusLine = this._conn.statusText ? this._conn.statusText : '';
this.tx._notifyComplete();
}
Ajax.Request = function() {
this.method = 'POST';
this.url = '';
this.data = '';
this.headers = {};
};
Ajax.Response = function() {
this.code = 0;
this.data = '';
this.headers = {};
this.xml = null;
this.statusLine = '';
};
Ajax.Transaction = function() {
this.request = new Ajax.Request();
this.response = new Ajax.Response();
this.callback = null;
this.connection = null;
};
Ajax.Transaction.prototype._notifyComplete = function() {
if (typeof(this.callback) == 'function') this.callback( this );
else if (window[this.callback]) window[this.callback]( this );
else alert("ERROR: AJAX callback function is unknown: " + this.callback);
}
Ajax.ConnectionManager = function() {
this._connections = [];	
this.ie = !!navigator.userAgent.match(/MSIE/);
};
Ajax.ConnectionManager.prototype._createConnection = function() {
var obj = new Ajax.Connection();
this._connections[ this._connections.length ] = obj;
return obj;
};
Ajax.ConnectionManager.prototype._getConnection = function() {
for (var idx = 0; idx < this._connections.length; idx++) {
var conn = this._connections[idx];
if (!conn._inUse) return conn;
}
if (this.ie && this._connections.length > 0) return null;
return this._createConnection();
};
Ajax.ConnectionManager.prototype.inUse = function() {
var num = 0;
for (var idx = 0; idx < this._connections.length; idx++) {
var conn = this._connections[idx];
if (conn._inUse) num++;
}
if (!num && this.req_wait) num = true; 
return num;
}
Ajax.ConnectionManager.prototype.send = function(requestArgs, callback, userData) {
if (!userData) userData = {};
var tx = new Ajax.Transaction();
for (var key in requestArgs) tx.request[key] = requestArgs[key];
for (var key in userData) tx[key] = userData[key];
if (!callback) return this.doError( "callback is not set" );
if (!requestArgs.url) return this.doError( "url is not set" );
tx.callback = callback;
tx.connection = this._getConnection();
var me = this;
if (!tx.connection) {
this.req_wait = true;
setTimeout( function() {
me.send( requestArgs, callback, userData );
}, 100 );
return false;
}
this.req_wait = false;
tx.connection.send( tx );
return true;
};
Ajax.ConnectionManager.prototype.get = function(url, callback, userData) {
return this.send({
method: 'GET',
url: url
}, callback, userData );
}
Ajax.ConnectionManager.prototype.doError = function(msg) {
alert( "ERROR: " + msg );
}
Ajax.ConnectionManager.prototype.setSocketTimeout = function(sec) {
Ajax.Connection.prototype._socketTimeout = sec * 1000;
}
ajax = new Ajax.ConnectionManager();
if (!window.merge_objects || !window.serialize)
alert("ERROR: cookie.js requires tools.js.");
function CookieTree(args) {
if (args) {
for (var key in args) this[key] = args[key];
}
if (!this.expires) {
var now = new Date();
now.setFullYear( now.getFullYear() + 10 ); 
this.expires = now.toGMTString();
}
this.parse();
};
CookieTree.prototype.domain = location.hostname;
CookieTree.prototype.path = location.pathname;
CookieTree.prototype.parse = function() {
this.tree = {};
var cookies = document.cookie.split(/\;\s*/);
for (var idx = 0, len = cookies.length; idx < len; idx++) {
var cookie_raw = cookies[idx];
if (cookie_raw.match(/^CookieTree=(.+)$/)) {
var cookie = null;
var cookie_raw = unescape( RegExp.$1 );
Debug.trace("Cookie", "Parsing cookie: " + cookie_raw);
try {
eval( "cookie = " + cookie_raw + ";" );
}
catch (e) {
Debug.trace("Cookie", "Failed to parse cookie.");
cookie = {}; 
}
this.tree = merge_objects( this.tree, cookie );
idx = len;
}
}
};
CookieTree.prototype.get = function(key) {
return this.tree[key];
};
CookieTree.prototype.set = function(key, value) {
this.tree[key] = value;
};
CookieTree.prototype.save = function() {
var cookie_raw = 'CookieTree=' + escape(serialize(this.tree));
if (!this.path.match(/\/$/)) {
this.path = this.path.replace(/\/[^\/]+$/, "") + '/';
}
cookie_raw += '; expires=' + this.expires;
cookie_raw += '; domain=' + this.domain;
cookie_raw += '; path=' + this.path;
Debug.trace("Cookie", "Saving cookie: " + cookie_raw);
document.cookie = cookie_raw;
};
CookieTree.prototype.remove = function() {
var cookie_raw = 'CookieTree={}';
if (!this.path.match(/\/$/)) {
this.path = this.path.replace(/\/[^\/]+$/, "") + '/';
}
var now = new Date();
now.setFullYear( now.getFullYear() - 1 ); 
cookie_raw += '; expires=' + now.toGMTString();
cookie_raw += '; domain=' + this.domain;
cookie_raw += '; path=' + this.path;
document.cookie = cookie_raw;
};
var ww_char_widths = { 32: 0.33, 33: 0.33, 34: 0.4, 35: 0.66, 36: 0.66, 37: 1.03, 38: 0, 39: 0.22, 40: 0.4, 41: 0.4, 42: 0.44, 43: 0.7, 44: 0.33, 45: 0.4, 46: 0.33, 47: 0.33, 48: 0.66, 49: 0.66, 50: 0.66, 51: 0.66, 52: 0.66, 53: 0.66, 54: 0.66, 55: 0.66, 56: 0.66, 57: 0.66, 58: 0.33, 59: 0.33, 60: 0, 61: 0.7, 62: 0.7, 63: 0.66, 64: 1.18, 65: 0.77, 66: 0.77, 67: 0.85, 68: 0.85, 69: 0.77, 70: 0.74, 71: 0.92, 72: 0.85, 73: 0.33, 74: 0.59, 75: 0.77, 76: 0.66, 77: 1, 78: 0.85, 79: 0.92, 80: 0.77, 81: 0.92, 82: 0.85, 83: 0.77, 84: 0.74, 85: 0.85, 86: 0.77, 87: 1.11, 88: 0.77, 89: 0.77, 90: 0.74, 91: 0.33, 92: 0.33, 93: 0.33, 94: 0.55, 95: 0.66, 96: 0.4, 97: 0.66, 98: 0.66, 99: 0.59, 100: 0.66, 101: 0.66, 102: 0.33, 103: 0.66, 104: 0.66, 105: 0.25, 106: 0.25, 107: 0.59, 108: 0.25, 109: 1, 110: 0.66, 111: 0.66, 112: 0.66, 113: 0.66, 114: 0.4, 115: 0.59, 116: 0.33, 117: 0.66, 118: 0.59, 119: 0.85, 120: 0.59, 121: 0.59, 122: 0.59, 123: 0.4, 124: 0.29, 125: 0.4, 126: 0.7, 127: 1.18 };
document.write( '<span style="position:absolute; left:-1000px; top:0px; padding:0px; margin:0px;" id="ww_span"></span>' );
function ww_precalc_font(sty, callback) {
var css_type = !!sty.match(/:/) ? 'style' : 'class';
document.getElementById('ww_span').innerHTML = '<font '+css_type+'="'+sty+'">M</font>';
setTimeout( 'ww_precalc_font_finish("'+callback+'")', 1 );
}
function ww_precalc_font_finish(callback) {
var span = document.getElementById('ww_span');
window[ callback ]( span.offsetWidth, span.offsetHeight );
}
function ww_string_width(str, em_width) {
var len = str.length;
var width = 0;
for (var idx=0; idx<len; idx++) {
var ch = str.charCodeAt(idx);
if (ww_char_widths[ch]) width += (em_width * ww_char_widths[ch]);
else width += em_width;
}
return width;
}
function ww_fit_filename(filename, max_width, em_width) {
if (ww_string_width(filename, em_width) <= max_width) return filename;
var end = filename.lastIndexOf('.');
if (end == -1) end = filename.length;
if (end < 3) return filename; 
var tpos = Math.floor(end / 2);
var a = filename.substring(0,tpos);
var b = filename.substring(tpos + 1);
while (ww_string_width(a + '...' + b, em_width) > max_width) {
a = a.substring(0, a.length - 1); if (!a.length) return '...' + b;
b = b.substring(1); if (!b.length) return a + '...';
}
return a + '...' + b;
}
function ww_fit_array(arr, max_width, em_width, ellipsis, html) {
var output = [];
for (var idx = 0, len = arr.length; idx < len; idx++) {
output.push( ww_fit_string(arr[idx], max_width, em_width, ellipsis, html) );
}
return output;
}
function ww_fit_string(in_str, max_width, em_width, ellipsis, html) {
var str = '' + in_str;
var len = str.length;
var width = 0;
var state = 0;
var last_word_end = 0;
if (ellipsis == 1) max_width -= ww_string_width("...", em_width);
for (var idx=0; idx<len; idx++) {
var is_word_char = !!str.substring(idx, idx + 1).match(/\S/);
if ((state == 1) && !is_word_char) {
last_word_end = idx;
}
state = is_word_char ? 1 : 0;
var code = str.charCodeAt(idx);
if (ww_char_widths[code]) width += (em_width * ww_char_widths[code]);
else width += em_width;
if (width > max_width) {
if (!last_word_end) {
var final_str = str.substring(0, (ellipsis == 2) ? (idx - 3) : idx);
if (ellipsis) final_str += '...';
return html ? ('<nobr>'+final_str.replace(/\s/g, "&nbsp;")+'</nobr>') : final_str;
}
else {
var final_str = str.substring(0, last_word_end);
if (ellipsis == 1) final_str += '...';
return html ? ('<nobr>'+final_str.replace(/\s/g, "&nbsp;")+'</nobr>') : final_str;
}
} 
} 
return html ? str.replace(/\s/g, "&nbsp;") : str;
}
function ww_fit_box(str, max_width, max_lines, em_width, ellipsis, html) {
var line_idx = 0;
var char_idx = 0;
var final_str = '';
while (line_idx < max_lines) {
while (!!str.substring(char_idx, char_idx + 1).match(/\s/)) char_idx++;
var last_line = (line_idx == (max_lines - 1));
var temp_str = ww_fit_string( str.substring(char_idx), max_width, em_width, last_line ? ellipsis : 2, 0 );
final_str += temp_str;
char_idx += temp_str.length;
if (temp_str.match(/\.\.\.$/)) char_idx -= 3;
if (char_idx >= str.length) line_idx = max_lines;
else if (!last_line) final_str += "\n";
line_idx++;
} 
return html ? final_str.replace(/\n/g, "<br>").replace(/\s/g, "&nbsp;") : final_str;
}
var last_section = {};
var last_tab = '';
var rendering_page = true;
var years = [
[ 2002, '2002' ], [ 2003, '2003' ], [ 2004, '2004' ], [ 2005, '2005' ],
[ 2006, '2006' ], [ 2007, '2007' ], [ 2008, '2008' ], [ 2009, '2009' ],
[ 2010, '2010' ]
];
var months = [
[ 1, 'January' ], [ 2, 'February' ], [ 3, 'March' ], [ 4, 'April' ],
[ 5, 'May' ], [ 6, 'June' ], [ 7, 'July' ], [ 8, 'August' ],
[ 9, 'September' ], [ 10, 'October' ], [ 11, 'November' ],
[ 12, 'December' ]
];
var days = [
[1,1], [2,2], [3,3], [4,4], [5,5], [6,6], [7,7], [8,8], [9,9], [10,10],
[11,11], [12,12], [13,13], [14,14], [15,15], [16,16], [17,17], [18,18], 
[19,19], [20,20], [21,21], [22,22], [23,23], [24,24], [25,25], [26,26],
[27,27], [28,28], [29,29], [30,30], [31,31]
];
var hours = [
[0, '12 AM'], [1, '1 AM'], [2, '2 AM'], [3, '3 AM'], [4, '4 AM'],
[5, '5 AM'], [6, '6 AM'], [7, '7 AM'], [8, '8 AM'], [9, '9 AM'],
[10, '10 AM'], [11, '11 AM'], [12, '12 PM'], [13, '1 PM'], 
[14, '2 PM'], [15, '3 PM'], [16, '4 PM'], [17, '5 PM'], [18, '6 PM'],
[19, '7 PM'], [20, '8 PM'], [21, '9 PM'], [22, '10 PM'], [23, '11 PM']
];
function mouse_icon_button(type, e, pt) {
switch (type) {
case 'mouseDown': this.className = 'icon_button_active'; return false; 
case 'mouseUp': this.className = 'icon_button'; break;
case 'click':
var self = this;
setTimeout( function() { invoke_dom_handler(self, 'onMouseClick'); }, 10 );
break;
}
return true; 
}
function icon_button(icon_name, text, code, width) {
var html = '';
html += '<table class="icon_button" cellspacing=0 cellpadding=0 captureMouse="mouse_icon_button"';
if (width) html += ' width="'+width+'"';
html += ' onMouseClick="'+code+'">';
html += '<tr>';
html += '<td width="16" style="padding-right:0px;">' + icon(icon_name) + '</td>';
if (!ie) html += '<td width="3" style="padding-right:0px;">' + spacer(3,1) + '</td>';
html += '<td align="center" width="*" onselectstart="return false" style="padding-right:0px;"><nobr>' + text + '</nobr></td>';
html += '</tr></table>';
return html;
}
function large_icon_button(icon_name, text, code, id, style, extra_classes) {
var html = '';
if (!icon_name) icon_name = '';
if (!icon_name.match(/\.\w+$/)) icon_name += '.gif';
if (!text) text = '';
if (!code) code = '';
if (!id) id = '';
if (!extra_classes) extra_classes = '';
if (code.toString().match(/^\#(.+)$/)) code = "Nav.go('"+RegExp.$1+"')";
html += '<div class="button '+extra_classes+'" id="'+id+'" onClick="'+code+'">';
html += '<ul>';
html += '<li class="left"></li>';
if (icon_name) html += '<li class="icon"><img src="'+png(icons_uri+'/'+icon_name, true)+'" class="png" width="16" height="16"/></li>';
html += '<li class="center" style="' + (icon_name ? 'padding-left:5px;' : '') + compose_style(style) + '">' + text + '</li>';
html += '<li class="right"></li>';
html += '</ul>';
html += '<div class="clear"></div>';
html += '</div>';
return html;
}
function get_icon_for(filename, id, text, code) {
if (!id) id = '';
if (!text) text = '';
if (!code) code = '';
var icon_name = '';
var ext = filename.replace(/^.+\.(\w+)$/, '$1').toLowerCase();
if (filename.match(/\/$/)) icon_name = 'folder.png';
else if (ext.match(/(js|sh|pl|pm|php|asp)/)) icon_name = 'page_white_code.png';
else if (ext.match(/(xml|xsl|dtd|txt|htm|html|css)/)) icon_name = 'page_white_text.png';
else if (ext.match(/(jpg|jpe|jpeg|bmp|gif|pcx|png|tif|tiff|psd)/)) icon_name = 'page_white_colorwheel.png';
else if (ext.match(/(as|swf|fla)/)) icon_name = 'page_white_flash.png';
else if (ext.match(/(doc)/)) icon_name = 'page_white_word.png';
else if (ext.match(/(xls)/)) icon_name = 'page_white_excel.png';
else if (ext.match(/(pdf)/)) icon_name = 'page_white_acrobat.png';
else if (ext.match(/(zip)/)) icon_name = 'page_white_zip.png';
else if (ext.match(/(mp3)/)) icon_name = 'page_white_audio.png';
else if (ext.match(/(flv|mp4|mp4v|mov|3gp|3g2)/)) icon_name = 'page_white_movie.png';
else if (ext.match(/(ttf|otf)/)) icon_name = 'page_white_font.png';
else icon_name = 'page_white.png';
return icon(icon_name, text, code, filename, id);
}
function get_color_preview(color) {
if (!color.match(/^\#/)) color = '#' + color;
var html = '';
html += '<table cellspacing="0" cellpadding="0"><tr>';
html += '<td style="margin:0; padding:0;"><div style="width:24px; height:14px; border:1px solid #aaa; background-color:'+color+';"></div></td>';
html += '<td style="margin:0; padding:0;">' + spacer(4,1) + '</td>';
html += '<td style="margin:0; padding:0;">' + color + '</td>';
html += '</tr></table>';
return html;
}
function busy() {
return '<img src="'+images_uri+'/busy.gif" width="16" height="16"/>';
}
function loading_image() {
return '<center><img src="'+images_uri+'/loading.gif" width="32" height="32"/></center>';
}
function begin_section(type, size, ext, table_attribs) {
if (typeof(size) == 'number') size = [size, size, size, size];
if (!ext || ie6) ext = 'gif';
last_section.type = type;
last_section.size = size;
last_section.ext = ext;
var png = (ext.toLowerCase() == 'png') ? true : false;
var html = '<table cellspacing=0 cellpadding=0 border=0 '+compose_attribs(table_attribs)+'><tr>';
html += '<td width="'+size[0]+'" height="'+size[1]+'"><img '+(png ? 'class="png" ' : '')+'src="'+images_uri+'/'+type+'/top_left.'+ext+'" width="'+size[0]+'" height="'+size[1]+'"></td>';
html += '<td width="*" height="'+size[1]+'" '+(png ? 'class="png" ' : '')+' background="'+images_uri+'/'+type+'/top.'+ext+'"><img src="'+images_uri+'/pixel.gif" width="1" height="1"></td>';
html += '<td width="'+size[2]+'" height="'+size[1]+'"><img '+(png ? 'class="png" ' : '')+'src="'+images_uri+'/'+type+'/top_right.'+ext+'" width="'+size[2]+'" height="'+size[1]+'"></td>';
html += '</tr><tr>';
html += '<td width="'+size[0]+'" height="*" '+(png ? 'class="png" ' : '')+'background="'+images_uri+'/'+type+'/left.'+ext+'"><img src="'+images_uri+'/pixel.gif" width="1" height="1"></td>';
html += '<td width="*" height="*">';
if (rendering_page) document.write(html); else return html;
}
function end_section(type, size, ext) {
if (typeof(size) == 'number') size = [size, size, size, size];
if (!type) type = last_section.type;
if (!size) size = last_section.size;
if (!ext) ext = last_section.ext;
if (ie6) ext = 'gif';
var png = (ext.toLowerCase() == 'png') ? true : false;
var html = '</td>';
html += '<td width="'+size[2]+'" height="*" '+(png ? 'class="png" ' : '')+'background="'+images_uri+'/'+type+'/right.'+ext+'"><img src="'+images_uri+'/pixel.gif" width="1" height="1"></td>';
html += '</tr><tr>';
html += '<td width="'+size[0]+'" height="'+size[3]+'"><img '+(png ? 'class="png" ' : '')+'src="'+images_uri+'/'+type+'/bottom_left.'+ext+'" width="'+size[0]+'" height="'+size[3]+'"></td>';
html += '<td width="*" height="'+size[3]+'" '+(png ? 'class="png" ' : '')+'background="'+images_uri+'/'+type+'/bottom.'+ext+'"><img src="'+images_uri+'/pixel.gif" width="1" height="1"></td>';
html += '<td width="'+size[2]+'" height="'+size[3]+'"><img '+(png ? 'class="png" ' : '')+'src="'+images_uri+'/'+type+'/bottom_right.'+ext+'" width="'+size[2]+'" height="'+size[3]+'"></td>';
html += '</tr></table>';
if (rendering_page) document.write(html); else return html;
}
function img8_bkgnd(lw, th, rw, bh) {
if (arguments.length == 1) { th = rw = bh = lw; }
else if (arguments.length == 2) { rw = lw; bh = th; }
return( 
'<table cellspacing="0" cellpadding="0" border="0" width="100%" height="100%"><tr>' + 
'<td width="'+lw+'" height="'+th+'" class="tl"><img src="'+images_uri+'/sp.gif" width="1" height="1"/></td>' +
'<td width="*" height="'+th+'" class="t"><img src="'+images_uri+'/sp.gif" width="1" height="1"/></td>' + 
'<td width="'+rw+'" height="'+th+'" class="tr"><img src="'+images_uri+'/sp.gif" width="1" height="1"/></td>' + 
'</tr><tr>' + 
'<td width="'+lw+'" height="*" class="l"><img src="'+images_uri+'/sp.gif" width="1" height="1"/></td>' + 
'<td width="*" height="*" class="c"><img src="'+images_uri+'/sp.gif" width="1" height="1"/></td>' + 
'<td width="'+rw+'" height="*" class="r"><img src="'+images_uri+'/sp.gif" width="1" height="1"/></td>' + 
'</tr><tr>' + 
'<td width="'+lw+'" height="'+bh+'" class="bl"><img src="'+images_uri+'/sp.gif" width="1" height="1"/></td>' + 
'<td width="*" height="'+bh+'" class="b"><img src="'+images_uri+'/sp.gif" width="1" height="1"/></td>' + 
'<td width="'+rw+'" height="'+bh+'" class="br"><img src="'+images_uri+'/sp.gif" width="1" height="1"/></td>' + 
'</tr></table>'
);
}
function tab_bar(tabs, cur_tab_name) {
var lw = 10, th = 10, rw = 10;
var html = '';
html += '<div class="tab_bar">';
for (var idx = 0, len = tabs.length; idx < len; idx++) {
var tab = tabs[idx];
var code = tab[0];
if (code.toString().match(/^\#(.+)$/)) code = "Nav.go('"+RegExp.$1+"')";
html += '<div class="tab '+((tab[1] == cur_tab_name) ? 'active' : 'inactive')+'" onClick="'+code+'">';
html += '<div class="content ' + (tab[2] ? (' icon" style="background-image:url(images/icons/'+tab[2]+')"') : '"') + '>' + tab[1] + '</div>';
html += '</div>';
}
html += '<div class="clear"></div>';
html += '</div>';
return html;
}
function select_tab(id) {
$('tab_left_'+id).src = $('tab_left_'+id).src.replace(/_inactive_/, '_active_');
$('tab_middle_'+id).style.backgroundImage = $('tab_middle_'+id).style.backgroundImage.replace(/_inactive_/, '_active_');
$('tab_right_'+id).src = $('tab_right_'+id).src.replace(/_inactive_/, '_active_');
$('tab_text_'+id).className = 'tab_active';
$('page_'+id).show();
}
function deselect_tab(id) {
$('tab_left_'+id).src = $('tab_left_'+id).src.replace(/_active_/, '_inactive_');
$('tab_middle_'+id).style.backgroundImage = $('tab_middle_'+id).style.backgroundImage.replace(/_active_/, '_inactive_');
$('tab_right_'+id).src = $('tab_right_'+id).src.replace(/_active_/, '_inactive_');
$('tab_text_'+id).className = 'tab_inactive';
$('page_'+id).hide();
}
function click_tab(id) {
if (id != last_tab) {
if (last_tab) {
deselect_tab(last_tab);
safe_call('deactivate_page_'+last_tab);
}
select_tab(id);
last_tab = id;
if (!$('page_'+id).innerHTML.length) safe_call('init_page_'+id);
else safe_call('activate_page_'+id);
}
}
function begin_tabs(tabs, type, size, tab_height, ext, table_attribs) {
if (!ext) ext = 'gif';
last_section.type = type;
last_section.size = size;
last_section.ext = ext;
var png = (ext.toLowerCase() == 'png') ? true : false;
var html = '<table cellspacing=0 cellpadding=0 border=0 '+compose_attribs(table_attribs)+'>';
html += '<tr>';
html += '<td width="'+size+'" height="'+tab_height+'"><img '+(png ? 'class="png" ' : '')+'src="'+images_uri+'/'+type+'/tabs/top_left.'+ext+'" width="'+size+'" height="'+tab_height+'"></td>';
html += '<td width="*" height="'+tab_height+'">';
html += '<table width="100%" cellspacing=0 cellpadding=0 border=0><tr>';
for (var idx = 0, len = tabs.length; idx < len; idx++) {
var tab = tabs[idx];
var tab_mode = 'tab_inactive';
var click_action = 'onMouseDown="return false" onMouseUp="click_tab(\''+tab[1]+'\')"';
html += '<td width="'+size+'" height="'+tab_height+'" '+click_action+'>';
html += '<img '+(png ? 'class="png" ' : '')+'src="'+images_uri+'/'+type+'/tabs/'+tab_mode+'_left.'+ext+'" width="'+size+'" height="'+tab_height+'" id="tab_left_'+tab[1]+'">';
html += '</td>';
html += '<td '+(png ? 'class="png" ' : '')+'width="1" height="'+tab_height+'" '+click_action+' id="tab_middle_'+tab[1]+'" style="background-image:url('+images_uri+'/'+type+'/tabs/'+tab_mode+'_middle.'+ext+');">';
html += '<span id="tab_text_'+tab[1]+'" class="'+tab_mode+'">' + tab[0].toString().replace(/\s/g, "&nbsp;") + '</span>';
html += '</td>';
html += '<td width="'+size+'" height="'+tab_height+'" '+click_action+'>';
html += '<img '+(png ? 'class="png" ' : '')+'src="'+images_uri+'/'+type+'/tabs/'+tab_mode+'_right.'+ext+'" width="'+size+'" height="'+tab_height+'" id="tab_right_'+tab[1]+'">';
html += '</td>';
}
html += '<td width="*" height="'+tab_height+'" '+(png ? 'class="png" ' : '')+' background="'+images_uri+'/'+type+'/tabs/top.'+ext+'"><img src="'+images_uri+'/pixel.gif" width="1" height="1"></td>';
html += '</tr></table>';
html += '</td>';
html += '<td width="'+size+'" height="'+tab_height+'"><img '+(png ? 'class="png" ' : '')+'src="'+images_uri+'/'+type+'/tabs/top_right.'+ext+'" width="'+size+'" height="'+tab_height+'"></td>';
html += '</tr><tr>';
html += '<td width="'+size+'" height="*" '+(png ? 'class="png" ' : '')+'background="'+images_uri+'/'+type+'/left.'+ext+'"><img src="'+images_uri+'/pixel.gif" width="1" height="1"></td>';
html += '<td width="*" height="*" bgcolor=white>';
if (rendering_page) document.write(html); else return html;
}
function popup_fade_animate() {
if (session.popup_fade_screen_active) {
var div_amount = (session.popup_fade_target == 0.0) ? 4 : 8;
session.popup_fade_opacity += ((session.popup_fade_target - session.popup_fade_opacity) / div_amount);
var div = document.getElementById('lbox_overlay');
if (div) {
div.style.opacity = session.popup_fade_opacity;
if (ie) div.style.filter = 'alpha(opacity=' + parseInt(session.popup_fade_opacity * 100, 10) + ')';
div = null;
}
if (Math.abs(session.popup_fade_target - session.popup_fade_opacity) < 0.01) {
session.popup_fade_screen_active = 0;
if (!session.popup_fade_target) {
document.body.removeChild( $('lbox_overlay') );
if (ie) {
document.body.removeChild( $('lbox_msie_frame') );
}
if (0) {
var html = document.getElementsByTagName('html')[0];
html.style.height = 'auto';
html.style.width = 'auto';
html.style.overflow = '';
var body = document.getElementsByTagName('body')[0];
body.style.width = 'auto';
body.style.height = 'auto';
body.style.overflow = '';
body.style.marginRight = '0px';
}
if (safari) {
window.scrollBy(0, 1);
window.scrollBy(0, -1);
}
} 
}
else {
setTimeout( 'popup_fade_animate()', 33 );
}
}
}
function popup_fade_screen() {
if (!session.popup_dialog_active) {
if (0) {
var html = document.getElementsByTagName('html')[0];
html.style.height = '100%';
html.style.width = '100%';
html.style.overflow = 'hidden';
var body = document.getElementsByTagName('body')[0];
body.style.height = '100%';
body.style.overflow = 'hidden';
if (getInnerWindowSize().height < getScrollMax().height) {
body.style.marginRight = '16px';
}
}
if (ie && !$('lbox_msie_frame')) {
var ifr = document.createElement('IFRAME');
ifr.id = 'lbox_msie_frame';
document.body.appendChild(ifr);
}
if (!$('lbox_overlay')) {
var div = document.createElement('DIV');
div.id = 'lbox_overlay';
document.body.appendChild(div);
}
session.popup_fade_target = 0.4;
if (!session.popup_fade_screen_active) {
session.popup_fade_opacity = 0.0;
session.popup_fade_screen_active = 1;
popup_fade_animate();
}
}
}
function popup_restore_screen() {
if (session.popup_dialog_active) {
session.popup_fade_target = 0.0;
if (1) {
var html = document.getElementsByTagName('html')[0];
html.style.height = 'auto';
html.style.width = 'auto';
html.style.overflow = '';
var body = document.getElementsByTagName('body')[0];
body.style.width = 'auto';
body.style.height = 'auto';
body.style.overflow = '';
body.style.marginRight = '0px';
}
if (safari) {
window.scrollBy(0, 1);
window.scrollBy(0, -1);
}
if (!session.popup_fade_screen_active) {
session.popup_fade_opacity = 0.5;
session.popup_fade_screen_active = 1;
popup_fade_animate();
}
}
}
function show_popup_dialog(width, height, html) {
if (session.net_error) return;
if (window.gGameControl) {
gGameControl.pause();
gGameControl.setClickResume( false );
}
else {
if (window.Effect && Effect.Game && Effect.Game.inGame) Effect.Game.pause();
if (window.Effect && Effect.Game) Effect.Game.clickResume = false;
}
var popup = $('d_dialog_outer');
var doc_size = getInnerWindowSize();
var scroll = getScrollXY();
var outer_width = width + 24 + 24; 
var outer_height = height + 24 + 24; 
var left = Math.floor( (doc_size.width / 2) - (outer_width / 2) );
var top = Math.floor( ((doc_size.height / 2) - (outer_height / 2)) / 2 );
top += scroll.y;
top += 50;
popup.style.left = left + 'px';
popup.style.top = top + 'px';
popup.style.width = outer_width + 'px';
popup.style.height = outer_height + 'px';
var content = $('d_dialog_inner');
content.style.width = width + 'px';
content.style.height = height + 'px';
content.innerHTML = html;
popup.show();
if (!ie) popup_fade_screen();
session.popup_dialog_active = true;
delete session.progress;
safe_call('hook_show_popup_dialog');
}
function hide_popup_dialog() {
$('d_dialog_inner').innerHTML = '';
var popup = $('d_dialog_outer');
popup.left = "-4000px";
popup.hide();
if (!ie) popup_restore_screen();
session.popup_dialog_active = false;
delete session.hooks.keys[ENTER_KEY];
delete session.hooks.keys[ESC_KEY];
delete session.progress;
safe_call('hook_hide_popup_dialog');
if (window.gGameControl) {
gGameControl.setClickResume( true );
}
else if (window.Effect && Effect.Game) Effect.Game.clickResume = true;
}
function clear_notice() {
hide_popup_dialog();
fire_hook('after_notice');
}
function do_notice(title, msg, callback) {
hide_popup_dialog();
delete session.progress;
if (callback) session.hooks.after_notice = callback;
var html = '<table cellspacing=0 cellpadding=0><tr><td width=400 height=150 valign=center align=center>';
html += '<div class="dialog_title">'+title+'</div>';
html += text_to_html(msg);
html += '<br><br>';
html += '<table><tr>';
html += '<td>' + large_icon_button('check', 'Close', 'clear_notice()') + '</td>';
html += '</tr></table>';
html += '</td></tr></table>';
session.hooks.keys[ENTER_KEY] = 'clear_notice'; 
session.hooks.keys[ESC_KEY] = 'clear_notice'; 
show_popup_dialog(400, 150, html);
}
function clear_error() {
hide_popup_dialog();
fire_hook('after_error');
}
function do_error(msg, button_args, pure) {
hide_popup_dialog();
delete session.progress;
fire_hook('before_error');
var html = '<table cellspacing=0 cellpadding=0><tr><td width=400 height=250 valign=center align=center>';
html += '<img src="'+images_uri+'/icons/error.gif" width="33" height="32"><br>';
html += '<span class="subtitle" style="color:#f00;">Sorry, an error occurred:</span><br><br>';
html += '<div style="width:350px; height:150px; overflow-x:hidden; overflow-y:auto;">';
html += pure ? msg : text_to_html(msg);
html += '</div><br>';
html += '<table><tr>';
html += '<td>' + large_icon_button('check', 'Close', 'clear_error()') + '</td>';
if (button_args) {
html += '<td width=15>&nbsp;</td>';
html += '<td>' + large_icon_button.apply(window, button_args) + '</td>';
}
html += '</tr></table>';
html += '</td></tr></table>';
session.hooks.keys[ENTER_KEY] = 'clear_error'; 
session.hooks.keys[ESC_KEY] = 'clear_error'; 
show_popup_dialog(400, 250, html);
return null;
}
function show_progress_dialog(counter, title, remain_disp, button_args) {
if (session.progress) {
update_progress_dialog(counter, title);
return;
}
if (!counter) counter = 0;
var cx = Math.floor( counter * 196 );
var html = '';
html += '<center><br>';
html += '<span id="d_progress_title" class="subtitle">' + title + '</span><br><br>';
var opac_str = '';
if (counter == 1.0) opac_str = 'opacity:0.5; moz-opacity:0.5; filter:alpha(opacity=50);';
html += '<div style="position:relative; overflow:hidden; width:196px; height:20px; background-image:url('+images_uri+'/aquaprogressbar_bkgnd.gif);">';
html += '<div id="d_progress_bar" style="position:absolute; left:0px; top:0px; width:196px; height:20px; clip:rect(0px '+cx+'px 20px 0px);'+opac_str+'">';
html += '<img src="'+images_uri+'/aquaprogressbar.gif" width="196" height="20"/>';
html += '</div>';
html += '</div>';
html += '<br><span id="d_progress_caption" class="caption"></span>';
if (button_args) {
html += '<br/><br/><table><tr><td>';
html += large_icon_button.apply(window, button_args);
html += '<br clear="all"/></td></tr></table>';
}
html += '</center>';
show_popup_dialog(275, button_args ? 150 : 100, html);
session.progress = {
remain_disp: remain_disp,
start_counter: counter,
counter: counter,
counter_max: 1,
start_time: hires_time_now(),
last_update: hires_time_now(),
title: title
};
}
function hide_progress_dialog() {
hide_popup_dialog();
session.progress = null;
delete session.progress;
}
function update_progress_dialog(counter, title, caption) {
var now = hires_time_now();
var cx = Math.floor( counter * 196 );
var prog_div = $('d_progress_bar');
if (prog_div) {
prog_div.style.clip = 'rect(0px '+cx+'px 20px 0px)';
var opacity = (counter == 1.0) ? 0.5 : 1.0;
if ((opacity > 0) && (opacity < 1.0)) {
prog_div.style.opacity = opacity;
if (moz) prog_div.style.MozOpacity = opacity;
else if (ie) prog_div.style.filter = "alpha(opacity=" + parseInt(opacity * 100, 10) + ")";
}
else {
prog_div.style.opacity = 1.0;
if (moz) prog_div.style.MozOpacity = 1.0;
else if (ie) prog_div.style.filter = "";
}
}
if (title) session.progress.title = title;
var title_div = $('d_progress_title');
if (title_div) title_div.innerHTML = session.progress.title;
if (caption) {
var cap_div = $('d_progress_caption');
if (cap_div) cap_div.innerHTML = caption;
}
else if (session.progress.remain_disp) {
if (session.progress.start_time <= now - 5.0) {
var caption = '';
if ((counter > 0.0) && (counter < 1.0)) {
caption = get_nice_remaining_time(session.progress.start_time, now, counter, 1.0, true);
caption += ' remaining';
}
var cap_div = $('d_progress_caption');
if (cap_div) cap_div.innerHTML = caption;
}
} 
session.progress.last_update = now;
session.progress.counter = counter;
}
function safe_focus(id) {
if ($(id)) {
try { $(id).focus(); } catch (e) {;}
}
else setTimeout( "try { $('"+id+"').focus(); } catch (e) {;}", 1 );
}
function do_message(type, msg) {
$GR.growl(type, msg);
return;
}
function hide_message(id) {
if (session.message_id == id) {
if (ie) $('d_message').hide();
else animate_div_visibility('d_message_wrapper', false);
}
}
function menu( id, items, value, attribs ) {
if (typeof(value) == 'undefined') value = null;
var html = '<select name="'+id+'" id="'+id+'" '+compose_attribs(attribs)+'>';
for (var idx = 0, len = items.length; idx < len; idx++) {
var item = items[idx];
if (typeof(item) != 'object') item = [ items[idx], items[idx] ];
if (isa_array(item[0])) {
var subitems = item[0];
html += '<optgroup label="'+item[1]+'">';
for (var idy = 0, ley = subitems.length; idy < ley; idy++) {
var subitem = subitems[idy];
if (typeof(subitem) != 'object') subitem = [ subitems[idy], subitems[idy] ];
var selected = (subitem[0] == value) ? ' selected="selected"' : '';
html += '<option value="'+subitem[0]+'"' + selected + '>' + subitem[1] + '</option>';
}
html += '</optgroup>';
}
else {
var selected = (item[0] == value) ? ' selected="selected"' : '';
html += '<option value="'+item[0]+'"' + selected + '>' + item[1] + '</option>';
}
}
html += '</select>';
return html;
}
function insert_date_selector(prefix, epoch) {
var date = get_date_args(epoch);
var html = '';
html += menu( prefix + '_mon', months, date.mon );
html += menu( prefix + '_mday', days, date.mday );
html += menu( prefix + '_year', years, date.year );
return html;
}
function set_menu_date( prefix, epoch ) {
var date = get_date_args(epoch);
var mon = $( prefix + '_mon' );
if (mon) mon.selectedIndex = date.mon - 1;
var mday = $( prefix + '_mday' );
if (mday) mday.selectedIndex = date.mday - 1;
var year = $( prefix + '_year' );
if (year) year.selectedIndex = date.year - years[0][0];
}
function get_menu_date( prefix ) {
var mon = get_menu_value( prefix + '_mon' );
var mday = get_menu_value( prefix + '_mday' );
var year = get_menu_value( prefix + '_year' );
var date = new Date( year, mon - 1, mday, 0, 0, 0, 0 );
return parseInt( date.getTime() / 1000, 10 );
}
function animate_div(id) {
var div = $(id);
if (!div) return alert("Cannot find div: " + id);
div._timer = null;
var target = div._state ? div.scrollHeight : 0;
if (div._height != target) {
div._height += ((target - div._height) / 4);
if (Math.abs( target - div._height ) < 1.0) div._height = target;
div.style.height = '' + div._height + 'px';
if (div._mode == -1) div.scrollTop = div.scrollHeight;
else div.scrollTop = 0;
div._timer = setTimeout('animate_div("'+id+'");', 33);
}
else {
if (div._state) {
div.style.height = 'auto';
}
div.scrollTop = 0;
}
}
function animate_div_visibility(id, visible) {
var div = $(id);
if (typeof(div._state) == 'undefined') {
div._state = (div.style.display != 'none') ? true : false;
div._height = div._state ? div.scrollHeight : 0;
div.style.height = '' + (div._state ? 'auto' : '0px');
div.style.overflow = 'hidden';
div.scrollTop = 0;
}
else {
div._height = div.offsetHeight;
}
div.show();
div._state = visible;
div._mode = -1; 
if (!div._timer) animate_div(id);
var sc = document.getElementById('sc_' + id);
if (sc) {
var new_icon_name = visible ? 'arrow-down' : 'arrow-right';
if (sc.src.indexOf('_mini') > -1) new_icon_name += '_mini';
sc.src = images_uri + '/icons/' + new_icon_name + '.png';
}
if (visible && !div.innerHTML.length && div.getAttribute('onExpand')) 
eval( div.getAttribute('onExpand') );
}
function image_placeholder(text, width, height) {
return '<table cellspacing="0" cellpadding="0" width="'+width+'" height="'+height+'"><tr><td bgcolor="#dddddd" align="center" valign="center"><b>'+text+'</b></td></tr></table>';
}
function bad_field(id, msg) {
var field = $(id);
field.addClass('control_bad');
do_message("error", msg);
try { field.focus(); } catch(e) {;}
session.last_bad_field_id = id;
return false;
}
function clear_field_error() {
if (session.last_bad_field_id && $(session.last_bad_field_id)) $(session.last_bad_field_id).removeClass('control_bad');
}
function smart_sect_restore(sects, prefs) {
if (!sects) sects = [];
if (!prefs) prefs = {};
for (var idx = 0, len = sects.length; idx < len; idx++) {
var sect = sects[idx];
if (typeof(prefs[sect]) == 'undefined') prefs[sect] = 1;
if (prefs[sect] == 1) {
$(sect).show();
$(sect).style.height = '';
$('ctl_'+sect).removeClass('closed');
$('ctl_'+sect).addClass('open');
}
else {
$(sect).hide();
$('ctl_'+sect).removeClass('open');
$('ctl_'+sect).addClass('closed');
}
}
}
function smart_sect_toggle(sect, prefs) {
if (prefs[sect] == 0) {
animate_div_visibility(sect, true);
$('ctl_'+sect).removeClass('closed');
$('ctl_'+sect).addClass('open');
prefs[sect] = 1;
}
else {
animate_div_visibility(sect, false);
$('ctl_'+sect).removeClass('open');
$('ctl_'+sect).addClass('closed');
prefs[sect] = 0;
}
user_storage_mark();
}
function custom_fit(source_width, source_height, dest_width, dest_height) {
var width = dest_width;
var height = dest_height;
if ((dest_width <= source_width) || (dest_height <= source_height)) {
width = source_width;
height = source_height;
for (var idx = 0; idx < 2; idx++) {
if (width - dest_width > height - dest_height) {
if (width > dest_width) {
height = Math.floor( height / (width / dest_width) );
width = dest_width;
}
}
else {
if (height > dest_height) {
width = Math.floor( width / (height / dest_height) );
height = dest_height;
}
}
} 
if (!width) width = 1;
if (!height) height = 1;
}
return { width: width, height: height };
}
function fit_game_title(title) {
return ww_fit_string(title, 550, session.em_width, 1);
}
function render_user_stats(stats) {
var html = '';
html += '<div class="article_info_floater">';
html += '<div class="article_info_header">' + icon('chart_pie.png', 'User Stats') + '</div>';
html += '<div class="stats_row"><b>Logins:</b>&nbsp;' + commify(stats.Logins || 0) + '</div>';
html += '<div class="stats_row"><b>Articles:</b>&nbsp;' + commify(stats.Articles || 0) + '</div>';
html += '<div class="stats_row"><b>Comments:</b>&nbsp;' + commify(stats.Comments || 0) + '</div>';
html += '<div class="stats_row"><b>Games:</b>&nbsp;' + commify(stats.Games || 0) + '</div>';
html += '</div>';
return html;
}
function get_speech_bubble(color, content) {
var bubble_uri = images_uri + '/speech_bubbles/' + color;
var html = '';
html += '<table cellspacing=0 cellpadding=0 border=0><tr>';
html += '<td width="24" height="14"><img class="png" src="'+png(bubble_uri+'_tl.png', true)+'" width="24" height="14"/></td>';
html += '<td width="*" height="14" class="png" background="'+png(bubble_uri+'_tm.png', true)+'">'+spacer(1,14)+'</td>';
html += '<td width="24" height="14"><img class="png" src="'+png(bubble_uri+'_tr.png', true)+'" width="24" height="14"/></td>';
html += '</tr><tr>';
html += '<td width="24" height="*" class="png" background="'+png(bubble_uri+'_ml.png', true)+'">'+spacer(24,1)+'</td>';
html += '<td width="*" height="*" class="png" background="'+png(bubble_uri+'_mi.png', true)+'">';
html += '<div ';
if (!ie6) {
html += 'style="';
if (!ie7) html += 'margin-left:-5px; margin-right:-5px; ';
html += 'margin-top:-7px; margin-bottom:-7px; overflow:visible; position:relative;"';
}
html += '>';
html += content;
html += '</div></td>';
html += '<td width="24" height="*" class="png" background="'+png(bubble_uri+'_mr.png', true)+'">'+spacer(24,1)+'</td>';
html += '</tr><tr>';
html += '<td width="24" height="17"><img class="png" src="'+png(bubble_uri+'_bl.png', true)+'" width="24" height="17"/></td>';
html += '<td width="*" height="17" class="png" background="'+png(bubble_uri+'_bm.png', true)+'">'+spacer(1,17)+'</td>';
html += '<td width="24" height="17"><img class="png" src="'+png(bubble_uri+'_br.png', true)+'" width="24" height="17"/></td>';
html += '</tr></table>';
return html;
}
function get_chat_balloon(color, username, chat_text) {
var html = '<div class="chat_msg_bubble"><table><tr><th valign="bottom" onClick="Nav.go(\'User/'+username+'\')" style="cursor:pointer;" title="'+username+'">';
html += get_buddy_icon_display(username, true, false);
html += '</th>';
var user_span = '';
user_span += '<span class="chat_msg_text"';
user_span += '>';
user_span += chat_text;
user_span += '</span>';
html += '<td valign="bottom"';
html += '>';
html += get_speech_bubble( color, user_span );
html += '</td></tr></table></div>';
return html;
}
function bar(count, max, width) {
if (!max) max = 1; 
var a_width = Math.floor( (count / max) * width );
var b_width = Math.floor( ((max - count) / max) * width );
var html = '';
html += '<div style="width:'+width+'px; height:14px;">';
html += '<div class="bar_inner" style="width:'+a_width+'px;">';
html += '</div>';
html += '</div>';
return html;
}
function get_ticket_number_disp(num) {
num = num.toString();
return "#" + num;
}
function png(url, no_alpha_dither) {
if (ie6 && url.match(/\.png/)) {
if (url.match(/^images\//)) {
url = url.replace(/^images\//, '/effect/api/image/');
}
else if (url.match(/^\/effect\/images\//)) {
url = url.replace(/^\/effect\/images\//, '/effect/api/image/');
}
if (url.match(/\?/)) url += '&'; else url += '?';
url += 'format=gif';
if (no_alpha_dither) url += '&noalphadither=1';
}
return url;
}
var dblclick_threshold = 0.25;
var SPACE_BAR = 32;
var ENTER_KEY = 13;
var ESC_KEY = 27;
var DELETE_KEY = 8;
var TAB_KEY = 9;
var LEFT_ARROW = 37;
var RIGHT_ARROW = 39;
var UP_ARROW = 38;
var DOWN_ARROW = 40;
var mozKeyMap = {
192: '~',
187: '=',
189: '-',
111: '/',
106: '*',
109: '-',
219: '[',
221: ']',
220: "\\",
103: '7',
104: '8',
105: '9',
107: '+',
186: ':',
222: '\'',
100: '4',
101: '5',
102: '6',
188: ',',
190: '.',
191: '/',
97: '1',
98: '2',
99: '3',
96: '0',
110: '.'
};
var keyCodeTitleMap = {
8: 'Backspace',
9: 'Tab',
27: 'Escape', 
32: 'Space',
192: 'Tilde',
187: 'Equals',
189: 'Dash',
45: 'Insert',
36: 'Home',
33: 'Page Up',
144: 'Num Lock',
111: 'Slash (Keypad)',
106: 'Asterisk (Keypad)',
109: 'Dash (Keypad)',
219: 'Left Bracket',
221: 'Right Bracket',
220: "Backslash",
46: 'Delete',
35: 'End',
34: 'Page Down',
103: '7 (Keypad)',
104: '8 (Keypad)',
105: '9 (Keypad)',
107: 'Plus (Keypad)',
186: 'Semicolon',
222: 'Quote',
13: 'Enter',
100: '4 (Keypad)',
101: '5 (Keypad)',
102: '6 (Keypad)',
188: 'Comma',
190: 'Period',
191: 'Slash',
38: 'Up Arrow',
97: '1 (Keypad)',
98: '2 (Keypad)',
99: '3 (Keypad)',
17: 'Control',
37: 'Left Arrow',
40: 'Down Arrow',
39: 'Right Arrow',
96: '0 (Keypad)',
110: 'Period (Keypad)',
16: 'Shift',
18: 'Alt/Option',
224: 'Meta/Cmd'
};
function get_nice_key_name(keyCode) {
if (keyCodeTitleMap[keyCode]) return keyCodeTitleMap[keyCode];
else {
var ch = String.fromCharCode(keyCode);
if ( ((keyCode >= 65) && (keyCode <= 90)) || ((keyCode >= 45) && (keyCode <= 57)) ) {
return ch;
}
else {
return 'Unknown (#' + keyCode + ')';
}
}	
}
function fix_key_code(keyCode) {
switch (keyCode) {
case 59: keyCode = 186; break; 
case 91:
case 93: keyCode = 224; break; 
}
return keyCode;
}
function get_mouse_coords(e, obj) {
var pt = {};
if (document.all) {
pt.x = e.clientX;
pt.y = e.clientY;
}
else {
pt.x = e.pageX;
pt.y = e.pageY;
}
if (obj) {
var info = get_dom_object_info(obj);
pt.x -= info.left;
pt.y -= info.top;
}
return pt;
}
function get_dom_object_info(obj) {
var info = {
left: 0, 
top: 0, 
width: obj.width ? obj.width : obj.offsetWidth, 
height: obj.height ? obj.height : obj.offsetHeight
};
while (obj) {
info.left += obj.offsetLeft;
info.top += obj.offsetTop;
obj = obj.offsetParent;
}
return info;
}
function delay_onChange_input_text(e) {
if (!e) e = window.event;
var ch = 0;
if (e.keyCode) ch = e.keyCode;
else if (e.which) ch = e.which;
if (ch == 13) {
if (this.getAttribute('onEnter')) invoke_dom_handler(this, 'onEnter');
if (e.preventDefault) {
e.preventDefault();
e.stopPropagation();
}
else {
e.returnValue = false;
e.cancelBubble = true;
}
return false;
}
if (this.getAttribute('onChange')) {
var obj = this;
setTimeout( function() { invoke_dom_handler(obj, 'onChange'); }, 1 );
}
return true;
}
function delay_onChange_textarea() {
if (this.getAttribute('onChange')) {
var obj = this;
setTimeout( function() { invoke_dom_handler(obj, 'onChange'); }, 1 );
}
return true;
}
function invoke_dom_handler(target, handlerName) {
if (typeof(target[handlerName]) == 'function') return target[handlerName](); 
var handler = target.getAttribute(handlerName);
if (!handler) return false;
var code = handler.toString ? handler.toString() : handler;
if (code.match(/^function\s+\w+\(\)/)) {
code = code.substring( code.indexOf("{") + 1, code.lastIndexOf("}") ) + "\r;";
}
target['__temp'] = new Function( code );
target['__temp']();
}
var received_mouse_down = false;
var received_mouse_up = false;
function pass_event_if(state, e) {
if (!received_mouse_down || !received_mouse_up) return true;
if (state) return true; 
else return stop_event(e);
}
function stop_event(e) {
if (e.preventDefault) {
e.preventDefault();
e.stopPropagation();
}
else {
e.returnValue = false;
e.cancelBubble = true;
}
return false;
}
function stop_textarea_key_event(e) {
if (!e) e = window.event;
if (e && !e.metaKey && !e.ctrlKey) {
return stop_event(e);
}
else return true;
}
var mouseObj = null; 
function app_mouse_down(e) {
received_mouse_down = true;
if (!e) e = window.event;
if (window.session) session.mouseIsDown = true;
if (window.session && session.progress) {
stop_event(e);
return false; 
}
if (window.session) session.last_mouse_event = e;
var targetObj = e.target ? e.target : e.srcElement;
while (targetObj && !targetObj.tagName.match(/^(BODY|HTML)$/) && !targetObj.getAttribute('captureMouse') && !targetObj.captureMouse) {
targetObj = targetObj.parentNode ? targetObj.parentNode : targetObj.parentElement;
}
if (targetObj && targetObj.getAttribute('captureMouse')) {
var pt = get_mouse_coords(e, targetObj);
mouseObj = targetObj;
targetObj['__captureMouse'] = eval( 'window.' + targetObj.getAttribute('captureMouse') );
if (!targetObj['__captureMouse']) return alert("captureMouse handler not found: " + targetObj.getAttribute('captureMouse'));
var result = pass_event_if( targetObj.__captureMouse('mouseDown', e, pt), e );
if (!result) return false; 
}
else if (targetObj && targetObj.captureMouse) {
var pt = get_mouse_coords(e, targetObj);
mouseObj = targetObj;
if (mouseObj.captureMouse.onMouseDown) {
var handlers = always_array( mouseObj.captureMouse.onMouseDown );
for (var idx = 0, len = handlers.length; idx < len; idx++) {
var result = pass_event_if(
(typeof(handlers[idx]) == 'function') ? 
handlers[idx].apply( mouseObj.captureMouse, [e, pt]) : 
window[handlers[idx]].apply( mouseObj.captureMouse, [e, pt]), 
e );
if (!result) return false; 
} 
} 
} 
var pt = get_mouse_coords(e);
if (window.session) {
session.mousePt = pt;
}
return true; 
}
function app_mouse_move(e) {
if (!e) e = window.event;
var globalPt = get_mouse_coords(e);
if ((globalPt.x < 0) || (globalPt.y < 0)) return true;
if (mouseObj && mouseObj.__captureMouse) {
var pt = get_mouse_coords(e, mouseObj);
var result = pass_event_if( mouseObj.__captureMouse('mouseMove', e, pt), e );
if (!result) return false; 
}
else if (mouseObj && mouseObj.captureMouse && mouseObj.captureMouse.onMouseMove) {
var pt = get_mouse_coords(e, mouseObj);
var handlers = always_array( mouseObj.captureMouse.onMouseMove );
for (var idx = 0, len = handlers.length; idx < len; idx++) {
var result = pass_event_if( 
(typeof(handlers[idx]) == 'function') ? 
handlers[idx].apply( mouseObj.captureMouse, [e, pt]) : 
window[handlers[idx]].apply( mouseObj.captureMouse, [e, pt]), 
e );
if (!result) return false; 
} 
} 
if (window.session) session.mousePt = globalPt;
safe_call('notify_mouse_move', e);
return true; 
}
function app_mouse_up(e) {
received_mouse_up = true;
if (!e) e = window.event;
if (window.session) session.last_mouse_event = e;
if (window.session) session.mouseIsDown = false;
var globalPt = get_mouse_coords(e);
if (mouseObj && mouseObj.__captureMouse) {
var pt = get_mouse_coords(e, mouseObj);
var result = pass_event_if( mouseObj.__captureMouse('mouseUp', e, pt), e );
if (1 || ((pt.x >= 0) && (pt.y >= 0) && (pt.x < mouseObj.offsetWidth) && (pt.y < mouseObj.offsetHeight))) {
if (mouseObj.__lastClick && (mouseObj.__lastClick > hires_time_now() - dblclick_threshold))
result = pass_event_if( mouseObj.__captureMouse('doubleClick', e, pt), e );
else
result = pass_event_if( mouseObj.__captureMouse('click', e, pt), e );
mouseObj.__lastClick = hires_time_now();
}
mouseObj = null;
if (!result) return false; 
}
else if (mouseObj && mouseObj.captureMouse) {
var pt = get_mouse_coords(e, mouseObj);
var result = true;
var handlers = mouseObj.captureMouse.onMouseUp ? always_array( mouseObj.captureMouse.onMouseUp ) : [];
var capMouse = mouseObj.captureMouse;
mouseObj = null;
for (var idx = 0, len = handlers.length; idx < len; idx++) {
var result = (typeof(handlers[idx]) == 'function') ? 
handlers[idx].apply( capMouse, [e, pt]) : 
window[handlers[idx]].apply( capMouse, [e, pt]);
if (!result) return stop_event(e);
}
if (!result) return false; 
}
if (window.session) session.mousePt = globalPt;
return true;
}
function ie_dblclick(e) {
if (!e) e = window.event;
app_mouse_down(e);
return app_mouse_up(e);
}
function app_key_down(e) {
if (!e) e = window.event;
if (window.session) session.last_key_event = e;
var ch = fix_key_code( e.keyCode );
if (window.session && session.hooks.keys[ch]) {
var func = session.hooks.keys[ch];
delete session.hooks.keys[ch];
var result = pass_event_if( isa_array(func) ? func[0][ func[1] ](func[2]) : window[func](), e );
return result;
}
var result = pass_event_if( fire_hook('key_down', e), e );
if (!result) return false;
safe_call('notify_key_down', e);
return true;
}
function app_key_up(e) {
if (!e) e = window.event;
if (window.session) session.last_key_event = e;
var ch = fix_key_code( e.keyCode );
var result = pass_event_if( fire_hook('key_up', e), e );
if (!result) return false;
return true;
}
if (!window.no_hooky) {
if (window.addEventListener) {
window.addEventListener( 'mousedown', app_mouse_down, false );
window.addEventListener( 'mousemove', app_mouse_move, false );
window.addEventListener( 'mouseup', app_mouse_up, false );
window.addEventListener( 'keydown', app_key_down, false );
window.addEventListener( 'keyup', app_key_up, false );
}
else {
if (document.captureEvents) {
document.captureEvents(Event.MOUSEDOWN);
document.captureEvents(Event.MOUSEMOVE);
document.captureEvents(Event.MOUSEUP);
document.captureEvents(Event.KEYDOWN);
document.captureEvents(Event.KEYUP);
}
var body = document.body ? document.body : document.getElementsByTagName('body')[0];
if (!body) body = {};
window.onmousedown = document.onmousedown = body.onmousedown = app_mouse_down;
window.onmousemove = document.onmousemove = body.onmousemove = app_mouse_move;
window.onmouseup = document.onmouseup = body.onmouseup = app_mouse_up;
parent.onkeydown = window.onkeydown = document.onkeydown = app_key_down;
parent.onkeyup = window.onkeyup = document.onkeyup = app_key_up;
if (ie) {
window.ondblclick = document.ondblclick = body.ondblclick = ie_dblclick;
}
}
}
var webcam_callback = null;
function get_webcam_html(width, height) {
var html = '';
if (ie) {
html += '<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" codebase="'+protocol+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+width+'" height="'+height+'" id="webcam" align="middle"><param name="allowScriptAccess" value="sameDomain" /><param name="allowFullScreen" value="false" /><param name="movie" value="webcam.swf" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" />	</object>';
}
else {
html += '<embed id="webcam" src="webcam.swf" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+width+'" height="'+height+'" name="webcam" align="middle" allowScriptAccess="sameDomain" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" />';
}
return html;
}
function webcam_snap(url, callback) {
if (callback) webcam_callback = callback;
else webcam_callback = null;
Debug.trace('webcam', 'Sending snapshot to: ' + url);
session.webcam_in_progress = true;
var movie = $('webcam');
movie._snap( url );
}
function webcam_configure(panel) {
if (!panel) panel = "camera";
var movie = $('webcam');
movie._configure(panel);
}
function webcam_flash_notify(type, msg) {
Debug.trace('webcam', 'Flash Notify: ' + type);
switch (type) {
case 'flashLoadComplete':
session.webcam_loaded = true;
safe_call('notify_webcam_loaded');
if (!session.cookie.get('wbfuse')) {
webcam_configure();
session.cookie.set('wbfuse', 1);
session.cookie.save();
}
break;
case 'debug':
alert("Flash Debug: " + msg);
break;
case 'error':
alert("Flash Error: " + msg);
session.webcam_in_progress = false;
break;
case 'success':
session.webcam_in_progress = false;
if (webcam_callback) window[webcam_callback](msg);
break;
default:
alert("webcam_flash_notify: " + type + ": " + msg);
break;
}
}
var zero_client;
function uploadQueueStart(client, stats) {
Debug.trace('upload', "Upload queue starting now");
show_progress_dialog( 0, 'Starting Upload...', true );
session.upload_in_progress = 1;
}
function uploadFileStart(client, stats) {
Debug.trace('upload', "Upload file starting now");
update_progress_dialog(stats.progress, "Uploading file " + stats.currentFileNum + " of " + stats.numFiles + "...");
}
function uploadProgress(client, stats) {
update_progress_dialog(stats.progress);
}
function uploadFileComplete(client, stats) {
Debug.trace('upload', "Upload file complete");
update_progress_dialog(stats.progress);
}
function uploadQueueComplete() {
Debug.trace('upload', "Upload queue complete");
session.upload_in_progress = 0;
update_progress_dialog(1.0);
fire_callback( session.upload_callback );
}
function uploadError(client, msg) {
session.upload_in_progress = 0;
do_error("Upload Error: " + msg);
}
function upload_basic() {
hide_popup_dialog();
delete session.progress;
var html = '';
html += '<iframe id="i_upload_basic" src="blank.html" style="position:absolute; left:-2000px; top:0px; width:1px; height:1px;"></iframe>';
html += '<div class="dialog_bkgnd" style="background-image:url('+png('/effect/images/big_icons/upload.png')+')">';
html += '<table cellspacing=0 cellpadding=0><tr><td width=400 height=200 valign=center align=center>';
html += '<div class="dialog_title">Upload File</div>';
html += '<div class="caption">Want to upload multiple files at once?  Please upgrade to the latest <a href="http://www.adobe.com/products/flashplayer/" target="_blank">Flash Player</a>, then reload this page.  For some reason our Flash based uploader did not load, so you are currently using our single file uploader.</div>';
html += spacer(1,20) + '<br/>';
var url = zero_client.targetURL;
if (url.indexOf('?') > -1) url += '&'; else url += '?';
url += 'format=jshtml&onafter=' + escape('window.parent.upload_basic_finish(response);');
Debug.trace('upload', "Prepping basic upload: " + url);
html += '<form id="f_upload_basic" method="post" enctype="multipart/form-data" target="i_upload_basic" action="'+url+'">';
html += '<div id="d_upload_form">';
html += '<input type="file" name="Filedata"/><br/>';
html += '<br><br><table><tr>';
html += '<td>' + large_icon_button('x', 'Cancel', "hide_popup_dialog()") + '</td>';
html += '<td width=50>&nbsp;</td>';
html += '<td>' + large_icon_button('page_white_get.png', '<b>Upload</b>', "upload_basic_go()") + '</td>';
html += '</tr></table>';
html += '</div>';
html += '<div id="d_upload_progress" style="display:none">';
html += '<img src="'+images_uri+'/aquaprogressbar.gif" width="196" height="20"/>';
html += '</div>';
html += '</form>';
html += '</div>';
session.hooks.keys[ESC_KEY] = 'hide_popup_dialog'; 
show_popup_dialog(528, 200, html);
}
function upload_basic_go() {
$('f_upload_basic').submit();
$('d_upload_form').hide();
$('d_upload_progress').show();
}
function upload_basic_finish(response) {
Debug.trace('upload', "Basic upload complete: " + dumper(response));
setTimeout( 'upload_basic_finish_2()', 100 );
}
function upload_basic_finish_2() {
$('i_upload_basic').src = 'blank.html';
setTimeout( 'upload_basic_finish_3()', 100 );
}
function upload_basic_finish_3() {
hide_popup_dialog();
delete session.progress;
show_progress_dialog( 0, 'Finishing Upload...', true );
fire_callback( session.upload_callback );
}
function upload_destroy() {
if (zero_client) {
zero_client.destroy();
delete ZeroUpload.clients[ zero_client.id ];
zero_client = null;
}
}
function prep_upload(dom_id, url, callback, types) {
session.upload_callback = callback;
if (url) {
if (url.indexOf('?') > -1) url += '&'; else url += '?';
url += 'session=' + session.cookie.get('effect_session_id');
}
upload_destroy();
zero_client = new ZeroUpload.Client();
if (url) zero_client.setURL( url );
zero_client.setHandCursor( true );
if (types) zero_client.setFileTypes( types[0], types[1] );
zero_client.addEventListener( 'queueStart', uploadQueueStart );
zero_client.addEventListener( 'fileStart', uploadFileStart );
zero_client.addEventListener( 'progress', uploadProgress );
zero_client.addEventListener( 'fileComplete', uploadFileComplete );
zero_client.addEventListener( 'queueComplete', uploadQueueComplete );
zero_client.addEventListener( 'error', uploadError );
zero_client.addEventListener( 'debug', function(client, eventName, args) {
Debug.trace('upload', "Caught event: " + eventName);
} );
if (dom_id) {
Debug.trace('upload', "Gluing ZeroUpload to: " + dom_id);
zero_client.glue( dom_id );
}
}
Class.create( 'Debug', {
__static: {
enabled: false,
categories: { all: 1 }, 
buffer: [], 
max_rows: 5000, 
win: null, 
ie: !!navigator.userAgent.match(/MSIE/),
ie6: !!navigator.userAgent.match(/MSIE\D+6/),
init: function() {
Debug.enabled = true;
Debug.trace( 'debug', 'Debug log start' );
var html = '<p align="right"><input type="button" value="Debug..." onClick="Debug.show()"/></p>';
if (Debug.ie) {
setTimeout( function() {
document.body.insertAdjacentHTML('beforeEnd',
'<div id="d_debug" style="position:absolute; z-index:101; left:0px; top:0px; width:100%;">' + html + '</div>'
);
}, 1000 );
}
else {
var div = document.createElement('DIV');
div.id = 'd_debug';
div.setAttribute('id', 'd_debug');
div.style.position = Debug.ie6 ? 'absolute' : 'fixed';
div.style.zIndex = '101';
div.style.left = '0px';
div.style.top = '0px';
div.style.width = '100%';
div.innerHTML = html;
document.getElementsByTagName('body')[0].appendChild(div);
}
},
show: function() {
if (!Debug.win || Debug.win.closed) {
Debug.trace('debug', "Opening debug window");
Debug.win = window.open( '', 'DebugWindow', 'width=600,height=500,menubar=no,resizable=yes,scrollbars=yes,location=no,status=no,toolbar=no,directories=no' );
if (!Debug.win) return alert("Failed to open window.  Popup blocker maybe?");
var doc = Debug.win.document;
doc.open();
doc.writeln( '<html><head><title>Debug Log</title></head><body onLoad="window.opener.Debug.refresh_console()">' );
doc.writeln( '<div id="d_debug_log"></div>' );
doc.writeln( '<hr/>' );
doc.writeln( '<form action="javascript:void(window.opener.Debug.console_execute())" style="margin:0; padding:0;"><table width="100%"><tr>' );
doc.writeln( '<td width="*"><input type="text" id="fe_command" style="width:100%;"/></td>' );
doc.writeln( '<td width="50"><input type=button value="Clear" onClick="document.getElementById(\'d_debug_log\').innerHTML = \'\';"/></td>' );
doc.writeln( '</tr></table></form>' );
doc.writeln( '</body></html>' );
doc.close();
}
Debug.win.focus();
},
console_execute: function() {
var cmd = Debug.win.document.getElementById('fe_command');
if (cmd.value.length) {
Debug.trace( 'console', cmd.value );
try {
Debug.trace( 'console', '' + eval(cmd.value) );
}
catch (e) {
Debug.trace( 'error', 'JavaScript Interpreter Exception: ' + e.toString() );
}
}
},
get_time_stamp: function(now) {
var date = new Date( now * 1000 );
var hh = date.getHours(); if (hh < 10) hh = "0" + hh;
var mi = date.getMinutes(); if (mi < 10) mi = "0" + mi;
var ss = date.getSeconds(); if (ss < 10) ss = "0" + ss;
var sss = '' + date.getMilliseconds(); while (sss.length < 3) sss = "0" + sss;
return '' + hh + ':' + mi + ':' + ss + '.' + sss;
},
refresh_console: function() {
if (!Debug.win || Debug.win.closed) return;
var div = Debug.win.document.getElementById('d_debug_log');
if (div) {
var row = null;
while ( row = Debug.buffer.shift() ) {
var time_stamp = Debug.get_time_stamp(row.time);
var msg = row.msg;
msg = msg.replace(/\t/g, "&nbsp;&nbsp;&nbsp;&nbsp;");
msg = msg.replace(/</g, "&lt;");
msg = msg.replace(/>/g, "&gt;");
msg = msg.replace(/\n/g, "<br>\n");
var html = '';
var sty = 'float:left; font-family: Consolas, Courier, mono; font-size: 12px; cursor:default; margin-right:10px; margin-bottom:1px; padding:2px;';
html += '<div style="'+sty+' background-color:#eee;">' + time_stamp + '</div>';
html += '<div style="'+sty+' background-color:#eee; width:60px; overflow:hidden;">' + row.cat + '</div>';
html += '<div style="'+sty+' background-color:#fff; word-break:break-all;">' + msg + '</div>';
html += '<br clear="all"/>';
var chunk = Debug.win.document.createElement('DIV');
chunk.style['float'] = 'none';
chunk.innerHTML = html;
div.appendChild(chunk);
}
var cmd = Debug.win.document.getElementById('fe_command');
cmd.focus();
} 
Debug.dirty = 0;
Debug.win.scrollTo(0, 99999);
},
hires_time_now: function() {
var now = new Date();
return ( now.getTime() / 1000 );
},
trace: function(cat, msg) {
if (arguments.length == 1) {
msg = cat;
cat = 'debug';
}
if (Debug.categories.all || Debug.categories[cat]) {
Debug.buffer.push({ cat: cat, msg: msg, time: Debug.hires_time_now() });
if (Debug.buffer.length > Debug.max_rows) Debug.buffer.shift();
if (!Debug.dirty) {
Debug.dirty = 1; 
setTimeout( 'Debug.refresh_console();', 1 );
}
}
}
} 
} ); 
var session = {
inited: false,
api_mod_cache: {},
query: parseQueryString( ''+location.search ),
cookie: new CookieTree({ path: '/effect/' }),
storage: {},
storage_dirty: false,
hooks: {
keys: {}
},
username: '',
em_width: 11,
audioResourceMatch: /\.mp3$/i,
imageResourceMatch: /\.(jpe|jpeg|jpg|png|gif)$/i,
textResourceMatch: /\.xml$/i,
movieResourceMatch: /\.(flv|mp4|mp4v|mov|3gp|3g2)$/i,
imageResourceMatchString: '\.(jpe|jpeg|jpg|png|gif)$'
};
session.debug = session.query.debug ? true : false;
var page_manager = null;
var preload_icons = [];
var preload_images = [
'loading.gif',
'aquaprogressbar.gif', 
'aquaprogressbar_bkgnd.gif'
];
function get_base_url() {
return protocol + '://' + location.hostname + session.config.BaseURI;
}
function effect_init() {
if (session.inited) return;
session.inited = true;
assert( window.config, "Config not loaded" );
session.config = window.config;
Debug.trace("Starting up");
rendering_page = false;
preload();
window.$R = {};
for (var key in config.RegExpShortcuts) {
$R[key] = new RegExp( config.RegExpShortcuts[key] );
}
ww_precalc_font("body", "effect_precalc_font_finish");
page_manager = new Effect.PageManager( config.Pages.Page );
var session_id = session.cookie.get('effect_session_id');
if (session_id && session_id.match(/^login/)) {
do_session_recover();
}
else {
show_default_login_status();
Nav.init();
}
Blog.search({
stag: 'sidebar_docs',
limit: 20,
title_only: true,
sort_by: 'seq',
sort_dir: -1,
target: 'd_sidebar_documents',
outer_div_class: 'sidebar_blog_row',
title_class: 'sidebar_blog_title',
after: '<div class="sidebar_see_more">&rarr; <a href="#ArticleCategory/docs">See More...</a></div>'
});
Blog.search({
stag: 'sidebar_tutorials',
limit: 5,
title_only: true,
sort_by: 'seq',
sort_dir: -1,
target: 'd_sidebar_tutorials',
outer_div_class: 'sidebar_blog_row',
title_class: 'sidebar_blog_title',
after: '<div class="sidebar_see_more">&rarr; <a href="#ArticleCategory/tutorials">See More...</a></div>'
});
Blog.search({
stag: 'sidebar_plugins',
limit: 5,
title_only: true,
sort_by: 'seq',
sort_dir: -1,
target: 'd_sidebar_plugins',
outer_div_class: 'sidebar_blog_row',
title_class: 'sidebar_blog_title',
after: '<div class="sidebar_see_more">&rarr; <a href="#ArticleCategory/plugins">See More...</a></div>'
});
$('fe_search_bar').onkeydown = delay_onChange_input_text;
user_storage_idle();
}
function effect_precalc_font_finish(width, height) {
session.em_width = width;
}
function preload() {
for (var idx = 0, len = preload_icons.length; idx < len; idx++) {
var url = images_uri + '/icons/' + preload_icons[idx] + '.gif';
preload_icons[idx] = new Image();
preload_icons[idx].src = url;
}
for (var idx = 0, len = preload_images.length; idx < len; idx++) {
var url = images_uri + '/' + preload_images[idx];
preload_images[idx] = new Image();
preload_images[idx].src = url;
}
}
function $P(id) {
if (!id) id = page_manager.current_page_id;
var page = page_manager.find(id);
assert( !!page, "Failed to locate page: " + id );
return page;
}
function get_pref(name) {
if (!session.user || !session.user.Preferences) return alert("ASSERT FAILURE!  Tried to lookup pref " + name + " and user is not yet loaded!");
return session.user.Preferences[name];
}
function get_bool_pref(name) {
return (get_pref(name) == 1);
}
function set_pref(name, value) {
session.user.Preferences[name] = value;
}
function set_bool_pref(name, value) {
set_pref(name, value ? '1' : '0');
}
function save_prefs() {
var prefs_to_save = {};
if (arguments.length) {
for (var idx = 0, len = arguments.length; idx < len; idx++) {
var key = arguments[idx];
prefs_to_save[key] = get_pref(key);
}
}
else prefs_to_save = session.user.Preferences;
effect_api_mod_touch('user_get');
effect_api_send('user_update', {
Username: session.username,
Preferences: prefs_to_save
}, 'save_prefs_2');
}
function save_prefs_2(response) {
do_message('success', 'Preferences saved.');
}

function get_full_name(username) {
var user = session.users[username];
if (!user) return username;
return user.FullName;
}
function get_buddy_icon_url(username, size) {
var mod = session.api_mod_cache.get_buddy_icon || 0;
if (!size) size = 32;
var url = '/effect/api/get_buddy_icon?username='+username + '&mod=' + mod + '&size=' + size;
return url;
}
function get_buddy_icon_display(username, show_icon, show_name) {
if ((typeof(show_icon) == 'undefined') && get_bool_pref('show_user_icons')) show_icon = 1;
if ((typeof(show_name) == 'undefined') && get_bool_pref('show_user_names')) show_name = 1;
var html = '';
if (show_icon) html += '<img class="png" src="'+get_buddy_icon_url(username)+'" width="32" height="32" border="0"/>';
if (show_icon && show_name) html += '<br/>';
if (show_name) html += username;
return html;
}
function do_session_recover() {
session.hooks.after_error = 'do_logout';
effect_api_send('session_recover', {}, 'do_login_2', { _from_recover: 1 } );
}
function require_login() {
if (session.user) return true;
Debug.trace('Page requires login, showing login page');
session.nav_after_login = Nav.currentAnchor();
setTimeout( function() {
Nav.go( 'Login' );
}, 1 );
return false;
}
function popup_window(url, name) {
if (!url) url = '';
if (!name) name = '';
var win = window.open(url, name);
if (!win) return alert('Failed to open popup window.  If you have a popup blocker, please disable it for this website and try again.');
return win;
}
function do_login_prompt() {
hide_popup_dialog();
delete session.progress;
if (!session.temp_password) session.temp_password = ''; 
if (!session.username) session.username = '';
var temp_username = session.open_id || session.username || '';
var html = '';
html += '<div class="dialog_bkgnd" style="background-image:url('+png('images/big_icons/key.png')+')">';
html += '<table cellspacing=0 cellpadding=0><tr><td width=450 height=225 valign=center align=center>';
html += '<div class="dialog_title">Effect Developer Login</div>';
html += '<form method=get action="javascript:void(0)"><table cellspacing="0" cellpadding="0"><tr><td align="left">';
html += '<div class="fe_label"><table cellspacing="0" cellpadding="0"><tr><td>Effect Username&nbsp;&nbsp;or&nbsp;&nbsp;</td><td>'+icon('openid', 'OpenID', 'popup_window(\'http://openid.net/\')', 'What is OpenID?')+'</td></tr></table></div><input type=text class="fe_big" id="fe_username" size=20 value="'+temp_username+'"><br><br>';
html += '<input type=checkbox id="fe_auto_login" value="1"><label for="fe_auto_login"><span class="fe_label">Keep me logged in</span></label><br>';
html += '</td></tr></table>';
html += '<br><br><table><tr>';
html += '<td>' + large_icon_button('x', 'Cancel', "clear_login()") + '</td>';
html += '<td width=30>&nbsp;</td>';
html += '<td>' + large_icon_button('check', '<b>Login</b>', 'do_login()') + '</td>';
html += '</tr></table>';
html += '</form>';
html += '</div>';
session.hooks.keys[ENTER_KEY] = 'do_login'; 
session.hooks.keys[ESC_KEY] = 'clear_login'; 
safe_focus( 'fe_username' );
show_popup_dialog(450, 225, html);
}
function do_openid_reg(title, auto_login_button) {
hide_popup_dialog();
delete session.progress;
if (!title) title = 'Register Account Using OpenID';
if (typeof(auto_login_button) == 'undefined') auto_login_button = 1;
var html = '';
html += '<div class="dialog_bkgnd" style="background-image:url('+png('images/big_icons/openid.png')+')">';
html += '<table cellspacing=0 cellpadding=0><tr><td width=450 height=225 valign=center align=center>';
html += '<div class="dialog_title">'+title+'</div>';
html += '<form method=get action="javascript:void(0)"><table cellspacing="0" cellpadding="0"><tr><td align="left">';
html += '<div class="fe_label"><table cellspacing="0" cellpadding="0"><tr><td>'+icon('openid', 'Enter Your OpenID URL:')+'</td></tr></table></div><input type=text class="fe_big" id="fe_username" size=20 value="">';
if (auto_login_button) html += '<br><br><input type=checkbox id="fe_auto_login" value="1"><label for="fe_auto_login"><span class="fe_label">Keep me logged in</span></label><br>';
html += '</td></tr></table>';
html += '<br><br><table><tr>';
html += '<td>' + large_icon_button('x', 'Cancel', "hide_popup_dialog()") + '</td>';
html += '<td width=30>&nbsp;</td>';
html += '<td>' + large_icon_button('check', title.match(/login/i) ? '<b>Login</b>' : '<b>Register</b>', 'do_openid_login()') + '</td>';
html += '</tr></table>';
html += '</form>';
html += '</div>';
session.hooks.keys[ENTER_KEY] = 'do_openid_login'; 
session.hooks.keys[ESC_KEY] = 'hide_popup_dialog'; 
safe_focus( 'fe_username' );
show_popup_dialog(450, 225, html);
}
function do_login_prompt_2() {
hide_popup_dialog();
delete session.progress;
if (!session.temp_password) session.temp_password = ''; 
if (!session.username) session.username = '';
var html = '';
html += '<div class="dialog_bkgnd" style="background-image:url('+png('images/big_icons/key.png')+')">';
html += '<table cellspacing=0 cellpadding=0><tr><td width=450 height=225 valign=center align=center>';
html += '<div class="dialog_title">Enter Your Password</div>';
html += '<form method=get action="javascript:void(0)"><table cellspacing="0" cellpadding="0"><tr><td align="left">';
html += '<div class="fe_label">Password:</div><input type=password class="fe_big" id="fe_lp_password" size=20 value="'+session.temp_password+'"><br><br>';
html += '<input type=checkbox id="fe_auto_login" value="1" '+(session.auto_login ? 'checked="checked"' : '')+'><label for="fe_auto_login"><span class="fe_label">Keep me logged in</span></label><br>';
html += '</td></tr></table>';
html += '<br><br><table><tr>';
html += '<td>' + large_icon_button('x', 'Cancel', "clear_login()") + '</td>';
html += '<td width=30>&nbsp;</td>';
html += '<td>' + large_icon_button('check', '<b>Login</b>', 'do_effect_login()') + '</td>';
html += '</tr></table>';
html += '</form>';
html += '</div>';
session.hooks.keys[ENTER_KEY] = 'do_effect_login'; 
session.hooks.keys[ESC_KEY] = 'clear_login'; 
safe_focus( 'fe_lp_password' );
show_popup_dialog(450, 225, html);
}
function clear_login() {
hide_popup_dialog();
Nav.prev();
}
function do_login() {
if ($('fe_username').value.match(/^\w+$/)) {
session.username = $('fe_username').value;
session.auto_login = $('fe_auto_login').checked;
do_login_prompt_2();
return;
}
else {
do_openid_login();
}
}
function do_openid_login() {
if (!$('fe_username').value) return;
session.openid_win = popup_window('');
if (!session.openid_win) return;
session.open_id = $('fe_username').value;
session.auto_login = $('fe_auto_login') && $('fe_auto_login').checked;
hide_popup_dialog();
show_progress_dialog(1, "Logging in...");
session.hooks.before_error = 'close_openid_window';
session.hooks.after_error = 'do_login_prompt';
effect_api_send('openid_login', {
OpenID: session.open_id,
Infinite: session.auto_login ? 1 : 0
}, 'do_openid_login_2');
}
function close_openid_window() {
if (session.openid_win) {
session.openid_win.close();
delete session.openid_win;
}
}
function do_openid_login_2(response) {
if (response.CheckURL) {
Debug.trace('openid', "Redirecting popup window to OpenID Check URL: " + response.CheckURL);
show_progress_dialog(1, "Waiting for popup window...", false, ['x', 'Cancel', 'do_login_prompt()']);
session.openid_win.location = response.CheckURL;
session.openid_win.focus();
}
}
function receive_openid_response(iframe_response) {
var response = deep_copy_object(iframe_response); 
Debug.trace('openid', "Received OpenID Response: " + dumper(response));
hide_popup_dialog();
if (response.Code) {
close_openid_window();
return do_error( response.Description );
}
delete session.hooks.before_error;
delete session.hooks.after_error;
if (response.SessionID) {
session.cookie.set( 'effect_session_id', response.SessionID );
session.cookie.save();
}
switch (response.Action) {
case 'popup':
show_progress_dialog(1, "Waiting for popup window...", false, ['x', 'Cancel', 'do_login_prompt()']);
Debug.trace('openid', "Redirecting popup window to OpenID Setup URL: " + response.SetupURL);
session.openid_win.location = response.SetupURL;
session.openid_win.focus();
break;
case 'login':
close_openid_window();
do_login_2(response);
break;
case 'register':
if (!response.Info) response.Info = {};
close_openid_window();
Debug.trace('openid', 'Original OpenID: ' + response.OpenID_Login);
Debug.trace('openid', 'Clean OpenID: ' + response.OpenID_Unique);
Debug.trace('openid', 'Registration Info: ' + dumper(response.Info));
session.prereg = response.Info;
session.prereg.open_id_login = response.OpenID_Login;
session.prereg.open_id = response.OpenID_Unique;
if (session.user) {
if (!session.user.OpenIDs) session.user.OpenIDs = {};
if (!session.user.OpenIDs.OpenID) session.user.OpenIDs.OpenID = [];
var dupe = find_object( session.user.OpenIDs.OpenID, { Unique: session.prereg.open_id } );
if (dupe) return do_error("That OpenID is already registered and attached to your account.  No need to add it again.");
session.user.OpenIDs.OpenID.push({
Login: session.prereg.open_id_login,
Unique: session.prereg.open_id
});
setTimeout( function() {
Nav.go('MyAccount', true);
do_message('success', 'Added new OpenID URL to account.');
}, 1 );
}
else {
setTimeout( function() { Nav.go('CreateAccount', true); }, 1 );
}
break;
}
}
function do_effect_login() {
var password = $('fe_lp_password').value;
session.auto_login = $('fe_auto_login').checked;
hide_popup_dialog();
show_progress_dialog(1, "Logging in...");
session.hooks.after_error = 'do_login_prompt';
effect_api_send('user_login', {
Username: session.username,
Password: password,
Infinite: session.auto_login ? 1 : 0
}, 'do_login_2');
}
function do_logout() {
effect_api_send('user_logout', {}, 'do_logout_2');
}
function do_logout_2(response) {
hide_popup_dialog();
show_default_login_status();
delete session.hooks.after_error;
delete session.cookie.tree.effect_session_id;
session.cookie.save();
session.storage = {};
session.storage_dirty = false;
delete session.user;
delete session.first_login;
var old_username = session.username;
session.username = '';
if (Nav.inited) {
Nav.go('Main');
if (old_username) $GR.growl('success', "Logged out of account: " + old_username);
}
else {
Nav.init();
}
}
function do_login_2(response, tx) {
if (response.FirstLogin) session.first_login = 1;
if (response.User.UserStorage) {
Debug.trace('Recovering site storage blob: session.storage = ' + response.User.UserStorage + ';');
try {
eval( 'session.storage = ' + response.User.UserStorage + ';' );
}
catch (e) {
Debug.trace("SITE STORAGE RECOVERY FAILED: " + e);
session.storage = {};
}
delete response.User.UserStorage;
session.storage_dirty = false;
}
session.user = response.User;
session.username = session.user.Username;
hide_popup_dialog();
delete session.hooks.after_error;
update_header();
if (!tx || !tx._from_recover) $GR.growl('success', "Logged in as: " + session.username);
if (session.nav_after_login) {
Nav.go( session.nav_after_login );
delete session.nav_after_login;
}
else if (Nav.currentAnchor().match(/^Login/)) {
Nav.go('Home');
}
else {
Nav.refresh();
}
Nav.init();
}
function user_storage_mark() {
Debug.trace("Marking user storage as dirty");
session.storage_dirty = true;
}
function user_storage_idle() {
if (session.storage_dirty && !session.mouseIsDown) {
user_storage_save();
session.storage_dirty = false;
}
setTimeout( 'user_storage_idle()', 5000 );
}
function user_storage_save() {
if (session.user) {
Debug.trace("Committing user storage blob");
effect_api_send('update_user_storage', { Data: serialize(session.storage) }, 'user_storage_save_finish', { _silent: 1 } );
}
}
function user_storage_save_finish(response, tx) {
}
function show_default_login_status() {
$('d_sidebar_wrapper_recent_games').hide();
$('d_login_status').innerHTML = '<center><table><tr><td>' + 
large_icon_button('key', "<b>Login</b>", '#Home') + '</td>' + 
'<td>' + spacer(1,1) + '<td>' + 
'<td>' + large_icon_button('user_add.png', "<b>Signup</b>", '#CreateAccount') + '</td></tr></table>' + 
'</center>';
$('d_tagline').innerHTML = 
'<a href="#Home">Login</a>' + ' <span class="spacer">|</span> ' + 
'<a href="#CreateAccount">Create Account</a>';
}
function update_header() {
var html = '';
html += '<table><tr><td>';
html += '<a href="#Home">';
html += '<img class="png" src="'+get_buddy_icon_url(session.username) + '" width="32" height="32" border="0"/>';
html += '</a>';
html += '</td><td>'+spacer(2,2)+'</td><td>';
html += session.user.FullName + '<br/>';
html += spacer(1,5) + '<br/>';
html += '<a href="#Home"><b>My Home</b></a>&nbsp;&nbsp;|&nbsp;&nbsp;';
html += '<a href="javascript:void(0)" onClick="do_logout()">Logout</a>';
html += '</td></tr></table>';
$('d_login_status').innerHTML = html;
$('d_tagline').innerHTML = 
'Welcome '+session.user.FirstName+'' + ' <span class="spacer">|</span> ' + 
'<a href="#Home">My Home</a>' + ' <span class="spacer">|</span> ' + 
'<a href="javascript:void(0)" onClick="do_logout()">Logout</a>';
effect_api_get( 'get_user_games', { limit:5, offset:0 }, 'receive_sidebar_recent_games', { } );
}
function receive_sidebar_recent_games(response, tx) {
var html = '';
if (response.Rows && response.Rows.Row) {
var games = always_array( response.Rows.Row );
for (var idx = 0, len = games.length; idx < len; idx++) {
var game = games[idx];
html += '<div class="sidebar_blog_row">';
html += '<div class="sidebar_blog_title"><a href="#Game/'+game.GameID+'">'+ww_fit_string(game.Title, 170, session.em_width, 1)+'</a></div>';
html += '</div>';
} 
html += '<div class="sidebar_see_more">&rarr; <a href="#GameEdit">Create New Game...</a></div>';
$('d_sidebar_recent_games').innerHTML = html;
$('d_sidebar_wrapper_recent_games').show();
}
else {
$('d_sidebar_wrapper_recent_games').hide();
}
}
function check_privilege(key) {
if (!session.user) return false;
if (session.user.Privileges.admin == 1) return true; 
if (!key.toString().match(/^\//)) key = '/' + key;
var value = lookup_path(key, session.user.Privileges);
return( value && (value != 0) );
}
function is_admin() {
return check_privilege('admin');
}
function upgrade_flash_error() {
return alert("Sorry, file upload requires Adobe Flash Player 9 or higher.");
}
function cancel_user_image_manager() {
upload_destroy();
hide_popup_dialog();
delete session.hooks.keys[DELETE_KEY];
}
function do_user_image_manager(callback) {
if (callback) session.uim_callback = callback;
else session.uim_callback = null;
session.temp_last_user_img = null;
session.temp_last_user_image_filename = '';
var html = '<table cellspacing=0 cellpadding=0><tr><td width=500 height=300 valign=center align=center>';
html += '<div class="dialog_title">Image Manager</div>';
html += '<div class="vert_selector" id="d_user_image_list" style="width:480px; height:200px;">';
html += '<img src="images/loading.gif" width="32" height="32" style="margin-left:174px; margin-top:84px"/>';
html += '</div>';
html += '<br><table><tr>';
html += '<td>' + large_icon_button('x', 'Cancel', 'cancel_user_image_manager()') + '</td>';
html += '<td width=25>&nbsp;</td>';
html += '<td>' + large_icon_button('bullet_upload.png', 'Upload Files...', 'upload_basic()', 'b_upload_user_image') + '</td>';
html += '<td width=25>&nbsp;</td>';
html += '<td>' + large_icon_button('check', '<b>Choose</b>', 'do_choose_user_image()', 'btn_choose_user_image', '', 'disabled') + '</td>';
html += '</tr></table>';
html += '</td></tr></table>';
session.hooks.keys[ENTER_KEY] = 'do_choose_user_image'; 
session.hooks.keys[ESC_KEY] = 'cancel_user_image_manager'; 
session.hooks.keys[DELETE_KEY] = 'do_delete_selected_user_image';
show_popup_dialog(500, 300, html);
var self = this;
setTimeout( function() {
prep_upload('b_upload_user_image', '/effect/api/upload_user_image', [self, 'do_upload_user_image_2'], ['Image Files', '*.jpg;*.jpe;*.jpeg;*.gif;*.png']);
}, 1 );
var args = {
limit: 50,
offset: 0,
random: Math.random()
};
effect_api_get( 'user_images_get', args, 'uim_populate_images', { } );
}
function do_upload_user_image_2() {
effect_api_mod_touch('user_images_get');
effect_api_send('user_get', {
Username: session.username
}, [this, 'do_upload_user_image_3']);
}
function do_upload_user_image_3(response) {
if (response.User.LastUploadError) return do_error( "Failed to upload image: " + response.User.LastUploadError );
do_user_image_manager( session.uim_callback );
}
function uim_populate_images(response, tx) {
var html = '';
var base_url = '/effect/api/view/users/' + session.username + '/images';
if (response.Rows && response.Rows.Row) {
var imgs = always_array( response.Rows.Row );
for (var idx = 0, len = imgs.length; idx < len; idx++) {
var img = imgs[idx];
var class_name = ((img.Filename == session.temp_last_user_image_filename) ? 'choose_item_selected' : 'choose_item');
html += '<img class="'+class_name+'" src="'+base_url+'/'+img.Thumbnail+'" width="80" height="60" onClick="do_select_user_image(this,\''+img.Filename+'\')" onDblClick="do_select_user_image(this,\''+img.Filename+'\'); do_choose_user_image();">';
} 
} 
else {
html = '';
}
$('d_user_image_list').innerHTML = html;
}
function do_select_user_image(img, filename) {
if (session.temp_last_user_img) session.temp_last_user_img.className = 'choose_item';
img.className = 'choose_item_selected';
$('btn_choose_user_image').removeClass('disabled');
session.temp_last_user_img = img;
session.temp_last_user_image_filename = filename;
}
function do_delete_selected_user_image() {
if (session.temp_last_user_image_filename) {
effect_api_send('user_image_delete', { Filename: session.temp_last_user_image_filename }, 'do_delete_selected_user_image_finish', {});
}
}
function do_delete_selected_user_image_finish(response, tx) {
try { $('d_user_image_list').removeChild( session.temp_last_user_img ); } catch(e) {;}
session.temp_last_user_img = null;
session.temp_last_user_image_filename = null;
}
function do_choose_user_image() {
if (!session.temp_last_user_image_filename) return;
if (session.uim_callback) {
fire_callback( session.uim_callback, session.temp_last_user_image_filename );
}
cancel_user_image_manager();
}
function user_image_thumbnail(filename, width, height, attribs) {
var username = session.username;
if (filename.match(/^(\w+)\/(.+)$/)) {
username = RegExp.$1;
filename = RegExp.$2;
}
var url = '/effect/api/view/users/' + username + '/images/' + filename.replace(/\.(\w+)$/, '_thumb.jpg');
return '<img src="'+url+'" width="'+width+'" height="'+height+'" '+compose_attribs(attribs)+'/>';
}
function get_user_display(username, full_name, base_url) {
if (!base_url) base_url = '';
return icon('user', full_name || username, base_url + '#User/' + username);
}
function get_game_tab_bar(game_id, cur_page_name) {
return tab_bar([
['#Game/' + game_id, 'Game', 'controller.png'],
['#GameDisplay/' + game_id, 'Display', 'monitor.png'],
['#GameAssets/' + game_id, 'Assets', 'folder_page_white.png'],
['#GameObjects/' + game_id, 'Objects', 'bricks.png'],
['#GameAudio/' + game_id, 'Audio', 'sound.gif'],
['#GameKeys/' + game_id, 'Keyboard', 'keyboard.png'],
['#GameLevels/' + game_id, 'Levels', 'world.png'],
['#GamePublisher/' + game_id, 'Publish', 'cd.png']
], cur_page_name);
}
function get_user_tab_bar(cur_page_name) {
var tabs = [
['#Home', 'My Home', 'house.png']
];
tabs.push( ['#MyAccount', 'Edit Account', 'user_edit.png'] );
tabs.push( ['#ArticleEdit', 'Post Article', 'page_white_edit.png'] );
if (config.ProEnabled) {
tabs.push( ['#UserPayments', 'Payments', 'money.png'] );
}
tabs.push( ['#UserLog', 'Security Log', 'application_view_detail.png'] );
return tab_bar(tabs, cur_page_name);
}
function get_admin_tab_bar(cur_page_name) {
var tabs = [];
tabs.push( ['#Admin', 'Admin', 'lock.png'] );
tabs.push( ['#TicketSearch/bugs', 'Bug Tracker', 'bug.png'] );
tabs.push( ['#TicketSearch/helpdesk', 'Help Desk', 'telephone.png'] );
tabs.push( ['#AdminReport', 'Reports', 'chart_pie.png'] );
return tab_bar(tabs, cur_page_name);
}
function get_string(path, args) {
assert(window.config, "get_string() called before config loaded");
if (!args) args = {};
args.config = config;
args.session = session;
args.query = session.query;
var value = lookup_path(path, config.Strings);
return (typeof(value) == 'string') ? substitute(value, args) : value;
}
function normalize_dir_path(path) {
if (!path.match(/^\//)) path = '/' + path;
if (!path.match(/\/$/)) path += '/';
return path;
}
function textedit_window_save(storage_key, filename, content, callback) {
if (!callback) callback = null;
effect_api_mod_touch('textedit');
if (storage_key.match(/^\/games\/([a-z0-9][a-z0-9\-]*[a-z0-9])\/assets(.+)$/)) {
var game_id = RegExp.$1;
var path = RegExp.$2;
show_progress_dialog(1, "Saving file...");
effect_api_send('asset_save_file_contents', {
GameID: game_id,
Path: path,
Filename: filename,
Content: content
}, 'textedit_window_save_finish', { _mode: 'asset', _game_id: game_id, _filename: filename, _callback: callback } );
}
else {
show_progress_dialog(1, "Saving data...");
effect_api_send('admin_save_file_contents', {
Path: storage_key,
Filename: filename,
Content: content
}, 'textedit_window_save_finish', { _mode: 'admin', _storage_key: storage_key, _filename: filename, _callback: callback } );
}
}
function textedit_window_save_finish(response, tx) {
hide_progress_dialog();
if (tx._mode == 'asset') {
do_message('success', "Saved asset: \""+tx._filename+"\"");
show_glog_widget();
}
else {
do_message('success', "Saved data: \""+tx._storage_key+'/'+tx._filename+"\"");
}
if (tx._callback) tx._callback();
}
function do_buy(args) {
$P().hide();
$('d_page_loading').show();
effect_api_send('create_order', args, 'do_buy_redirect', { _buy_args: args } );
}
function do_buy_redirect(response, tx) {
var args = tx._buy_args;
$('fe_gco_title').value = args.Title || '';
$('fe_gco_desc').value = args.Desc || '';
$('fe_gco_price').value = args.Price || '';
$('fe_gco_after').value = args.After || '';
$('fe_gco_unique_id').value = response.OrderID;
Debug.trace('payment', "Redirecting to Google Checkout");
setTimeout( function() { $('BB_BuyButtonForm').submit(); }, 1 );
}
function show_glog_widget(game_id) {
if (!game_id) game_id = session.glog_game_id;
if (!game_id) {
$('glog_widget').hide();
return;
}
if (game_id != session.glog_game_id) {
$('glog_widget').hide();
session.glog_game_id = game_id;
update_glog_widget(game_id);
}
else {
$('glog_widget').show();
setTimeout( function() { update_glog_widget(game_id); }, 500 );
}
}
function update_glog_widget(game_id) {
effect_api_get('game_get_log', { 
id: game_id,
offset: 0,
limit: 1,
rand: Math.random()
}, 'receive_glog_data', { _game_id: game_id });
}
function receive_glog_data(response, tx) {
var game_id = tx._game_id;
if (response && response.Rows && response.Rows.Row) {
var rows = always_array( response.Rows.Row );
var row = rows[0];
var html = '';
html += '<div class="h2" style="margin-bottom:5px;">';
html += '<div class="fl">Latest Game Activity</div>';
html += '<div class="fr"><a href="#GameLog/'+game_id+'" title="View Log" class="icon" style="margin-left:5px; background-image:url(images/icons/application_view_detail.png)">View Log</a></div>';
html += '<div class="fr"><a href="javascript:void(show_glog_post_dialog(\''+game_id+'\'))" title="Post Message" class="icon" style="margin-left:5px; background-image:url(images/icons/comment_edit.png)">Post Message</a></div>';
html += '<div class="clear"></div>';
html += '</div>';
html += '<table><tr>';
html += '<td style="cursor:pointer" onClick="Nav.go(\'User/'+row.Username+'\')">' + get_buddy_icon_display(row.Username, 1, 0) + '</td>';
html += '<td>';
html += '<div>' + icon( get_icon_for_glog_type(row.Type), '<span class="fe_label">'+row.Message+'</span>' ) + '</div>';
html += '<div class="caption" style="margin-top:2px;">' + get_relative_date(row.Date, true) + '</div>';
html += '</td>';
html += '</tr></table>';
$('glog_widget').innerHTML = html;
$('glog_widget').show();
}
}
function show_glog_post_dialog(game_id) {
hide_popup_dialog();
delete session.progress;
var html = '';
html += '<div class="dialog_bkgnd" style="background-image:url('+png('/effect/images/big_icons/pencil_paper.png')+')">';
html += '<table cellspacing=0 cellpadding=0><tr><td width=500 height=175 valign=center align=center>';
html += '<div class="dialog_title">Post Game Log Message</div>';
html += '<form method=get action="javascript:void(0)"><table cellspacing="0" cellpadding="0"><tr><td align="left">';
html += '<textarea class="fe_edit" id="fe_glog_body" style="width:300px; height:50px;" wrap="virtual" onkeydown="return catchTab(this,event)"></textarea>';
html += '<div class="caption">Enter your log message here.  Plain text only please.</div>';
html += '</td></tr></table>';
html += '<br><br><table><tr>';
html += '<td>' + large_icon_button('x', 'Cancel', "hide_popup_dialog()") + '</td>';
html += '<td width=50>&nbsp;</td>';
html += '<td>' + large_icon_button('check', '<b>Post Message</b>', "glog_post('"+game_id+"')") + '</td>';
html += '</tr></table>';
html += '</form>';
html += '</div>';
session.hooks.keys[ESC_KEY] = 'hide_popup_dialog'; 
safe_focus( 'fe_glog_body' );
show_popup_dialog(500, 175, html);
}
function glog_post(game_id) {
var msg = trim( $('fe_glog_body').value );
if (msg) {
hide_popup_dialog();
effect_api_send('game_post_log', {
GameID: game_id,
Message: msg
}, [this, 'glog_post_finish'], { _game_id: game_id });
}
}
function glog_post_finish(response, tx) {
show_glog_widget( tx._game_id );
}
function hide_glog_widget() {
$('glog_widget').hide();
}
function get_icon_for_glog_type(type) {
var icon = 'page_white.png';
switch (type) {
case 'asset': icon = 'folder_page_white.png'; break;
case 'game': icon = 'controller.png'; break;
case 'member': icon = 'user'; break;
case 'comment': icon = 'comment.png'; break;
case 'level': icon = 'world.png'; break;
case 'sprite': icon = 'cog.png'; break;
case 'tile': icon = 'brick.png'; break;
case 'tileset': icon = 'color_swatch.png'; break;
case 'rev': icon = 'cd.png'; break;
case 'revision': icon = 'cd.png'; break;
case 'font': icon = 'style.png'; break;
case 'key': icon = 'keyboard.png'; break;
case 'audio': icon = 'sound'; break;
case 'payment': icon = 'money.png'; break;
case 'env': icon = 'weather.png'; break;
case 'environment': icon = 'weather.png'; break;
}
return icon;
}
function effect_load_script(url) {
Debug.trace('api', 'Loading script: ' + url);
load_script(url);
}
function effect_api_get_ie(cmd, params, userData) {
if (!session.api_state_ie) session.api_state_ie = {};
var unique_id = get_unique_id();
session.api_state_ie[unique_id] = userData;
params.format = 'js';
params.onafter = 'effect_api_response_ie(' + unique_id + ', response);';
var url = '/effect/api/' + cmd + composeQueryString(params);
Debug.trace('api', "Sending MSIE HTTP GET: " + url);
load_script(url);
}
function effect_api_response_ie(unique_id, tree) {
Debug.trace('api', "Got response from MSIE HTTP GET");
var tx = session.api_state_ie[unique_id];
delete session.api_state_ie[unique_id];
if (tree.Code == 'session') {
do_logout_2();
return;
}
if (tree.Code == 'access') {
do_notice("Access Denied", tree.Description, 'do_not_pass_go');
return;
}
if (tree.Code != 0) {
if (tx._on_error) return fire_callback( tx._on_error, tree, tx );
return do_error( tree.Description );
}
if (tree.SessionID) {
if (tree.SessionID == '_DELETE_') {
delete session.cookie.tree.effect_session_id;
}
else {
session.cookie.set( 'effect_session_id', tree.SessionID );
}
session.cookie.save();
}
if (tx._api_callback) {
fire_callback( tx._api_callback, tree, tx );
}
}
function effect_api_get(cmd, params, callback, userData) {
if (!userData) userData = {};
userData._api_callback = callback;
if (!session.api_mod_cache[cmd] && session.username) session.api_mod_cache[cmd] = hires_time_now();
if (!params.mod && session.api_mod_cache[cmd]) params.mod = session.api_mod_cache[cmd];
if (ie) return effect_api_get_ie(cmd, params, userData);
var url = '/effect/api/' + cmd + composeQueryString(params);
Debug.trace('api', "Sending HTTP GET: " + url);
ajax.get( url, 'effect_api_response', userData );
}
function effect_api_send(cmd, xml, callback, userData) {
if (!userData) userData = {};
userData._api_callback = callback;
var data = compose_xml('EffectRequest', xml);
Debug.trace('api', "Sending API Command: " + cmd + ": " + data);
ajax.send({
method: 'POST',
url: '/effect/api/' + cmd,
data: data,
headers: { 'Content-Type': 'text/xml' }
}, 'effect_api_response', userData);
}
function effect_api_response(tx) {
Debug.trace('api', "HTTP " + tx.response.code + ": " + tx.response.data);
if (tx.response.code == 999) { 
if (tx.request._auto_retry) {
session.net_error = false; 
show_progress_dialog(1, "Trying to reestablish connection...");
session.net_error = true;
setTimeout( function() { ajax.send(tx.request); }, 1000 );
return;
}
else return do_error( "HTTP ERROR: " + tx.response.code + ": " + tx.response.data + ' (URL: ' + tx.request.url + ')' );
}
if (session.net_error) {
hide_progress_dialog();
session.net_error = false;
}
if (tx.response.code != 200) {
if (tx._silent) return; 
else return do_error( "HTTP ERROR: " + tx.response.code + ": " + tx.response.data + ' (URL: ' + tx.request.url + ')' );
}
var tree = null;
if (!tx._raw) {
var parser = new XML({
preserveAttributes: true,
text: tx.response.data 
});
if (parser.getLastError()) return do_error("XML PARSE ERROR: " + parser.getLastError());
tree = parser.getTree();
if (tree.Code == 'session') {
do_logout_2();
return;
}
if (tree.Code == 'access') {
do_notice("Access Denied", tree.Description, 'do_not_pass_go');
return;
}
if (tree.Code != 0) {
if (tx._on_error) return fire_callback( tx._on_error, tree, tx );
return do_error( tree.Description );
}
if (tree.SessionID) {
if (tree.SessionID == '_DELETE_') {
delete session.cookie.tree.effect_session_id;
}
else {
session.cookie.set( 'effect_session_id', tree.SessionID );
}
session.cookie.save();
}
} 
if (tx._api_callback) {
fire_callback( tx._api_callback, tree, tx );
}
}
function effect_api_mod_touch() {
for (var idx = 0, len = arguments.length; idx < len; idx++) {
session.api_mod_cache[ arguments[idx] ] = hires_time_now();
}
}
function do_not_pass_go() {
Nav.go('Main');
}
var Nav = {
loc: '',
old_loc: '',
inited: false,
nodes: [],
init: function() {
if (!this.inited) {
this.inited = true;
this.loc = 'init';
this.monitor();
}
},
monitor: function() {
var parts = window.location.href.split(/\#/);
var anchor = parts[1];
if (!anchor) anchor = 'Main';
var full_anchor = '' + anchor;
var sub_anchor = '';
anchor = anchor.replace(/\%7C/, '|');
if (anchor.match(/\|(\w+)$/)) {
sub_anchor = RegExp.$1.toLowerCase();
anchor = anchor.replace(/\|(\w+)$/, '');
}
if ((anchor != this.loc) && !anchor.match(/^_/)) { 
Debug.trace('nav', "Caught navigation anchor: " + full_anchor);
var page_name = '';
var page_args = null;
if (full_anchor.match(/^\w+\?.+/)) {
parts = full_anchor.split(/\?/);
page_name = parts[0];
page_args = parseQueryString( parts[1] );
}
else if (full_anchor.match(/^(\w+)\/(.*)$/)) {
page_name = RegExp.$1;
page_args = RegExp.$2;
}
else {
parts = full_anchor.split(/\//);
page_name = parts[0];
page_args = parts.slice(1);
}
Debug.trace('nav', "Calling page: " + page_name + ": " + serialize(page_args));
hide_popup_dialog();
var result = page_manager.click( page_name, page_args );
if (result) {
if (window.pageTracker && (this.loc != 'init')) {
setTimeout( function() { pageTracker._trackPageview('/effect/' + anchor); }, 1000 );
}
this.old_loc = this.loc;
if (this.old_loc == 'init') this.old_loc = 'Main';
this.loc = anchor;
}
else {
this.go( this.loc );
}
}
else if (sub_anchor != this.sub_anchor) {
Debug.trace('nav', "Caught sub-anchor: " + sub_anchor);
$P().gosub( sub_anchor );
} 
this.sub_anchor = sub_anchor;
setTimeout( 'Nav.monitor()', 100 );
},
go: function(anchor, force) {
anchor = anchor.replace(/^\#/, '');
if (force) this.loc = 'init';
window.location.href = '#' + anchor;
},
prev: function() {
this.go( this.old_loc || 'Main' );
},
refresh: function() {
this.loc = 'refresh';
},
bar: function() {
var nodes = arguments;
var html = '';
for (var idx = 0, len = nodes.length; idx < len; idx++) {
var node = nodes[idx];
if (node) this.nodes[idx] = node;
else node = this.nodes[idx];
if (node != '_ignore_') {
html += '<div><a href="#'+node[0]+'"><b>'+ww_fit_string(node[1], 200, session.em_width, 1)+'</b></a></div>';
}
}
html += '<br clear="all"/>';
$('d_nav_bar').innerHTML = html;
},
title: function(name) {
if (name) document.title = name + ' | EffectGames.com';
else document.title = 'EffectGames.com';
},
currentAnchor: function() {
var parts = window.location.href.split(/\#/);
var anchor = parts[1] || '';
var sub_anchor = '';
anchor = anchor.replace(/\%7C/, '|');
if (anchor.match(/\|(\w+)$/)) {
sub_anchor = RegExp.$1.toLowerCase();
anchor = anchor.replace(/\|(\w+)$/, '');
}
return anchor;
}
};
var Blog = {
edit_caption: '<div class="caption" style="margin-top:5px;">*<b>Bold</b>*&nbsp;&nbsp;|<i>Italic</i>|&nbsp;&nbsp;{<span style="font-family:monaco,courier,monospace;">monospace</span>}&nbsp;&nbsp;[http://link]&nbsp;&nbsp;<a href="/effect/#Article/Formatting_Guide" target="_blank">Formatting Guide...</a></div>',
search: function(args) {
if (!args.mode) args.mode = 'and';
if (!args.offset) args.offset = 0;
if (!args.limit) args.limit = 10;
if (!args.format) args.format = 'xml';
var query_args = copy_object( args ); 
delete query_args.callback;
effect_api_get( 'article_search', query_args, [this, 'search_response'], { _search_args: args } );
},
get_article_preview: function(row, args) {
var html = '';
Debug.trace('blog', 'Row: ' + dumper(row));
html += '<div class="' + (args.outer_div_class || 'blog_article_preview') + '">';
var ext_article_url = 'http://' + location.hostname + '/effect/article.psp.html' + row.Path + '/' + row.ArticleID;
var article_url = '#Article' + row.Path + '/' + row.ArticleID;
html += '<div class="' + (args.title_class || 'blog_title') + '"><a href="'+article_url+'">' + row.Title + '</a></div>';
if (!args.title_only) {
html += '<div class="' + (args.preview_class || 'blog_preview_body') + '">';
html += row.Preview;
html += '&nbsp;&nbsp;<a href="'+article_url+'">' + (args.link_title || 'Read Full Story...') + '</a>';
html += '</div>';
html += '<nobr>';
html += '<div class="' + (args.footer_class || 'blog_preview_footer') + '">';
var elem_class = args.footer_element_class || 'blog_preview_footer_element';
if ((session.username == row.Username) || is_admin()) {
html += '<div class="' + elem_class + '">' + 
icon('page_white_edit.png', "Edit", '#ArticleEdit?path=' + row.Path + '&id=' + row.ArticleID) + '</div>';
}
html += '<div class="' + elem_class + '">' + get_user_display(row.Username) + '</div>';
html += '<div class="' + elem_class + '">' + icon('calendar', get_short_date_time(row.Published)) + '</div>';
html += '<div class="' + elem_class + '">' + icon('talk', row.Comments) + '</div>';
if (0 && row.Tags) html += '<div class="' + elem_class + '">' + icon('note.png', make_tag_links(row.Tags, 3)) + '</div>';
html += '<div class="' + elem_class + '">' + icon('facebook.png', 'Facebook', "window.open('http://www.facebook.com/sharer.php?u="+encodeURIComponent(ext_article_url)+'&t='+encodeURIComponent(row.Title)+"','sharer','toolbar=0,status=0,width=626,height=436')", "Share on Facebook") + '</div>';
html += '<div class="' + elem_class + '">' + icon('twitter.png', 'Twitter', "window.open('http://twitter.com/home?status=Reading%20" + encodeURIComponent(row.Title) + "%3A%20" +  encodeURIComponent(ext_article_url)+"')", "Share on Twitter") + '</div>';
html += '</nobr>';
html += '<br clear="both"/>';
html += '</div>';
}
html += '</div>';
return html;
},
search_response: function(response, tx) {
var args = tx._search_args;
if (args.callback) return fire_callback(args.callback, response, args);
var div = $(args.target);
assert(div, "Could not find target DIV: " + args.target);
var html = '';
if (response.Rows && response.Rows.Row) {
var rows = always_array( response.Rows.Row );
for (var idx = 0, len = rows.length; idx < len; idx++) {
var row = rows[idx];
html += this.get_article_preview( row, args );
} 
if (args.more && (rows.length == args.limit)) {
html += large_icon_button('page_white_put.png', 'More...', "Blog.more(this, "+encode_object(args)+")") + '<br clear="all"/>';
html += spacer(1,15) + '<br/>';
}
if (args.after) html += args.after;
} 
else if (response.Code != 0) {
html = 'Search Error: ' . response.Code + ': ' + response.Description;
}
else {
html = args.none_found_msg || 'No articles found.';
}
div.innerHTML = html;
},
more: function(div, args) {
args.offset += args.limit;
Debug.trace('blog', "More Args: " + dumper(args));
div.innerHTML = '<img src="images/loading.gif" width="32" height="32"/>';
effect_api_get( 'article_search', args, [this, 'more_response'], { _search_args: args, _div: div } );
},
more_response: function(response, tx) {
var args = tx._search_args;
var button = tx._div;
var html = '';
if (response.Rows && response.Rows.Row) {
var rows = always_array( response.Rows.Row );
for (var idx = 0, len = rows.length; idx < len; idx++) {
var row = rows[idx];
html += this.get_article_preview( row, args );
} 
if (args.more && (rows.length == args.limit)) {
html += large_icon_button('page_white_put.png', 'More...', "Blog.more(this, "+encode_object(args)+")") + '<br clear="all"/>';
html += spacer(1,15) + '<br/>';
}
} 
else if (response.Code != 0) {
html = 'Search Error: ' . response.Code + ': ' + response.Description;
}
else {
html = args.none_found_msg || 'No more articles found.';
}
var div = document.createElement('div');
div.innerHTML = html;
button.parentNode.replaceChild( div, button );
}
};
function make_tag_links(csv, max, base_url) {
if (!base_url) base_url = '';
var tags = csv.split(/\,\s*/);
var append = '';
if (max && (tags.length > max)) {
tags.length = max;
append = '...';
}
var html = '';
for (var idx = 0, len = tags.length; idx < len; idx++) {
html += '<a href="' + base_url + '#Tag/'+tags[idx]+'">'+tags[idx]+'</a>';
if (idx < len - 1) html += ', ';
}
html += append;
return html;
}
function get_url_friendly_title(title) {
title = title.toString().replace(/\W+/g, '_'); 
if (title.length > 40) title = title.substring(0, 40);
title = title.replace(/^_+/, ''); 
title = title.replace(/_+$/, ''); 
return title;
}
function get_full_url(url) {
if (url.match(/^\#/)) {
var parts = window.location.href.split(/\#/);
url = parts[0] + url;
}
return url;
}
var Comments = {
comments_per_page: 10,
get: function(page_id) {
var html = '';
html += '<div class="comments_container">';
html += '<fieldset><legend>Comments</legend>';
html += '<div class="comments" id="d_comments_' + page_id + '"></div>';
html += '</fieldset>';
html += '</div>';
setTimeout( function() { Comments.search({ page_id: page_id }); }, 1 );
return html;
},
search: function(args) {
if (!args.limit) args.limit = this.comments_per_page;
if (!args.offset) args.offset = 0;
assert(args.page_id, "Comments.search: No page_id specified");
args.format = 'xml';
this.last_search = args;
effect_api_get( 'comments_get', args, [this, 'search_response'], { _search_args: args } );
},
research: function(offset) {
var args = this.last_search;
if (!args) return;
args.offset = offset;
effect_api_get( 'comments_get', args, [this, 'search_response'], { _search_args: args } );
},
search_response: function(response, tx) {
this.comments = [];
var args = tx._search_args;
if (args.callback) return fire_callback(args.callback, response, args);
var html = '';
html += '<div class="little_button_stack">' + 
large_icon_button( 'comment_edit.png', 'Post Comment...', "Comments.add('"+args.page_id+"')" ) + '<div class="clear"></div></div>';
if (args.page_id.match(/^Article\//)) {
html += '<div class="feed">' + icon('feed.png', 'RSS', '/effect/api/comment_feed/' + args.page_id + '.rss', 'Comments RSS Feed') + '</div>';
}
if (response.Items && response.Items.Item && response.List && response.List.length) {
html += '<div class="pagination">';
var total_items = response.List.length;
var num_pages = parseInt( total_items / args.limit, 10 ) + 1;
if (total_items % args.limit == 0) num_pages--;
var current_page = parseInt( args.offset / args.limit, 10 ) + 1;
if (num_pages > 1) {
html += 'Page: ';
if (current_page > 1) {
html += code_link( 'Comments.research(' + ((current_page - 2) * args.limit) + ')', '&larr; Newer' );
}
html += '&nbsp;&nbsp;';
var start_page = current_page - 4;
var end_page = current_page + 5;
if (start_page < 1) {
end_page += (1 - start_page);
start_page = 1;
}
if (end_page > num_pages) {
start_page -= (end_page - num_pages);
if (start_page < 1) start_page = 1;
end_page = num_pages;
}
for (var idx = start_page; idx <= end_page; idx++) {
if (idx == current_page) {
html += '<b>' + idx + '</b>';
}
else {
html += code_link( 'Comments.research(' + ((idx - 1) * args.limit) + ')', idx );
}
html += '&nbsp;';
}
html += '&nbsp;&nbsp;';
if (current_page < num_pages) {
html += code_link( 'Comments.research(' + ((current_page + 0) * args.limit) + ')', 'Older &rarr;' );
}
} 
else {
html += 'Page 1 of 1';
}
html += '</div>';
html += '<br clear="all"/>';
var items = this.comments = always_array( response.Items.Item );
for (var idx = 0, len = items.length; idx < len; idx++) {
var item = items[idx];
var extra_classes = (args.highlight && (args.highlight == item.ID)) ? ' highlight' : '';
html += '<div class="comment_container'+extra_classes+'">';
html += '<div class="info">';
if (item.Username) html += '<a href="#User/'+item.Username+'">';
html += '<b>' + item.Name.toString().toUpperCase() + '</b>';
if (item.Username) html += '</a>';
html += ', ' + get_short_date_time(item.Date) + '</div>';
html += '<div class="controls" id="d_comment_controls_'+item.ID+'">';
html += this.get_comment_controls( args.page_id, item );
html += '</div>';
html += '<br clear="all"/>';
html += '<div class="comment_body">' + item.Comment + '</div>';
html += '</div>';
html += '<div id="d_comment_replies_'+item.ID+'" class="comment_replies_container" style="display:none"></div>';
if (item.LastReply && ((item.LastReply >= time_now() - (86400 * 7)) || (session.username && (session.username == item.Username)))) {
setTimeout( "Comments.show_replies('"+args.page_id+"','"+item.ID+"')", 1 );
}
} 
}
else {
}
$( 'd_comments_' + args.page_id ).innerHTML = html;
},
get_control: function(icon, code, text, status_text) {
if (!icon.match(/\.\w+$/)) icon += '.gif';
return '<span class="comment_control" style="background-image:url(/effect/images/icons/small/'+icon+')">' + code_link(code, text, status_text) + '</span>';
},
get_comment_controls: function(page_id, comment) {
var html = '';
var spacer_txt = '&nbsp;&nbsp;|&nbsp;&nbsp;';
if (session.user) {
html += this.get_control('comment', "Comments.reply('"+page_id+"','"+comment.ID+"')", 'Reply') + spacer_txt;
}
if (comment.Replies) {
if (comment._replies_visible) html += this.get_control('magnify_minus', "Comments.hide_replies('"+page_id+"','"+comment.ID+"')", 'Hide Replies');
else html += this.get_control('magnify_plus', "Comments.show_replies('"+page_id+"','"+comment.ID+"')", 'Show Replies ('+comment.Replies+')');
if (session.user) html += spacer_txt;
}
if (session.user) {
html += this.get_control(
'star', 
"Comments.like('"+page_id+"','"+comment.ID+"')", 
'Like' + (comment.Like ? (' ('+comment.Like+')') : ''),
comment.Like ? (comment.Like + ' ' + ((comment.Like == 1) ? 'person likes this' : 'people like this')) : 'I like this comment'
) + spacer_txt;
if (is_admin()) html += this.get_control('trash', "Comments._delete('"+page_id+"','"+comment.ID+"')", 'Delete') + spacer_txt;
html += this.get_control('warning', "Comments.report('"+page_id+"','"+comment.ID+"')", 'Report Abuse');
}
return html;
},
reply: function(page_id, comment_id) {
hide_popup_dialog();
delete session.progress;
var comment = find_object( this.comments, { ID: comment_id } );
var html = '';
html += '<div class="dialog_bkgnd" style="background-image:url('+png('/effect/images/big_icons/pencil_paper.png')+')">';
html += '<table cellspacing=0 cellpadding=0><tr><td width=600 height=300 valign=center align=center>';
html += '<div class="dialog_title">Reply to Comment by "'+comment.Name+'"</div>';
html += '<form method=get action="javascript:void(0)"><table cellspacing="0" cellpadding="0"><tr><td align="left">';
var name = this.get_name();
html += '<p align="left"><span class="fe_label">Posted by:</span>&nbsp;' + name;
if (!session.user) html += ' &rarr; <a href="/effect/#CreateAccount">Create Account</a>';
html += '</p><br/>';
html += '<textarea class="fe_edit" id="fe_comment_body" style="width:400px; height:150px;" wrap="virtual" onkeydown="return catchTab(this,event)"></textarea>';
html += Blog.edit_caption;
html += '</td></tr></table>';
html += '<br><br><table><tr>';
html += '<td>' + large_icon_button('x', 'Cancel', "hide_popup_dialog()") + '</td>';
html += '<td width=50>&nbsp;</td>';
html += '<td>' + large_icon_button('check', '<b>Post Reply</b>', "Comments.post_reply('"+page_id+"','"+comment_id+"')") + '</td>';
html += '</tr></table>';
html += '</form>';
html += '</div>';
session.hooks.keys[ESC_KEY] = 'hide_popup_dialog'; 
safe_focus( 'fe_comment_body' );
show_popup_dialog(600, 300, html);
},
post_reply: function(page_id, comment_id) {
var value = $('fe_comment_body').value;
if (!value) return;
hide_popup_dialog();
show_progress_dialog(1, "Posting reply...");
var name = this.get_name();
effect_api_mod_touch('comment_replies_get');
effect_api_send('comment_post_reply', {
PageID: page_id,
CommentID: comment_id,
Username: session.username || '',
Name: name,
Comment: value,
PageURL: location.href
}, [this, 'post_reply_finish'], { _page_id: page_id, _comment_id: comment_id } );
},
post_reply_finish: function(response, tx) {
hide_popup_dialog();
var page_id = tx._page_id;
var comment_id = tx._comment_id;
var comment = find_object( this.comments, { ID: comment_id } );
do_message('success', "Comment reply posted successfully.");
this.show_replies(page_id, comment_id);
if (!comment.Replies) comment.Replies = 1; else comment.Replies++;
$('d_comment_controls_'+comment_id).innerHTML = this.get_comment_controls( page_id, comment );
},
show_replies: function(page_id, comment_id) {
var comment = find_object( this.comments, { ID: comment_id } );
if (!comment._replies_visible) {
$('d_comment_replies_' + comment_id).show().innerHTML = '<img src="images/loading.gif" width="32" height="32"/>';
}
var args = { page_id: page_id, comment_id: comment_id, offset: 0, limit: 100 };
effect_api_get( 'comment_replies_get', args, [this, 'receive_replies_response'], { _search_args: args } );
},
receive_replies_response: function(response, tx) {
var page_id = tx._search_args.page_id;
var comment_id = tx._search_args.comment_id;
var comment = find_object( this.comments, { ID: comment_id } );
var html = '';
var replies = always_array( response.Items.Item );
for (var idx = 0, len = replies.length; idx < len; idx++) {
var reply = replies[idx];
html += get_chat_balloon(
(reply.Username == session.username) ? 'blue' : 'grey', 
reply.Username, 
reply.Comment.replace(/^<div[^>]*?>(.+)<\/div>$/i, '$1')
);
} 
$('d_comment_replies_' + comment_id).innerHTML = html;
if (!comment._replies_visible) {
$('d_comment_replies_' + comment_id).hide();
animate_div_visibility( 'd_comment_replies_' + comment_id, true );
}
comment._replies_visible = true;
$('d_comment_controls_'+comment_id).innerHTML = this.get_comment_controls( page_id, comment );
},
hide_replies: function(page_id, comment_id) {
var comment = find_object( this.comments, { ID: comment_id } );
if (comment._replies_visible) {
animate_div_visibility( 'd_comment_replies_' + comment_id, false );
comment._replies_visible = false;
$('d_comment_controls_'+comment_id).innerHTML = this.get_comment_controls( page_id, comment );
}
},
like: function(page_id, comment_id) {
effect_api_mod_touch('comments_get');
effect_api_send('comment_like', {
PageID: page_id,
CommentID: comment_id
}, [this, 'like_finish'], { _page_id: page_id, _comment_id: comment_id, _on_error: [this, 'like_error'] } );
},
like_error: function(response, tx) {
if (response.Code == 'comment_already_like') do_message('error', "You already like this comment.");
else do_error( response.Description );
},
like_finish: function(resopnse, tx) {
var page_id = tx._page_id;
var comment_id = tx._comment_id;
var comment = find_object( this.comments, { ID: comment_id } );
do_message('success', "You now like this comment.");
if (!comment.Like) comment.Like = 1; else comment.Like++;
$('d_comment_controls_'+comment_id).innerHTML = this.get_comment_controls( page_id, comment );
},
add: function(page_id) {
hide_popup_dialog();
delete session.progress;
var html = '';
html += '<div class="dialog_bkgnd" style="background-image:url('+png('/effect/images/big_icons/pencil_paper.png')+')">';
html += '<table cellspacing=0 cellpadding=0><tr><td width=600 height=300 valign=center align=center>';
html += '<div class="dialog_title">Post New Comment</div>';
html += '<form method=get action="javascript:void(0)"><table cellspacing="0" cellpadding="0"><tr><td align="left">';
var name = this.get_name();
html += '<p align="left"><span class="fe_label">Posted by:</span>&nbsp;' + name;
if (!session.user) html += ' &rarr; <a href="/effect/#CreateAccount">Create Account</a>';
html += '</p><br/>';
html += '<textarea class="fe_edit" id="fe_comment_body" style="width:400px; height:150px;" wrap="virtual" onkeydown="return catchTab(this,event)"></textarea>';
html += Blog.edit_caption;
html += '</td></tr></table>';
html += '<br><br><table><tr>';
html += '<td>' + large_icon_button('x', 'Cancel', "hide_popup_dialog()") + '</td>';
html += '<td width=50>&nbsp;</td>';
html += '<td>' + large_icon_button('check', '<b>Post Comment</b>', "Comments.post('"+page_id+"')") + '</td>';
html += '</tr></table>';
html += '</form>';
html += '</div>';
session.hooks.keys[ESC_KEY] = 'hide_popup_dialog'; 
safe_focus( 'fe_comment_body' );
show_popup_dialog(600, 300, html);
},
report: function(page_id, comment_id) {
if (confirm('Are you sure you want to report this comment to the site administrators as abusive and/or spam?')) {
effect_api_send('comment_report_abuse', {
PageID: page_id,
CommentID: comment_id
}, [this, 'report_finish'], { _page_id: page_id, _comment_id: comment_id } );
}
},
report_finish: function(response, tx) {
do_message('success', 'Your abuse report has been received, and will be evaluated by the site administrators.');
},
_delete: function(page_id, comment_id) {
if (confirm('Are you sure you want to permanently delete this comment?')) {
effect_api_mod_touch('comments_get');
effect_api_send('comment_delete', {
PageID: page_id,
CommentID: comment_id
}, [this, 'delete_finish'], { _page_id: page_id, _comment_id: comment_id } );
}
},
delete_finish: function(response, tx) {
do_message('success', 'The comment was deleted successfully.');
var page_id = tx._page_id;
this.search({ page_id: page_id });
},
get_name: function() {
var name = '(Anonymous)';
if (session.user) {
if (get_bool_pref('public_profile')) name = session.user.FullName;
else name = session.username;
}
return name;
},
post: function(page_id) {
var value = $('fe_comment_body').value;
if (!value) return;
hide_popup_dialog();
show_progress_dialog(1, "Posting comment...");
var name = this.get_name();
effect_api_mod_touch('comments_get');
effect_api_send('comment_post', {
PageID: page_id,
Username: session.username || '',
Name: name,
Comment: value
}, [this, 'post_finish'], { _page_id: page_id } );
},
post_finish: function(response, tx) {
hide_popup_dialog();
var comment_id = response.CommentID;
var page_id = tx._page_id;
this.search({ page_id: page_id, highlight: comment_id });
}
};
Class.create( 'Menu', {
id: '', 
menu: null, 
__construct: function(id) {
this.id = id;
},
load: function() {
if (!this.menu) {
this.menu = $(this.id);
assert( !!this.menu, "Could not locate DOM element: " + this.id );
}
},
get_value: function() {
this.load();
return this.menu.options[this.menu.selectedIndex].value;
},
set_value: function(value, auto_add) {
value = str_value(value);
this.load();
for (var idx = 0, len = this.menu.options.length; idx < len; idx++) {
if (this.menu.options[idx].value == value) {
this.menu.selectedIndex = idx;
return true;
}
}
if (auto_add) {
this.menu.options[this.menu.options.length] = new Option(value, value);
this.menu.selectedIndex = this.menu.options.length - 1;
return true;
}
return false;
},
disable: function() {
this.load();
this.menu.disabled = true;
this.menu.setAttribute( 'disabled', 'disabled' );
},
enable: function() {
this.load();
this.menu.setAttribute( 'disabled', '' );
this.menu.disabled = false;
},
populate: function(items, sel_value) {
this.load();
this.menu.options.length = 0;
for (var idx = 0, len = items.length; idx < len; idx++) {
var item = items[idx];
var item_name = '';
var item_value = '';
if (isa_hash(item)) {
item_name = item.label;
item_value = item.data;
}
else if (isa_array(item)) {
item_name = item[0];
item_value = item[1];
}
else {
item_name = item_value = item;
}
this.menu.options[ this.menu.options.length ] = new Option( item_name, item_value );
if (item_value == sel_value) this.menu.selectedIndex = idx;
} 
}
} ); 
Class.subclass( Menu, 'MultiMenu', {
__static: {
toggle_type: function(id) {
var menu = $(id);
assert(menu, "Could not find menu in DOM: " + id);
if (menu.disabled) return;
var obj = MenuManager.find(id);
assert(obj, "Could not find menu in MenuManager: " + id);
var div = $( 'd_inner_' + id );
var ic = $( 'ic_' + id );
var is_multiple = (ic.src.indexOf('contract') > -1);
obj.multi = !is_multiple;
var multiple_tag = !is_multiple ? 
' multiple="multiple" size=5' : '';
var items = [];
for (var idx = 0; idx < menu.options.length; idx++) {
var option = menu.options[idx];
array_push( items, {
value: option.value,
text: option.text,
selected: option.selected
});
} 
var html = '';
html += '<select name="'+id+'" id="'+id+'"' + multiple_tag + ' ' + compose_attribs(obj.attribs) + '>' + "\n";
var found_selected = 0;
for (var idx in items) {
var item = items[idx];
html += '<option value="' + item.value.replace(/\"/g, "&quot;") + '"';
if (item.selected && (!found_selected || multiple_tag)) {
html += ' selected="selected"';
found_selected = 1;
}
html += '>' + item.text + '</option>' + "\n";
}
html += '</select>';
div.innerHTML = html;
ic.src = images_uri + '/menu_' + (is_multiple ? 'expand' : 'contract') + '.gif';
obj.menu = null;
}
}, 
attribs: null, 
multi: false, 
toggle: true, 
__construct: function(id, attribs) {
this.id = id;
if (attribs) this.attribs = attribs;
},
get_html: function(items, selected_csv, attribs) {
if (!items) items = [];
if (!selected_csv) selected_csv = '';
if (attribs) this.attribs = attribs;
var selected = csv_to_hash(selected_csv);
this.menu = null;
if (num_keys(selected) > 1) this.multi = true;
var html = '<div id="d_outer_'+this.id+'"><form>';
html += '<table cellspacing="0" cellpadding="0"><tr>';
html += '<td><div id="d_inner_'+this.id+'"><select id="'+this.id+'"';
if (this.multi) html += ' multiple="multiple" size="5"';
html += compose_attribs(this.attribs);
html += '>';
for (var idx = 0, len = items.length; idx < len; idx++) {
var item = items[idx];
var item_name = '';
var item_value = '';
if (isa_hash(item)) {
item_name = item.label;
item_value = item.data;
}
else if (isa_array(item)) {
item_name = item[0];
item_value = item[1];
}
else {
item_name = item_value = item;
}
html += '<option value="'+item_value+'"';
if (selected[item_value]) html += ' selected="selected"';
html += '>' + item_name + '</option>';
}
html += '</select></div></td>';
html += '<td width="1">' + spacer(1,1) + '</td>';
if (this.toggle) html += '<td valign="bottom"><img id="ic_'+this.id+'" src="'+images_uri+'/menu_'+(this.multi ? 'contract' : 'expand')+'.gif" width="16" height="16" style="cursor:pointer" onClick="MultiMenu.toggle_type(\''+this.id+'\')"><br/>'+spacer(1,2)+'</td>';
html += '</tr></table>';
html += '</form></div>';
return html;
},
get_value: function() {
this.load();
var value = '';
for (var idx = 0; idx < this.menu.options.length; idx++) {
var option = this.menu.options[idx];
if (option.selected && option.value.length) {
if (value.length > 0) value += ',';
value += option.value;
}
} 
return value;
},
set_value: function(value, auto_add) {
value = '' + value; 
this.load();
if (!value) {
value = '';
for (var idx = 0; idx < this.menu.options.length; idx++) {
var option = this.menu.options[idx];
option.selected = (option.value == value);
}
return;
}
var selected = csv_to_hash(value);
if ((num_keys(selected) > 1) && !this.multi) {
MultiMenu.toggle_type(this.id);
var self = this;
setTimeout( function() {
self.set_value(value, auto_add);
}, 1 );
return;
}
for (var idx = 0; idx < this.menu.options.length; idx++) {
var option = this.menu.options[idx];
option.selected = selected[option.value] ? true : false;
}
},
populate: function(items, value) {
this.load();
this.menu.options.length = 0;
if (!value) value = '';
var selected = csv_to_hash(value);
for (var idx = 0, len = items.length; idx < len; idx++) {
var item = items[idx];
var item_name = '';
var item_value = '';
if (isa_hash(item)) {
item_name = item.label;
item_value = item.data;
}
else if (isa_array(item)) {
item_name = item[0];
item_value = item[1];
}
else {
item_name = item_value = item;
}
var opt = new Option( item_name, item_value );
this.menu.options[ this.menu.options.length ] = opt;
opt.selected = selected[item_value] ? true : false;
} 
},
collapse: function() {
if (this.multi) MultiMenu.toggle_type(this.id);
},
expand: function() {
if (!this.multi) MultiMenu.toggle_type(this.id);
}
} ); 
Class.create( 'MenuManager', {
__static: {
menus: {},
register: function(menu) {
this.menus[ menu.id ] = menu;
return menu; 
},
find: function(id) {
return this.menus[id];
}
} 
} ); 
Class.create( 'GrowlManager', {
lifetime: 10,
marginRight: 0,
marginTop: 0,
__construct: function() {
this.growls = [];
},
growl: function(type, msg) {
if (find_object(this.growls, { type: type, msg: msg })) return;
var div = $(document.createElement('div'));
div.className = 'growl_message ' + type;
div.setOpacity(0.0);
div.innerHTML = '<div class="growl_message_inner">' + msg + '<br/>' + spacer(1,5) + '</div>';
$('d_growl_wrapper').insertBefore( div, $('d_growl_top').nextSibling );
var growl = { id:get_unique_id(), type: type, msg: msg, opacity:0.0, start:hires_time_now(), div:div };
this.growls.push(growl);
this.handle_resize();
this.animate(growl);
var self = this;
div.onclick = function() {
delete_object(self.growls, { id: growl.id });
$('d_growl_wrapper').removeChild( div );
};
},
animate: function(growl) {
if (growl.deleted) return;
var now = hires_time_now();
var div = growl.div;
if (now - growl.start <= 0.5) {
div.setOpacity( tweenFrame(0.0, 1.0, (now - growl.start) * 2, 'EaseOut', 'Quadratic') );
}
else if (now - growl.start <= this.lifetime) {
if (!growl._fully_opaque) {
div.setOpacity( 1.0 );
growl._fully_opaque = true;
}
}
else if (now - growl.start <= this.lifetime + 1.0) {
div.setOpacity( tweenFrame(1.0, 0.0, (now - growl.start) - this.lifetime, 'EaseOut', 'Quadratic') );
}
else {
delete_object(this.growls, { id: growl.id });
$('d_growl_wrapper').removeChild( div );
return; 
}
var self = this;
setTimeout( function() { self.animate(growl); }, 33 );
},
handle_resize: function() {
var div = $('d_growl_wrapper');
if (this.growls.length) {
var size = getInnerWindowSize();
div.style.top = '' + (10 + this.marginTop) + 'px';
div.style.left = '' + Math.floor((size.width - 310) - this.marginRight) + 'px';
}
else {
div.style.left = '-2000px';
}
}
} );
window.$GR = new GrowlManager();
if (window.addEventListener) {
window.addEventListener( "resize", function() {
$GR.handle_resize();
}, false );
}
else if (window.attachEvent && !ie6) {
window.attachEvent("onresize", function() {
$GR.handle_resize();
});
}
Class.create( 'Effect.Page', {
ID: '', 
data: null,   
active: false, 
__construct: function(config) {
if (!config) return;
this.data = {};
if (!config) config = {};
for (var key in config) this[key] = config[key];
this.div = $('page_' + this.ID);
assert(this.div, "Cannot find page div: page_" + this.ID);
},
onInit: function() {
},
onActivate: function() {
return true;
},
onDeactivate: function() {
return true;
},
show: function() {
this.div.show();
},
hide: function() {
this.div.hide();
},
gosub: function(anchor) {
}
} ); 
Class.require( 'Effect.Page' );
Class.create( 'Effect.PageManager', {
pages: null, 
current_page_id: '', 
on_demand: {}, 
__construct: function(page_list) {
this.pages = [];
this.page_list = page_list;
for (var idx = 0, len = page_list.length; idx < len; idx++) {
Debug.trace( 'page', "Initializing page: " + page_list[idx].ID );
if (Effect.Page[ page_list[idx].ID ]) {
var page = new Effect.Page[ page_list[idx].ID ]( page_list[idx] );
page.onInit();
this.pages.push(page);
}
else {
Debug.trace( 'page', 'Page ' + page_list[idx].ID + ' will be loaded on-demand' );
}
}
},
find: function(id) {
var page = find_object( this.pages, { ID: id } );
if (!page) Debug.trace('PageManager', "Could not find page: " + id);
return page;
},
notify_load: function(file, id) {
for (var idx = 0, len = this.page_list.length; idx < len; idx++) {
var page_config = this.page_list[idx];
if (page_config.File == file) {
Debug.trace( 'page', "Initializing page on-demand: " + page_config.ID );
var page = new Effect.Page[ page_config.ID ]( page_config );
page.onInit();
this.pages.push(page);
}
}
var self = this;
setTimeout( function() {
var result = self.activate(id, self.temp_args);
delete self.temp_args;
$('d_page_loading').hide();
if (!result) {
$('page_'+id).hide();
self.current_page_id = '';
}
}, 1 );
},
activate: function(id, args) {
if (!find_object( this.pages, { ID: id } )) {
var page_config = find_object( this.page_list, { ID: id } );
assert(!!page_config, "Page config not found: " + id );
Debug.trace('page', "Loading file on-demand: " + page_config.File + " for page: " + id);
var url = '/effect/api/load_page/' + page_config.File + '?onafter=' + escape('page_manager.notify_load(\''+page_config.File+'\',\''+id+'\')');
if (page_config.Requires) {
var files = page_config.Requires.split(/\,\s*/);
for (var idx = 0, len = files.length; idx < len; idx++) {
var filename = files[idx];
if (!this.on_demand[filename]) {
Debug.trace('page', "Also loading file: " + filename);
url += '&file=' + filename;
this.on_demand[filename] = 1;
} 
} 
} 
$('d_page_loading').show();
this.temp_args = args;
load_script( url );
return true;
}
$('page_'+id).show();
var page = this.find(id);
page.active = true;
if (!args) args = [];
if (!isa_array(args)) args = [ args ];
var result = page.onActivate.apply(page, args);
if (typeof(result) == 'boolean') return result;
else return alert("Page " + id + " onActivate did not return a boolean!");
},
deactivate: function(id, new_id) {
var page = this.find(id);
var result = page.onDeactivate(new_id);
if (result) {
$('page_'+id).hide();
page.active = false;
}
return result;
},
click: function(id, args) {
Debug.trace('page', "Switching pages to: " + id);
var old_id = this.current_page_id;
if (this.current_page_id) {
var result = this.deactivate( this.current_page_id, id );
if (!result) return false; 
}
this.current_page_id = id;
this.old_page_id = old_id;
window.scrollTo( 0, 0 );
var result = this.activate(id, args);
if (!result) {
$('page_'+id).hide();
this.current_page_id = '';
}
return true;
}
} ); 
Class.subclass( Effect.Page, "Effect.Page.Main", {
inited: false,
onActivate: function() {
Nav.bar( ['Main', 'EffectGames.com'] );
Nav.title('');
$('d_blog_news').innerHTML = loading_image();
$('d_blog_community').innerHTML = loading_image();
$('d_blog_featured').innerHTML = loading_image();
Blog.search({
stag: 'featured_game',
limit: 4,
full: 1,
callback: [this, 'receive_featured_games']
});
effect_api_get( 'get_site_info', { cat: 'pop_pub_games' }, [this, 'receive_pop_pub_games'], { } );
Blog.search({
stag: 'front_page',
limit: 5,
target: 'd_blog_news',
more: 1
});
Blog.search({
path: '/community',
limit: 5,
target: 'd_blog_community',
more: 1
});
if (!this.inited) {
this.inited = true;
config.Strings.MainSlideshow.Slide = always_array( config.Strings.MainSlideshow.Slide );
this.slide_idx = 0;
this.num_slides = config.Strings.MainSlideshow.Slide.length;
this.slide_div_num = 0;
this.slide_dir = 1;
this.bk_pos = -340;
this.bk_pos_target = -340;
this.slide_images = [];
for (var idx = 0, len = this.num_slides; idx < len; idx++) {
var url = images_uri + '/' + config.Strings.MainSlideshow.Slide[idx].Photo;
this.slide_images[idx] = new Image();
this.slide_images[idx].src = png(url, true);
}			
}
this.height_target = 470;
this.height_start = $('d_header').offsetHeight;
this.time_start = hires_time_now();
this.duration = 0.75;
if (!this.timer) this.timer = setTimeout( '$P("Main").animate_mhs()', 33 );
if (session.user) $('d_blurb_main').hide();
else {
$('d_blurb_main').innerHTML = get_string('/Main/Blurb');
$('d_blurb_main').show();
}
return true;
},
receive_pop_pub_games: function(response, tx) {
var html = '';
if (response.Data && response.Data.Games && response.Data.Games.Game) {
var games = always_array( response.Data.Games.Game );
for (var idx = 0, len = Math.min(games.length, 16); idx < len; idx++) {
var game = games[idx];
html += '<div class="game_thumb" onClick="Nav.go(\'Game/'+game.GameID+'\')">' + 
(game.Logo ? 
user_image_thumbnail(game.Logo, 80, 60) : 
'<img class="png" src="/effect/images/logo_80_60.png" width="80" height="60"/>'
) + '<br/>' + ww_fit_box(game.Title, 80, 2, session.em_width, 1) + '</div>';
} 
html += '<div class="clear"></div>';
}
else {
html += 'No active public games found!  Why not <a href="#GameEdit"><b>create a new one?</b></a>';
}
$('d_main_pop_pub_games').innerHTML = html;
},
receive_featured_games: function(response, tx) {
var html = '';
if (response.Rows && response.Rows.Row) {
html += '<table cellspacing="0" cellpadding="0" border="0" width="100%">';
var rows = always_array( response.Rows.Row );
for (var idx = 0, len = rows.length; idx < len; idx++) {
var row = rows[idx];
var image_url = row.Params.featured_image;
if (image_url && image_url.match(/^(\w+)\/(\w+\.\w+)$/)) {
image_url = '/effect/api/view/users/' + RegExp.$1 + '/images/' + RegExp.$2;
}
if (idx % 2 == 0) html += '<tr>';
html += '<td width="50%">';
html += '<table cellspacing="0" cellpadding="0"><tr>';
html += '<td width="175" height="175">';
html += '<div class="featured_image_container" style="background-image:url('+image_url+')">';
html += '<div class="featured_image_overlay" onClick="window.open(\''+row.Params.featured_link+'\')"></div>';
html += '</div>';
html += '</td>';
html += '<td width="10">' + spacer(10,1) + '</td>';
html += '<td width="*" valign="top">';
html += '<div class="blog_title"><a href="'+row.Params.featured_link+'" target="_blank">' + row.Title + '</a></div>';
html += '<div class="featured_game_content">' + row.HTML + '</div>';
html += '</td>';
html += '<td width="10">' + spacer(15,1) + '</td>';
html += '</tr></table>';
html += spacer(1,20);
html += '</td>';
if (idx % 2 == 1) html += '</tr>';
} 
if (rows.length % 2 == 1) {
html += '<td></td>';
html += '</tr>';
}
html += '</table>';
} 
$('d_blog_featured').innerHTML = html;
},
animate_mhs: function() {
var now = hires_time_now();
if (now - this.time_start >= this.duration) {
$('d_header').style.height = '' + this.height_target + 'px';
$('d_shadow').style.height = '' + this.height_target + 'px';
delete this.timer;
}
else {
var height = tweenFrame(this.height_start, this.height_target, (now - this.time_start) / this.duration, 'EaseOut', 'Circular');
$('d_header').style.height = '' + height + 'px';
$('d_shadow').style.height = '' + height + 'px';
this.timer = setTimeout( '$P("Main").animate_mhs()', 33 );
}
},
onDeactivate: function() {
$('d_blog_news').innerHTML = '';
$('d_blog_community').innerHTML = '';
this.height_target = 75;
this.height_start = $('d_header').offsetHeight;
this.time_start = hires_time_now();
if (!this.timer) this.timer = setTimeout( '$P("Main").animate_mhs()', 33 );
return true;
},
draw_slide: function() {
if (this.slide_timer) return;
var slide = config.Strings.MainSlideshow.Slide[ this.slide_idx ];
this.old_photo = $('d_header_slideshow_photo_' + this.slide_div_num);
this.old_text = $('d_header_slideshow_text_' + this.slide_div_num);
this.slide_div_num = 1 - this.slide_div_num;
this.new_photo = $('d_header_slideshow_photo_' + this.slide_div_num);
this.new_text = $('d_header_slideshow_text_' + this.slide_div_num);
this.new_photo.style.backgroundImage = 'url('+png(images_uri+'/'+slide.Photo, true)+')';
this.new_photo.setOpacity(0.0);
var html = '';
html += slide.Text;
this.slide_width = this.new_text.offsetWidth;
this.new_text.innerHTML = html;
if (this.slide_dir == 1) this.new_text.style.left = '' + this.slide_width + 'px';
else this.new_text.style.left = '-' + this.slide_width + 'px';
this.slide_time_start = hires_time_now();
this.slide_timer = setTimeout( '$P("Main").animate_mhs_slide()', 33 );
},
animate_mhs_slide: function() {
var now = hires_time_now();
if (now - this.slide_time_start >= this.duration) {
this.new_text.style.left = '0px';
this.old_text.style.left = '-' + this.slide_width + 'px';
this.new_photo.setOpacity( 1.0 );
this.old_photo.setOpacity( 0.0 );
delete this.slide_timer;
this.bk_pos = this.bk_pos_target;
}
else {
var value = tweenFrame(0.0, 1.0, (now - this.slide_time_start) / this.duration, 'EaseOut', 'Circular');
if (this.slide_dir == 1) {
this.new_text.style.left = '' + Math.floor( this.slide_width - (this.slide_width * value) ) + 'px';
this.old_text.style.left = '-' + Math.floor( this.slide_width * value ) + 'px';
}
else {
this.new_text.style.left = '-' + Math.floor( this.slide_width - (this.slide_width * value) ) + 'px';
this.old_text.style.left = '' + Math.floor( this.slide_width * value ) + 'px';
}
this.new_photo.setOpacity( value );
this.old_photo.setOpacity( 1.0 - value );
var bkp = Math.floor( this.bk_pos + ((this.bk_pos_target - this.bk_pos) * value) );
$('d_header').style.backgroundPosition = '' + bkp + 'px 0px';
this.slide_timer = setTimeout( '$P("Main").animate_mhs_slide()', 33 );
}
},
prev_slide: function() {
this.bk_pos_target += 200;
this.slide_idx--;
if (this.slide_idx < 0) this.slide_idx += this.num_slides;
this.slide_dir = -1;
this.draw_slide();
},
next_slide: function() {
this.bk_pos_target -= 200;
this.slide_idx++;
if (this.slide_idx >= this.num_slides) this.slide_idx -= this.num_slides;
this.slide_dir = 1;
this.draw_slide();
}
} );
Class.subclass( Effect.Page, "Effect.Page.PublicGameList", {
onActivate: function() {
Nav.bar(
['Main', 'EffectGames.com'],
['PublicGameList', "All Public Games"]
);
Nav.title( "List of All Public Game Projects" );
effect_api_get( 'get_site_info', { cat: 'all_pub_games' }, [this, 'receive_all_pub_games'], { } );
this.div.innerHTML = loading_image();
return true;
},
onDeactivate: function() {
this.div.innerHTML = '';
return true;
},
receive_all_pub_games: function(response, tx) {
var html = '';
html += '<h1>List of All Public Game Projects</h1>';
html += '<div class="blurb">This is the complete list of public games currently being built by our users, presented in alphabetical order.  Maybe they could use some help!  Check out the game project pages and see (requires user account).</div>';
if (response.Data && response.Data.Games && response.Data.Games.Game) {
var games = always_array( response.Data.Games.Game );
for (var idx = 0, len = games.length; idx < len; idx++) {
var game = games[idx];
html += '<div class="game_thumb" onClick="Nav.go(\'Game/'+game.GameID+'\')">' + 
(game.Logo ? 
user_image_thumbnail(game.Logo, 80, 60) : 
'<img class="png" src="/effect/images/logo_80_60.png" width="80" height="60"/>'
) + '<br/>' + ww_fit_box(game.Title, 80, 2, session.em_width, 1) + '</div>';
} 
html += '<div class="clear"></div>';
}
else {
html += 'No public games found!  Why not <a href="#GameEdit"><b>create a new one?</b></a>';
}
this.div.innerHTML = html;
}
} );
Class.subclass( Effect.Page, "Effect.Page.Search", {
onActivate: function(args) {
if (!args) args = {};
var search_text = args.q;
var start = args.s || 0;
if (!start) start = 0;
var title = 'Search results for "'+search_text+'"';
Nav.bar(
['Main', 'EffectGames.com'],
['Search?q=' + escape(search_text), "Search Results"]
);
Nav.title( title );
this.last_search_text = search_text;
$('d_article_search').innerHTML = loading_image();
load_script( 'http://www.google.com/uds/GwebSearch?callback=receive_google_search_results&context=0&lstkp=0&rsz=large&hl=en&source=gsc&gss=.com&sig=&q='+escape(search_text)+'%20site%3Ahttp%3A%2F%2Fwww.effectgames.com%2F&key=notsupplied&v=1.0&start='+start+'&nocache=' + (new Date()).getTime() );
$('h_article_search').innerHTML = title;
return true;
},
onDeactivate: function(new_page) {
$('fe_search_bar').value = '';
$('d_article_search').innerHTML = '';
return true;
}
} );
function do_search_bar() {
var search_text = $('fe_search_bar').value;
if (search_text.length) {
Nav.go('Search?q=' + escape(search_text));
}
}
function receive_google_search_results(context, response) {
var html = '';
html += '<div class="powered_by_google">Powered by</div><div class="clear"></div>';
if (response.results.length) {
for (var idx = 0, len = response.results.length; idx < len; idx++) {
var row = response.results[idx];
var url = row.unescapedUrl.replace(/^.+article\.psp\.html/, '#Article'); 
html += '<div class="google_search_result_row">';
html += '<div class="link"><a href="'+url+'"><b>'+row.title+'</b></a></div>';
html += '<div class="preview">' + row.content + '</div>';
html += '</div>';
} 
} 
else {
html += 'No results found.';
}
if (response.cursor.pages) {
html += '<div class="google_pagination">Page: ';
for (var idx = 0, len = response.cursor.pages.length; idx < len; idx++) {
html += '<span>';
var page = response.cursor.pages[idx];
var url = '#Search?q=' + escape($P('Search').last_search_text) + '&s=' + page.start;
if (response.cursor.currentPageIndex != idx) html += '<a href="'+url+'">';
else html += '<b>';
html += page.label;
if (response.cursor.currentPageIndex != idx) html += '</a>';
else html += '</b>';
html += '</span>';
}
html += '</div>';
}
$('d_article_search').innerHTML = html;
}
</script>


<script id="ext" type="x">
/*
 * Ext JS Library 3.4.0
 * Copyright(c) 2006-2011 Sencha Inc.
 * licensing@sencha.com
 * http://www.sencha.com/license
 */
(function(){var h=Ext.util,j=Ext.each,g=true,i=false;h.Observable=function(){var k=this,l=k.events;if(k.listeners){k.on(k.listeners);delete k.listeners}k.events=l||{}};h.Observable.prototype={filterOptRe:/^(?:scope|delay|buffer|single)$/,fireEvent:function(){var k=Array.prototype.slice.call(arguments,0),m=k[0].toLowerCase(),n=this,l=g,p=n.events[m],s,o,r;if(n.eventsSuspended===g){if(o=n.eventQueue){o.push(k)}}else{if(typeof p=="object"){if(p.bubble){if(p.fire.apply(p,k.slice(1))===i){return i}r=n.getBubbleTarget&&n.getBubbleTarget();if(r&&r.enableBubble){s=r.events[m];if(!s||typeof s!="object"||!s.bubble){r.enableBubble(m)}return r.fireEvent.apply(r,k)}}else{k.shift();l=p.fire.apply(p,k)}}}return l},addListener:function(k,m,l,r){var n=this,q,s,p;if(typeof k=="object"){r=k;for(q in r){s=r[q];if(!n.filterOptRe.test(q)){n.addListener(q,s.fn||s,s.scope||r.scope,s.fn?s:r)}}}else{k=k.toLowerCase();p=n.events[k]||g;if(typeof p=="boolean"){n.events[k]=p=new h.Event(n,k)}p.addListener(m,l,typeof r=="object"?r:{})}},removeListener:function(k,m,l){var n=this.events[k.toLowerCase()];if(typeof n=="object"){n.removeListener(m,l)}},purgeListeners:function(){var m=this.events,k,l;for(l in m){k=m[l];if(typeof k=="object"){k.clearListeners()}}},addEvents:function(n){var m=this;m.events=m.events||{};if(typeof n=="string"){var k=arguments,l=k.length;while(l--){m.events[k[l]]=m.events[k[l]]||g}}else{Ext.applyIf(m.events,n)}},hasListener:function(k){var l=this.events[k.toLowerCase()];return typeof l=="object"&&l.listeners.length>0},suspendEvents:function(k){this.eventsSuspended=g;if(k&&!this.eventQueue){this.eventQueue=[]}},resumeEvents:function(){var k=this,l=k.eventQueue||[];k.eventsSuspended=i;delete k.eventQueue;j(l,function(m){k.fireEvent.apply(k,m)})}};var d=h.Observable.prototype;d.on=d.addListener;d.un=d.removeListener;h.Observable.releaseCapture=function(k){k.fireEvent=d.fireEvent};function e(l,m,k){return function(){if(m.target==arguments[0]){l.apply(k,Array.prototype.slice.call(arguments,0))}}}function b(n,p,k,m){k.task=new h.DelayedTask();return function(){k.task.delay(p.buffer,n,m,Array.prototype.slice.call(arguments,0))}}function c(m,n,l,k){return function(){n.removeListener(l,k);return m.apply(k,arguments)}}function a(n,p,k,m){return function(){var l=new h.DelayedTask(),o=Array.prototype.slice.call(arguments,0);if(!k.tasks){k.tasks=[]}k.tasks.push(l);l.delay(p.delay||10,function(){k.tasks.remove(l);n.apply(m,o)},m)}}h.Event=function(l,k){this.name=k;this.obj=l;this.listeners=[]};h.Event.prototype={addListener:function(o,n,m){var p=this,k;n=n||p.obj;if(!p.isListening(o,n)){k=p.createListener(o,n,m);if(p.firing){p.listeners=p.listeners.slice(0)}p.listeners.push(k)}},createListener:function(p,n,q){q=q||{};n=n||this.obj;var k={fn:p,scope:n,options:q},m=p;if(q.target){m=e(m,q,n)}if(q.delay){m=a(m,q,k,n)}if(q.single){m=c(m,this,p,n)}if(q.buffer){m=b(m,q,k,n)}k.fireFn=m;return k},findListener:function(o,n){var p=this.listeners,m=p.length,k;n=n||this.obj;while(m--){k=p[m];if(k){if(k.fn==o&&k.scope==n){return m}}}return -1},isListening:function(l,k){return this.findListener(l,k)!=-1},removeListener:function(r,q){var p,m,n,s=this,o=i;if((p=s.findListener(r,q))!=-1){if(s.firing){s.listeners=s.listeners.slice(0)}m=s.listeners[p];if(m.task){m.task.cancel();delete m.task}n=m.tasks&&m.tasks.length;if(n){while(n--){m.tasks[n].cancel()}delete m.tasks}s.listeners.splice(p,1);o=g}return o},clearListeners:function(){var n=this,k=n.listeners,m=k.length;while(m--){n.removeListener(k[m].fn,k[m].scope)}},fire:function(){var q=this,p=q.listeners,k=p.length,o=0,m;if(k>0){q.firing=g;var n=Array.prototype.slice.call(arguments,0);for(;o<k;o++){m=p[o];if(m&&m.fireFn.apply(m.scope||q.obj||window,n)===i){return(q.firing=i)}}}q.firing=i;return g}}})();Ext.DomHelper=function(){var x=null,k=/^(?:br|frame|hr|img|input|link|meta|range|spacer|wbr|area|param|col)$/i,m=/^table|tbody|tr|td$/i,d=/tag|children|cn|html$/i,t=/td|tr|tbody/i,o=/([a-z0-9-]+)\s*:\s*([^;\s]+(?:\s*[^;\s]+)*);?/gi,v=/end/i,r,n="afterbegin",p="afterend",c="beforebegin",q="beforeend",a="<table>",i="</table>",b=a+"<tbody>",j="</tbody>"+i,l=b+"<tr>",w="</tr>"+j;function h(B,D,C,E,A,y){var z=r.insertHtml(E,Ext.getDom(B),u(D));return C?Ext.get(z,true):z}function u(D){var z="",y,C,B,E;if(typeof D=="string"){z=D}else{if(Ext.isArray(D)){for(var A=0;A<D.length;A++){if(D[A]){z+=u(D[A])}}}else{z+="<"+(D.tag=D.tag||"div");for(y in D){C=D[y];if(!d.test(y)){if(typeof C=="object"){z+=" "+y+'="';for(B in C){z+=B+":"+C[B]+";"}z+='"'}else{z+=" "+({cls:"class",htmlFor:"for"}[y]||y)+'="'+C+'"'}}}if(k.test(D.tag)){z+="/>"}else{z+=">";if((E=D.children||D.cn)){z+=u(E)}else{if(D.html){z+=D.html}}z+="</"+D.tag+">"}}}return z}function g(F,C,B,D){x.innerHTML=[C,B,D].join("");var y=-1,A=x,z;while(++y<F){A=A.firstChild}if(z=A.nextSibling){var E=document.createDocumentFragment();while(A){z=A.nextSibling;E.appendChild(A);A=z}A=E}return A}function e(y,z,B,A){var C,D;x=x||document.createElement("div");if(y=="td"&&(z==n||z==q)||!t.test(y)&&(z==c||z==p)){return}D=z==c?B:z==p?B.nextSibling:z==n?B.firstChild:null;if(z==c||z==p){B=B.parentNode}if(y=="td"||(y=="tr"&&(z==q||z==n))){C=g(4,l,A,w)}else{if((y=="tbody"&&(z==q||z==n))||(y=="tr"&&(z==c||z==p))){C=g(3,b,A,j)}else{C=g(2,a,A,i)}}B.insertBefore(C,D);return C}function s(A){var D=document.createElement("div"),y=document.createDocumentFragment(),z=0,B,C;D.innerHTML=A;C=D.childNodes;B=C.length;for(;z<B;z++){y.appendChild(C[z].cloneNode(true))}return y}r={markup:function(y){return u(y)},applyStyles:function(y,z){if(z){var A;y=Ext.fly(y);if(typeof z=="function"){z=z.call()}if(typeof z=="string"){o.lastIndex=0;while((A=o.exec(z))){y.setStyle(A[1],A[2])}}else{if(typeof z=="object"){y.setStyle(z)}}}},insertHtml:function(D,y,E){var B={},A,F,C,G,H,z;D=D.toLowerCase();B[c]=["BeforeBegin","previousSibling"];B[p]=["AfterEnd","nextSibling"];if(y.insertAdjacentHTML){if(m.test(y.tagName)&&(z=e(y.tagName.toLowerCase(),D,y,E))){return z}B[n]=["AfterBegin","firstChild"];B[q]=["BeforeEnd","lastChild"];if((A=B[D])){y.insertAdjacentHTML(A[0],E);return y[A[1]]}}else{F=y.ownerDocument.createRange();G="setStart"+(v.test(D)?"After":"Before");if(B[D]){F[G](y);if(!F.createContextualFragment){H=s(E)}else{H=F.createContextualFragment(E)}y.parentNode.insertBefore(H,D==c?y:y.nextSibling);return y[(D==c?"previous":"next")+"Sibling"]}else{C=(D==n?"first":"last")+"Child";if(y.firstChild){F[G](y[C]);if(!F.createContextualFragment){H=s(E)}else{H=F.createContextualFragment(E)}if(D==n){y.insertBefore(H,y.firstChild)}else{y.appendChild(H)}}else{y.innerHTML=E}return y[C]}}throw'Illegal insertion point -> "'+D+'"'},insertBefore:function(y,A,z){return h(y,A,z,c)},insertAfter:function(y,A,z){return h(y,A,z,p,"nextSibling")},insertFirst:function(y,A,z){return h(y,A,z,n,"firstChild")},append:function(y,A,z){return h(y,A,z,q,"",true)},overwrite:function(y,A,z){y=Ext.getDom(y);y.innerHTML=u(A);return z?Ext.get(y.firstChild):y.firstChild},createHtml:u};return r}();Ext.Template=function(h){var j=this,c=arguments,e=[],d;if(Ext.isArray(h)){h=h.join("")}else{if(c.length>1){for(var g=0,b=c.length;g<b;g++){d=c[g];if(typeof d=="object"){Ext.apply(j,d)}else{e.push(d)}}h=e.join("")}}j.html=h;if(j.compiled){j.compile()}};Ext.Template.prototype={re:/\{([\w\-]+)\}/g,applyTemplate:function(a){var b=this;return b.compiled?b.compiled(a):b.html.replace(b.re,function(c,d){return a[d]!==undefined?a[d]:""})},set:function(a,c){var b=this;b.html=a;b.compiled=null;return c?b.compile():b},compile:function(){var me=this,sep=Ext.isGecko?"+":",";function fn(m,name){name="values['"+name+"']";return"'"+sep+"("+name+" == undefined ? '' : "+name+")"+sep+"'"}eval("this.compiled = function(values){ return "+(Ext.isGecko?"'":"['")+me.html.replace(/\\/g,"\\\\").replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn)+(Ext.isGecko?"';};":"'].join('');};"));return me},insertFirst:function(b,a,c){return this.doInsert("afterBegin",b,a,c)},insertBefore:function(b,a,c){return this.doInsert("beforeBegin",b,a,c)},insertAfter:function(b,a,c){return this.doInsert("afterEnd",b,a,c)},append:function(b,a,c){return this.doInsert("beforeEnd",b,a,c)},doInsert:function(c,e,b,a){e=Ext.getDom(e);var d=Ext.DomHelper.insertHtml(c,e,this.applyTemplate(b));return a?Ext.get(d,true):d},overwrite:function(b,a,c){b=Ext.getDom(b);b.innerHTML=this.applyTemplate(a);return c?Ext.get(b.firstChild,true):b.firstChild}};Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.Template.from=function(b,a){b=Ext.getDom(b);return new Ext.Template(b.value||b.innerHTML,a||"")};Ext.DomQuery=function(){var cache={},simpleCache={},valueCache={},nonSpace=/\S/,trimRe=/^\s+|\s+$/g,tplRe=/\{(\d+)\}/g,modeRe=/^(\s?[\/>+~]\s?|\s|$)/,tagTokenRe=/^(#)?([\w\-\*]+)/,nthRe=/(\d*)n\+?(\d*)/,nthRe2=/\D/,isIE=window.ActiveXObject?true:false,key=30803;eval("var batch = 30803;");function child(parent,index){var i=0,n=parent.firstChild;while(n){if(n.nodeType==1){if(++i==index){return n}}n=n.nextSibling}return null}function next(n){while((n=n.nextSibling)&&n.nodeType!=1){}return n}function prev(n){while((n=n.previousSibling)&&n.nodeType!=1){}return n}function children(parent){var n=parent.firstChild,nodeIndex=-1,nextNode;while(n){nextNode=n.nextSibling;if(n.nodeType==3&&!nonSpace.test(n.nodeValue)){parent.removeChild(n)}else{n.nodeIndex=++nodeIndex}n=nextNode}return this}function byClassName(nodeSet,cls){if(!cls){return nodeSet}var result=[],ri=-1;for(var i=0,ci;ci=nodeSet[i];i++){if((" "+ci.className+" ").indexOf(cls)!=-1){result[++ri]=ci}}return result}function attrValue(n,attr){if(!n.tagName&&typeof n.length!="undefined"){n=n[0]}if(!n){return null}if(attr=="for"){return n.htmlFor}if(attr=="class"||attr=="className"){return n.className}return n.getAttribute(attr)||n[attr]}function getNodes(ns,mode,tagName){var result=[],ri=-1,cs;if(!ns){return result}tagName=tagName||"*";if(typeof ns.getElementsByTagName!="undefined"){ns=[ns]}if(!mode){for(var i=0,ni;ni=ns[i];i++){cs=ni.getElementsByTagName(tagName);for(var j=0,ci;ci=cs[j];j++){result[++ri]=ci}}}else{if(mode=="/"||mode==">"){var utag=tagName.toUpperCase();for(var i=0,ni,cn;ni=ns[i];i++){cn=ni.childNodes;for(var j=0,cj;cj=cn[j];j++){if(cj.nodeName==utag||cj.nodeName==tagName||tagName=="*"){result[++ri]=cj}}}}else{if(mode=="+"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(n&&(n.nodeName==utag||n.nodeName==tagName||tagName=="*")){result[++ri]=n}}}else{if(mode=="~"){var utag=tagName.toUpperCase();for(var i=0,n;n=ns[i];i++){while((n=n.nextSibling)){if(n.nodeName==utag||n.nodeName==tagName||tagName=="*"){result[++ri]=n}}}}}}}return result}function concat(a,b){if(b.slice){return a.concat(b)}for(var i=0,l=b.length;i<l;i++){a[a.length]=b[i]}return a}function byTag(cs,tagName){if(cs.tagName||cs==document){cs=[cs]}if(!tagName){return cs}var result=[],ri=-1;tagName=tagName.toLowerCase();for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType==1&&ci.tagName.toLowerCase()==tagName){result[++ri]=ci}}return result}function byId(cs,id){if(cs.tagName||cs==document){cs=[cs]}if(!id){return cs}var result=[],ri=-1;for(var i=0,ci;ci=cs[i];i++){if(ci&&ci.id==id){result[++ri]=ci;return result}}return result}function byAttribute(cs,attr,value,op,custom){var result=[],ri=-1,useGetStyle=custom=="{",fn=Ext.DomQuery.operators[op],a,xml,hasXml;for(var i=0,ci;ci=cs[i];i++){if(ci.nodeType!=1){continue}if(!hasXml){xml=Ext.DomQuery.isXml(ci);hasXml=true}if(!xml){if(useGetStyle){a=Ext.DomQuery.getStyle(ci,attr)}else{if(attr=="class"||attr=="className"){a=ci.className}else{if(attr=="for"){a=ci.htmlFor}else{if(attr=="href"){a=ci.getAttribute("href",2)}else{a=ci.getAttribute(attr)}}}}}else{a=ci.getAttribute(attr)}if((fn&&fn(a,value))||(!fn&&a)){result[++ri]=ci}}return result}function byPseudo(cs,name,value){return Ext.DomQuery.pseudos[name](cs,value)}function nodupIEXml(cs){var d=++key,r;cs[0].setAttribute("_nodup",d);r=[cs[0]];for(var i=1,len=cs.length;i<len;i++){var c=cs[i];if(!c.getAttribute("_nodup")!=d){c.setAttribute("_nodup",d);r[r.length]=c}}for(var i=0,len=cs.length;i<len;i++){cs[i].removeAttribute("_nodup")}return r}function nodup(cs){if(!cs){return[]}var len=cs.length,c,i,r=cs,cj,ri=-1;if(!len||typeof cs.nodeType!="undefined"||len==1){return cs}if(isIE&&typeof cs[0].selectSingleNode!="undefined"){return nodupIEXml(cs)}var d=++key;cs[0]._nodup=d;for(i=1;c=cs[i];i++){if(c._nodup!=d){c._nodup=d}else{r=[];for(var j=0;j<i;j++){r[++ri]=cs[j]}for(j=i+1;cj=cs[j];j++){if(cj._nodup!=d){cj._nodup=d;r[++ri]=cj}}return r}}return r}function quickDiffIEXml(c1,c2){var d=++key,r=[];for(var i=0,len=c1.length;i<len;i++){c1[i].setAttribute("_qdiff",d)}for(var i=0,len=c2.length;i<len;i++){if(c2[i].getAttribute("_qdiff")!=d){r[r.length]=c2[i]}}for(var i=0,len=c1.length;i<len;i++){c1[i].removeAttribute("_qdiff")}return r}function quickDiff(c1,c2){var len1=c1.length,d=++key,r=[];if(!len1){return c2}if(isIE&&typeof c1[0].selectSingleNode!="undefined"){return quickDiffIEXml(c1,c2)}for(var i=0;i<len1;i++){c1[i]._qdiff=d}for(var i=0,len=c2.length;i<len;i++){if(c2[i]._qdiff!=d){r[r.length]=c2[i]}}return r}function quickId(ns,mode,root,id){if(ns==root){var d=root.ownerDocument||root;return d.getElementById(id)}ns=getNodes(ns,mode,"*");return byId(ns,id)}return{getStyle:function(el,name){return Ext.fly(el).getStyle(name)},compile:function(path,type){type=type||"select";var fn=["var f = function(root){\n var mode; ++batch; var n = root || document;\n"],mode,lastPath,matchers=Ext.DomQuery.matchers,matchersLn=matchers.length,modeMatch,lmode=path.match(modeRe);if(lmode&&lmode[1]){fn[fn.length]='mode="'+lmode[1].replace(trimRe,"")+'";';path=path.replace(lmode[1],"")}while(path.substr(0,1)=="/"){path=path.substr(1)}while(path&&lastPath!=path){lastPath=path;var tokenMatch=path.match(tagTokenRe);if(type=="select"){if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = quickId(n, mode, root, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = getNodes(n, mode, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}else{if(path.substr(0,1)!="@"){fn[fn.length]='n = getNodes(n, mode, "*");'}}}else{if(tokenMatch){if(tokenMatch[1]=="#"){fn[fn.length]='n = byId(n, "'+tokenMatch[2]+'");'}else{fn[fn.length]='n = byTag(n, "'+tokenMatch[2]+'");'}path=path.replace(tokenMatch[0],"")}}while(!(modeMatch=path.match(modeRe))){var matched=false;for(var j=0;j<matchersLn;j++){var t=matchers[j];var m=path.match(t.re);if(m){fn[fn.length]=t.select.replace(tplRe,function(x,i){return m[i]});path=path.replace(m[0],"");matched=true;break}}if(!matched){throw'Error parsing selector, parsing failed at "'+path+'"'}}if(modeMatch[1]){fn[fn.length]='mode="'+modeMatch[1].replace(trimRe,"")+'";';path=path.replace(modeMatch[1],"")}}fn[fn.length]="return nodup(n);\n}";eval(fn.join(""));return f},jsSelect:function(path,root,type){root=root||document;if(typeof root=="string"){root=document.getElementById(root)}var paths=path.split(","),results=[];for(var i=0,len=paths.length;i<len;i++){var subPath=paths[i].replace(trimRe,"");if(!cache[subPath]){cache[subPath]=Ext.DomQuery.compile(subPath);if(!cache[subPath]){throw subPath+" is not a valid selector"}}var result=cache[subPath](root);if(result&&result!=document){results=results.concat(result)}}if(paths.length>1){return nodup(results)}return results},isXml:function(el){var docEl=(el?el.ownerDocument||el:0).documentElement;return docEl?docEl.nodeName!=="HTML":false},select:document.querySelectorAll?function(path,root,type){root=root||document;if(!Ext.DomQuery.isXml(root)){try{var cs=root.querySelectorAll(path);return Ext.toArray(cs)}catch(ex){}}return Ext.DomQuery.jsSelect.call(this,path,root,type)}:function(path,root,type){return Ext.DomQuery.jsSelect.call(this,path,root,type)},selectNode:function(path,root){return Ext.DomQuery.select(path,root)[0]},selectValue:function(path,root,defaultValue){path=path.replace(trimRe,"");if(!valueCache[path]){valueCache[path]=Ext.DomQuery.compile(path,"select")}var n=valueCache[path](root),v;n=n[0]?n[0]:n;if(typeof n.normalize=="function"){n.normalize()}v=(n&&n.firstChild?n.firstChild.nodeValue:null);return((v===null||v===undefined||v==="")?defaultValue:v)},selectNumber:function(path,root,defaultValue){var v=Ext.DomQuery.selectValue(path,root,defaultValue||0);return parseFloat(v)},is:function(el,ss){if(typeof el=="string"){el=document.getElementById(el)}var isArray=Ext.isArray(el),result=Ext.DomQuery.filter(isArray?el:[el],ss);return isArray?(result.length==el.length):(result.length>0)},filter:function(els,ss,nonMatches){ss=ss.replace(trimRe,"");if(!simpleCache[ss]){simpleCache[ss]=Ext.DomQuery.compile(ss,"simple")}var result=simpleCache[ss](els);return nonMatches?quickDiff(result,els):result},matchers:[{re:/^\.([\w\-]+)/,select:'n = byClassName(n, " {1} ");'},{re:/^\:([\w\-]+)(?:\(((?:[^\s>\/]*|.*?))\))?/,select:'n = byPseudo(n, "{1}", "{2}");'},{re:/^(?:([\[\{])(?:@)?([\w\-]+)\s?(?:(=|.=)\s?(["']?)(.*?)\4)?[\]\}])/,select:'n = byAttribute(n, "{2}", "{5}", "{3}", "{1}");'},{re:/^#([\w\-]+)/,select:'n = byId(n, "{1}");'},{re:/^@([\w\-]+)/,select:'return {firstChild:{nodeValue:attrValue(n, "{1}")}};'}],operators:{"=":function(a,v){return a==v},"!=":function(a,v){return a!=v},"^=":function(a,v){return a&&a.substr(0,v.length)==v},"$=":function(a,v){return a&&a.substr(a.length-v.length)==v},"*=":function(a,v){return a&&a.indexOf(v)!==-1},"%=":function(a,v){return(a%v)==0},"|=":function(a,v){return a&&(a==v||a.substr(0,v.length+1)==v+"-")},"~=":function(a,v){return a&&(" "+a+" ").indexOf(" "+v+" ")!=-1}},pseudos:{"first-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.previousSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"last-child":function(c){var r=[],ri=-1,n;for(var i=0,ci;ci=n=c[i];i++){while((n=n.nextSibling)&&n.nodeType!=1){}if(!n){r[++ri]=ci}}return r},"nth-child":function(c,a){var r=[],ri=-1,m=nthRe.exec(a=="even"&&"2n"||a=="odd"&&"2n+1"||!nthRe2.test(a)&&"n+"+a||a),f=(m[1]||1)-0,l=m[2]-0;for(var i=0,n;n=c[i];i++){var pn=n.parentNode;if(batch!=pn._batch){var j=0;for(var cn=pn.firstChild;cn;cn=cn.nextSibling){if(cn.nodeType==1){cn.nodeIndex=++j}}pn._batch=batch}if(f==1){if(l==0||n.nodeIndex==l){r[++ri]=n}}else{if((n.nodeIndex+l)%f==0){r[++ri]=n}}}return r},"only-child":function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(!prev(ci)&&!next(ci)){r[++ri]=ci}}return r},empty:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var cns=ci.childNodes,j=0,cn,empty=true;while(cn=cns[j]){++j;if(cn.nodeType==1||cn.nodeType==3){empty=false;break}}if(empty){r[++ri]=ci}}return r},contains:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if((ci.textContent||ci.innerText||"").indexOf(v)!=-1){r[++ri]=ci}}return r},nodeValue:function(c,v){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.firstChild&&ci.firstChild.nodeValue==v){r[++ri]=ci}}return r},checked:function(c){var r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(ci.checked==true){r[++ri]=ci}}return r},not:function(c,ss){return Ext.DomQuery.filter(c,ss,true)},any:function(c,selectors){var ss=selectors.split("|"),r=[],ri=-1,s;for(var i=0,ci;ci=c[i];i++){for(var j=0;s=ss[j];j++){if(Ext.DomQuery.is(ci,s)){r[++ri]=ci;break}}}return r},odd:function(c){return this["nth-child"](c,"odd")},even:function(c){return this["nth-child"](c,"even")},nth:function(c,a){return c[a-1]||[]},first:function(c){return c[0]||[]},last:function(c){return c[c.length-1]||[]},has:function(c,ss){var s=Ext.DomQuery.select,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){if(s(ss,ci).length>0){r[++ri]=ci}}return r},next:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=next(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r},prev:function(c,ss){var is=Ext.DomQuery.is,r=[],ri=-1;for(var i=0,ci;ci=c[i];i++){var n=prev(ci);if(n&&is(n,ss)){r[++ri]=ci}}return r}}}}();Ext.query=Ext.DomQuery.select;Ext.util.DelayedTask=function(d,c,a){var e=this,g,b=function(){clearInterval(g);g=null;d.apply(c,a||[])};e.delay=function(i,k,j,h){e.cancel();d=k||d;c=j||c;a=h||a;g=setInterval(b,i)};e.cancel=function(){if(g){clearInterval(g);g=null}}};(function(){var h=document;Ext.Element=function(l,m){var n=typeof l=="string"?h.getElementById(l):l,o;if(!n){return null}o=n.id;if(!m&&o&&Ext.elCache[o]){return Ext.elCache[o].el}this.dom=n;this.id=o||Ext.id(n)};var d=Ext.DomHelper,e=Ext.Element,a=Ext.elCache;e.prototype={set:function(q,m){var n=this.dom,l,p,m=(m!==false)&&!!n.setAttribute;for(l in q){if(q.hasOwnProperty(l)){p=q[l];if(l=="style"){d.applyStyles(n,p)}else{if(l=="cls"){n.className=p}else{if(m){n.setAttribute(l,p)}else{n[l]=p}}}}}return this},defaultUnit:"px",is:function(l){return Ext.DomQuery.is(this.dom,l)},focus:function(o,n){var l=this,n=n||l.dom;try{if(Number(o)){l.focus.defer(o,null,[null,n])}else{n.focus()}}catch(m){}return l},blur:function(){try{this.dom.blur()}catch(l){}return this},getValue:function(l){var m=this.dom.value;return l?parseInt(m,10):m},addListener:function(l,o,n,m){Ext.EventManager.on(this.dom,l,o,n||this,m);return this},removeListener:function(l,n,m){Ext.EventManager.removeListener(this.dom,l,n,m||this);return this},removeAllListeners:function(){Ext.EventManager.removeAll(this.dom);return this},purgeAllListeners:function(){Ext.EventManager.purgeElement(this,true);return this},addUnits:function(l){if(l===""||l=="auto"||l===undefined){l=l||""}else{if(!isNaN(l)||!i.test(l)){l=l+(this.defaultUnit||"px")}}return l},load:function(m,n,l){Ext.Ajax.request(Ext.apply({params:n,url:m.url||m,callback:l,el:this.dom,indicatorText:m.indicatorText||""},Ext.isObject(m)?m:{}));return this},isBorderBox:function(){return Ext.isBorderBox||Ext.isForcedBorderBox||g[(this.dom.tagName||"").toLowerCase()]},remove:function(){var l=this,m=l.dom;if(m){delete l.dom;Ext.removeNode(m)}},hover:function(m,l,o,n){var p=this;p.on("mouseenter",m,o||p.dom,n);p.on("mouseleave",l,o||p.dom,n);return p},contains:function(l){return !l?false:Ext.lib.Dom.isAncestor(this.dom,l.dom?l.dom:l)},getAttributeNS:function(m,l){return this.getAttribute(l,m)},getAttribute:(function(){var p=document.createElement("table"),o=false,m="getAttribute" in p,l=/undefined|unknown/;if(m){try{p.getAttribute("ext:qtip")}catch(n){o=true}return function(q,s){var r=this.dom,t;if(r.getAttributeNS){t=r.getAttributeNS(s,q)||null}if(t==null){if(s){if(o&&r.tagName.toUpperCase()=="TABLE"){try{t=r.getAttribute(s+":"+q)}catch(u){t=""}}else{t=r.getAttribute(s+":"+q)}}else{t=r.getAttribute(q)||r[q]}}return t||""}}else{return function(q,s){var r=this.om,u,t;if(s){t=r[s+":"+q];u=l.test(typeof t)?undefined:t}else{u=r[q]}return u||""}}p=null})(),update:function(l){if(this.dom){this.dom.innerHTML=l}return this}};var k=e.prototype;e.addMethods=function(l){Ext.apply(k,l)};k.on=k.addListener;k.un=k.removeListener;k.autoBoxAdjust=true;var i=/\d+(px|em|%|en|ex|pt|in|cm|mm|pc)$/i,c;e.get=function(m){var l,p,o;if(!m){return null}if(typeof m=="string"){if(!(p=h.getElementById(m))){return null}if(a[m]&&a[m].el){l=a[m].el;l.dom=p}else{l=e.addToCache(new e(p))}return l}else{if(m.tagName){if(!(o=m.id)){o=Ext.id(m)}if(a[o]&&a[o].el){l=a[o].el;l.dom=m}else{l=e.addToCache(new e(m))}return l}else{if(m instanceof e){if(m!=c){if(Ext.isIE&&(m.id==undefined||m.id=="")){m.dom=m.dom}else{m.dom=h.getElementById(m.id)||m.dom}}return m}else{if(m.isComposite){return m}else{if(Ext.isArray(m)){return e.select(m)}else{if(m==h){if(!c){var n=function(){};n.prototype=e.prototype;c=new n();c.dom=h}return c}}}}}}return null};e.addToCache=function(l,m){m=m||l.id;a[m]={el:l,data:{},events:{}};return l};e.data=function(m,l,n){m=e.get(m);if(!m){return null}var o=a[m.id].data;if(arguments.length==2){return o[l]}else{return(o[l]=n)}};function j(){if(!Ext.enableGarbageCollector){clearInterval(e.collectorThreadId)}else{var l,n,q,p;for(l in a){p=a[l];if(p.skipGC){continue}n=p.el;q=n.dom;if(!q||!q.parentNode||(!q.offsetParent&&!h.getElementById(l))){if(Ext.enableListenerCollection){Ext.EventManager.removeAll(q)}delete a[l]}}if(Ext.isIE){var m={};for(l in a){m[l]=a[l]}a=Ext.elCache=m}}}e.collectorThreadId=setInterval(j,30000);var b=function(){};b.prototype=e.prototype;e.Flyweight=function(l){this.dom=l};e.Flyweight.prototype=new b();e.Flyweight.prototype.isFlyweight=true;e._flyweights={};e.fly=function(n,l){var m=null;l=l||"_global";if(n=Ext.getDom(n)){(e._flyweights[l]=e._flyweights[l]||new e.Flyweight()).dom=n;m=e._flyweights[l]}return m};Ext.get=e.get;Ext.fly=e.fly;var g=Ext.isStrict?{select:1}:{input:1,select:1,textarea:1};if(Ext.isIE||Ext.isGecko){g.button=1}})();Ext.Element.addMethods(function(){var d="parentNode",b="nextSibling",c="previousSibling",e=Ext.DomQuery,a=Ext.get;return{findParent:function(m,l,h){var j=this.dom,g=document.body,k=0,i;if(Ext.isGecko&&Object.prototype.toString.call(j)=="[object XULElement]"){return null}l=l||50;if(isNaN(l)){i=Ext.getDom(l);l=Number.MAX_VALUE}while(j&&j.nodeType==1&&k<l&&j!=g&&j!=i){if(e.is(j,m)){return h?a(j):j}k++;j=j.parentNode}return null},findParentNode:function(j,i,g){var h=Ext.fly(this.dom.parentNode,"_internal");return h?h.findParent(j,i,g):null},up:function(h,g){return this.findParentNode(h,g,true)},select:function(g){return Ext.Element.select(g,this.dom)},query:function(g){return e.select(g,this.dom)},child:function(g,h){var i=e.selectNode(g,this.dom);return h?i:a(i)},down:function(g,h){var i=e.selectNode(" > "+g,this.dom);return h?i:a(i)},parent:function(g,h){return this.matchNode(d,d,g,h)},next:function(g,h){return this.matchNode(b,b,g,h)},prev:function(g,h){return this.matchNode(c,c,g,h)},first:function(g,h){return this.matchNode(b,"firstChild",g,h)},last:function(g,h){return this.matchNode(c,"lastChild",g,h)},matchNode:function(h,k,g,i){var j=this.dom[k];while(j){if(j.nodeType==1&&(!g||e.is(j,g))){return !i?a(j):j}j=j[h]}return null}}}());Ext.Element.addMethods(function(){var c=Ext.getDom,a=Ext.get,b=Ext.DomHelper;return{appendChild:function(d){return a(d).appendTo(this)},appendTo:function(d){c(d).appendChild(this.dom);return this},insertBefore:function(d){(d=c(d)).parentNode.insertBefore(this.dom,d);return this},insertAfter:function(d){(d=c(d)).parentNode.insertBefore(this.dom,d.nextSibling);return this},insertFirst:function(e,d){e=e||{};if(e.nodeType||e.dom||typeof e=="string"){e=c(e);this.dom.insertBefore(e,this.dom.firstChild);return !d?a(e):e}else{return this.createChild(e,this.dom.firstChild,d)}},replace:function(d){d=a(d);this.insertBefore(d);d.remove();return this},replaceWith:function(d){var e=this;if(d.nodeType||d.dom||typeof d=="string"){d=c(d);e.dom.parentNode.insertBefore(d,e.dom)}else{d=b.insertBefore(e.dom,d)}delete Ext.elCache[e.id];Ext.removeNode(e.dom);e.id=Ext.id(e.dom=d);Ext.Element.addToCache(e.isFlyweight?new Ext.Element(e.dom):e);return e},createChild:function(e,d,g){e=e||{tag:"div"};return d?b.insertBefore(d,e,g!==true):b[!this.dom.firstChild?"overwrite":"append"](this.dom,e,g!==true)},wrap:function(d,e){var g=b.insertBefore(this.dom,d||{tag:"div"},!e);g.dom?g.dom.appendChild(this.dom):g.appendChild(this.dom);return g},insertHtml:function(e,g,d){var h=b.insertHtml(e,this.dom,g);return d?Ext.get(h):h}}}());Ext.Element.addMethods(function(){var A=Ext.supports,h={},x=/(-[a-z])/gi,s=document.defaultView,D=/alpha\(opacity=(.*)\)/i,l=/^\s+|\s+$/g,B=Ext.Element,u=/\s+/,b=/\w/g,d="padding",c="margin",y="border",t="-left",q="-right",w="-top",o="-bottom",j="-width",r=Math,z="hidden",e="isClipped",k="overflow",n="overflow-x",m="overflow-y",C="originalClip",i={l:y+t+j,r:y+q+j,t:y+w+j,b:y+o+j},g={l:d+t,r:d+q,t:d+w,b:d+o},a={l:c+t,r:c+q,t:c+w,b:c+o},E=Ext.Element.data;function p(F,G){return G.charAt(1).toUpperCase()}function v(F){return h[F]||(h[F]=F=="float"?(A.cssFloat?"cssFloat":"styleFloat"):F.replace(x,p))}return{adjustWidth:function(F){var G=this;var H=(typeof F=="number");if(H&&G.autoBoxAdjust&&!G.isBorderBox()){F-=(G.getBorderWidth("lr")+G.getPadding("lr"))}return(H&&F<0)?0:F},adjustHeight:function(F){var G=this;var H=(typeof F=="number");if(H&&G.autoBoxAdjust&&!G.isBorderBox()){F-=(G.getBorderWidth("tb")+G.getPadding("tb"))}return(H&&F<0)?0:F},addClass:function(J){var K=this,I,F,H,G=[];if(!Ext.isArray(J)){if(typeof J=="string"&&!this.hasClass(J)){K.dom.className+=" "+J}}else{for(I=0,F=J.length;I<F;I++){H=J[I];if(typeof H=="string"&&(" "+K.dom.className+" ").indexOf(" "+H+" ")==-1){G.push(H)}}if(G.length){K.dom.className+=" "+G.join(" ")}}return K},removeClass:function(K){var L=this,J,G,F,I,H;if(!Ext.isArray(K)){K=[K]}if(L.dom&&L.dom.className){H=L.dom.className.replace(l,"").split(u);for(J=0,F=K.length;J<F;J++){I=K[J];if(typeof I=="string"){I=I.replace(l,"");G=H.indexOf(I);if(G!=-1){H.splice(G,1)}}}L.dom.className=H.join(" ")}return L},radioClass:function(I){var J=this.dom.parentNode.childNodes,G,H,F;I=Ext.isArray(I)?I:[I];for(H=0,F=J.length;H<F;H++){G=J[H];if(G&&G.nodeType==1){Ext.fly(G,"_internal").removeClass(I)}}return this.addClass(I)},toggleClass:function(F){return this.hasClass(F)?this.removeClass(F):this.addClass(F)},hasClass:function(F){return F&&(" "+this.dom.className+" ").indexOf(" "+F+" ")!=-1},replaceClass:function(G,F){return this.removeClass(G).addClass(F)},isStyle:function(F,G){return this.getStyle(F)==G},getStyle:function(){return s&&s.getComputedStyle?function(K){var I=this.dom,F,H,G,J;if(I==document){return null}K=v(K);G=(F=I.style[K])?F:(H=s.getComputedStyle(I,""))?H[K]:null;if(K=="marginRight"&&G!="0px"&&!A.correctRightMargin){J=I.style.display;I.style.display="inline-block";G=s.getComputedStyle(I,"").marginRight;I.style.display=J}if(K=="backgroundColor"&&G=="rgba(0, 0, 0, 0)"&&!A.correctTransparentColor){G="transparent"}return G}:function(J){var H=this.dom,F,G;if(H==document){return null}if(J=="opacity"){if(H.style.filter.match){if(F=H.style.filter.match(D)){var I=parseFloat(F[1]);if(!isNaN(I)){return I?I/100:0}}}return 1}J=v(J);return H.style[J]||((G=H.currentStyle)?G[J]:null)}}(),getColor:function(F,G,K){var I=this.getStyle(F),H=(typeof K!="undefined")?K:"#",J;if(!I||(/transparent|inherit/.test(I))){return G}if(/^r/.test(I)){Ext.each(I.slice(4,I.length-1).split(","),function(L){J=parseInt(L,10);H+=(J<16?"0":"")+J.toString(16)})}else{I=I.replace("#","");H+=I.length==3?I.replace(/^(\w)(\w)(\w)$/,"$1$1$2$2$3$3"):I}return(H.length>5?H.toLowerCase():G)},setStyle:function(I,H){var F,G;if(typeof I!="object"){F={};F[I]=H;I=F}for(G in I){H=I[G];G=="opacity"?this.setOpacity(H):this.dom.style[v(G)]=H}return this},setOpacity:function(G,F){var J=this,H=J.dom.style;if(!F||!J.anim){if(Ext.isIE){var I=G<1?"alpha(opacity="+G*100+")":"",K=H.filter.replace(D,"").replace(l,"");H.zoom=1;H.filter=K+(K.length>0?" ":"")+I}else{H.opacity=G}}else{J.anim({opacity:{to:G}},J.preanim(arguments,1),null,0.35,"easeIn")}return J},clearOpacity:function(){var F=this.dom.style;if(Ext.isIE){if(!Ext.isEmpty(F.filter)){F.filter=F.filter.replace(D,"").replace(l,"")}}else{F.opacity=F["-moz-opacity"]=F["-khtml-opacity"]=""}return this},getHeight:function(H){var G=this,J=G.dom,I=Ext.isIE&&G.isStyle("display","none"),F=r.max(J.offsetHeight,I?0:J.clientHeight)||0;F=!H?F:F-G.getBorderWidth("tb")-G.getPadding("tb");return F<0?0:F},getWidth:function(G){var H=this,J=H.dom,I=Ext.isIE&&H.isStyle("display","none"),F=r.max(J.offsetWidth,I?0:J.clientWidth)||0;F=!G?F:F-H.getBorderWidth("lr")-H.getPadding("lr");return F<0?0:F},setWidth:function(G,F){var H=this;G=H.adjustWidth(G);!F||!H.anim?H.dom.style.width=H.addUnits(G):H.anim({width:{to:G}},H.preanim(arguments,1));return H},setHeight:function(F,G){var H=this;F=H.adjustHeight(F);!G||!H.anim?H.dom.style.height=H.addUnits(F):H.anim({height:{to:F}},H.preanim(arguments,1));return H},getBorderWidth:function(F){return this.addStyles(F,i)},getPadding:function(F){return this.addStyles(F,g)},clip:function(){var F=this,G=F.dom;if(!E(G,e)){E(G,e,true);E(G,C,{o:F.getStyle(k),x:F.getStyle(n),y:F.getStyle(m)});F.setStyle(k,z);F.setStyle(n,z);F.setStyle(m,z)}return F},unclip:function(){var F=this,H=F.dom;if(E(H,e)){E(H,e,false);var G=E(H,C);if(G.o){F.setStyle(k,G.o)}if(G.x){F.setStyle(n,G.x)}if(G.y){F.setStyle(m,G.y)}}return F},addStyles:function(M,L){var J=0,K=M.match(b),I,H,G,F=K.length;for(G=0;G<F;G++){I=K[G];H=I&&parseInt(this.getStyle(L[I]),10);if(H){J+=r.abs(H)}}return J},margins:a}}());(function(){var a=Ext.lib.Dom,b="left",g="right",d="top",i="bottom",h="position",c="static",e="relative",j="auto",k="z-index";Ext.Element.addMethods({getX:function(){return a.getX(this.dom)},getY:function(){return a.getY(this.dom)},getXY:function(){return a.getXY(this.dom)},getOffsetsTo:function(l){var n=this.getXY(),m=Ext.fly(l,"_internal").getXY();return[n[0]-m[0],n[1]-m[1]]},setX:function(l,m){return this.setXY([l,this.getY()],this.animTest(arguments,m,1))},setY:function(m,l){return this.setXY([this.getX(),m],this.animTest(arguments,l,1))},setLeft:function(l){this.setStyle(b,this.addUnits(l));return this},setTop:function(l){this.setStyle(d,this.addUnits(l));return this},setRight:function(l){this.setStyle(g,this.addUnits(l));return this},setBottom:function(l){this.setStyle(i,this.addUnits(l));return this},setXY:function(n,l){var m=this;if(!l||!m.anim){a.setXY(m.dom,n)}else{m.anim({points:{to:n}},m.preanim(arguments,1),"motion")}return m},setLocation:function(l,n,m){return this.setXY([l,n],this.animTest(arguments,m,2))},moveTo:function(l,n,m){return this.setXY([l,n],this.animTest(arguments,m,2))},getLeft:function(l){return !l?this.getX():parseInt(this.getStyle(b),10)||0},getRight:function(l){var m=this;return !l?m.getX()+m.getWidth():(m.getLeft(true)+m.getWidth())||0},getTop:function(l){return !l?this.getY():parseInt(this.getStyle(d),10)||0},getBottom:function(l){var m=this;return !l?m.getY()+m.getHeight():(m.getTop(true)+m.getHeight())||0},position:function(p,o,l,n){var m=this;if(!p&&m.isStyle(h,c)){m.setStyle(h,e)}else{if(p){m.setStyle(h,p)}}if(o){m.setStyle(k,o)}if(l||n){m.setXY([l||false,n||false])}},clearPositioning:function(l){l=l||"";this.setStyle({left:l,right:l,top:l,bottom:l,"z-index":"",position:c});return this},getPositioning:function(){var m=this.getStyle(b);var n=this.getStyle(d);return{position:this.getStyle(h),left:m,right:m?"":this.getStyle(g),top:n,bottom:n?"":this.getStyle(i),"z-index":this.getStyle(k)}},setPositioning:function(l){var n=this,m=n.dom.style;n.setStyle(l);if(l.right==j){m.right=""}if(l.bottom==j){m.bottom=""}return n},translatePoints:function(m,u){u=isNaN(m[1])?u:m[1];m=isNaN(m[0])?m:m[0];var q=this,r=q.isStyle(h,e),s=q.getXY(),n=parseInt(q.getStyle(b),10),p=parseInt(q.getStyle(d),10);n=!isNaN(n)?n:(r?0:q.dom.offsetLeft);p=!isNaN(p)?p:(r?0:q.dom.offsetTop);return{left:(m-s[0]+n),top:(u-s[1]+p)}},animTest:function(m,l,n){return !!l&&this.preanim?this.preanim(m,n):false}})})();Ext.Element.addMethods({isScrollable:function(){var a=this.dom;return a.scrollHeight>a.clientHeight||a.scrollWidth>a.clientWidth},scrollTo:function(a,b){this.dom["scroll"+(/top/i.test(a)?"Top":"Left")]=b;return this},getScroll:function(){var i=this.dom,h=document,a=h.body,c=h.documentElement,b,g,e;if(i==h||i==a){if(Ext.isIE&&Ext.isStrict){b=c.scrollLeft;g=c.scrollTop}else{b=window.pageXOffset;g=window.pageYOffset}e={left:b||(a?a.scrollLeft:0),top:g||(a?a.scrollTop:0)}}else{e={left:i.scrollLeft,top:i.scrollTop}}return e}});Ext.Element.VISIBILITY=1;Ext.Element.DISPLAY=2;Ext.Element.OFFSETS=3;Ext.Element.ASCLASS=4;Ext.Element.visibilityCls="x-hide-nosize";Ext.Element.addMethods(function(){var e=Ext.Element,p="opacity",j="visibility",g="display",d="hidden",n="offsets",k="asclass",m="none",a="nosize",b="originalDisplay",c="visibilityMode",h="isVisible",i=e.data,l=function(r){var q=i(r,b);if(q===undefined){i(r,b,q="")}return q},o=function(r){var q=i(r,c);if(q===undefined){i(r,c,q=1)}return q};return{originalDisplay:"",visibilityMode:1,setVisibilityMode:function(q){i(this.dom,c,q);return this},animate:function(r,t,s,u,q){this.anim(r,{duration:t,callback:s,easing:u},q);return this},anim:function(t,u,r,w,s,q){r=r||"run";u=u||{};var v=this,x=Ext.lib.Anim[r](v.dom,t,(u.duration||w)||0.35,(u.easing||s)||"easeOut",function(){if(q){q.call(v)}if(u.callback){u.callback.call(u.scope||v,v,u)}},v);u.anim=x;return x},preanim:function(q,r){return !q[r]?false:(typeof q[r]=="object"?q[r]:{duration:q[r+1],callback:q[r+2],easing:q[r+3]})},isVisible:function(){var q=this,s=q.dom,r=i(s,h);if(typeof r=="boolean"){return r}r=!q.isStyle(j,d)&&!q.isStyle(g,m)&&!((o(s)==e.ASCLASS)&&q.hasClass(q.visibilityCls||e.visibilityCls));i(s,h,r);return r},setVisible:function(t,q){var w=this,r,y,x,v,u=w.dom,s=o(u);if(typeof q=="string"){switch(q){case g:s=e.DISPLAY;break;case j:s=e.VISIBILITY;break;case n:s=e.OFFSETS;break;case a:case k:s=e.ASCLASS;break}w.setVisibilityMode(s);q=false}if(!q||!w.anim){if(s==e.ASCLASS){w[t?"removeClass":"addClass"](w.visibilityCls||e.visibilityCls)}else{if(s==e.DISPLAY){return w.setDisplayed(t)}else{if(s==e.OFFSETS){if(!t){w.hideModeStyles={position:w.getStyle("position"),top:w.getStyle("top"),left:w.getStyle("left")};w.applyStyles({position:"absolute",top:"-10000px",left:"-10000px"})}else{w.applyStyles(w.hideModeStyles||{position:"",top:"",left:""});delete w.hideModeStyles}}else{w.fixDisplay();u.style.visibility=t?"visible":d}}}}else{if(t){w.setOpacity(0.01);w.setVisible(true)}w.anim({opacity:{to:(t?1:0)}},w.preanim(arguments,1),null,0.35,"easeIn",function(){t||w.setVisible(false).setOpacity(1)})}i(u,h,t);return w},hasMetrics:function(){var q=this.dom;return this.isVisible()||(o(q)==e.VISIBILITY)},toggle:function(q){var r=this;r.setVisible(!r.isVisible(),r.preanim(arguments,0));return r},setDisplayed:function(q){if(typeof q=="boolean"){q=q?l(this.dom):m}this.setStyle(g,q);return this},fixDisplay:function(){var q=this;if(q.isStyle(g,m)){q.setStyle(j,d);q.setStyle(g,l(this.dom));if(q.isStyle(g,m)){q.setStyle(g,"block")}}},hide:function(q){if(typeof q=="string"){this.setVisible(false,q);return this}this.setVisible(false,this.preanim(arguments,0));return this},show:function(q){if(typeof q=="string"){this.setVisible(true,q);return this}this.setVisible(true,this.preanim(arguments,0));return this}}}());(function(){var y=null,A=undefined,k=true,t=false,j="setX",h="setY",a="setXY",n="left",l="bottom",s="top",m="right",q="height",g="width",i="points",w="hidden",z="absolute",u="visible",e="motion",o="position",r="easeOut",d=new Ext.Element.Flyweight(),v={},x=function(B){return B||{}},p=function(B){d.dom=B;d.id=Ext.id(B);return d},c=function(B){if(!v[B]){v[B]=[]}return v[B]},b=function(C,B){v[C]=B};Ext.enableFx=k;Ext.Fx={switchStatements:function(C,D,B){return D.apply(this,B[C])},slideIn:function(H,E){E=x(E);var J=this,G=J.dom,M=G.style,O,B,L,D,C,M,I,N,K,F;H=H||"t";J.queueFx(E,function(){O=p(G).getXY();p(G).fixDisplay();B=p(G).getFxRestore();L={x:O[0],y:O[1],0:O[0],1:O[1],width:G.offsetWidth,height:G.offsetHeight};L.right=L.x+L.width;L.bottom=L.y+L.height;p(G).setWidth(L.width).setHeight(L.height);D=p(G).fxWrap(B.pos,E,w);M.visibility=u;M.position=z;function P(){p(G).fxUnwrap(D,B.pos,E);M.width=B.width;M.height=B.height;p(G).afterFx(E)}N={to:[L.x,L.y]};K={to:L.width};F={to:L.height};function Q(U,R,V,S,X,Z,ac,ab,aa,W,T){var Y={};p(U).setWidth(V).setHeight(S);if(p(U)[X]){p(U)[X](Z)}R[ac]=R[ab]="0";if(aa){Y.width=aa}if(W){Y.height=W}if(T){Y.points=T}return Y}I=p(G).switchStatements(H.toLowerCase(),Q,{t:[D,M,L.width,0,y,y,n,l,y,F,y],l:[D,M,0,L.height,y,y,m,s,K,y,y],r:[D,M,L.width,L.height,j,L.right,n,s,y,y,N],b:[D,M,L.width,L.height,h,L.bottom,n,s,y,F,N],tl:[D,M,0,0,y,y,m,l,K,F,N],bl:[D,M,0,0,h,L.y+L.height,m,s,K,F,N],br:[D,M,0,0,a,[L.right,L.bottom],n,s,K,F,N],tr:[D,M,0,0,j,L.x+L.width,n,l,K,F,N]});M.visibility=u;p(D).show();arguments.callee.anim=p(D).fxanim(I,E,e,0.5,r,P)});return J},slideOut:function(F,D){D=x(D);var H=this,E=H.dom,K=E.style,L=H.getXY(),C,B,I,J,G={to:0};F=F||"t";H.queueFx(D,function(){B=p(E).getFxRestore();I={x:L[0],y:L[1],0:L[0],1:L[1],width:E.offsetWidth,height:E.offsetHeight};I.right=I.x+I.width;I.bottom=I.y+I.height;p(E).setWidth(I.width).setHeight(I.height);C=p(E).fxWrap(B.pos,D,u);K.visibility=u;K.position=z;p(C).setWidth(I.width).setHeight(I.height);function M(){D.useDisplay?p(E).setDisplayed(t):p(E).hide();p(E).fxUnwrap(C,B.pos,D);K.width=B.width;K.height=B.height;p(E).afterFx(D)}function N(O,W,U,X,S,V,R,T,Q){var P={};O[W]=O[U]="0";P[X]=S;if(V){P[V]=R}if(T){P[T]=Q}return P}J=p(E).switchStatements(F.toLowerCase(),N,{t:[K,n,l,q,G],l:[K,m,s,g,G],r:[K,n,s,g,G,i,{to:[I.right,I.y]}],b:[K,n,s,q,G,i,{to:[I.x,I.bottom]}],tl:[K,m,l,g,G,q,G],bl:[K,m,s,g,G,q,G,i,{to:[I.x,I.bottom]}],br:[K,n,s,g,G,q,G,i,{to:[I.x+I.width,I.bottom]}],tr:[K,n,l,g,G,q,G,i,{to:[I.right,I.y]}]});arguments.callee.anim=p(C).fxanim(J,D,e,0.5,r,M)});return H},puff:function(H){H=x(H);var F=this,G=F.dom,C=G.style,D,B,E;F.queueFx(H,function(){D=p(G).getWidth();B=p(G).getHeight();p(G).clearOpacity();p(G).show();E=p(G).getFxRestore();function I(){H.useDisplay?p(G).setDisplayed(t):p(G).hide();p(G).clearOpacity();p(G).setPositioning(E.pos);C.width=E.width;C.height=E.height;C.fontSize="";p(G).afterFx(H)}arguments.callee.anim=p(G).fxanim({width:{to:p(G).adjustWidth(D*2)},height:{to:p(G).adjustHeight(B*2)},points:{by:[-D*0.5,-B*0.5]},opacity:{to:0},fontSize:{to:200,unit:"%"}},H,e,0.5,r,I)});return F},switchOff:function(F){F=x(F);var D=this,E=D.dom,B=E.style,C;D.queueFx(F,function(){p(E).clearOpacity();p(E).clip();C=p(E).getFxRestore();function G(){F.useDisplay?p(E).setDisplayed(t):p(E).hide();p(E).clearOpacity();p(E).setPositioning(C.pos);B.width=C.width;B.height=C.height;p(E).afterFx(F)}p(E).fxanim({opacity:{to:0.3}},y,y,0.1,y,function(){p(E).clearOpacity();(function(){p(E).fxanim({height:{to:1},points:{by:[0,p(E).getHeight()*0.5]}},F,e,0.3,"easeIn",G)}).defer(100)})});return D},highlight:function(D,H){H=x(H);var F=this,G=F.dom,B=H.attr||"backgroundColor",C={},E;F.queueFx(H,function(){p(G).clearOpacity();p(G).show();function I(){G.style[B]=E;p(G).afterFx(H)}E=G.style[B];C[B]={from:D||"ffff9c",to:H.endColor||p(G).getColor(B)||"ffffff"};arguments.callee.anim=p(G).fxanim(C,H,"color",1,"easeIn",I)});return F},frame:function(B,E,H){H=x(H);var D=this,G=D.dom,C,F;D.queueFx(H,function(){B=B||"#C3DAF9";if(B.length==6){B="#"+B}E=E||1;p(G).show();var L=p(G).getXY(),J={x:L[0],y:L[1],0:L[0],1:L[1],width:G.offsetWidth,height:G.offsetHeight},I=function(){C=p(document.body||document.documentElement).createChild({style:{position:z,"z-index":35000,border:"0px solid "+B}});return C.queueFx({},K)};arguments.callee.anim={isAnimated:true,stop:function(){E=0;C.stopFx()}};function K(){var M=Ext.isBorderBox?2:1;F=C.anim({top:{from:J.y,to:J.y-20},left:{from:J.x,to:J.x-20},borderWidth:{from:0,to:10},opacity:{from:1,to:0},height:{from:J.height,to:J.height+20*M},width:{from:J.width,to:J.width+20*M}},{duration:H.duration||1,callback:function(){C.remove();--E>0?I():p(G).afterFx(H)}});arguments.callee.anim={isAnimated:true,stop:function(){F.stop()}}}I()});return D},pause:function(D){var C=this.dom,B;this.queueFx({},function(){B=setTimeout(function(){p(C).afterFx({})},D*1000);arguments.callee.anim={isAnimated:true,stop:function(){clearTimeout(B);p(C).afterFx({})}}});return this},fadeIn:function(D){D=x(D);var B=this,C=B.dom,E=D.endOpacity||1;B.queueFx(D,function(){p(C).setOpacity(0);p(C).fixDisplay();C.style.visibility=u;arguments.callee.anim=p(C).fxanim({opacity:{to:E}},D,y,0.5,r,function(){if(E==1){p(C).clearOpacity()}p(C).afterFx(D)})});return B},fadeOut:function(E){E=x(E);var C=this,D=C.dom,B=D.style,F=E.endOpacity||0;C.queueFx(E,function(){arguments.callee.anim=p(D).fxanim({opacity:{to:F}},E,y,0.5,r,function(){if(F==0){Ext.Element.data(D,"visibilityMode")==Ext.Element.DISPLAY||E.useDisplay?B.display="none":B.visibility=w;p(D).clearOpacity()}p(D).afterFx(E)})});return C},scale:function(B,C,D){this.shift(Ext.apply({},D,{width:B,height:C}));return this},shift:function(D){D=x(D);var C=this.dom,B={};this.queueFx(D,function(){for(var E in D){if(D[E]!=A){B[E]={to:D[E]}}}B.width?B.width.to=p(C).adjustWidth(D.width):B;B.height?B.height.to=p(C).adjustWidth(D.height):B;if(B.x||B.y||B.xy){B.points=B.xy||{to:[B.x?B.x.to:p(C).getX(),B.y?B.y.to:p(C).getY()]}}arguments.callee.anim=p(C).fxanim(B,D,e,0.35,r,function(){p(C).afterFx(D)})});return this},ghost:function(E,C){C=x(C);var G=this,D=G.dom,J=D.style,H={opacity:{to:0},points:{}},K=H.points,B,I,F;E=E||"b";G.queueFx(C,function(){B=p(D).getFxRestore();I=p(D).getWidth();F=p(D).getHeight();function L(){C.useDisplay?p(D).setDisplayed(t):p(D).hide();p(D).clearOpacity();p(D).setPositioning(B.pos);J.width=B.width;J.height=B.height;p(D).afterFx(C)}K.by=p(D).switchStatements(E.toLowerCase(),function(N,M){return[N,M]},{t:[0,-F],l:[-I,0],r:[I,0],b:[0,F],tl:[-I,-F],bl:[-I,F],br:[I,F],tr:[I,-F]});arguments.callee.anim=p(D).fxanim(H,C,e,0.5,r,L)});return G},syncFx:function(){var B=this;B.fxDefaults=Ext.apply(B.fxDefaults||{},{block:t,concurrent:k,stopFx:t});return B},sequenceFx:function(){var B=this;B.fxDefaults=Ext.apply(B.fxDefaults||{},{block:t,concurrent:t,stopFx:t});return B},nextFx:function(){var B=c(this.dom.id)[0];if(B){B.call(this)}},hasActiveFx:function(){return c(this.dom.id)[0]},stopFx:function(B){var C=this,E=C.dom.id;if(C.hasActiveFx()){var D=c(E)[0];if(D&&D.anim){if(D.anim.isAnimated){b(E,[D]);D.anim.stop(B!==undefined?B:k)}else{b(E,[])}}}return C},beforeFx:function(B){if(this.hasActiveFx()&&!B.concurrent){if(B.stopFx){this.stopFx();return k}return t}return k},hasFxBlock:function(){var B=c(this.dom.id);return B&&B[0]&&B[0].block},queueFx:function(E,B){var C=p(this.dom);if(!C.hasFxBlock()){Ext.applyIf(E,C.fxDefaults);if(!E.concurrent){var D=C.beforeFx(E);B.block=E.block;c(C.dom.id).push(B);if(D){C.nextFx()}}else{B.call(C)}}return C},fxWrap:function(H,F,D){var E=this.dom,C,B;if(!F.wrap||!(C=Ext.getDom(F.wrap))){if(F.fixPosition){B=p(E).getXY()}var G=document.createElement("div");G.style.visibility=D;C=E.parentNode.insertBefore(G,E);p(C).setPositioning(H);if(p(C).isStyle(o,"static")){p(C).position("relative")}p(E).clearPositioning("auto");p(C).clip();C.appendChild(E);if(B){p(C).setXY(B)}}return C},fxUnwrap:function(C,F,E){var D=this.dom;p(D).clearPositioning();p(D).setPositioning(F);if(!E.wrap){var B=p(C).dom.parentNode;B.insertBefore(D,C);p(C).remove()}},getFxRestore:function(){var B=this.dom.style;return{pos:this.getPositioning(),width:B.width,height:B.height}},afterFx:function(C){var B=this.dom,D=B.id;if(C.afterStyle){p(B).setStyle(C.afterStyle)}if(C.afterCls){p(B).addClass(C.afterCls)}if(C.remove==k){p(B).remove()}if(C.callback){C.callback.call(C.scope,p(B))}if(!C.concurrent){c(D).shift();p(B).nextFx()}},fxanim:function(E,F,C,G,D,B){C=C||"run";F=F||{};var H=Ext.lib.Anim[C](this.dom,E,(F.duration||G)||0.35,(F.easing||D)||r,B,this);F.anim=H;return H}};Ext.Fx.resize=Ext.Fx.scale;Ext.Element.addMethods(Ext.Fx)})();Ext.CompositeElementLite=function(b,a){this.elements=[];this.add(b,a);this.el=new Ext.Element.Flyweight()};Ext.CompositeElementLite.prototype={isComposite:true,getElement:function(a){var b=this.el;b.dom=a;b.id=a.id;return b},transformElement:function(a){return Ext.getDom(a)},getCount:function(){return this.elements.length},add:function(d,b){var e=this,g=e.elements;if(!d){return this}if(typeof d=="string"){d=Ext.Element.selectorFunction(d,b)}else{if(d.isComposite){d=d.elements}else{if(!Ext.isIterable(d)){d=[d]}}}for(var c=0,a=d.length;c<a;++c){g.push(e.transformElement(d[c]))}return e},invoke:function(g,b){var h=this,d=h.elements,a=d.length,j,c;for(c=0;c<a;c++){j=d[c];if(j){Ext.Element.prototype[g].apply(h.getElement(j),b)}}return h},item:function(b){var d=this,c=d.elements[b],a=null;if(c){a=d.getElement(c)}return a},addListener:function(b,j,h,g){var d=this.elements,a=d.length,c,k;for(c=0;c<a;c++){k=d[c];if(k){Ext.EventManager.on(k,b,j,h||k,g)}}return this},each:function(g,d){var h=this,c=h.elements,a=c.length,b,j;for(b=0;b<a;b++){j=c[b];if(j){j=this.getElement(j);if(g.call(d||j,j,h,b)===false){break}}}return h},fill:function(a){var b=this;b.elements=[];b.add(a);return b},filter:function(a){var b=[],d=this,c=Ext.isFunction(a)?a:function(e){return e.is(a)};d.each(function(h,e,g){if(c(h,g)!==false){b[b.length]=d.transformElement(h)}});d.elements=b;return d},indexOf:function(a){return this.elements.indexOf(this.transformElement(a))},replaceElement:function(e,c,a){var b=!isNaN(e)?e:this.indexOf(e),g;if(b>-1){c=Ext.getDom(c);if(a){g=this.elements[b];g.parentNode.insertBefore(c,g);Ext.removeNode(g)}this.elements.splice(b,1,c)}return this},clear:function(){this.elements=[]}};Ext.CompositeElementLite.prototype.on=Ext.CompositeElementLite.prototype.addListener;Ext.CompositeElementLite.importElementMethods=function(){var c,b=Ext.Element.prototype,a=Ext.CompositeElementLite.prototype;for(c in b){if(typeof b[c]=="function"){(function(d){a[d]=a[d]||function(){return this.invoke(d,arguments)}}).call(a,c)}}};Ext.CompositeElementLite.importElementMethods();if(Ext.DomQuery){Ext.Element.selectorFunction=Ext.DomQuery.select}Ext.Element.select=function(a,b){var c;if(typeof a=="string"){c=Ext.Element.selectorFunction(a,b)}else{if(a.length!==undefined){c=a}else{throw"Invalid selector"}}return new Ext.CompositeElementLite(c)};Ext.select=Ext.Element.select;(function(){var b="beforerequest",e="requestcomplete",d="requestexception",h=undefined,c="load",i="POST",a="GET",g=window;Ext.data.Connection=function(j){Ext.apply(this,j);this.addEvents(b,e,d);Ext.data.Connection.superclass.constructor.call(this)};Ext.extend(Ext.data.Connection,Ext.util.Observable,{timeout:30000,autoAbort:false,disableCaching:true,disableCachingParam:"_dc",request:function(n){var s=this;if(s.fireEvent(b,s,n)){if(n.el){if(!Ext.isEmpty(n.indicatorText)){s.indicatorText='<div class="loading-indicator">'+n.indicatorText+"</div>"}if(s.indicatorText){Ext.getDom(n.el).innerHTML=s.indicatorText}n.success=(Ext.isFunction(n.success)?n.success:function(){}).createInterceptor(function(o){Ext.getDom(n.el).innerHTML=o.responseText})}var l=n.params,k=n.url||s.url,j,q={success:s.handleResponse,failure:s.handleFailure,scope:s,argument:{options:n},timeout:Ext.num(n.timeout,s.timeout)},m,t;if(Ext.isFunction(l)){l=l.call(n.scope||g,n)}l=Ext.urlEncode(s.extraParams,Ext.isObject(l)?Ext.urlEncode(l):l);if(Ext.isFunction(k)){k=k.call(n.scope||g,n)}if((m=Ext.getDom(n.form))){k=k||m.action;if(n.isUpload||(/multipart\/form-data/i.test(m.getAttribute("enctype")))){return s.doFormUpload.call(s,n,l,k)}t=Ext.lib.Ajax.serializeForm(m);l=l?(l+"&"+t):t}j=n.method||s.method||((l||n.xmlData||n.jsonData)?i:a);if(j===a&&(s.disableCaching&&n.disableCaching!==false)||n.disableCaching===true){var r=n.disableCachingParam||s.disableCachingParam;k=Ext.urlAppend(k,r+"="+(new Date().getTime()))}n.headers=Ext.applyIf(n.headers||{},s.defaultHeaders||{});if(n.autoAbort===true||s.autoAbort){s.abort()}if((j==a||n.xmlData||n.jsonData)&&l){k=Ext.urlAppend(k,l);l=""}return(s.transId=Ext.lib.Ajax.request(j,k,q,l,n))}else{return n.callback?n.callback.apply(n.scope,[n,h,h]):null}},isLoading:function(j){return j?Ext.lib.Ajax.isCallInProgress(j):!!this.transId},abort:function(j){if(j||this.isLoading()){Ext.lib.Ajax.abort(j||this.transId)}},handleResponse:function(j){this.transId=false;var k=j.argument.options;j.argument=k?k.argument:null;this.fireEvent(e,this,j,k);if(k.success){k.success.call(k.scope,j,k)}if(k.callback){k.callback.call(k.scope,k,true,j)}},handleFailure:function(j,l){this.transId=false;var k=j.argument.options;j.argument=k?k.argument:null;this.fireEvent(d,this,j,k,l);if(k.failure){k.failure.call(k.scope,j,k)}if(k.callback){k.callback.call(k.scope,k,false,j)}},doFormUpload:function(q,j,k){var l=Ext.id(),v=document,r=v.createElement("iframe"),m=Ext.getDom(q.form),u=[],t,p="multipart/form-data",n={target:m.target,method:m.method,encoding:m.encoding,enctype:m.enctype,action:m.action};Ext.fly(r).set({id:l,name:l,cls:"x-hidden",src:Ext.SSL_SECURE_URL});v.body.appendChild(r);if(Ext.isIE){document.frames[l].name=l}Ext.fly(m).set({target:l,method:i,enctype:p,encoding:p,action:k||n.action});Ext.iterate(Ext.urlDecode(j,false),function(w,o){t=v.createElement("input");Ext.fly(t).set({type:"hidden",value:o,name:w});m.appendChild(t);u.push(t)});function s(){var x=this,w={responseText:"",responseXML:null,argument:q.argument},A,z;try{A=r.contentWindow.document||r.contentDocument||g.frames[l].document;if(A){if(A.body){if(/textarea/i.test((z=A.body.firstChild||{}).tagName)){w.responseText=z.value}else{w.responseText=A.body.innerHTML}}w.responseXML=A.XMLDocument||A}}catch(y){}Ext.EventManager.removeListener(r,c,s,x);x.fireEvent(e,x,w,q);function o(D,C,B){if(Ext.isFunction(D)){D.apply(C,B)}}o(q.success,q.scope,[w,q]);o(q.callback,q.scope,[q,true,w]);if(!x.debugUploads){setTimeout(function(){Ext.removeNode(r)},100)}}Ext.EventManager.on(r,c,s,this);m.submit();Ext.fly(m).set(n);Ext.each(u,function(o){Ext.removeNode(o)})}})})();Ext.Ajax=new Ext.data.Connection({autoAbort:false,serializeForm:function(a){return Ext.lib.Ajax.serializeForm(a)}});Ext.util.JSON=new (function(){var useHasOwn=!!{}.hasOwnProperty,isNative=function(){var useNative=null;return function(){if(useNative===null){useNative=Ext.USE_NATIVE_JSON&&window.JSON&&JSON.toString()=="[object JSON]"}return useNative}}(),pad=function(n){return n<10?"0"+n:n},doDecode=function(json){return json?eval("("+json+")"):""},doEncode=function(o){if(!Ext.isDefined(o)||o===null){return"null"}else{if(Ext.isArray(o)){return encodeArray(o)}else{if(Ext.isDate(o)){return Ext.util.JSON.encodeDate(o)}else{if(Ext.isString(o)){return encodeString(o)}else{if(typeof o=="number"){return isFinite(o)?String(o):"null"}else{if(Ext.isBoolean(o)){return String(o)}else{var a=["{"],b,i,v;for(i in o){if(!o.getElementsByTagName){if(!useHasOwn||o.hasOwnProperty(i)){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(doEncode(i),":",v===null?"null":doEncode(v));b=true}}}}a.push("}");return a.join("")}}}}}}},m={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},encodeString=function(s){if(/["\\\x00-\x1f]/.test(s)){return'"'+s.replace(/([\x00-\x1f\\"])/g,function(a,b){var c=m[b];if(c){return c}c=b.charCodeAt();return"\\u00"+Math.floor(c/16).toString(16)+(c%16).toString(16)})+'"'}return'"'+s+'"'},encodeArray=function(o){var a=["["],b,i,l=o.length,v;for(i=0;i<l;i+=1){v=o[i];switch(typeof v){case"undefined":case"function":case"unknown":break;default:if(b){a.push(",")}a.push(v===null?"null":Ext.util.JSON.encode(v));b=true}}a.push("]");return a.join("")};this.encodeDate=function(o){return'"'+o.getFullYear()+"-"+pad(o.getMonth()+1)+"-"+pad(o.getDate())+"T"+pad(o.getHours())+":"+pad(o.getMinutes())+":"+pad(o.getSeconds())+'"'};this.encode=function(){var ec;return function(o){if(!ec){ec=isNative()?JSON.stringify:doEncode}return ec(o)}}();this.decode=function(){var dc;return function(json){if(!dc){dc=isNative()?JSON.parse:doDecode}return dc(json)}}()})();Ext.encode=Ext.util.JSON.encode;Ext.decode=Ext.util.JSON.decode;Ext.EventManager=function(){var z,p,j=false,l=Ext.isGecko||Ext.isWebKit||Ext.isSafari,o=Ext.lib.Event,q=Ext.lib.Dom,c=document,A=window,r="DOMContentLoaded",t="complete",g=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,u=[];function n(E){var H=false,D=0,C=u.length,F=false,G;if(E){if(E.getElementById||E.navigator){for(;D<C;++D){G=u[D];if(G.el===E){H=G.id;break}}if(!H){H=Ext.id(E);u.push({id:H,el:E});F=true}}else{H=Ext.id(E)}if(!Ext.elCache[H]){Ext.Element.addToCache(new Ext.Element(E),H);if(F){Ext.elCache[H].skipGC=true}}}return H}function m(E,G,J,F,D,L){E=Ext.getDom(E);var C=n(E),K=Ext.elCache[C].events,H;H=o.on(E,G,D);K[G]=K[G]||[];K[G].push([J,D,L,H,F]);if(E.addEventListener&&G=="mousewheel"){var I=["DOMMouseScroll",D,false];E.addEventListener.apply(E,I);Ext.EventManager.addListener(A,"unload",function(){E.removeEventListener.apply(E,I)})}if(E==c&&G=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.addListener(D)}}function d(){if(window!=top){return false}try{c.documentElement.doScroll("left")}catch(C){return false}b();return true}function B(C){if(Ext.isIE&&d()){return true}if(c.readyState==t){b();return true}j||(p=setTimeout(arguments.callee,2));return false}var k;function i(C){k||(k=Ext.query("style, link[rel=stylesheet]"));if(k.length==c.styleSheets.length){b();return true}j||(p=setTimeout(arguments.callee,2));return false}function y(C){c.removeEventListener(r,arguments.callee,false);i()}function b(C){if(!j){j=true;if(p){clearTimeout(p)}if(l){c.removeEventListener(r,b,false)}if(Ext.isIE&&B.bindIE){c.detachEvent("onreadystatechange",B)}o.un(A,"load",arguments.callee)}if(z&&!Ext.isReady){Ext.isReady=true;z.fire();z.listeners=[]}}function a(){z||(z=new Ext.util.Event());if(l){c.addEventListener(r,b,false)}if(Ext.isIE){if(!B()){B.bindIE=true;c.attachEvent("onreadystatechange",B)}}else{if(Ext.isOpera){(c.readyState==t&&i())||c.addEventListener(r,y,false)}else{if(Ext.isWebKit){B()}}}o.on(A,"load",b)}function x(C,D){return function(){var E=Ext.toArray(arguments);if(D.target==Ext.EventObject.setEvent(E[0]).target){C.apply(this,E)}}}function w(D,E,C){return function(F){C.delay(E.buffer,D,null,[new Ext.EventObjectImpl(F)])}}function s(G,F,C,E,D){return function(H){Ext.EventManager.removeListener(F,C,E,D);G(H)}}function e(D,E,C){return function(G){var F=new Ext.util.DelayedTask(D);if(!C.tasks){C.tasks=[]}C.tasks.push(F);F.delay(E.delay||10,D,null,[new Ext.EventObjectImpl(G)])}}function h(H,G,C,J,K){var D=(!C||typeof C=="boolean")?{}:C,E=Ext.getDom(H),F;J=J||D.fn;K=K||D.scope;if(!E){throw'Error listening for "'+G+'". Element "'+H+"\" doesn't exist."}function I(M){if(!Ext){return}M=Ext.EventObject.setEvent(M);var L;if(D.delegate){if(!(L=M.getTarget(D.delegate,E))){return}}else{L=M.target}if(D.stopEvent){M.stopEvent()}if(D.preventDefault){M.preventDefault()}if(D.stopPropagation){M.stopPropagation()}if(D.normalized===false){M=M.browserEvent}J.call(K||E,M,L,D)}if(D.target){I=x(I,D)}if(D.delay){I=e(I,D,J)}if(D.single){I=s(I,E,G,J,K)}if(D.buffer){F=new Ext.util.DelayedTask(I);I=w(I,D,F)}m(E,G,J,F,I,K);return I}var v={addListener:function(E,C,G,F,D){if(typeof C=="object"){var J=C,H,I;for(H in J){I=J[H];if(!g.test(H)){if(Ext.isFunction(I)){h(E,H,J,I,J.scope)}else{h(E,H,I)}}}}else{h(E,C,D,G,F)}},removeListener:function(E,I,M,N){E=Ext.getDom(E);var C=n(E),K=E&&(Ext.elCache[C].events)[I]||[],D,H,F,G,J,L;for(H=0,J=K.length;H<J;H++){if(Ext.isArray(L=K[H])&&L[0]==M&&(!N||L[2]==N)){if(L[4]){L[4].cancel()}G=M.tasks&&M.tasks.length;if(G){while(G--){M.tasks[G].cancel()}delete M.tasks}D=L[1];o.un(E,I,o.extAdapter?L[3]:D);if(D&&E.addEventListener&&I=="mousewheel"){E.removeEventListener("DOMMouseScroll",D,false)}if(D&&E==c&&I=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.removeListener(D)}K.splice(H,1);if(K.length===0){delete Ext.elCache[C].events[I]}for(G in Ext.elCache[C].events){return false}Ext.elCache[C].events={};return false}}},removeAll:function(E){E=Ext.getDom(E);var D=n(E),J=Ext.elCache[D]||{},M=J.events||{},I,H,K,F,L,G,C;for(F in M){if(M.hasOwnProperty(F)){I=M[F];for(H=0,K=I.length;H<K;H++){L=I[H];if(L[4]){L[4].cancel()}if(L[0].tasks&&(G=L[0].tasks.length)){while(G--){L[0].tasks[G].cancel()}delete L.tasks}C=L[1];o.un(E,F,o.extAdapter?L[3]:C);if(E.addEventListener&&C&&F=="mousewheel"){E.removeEventListener("DOMMouseScroll",C,false)}if(C&&E==c&&F=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.removeListener(C)}}}}if(Ext.elCache[D]){Ext.elCache[D].events={}}},getListeners:function(F,C){F=Ext.getDom(F);var H=n(F),D=Ext.elCache[H]||{},G=D.events||{},E=[];if(G&&G[C]){return G[C]}else{return null}},purgeElement:function(E,C,G){E=Ext.getDom(E);var D=n(E),J=Ext.elCache[D]||{},K=J.events||{},F,I,H;if(G){if(K&&K.hasOwnProperty(G)){I=K[G];for(F=0,H=I.length;F<H;F++){Ext.EventManager.removeListener(E,G,I[F][0])}}}else{Ext.EventManager.removeAll(E)}if(C&&E&&E.childNodes){for(F=0,H=E.childNodes.length;F<H;F++){Ext.EventManager.purgeElement(E.childNodes[F],C,G)}}},_unload:function(){var C;for(C in Ext.elCache){Ext.EventManager.removeAll(C)}delete Ext.elCache;delete Ext.Element._flyweights;var G,D,F,E=Ext.lib.Ajax;(typeof E.conn=="object")?D=E.conn:D={};for(F in D){G=D[F];if(G){E.abort({conn:G,tId:F})}}},onDocumentReady:function(E,D,C){if(Ext.isReady){z||(z=new Ext.util.Event());z.addListener(E,D,C);z.fire();z.listeners=[]}else{if(!z){a()}C=C||{};C.delay=C.delay||1;z.addListener(E,D,C)}},fireDocReady:b};v.on=v.addListener;v.un=v.removeListener;v.stoppedMouseDownEvent=new Ext.util.Event();return v}();Ext.onReady=Ext.EventManager.onDocumentReady;(function(){var a=function(){var c=document.body||document.getElementsByTagName("body")[0];if(!c){return false}var b=[" ",Ext.isIE?"ext-ie "+(Ext.isIE6?"ext-ie6":(Ext.isIE7?"ext-ie7":(Ext.isIE8?"ext-ie8":"ext-ie9"))):Ext.isGecko?"ext-gecko "+(Ext.isGecko2?"ext-gecko2":"ext-gecko3"):Ext.isOpera?"ext-opera":Ext.isWebKit?"ext-webkit":""];if(Ext.isSafari){b.push("ext-safari "+(Ext.isSafari2?"ext-safari2":(Ext.isSafari3?"ext-safari3":"ext-safari4")))}else{if(Ext.isChrome){b.push("ext-chrome")}}if(Ext.isMac){b.push("ext-mac")}if(Ext.isLinux){b.push("ext-linux")}if(Ext.isStrict||Ext.isBorderBox){var d=c.parentNode;if(d){if(!Ext.isStrict){Ext.fly(d,"_internal").addClass("x-quirks");if(Ext.isIE&&!Ext.isStrict){Ext.isIEQuirks=true}}Ext.fly(d,"_internal").addClass(((Ext.isStrict&&Ext.isIE)||(!Ext.enableForcedBoxModel&&!Ext.isIE))?" ext-strict":" ext-border-box")}}if(Ext.enableForcedBoxModel&&!Ext.isIE){Ext.isForcedBorderBox=true;b.push("ext-forced-border-box")}Ext.fly(c,"_internal").addClass(b);return true};if(!a()){Ext.onReady(a)}})();(function(){var b=Ext.apply(Ext.supports,{correctRightMargin:true,correctTransparentColor:true,cssFloat:true});var a=function(){var g=document.createElement("div"),e=document,c,d;g.innerHTML='<div style="height:30px;width:50px;"><div style="height:20px;width:20px;"></div></div><div style="float:left;background-color:transparent;">';e.body.appendChild(g);d=g.lastChild;if((c=e.defaultView)){if(c.getComputedStyle(g.firstChild.firstChild,null).marginRight!="0px"){b.correctRightMargin=false}if(c.getComputedStyle(d,null).backgroundColor!="transparent"){b.correctTransparentColor=false}}b.cssFloat=!!d.style.cssFloat;e.body.removeChild(g)};if(Ext.isReady){a()}else{Ext.onReady(a)}})();Ext.EventObject=function(){var b=Ext.lib.Event,c=/(dbl)?click/,a={3:13,63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},d=Ext.isIE?{1:0,4:1,2:2}:{0:0,1:1,2:2};Ext.EventObjectImpl=function(g){if(g){this.setEvent(g.browserEvent||g)}};Ext.EventObjectImpl.prototype={setEvent:function(h){var g=this;if(h==g||(h&&h.browserEvent)){return h}g.browserEvent=h;if(h){g.button=h.button?d[h.button]:(h.which?h.which-1:-1);if(c.test(h.type)&&g.button==-1){g.button=0}g.type=h.type;g.shiftKey=h.shiftKey;g.ctrlKey=h.ctrlKey||h.metaKey||false;g.altKey=h.altKey;g.keyCode=h.keyCode;g.charCode=h.charCode;g.target=b.getTarget(h);g.xy=b.getXY(h)}else{g.button=-1;g.shiftKey=false;g.ctrlKey=false;g.altKey=false;g.keyCode=0;g.charCode=0;g.target=null;g.xy=[0,0]}return g},stopEvent:function(){var e=this;if(e.browserEvent){if(e.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(e)}b.stopEvent(e.browserEvent)}},preventDefault:function(){if(this.browserEvent){b.preventDefault(this.browserEvent)}},stopPropagation:function(){var e=this;if(e.browserEvent){if(e.browserEvent.type=="mousedown"){Ext.EventManager.stoppedMouseDownEvent.fire(e)}b.stopPropagation(e.browserEvent)}},getCharCode:function(){return this.charCode||this.keyCode},getKey:function(){return this.normalizeKey(this.keyCode||this.charCode)},normalizeKey:function(e){return Ext.isSafari?(a[e]||e):e},getPageX:function(){return this.xy[0]},getPageY:function(){return this.xy[1]},getXY:function(){return this.xy},getTarget:function(g,h,e){return g?Ext.fly(this.target).findParent(g,h,e):(e?Ext.get(this.target):this.target)},getRelatedTarget:function(){return this.browserEvent?b.getRelatedTarget(this.browserEvent):null},getWheelDelta:function(){var g=this.browserEvent;var h=0;if(g.wheelDelta){h=g.wheelDelta/120}else{if(g.detail){h=-g.detail/3}}return h},within:function(h,i,e){if(h){var g=this[i?"getRelatedTarget":"getTarget"]();return g&&((e?(g==Ext.getDom(h)):false)||Ext.fly(h).contains(g))}return false}};return new Ext.EventObjectImpl()}();Ext.Loader=Ext.apply({},{load:function(j,i,k,c){var k=k||this,g=document.getElementsByTagName("head")[0],b=document.createDocumentFragment(),a=j.length,h=0,e=this;var l=function(m){g.appendChild(e.buildScriptTag(j[m],d))};var d=function(){h++;if(a==h&&typeof i=="function"){i.call(k)}else{if(c===true){l(h)}}};if(c===true){l.call(this,0)}else{Ext.each(j,function(n,m){b.appendChild(this.buildScriptTag(n,d))},this);g.appendChild(b)}},buildScriptTag:function(b,c){var a=document.createElement("script");a.type="text/javascript";a.src=b;if(a.readyState){a.onreadystatechange=function(){if(a.readyState=="loaded"||a.readyState=="complete"){a.onreadystatechange=null;c()}}}else{a.onload=c}return a}});Ext.ns("Ext.grid","Ext.list","Ext.dd","Ext.tree","Ext.form","Ext.menu","Ext.state","Ext.layout.boxOverflow","Ext.app","Ext.ux","Ext.chart","Ext.direct","Ext.slider");Ext.apply(Ext,function(){var c=Ext,a=0,b=null;return{emptyFn:function(){},BLANK_IMAGE_URL:Ext.isIE6||Ext.isIE7||Ext.isAir?"http://www.extjs.com/s.gif":"data:image/gif;base64,R0lGODlhAQABAID/AMDAwAAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",extendX:function(d,e){return Ext.extend(d,e(d.prototype))},getDoc:function(){return Ext.get(document)},num:function(e,d){e=Number(Ext.isEmpty(e)||Ext.isArray(e)||typeof e=="boolean"||(typeof e=="string"&&e.trim().length==0)?NaN:e);return isNaN(e)?d:e},value:function(g,d,e){return Ext.isEmpty(g,e)?d:g},escapeRe:function(d){return d.replace(/([-.*+?^${}()|[\]\/\\])/g,"\\$1")},sequence:function(h,d,g,e){h[d]=h[d].createSequence(g,e)},addBehaviors:function(i){if(!Ext.isReady){Ext.onReady(function(){Ext.addBehaviors(i)})}else{var e={},h,d,g;for(d in i){if((h=d.split("@"))[1]){g=h[0];if(!e[g]){e[g]=Ext.select(g)}e[g].on(h[1],i[d])}}e=null}},getScrollBarWidth:function(g){if(!Ext.isReady){return 0}if(g===true||b===null){var i=Ext.getBody().createChild('<div class="x-hide-offsets" style="width:100px;height:50px;overflow:hidden;"><div style="height:200px;"></div></div>'),h=i.child("div",true);var e=h.offsetWidth;i.setStyle("overflow",(Ext.isWebKit||Ext.isGecko)?"auto":"scroll");var d=h.offsetWidth;i.remove();b=e-d+2}return b},combine:function(){var g=arguments,e=g.length,j=[];for(var h=0;h<e;h++){var d=g[h];if(Ext.isArray(d)){j=j.concat(d)}else{if(d.length!==undefined&&!d.substr){j=j.concat(Array.prototype.slice.call(d,0))}else{j.push(d)}}}return j},copyTo:function(d,e,g){if(typeof g=="string"){g=g.split(/[,;\s]/)}Ext.each(g,function(h){if(e.hasOwnProperty(h)){d[h]=e[h]}},this);return d},destroy:function(){Ext.each(arguments,function(d){if(d){if(Ext.isArray(d)){this.destroy.apply(this,d)}else{if(typeof d.destroy=="function"){d.destroy()}else{if(d.dom){d.remove()}}}}},this)},destroyMembers:function(l,j,g,h){for(var k=1,e=arguments,d=e.length;k<d;k++){Ext.destroy(l[e[k]]);delete l[e[k]]}},clean:function(d){var e=[];Ext.each(d,function(g){if(!!g){e.push(g)}});return e},unique:function(d){var e=[],g={};Ext.each(d,function(h){if(!g[h]){e.push(h)}g[h]=true});return e},flatten:function(d){var g=[];function e(h){Ext.each(h,function(i){if(Ext.isArray(i)){e(i)}else{g.push(i)}});return g}return e(d)},min:function(d,e){var g=d[0];e=e||function(i,h){return i<h?-1:1};Ext.each(d,function(h){g=e(g,h)==-1?g:h});return g},max:function(d,e){var g=d[0];e=e||function(i,h){return i>h?1:-1};Ext.each(d,function(h){g=e(g,h)==1?g:h});return g},mean:function(d){return d.length>0?Ext.sum(d)/d.length:undefined},sum:function(d){var e=0;Ext.each(d,function(g){e+=g});return e},partition:function(d,e){var g=[[],[]];Ext.each(d,function(j,k,h){g[(e&&e(j,k,h))||(!e&&j)?0:1].push(j)});return g},invoke:function(d,e){var h=[],g=Array.prototype.slice.call(arguments,2);Ext.each(d,function(j,k){if(j&&typeof j[e]=="function"){h.push(j[e].apply(j,g))}else{h.push(undefined)}});return h},pluck:function(d,g){var e=[];Ext.each(d,function(h){e.push(h[g])});return e},zip:function(){var n=Ext.partition(arguments,function(i){return typeof i!="function"}),k=n[0],m=n[1][0],d=Ext.max(Ext.pluck(k,"length")),h=[];for(var l=0;l<d;l++){h[l]=[];if(m){h[l]=m.apply(m,Ext.pluck(k,l))}else{for(var g=0,e=k.length;g<e;g++){h[l].push(k[g][l])}}}return h},getCmp:function(d){return Ext.ComponentMgr.get(d)},useShims:c.isIE6||(c.isMac&&c.isGecko2),type:function(e){if(e===undefined||e===null){return false}if(e.htmlElement){return"element"}var d=typeof e;if(d=="object"&&e.nodeName){switch(e.nodeType){case 1:return"element";case 3:return(/\S/).test(e.nodeValue)?"textnode":"whitespace"}}if(d=="object"||d=="function"){switch(e.constructor){case Array:return"array";case RegExp:return"regexp";case Date:return"date"}if(typeof e.length=="number"&&typeof e.item=="function"){return"nodelist"}}return d},intercept:function(h,d,g,e){h[d]=h[d].createInterceptor(g,e)},callback:function(d,h,g,e){if(typeof d=="function"){if(e){d.defer(e,h,g||[])}else{d.apply(h,g||[])}}}}}());Ext.apply(Function.prototype,{createSequence:function(b,a){var c=this;return(typeof b!="function")?this:function(){var d=c.apply(this||window,arguments);b.apply(a||this||window,arguments);return d}}});Ext.applyIf(String,{escape:function(a){return a.replace(/('|\\)/g,"\\$1")},leftPad:function(d,b,c){var a=String(d);if(!c){c=" "}while(a.length<b){a=c+a}return a}});String.prototype.toggle=function(b,a){return this==b?a:b};String.prototype.trim=function(){var a=/^\s+|\s+$/g;return function(){return this.replace(a,"")}}();Date.prototype.getElapsed=function(a){return Math.abs((a||new Date()).getTime()-this.getTime())};Ext.applyIf(Number.prototype,{constrain:function(b,a){return Math.min(Math.max(this,b),a)}});Ext.lib.Dom.getRegion=function(a){return Ext.lib.Region.getRegion(a)};Ext.lib.Region=function(d,g,a,c){var e=this;e.top=d;e[1]=d;e.right=g;e.bottom=a;e.left=c;e[0]=c};Ext.lib.Region.prototype={contains:function(b){var a=this;return(b.left>=a.left&&b.right<=a.right&&b.top>=a.top&&b.bottom<=a.bottom)},getArea:function(){var a=this;return((a.bottom-a.top)*(a.right-a.left))},intersect:function(h){var g=this,d=Math.max(g.top,h.top),e=Math.min(g.right,h.right),a=Math.min(g.bottom,h.bottom),c=Math.max(g.left,h.left);if(a>=d&&e>=c){return new Ext.lib.Region(d,e,a,c)}},union:function(h){var g=this,d=Math.min(g.top,h.top),e=Math.max(g.right,h.right),a=Math.max(g.bottom,h.bottom),c=Math.min(g.left,h.left);return new Ext.lib.Region(d,e,a,c)},constrainTo:function(b){var a=this;a.top=a.top.constrain(b.top,b.bottom);a.bottom=a.bottom.constrain(b.top,b.bottom);a.left=a.left.constrain(b.left,b.right);a.right=a.right.constrain(b.left,b.right);return a},adjust:function(d,c,a,g){var e=this;e.top+=d;e.left+=c;e.right+=g;e.bottom+=a;return e}};Ext.lib.Region.getRegion=function(e){var h=Ext.lib.Dom.getXY(e),d=h[1],g=h[0]+e.offsetWidth,a=h[1]+e.offsetHeight,c=h[0];return new Ext.lib.Region(d,g,a,c)};Ext.lib.Point=function(a,c){if(Ext.isArray(a)){c=a[1];a=a[0]}var b=this;b.x=b.right=b.left=b[0]=a;b.y=b.top=b.bottom=b[1]=c};Ext.lib.Point.prototype=new Ext.lib.Region();Ext.apply(Ext.DomHelper,function(){var e,a="afterbegin",h="afterend",i="beforebegin",d="beforeend",b=/tag|children|cn|html$/i;function g(m,p,n,q,l,j){m=Ext.getDom(m);var k;if(e.useDom){k=c(p,null);if(j){m.appendChild(k)}else{(l=="firstChild"?m:m.parentNode).insertBefore(k,m[l]||m)}}else{k=Ext.DomHelper.insertHtml(q,m,Ext.DomHelper.createHtml(p))}return n?Ext.get(k,true):k}function c(j,r){var k,u=document,p,s,m,t;if(Ext.isArray(j)){k=u.createDocumentFragment();for(var q=0,n=j.length;q<n;q++){c(j[q],k)}}else{if(typeof j=="string"){k=u.createTextNode(j)}else{k=u.createElement(j.tag||"div");p=!!k.setAttribute;for(var s in j){if(!b.test(s)){m=j[s];if(s=="cls"){k.className=m}else{if(p){k.setAttribute(s,m)}else{k[s]=m}}}}Ext.DomHelper.applyStyles(k,j.style);if((t=j.children||j.cn)){c(t,k)}else{if(j.html){k.innerHTML=j.html}}}}if(r){r.appendChild(k)}return k}e={createTemplate:function(k){var j=Ext.DomHelper.createHtml(k);return new Ext.Template(j)},useDom:false,insertBefore:function(j,l,k){return g(j,l,k,i)},insertAfter:function(j,l,k){return g(j,l,k,h,"nextSibling")},insertFirst:function(j,l,k){return g(j,l,k,a,"firstChild")},append:function(j,l,k){return g(j,l,k,d,"",true)},createDom:c};return e}());Ext.apply(Ext.Template.prototype,{disableFormats:false,re:/\{([\w\-]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?\}/g,argsRe:/^\s*['"](.*)["']\s*$/,compileARe:/\\/g,compileBRe:/(\r\n|\n)/g,compileCRe:/'/g,applyTemplate:function(b){var g=this,a=g.disableFormats!==true,e=Ext.util.Format,c=g;if(g.compiled){return g.compiled(b)}function d(j,l,p,k){if(p&&a){if(p.substr(0,5)=="this."){return c.call(p.substr(5),b[l],b)}else{if(k){var o=g.argsRe;k=k.split(",");for(var n=0,h=k.length;n<h;n++){k[n]=k[n].replace(o,"$1")}k=[b[l]].concat(k)}else{k=[b[l]]}return e[p].apply(e,k)}}else{return b[l]!==undefined?b[l]:""}}return g.html.replace(g.re,d)},compile:function(){var me=this,fm=Ext.util.Format,useF=me.disableFormats!==true,sep=Ext.isGecko?"+":",",body;function fn(m,name,format,args){if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="(values['"+name+"'] == undefined ? '' : "}return"'"+sep+format+"values['"+name+"']"+args+")"+sep+"'"}if(Ext.isGecko){body="this.compiled = function(values){ return '"+me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn)+"';};"}else{body=["this.compiled = function(values){ return ['"];body.push(me.html.replace(me.compileARe,"\\\\").replace(me.compileBRe,"\\n").replace(me.compileCRe,"\\'").replace(me.re,fn));body.push("'].join('');};");body=body.join("")}eval(body);return me},call:function(c,b,a){return this[c](b,a)}});Ext.Template.prototype.apply=Ext.Template.prototype.applyTemplate;Ext.util.Functions={createInterceptor:function(c,b,a){var d=c;if(!Ext.isFunction(b)){return c}else{return function(){var g=this,e=arguments;b.target=g;b.method=c;return(b.apply(a||g||window,e)!==false)?c.apply(g||window,e):null}}},createDelegate:function(c,d,b,a){if(!Ext.isFunction(c)){return c}return function(){var g=b||arguments;if(a===true){g=Array.prototype.slice.call(arguments,0);g=g.concat(b)}else{if(Ext.isNumber(a)){g=Array.prototype.slice.call(arguments,0);var e=[a,0].concat(b);Array.prototype.splice.apply(g,e)}}return c.apply(d||window,g)}},defer:function(d,c,e,b,a){d=Ext.util.Functions.createDelegate(d,e,b,a);if(c>0){return setTimeout(d,c)}d();return 0},createSequence:function(c,b,a){if(!Ext.isFunction(b)){return c}else{return function(){var d=c.apply(this||window,arguments);b.apply(a||this||window,arguments);return d}}}};Ext.defer=Ext.util.Functions.defer;Ext.createInterceptor=Ext.util.Functions.createInterceptor;Ext.createSequence=Ext.util.Functions.createSequence;Ext.createDelegate=Ext.util.Functions.createDelegate;Ext.apply(Ext.util.Observable.prototype,function(){function a(j){var i=(this.methodEvents=this.methodEvents||{})[j],d,c,g,h=this;if(!i){this.methodEvents[j]=i={};i.originalFn=this[j];i.methodName=j;i.before=[];i.after=[];var b=function(l,k,e){if((c=l.apply(k||h,e))!==undefined){if(typeof c=="object"){if(c.returnValue!==undefined){d=c.returnValue}else{d=c}g=!!c.cancel}else{if(c===false){g=true}else{d=c}}}};this[j]=function(){var l=Array.prototype.slice.call(arguments,0),k;d=c=undefined;g=false;for(var m=0,e=i.before.length;m<e;m++){k=i.before[m];b(k.fn,k.scope,l);if(g){return d}}if((c=i.originalFn.apply(h,l))!==undefined){d=c}for(var m=0,e=i.after.length;m<e;m++){k=i.after[m];b(k.fn,k.scope,l);if(g){return d}}return d}}return i}return{beforeMethod:function(d,c,b){a.call(this,d).before.push({fn:c,scope:b})},afterMethod:function(d,c,b){a.call(this,d).after.push({fn:c,scope:b})},removeMethodListener:function(j,g,d){var h=this.getMethodEvent(j);for(var c=0,b=h.before.length;c<b;c++){if(h.before[c].fn==g&&h.before[c].scope==d){h.before.splice(c,1);return}}for(var c=0,b=h.after.length;c<b;c++){if(h.after[c].fn==g&&h.after[c].scope==d){h.after.splice(c,1);return}}},relayEvents:function(j,e){var h=this;function g(i){return function(){return h.fireEvent.apply(h,[i].concat(Array.prototype.slice.call(arguments,0)))}}for(var d=0,b=e.length;d<b;d++){var c=e[d];h.events[c]=h.events[c]||true;j.on(c,g(c),h)}},enableBubble:function(e){var g=this;if(!Ext.isEmpty(e)){e=Ext.isArray(e)?e:Array.prototype.slice.call(arguments,0);for(var d=0,b=e.length;d<b;d++){var c=e[d];c=c.toLowerCase();var h=g.events[c]||true;if(typeof h=="boolean"){h=new Ext.util.Event(g,c);g.events[c]=h}h.bubble=true}}}}}());Ext.util.Observable.capture=function(c,b,a){c.fireEvent=c.fireEvent.createInterceptor(b,a)};Ext.util.Observable.observeClass=function(b,a){if(b){if(!b.fireEvent){Ext.apply(b,new Ext.util.Observable());Ext.util.Observable.capture(b.prototype,b.fireEvent,b)}if(typeof a=="object"){b.on(a)}return b}};Ext.apply(Ext.EventManager,function(){var d,k,g,b,a=Ext.lib.Dom,j=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/,c=Ext.EventManager._unload,i=0,h=0,e=Ext.isWebKit?Ext.num(navigator.userAgent.match(/AppleWebKit\/(\d+)/)[1])>=525:!((Ext.isGecko&&!Ext.isWindows)||Ext.isOpera);return{_unload:function(){Ext.EventManager.un(window,"resize",this.fireWindowResize,this);c.call(Ext.EventManager)},doResizeEvent:function(){var m=a.getViewHeight(),l=a.getViewWidth();if(h!=m||i!=l){d.fire(i=l,h=m)}},onWindowResize:function(n,m,l){if(!d){d=new Ext.util.Event();k=new Ext.util.DelayedTask(this.doResizeEvent);Ext.EventManager.on(window,"resize",this.fireWindowResize,this)}d.addListener(n,m,l)},fireWindowResize:function(){if(d){k.delay(100)}},onTextResize:function(o,n,l){if(!g){g=new Ext.util.Event();var m=new Ext.Element(document.createElement("div"));m.dom.className="x-text-resize";m.dom.innerHTML="X";m.appendTo(document.body);b=m.dom.offsetHeight;setInterval(function(){if(m.dom.offsetHeight!=b){g.fire(b,b=m.dom.offsetHeight)}},this.textResizeInterval)}g.addListener(o,n,l)},removeResizeListener:function(m,l){if(d){d.removeListener(m,l)}},fireResize:function(){if(d){d.fire(a.getViewWidth(),a.getViewHeight())}},textResizeInterval:50,ieDeferSrc:false,getKeyEvent:function(){return e?"keydown":"keypress"},useKeydown:e}}());Ext.EventManager.on=Ext.EventManager.addListener;Ext.apply(Ext.EventObjectImpl.prototype,{BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,RETURN:13,SHIFT:16,CTRL:17,CONTROL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGEUP:33,PAGE_DOWN:34,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,isNavKeyPress:function(){var b=this,a=this.normalizeKey(b.keyCode);return(a>=33&&a<=40)||a==b.RETURN||a==b.TAB||a==b.ESC},isSpecialKey:function(){var a=this.normalizeKey(this.keyCode);return(this.type=="keypress"&&this.ctrlKey)||this.isNavKeyPress()||(a==this.BACKSPACE)||(a>=16&&a<=20)||(a>=44&&a<=46)},getPoint:function(){return new Ext.lib.Point(this.xy[0],this.xy[1])},hasModifier:function(){return((this.ctrlKey||this.altKey)||this.shiftKey)}});Ext.Element.addMethods({swallowEvent:function(a,b){var d=this;function c(g){g.stopPropagation();if(b){g.preventDefault()}}if(Ext.isArray(a)){Ext.each(a,function(g){d.on(g,c)});return d}d.on(a,c);return d},relayEvent:function(a,b){this.on(a,function(c){b.fireEvent(a,c)})},clean:function(b){var d=this,e=d.dom,g=e.firstChild,c=-1;if(Ext.Element.data(e,"isCleaned")&&b!==true){return d}while(g){var a=g.nextSibling;if(g.nodeType==3&&!(/\S/.test(g.nodeValue))){e.removeChild(g)}else{g.nodeIndex=++c}g=a}Ext.Element.data(e,"isCleaned",true);return d},load:function(){var a=this.getUpdater();a.update.apply(a,arguments);return this},getUpdater:function(){return this.updateManager||(this.updateManager=new Ext.Updater(this))},update:function(html,loadScripts,callback){if(!this.dom){return this}html=html||"";if(loadScripts!==true){this.dom.innerHTML=html;if(typeof callback=="function"){callback()}return this}var id=Ext.id(),dom=this.dom;html+='<span id="'+id+'"></span>';Ext.lib.Event.onAvailable(id,function(){var DOC=document,hd=DOC.getElementsByTagName("head")[0],re=/(?:<script([^>]*)?>)((\n|\r|.)*?)(?:<\/script>)/ig,srcRe=/\ssrc=([\'\"])(.*?)\1/i,typeRe=/\stype=([\'\"])(.*?)\1/i,match,attrs,srcMatch,typeMatch,el,s;while((match=re.exec(html))){attrs=match[1];srcMatch=attrs?attrs.match(srcRe):false;if(srcMatch&&srcMatch[2]){s=DOC.createElement("script");s.src=srcMatch[2];typeMatch=attrs.match(typeRe);if(typeMatch&&typeMatch[2]){s.type=typeMatch[2]}hd.appendChild(s)}else{if(match[2]&&match[2].length>0){if(window.execScript){window.execScript(match[2])}else{window.eval(match[2])}}}}el=DOC.getElementById(id);if(el){Ext.removeNode(el)}if(typeof callback=="function"){callback()}});dom.innerHTML=html.replace(/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,"");return this},removeAllListeners:function(){this.removeAnchor();Ext.EventManager.removeAll(this.dom);return this},createProxy:function(a,e,d){a=(typeof a=="object")?a:{tag:"div",cls:a};var c=this,b=e?Ext.DomHelper.append(e,a,true):Ext.DomHelper.insertBefore(c.dom,a,true);if(d&&c.setBox&&c.getBox){b.setBox(c.getBox())}return b}});Ext.Element.prototype.getUpdateManager=Ext.Element.prototype.getUpdater;Ext.Element.addMethods({getAnchorXY:function(e,l,q){e=(e||"tl").toLowerCase();q=q||{};var k=this,b=k.dom==document.body||k.dom==document,n=q.width||b?Ext.lib.Dom.getViewWidth():k.getWidth(),i=q.height||b?Ext.lib.Dom.getViewHeight():k.getHeight(),p,a=Math.round,c=k.getXY(),m=k.getScroll(),j=b?m.left:!l?c[0]:0,g=b?m.top:!l?c[1]:0,d={c:[a(n*0.5),a(i*0.5)],t:[a(n*0.5),0],l:[0,a(i*0.5)],r:[n,a(i*0.5)],b:[a(n*0.5),i],tl:[0,0],bl:[0,i],br:[n,i],tr:[n,0]};p=d[e];return[p[0]+j,p[1]+g]},anchorTo:function(b,h,c,a,k,l){var i=this,e=i.dom,j=!Ext.isEmpty(k),d=function(){Ext.fly(e).alignTo(b,h,c,a);Ext.callback(l,Ext.fly(e))},g=this.getAnchor();this.removeAnchor();Ext.apply(g,{fn:d,scroll:j});Ext.EventManager.onWindowResize(d,null);if(j){Ext.EventManager.on(window,"scroll",d,null,{buffer:!isNaN(k)?k:50})}d.call(i);return i},removeAnchor:function(){var b=this,a=this.getAnchor();if(a&&a.fn){Ext.EventManager.removeResizeListener(a.fn);if(a.scroll){Ext.EventManager.un(window,"scroll",a.fn)}delete a.fn}return b},getAnchor:function(){var b=Ext.Element.data,c=this.dom;if(!c){return}var a=b(c,"_anchor");if(!a){a=b(c,"_anchor",{})}return a},getAlignToXY:function(g,A,B){g=Ext.get(g);if(!g||!g.dom){throw"Element.alignToXY with an element that doesn't exist"}B=B||[0,0];A=(!A||A=="?"?"tl-bl?":(!(/-/).test(A)&&A!==""?"tl-"+A:A||"tl-bl")).toLowerCase();var K=this,H=K.dom,M,L,n,l,s,F,v,t=Ext.lib.Dom.getViewWidth()-10,G=Ext.lib.Dom.getViewHeight()-10,b,i,j,k,u,z,N=document,J=N.documentElement,q=N.body,E=(J.scrollLeft||q.scrollLeft||0)+5,D=(J.scrollTop||q.scrollTop||0)+5,I=false,e="",a="",C=A.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!C){throw"Element.alignTo with an invalid alignment "+A}e=C[1];a=C[2];I=!!C[3];M=K.getAnchorXY(e,true);L=g.getAnchorXY(a,false);n=L[0]-M[0]+B[0];l=L[1]-M[1]+B[1];if(I){s=K.getWidth();F=K.getHeight();v=g.getRegion();b=e.charAt(0);i=e.charAt(e.length-1);j=a.charAt(0);k=a.charAt(a.length-1);u=((b=="t"&&j=="b")||(b=="b"&&j=="t"));z=((i=="r"&&k=="l")||(i=="l"&&k=="r"));if(n+s>t+E){n=z?v.left-s:t+E-s}if(n<E){n=z?v.right:E}if(l+F>G+D){l=u?v.top-F:G+D-F}if(l<D){l=u?v.bottom:D}}return[n,l]},alignTo:function(c,a,e,b){var d=this;return d.setXY(d.getAlignToXY(c,a,e),d.preanim&&!!b?d.preanim(arguments,3):false)},adjustForConstraints:function(c,a,b){return this.getConstrainToXY(a||document,false,b,c)||c},getConstrainToXY:function(b,a,c,e){var d={top:0,left:0,bottom:0,right:0};return function(i,A,l,n){i=Ext.get(i);l=l?Ext.applyIf(l,d):d;var z,D,v=0,u=0;if(i.dom==document.body||i.dom==document){z=Ext.lib.Dom.getViewWidth();D=Ext.lib.Dom.getViewHeight()}else{z=i.dom.clientWidth;D=i.dom.clientHeight;if(!A){var t=i.getXY();v=t[0];u=t[1]}}var r=i.getScroll();v+=l.left+r.left;u+=l.top+r.top;z-=l.right;D-=l.bottom;var B=v+z,g=u+D,j=n||(!A?this.getXY():[this.getLeft(true),this.getTop(true)]),p=j[0],o=j[1],k=this.getConstrainOffset(),q=this.dom.offsetWidth+k,C=this.dom.offsetHeight+k;var m=false;if((p+q)>B){p=B-q;m=true}if((o+C)>g){o=g-C;m=true}if(p<v){p=v;m=true}if(o<u){o=u;m=true}return m?[p,o]:false}}(),getConstrainOffset:function(){return 0},getCenterXY:function(){return this.getAlignToXY(document,"c-c")},center:function(a){return this.alignTo(a||document,"c-c")}});Ext.Element.addMethods({select:function(a,b){return Ext.Element.select(a,b,this.dom)}});Ext.apply(Ext.Element.prototype,function(){var c=Ext.getDom,a=Ext.get,b=Ext.DomHelper;return{insertSibling:function(i,g,h){var j=this,e,d=(g||"before").toLowerCase()=="after",k;if(Ext.isArray(i)){k=j;Ext.each(i,function(l){e=Ext.fly(k,"_internal").insertSibling(l,g,h);if(d){k=e}});return e}i=i||{};if(i.nodeType||i.dom){e=j.dom.parentNode.insertBefore(c(i),d?j.dom.nextSibling:j.dom);if(!h){e=a(e)}}else{if(d&&!j.dom.nextSibling){e=b.append(j.dom.parentNode,i,!h)}else{e=b[d?"insertAfter":"insertBefore"](j.dom,i,!h)}}return e}}}());Ext.Element.boxMarkup='<div class="{0}-tl"><div class="{0}-tr"><div class="{0}-tc"></div></div></div><div class="{0}-ml"><div class="{0}-mr"><div class="{0}-mc"></div></div></div><div class="{0}-bl"><div class="{0}-br"><div class="{0}-bc"></div></div></div>';Ext.Element.addMethods(function(){var a="_internal",b=/(\d+\.?\d+)px/;return{applyStyles:function(c){Ext.DomHelper.applyStyles(this.dom,c);return this},getStyles:function(){var c={};Ext.each(arguments,function(d){c[d]=this.getStyle(d)},this);return c},setOverflow:function(c){var d=this.dom;if(c=="auto"&&Ext.isMac&&Ext.isGecko2){d.style.overflow="hidden";(function(){d.style.overflow="auto"}).defer(1)}else{d.style.overflow=c}},boxWrap:function(c){c=c||"x-box";var d=Ext.get(this.insertHtml("beforeBegin","<div class='"+c+"'>"+String.format(Ext.Element.boxMarkup,c)+"</div>"));Ext.DomQuery.selectNode("."+c+"-mc",d.dom).appendChild(this.dom);return d},setSize:function(e,c,d){var g=this;if(typeof e=="object"){c=e.height;e=e.width}e=g.adjustWidth(e);c=g.adjustHeight(c);if(!d||!g.anim){g.dom.style.width=g.addUnits(e);g.dom.style.height=g.addUnits(c)}else{g.anim({width:{to:e},height:{to:c}},g.preanim(arguments,2))}return g},getComputedHeight:function(){var d=this,c=Math.max(d.dom.offsetHeight,d.dom.clientHeight);if(!c){c=parseFloat(d.getStyle("height"))||0;if(!d.isBorderBox()){c+=d.getFrameWidth("tb")}}return c},getComputedWidth:function(){var c=Math.max(this.dom.offsetWidth,this.dom.clientWidth);if(!c){c=parseFloat(this.getStyle("width"))||0;if(!this.isBorderBox()){c+=this.getFrameWidth("lr")}}return c},getFrameWidth:function(d,c){return c&&this.isBorderBox()?0:(this.getPadding(d)+this.getBorderWidth(d))},addClassOnOver:function(c){this.hover(function(){Ext.fly(this,a).addClass(c)},function(){Ext.fly(this,a).removeClass(c)});return this},addClassOnFocus:function(c){this.on("focus",function(){Ext.fly(this,a).addClass(c)},this.dom);this.on("blur",function(){Ext.fly(this,a).removeClass(c)},this.dom);return this},addClassOnClick:function(c){var d=this.dom;this.on("mousedown",function(){Ext.fly(d,a).addClass(c);var g=Ext.getDoc(),e=function(){Ext.fly(d,a).removeClass(c);g.removeListener("mouseup",e)};g.on("mouseup",e)});return this},getViewSize:function(){var g=document,h=this.dom,c=(h==g||h==g.body);if(c){var e=Ext.lib.Dom;return{width:e.getViewWidth(),height:e.getViewHeight()}}else{return{width:h.clientWidth,height:h.clientHeight}}},getStyleSize:function(){var j=this,c,i,l=document,m=this.dom,e=(m==l||m==l.body),g=m.style;if(e){var k=Ext.lib.Dom;return{width:k.getViewWidth(),height:k.getViewHeight()}}if(g.width&&g.width!="auto"){c=parseFloat(g.width);if(j.isBorderBox()){c-=j.getFrameWidth("lr")}}if(g.height&&g.height!="auto"){i=parseFloat(g.height);if(j.isBorderBox()){i-=j.getFrameWidth("tb")}}return{width:c||j.getWidth(true),height:i||j.getHeight(true)}},getSize:function(c){return{width:this.getWidth(c),height:this.getHeight(c)}},repaint:function(){var c=this.dom;this.addClass("x-repaint");setTimeout(function(){Ext.fly(c).removeClass("x-repaint")},1);return this},unselectable:function(){this.dom.unselectable="on";return this.swallowEvent("selectstart",true).applyStyles("-moz-user-select:none;-khtml-user-select:none;").addClass("x-unselectable")},getMargins:function(d){var e=this,c,g={t:"top",l:"left",r:"right",b:"bottom"},h={};if(!d){for(c in e.margins){h[g[c]]=parseFloat(e.getStyle(e.margins[c]))||0}return h}else{return e.addStyles.call(e,d,e.margins)}}}}());Ext.Element.addMethods({setBox:function(e,g,b){var d=this,a=e.width,c=e.height;if((g&&!d.autoBoxAdjust)&&!d.isBorderBox()){a-=(d.getBorderWidth("lr")+d.getPadding("lr"));c-=(d.getBorderWidth("tb")+d.getPadding("tb"))}d.setBounds(e.x,e.y,a,c,d.animTest.call(d,arguments,b,2));return d},getBox:function(j,p){var m=this,v,e,o,d=m.getBorderWidth,q=m.getPadding,g,a,u,n;if(!p){v=m.getXY()}else{e=parseInt(m.getStyle("left"),10)||0;o=parseInt(m.getStyle("top"),10)||0;v=[e,o]}var c=m.dom,s=c.offsetWidth,i=c.offsetHeight,k;if(!j){k={x:v[0],y:v[1],0:v[0],1:v[1],width:s,height:i}}else{g=d.call(m,"l")+q.call(m,"l");a=d.call(m,"r")+q.call(m,"r");u=d.call(m,"t")+q.call(m,"t");n=d.call(m,"b")+q.call(m,"b");k={x:v[0]+g,y:v[1]+u,0:v[0]+g,1:v[1]+u,width:s-(g+a),height:i-(u+n)}}k.right=k.x+k.width;k.bottom=k.y+k.height;return k},move:function(j,b,c){var g=this,m=g.getXY(),k=m[0],i=m[1],d=[k-b,i],l=[k+b,i],h=[k,i-b],a=[k,i+b],e={l:d,left:d,r:l,right:l,t:h,top:h,up:h,b:a,bottom:a,down:a};j=j.toLowerCase();g.moveTo(e[j][0],e[j][1],g.animTest.call(g,arguments,c,2))},setLeftTop:function(d,c){var b=this,a=b.dom.style;a.left=b.addUnits(d);a.top=b.addUnits(c);return b},getRegion:function(){return Ext.lib.Dom.getRegion(this.dom)},setBounds:function(b,g,d,a,c){var e=this;if(!c||!e.anim){e.setSize(d,a);e.setLocation(b,g)}else{e.anim({points:{to:[b,g]},width:{to:e.adjustWidth(d)},height:{to:e.adjustHeight(a)}},e.preanim(arguments,4),"motion")}return e},setRegion:function(b,a){return this.setBounds(b.left,b.top,b.right-b.left,b.bottom-b.top,this.animTest.call(this,arguments,a,1))}});Ext.Element.addMethods({scrollTo:function(b,d,a){var e=/top/i.test(b),c=this,g=c.dom,h;if(!a||!c.anim){h="scroll"+(e?"Top":"Left");g[h]=d}else{h="scroll"+(e?"Left":"Top");c.anim({scroll:{to:e?[g[h],d]:[d,g[h]]}},c.preanim(arguments,2),"scroll")}return c},scrollIntoView:function(e,i){var p=Ext.getDom(e)||Ext.getBody().dom,h=this.dom,g=this.getOffsetsTo(p),k=g[0]+p.scrollLeft,u=g[1]+p.scrollTop,q=u+h.offsetHeight,d=k+h.offsetWidth,a=p.clientHeight,m=parseInt(p.scrollTop,10),s=parseInt(p.scrollLeft,10),j=m+a,n=s+p.clientWidth;if(h.offsetHeight>a||u<m){p.scrollTop=u}else{if(q>j){p.scrollTop=q-a}}p.scrollTop=p.scrollTop;if(i!==false){if(h.offsetWidth>p.clientWidth||k<s){p.scrollLeft=k}else{if(d>n){p.scrollLeft=d-p.clientWidth}}p.scrollLeft=p.scrollLeft}return this},scrollChildIntoView:function(b,a){Ext.fly(b,"_scrollChildIntoView").scrollIntoView(this,a)},scroll:function(m,b,d){if(!this.isScrollable()){return false}var e=this.dom,g=e.scrollLeft,p=e.scrollTop,n=e.scrollWidth,k=e.scrollHeight,i=e.clientWidth,a=e.clientHeight,c=false,o,j={l:Math.min(g+b,n-i),r:o=Math.max(g-b,0),t:Math.max(p-b,0),b:Math.min(p+b,k-a)};j.d=j.b;j.u=j.t;m=m.substr(0,1);if((o=j[m])>-1){c=true;this.scrollTo(m=="l"||m=="r"?"left":"top",o,this.preanim(arguments,2))}return c}});Ext.Element.addMethods(function(){var d="visibility",b="display",a="hidden",h="none",c="x-masked",g="x-masked-relative",e=Ext.Element.data;return{isVisible:function(i){var j=!this.isStyle(d,a)&&!this.isStyle(b,h),k=this.dom.parentNode;if(i!==true||!j){return j}while(k&&!(/^body/i.test(k.tagName))){if(!Ext.fly(k,"_isVisible").isVisible()){return false}k=k.parentNode}return true},isDisplayed:function(){return !this.isStyle(b,h)},enableDisplayMode:function(i){this.setVisibilityMode(Ext.Element.DISPLAY);if(!Ext.isEmpty(i)){e(this.dom,"originalDisplay",i)}return this},mask:function(j,n){var p=this,l=p.dom,o=Ext.DomHelper,m="ext-el-mask-msg",i,q;if(!/^body/i.test(l.tagName)&&p.getStyle("position")=="static"){p.addClass(g)}if(i=e(l,"maskMsg")){i.remove()}if(i=e(l,"mask")){i.remove()}q=o.append(l,{cls:"ext-el-mask"},true);e(l,"mask",q);p.addClass(c);q.setDisplayed(true);if(typeof j=="string"){var k=o.append(l,{cls:m,cn:{tag:"div"}},true);e(l,"maskMsg",k);k.dom.className=n?m+" "+n:m;k.dom.firstChild.innerHTML=j;k.setDisplayed(true);k.center(p)}if(Ext.isIE&&!(Ext.isIE7&&Ext.isStrict)&&p.getStyle("height")=="auto"){q.setSize(undefined,p.getHeight())}return q},unmask:function(){var k=this,l=k.dom,i=e(l,"mask"),j=e(l,"maskMsg");if(i){if(j){j.remove();e(l,"maskMsg",undefined)}i.remove();e(l,"mask",undefined);k.removeClass([c,g])}},isMasked:function(){var i=e(this.dom,"mask");return i&&i.isVisible()},createShim:function(){var i=document.createElement("iframe"),j;i.frameBorder="0";i.className="ext-shim";i.src=Ext.SSL_SECURE_URL;j=Ext.get(this.dom.parentNode.insertBefore(i,this.dom));j.autoBoxAdjust=false;return j}}}());Ext.Element.addMethods({addKeyListener:function(b,d,c){var a;if(typeof b!="object"||Ext.isArray(b)){a={key:b,fn:d,scope:c}}else{a={key:b.key,shift:b.shift,ctrl:b.ctrl,alt:b.alt,fn:d,scope:c}}return new Ext.KeyMap(this,a)},addKeyMap:function(a){return new Ext.KeyMap(this,a)}});Ext.CompositeElementLite.importElementMethods();Ext.apply(Ext.CompositeElementLite.prototype,{addElements:function(c,a){if(!c){return this}if(typeof c=="string"){c=Ext.Element.selectorFunction(c,a)}var b=this.elements;Ext.each(c,function(d){b.push(Ext.get(d))});return this},first:function(){return this.item(0)},last:function(){return this.item(this.getCount()-1)},contains:function(a){return this.indexOf(a)!=-1},removeElement:function(d,e){var c=this,a=this.elements,b;Ext.each(d,function(g){if((b=(a[g]||a[g=c.indexOf(g)]))){if(e){if(b.dom){b.remove()}else{Ext.removeNode(b)}}a.splice(g,1)}});return this}});Ext.CompositeElement=Ext.extend(Ext.CompositeElementLite,{constructor:function(b,a){this.elements=[];this.add(b,a)},getElement:function(a){return a},transformElement:function(a){return Ext.get(a)}});Ext.Element.select=function(a,d,b){var c;if(typeof a=="string"){c=Ext.Element.selectorFunction(a,b)}else{if(a.length!==undefined){c=a}else{throw"Invalid selector"}}return(d===true)?new Ext.CompositeElement(c):new Ext.CompositeElementLite(c)};Ext.select=Ext.Element.select;Ext.UpdateManager=Ext.Updater=Ext.extend(Ext.util.Observable,function(){var b="beforeupdate",d="update",c="failure";function a(h){var i=this;i.transaction=null;if(h.argument.form&&h.argument.reset){try{h.argument.form.reset()}catch(j){}}if(i.loadScripts){i.renderer.render(i.el,h,i,g.createDelegate(i,[h]))}else{i.renderer.render(i.el,h,i);g.call(i,h)}}function g(h,i,j){this.fireEvent(i||d,this.el,h);if(Ext.isFunction(h.argument.callback)){h.argument.callback.call(h.argument.scope,this.el,Ext.isEmpty(j)?true:false,h,h.argument.options)}}function e(h){g.call(this,h,c,!!(this.transaction=null))}return{constructor:function(i,h){var j=this;i=Ext.get(i);if(!h&&i.updateManager){return i.updateManager}j.el=i;j.defaultUrl=null;j.addEvents(b,d,c);Ext.apply(j,Ext.Updater.defaults);j.transaction=null;j.refreshDelegate=j.refresh.createDelegate(j);j.updateDelegate=j.update.createDelegate(j);j.formUpdateDelegate=(j.formUpdate||function(){}).createDelegate(j);j.renderer=j.renderer||j.getDefaultRenderer();Ext.Updater.superclass.constructor.call(j)},setRenderer:function(h){this.renderer=h},getRenderer:function(){return this.renderer},getDefaultRenderer:function(){return new Ext.Updater.BasicRenderer()},setDefaultUrl:function(h){this.defaultUrl=h},getEl:function(){return this.el},update:function(i,n,p,l){var k=this,h,j;if(k.fireEvent(b,k.el,i,n)!==false){if(Ext.isObject(i)){h=i;i=h.url;n=n||h.params;p=p||h.callback;l=l||h.discardUrl;j=h.scope;if(!Ext.isEmpty(h.nocache)){k.disableCaching=h.nocache}if(!Ext.isEmpty(h.text)){k.indicatorText='<div class="loading-indicator">'+h.text+"</div>"}if(!Ext.isEmpty(h.scripts)){k.loadScripts=h.scripts}if(!Ext.isEmpty(h.timeout)){k.timeout=h.timeout}}k.showLoading();if(!l){k.defaultUrl=i}if(Ext.isFunction(i)){i=i.call(k)}var m=Ext.apply({},{url:i,params:(Ext.isFunction(n)&&j)?n.createDelegate(j):n,success:a,failure:e,scope:k,callback:undefined,timeout:(k.timeout*1000),disableCaching:k.disableCaching,argument:{options:h,url:i,form:null,callback:p,scope:j||window,params:n}},h);k.transaction=Ext.Ajax.request(m)}},formUpdate:function(k,h,j,l){var i=this;if(i.fireEvent(b,i.el,k,h)!==false){if(Ext.isFunction(h)){h=h.call(i)}k=Ext.getDom(k);i.transaction=Ext.Ajax.request({form:k,url:h,success:a,failure:e,scope:i,timeout:(i.timeout*1000),argument:{url:h,form:k,callback:l,reset:j}});i.showLoading.defer(1,i)}},startAutoRefresh:function(i,j,l,m,h){var k=this;if(h){k.update(j||k.defaultUrl,l,m,true)}if(k.autoRefreshProcId){clearInterval(k.autoRefreshProcId)}k.autoRefreshProcId=setInterval(k.update.createDelegate(k,[j||k.defaultUrl,l,m,true]),i*1000)},stopAutoRefresh:function(){if(this.autoRefreshProcId){clearInterval(this.autoRefreshProcId);delete this.autoRefreshProcId}},isAutoRefreshing:function(){return !!this.autoRefreshProcId},showLoading:function(){if(this.showLoadIndicator){this.el.dom.innerHTML=this.indicatorText}},abort:function(){if(this.transaction){Ext.Ajax.abort(this.transaction)}},isUpdating:function(){return this.transaction?Ext.Ajax.isLoading(this.transaction):false},refresh:function(h){if(this.defaultUrl){this.update(this.defaultUrl,null,h,true)}}}}());Ext.Updater.defaults={timeout:30,disableCaching:false,showLoadIndicator:true,indicatorText:'<div class="loading-indicator">Loading...</div>',loadScripts:false,sslBlankUrl:Ext.SSL_SECURE_URL};Ext.Updater.updateElement=function(d,c,e,b){var a=Ext.get(d).getUpdater();Ext.apply(a,b);a.update(c,e,b?b.callback:null)};Ext.Updater.BasicRenderer=function(){};Ext.Updater.BasicRenderer.prototype={render:function(c,a,b,d){c.update(a.responseText,b.loadScripts,d)}};(function(){Date.useStrict=false;function b(d){var c=Array.prototype.slice.call(arguments,1);return d.replace(/\{(\d+)\}/g,function(e,g){return c[g]})}Date.formatCodeToRegex=function(d,c){var e=Date.parseCodes[d];if(e){e=typeof e=="function"?e():e;Date.parseCodes[d]=e}return e?Ext.applyIf({c:e.c?b(e.c,c||"{0}"):e.c},e):{g:0,c:null,s:Ext.escapeRe(d)}};var a=Date.formatCodeToRegex;Ext.apply(Date,{parseFunctions:{"M$":function(d,c){var e=new RegExp("\\/Date\\(([-+])?(\\d+)(?:[+-]\\d{4})?\\)\\/");var g=(d||"").match(e);return g?new Date(((g[1]||"")+g[2])*1):null}},parseRegexes:[],formatFunctions:{"M$":function(){return"\\/Date("+this.getTime()+")\\/"}},y2kYear:50,MILLI:"ms",SECOND:"s",MINUTE:"mi",HOUR:"h",DAY:"d",MONTH:"mo",YEAR:"y",defaults:{},dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNumbers:{Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},getShortMonthName:function(c){return Date.monthNames[c].substring(0,3)},getShortDayName:function(c){return Date.dayNames[c].substring(0,3)},getMonthNumber:function(c){return Date.monthNumbers[c.substring(0,1).toUpperCase()+c.substring(1,3).toLowerCase()]},formatContainsHourInfo:(function(){var d=/(\\.)/g,c=/([gGhHisucUOPZ]|M\$)/;return function(e){return c.test(e.replace(d,""))}})(),formatCodes:{d:"String.leftPad(this.getDate(), 2, '0')",D:"Date.getShortDayName(this.getDay())",j:"this.getDate()",l:"Date.dayNames[this.getDay()]",N:"(this.getDay() ? this.getDay() : 7)",S:"this.getSuffix()",w:"this.getDay()",z:"this.getDayOfYear()",W:"String.leftPad(this.getWeekOfYear(), 2, '0')",F:"Date.monthNames[this.getMonth()]",m:"String.leftPad(this.getMonth() + 1, 2, '0')",M:"Date.getShortMonthName(this.getMonth())",n:"(this.getMonth() + 1)",t:"this.getDaysInMonth()",L:"(this.isLeapYear() ? 1 : 0)",o:"(this.getFullYear() + (this.getWeekOfYear() == 1 && this.getMonth() > 0 ? +1 : (this.getWeekOfYear() >= 52 && this.getMonth() < 11 ? -1 : 0)))",Y:"String.leftPad(this.getFullYear(), 4, '0')",y:"('' + this.getFullYear()).substring(2, 4)",a:"(this.getHours() < 12 ? 'am' : 'pm')",A:"(this.getHours() < 12 ? 'AM' : 'PM')",g:"((this.getHours() % 12) ? this.getHours() % 12 : 12)",G:"this.getHours()",h:"String.leftPad((this.getHours() % 12) ? this.getHours() % 12 : 12, 2, '0')",H:"String.leftPad(this.getHours(), 2, '0')",i:"String.leftPad(this.getMinutes(), 2, '0')",s:"String.leftPad(this.getSeconds(), 2, '0')",u:"String.leftPad(this.getMilliseconds(), 3, '0')",O:"this.getGMTOffset()",P:"this.getGMTOffset(true)",T:"this.getTimezone()",Z:"(this.getTimezoneOffset() * -60)",c:function(){for(var k="Y-m-dTH:i:sP",h=[],g=0,d=k.length;g<d;++g){var j=k.charAt(g);h.push(j=="T"?"'T'":Date.getFormatCode(j))}return h.join(" + ")},U:"Math.round(this.getTime() / 1000)"},isValid:function(o,c,n,k,g,j,e){k=k||0;g=g||0;j=j||0;e=e||0;var l=new Date(o<100?100:o,c-1,n,k,g,j,e).add(Date.YEAR,o<100?o-100:0);return o==l.getFullYear()&&c==l.getMonth()+1&&n==l.getDate()&&k==l.getHours()&&g==l.getMinutes()&&j==l.getSeconds()&&e==l.getMilliseconds()},parseDate:function(d,g,c){var e=Date.parseFunctions;if(e[g]==null){Date.createParser(g)}return e[g](d,Ext.isDefined(c)?c:Date.useStrict)},getFormatCode:function(d){var c=Date.formatCodes[d];if(c){c=typeof c=="function"?c():c;Date.formatCodes[d]=c}return c||("'"+String.escape(d)+"'")},createFormat:function(h){var g=[],c=false,e="";for(var d=0;d<h.length;++d){e=h.charAt(d);if(!c&&e=="\\"){c=true}else{if(c){c=false;g.push("'"+String.escape(e)+"'")}else{g.push(Date.getFormatCode(e))}}}Date.formatFunctions[h]=new Function("return "+g.join("+"))},createParser:function(){var c=["var dt, y, m, d, h, i, s, ms, o, z, zz, u, v,","def = Date.defaults,","results = String(input).match(Date.parseRegexes[{0}]);","if(results){","{1}","if(u != null){","v = new Date(u * 1000);","}else{","dt = (new Date()).clearTime();","y = Ext.num(y, Ext.num(def.y, dt.getFullYear()));","m = Ext.num(m, Ext.num(def.m - 1, dt.getMonth()));","d = Ext.num(d, Ext.num(def.d, dt.getDate()));","h  = Ext.num(h, Ext.num(def.h, dt.getHours()));","i  = Ext.num(i, Ext.num(def.i, dt.getMinutes()));","s  = Ext.num(s, Ext.num(def.s, dt.getSeconds()));","ms = Ext.num(ms, Ext.num(def.ms, dt.getMilliseconds()));","if(z >= 0 && y >= 0){","v = new Date(y < 100 ? 100 : y, 0, 1, h, i, s, ms).add(Date.YEAR, y < 100 ? y - 100 : 0);","v = !strict? v : (strict === true && (z <= 364 || (v.isLeapYear() && z <= 365))? v.add(Date.DAY, z) : null);","}else if(strict === true && !Date.isValid(y, m + 1, d, h, i, s, ms)){","v = null;","}else{","v = new Date(y < 100 ? 100 : y, m, d, h, i, s, ms).add(Date.YEAR, y < 100 ? y - 100 : 0);","}","}","}","if(v){","if(zz != null){","v = v.add(Date.SECOND, -v.getTimezoneOffset() * 60 - zz);","}else if(o){","v = v.add(Date.MINUTE, -v.getTimezoneOffset() + (sn == '+'? -1 : 1) * (hr * 60 + mn));","}","}","return v;"].join("\n");return function(m){var e=Date.parseRegexes.length,o=1,g=[],l=[],k=false,d="",j=0,h,n;for(;j<m.length;++j){d=m.charAt(j);if(!k&&d=="\\"){k=true}else{if(k){k=false;l.push(String.escape(d))}else{h=a(d,o);o+=h.g;l.push(h.s);if(h.g&&h.c){if(h.calcLast){n=h.c}else{g.push(h.c)}}}}}if(n){g.push(n)}Date.parseRegexes[e]=new RegExp("^"+l.join("")+"$","i");Date.parseFunctions[m]=new Function("input","strict",b(c,e,g.join("")))}}(),parseCodes:{d:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},j:{g:1,c:"d = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},D:function(){for(var c=[],d=0;d<7;c.push(Date.getShortDayName(d)),++d){}return{g:0,c:null,s:"(?:"+c.join("|")+")"}},l:function(){return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"}},N:{g:0,c:null,s:"[1-7]"},S:{g:0,c:null,s:"(?:st|nd|rd|th)"},w:{g:0,c:null,s:"[0-6]"},z:{g:1,c:"z = parseInt(results[{0}], 10);\n",s:"(\\d{1,3})"},W:{g:0,c:null,s:"(?:\\d{2})"},F:function(){return{g:1,c:"m = parseInt(Date.getMonthNumber(results[{0}]), 10);\n",s:"("+Date.monthNames.join("|")+")"}},M:function(){for(var c=[],d=0;d<12;c.push(Date.getShortMonthName(d)),++d){}return Ext.applyIf({s:"("+c.join("|")+")"},a("F"))},m:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{2})"},n:{g:1,c:"m = parseInt(results[{0}], 10) - 1;\n",s:"(\\d{1,2})"},t:{g:0,c:null,s:"(?:\\d{2})"},L:{g:0,c:null,s:"(?:1|0)"},o:function(){return a("Y")},Y:{g:1,c:"y = parseInt(results[{0}], 10);\n",s:"(\\d{4})"},y:{g:1,c:"var ty = parseInt(results[{0}], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"},a:function(){return a("A")},A:{calcLast:true,g:1,c:"if (/(am)/i.test(results[{0}])) {\nif (!h || h == 12) { h = 0; }\n} else { if (!h || h < 12) { h = (h || 0) + 12; }}",s:"(AM|PM|am|pm)"},g:function(){return a("G")},G:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{1,2})"},h:function(){return a("H")},H:{g:1,c:"h = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},i:{g:1,c:"i = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},s:{g:1,c:"s = parseInt(results[{0}], 10);\n",s:"(\\d{2})"},u:{g:1,c:"ms = results[{0}]; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n",s:"(\\d+)"},O:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(3,5) / 60),","mn = o.substring(3,5) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{4})"},P:{g:1,c:["o = results[{0}];","var sn = o.substring(0,1),","hr = o.substring(1,3)*1 + Math.floor(o.substring(4,6) / 60),","mn = o.substring(4,6) % 60;","o = ((-12 <= (hr*60 + mn)/60) && ((hr*60 + mn)/60 <= 14))? (sn + String.leftPad(hr, 2, '0') + String.leftPad(mn, 2, '0')) : null;\n"].join("\n"),s:"([+-]\\d{2}:\\d{2})"},T:{g:0,c:null,s:"[A-Z]{1,4}"},Z:{g:1,c:"zz = results[{0}] * 1;\nzz = (-43200 <= zz && zz <= 50400)? zz : null;\n",s:"([+-]?\\d{1,5})"},c:function(){var e=[],c=[a("Y",1),a("m",2),a("d",3),a("h",4),a("i",5),a("s",6),{c:"ms = results[7] || '0'; ms = parseInt(ms, 10)/Math.pow(10, ms.length - 3);\n"},{c:["if(results[8]) {","if(results[8] == 'Z'){","zz = 0;","}else if (results[8].indexOf(':') > -1){",a("P",8).c,"}else{",a("O",8).c,"}","}"].join("\n")}];for(var g=0,d=c.length;g<d;++g){e.push(c[g].c)}return{g:1,c:e.join(""),s:[c[0].s,"(?:","-",c[1].s,"(?:","-",c[2].s,"(?:","(?:T| )?",c[3].s,":",c[4].s,"(?::",c[5].s,")?","(?:(?:\\.|,)(\\d+))?","(Z|(?:[-+]\\d{2}(?::)?\\d{2}))?",")?",")?",")?"].join("")}},U:{g:1,c:"u = parseInt(results[{0}], 10);\n",s:"(-?\\d+)"}}})}());Ext.apply(Date.prototype,{dateFormat:function(a){if(Date.formatFunctions[a]==null){Date.createFormat(a)}return Date.formatFunctions[a].call(this)},getTimezone:function(){return this.toString().replace(/^.* (?:\((.*)\)|([A-Z]{1,4})(?:[\-+][0-9]{4})?(?: -?\d+)?)$/,"$1$2").replace(/[^A-Z]/g,"")},getGMTOffset:function(a){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+(a?":":"")+String.leftPad(Math.abs(this.getTimezoneOffset()%60),2,"0")},getDayOfYear:function(){var b=0,e=this.clone(),a=this.getMonth(),c;for(c=0,e.setDate(1),e.setMonth(0);c<a;e.setMonth(++c)){b+=e.getDaysInMonth()}return b+this.getDate()-1},getWeekOfYear:function(){var a=86400000,b=7*a;return function(){var d=Date.UTC(this.getFullYear(),this.getMonth(),this.getDate()+3)/a,c=Math.floor(d/7),e=new Date(c*b).getUTCFullYear();return c-Math.floor(Date.UTC(e,0,7)/b)+1}}(),isLeapYear:function(){var a=this.getFullYear();return !!((a&3)==0&&(a%100||(a%400==0&&a)))},getFirstDayOfMonth:function(){var a=(this.getDay()-(this.getDate()-1))%7;return(a<0)?(a+7):a},getLastDayOfMonth:function(){return this.getLastDateOfMonth().getDay()},getFirstDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),1)},getLastDateOfMonth:function(){return new Date(this.getFullYear(),this.getMonth(),this.getDaysInMonth())},getDaysInMonth:function(){var a=[31,28,31,30,31,30,31,31,30,31,30,31];return function(){var b=this.getMonth();return b==1&&this.isLeapYear()?29:a[b]}}(),getSuffix:function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},clone:function(){return new Date(this.getTime())},isDST:function(){return new Date(this.getFullYear(),0,1).getTimezoneOffset()!=this.getTimezoneOffset()},clearTime:function(g){if(g){return this.clone().clearTime()}var b=this.getDate();this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);if(this.getDate()!=b){for(var a=1,e=this.add(Date.HOUR,a);e.getDate()!=b;a++,e=this.add(Date.HOUR,a)){}this.setDate(b);this.setHours(e.getHours())}return this},add:function(b,c){var e=this.clone();if(!b||c===0){return e}switch(b.toLowerCase()){case Date.MILLI:e.setMilliseconds(this.getMilliseconds()+c);break;case Date.SECOND:e.setSeconds(this.getSeconds()+c);break;case Date.MINUTE:e.setMinutes(this.getMinutes()+c);break;case Date.HOUR:e.setHours(this.getHours()+c);break;case Date.DAY:e.setDate(this.getDate()+c);break;case Date.MONTH:var a=this.getDate();if(a>28){a=Math.min(a,this.getFirstDateOfMonth().add("mo",c).getLastDateOfMonth().getDate())}e.setDate(a);e.setMonth(this.getMonth()+c);break;case Date.YEAR:e.setFullYear(this.getFullYear()+c);break}return e},between:function(c,a){var b=this.getTime();return c.getTime()<=b&&b<=a.getTime()}});Date.prototype.format=Date.prototype.dateFormat;if(Ext.isSafari&&(navigator.userAgent.match(/WebKit\/(\d+)/)[1]||NaN)<420){Ext.apply(Date.prototype,{_xMonth:Date.prototype.setMonth,_xDate:Date.prototype.setDate,setMonth:function(a){if(a<=-1){var d=Math.ceil(-a),c=Math.ceil(d/12),b=(d%12)?12-d%12:0;this.setFullYear(this.getFullYear()-c);return this._xMonth(b)}else{return this._xMonth(a)}},setDate:function(a){return this.setTime(this.getTime()-(this.getDate()-a)*86400000)}})}Ext.util.MixedCollection=function(b,a){this.items=[];this.map={};this.keys=[];this.length=0;this.addEvents("clear","add","replace","remove","sort");this.allowFunctions=b===true;if(a){this.getKey=a}Ext.util.MixedCollection.superclass.constructor.call(this)};Ext.extend(Ext.util.MixedCollection,Ext.util.Observable,{allowFunctions:false,add:function(b,c){if(arguments.length==1){c=arguments[0];b=this.getKey(c)}if(typeof b!="undefined"&&b!==null){var a=this.map[b];if(typeof a!="undefined"){return this.replace(b,c)}this.map[b]=c}this.length++;this.items.push(c);this.keys.push(b);this.fireEvent("add",this.length-1,c,b);return c},getKey:function(a){return a.id},replace:function(c,d){if(arguments.length==1){d=arguments[0];c=this.getKey(d)}var a=this.map[c];if(typeof c=="undefined"||c===null||typeof a=="undefined"){return this.add(c,d)}var b=this.indexOfKey(c);this.items[b]=d;this.map[c]=d;this.fireEvent("replace",c,a,d);return d},addAll:function(e){if(arguments.length>1||Ext.isArray(e)){var b=arguments.length>1?arguments:e;for(var d=0,a=b.length;d<a;d++){this.add(b[d])}}else{for(var c in e){if(this.allowFunctions||typeof e[c]!="function"){this.add(c,e[c])}}}},each:function(e,d){var b=[].concat(this.items);for(var c=0,a=b.length;c<a;c++){if(e.call(d||b[c],b[c],c,a)===false){break}}},eachKey:function(d,c){for(var b=0,a=this.keys.length;b<a;b++){d.call(c||window,this.keys[b],this.items[b],b,a)}},find:function(d,c){for(var b=0,a=this.items.length;b<a;b++){if(d.call(c||window,this.items[b],this.keys[b])){return this.items[b]}}return null},insert:function(a,b,c){if(arguments.length==2){c=arguments[1];b=this.getKey(c)}if(this.containsKey(b)){this.suspendEvents();this.removeKey(b);this.resumeEvents()}if(a>=this.length){return this.add(b,c)}this.length++;this.items.splice(a,0,c);if(typeof b!="undefined"&&b!==null){this.map[b]=c}this.keys.splice(a,0,b);this.fireEvent("add",a,c,b);return c},remove:function(a){return this.removeAt(this.indexOf(a))},removeAt:function(a){if(a<this.length&&a>=0){this.length--;var c=this.items[a];this.items.splice(a,1);var b=this.keys[a];if(typeof b!="undefined"){delete this.map[b]}this.keys.splice(a,1);this.fireEvent("remove",c,b);return c}return false},removeKey:function(a){return this.removeAt(this.indexOfKey(a))},getCount:function(){return this.length},indexOf:function(a){return this.items.indexOf(a)},indexOfKey:function(a){return this.keys.indexOf(a)},item:function(b){var a=this.map[b],c=a!==undefined?a:(typeof b=="number")?this.items[b]:undefined;return typeof c!="function"||this.allowFunctions?c:null},itemAt:function(a){return this.items[a]},key:function(a){return this.map[a]},contains:function(a){return this.indexOf(a)!=-1},containsKey:function(a){return typeof this.map[a]!="undefined"},clear:function(){this.length=0;this.items=[];this.keys=[];this.map={};this.fireEvent("clear")},first:function(){return this.items[0]},last:function(){return this.items[this.length-1]},_sort:function(k,a,j){var d,e,b=String(a).toUpperCase()=="DESC"?-1:1,h=[],l=this.keys,g=this.items;j=j||function(i,c){return i-c};for(d=0,e=g.length;d<e;d++){h[h.length]={key:l[d],value:g[d],index:d}}h.sort(function(i,c){var m=j(i[k],c[k])*b;if(m===0){m=(i.index<c.index?-1:1)}return m});for(d=0,e=h.length;d<e;d++){g[d]=h[d].value;l[d]=h[d].key}this.fireEvent("sort",this)},sort:function(a,b){this._sort("value",a,b)},reorder:function(d){this.suspendEvents();var b=this.items,c=0,g=b.length,a=[],e=[],h;for(h in d){a[d[h]]=b[h]}for(c=0;c<g;c++){if(d[c]==undefined){e.push(b[c])}}for(c=0;c<g;c++){if(a[c]==undefined){a[c]=e.shift()}}this.clear();this.addAll(a);this.resumeEvents();this.fireEvent("sort",this)},keySort:function(a,b){this._sort("key",a,b||function(d,c){var g=String(d).toUpperCase(),e=String(c).toUpperCase();return g>e?1:(g<e?-1:0)})},getRange:function(e,a){var b=this.items;if(b.length<1){return[]}e=e||0;a=Math.min(typeof a=="undefined"?this.length-1:a,this.length-1);var c,d=[];if(e<=a){for(c=e;c<=a;c++){d[d.length]=b[c]}}else{for(c=e;c>=a;c--){d[d.length]=b[c]}}return d},filter:function(c,b,d,a){if(Ext.isEmpty(b,false)){return this.clone()}b=this.createValueMatcher(b,d,a);return this.filterBy(function(e){return e&&b.test(e[c])})},filterBy:function(g,e){var h=new Ext.util.MixedCollection();h.getKey=this.getKey;var b=this.keys,d=this.items;for(var c=0,a=d.length;c<a;c++){if(g.call(e||this,d[c],b[c])){h.add(b[c],d[c])}}return h},findIndex:function(c,b,e,d,a){if(Ext.isEmpty(b,false)){return -1}b=this.createValueMatcher(b,d,a);return this.findIndexBy(function(g){return g&&b.test(g[c])},null,e)},findIndexBy:function(g,e,h){var b=this.keys,d=this.items;for(var c=(h||0),a=d.length;c<a;c++){if(g.call(e||this,d[c],b[c])){return c}}return -1},createValueMatcher:function(c,e,a,b){if(!c.exec){var d=Ext.escapeRe;c=String(c);if(e===true){c=d(c)}else{c="^"+d(c);if(b===true){c+="$"}}c=new RegExp(c,a?"":"i")}return c},clone:function(){var e=new Ext.util.MixedCollection();var b=this.keys,d=this.items;for(var c=0,a=d.length;c<a;c++){e.add(b[c],d[c])}e.getKey=this.getKey;return e}});Ext.util.MixedCollection.prototype.get=Ext.util.MixedCollection.prototype.item;Ext.AbstractManager=Ext.extend(Object,{typeName:"type",constructor:function(a){Ext.apply(this,a||{});this.all=new Ext.util.MixedCollection();this.types={}},get:function(a){return this.all.get(a)},register:function(a){this.all.add(a)},unregister:function(a){this.all.remove(a)},registerType:function(b,a){this.types[b]=a;a[this.typeName]=b},isRegistered:function(a){return this.types[a]!==undefined},create:function(a,d){var b=a[this.typeName]||a.type||d,c=this.types[b];if(c==undefined){throw new Error(String.format("The '{0}' type has not been registered with this manager",b))}return new c(a)},onAvailable:function(d,c,b){var a=this.all;a.on("add",function(e,g){if(g.id==d){c.call(b||g,g);a.un("add",c,b)}})}});Ext.util.Format=function(){var trimRe=/^\s+|\s+$/g,stripTagsRE=/<\/?[^>]+>/gi,stripScriptsRe=/(?:<script.*?>)((\n|\r|.)*?)(?:<\/script>)/ig,nl2brRe=/\r?\n/g;return{ellipsis:function(value,len,word){if(value&&value.length>len){if(word){var vs=value.substr(0,len-2),index=Math.max(vs.lastIndexOf(" "),vs.lastIndexOf("."),vs.lastIndexOf("!"),vs.lastIndexOf("?"));if(index==-1||index<(len-15)){return value.substr(0,len-3)+"..."}else{return vs.substr(0,index)+"..."}}else{return value.substr(0,len-3)+"..."}}return value},undef:function(value){return value!==undefined?value:""},defaultValue:function(value,defaultValue){return value!==undefined&&value!==""?value:defaultValue},htmlEncode:function(value){return !value?value:String(value).replace(/&/g,"&amp;").replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")},htmlDecode:function(value){return !value?value:String(value).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&")},trim:function(value){return String(value).replace(trimRe,"")},substr:function(value,start,length){return String(value).substr(start,length)},lowercase:function(value){return String(value).toLowerCase()},uppercase:function(value){return String(value).toUpperCase()},capitalize:function(value){return !value?value:value.charAt(0).toUpperCase()+value.substr(1).toLowerCase()},call:function(value,fn){if(arguments.length>2){var args=Array.prototype.slice.call(arguments,2);args.unshift(value);return eval(fn).apply(window,args)}else{return eval(fn).call(window,value)}},usMoney:function(v){v=(Math.round((v-0)*100))/100;v=(v==Math.floor(v))?v+".00":((v*10==Math.floor(v*10))?v+"0":v);v=String(v);var ps=v.split("."),whole=ps[0],sub=ps[1]?"."+ps[1]:".00",r=/(\d+)(\d{3})/;while(r.test(whole)){whole=whole.replace(r,"$1,$2")}v=whole+sub;if(v.charAt(0)=="-"){return"-$"+v.substr(1)}return"$"+v},date:function(v,format){if(!v){return""}if(!Ext.isDate(v)){v=new Date(Date.parse(v))}return v.dateFormat(format||"m/d/Y")},dateRenderer:function(format){return function(v){return Ext.util.Format.date(v,format)}},stripTags:function(v){return !v?v:String(v).replace(stripTagsRE,"")},stripScripts:function(v){return !v?v:String(v).replace(stripScriptsRe,"")},fileSize:function(size){if(size<1024){return size+" bytes"}else{if(size<1048576){return(Math.round(((size*10)/1024))/10)+" KB"}else{return(Math.round(((size*10)/1048576))/10)+" MB"}}},math:function(){var fns={};return function(v,a){if(!fns[a]){fns[a]=new Function("v","return v "+a+";")}return fns[a](v)}}(),round:function(value,precision){var result=Number(value);if(typeof precision=="number"){precision=Math.pow(10,precision);result=Math.round(value*precision)/precision}return result},number:function(v,format){if(!format){return v}v=Ext.num(v,NaN);if(isNaN(v)){return""}var comma=",",dec=".",i18n=false,neg=v<0;v=Math.abs(v);if(format.substr(format.length-2)=="/i"){format=format.substr(0,format.length-2);i18n=true;comma=".";dec=","}var hasComma=format.indexOf(comma)!=-1,psplit=(i18n?format.replace(/[^\d\,]/g,""):format.replace(/[^\d\.]/g,"")).split(dec);if(1<psplit.length){v=v.toFixed(psplit[1].length)}else{if(2<psplit.length){throw ("NumberFormatException: invalid format, formats should have no more than 1 period: "+format)}else{v=v.toFixed(0)}}var fnum=v.toString();psplit=fnum.split(".");if(hasComma){var cnum=psplit[0],parr=[],j=cnum.length,m=Math.floor(j/3),n=cnum.length%3||3,i;for(i=0;i<j;i+=n){if(i!=0){n=3}parr[parr.length]=cnum.substr(i,n);m-=1}fnum=parr.join(comma);if(psplit[1]){fnum+=dec+psplit[1]}}else{if(psplit[1]){fnum=psplit[0]+dec+psplit[1]}}return(neg?"-":"")+format.replace(/[\d,?\.?]+/,fnum)},numberRenderer:function(format){return function(v){return Ext.util.Format.number(v,format)}},plural:function(v,s,p){return v+" "+(v==1?s:(p?p:s+"s"))},nl2br:function(v){return Ext.isEmpty(v)?"":v.replace(nl2brRe,"<br/>")}}}();Ext.XTemplate=function(){Ext.XTemplate.superclass.constructor.apply(this,arguments);var y=this,j=y.html,q=/<tpl\b[^>]*>((?:(?=([^<]+))\2|<(?!tpl\b[^>]*>))*?)<\/tpl>/,d=/^<tpl\b[^>]*?for="(.*?)"/,v=/^<tpl\b[^>]*?if="(.*?)"/,x=/^<tpl\b[^>]*?exec="(.*?)"/,r,p=0,k=[],o="values",w="parent",l="xindex",n="xcount",e="return ",c="with(values){ ";j=["<tpl>",j,"</tpl>"].join("");while((r=j.match(q))){var b=r[0].match(d),a=r[0].match(v),A=r[0].match(x),g=null,h=null,t=null,z=b&&b[1]?b[1]:"";if(a){g=a&&a[1]?a[1]:null;if(g){h=new Function(o,w,l,n,c+e+(Ext.util.Format.htmlDecode(g))+"; }")}}if(A){g=A&&A[1]?A[1]:null;if(g){t=new Function(o,w,l,n,c+(Ext.util.Format.htmlDecode(g))+"; }")}}if(z){switch(z){case".":z=new Function(o,w,c+e+o+"; }");break;case"..":z=new Function(o,w,c+e+w+"; }");break;default:z=new Function(o,w,c+e+z+"; }")}}k.push({id:p,target:z,exec:t,test:h,body:r[1]||""});j=j.replace(r[0],"{xtpl"+p+"}");++p}for(var u=k.length-1;u>=0;--u){y.compileTpl(k[u])}y.master=k[k.length-1];y.tpls=k};Ext.extend(Ext.XTemplate,Ext.Template,{re:/\{([\w\-\.\#]+)(?:\:([\w\.]*)(?:\((.*?)?\))?)?(\s?[\+\-\*\\]\s?[\d\.\+\-\*\\\(\)]+)?\}/g,codeRe:/\{\[((?:\\\]|.|\n)*?)\]\}/g,applySubTemplate:function(a,k,j,d,c){var h=this,g,m=h.tpls[a],l,b=[];if((m.test&&!m.test.call(h,k,j,d,c))||(m.exec&&m.exec.call(h,k,j,d,c))){return""}l=m.target?m.target.call(h,k,j):k;g=l.length;j=m.target?k:j;if(m.target&&Ext.isArray(l)){for(var e=0,g=l.length;e<g;e++){b[b.length]=m.compiled.call(h,l[e],j,e+1,g)}return b.join("")}return m.compiled.call(h,l,j,d,c)},compileTpl:function(tpl){var fm=Ext.util.Format,useF=this.disableFormats!==true,sep=Ext.isGecko?"+":",",body;function fn(m,name,format,args,math){if(name.substr(0,4)=="xtpl"){return"'"+sep+"this.applySubTemplate("+name.substr(4)+", values, parent, xindex, xcount)"+sep+"'"}var v;if(name==="."){v="values"}else{if(name==="#"){v="xindex"}else{if(name.indexOf(".")!=-1){v=name}else{v="values['"+name+"']"}}}if(math){v="("+v+math+")"}if(format&&useF){args=args?","+args:"";if(format.substr(0,5)!="this."){format="fm."+format+"("}else{format='this.call("'+format.substr(5)+'", ';args=", values"}}else{args="";format="("+v+" === undefined ? '' : "}return"'"+sep+format+v+args+")"+sep+"'"}function codeFn(m,code){return"'"+sep+"("+code.replace(/\\'/g,"'")+")"+sep+"'"}if(Ext.isGecko){body="tpl.compiled = function(values, parent, xindex, xcount){ return '"+tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn)+"';};"}else{body=["tpl.compiled = function(values, parent, xindex, xcount){ return ['"];body.push(tpl.body.replace(/(\r\n|\n)/g,"\\n").replace(/'/g,"\\'").replace(this.re,fn).replace(this.codeRe,codeFn));body.push("'].join('');};");body=body.join("")}eval(body);return this},applyTemplate:function(a){return this.master.compiled.call(this,a,{},1,1)},compile:function(){return this}});Ext.XTemplate.prototype.apply=Ext.XTemplate.prototype.applyTemplate;Ext.XTemplate.from=function(a){a=Ext.getDom(a);return new Ext.XTemplate(a.value||a.innerHTML)};Ext.util.CSS=function(){var d=null;var c=document;var b=/(-[a-z])/gi;var a=function(e,g){return g.charAt(1).toUpperCase()};return{createStyleSheet:function(i,l){var h;var g=c.getElementsByTagName("head")[0];var k=c.createElement("style");k.setAttribute("type","text/css");if(l){k.setAttribute("id",l)}if(Ext.isIE){g.appendChild(k);h=k.styleSheet;h.cssText=i}else{try{k.appendChild(c.createTextNode(i))}catch(j){k.cssText=i}g.appendChild(k);h=k.styleSheet?k.styleSheet:(k.sheet||c.styleSheets[c.styleSheets.length-1])}this.cacheStyleSheet(h);return h},removeStyleSheet:function(g){var e=c.getElementById(g);if(e){e.parentNode.removeChild(e)}},swapStyleSheet:function(h,e){this.removeStyleSheet(h);var g=c.createElement("link");g.setAttribute("rel","stylesheet");g.setAttribute("type","text/css");g.setAttribute("id",h);g.setAttribute("href",e);c.getElementsByTagName("head")[0].appendChild(g)},refreshCache:function(){return this.getRules(true)},cacheStyleSheet:function(h){if(!d){d={}}try{var k=h.cssRules||h.rules;for(var g=k.length-1;g>=0;--g){d[k[g].selectorText.toLowerCase()]=k[g]}}catch(i){}},getRules:function(h){if(d===null||h){d={};var k=c.styleSheets;for(var j=0,g=k.length;j<g;j++){try{this.cacheStyleSheet(k[j])}catch(l){}}}return d},getRule:function(e,h){var g=this.getRules(h);if(!Ext.isArray(e)){return g[e.toLowerCase()]}for(var j=0;j<e.length;j++){if(g[e[j]]){return g[e[j].toLowerCase()]}}return null},updateRule:function(e,j,h){if(!Ext.isArray(e)){var k=this.getRule(e);if(k){k.style[j.replace(b,a)]=h;return true}}else{for(var g=0;g<e.length;g++){if(this.updateRule(e[g],j,h)){return true}}}return false}}}();Ext.util.ClickRepeater=Ext.extend(Ext.util.Observable,{constructor:function(b,a){this.el=Ext.get(b);this.el.unselectable();Ext.apply(this,a);this.addEvents("mousedown","click","mouseup");if(!this.disabled){this.disabled=true;this.enable()}if(this.handler){this.on("click",this.handler,this.scope||this)}Ext.util.ClickRepeater.superclass.constructor.call(this)},interval:20,delay:250,preventDefault:true,stopDefault:false,timer:0,enable:function(){if(this.disabled){this.el.on("mousedown",this.handleMouseDown,this);if(Ext.isIE){this.el.on("dblclick",this.handleDblClick,this)}if(this.preventDefault||this.stopDefault){this.el.on("click",this.eventOptions,this)}}this.disabled=false},disable:function(a){if(a||!this.disabled){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass)}Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeAllListeners()}this.disabled=true},setDisabled:function(a){this[a?"disable":"enable"]()},eventOptions:function(a){if(this.preventDefault){a.preventDefault()}if(this.stopDefault){a.stopEvent()}},destroy:function(){this.disable(true);Ext.destroy(this.el);this.purgeListeners()},handleDblClick:function(a){clearTimeout(this.timer);this.el.blur();this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a)},handleMouseDown:function(a){clearTimeout(this.timer);this.el.blur();if(this.pressClass){this.el.addClass(this.pressClass)}this.mousedownTime=new Date();Ext.getDoc().on("mouseup",this.handleMouseUp,this);this.el.on("mouseout",this.handleMouseOut,this);this.fireEvent("mousedown",this,a);this.fireEvent("click",this,a);if(this.accelerate){this.delay=400}this.timer=this.click.defer(this.delay||this.interval,this,[a])},click:function(a){this.fireEvent("click",this,a);this.timer=this.click.defer(this.accelerate?this.easeOutExpo(this.mousedownTime.getElapsed(),400,-390,12000):this.interval,this,[a])},easeOutExpo:function(e,a,h,g){return(e==g)?a+h:h*(-Math.pow(2,-10*e/g)+1)+a},handleMouseOut:function(){clearTimeout(this.timer);if(this.pressClass){this.el.removeClass(this.pressClass)}this.el.on("mouseover",this.handleMouseReturn,this)},handleMouseReturn:function(){this.el.un("mouseover",this.handleMouseReturn,this);if(this.pressClass){this.el.addClass(this.pressClass)}this.click()},handleMouseUp:function(a){clearTimeout(this.timer);this.el.un("mouseover",this.handleMouseReturn,this);this.el.un("mouseout",this.handleMouseOut,this);Ext.getDoc().un("mouseup",this.handleMouseUp,this);this.el.removeClass(this.pressClass);this.fireEvent("mouseup",this,a)}});Ext.KeyNav=function(b,a){this.el=Ext.get(b);Ext.apply(this,a);if(!this.disabled){this.disabled=true;this.enable()}};Ext.KeyNav.prototype={disabled:false,defaultEventAction:"stopEvent",forceKeyDown:false,relay:function(c){var a=c.getKey(),b=this.keyToHandler[a];if(b&&this[b]){if(this.doRelay(c,this[b],b)!==true){c[this.defaultEventAction]()}}},doRelay:function(c,b,a){return b.call(this.scope||this,c,a)},enter:false,left:false,right:false,up:false,down:false,tab:false,esc:false,pageUp:false,pageDown:false,del:false,home:false,end:false,space:false,keyToHandler:{37:"left",39:"right",38:"up",40:"down",33:"pageUp",34:"pageDown",46:"del",36:"home",35:"end",13:"enter",27:"esc",9:"tab",32:"space"},stopKeyUp:function(b){var a=b.getKey();if(a>=37&&a<=40){b.stopEvent()}},destroy:function(){this.disable()},enable:function(){if(this.disabled){if(Ext.isSafari2){this.el.on("keyup",this.stopKeyUp,this)}this.el.on(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=false}},disable:function(){if(!this.disabled){if(Ext.isSafari2){this.el.un("keyup",this.stopKeyUp,this)}this.el.un(this.isKeydown()?"keydown":"keypress",this.relay,this);this.disabled=true}},setDisabled:function(a){this[a?"disable":"enable"]()},isKeydown:function(){return this.forceKeyDown||Ext.EventManager.useKeydown}};Ext.KeyMap=function(c,b,a){this.el=Ext.get(c);this.eventName=a||"keydown";this.bindings=[];if(b){this.addBinding(b)}this.enable()};Ext.KeyMap.prototype={stopEvent:false,addBinding:function(b){if(Ext.isArray(b)){Ext.each(b,function(j){this.addBinding(j)},this);return}var k=b.key,g=b.fn||b.handler,l=b.scope;if(b.stopEvent){this.stopEvent=b.stopEvent}if(typeof k=="string"){var h=[];var e=k.toUpperCase();for(var c=0,d=e.length;c<d;c++){h.push(e.charCodeAt(c))}k=h}var a=Ext.isArray(k);var i=function(o){if(this.checkModifiers(b,o)){var m=o.getKey();if(a){for(var n=0,j=k.length;n<j;n++){if(k[n]==m){if(this.stopEvent){o.stopEvent()}g.call(l||window,m,o);return}}}else{if(m==k){if(this.stopEvent){o.stopEvent()}g.call(l||window,m,o)}}}};this.bindings.push(i)},checkModifiers:function(b,h){var j,d,g=["shift","ctrl","alt"];for(var c=0,a=g.length;c<a;++c){d=g[c];j=b[d];if(!(j===undefined||(j===h[d+"Key"]))){return false}}return true},on:function(b,d,c){var h,a,e,g;if(typeof b=="object"&&!Ext.isArray(b)){h=b.key;a=b.shift;e=b.ctrl;g=b.alt}else{h=b}this.addBinding({key:h,shift:a,ctrl:e,alt:g,fn:d,scope:c})},handleKeyDown:function(g){if(this.enabled){var c=this.bindings;for(var d=0,a=c.length;d<a;d++){c[d].call(this,g)}}},isEnabled:function(){return this.enabled},enable:function(){if(!this.enabled){this.el.on(this.eventName,this.handleKeyDown,this);this.enabled=true}},disable:function(){if(this.enabled){this.el.removeListener(this.eventName,this.handleKeyDown,this);this.enabled=false}},setDisabled:function(a){this[a?"disable":"enable"]()}};Ext.util.TextMetrics=function(){var a;return{measure:function(b,c,d){if(!a){a=Ext.util.TextMetrics.Instance(b,d)}a.bind(b);a.setFixedWidth(d||"auto");return a.getSize(c)},createInstance:function(b,c){return Ext.util.TextMetrics.Instance(b,c)}}}();Ext.util.TextMetrics.Instance=function(b,d){var c=new Ext.Element(document.createElement("div"));document.body.appendChild(c.dom);c.position("absolute");c.setLeftTop(-1000,-1000);c.hide();if(d){c.setWidth(d)}var a={getSize:function(g){c.update(g);var e=c.getSize();c.update("");return e},bind:function(e){c.setStyle(Ext.fly(e).getStyles("font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"))},setFixedWidth:function(e){c.setWidth(e)},getWidth:function(e){c.dom.style.width="auto";return this.getSize(e).width},getHeight:function(e){return this.getSize(e).height}};a.bind(b);return a};Ext.Element.addMethods({getTextWidth:function(c,b,a){return(Ext.util.TextMetrics.measure(this.dom,Ext.value(c,this.dom.innerHTML,true)).width).constrain(b||0,a||1000000)}});Ext.util.Cookies={set:function(c,e){var a=arguments;var i=arguments.length;var b=(i>2)?a[2]:null;var h=(i>3)?a[3]:"/";var d=(i>4)?a[4]:null;var g=(i>5)?a[5]:false;document.cookie=c+"="+escape(e)+((b===null)?"":("; expires="+b.toGMTString()))+((h===null)?"":("; path="+h))+((d===null)?"":("; domain="+d))+((g===true)?"; secure":"")},get:function(d){var b=d+"=";var g=b.length;var a=document.cookie.length;var e=0;var c=0;while(e<a){c=e+g;if(document.cookie.substring(e,c)==b){return Ext.util.Cookies.getCookieVal(c)}e=document.cookie.indexOf(" ",e)+1;if(e===0){break}}return null},clear:function(a){if(Ext.util.Cookies.get(a)){document.cookie=a+"=; expires=Thu, 01-Jan-70 00:00:01 GMT"}},getCookieVal:function(b){var a=document.cookie.indexOf(";",b);if(a==-1){a=document.cookie.length}return unescape(document.cookie.substring(b,a))}};Ext.handleError=function(a){throw a};Ext.Error=function(a){this.message=(this.lang[a])?this.lang[a]:a};Ext.Error.prototype=new Error();Ext.apply(Ext.Error.prototype,{lang:{},name:"Ext.Error",getName:function(){return this.name},getMessage:function(){return this.message},toJson:function(){return Ext.encode(this)}});Ext.ComponentMgr=function(){var c=new Ext.util.MixedCollection();var b={};var a={};return{register:function(d){c.add(d)},unregister:function(d){c.remove(d)},get:function(d){return c.get(d)},onAvailable:function(g,e,d){c.on("add",function(h,i){if(i.id==g){e.call(d||i,i);c.un("add",e,d)}})},all:c,types:b,ptypes:a,isRegistered:function(d){return b[d]!==undefined},isPluginRegistered:function(d){return a[d]!==undefined},registerType:function(e,d){b[e]=d;d.xtype=e},create:function(d,e){return d.render?d:new b[d.xtype||e](d)},registerPlugin:function(e,d){a[e]=d;d.ptype=e},createPlugin:function(e,g){var d=a[e.ptype||g];if(d.init){return d}else{return new d(e)}}}}();Ext.reg=Ext.ComponentMgr.registerType;Ext.preg=Ext.ComponentMgr.registerPlugin;Ext.create=Ext.ComponentMgr.create;Ext.Component=function(b){b=b||{};if(b.initialConfig){if(b.isAction){this.baseAction=b}b=b.initialConfig}else{if(b.tagName||b.dom||Ext.isString(b)){b={applyTo:b,id:b.id||b}}}this.initialConfig=b;Ext.apply(this,b);this.addEvents("added","disable","enable","beforeshow","show","beforehide","hide","removed","beforerender","render","afterrender","beforedestroy","destroy","beforestaterestore","staterestore","beforestatesave","statesave");this.getId();Ext.ComponentMgr.register(this);Ext.Component.superclass.constructor.call(this);if(this.baseAction){this.baseAction.addComponent(this)}this.initComponent();if(this.plugins){if(Ext.isArray(this.plugins)){for(var c=0,a=this.plugins.length;c<a;c++){this.plugins[c]=this.initPlugin(this.plugins[c])}}else{this.plugins=this.initPlugin(this.plugins)}}if(this.stateful!==false){this.initState()}if(this.applyTo){this.applyToMarkup(this.applyTo);delete this.applyTo}else{if(this.renderTo){this.render(this.renderTo);delete this.renderTo}}};Ext.Component.AUTO_ID=1000;Ext.extend(Ext.Component,Ext.util.Observable,{disabled:false,hidden:false,autoEl:"div",disabledClass:"x-item-disabled",allowDomMove:true,autoShow:false,hideMode:"display",hideParent:false,rendered:false,tplWriteMode:"overwrite",bubbleEvents:[],ctype:"Ext.Component",actionMode:"el",getActionEl:function(){return this[this.actionMode]},initPlugin:function(a){if(a.ptype&&!Ext.isFunction(a.init)){a=Ext.ComponentMgr.createPlugin(a)}else{if(Ext.isString(a)){a=Ext.ComponentMgr.createPlugin({ptype:a})}}a.init(this);return a},initComponent:function(){if(this.listeners){this.on(this.listeners);delete this.listeners}this.enableBubble(this.bubbleEvents)},render:function(b,a){if(!this.rendered&&this.fireEvent("beforerender",this)!==false){if(!b&&this.el){this.el=Ext.get(this.el);b=this.el.dom.parentNode;this.allowDomMove=false}this.container=Ext.get(b);if(this.ctCls){this.container.addClass(this.ctCls)}this.rendered=true;if(a!==undefined){if(Ext.isNumber(a)){a=this.container.dom.childNodes[a]}else{a=Ext.getDom(a)}}this.onRender(this.container,a||null);if(this.autoShow){this.el.removeClass(["x-hidden","x-hide-"+this.hideMode])}if(this.cls){this.el.addClass(this.cls);delete this.cls}if(this.style){this.el.applyStyles(this.style);delete this.style}if(this.overCls){this.el.addClassOnOver(this.overCls)}this.fireEvent("render",this);var c=this.getContentTarget();if(this.html){c.update(Ext.DomHelper.markup(this.html));delete this.html}if(this.contentEl){var d=Ext.getDom(this.contentEl);Ext.fly(d).removeClass(["x-hidden","x-hide-display"]);c.appendChild(d)}if(this.tpl){if(!this.tpl.compile){this.tpl=new Ext.XTemplate(this.tpl)}if(this.data){this.tpl[this.tplWriteMode](c,this.data);delete this.data}}this.afterRender(this.container);if(this.hidden){this.doHide()}if(this.disabled){this.disable(true)}if(this.stateful!==false){this.initStateEvents()}this.fireEvent("afterrender",this)}return this},update:function(b,d,a){var c=this.getContentTarget();if(this.tpl&&typeof b!=="string"){this.tpl[this.tplWriteMode](c,b||{})}else{var e=Ext.isObject(b)?Ext.DomHelper.markup(b):b;c.update(e,d,a)}},onAdded:function(a,b){this.ownerCt=a;this.initRef();this.fireEvent("added",this,a,b)},onRemoved:function(){this.removeRef();this.fireEvent("removed",this,this.ownerCt);delete this.ownerCt},initRef:function(){if(this.ref&&!this.refOwner){var d=this.ref.split("/"),c=d.length,b=0,a=this;while(a&&b<c){a=a.ownerCt;++b}if(a){a[this.refName=d[--b]]=this;this.refOwner=a}}},removeRef:function(){if(this.refOwner&&this.refName){delete this.refOwner[this.refName];delete this.refOwner}},initState:function(){if(Ext.state.Manager){var b=this.getStateId();if(b){var a=Ext.state.Manager.get(b);if(a){if(this.fireEvent("beforestaterestore",this,a)!==false){this.applyState(Ext.apply({},a));this.fireEvent("staterestore",this,a)}}}}},getStateId:function(){return this.stateId||((/^(ext-comp-|ext-gen)/).test(String(this.id))?null:this.id)},initStateEvents:function(){if(this.stateEvents){for(var a=0,b;b=this.stateEvents[a];a++){this.on(b,this.saveState,this,{delay:100})}}},applyState:function(a){if(a){Ext.apply(this,a)}},getState:function(){return null},saveState:function(){if(Ext.state.Manager&&this.stateful!==false){var b=this.getStateId();if(b){var a=this.getState();if(this.fireEvent("beforestatesave",this,a)!==false){Ext.state.Manager.set(b,a);this.fireEvent("statesave",this,a)}}}},applyToMarkup:function(a){this.allowDomMove=false;this.el=Ext.get(a);this.render(this.el.dom.parentNode)},addClass:function(a){if(this.el){this.el.addClass(a)}else{this.cls=this.cls?this.cls+" "+a:a}return this},removeClass:function(a){if(this.el){this.el.removeClass(a)}else{if(this.cls){this.cls=this.cls.split(" ").remove(a).join(" ")}}return this},onRender:function(b,a){if(!this.el&&this.autoEl){if(Ext.isString(this.autoEl)){this.el=document.createElement(this.autoEl)}else{var c=document.createElement("div");Ext.DomHelper.overwrite(c,this.autoEl);this.el=c.firstChild}if(!this.el.id){this.el.id=this.getId()}}if(this.el){this.el=Ext.get(this.el);if(this.allowDomMove!==false){b.dom.insertBefore(this.el.dom,a);if(c){Ext.removeNode(c);c=null}}}},getAutoCreate:function(){var a=Ext.isObject(this.autoCreate)?this.autoCreate:Ext.apply({},this.defaultAutoCreate);if(this.id&&!a.id){a.id=this.id}return a},afterRender:Ext.emptyFn,destroy:function(){if(!this.isDestroyed){if(this.fireEvent("beforedestroy",this)!==false){this.destroying=true;this.beforeDestroy();if(this.ownerCt&&this.ownerCt.remove){this.ownerCt.remove(this,false)}if(this.rendered){this.el.remove();if(this.actionMode=="container"||this.removeMode=="container"){this.container.remove()}}if(this.focusTask&&this.focusTask.cancel){this.focusTask.cancel()}this.onDestroy();Ext.ComponentMgr.unregister(this);this.fireEvent("destroy",this);this.purgeListeners();this.destroying=false;this.isDestroyed=true}}},deleteMembers:function(){var b=arguments;for(var c=0,a=b.length;c<a;++c){delete this[b[c]]}},beforeDestroy:Ext.emptyFn,onDestroy:Ext.emptyFn,getEl:function(){return this.el},getContentTarget:function(){return this.el},getId:function(){return this.id||(this.id="ext-comp-"+(++Ext.Component.AUTO_ID))},getItemId:function(){return this.itemId||this.getId()},focus:function(b,a){if(a){this.focusTask=new Ext.util.DelayedTask(this.focus,this,[b,false]);this.focusTask.delay(Ext.isNumber(a)?a:10);return this}if(this.rendered&&!this.isDestroyed){this.el.focus();if(b===true){this.el.dom.select()}}return this},blur:function(){if(this.rendered){this.el.blur()}return this},disable:function(a){if(this.rendered){this.onDisable()}this.disabled=true;if(a!==true){this.fireEvent("disable",this)}return this},onDisable:function(){this.getActionEl().addClass(this.disabledClass);this.el.dom.disabled=true},enable:function(){if(this.rendered){this.onEnable()}this.disabled=false;this.fireEvent("enable",this);return this},onEnable:function(){this.getActionEl().removeClass(this.disabledClass);this.el.dom.disabled=false},setDisabled:function(a){return this[a?"disable":"enable"]()},show:function(){if(this.fireEvent("beforeshow",this)!==false){this.hidden=false;if(this.autoRender){this.render(Ext.isBoolean(this.autoRender)?Ext.getBody():this.autoRender)}if(this.rendered){this.onShow()}this.fireEvent("show",this)}return this},onShow:function(){this.getVisibilityEl().removeClass("x-hide-"+this.hideMode)},hide:function(){if(this.fireEvent("beforehide",this)!==false){this.doHide();this.fireEvent("hide",this)}return this},doHide:function(){this.hidden=true;if(this.rendered){this.onHide()}},onHide:function(){this.getVisibilityEl().addClass("x-hide-"+this.hideMode)},getVisibilityEl:function(){return this.hideParent?this.container:this.getActionEl()},setVisible:function(a){return this[a?"show":"hide"]()},isVisible:function(){return this.rendered&&this.getVisibilityEl().isVisible()},cloneConfig:function(b){b=b||{};var c=b.id||Ext.id();var a=Ext.applyIf(b,this.initialConfig);a.id=c;return new this.constructor(a)},getXType:function(){return this.constructor.xtype},isXType:function(b,a){if(Ext.isFunction(b)){b=b.xtype}else{if(Ext.isObject(b)){b=b.constructor.xtype}}return !a?("/"+this.getXTypes()+"/").indexOf("/"+b+"/")!=-1:this.constructor.xtype==b},getXTypes:function(){var a=this.constructor;if(!a.xtypes){var d=[],b=this;while(b&&b.constructor.xtype){d.unshift(b.constructor.xtype);b=b.constructor.superclass}a.xtypeChain=d;a.xtypes=d.join("/")}return a.xtypes},findParentBy:function(a){for(var b=this.ownerCt;(b!=null)&&!a(b,this);b=b.ownerCt){}return b||null},findParentByType:function(b,a){return this.findParentBy(function(d){return d.isXType(b,a)})},bubble:function(c,b,a){var d=this;while(d){if(c.apply(b||d,a||[d])===false){break}d=d.ownerCt}return this},getPositionEl:function(){return this.positionEl||this.el},purgeListeners:function(){Ext.Component.superclass.purgeListeners.call(this);if(this.mons){this.on("beforedestroy",this.clearMons,this,{single:true})}},clearMons:function(){Ext.each(this.mons,function(a){a.item.un(a.ename,a.fn,a.scope)},this);this.mons=[]},createMons:function(){if(!this.mons){this.mons=[];this.on("beforedestroy",this.clearMons,this,{single:true})}},mon:function(g,b,d,c,a){this.createMons();if(Ext.isObject(b)){var j=/^(?:scope|delay|buffer|single|stopEvent|preventDefault|stopPropagation|normalized|args|delegate)$/;var i=b;for(var h in i){if(j.test(h)){continue}if(Ext.isFunction(i[h])){this.mons.push({item:g,ename:h,fn:i[h],scope:i.scope});g.on(h,i[h],i.scope,i)}else{this.mons.push({item:g,ename:h,fn:i[h],scope:i.scope});g.on(h,i[h])}}return}this.mons.push({item:g,ename:b,fn:d,scope:c});g.on(b,d,c,a)},mun:function(h,c,g,e){var j,d;this.createMons();for(var b=0,a=this.mons.length;b<a;++b){d=this.mons[b];if(h===d.item&&c==d.ename&&g===d.fn&&e===d.scope){this.mons.splice(b,1);h.un(c,g,e);j=true;break}}return j},nextSibling:function(){if(this.ownerCt){var a=this.ownerCt.items.indexOf(this);if(a!=-1&&a+1<this.ownerCt.items.getCount()){return this.ownerCt.items.itemAt(a+1)}}return null},previousSibling:function(){if(this.ownerCt){var a=this.ownerCt.items.indexOf(this);if(a>0){return this.ownerCt.items.itemAt(a-1)}}return null},getBubbleTarget:function(){return this.ownerCt}});Ext.reg("component",Ext.Component);Ext.Action=Ext.extend(Object,{constructor:function(a){this.initialConfig=a;this.itemId=a.itemId=(a.itemId||a.id||Ext.id());this.items=[]},isAction:true,setText:function(a){this.initialConfig.text=a;this.callEach("setText",[a])},getText:function(){return this.initialConfig.text},setIconClass:function(a){this.initialConfig.iconCls=a;this.callEach("setIconClass",[a])},getIconClass:function(){return this.initialConfig.iconCls},setDisabled:function(a){this.initialConfig.disabled=a;this.callEach("setDisabled",[a])},enable:function(){this.setDisabled(false)},disable:function(){this.setDisabled(true)},isDisabled:function(){return this.initialConfig.disabled},setHidden:function(a){this.initialConfig.hidden=a;this.callEach("setVisible",[!a])},show:function(){this.setHidden(false)},hide:function(){this.setHidden(true)},isHidden:function(){return this.initialConfig.hidden},setHandler:function(b,a){this.initialConfig.handler=b;this.initialConfig.scope=a;this.callEach("setHandler",[b,a])},each:function(b,a){Ext.each(this.items,b,a)},callEach:function(e,b){var d=this.items;for(var c=0,a=d.length;c<a;c++){d[c][e].apply(d[c],b)}},addComponent:function(a){this.items.push(a);a.on("destroy",this.removeComponent,this)},removeComponent:function(a){this.items.remove(a)},execute:function(){this.initialConfig.handler.apply(this.initialConfig.scope||window,arguments)}});(function(){Ext.Layer=function(d,c){d=d||{};var e=Ext.DomHelper,h=d.parentEl,g=h?Ext.getDom(h):document.body;if(c){this.dom=Ext.getDom(c)}if(!this.dom){var i=d.dh||{tag:"div",cls:"x-layer"};this.dom=e.append(g,i)}if(d.cls){this.addClass(d.cls)}this.constrain=d.constrain!==false;this.setVisibilityMode(Ext.Element.VISIBILITY);if(d.id){this.id=this.dom.id=d.id}else{this.id=Ext.id(this.dom)}this.zindex=d.zindex||this.getZIndex();this.position("absolute",this.zindex);if(d.shadow){this.shadowOffset=d.shadowOffset||4;this.shadow=new Ext.Shadow({offset:this.shadowOffset,mode:d.shadow})}else{this.shadowOffset=0}this.useShim=d.shim!==false&&Ext.useShims;this.useDisplay=d.useDisplay;this.hide()};var a=Ext.Element.prototype;var b=[];Ext.extend(Ext.Layer,Ext.Element,{getZIndex:function(){return this.zindex||parseInt((this.getShim()||this).getStyle("z-index"),10)||11000},getShim:function(){if(!this.useShim){return null}if(this.shim){return this.shim}var d=b.shift();if(!d){d=this.createShim();d.enableDisplayMode("block");d.dom.style.display="none";d.dom.style.visibility="visible"}var c=this.dom.parentNode;if(d.dom.parentNode!=c){c.insertBefore(d.dom,this.dom)}d.setStyle("z-index",this.getZIndex()-2);this.shim=d;return d},hideShim:function(){if(this.shim){this.shim.setDisplayed(false);b.push(this.shim);delete this.shim}},disableShadow:function(){if(this.shadow){this.shadowDisabled=true;this.shadow.hide();this.lastShadowOffset=this.shadowOffset;this.shadowOffset=0}},enableShadow:function(c){if(this.shadow){this.shadowDisabled=false;if(Ext.isDefined(this.lastShadowOffset)){this.shadowOffset=this.lastShadowOffset;delete this.lastShadowOffset}if(c){this.sync(true)}}},sync:function(d){var n=this.shadow;if(!this.updating&&this.isVisible()&&(n||this.useShim)){var i=this.getShim(),m=this.getWidth(),j=this.getHeight(),e=this.getLeft(true),o=this.getTop(true);if(n&&!this.shadowDisabled){if(d&&!n.isVisible()){n.show(this)}else{n.realign(e,o,m,j)}if(i){if(d){i.show()}var k=n.el.getXY(),g=i.dom.style,c=n.el.getSize();g.left=(k[0])+"px";g.top=(k[1])+"px";g.width=(c.width)+"px";g.height=(c.height)+"px"}}else{if(i){if(d){i.show()}i.setSize(m,j);i.setLeftTop(e,o)}}}},destroy:function(){this.hideShim();if(this.shadow){this.shadow.hide()}this.removeAllListeners();Ext.removeNode(this.dom);delete this.dom},remove:function(){this.destroy()},beginUpdate:function(){this.updating=true},endUpdate:function(){this.updating=false;this.sync(true)},hideUnders:function(c){if(this.shadow){this.shadow.hide()}this.hideShim()},constrainXY:function(){if(this.constrain){var j=Ext.lib.Dom.getViewWidth(),d=Ext.lib.Dom.getViewHeight();var o=Ext.getDoc().getScroll();var n=this.getXY();var k=n[0],i=n[1];var c=this.shadowOffset;var l=this.dom.offsetWidth+c,e=this.dom.offsetHeight+c;var g=false;if((k+l)>j+o.left){k=j-l-c;g=true}if((i+e)>d+o.top){i=d-e-c;g=true}if(k<o.left){k=o.left;g=true}if(i<o.top){i=o.top;g=true}if(g){if(this.avoidY){var m=this.avoidY;if(i<=m&&(i+e)>=m){i=m-e-5}}n=[k,i];this.storeXY(n);a.setXY.call(this,n);this.sync()}}return this},getConstrainOffset:function(){return this.shadowOffset},isVisible:function(){return this.visible},showAction:function(){this.visible=true;if(this.useDisplay===true){this.setDisplayed("")}else{if(this.lastXY){a.setXY.call(this,this.lastXY)}else{if(this.lastLT){a.setLeftTop.call(this,this.lastLT[0],this.lastLT[1])}}}},hideAction:function(){this.visible=false;if(this.useDisplay===true){this.setDisplayed(false)}else{this.setLeftTop(-10000,-10000)}},setVisible:function(i,h,k,l,j){if(i){this.showAction()}if(h&&i){var g=function(){this.sync(true);if(l){l()}}.createDelegate(this);a.setVisible.call(this,true,true,k,g,j)}else{if(!i){this.hideUnders(true)}var g=l;if(h){g=function(){this.hideAction();if(l){l()}}.createDelegate(this)}a.setVisible.call(this,i,h,k,g,j);if(i){this.sync(true)}else{if(!h){this.hideAction()}}}return this},storeXY:function(c){delete this.lastLT;this.lastXY=c},storeLeftTop:function(d,c){delete this.lastXY;this.lastLT=[d,c]},beforeFx:function(){this.beforeAction();return Ext.Layer.superclass.beforeFx.apply(this,arguments)},afterFx:function(){Ext.Layer.superclass.afterFx.apply(this,arguments);this.sync(this.isVisible())},beforeAction:function(){if(!this.updating&&this.shadow){this.shadow.hide()}},setLeft:function(c){this.storeLeftTop(c,this.getTop(true));a.setLeft.apply(this,arguments);this.sync();return this},setTop:function(c){this.storeLeftTop(this.getLeft(true),c);a.setTop.apply(this,arguments);this.sync();return this},setLeftTop:function(d,c){this.storeLeftTop(d,c);a.setLeftTop.apply(this,arguments);this.sync();return this},setXY:function(j,h,k,l,i){this.fixDisplay();this.beforeAction();this.storeXY(j);var g=this.createCB(l);a.setXY.call(this,j,h,k,g,i);if(!h){g()}return this},createCB:function(e){var d=this;return function(){d.constrainXY();d.sync(true);if(e){e()}}},setX:function(g,h,j,k,i){this.setXY([g,this.getY()],h,j,k,i);return this},setY:function(k,g,i,j,h){this.setXY([this.getX(),k],g,i,j,h);return this},setSize:function(j,k,i,m,n,l){this.beforeAction();var g=this.createCB(n);a.setSize.call(this,j,k,i,m,g,l);if(!i){g()}return this},setWidth:function(i,h,k,l,j){this.beforeAction();var g=this.createCB(l);a.setWidth.call(this,i,h,k,g,j);if(!h){g()}return this},setHeight:function(j,i,l,m,k){this.beforeAction();var g=this.createCB(m);a.setHeight.call(this,j,i,l,g,k);if(!i){g()}return this},setBounds:function(o,m,p,i,n,k,l,j){this.beforeAction();var g=this.createCB(l);if(!n){this.storeXY([o,m]);a.setXY.call(this,[o,m]);a.setSize.call(this,p,i,n,k,g,j);g()}else{a.setBounds.call(this,o,m,p,i,n,k,g,j)}return this},setZIndex:function(c){this.zindex=c;this.setStyle("z-index",c+2);if(this.shadow){this.shadow.setZIndex(c+1)}if(this.shim){this.shim.setStyle("z-index",c)}return this}})})();Ext.Shadow=function(d){Ext.apply(this,d);if(typeof this.mode!="string"){this.mode=this.defaultMode}var e=this.offset,c={h:0},b=Math.floor(this.offset/2);switch(this.mode.toLowerCase()){case"drop":c.w=0;c.l=c.t=e;c.t-=1;if(Ext.isIE){c.l-=this.offset+b;c.t-=this.offset+b;c.w-=b;c.h-=b;c.t+=1}break;case"sides":c.w=(e*2);c.l=-e;c.t=e-1;if(Ext.isIE){c.l-=(this.offset-b);c.t-=this.offset+b;c.l+=1;c.w-=(this.offset-b)*2;c.w-=b+1;c.h-=1}break;case"frame":c.w=c.h=(e*2);c.l=c.t=-e;c.t+=1;c.h-=2;if(Ext.isIE){c.l-=(this.offset-b);c.t-=(this.offset-b);c.l+=1;c.w-=(this.offset+b+1);c.h-=(this.offset+b);c.h+=1}break}this.adjusts=c};Ext.Shadow.prototype={offset:4,defaultMode:"drop",show:function(a){a=Ext.get(a);if(!this.el){this.el=Ext.Shadow.Pool.pull();if(this.el.dom.nextSibling!=a.dom){this.el.insertBefore(a)}}this.el.setStyle("z-index",this.zIndex||parseInt(a.getStyle("z-index"),10)-1);if(Ext.isIE){this.el.dom.style.filter="progid:DXImageTransform.Microsoft.alpha(opacity=50) progid:DXImageTransform.Microsoft.Blur(pixelradius="+(this.offset)+")"}this.realign(a.getLeft(true),a.getTop(true),a.getWidth(),a.getHeight());this.el.dom.style.display="block"},isVisible:function(){return this.el?true:false},realign:function(b,r,q,g){if(!this.el){return}var n=this.adjusts,k=this.el.dom,u=k.style,i=0,p=(q+n.w),e=(g+n.h),j=p+"px",o=e+"px",m,c;u.left=(b+n.l)+"px";u.top=(r+n.t)+"px";if(u.width!=j||u.height!=o){u.width=j;u.height=o;if(!Ext.isIE){m=k.childNodes;c=Math.max(0,(p-12))+"px";m[0].childNodes[1].style.width=c;m[1].childNodes[1].style.width=c;m[2].childNodes[1].style.width=c;m[1].style.height=Math.max(0,(e-12))+"px"}}},hide:function(){if(this.el){this.el.dom.style.display="none";Ext.Shadow.Pool.push(this.el);delete this.el}},setZIndex:function(a){this.zIndex=a;if(this.el){this.el.setStyle("z-index",a)}}};Ext.Shadow.Pool=function(){var b=[],a=Ext.isIE?'<div class="x-ie-shadow"></div>':'<div class="x-shadow"><div class="xst"><div class="xstl"></div><div class="xstc"></div><div class="xstr"></div></div><div class="xsc"><div class="xsml"></div><div class="xsmc"></div><div class="xsmr"></div></div><div class="xsb"><div class="xsbl"></div><div class="xsbc"></div><div class="xsbr"></div></div></div>';return{pull:function(){var c=b.shift();if(!c){c=Ext.get(Ext.DomHelper.insertHtml("beforeBegin",document.body.firstChild,a));c.autoBoxAdjust=false}return c},push:function(c){b.push(c)}}}();Ext.BoxComponent=Ext.extend(Ext.Component,{initComponent:function(){Ext.BoxComponent.superclass.initComponent.call(this);this.addEvents("resize","move")},boxReady:false,deferHeight:false,setSize:function(b,d){if(typeof b=="object"){d=b.height;b=b.width}if(Ext.isDefined(b)&&Ext.isDefined(this.boxMinWidth)&&(b<this.boxMinWidth)){b=this.boxMinWidth}if(Ext.isDefined(d)&&Ext.isDefined(this.boxMinHeight)&&(d<this.boxMinHeight)){d=this.boxMinHeight}if(Ext.isDefined(b)&&Ext.isDefined(this.boxMaxWidth)&&(b>this.boxMaxWidth)){b=this.boxMaxWidth}if(Ext.isDefined(d)&&Ext.isDefined(this.boxMaxHeight)&&(d>this.boxMaxHeight)){d=this.boxMaxHeight}if(!this.boxReady){this.width=b;this.height=d;return this}if(this.cacheSizes!==false&&this.lastSize&&this.lastSize.width==b&&this.lastSize.height==d){return this}this.lastSize={width:b,height:d};var c=this.adjustSize(b,d),g=c.width,a=c.height,e;if(g!==undefined||a!==undefined){e=this.getResizeEl();if(!this.deferHeight&&g!==undefined&&a!==undefined){e.setSize(g,a)}else{if(!this.deferHeight&&a!==undefined){e.setHeight(a)}else{if(g!==undefined){e.setWidth(g)}}}this.onResize(g,a,b,d);this.fireEvent("resize",this,g,a,b,d)}return this},setWidth:function(a){return this.setSize(a)},setHeight:function(a){return this.setSize(undefined,a)},getSize:function(){return this.getResizeEl().getSize()},getWidth:function(){return this.getResizeEl().getWidth()},getHeight:function(){return this.getResizeEl().getHeight()},getOuterSize:function(){var a=this.getResizeEl();return{width:a.getWidth()+a.getMargins("lr"),height:a.getHeight()+a.getMargins("tb")}},getPosition:function(a){var b=this.getPositionEl();if(a===true){return[b.getLeft(true),b.getTop(true)]}return this.xy||b.getXY()},getBox:function(a){var c=this.getPosition(a);var b=this.getSize();b.x=c[0];b.y=c[1];return b},updateBox:function(a){this.setSize(a.width,a.height);this.setPagePosition(a.x,a.y);return this},getResizeEl:function(){return this.resizeEl||this.el},setAutoScroll:function(a){if(this.rendered){this.getContentTarget().setOverflow(a?"auto":"")}this.autoScroll=a;return this},setPosition:function(a,g){if(a&&typeof a[1]=="number"){g=a[1];a=a[0]}this.x=a;this.y=g;if(!this.boxReady){return this}var b=this.adjustPosition(a,g);var e=b.x,d=b.y;var c=this.getPositionEl();if(e!==undefined||d!==undefined){if(e!==undefined&&d!==undefined){c.setLeftTop(e,d)}else{if(e!==undefined){c.setLeft(e)}else{if(d!==undefined){c.setTop(d)}}}this.onPosition(e,d);this.fireEvent("move",this,e,d)}return this},setPagePosition:function(a,c){if(a&&typeof a[1]=="number"){c=a[1];a=a[0]}this.pageX=a;this.pageY=c;if(!this.boxReady){return}if(a===undefined||c===undefined){return}var b=this.getPositionEl().translatePoints(a,c);this.setPosition(b.left,b.top);return this},afterRender:function(){Ext.BoxComponent.superclass.afterRender.call(this);if(this.resizeEl){this.resizeEl=Ext.get(this.resizeEl)}if(this.positionEl){this.positionEl=Ext.get(this.positionEl)}this.boxReady=true;Ext.isDefined(this.autoScroll)&&this.setAutoScroll(this.autoScroll);this.setSize(this.width,this.height);if(this.x||this.y){this.setPosition(this.x,this.y)}else{if(this.pageX||this.pageY){this.setPagePosition(this.pageX,this.pageY)}}},syncSize:function(){delete this.lastSize;this.setSize(this.autoWidth?undefined:this.getResizeEl().getWidth(),this.autoHeight?undefined:this.getResizeEl().getHeight());return this},onResize:function(d,b,a,c){},onPosition:function(a,b){},adjustSize:function(a,b){if(this.autoWidth){a="auto"}if(this.autoHeight){b="auto"}return{width:a,height:b}},adjustPosition:function(a,b){return{x:a,y:b}}});Ext.reg("box",Ext.BoxComponent);Ext.Spacer=Ext.extend(Ext.BoxComponent,{autoEl:"div"});Ext.reg("spacer",Ext.Spacer);Ext.SplitBar=function(c,e,b,d,a){this.el=Ext.get(c,true);this.el.dom.unselectable="on";this.resizingEl=Ext.get(e,true);this.orientation=b||Ext.SplitBar.HORIZONTAL;this.minSize=0;this.maxSize=2000;this.animate=false;this.useShim=false;this.shim=null;if(!a){this.proxy=Ext.SplitBar.createProxy(this.orientation)}else{this.proxy=Ext.get(a).dom}this.dd=new Ext.dd.DDProxy(this.el.dom.id,"XSplitBars",{dragElId:this.proxy.id});this.dd.b4StartDrag=this.onStartProxyDrag.createDelegate(this);this.dd.endDrag=this.onEndProxyDrag.createDelegate(this);this.dragSpecs={};this.adapter=new Ext.SplitBar.BasicLayoutAdapter();this.adapter.init(this);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.placement=d||(this.el.getX()>this.resizingEl.getX()?Ext.SplitBar.LEFT:Ext.SplitBar.RIGHT);this.el.addClass("x-splitbar-h")}else{this.placement=d||(this.el.getY()>this.resizingEl.getY()?Ext.SplitBar.TOP:Ext.SplitBar.BOTTOM);this.el.addClass("x-splitbar-v")}this.addEvents("resize","moved","beforeresize","beforeapply");Ext.SplitBar.superclass.constructor.call(this)};Ext.extend(Ext.SplitBar,Ext.util.Observable,{onStartProxyDrag:function(a,e){this.fireEvent("beforeresize",this);this.overlay=Ext.DomHelper.append(document.body,{cls:"x-drag-overlay",html:"&#160;"},true);this.overlay.unselectable();this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();Ext.get(this.proxy).setDisplayed("block");var c=this.adapter.getElementSize(this);this.activeMinSize=this.getMinimumSize();this.activeMaxSize=this.getMaximumSize();var d=c-this.activeMinSize;var b=Math.max(this.activeMaxSize-c,0);if(this.orientation==Ext.SplitBar.HORIZONTAL){this.dd.resetConstraints();this.dd.setXConstraint(this.placement==Ext.SplitBar.LEFT?d:b,this.placement==Ext.SplitBar.LEFT?b:d,this.tickSize);this.dd.setYConstraint(0,0)}else{this.dd.resetConstraints();this.dd.setXConstraint(0,0);this.dd.setYConstraint(this.placement==Ext.SplitBar.TOP?d:b,this.placement==Ext.SplitBar.TOP?b:d,this.tickSize)}this.dragSpecs.startSize=c;this.dragSpecs.startPoint=[a,e];Ext.dd.DDProxy.prototype.b4StartDrag.call(this.dd,a,e)},onEndProxyDrag:function(c){Ext.get(this.proxy).setDisplayed(false);var b=Ext.lib.Event.getXY(c);if(this.overlay){Ext.destroy(this.overlay);delete this.overlay}var a;if(this.orientation==Ext.SplitBar.HORIZONTAL){a=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.LEFT?b[0]-this.dragSpecs.startPoint[0]:this.dragSpecs.startPoint[0]-b[0])}else{a=this.dragSpecs.startSize+(this.placement==Ext.SplitBar.TOP?b[1]-this.dragSpecs.startPoint[1]:this.dragSpecs.startPoint[1]-b[1])}a=Math.min(Math.max(a,this.activeMinSize),this.activeMaxSize);if(a!=this.dragSpecs.startSize){if(this.fireEvent("beforeapply",this,a)!==false){this.adapter.setElementSize(this,a);this.fireEvent("moved",this,a);this.fireEvent("resize",this,a)}}},getAdapter:function(){return this.adapter},setAdapter:function(a){this.adapter=a;this.adapter.init(this)},getMinimumSize:function(){return this.minSize},setMinimumSize:function(a){this.minSize=a},getMaximumSize:function(){return this.maxSize},setMaximumSize:function(a){this.maxSize=a},setCurrentSize:function(b){var a=this.animate;this.animate=false;this.adapter.setElementSize(this,b);this.animate=a},destroy:function(a){Ext.destroy(this.shim,Ext.get(this.proxy));this.dd.unreg();if(a){this.el.remove()}this.purgeListeners()}});Ext.SplitBar.createProxy=function(b){var c=new Ext.Element(document.createElement("div"));document.body.appendChild(c.dom);c.unselectable();var a="x-splitbar-proxy";c.addClass(a+" "+(b==Ext.SplitBar.HORIZONTAL?a+"-h":a+"-v"));return c.dom};Ext.SplitBar.BasicLayoutAdapter=function(){};Ext.SplitBar.BasicLayoutAdapter.prototype={init:function(a){},getElementSize:function(a){if(a.orientation==Ext.SplitBar.HORIZONTAL){return a.resizingEl.getWidth()}else{return a.resizingEl.getHeight()}},setElementSize:function(b,a,c){if(b.orientation==Ext.SplitBar.HORIZONTAL){if(!b.animate){b.resizingEl.setWidth(a);if(c){c(b,a)}}else{b.resizingEl.setWidth(a,true,0.1,c,"easeOut")}}else{if(!b.animate){b.resizingEl.setHeight(a);if(c){c(b,a)}}else{b.resizingEl.setHeight(a,true,0.1,c,"easeOut")}}}};Ext.SplitBar.AbsoluteLayoutAdapter=function(a){this.basic=new Ext.SplitBar.BasicLayoutAdapter();this.container=Ext.get(a)};Ext.SplitBar.AbsoluteLayoutAdapter.prototype={init:function(a){this.basic.init(a)},getElementSize:function(a){return this.basic.getElementSize(a)},setElementSize:function(b,a,c){this.basic.setElementSize(b,a,this.moveSplitter.createDelegate(this,[b]))},moveSplitter:function(a){var b=Ext.SplitBar;switch(a.placement){case b.LEFT:a.el.setX(a.resizingEl.getRight());break;case b.RIGHT:a.el.setStyle("right",(this.container.getWidth()-a.resizingEl.getLeft())+"px");break;case b.TOP:a.el.setY(a.resizingEl.getBottom());break;case b.BOTTOM:a.el.setY(a.resizingEl.getTop()-a.el.getHeight());break}}};Ext.SplitBar.VERTICAL=1;Ext.SplitBar.HORIZONTAL=2;Ext.SplitBar.LEFT=1;Ext.SplitBar.RIGHT=2;Ext.SplitBar.TOP=3;Ext.SplitBar.BOTTOM=4;Ext.Container=Ext.extend(Ext.BoxComponent,{bufferResize:50,autoDestroy:true,forceLayout:false,defaultType:"panel",resizeEvent:"resize",bubbleEvents:["add","remove"],initComponent:function(){Ext.Container.superclass.initComponent.call(this);this.addEvents("afterlayout","beforeadd","beforeremove","add","remove");var a=this.items;if(a){delete this.items;this.add(a)}},initItems:function(){if(!this.items){this.items=new Ext.util.MixedCollection(false,this.getComponentId);this.getLayout()}},setLayout:function(a){if(this.layout&&this.layout!=a){this.layout.setContainer(null)}this.layout=a;this.initItems();a.setContainer(this)},afterRender:function(){Ext.Container.superclass.afterRender.call(this);if(!this.layout){this.layout="auto"}if(Ext.isObject(this.layout)&&!this.layout.layout){this.layoutConfig=this.layout;this.layout=this.layoutConfig.type}if(Ext.isString(this.layout)){this.layout=new Ext.Container.LAYOUTS[this.layout.toLowerCase()](this.layoutConfig)}this.setLayout(this.layout);if(this.activeItem!==undefined&&this.layout.setActiveItem){var a=this.activeItem;delete this.activeItem;this.layout.setActiveItem(a)}if(!this.ownerCt){this.doLayout(false,true)}if(this.monitorResize===true){Ext.EventManager.onWindowResize(this.doLayout,this,[false])}},getLayoutTarget:function(){return this.el},getComponentId:function(a){return a.getItemId()},add:function(b){this.initItems();var e=arguments.length>1;if(e||Ext.isArray(b)){var a=[];Ext.each(e?arguments:b,function(h){a.push(this.add(h))},this);return a}var g=this.lookupComponent(this.applyDefaults(b));var d=this.items.length;if(this.fireEvent("beforeadd",this,g,d)!==false&&this.onBeforeAdd(g)!==false){this.items.add(g);g.onAdded(this,d);this.onAdd(g);this.fireEvent("add",this,g,d)}return g},onAdd:function(a){},onAdded:function(a,b){this.ownerCt=a;this.initRef();this.cascade(function(d){d.initRef()});this.fireEvent("added",this,a,b)},insert:function(e,b){var d=arguments,h=d.length,a=[],g,j;this.initItems();if(h>2){for(g=h-1;g>=1;--g){a.push(this.insert(e,d[g]))}return a}j=this.lookupComponent(this.applyDefaults(b));e=Math.min(e,this.items.length);if(this.fireEvent("beforeadd",this,j,e)!==false&&this.onBeforeAdd(j)!==false){if(j.ownerCt==this){this.items.remove(j)}this.items.insert(e,j);j.onAdded(this,e);this.onAdd(j);this.fireEvent("add",this,j,e)}return j},applyDefaults:function(b){var a=this.defaults;if(a){if(Ext.isFunction(a)){a=a.call(this,b)}if(Ext.isString(b)){b=Ext.ComponentMgr.get(b);Ext.apply(b,a)}else{if(!b.events){Ext.applyIf(b.isAction?b.initialConfig:b,a)}else{Ext.apply(b,a)}}}return b},onBeforeAdd:function(a){if(a.ownerCt){a.ownerCt.remove(a,false)}if(this.hideBorders===true){a.border=(a.border===true)}},remove:function(a,b){this.initItems();var d=this.getComponent(a);if(d&&this.fireEvent("beforeremove",this,d)!==false){this.doRemove(d,b);this.fireEvent("remove",this,d)}return d},onRemove:function(a){},doRemove:function(e,d){var b=this.layout,a=b&&this.rendered;if(a){b.onRemove(e)}this.items.remove(e);e.onRemoved();this.onRemove(e);if(d===true||(d!==false&&this.autoDestroy)){e.destroy()}if(a){b.afterRemove(e)}},removeAll:function(c){this.initItems();var e,g=[],b=[];this.items.each(function(h){g.push(h)});for(var d=0,a=g.length;d<a;++d){e=g[d];this.remove(e,c);if(e.ownerCt!==this){b.push(e)}}return b},getComponent:function(a){if(Ext.isObject(a)){a=a.getItemId()}return this.items.get(a)},lookupComponent:function(a){if(Ext.isString(a)){return Ext.ComponentMgr.get(a)}else{if(!a.events){return this.createComponent(a)}}return a},createComponent:function(a,d){if(a.render){return a}var b=Ext.create(Ext.apply({ownerCt:this},a),d||this.defaultType);delete b.initialConfig.ownerCt;delete b.ownerCt;return b},canLayout:function(){var a=this.getVisibilityEl();return a&&a.dom&&!a.isStyle("display","none")},doLayout:function(g,e){var k=this.rendered,j=e||this.forceLayout;if(this.collapsed||!this.canLayout()){this.deferLayout=this.deferLayout||!g;if(!j){return}g=g&&!this.deferLayout}else{delete this.deferLayout}if(k&&this.layout){this.layout.layout()}if(g!==true&&this.items){var d=this.items.items;for(var b=0,a=d.length;b<a;b++){var h=d[b];if(h.doLayout){h.doLayout(false,j)}}}if(k){this.onLayout(g,j)}this.hasLayout=true;delete this.forceLayout},onLayout:Ext.emptyFn,shouldBufferLayout:function(){var a=this.hasLayout;if(this.ownerCt){return a?!this.hasLayoutPending():false}return a},hasLayoutPending:function(){var a=false;this.ownerCt.bubble(function(b){if(b.layoutPending){a=true;return false}});return a},onShow:function(){Ext.Container.superclass.onShow.call(this);if(Ext.isDefined(this.deferLayout)){delete this.deferLayout;this.doLayout(true)}},getLayout:function(){if(!this.layout){var a=new Ext.layout.AutoLayout(this.layoutConfig);this.setLayout(a)}return this.layout},beforeDestroy:function(){var a;if(this.items){while(a=this.items.first()){this.doRemove(a,true)}}if(this.monitorResize){Ext.EventManager.removeResizeListener(this.doLayout,this)}Ext.destroy(this.layout);Ext.Container.superclass.beforeDestroy.call(this)},cascade:function(g,e,b){if(g.apply(e||this,b||[this])!==false){if(this.items){var d=this.items.items;for(var c=0,a=d.length;c<a;c++){if(d[c].cascade){d[c].cascade(g,e,b)}else{g.apply(e||d[c],b||[d[c]])}}}}return this},findById:function(c){var a=null,b=this;this.cascade(function(d){if(b!=d&&d.id===c){a=d;return false}});return a},findByType:function(b,a){return this.findBy(function(d){return d.isXType(b,a)})},find:function(b,a){return this.findBy(function(d){return d[b]===a})},findBy:function(d,c){var a=[],b=this;this.cascade(function(e){if(b!=e&&d.call(c||e,e,b)===true){a.push(e)}});return a},get:function(a){return this.getComponent(a)}});Ext.Container.LAYOUTS={};Ext.reg("container",Ext.Container);Ext.layout.ContainerLayout=Ext.extend(Object,{monitorResize:false,activeItem:null,constructor:function(a){this.id=Ext.id(null,"ext-layout-");Ext.apply(this,a)},type:"container",IEMeasureHack:function(k,g){var a=k.dom.childNodes,b=a.length,n,m=[],l,h,j;for(h=0;h<b;h++){n=a[h];l=Ext.get(n);if(l){m[h]=l.getStyle("display");l.setStyle({display:"none"})}}j=k?k.getViewSize(g):{};for(h=0;h<b;h++){n=a[h];l=Ext.get(n);if(l){l.setStyle({display:m[h]})}}return j},getLayoutTargetSize:Ext.EmptyFn,layout:function(){var a=this.container,b=a.getLayoutTarget();if(!(this.hasLayout||Ext.isEmpty(this.targetCls))){b.addClass(this.targetCls)}this.onLayout(a,b);a.fireEvent("afterlayout",a,this)},onLayout:function(a,b){this.renderAll(a,b)},isValidParent:function(b,a){return a&&b.getPositionEl().dom.parentNode==(a.dom||a)},renderAll:function(e,g){var b=e.items.items,d,h,a=b.length;for(d=0;d<a;d++){h=b[d];if(h&&(!h.rendered||!this.isValidParent(h,g))){this.renderItem(h,d,g)}}},renderItem:function(d,a,b){if(d){if(!d.rendered){d.render(b,a);this.configureItem(d)}else{if(!this.isValidParent(d,b)){if(Ext.isNumber(a)){a=b.dom.childNodes[a]}b.dom.insertBefore(d.getPositionEl().dom,a||null);d.container=b;this.configureItem(d)}}}},getRenderedItems:function(g){var e=g.getLayoutTarget(),h=g.items.items,a=h.length,d,j,b=[];for(d=0;d<a;d++){if((j=h[d]).rendered&&this.isValidParent(j,e)&&j.shouldLayout!==false){b.push(j)}}return b},configureItem:function(b){if(this.extraCls){var a=b.getPositionEl?b.getPositionEl():b;a.addClass(this.extraCls)}if(b.doLayout&&this.forceLayout){b.doLayout()}if(this.renderHidden&&b!=this.activeItem){b.hide()}},onRemove:function(b){if(this.activeItem==b){delete this.activeItem}if(b.rendered&&this.extraCls){var a=b.getPositionEl?b.getPositionEl():b;a.removeClass(this.extraCls)}},afterRemove:function(a){if(a.removeRestore){a.removeMode="container";delete a.removeRestore}},onResize:function(){var c=this.container,a;if(c.collapsed){return}if(a=c.bufferResize&&c.shouldBufferLayout()){if(!this.resizeTask){this.resizeTask=new Ext.util.DelayedTask(this.runLayout,this);this.resizeBuffer=Ext.isNumber(a)?a:50}c.layoutPending=true;this.resizeTask.delay(this.resizeBuffer)}else{this.runLayout()}},runLayout:function(){var a=this.container;this.layout();a.onLayout();delete a.layoutPending},setContainer:function(b){if(this.monitorResize&&b!=this.container){var a=this.container;if(a){a.un(a.resizeEvent,this.onResize,this)}if(b){b.on(b.resizeEvent,this.onResize,this)}}this.container=b},parseMargins:function(b){if(Ext.isNumber(b)){b=b.toString()}var c=b.split(" "),a=c.length;if(a==1){c[1]=c[2]=c[3]=c[0]}else{if(a==2){c[2]=c[0];c[3]=c[1]}else{if(a==3){c[3]=c[1]}}}return{top:parseInt(c[0],10)||0,right:parseInt(c[1],10)||0,bottom:parseInt(c[2],10)||0,left:parseInt(c[3],10)||0}},fieldTpl:(function(){var a=new Ext.Template('<div class="x-form-item {itemCls}" tabIndex="-1">','<label for="{id}" style="{labelStyle}" class="x-form-item-label">{label}{labelSeparator}</label>','<div class="x-form-element" id="x-form-el-{id}" style="{elementStyle}">','</div><div class="{clearCls}"></div>',"</div>");a.disableFormats=true;return a.compile()})(),destroy:function(){if(this.resizeTask&&this.resizeTask.cancel){this.resizeTask.cancel()}if(this.container){this.container.un(this.container.resizeEvent,this.onResize,this)}if(!Ext.isEmpty(this.targetCls)){var a=this.container.getLayoutTarget();if(a){a.removeClass(this.targetCls)}}}});Ext.layout.AutoLayout=Ext.extend(Ext.layout.ContainerLayout,{type:"auto",monitorResize:true,onLayout:function(d,g){Ext.layout.AutoLayout.superclass.onLayout.call(this,d,g);var e=this.getRenderedItems(d),a=e.length,b,h;for(b=0;b<a;b++){h=e[b];if(h.doLayout){h.doLayout(true)}}}});Ext.Container.LAYOUTS.auto=Ext.layout.AutoLayout;Ext.layout.FitLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"fit",getLayoutTargetSize:function(){var a=this.container.getLayoutTarget();if(!a){return{}}return a.getStyleSize()},onLayout:function(a,b){Ext.layout.FitLayout.superclass.onLayout.call(this,a,b);if(!a.collapsed){this.setItemSize(this.activeItem||a.items.itemAt(0),this.getLayoutTargetSize())}},setItemSize:function(b,a){if(b&&a.height>0){b.setSize(a)}}});Ext.Container.LAYOUTS.fit=Ext.layout.FitLayout;Ext.layout.CardLayout=Ext.extend(Ext.layout.FitLayout,{deferredRender:false,layoutOnCardChange:false,renderHidden:true,type:"card",setActiveItem:function(d){var a=this.activeItem,b=this.container;d=b.getComponent(d);if(d&&a!=d){if(a){a.hide();if(a.hidden!==true){return false}a.fireEvent("deactivate",a)}var c=d.doLayout&&(this.layoutOnCardChange||!d.rendered);this.activeItem=d;delete d.deferLayout;d.show();this.layout();if(c){d.doLayout()}d.fireEvent("activate",d)}},renderAll:function(a,b){if(this.deferredRender){this.renderItem(this.activeItem,undefined,b)}else{Ext.layout.CardLayout.superclass.renderAll.call(this,a,b)}}});Ext.Container.LAYOUTS.card=Ext.layout.CardLayout;Ext.layout.AnchorLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"anchor",defaultAnchor:"100%",parseAnchorRE:/^(r|right|b|bottom)$/i,getLayoutTargetSize:function(){var b=this.container.getLayoutTarget(),a={};if(b){a=b.getViewSize();if(Ext.isIE&&Ext.isStrict&&a.width==0){a=b.getStyleSize()}a.width-=b.getPadding("lr");a.height-=b.getPadding("tb")}return a},onLayout:function(m,w){Ext.layout.AnchorLayout.superclass.onLayout.call(this,m,w);var p=this.getLayoutTargetSize(),k=p.width,o=p.height,q=w.getStyle("overflow"),n=this.getRenderedItems(m),t=n.length,g=[],j,a,v,l,h,c,e,d,u=0,s,b;if(k<20&&o<20){return}if(m.anchorSize){if(typeof m.anchorSize=="number"){a=m.anchorSize}else{a=m.anchorSize.width;v=m.anchorSize.height}}else{a=m.initialConfig.width;v=m.initialConfig.height}for(s=0;s<t;s++){l=n[s];b=l.getPositionEl();if(!l.anchor&&l.items&&!Ext.isNumber(l.width)&&!(Ext.isIE6&&Ext.isStrict)){l.anchor=this.defaultAnchor}if(l.anchor){h=l.anchorSpec;if(!h){d=l.anchor.split(" ");l.anchorSpec=h={right:this.parseAnchor(d[0],l.initialConfig.width,a),bottom:this.parseAnchor(d[1],l.initialConfig.height,v)}}c=h.right?this.adjustWidthAnchor(h.right(k)-b.getMargins("lr"),l):undefined;e=h.bottom?this.adjustHeightAnchor(h.bottom(o)-b.getMargins("tb"),l):undefined;if(c||e){g.push({component:l,width:c||undefined,height:e||undefined})}}}for(s=0,t=g.length;s<t;s++){j=g[s];j.component.setSize(j.width,j.height)}if(q&&q!="hidden"&&!this.adjustmentPass){var r=this.getLayoutTargetSize();if(r.width!=p.width||r.height!=p.height){this.adjustmentPass=true;this.onLayout(m,w)}}delete this.adjustmentPass},parseAnchor:function(c,h,b){if(c&&c!="none"){var e;if(this.parseAnchorRE.test(c)){var g=b-h;return function(a){if(a!==e){e=a;return a-g}}}else{if(c.indexOf("%")!=-1){var d=parseFloat(c.replace("%",""))*0.01;return function(a){if(a!==e){e=a;return Math.floor(a*d)}}}else{c=parseInt(c,10);if(!isNaN(c)){return function(a){if(a!==e){e=a;return a+c}}}}}}return false},adjustWidthAnchor:function(b,a){return b},adjustHeightAnchor:function(b,a){return b}});Ext.Container.LAYOUTS.anchor=Ext.layout.AnchorLayout;Ext.layout.ColumnLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"column",extraCls:"x-column",scrollOffset:0,targetCls:"x-column-layout-ct",isValidParent:function(b,a){return this.innerCt&&b.getPositionEl().dom.parentNode==this.innerCt.dom},getLayoutTargetSize:function(){var b=this.container.getLayoutTarget(),a;if(b){a=b.getViewSize();if(Ext.isIE&&Ext.isStrict&&a.width==0){a=b.getStyleSize()}a.width-=b.getPadding("lr");a.height-=b.getPadding("tb")}return a},renderAll:function(a,b){if(!this.innerCt){this.innerCt=b.createChild({cls:"x-column-inner"});this.innerCt.createChild({cls:"x-clear"})}Ext.layout.ColumnLayout.superclass.renderAll.call(this,a,this.innerCt)},onLayout:function(e,k){var g=e.items.items,j=g.length,n,b,a,o=[];this.renderAll(e,k);var r=this.getLayoutTargetSize();if(r.width<1&&r.height<1){return}var p=r.width-this.scrollOffset,d=r.height,q=p;this.innerCt.setWidth(p);for(b=0;b<j;b++){n=g[b];a=n.getPositionEl().getMargins("lr");o[b]=a;if(!n.columnWidth){q-=(n.getWidth()+a)}}q=q<0?0:q;for(b=0;b<j;b++){n=g[b];a=o[b];if(n.columnWidth){n.setSize(Math.floor(n.columnWidth*q)-a)}}if(Ext.isIE){if(b=k.getStyle("overflow")&&b!="hidden"&&!this.adjustmentPass){var l=this.getLayoutTargetSize();if(l.width!=r.width){this.adjustmentPass=true;this.onLayout(e,k)}}}delete this.adjustmentPass}});Ext.Container.LAYOUTS.column=Ext.layout.ColumnLayout;Ext.layout.BorderLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,rendered:false,type:"border",targetCls:"x-border-layout-ct",getLayoutTargetSize:function(){var a=this.container.getLayoutTarget();return a?a.getViewSize():{}},onLayout:function(g,I){var j,B,F,o,x=g.items.items,C=x.length;if(!this.rendered){j=[];for(B=0;B<C;B++){F=x[B];o=F.region;if(F.collapsed){j.push(F)}F.collapsed=false;if(!F.rendered){F.render(I,B);F.getPositionEl().addClass("x-border-panel")}this[o]=o!="center"&&F.split?new Ext.layout.BorderLayout.SplitRegion(this,F.initialConfig,o):new Ext.layout.BorderLayout.Region(this,F.initialConfig,o);this[o].render(I,F)}this.rendered=true}var v=this.getLayoutTargetSize();if(v.width<20||v.height<20){if(j){this.restoreCollapsed=j}return}else{if(this.restoreCollapsed){j=this.restoreCollapsed;delete this.restoreCollapsed}}var t=v.width,D=v.height,r=t,A=D,p=0,q=0,y=this.north,u=this.south,l=this.west,E=this.east,F=this.center,H,z,d,G;if(!F&&Ext.layout.BorderLayout.WARN!==false){throw"No center region defined in BorderLayout "+g.id}if(y&&y.isVisible()){H=y.getSize();z=y.getMargins();H.width=t-(z.left+z.right);H.x=z.left;H.y=z.top;p=H.height+H.y+z.bottom;A-=p;y.applyLayout(H)}if(u&&u.isVisible()){H=u.getSize();z=u.getMargins();H.width=t-(z.left+z.right);H.x=z.left;G=(H.height+z.top+z.bottom);H.y=D-G+z.top;A-=G;u.applyLayout(H)}if(l&&l.isVisible()){H=l.getSize();z=l.getMargins();H.height=A-(z.top+z.bottom);H.x=z.left;H.y=p+z.top;d=(H.width+z.left+z.right);q+=d;r-=d;l.applyLayout(H)}if(E&&E.isVisible()){H=E.getSize();z=E.getMargins();H.height=A-(z.top+z.bottom);d=(H.width+z.left+z.right);H.x=t-d+z.left;H.y=p+z.top;r-=d;E.applyLayout(H)}if(F){z=F.getMargins();var k={x:q+z.left,y:p+z.top,width:r-(z.left+z.right),height:A-(z.top+z.bottom)};F.applyLayout(k)}if(j){for(B=0,C=j.length;B<C;B++){j[B].collapse(false)}}if(Ext.isIE&&Ext.isStrict){I.repaint()}if(B=I.getStyle("overflow")&&B!="hidden"&&!this.adjustmentPass){var a=this.getLayoutTargetSize();if(a.width!=v.width||a.height!=v.height){this.adjustmentPass=true;this.onLayout(g,I)}}delete this.adjustmentPass},destroy:function(){var b=["north","south","east","west"],a,c;for(a=0;a<b.length;a++){c=this[b[a]];if(c){if(c.destroy){c.destroy()}else{if(c.split){c.split.destroy(true)}}}}Ext.layout.BorderLayout.superclass.destroy.call(this)}});Ext.layout.BorderLayout.Region=function(b,a,c){Ext.apply(this,a);this.layout=b;this.position=c;this.state={};if(typeof this.margins=="string"){this.margins=this.layout.parseMargins(this.margins)}this.margins=Ext.applyIf(this.margins||{},this.defaultMargins);if(this.collapsible){if(typeof this.cmargins=="string"){this.cmargins=this.layout.parseMargins(this.cmargins)}if(this.collapseMode=="mini"&&!this.cmargins){this.cmargins={left:0,top:0,right:0,bottom:0}}else{this.cmargins=Ext.applyIf(this.cmargins||{},c=="north"||c=="south"?this.defaultNSCMargins:this.defaultEWCMargins)}}};Ext.layout.BorderLayout.Region.prototype={collapsible:false,split:false,floatable:true,minWidth:50,minHeight:50,defaultMargins:{left:0,top:0,right:0,bottom:0},defaultNSCMargins:{left:5,top:5,right:5,bottom:5},defaultEWCMargins:{left:5,top:0,right:5,bottom:0},floatingZIndex:100,isCollapsed:false,render:function(b,c){this.panel=c;c.el.enableDisplayMode();this.targetEl=b;this.el=c.el;var a=c.getState,d=this.position;c.getState=function(){return Ext.apply(a.call(c)||{},this.state)}.createDelegate(this);if(d!="center"){c.allowQueuedExpand=false;c.on({beforecollapse:this.beforeCollapse,collapse:this.onCollapse,beforeexpand:this.beforeExpand,expand:this.onExpand,hide:this.onHide,show:this.onShow,scope:this});if(this.collapsible||this.floatable){c.collapseEl="el";c.slideAnchor=this.getSlideAnchor()}if(c.tools&&c.tools.toggle){c.tools.toggle.addClass("x-tool-collapse-"+d);c.tools.toggle.addClassOnOver("x-tool-collapse-"+d+"-over")}}},getCollapsedEl:function(){if(!this.collapsedEl){if(!this.toolTemplate){var b=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');b.disableFormats=true;b.compile();Ext.layout.BorderLayout.Region.prototype.toolTemplate=b}this.collapsedEl=this.targetEl.createChild({cls:"x-layout-collapsed x-layout-collapsed-"+this.position,id:this.panel.id+"-xcollapsed"});this.collapsedEl.enableDisplayMode("block");if(this.collapseMode=="mini"){this.collapsedEl.addClass("x-layout-cmini-"+this.position);this.miniCollapsedEl=this.collapsedEl.createChild({cls:"x-layout-mini x-layout-mini-"+this.position,html:"&#160;"});this.miniCollapsedEl.addClassOnOver("x-layout-mini-over");this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this.onExpandClick,this,{stopEvent:true})}else{if(this.collapsible!==false&&!this.hideCollapseTool){var a=this.expandToolEl=this.toolTemplate.append(this.collapsedEl.dom,{id:"expand-"+this.position},true);a.addClassOnOver("x-tool-expand-"+this.position+"-over");a.on("click",this.onExpandClick,this,{stopEvent:true})}if(this.floatable!==false||this.titleCollapse){this.collapsedEl.addClassOnOver("x-layout-collapsed-over");this.collapsedEl.on("click",this[this.floatable?"collapseClick":"onExpandClick"],this)}}}return this.collapsedEl},onExpandClick:function(a){if(this.isSlid){this.panel.expand(false)}else{this.panel.expand()}},onCollapseClick:function(a){this.panel.collapse()},beforeCollapse:function(c,a){this.lastAnim=a;if(this.splitEl){this.splitEl.hide()}this.getCollapsedEl().show();var b=this.panel.getEl();this.originalZIndex=b.getStyle("z-index");b.setStyle("z-index",100);this.isCollapsed=true;this.layout.layout()},onCollapse:function(a){this.panel.el.setStyle("z-index",1);if(this.lastAnim===false||this.panel.animCollapse===false){this.getCollapsedEl().dom.style.visibility="visible"}else{this.getCollapsedEl().slideIn(this.panel.slideAnchor,{duration:0.2})}this.state.collapsed=true;this.panel.saveState()},beforeExpand:function(a){if(this.isSlid){this.afterSlideIn()}var b=this.getCollapsedEl();this.el.show();if(this.position=="east"||this.position=="west"){this.panel.setSize(undefined,b.getHeight())}else{this.panel.setSize(b.getWidth(),undefined)}b.hide();b.dom.style.visibility="hidden";this.panel.el.setStyle("z-index",this.floatingZIndex)},onExpand:function(){this.isCollapsed=false;if(this.splitEl){this.splitEl.show()}this.layout.layout();this.panel.el.setStyle("z-index",this.originalZIndex);this.state.collapsed=false;this.panel.saveState()},collapseClick:function(a){if(this.isSlid){a.stopPropagation();this.slideIn()}else{a.stopPropagation();this.slideOut()}},onHide:function(){if(this.isCollapsed){this.getCollapsedEl().hide()}else{if(this.splitEl){this.splitEl.hide()}}},onShow:function(){if(this.isCollapsed){this.getCollapsedEl().show()}else{if(this.splitEl){this.splitEl.show()}}},isVisible:function(){return !this.panel.hidden},getMargins:function(){return this.isCollapsed&&this.cmargins?this.cmargins:this.margins},getSize:function(){return this.isCollapsed?this.getCollapsedEl().getSize():this.panel.getSize()},setPanel:function(a){this.panel=a},getMinWidth:function(){return this.minWidth},getMinHeight:function(){return this.minHeight},applyLayoutCollapsed:function(a){var b=this.getCollapsedEl();b.setLeftTop(a.x,a.y);b.setSize(a.width,a.height)},applyLayout:function(a){if(this.isCollapsed){this.applyLayoutCollapsed(a)}else{this.panel.setPosition(a.x,a.y);this.panel.setSize(a.width,a.height)}},beforeSlide:function(){this.panel.beforeEffect()},afterSlide:function(){this.panel.afterEffect()},initAutoHide:function(){if(this.autoHide!==false){if(!this.autoHideHd){this.autoHideSlideTask=new Ext.util.DelayedTask(this.slideIn,this);this.autoHideHd={mouseout:function(a){if(!a.within(this.el,true)){this.autoHideSlideTask.delay(500)}},mouseover:function(a){this.autoHideSlideTask.cancel()},scope:this}}this.el.on(this.autoHideHd);this.collapsedEl.on(this.autoHideHd)}},clearAutoHide:function(){if(this.autoHide!==false){this.el.un("mouseout",this.autoHideHd.mouseout);this.el.un("mouseover",this.autoHideHd.mouseover);this.collapsedEl.un("mouseout",this.autoHideHd.mouseout);this.collapsedEl.un("mouseover",this.autoHideHd.mouseover)}},clearMonitor:function(){Ext.getDoc().un("click",this.slideInIf,this)},slideOut:function(){if(this.isSlid||this.el.hasActiveFx()){return}this.isSlid=true;var b=this.panel.tools,c,a;if(b&&b.toggle){b.toggle.hide()}this.el.show();a=this.panel.collapsed;this.panel.collapsed=false;if(this.position=="east"||this.position=="west"){c=this.panel.deferHeight;this.panel.deferHeight=false;this.panel.setSize(undefined,this.collapsedEl.getHeight());this.panel.deferHeight=c}else{this.panel.setSize(this.collapsedEl.getWidth(),undefined)}this.panel.collapsed=a;this.restoreLT=[this.el.dom.style.left,this.el.dom.style.top];this.el.alignTo(this.collapsedEl,this.getCollapseAnchor());this.el.setStyle("z-index",this.floatingZIndex+2);this.panel.el.replaceClass("x-panel-collapsed","x-panel-floating");if(this.animFloat!==false){this.beforeSlide();this.el.slideIn(this.getSlideAnchor(),{callback:function(){this.afterSlide();this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this)},scope:this,block:true})}else{this.initAutoHide();Ext.getDoc().on("click",this.slideInIf,this)}},afterSlideIn:function(){this.clearAutoHide();this.isSlid=false;this.clearMonitor();this.el.setStyle("z-index","");this.panel.el.replaceClass("x-panel-floating","x-panel-collapsed");this.el.dom.style.left=this.restoreLT[0];this.el.dom.style.top=this.restoreLT[1];var a=this.panel.tools;if(a&&a.toggle){a.toggle.show()}},slideIn:function(a){if(!this.isSlid||this.el.hasActiveFx()){Ext.callback(a);return}this.isSlid=false;if(this.animFloat!==false){this.beforeSlide();this.el.slideOut(this.getSlideAnchor(),{callback:function(){this.el.hide();this.afterSlide();this.afterSlideIn();Ext.callback(a)},scope:this,block:true})}else{this.el.hide();this.afterSlideIn()}},slideInIf:function(a){if(!a.within(this.el)){this.slideIn()}},anchors:{west:"left",east:"right",north:"top",south:"bottom"},sanchors:{west:"l",east:"r",north:"t",south:"b"},canchors:{west:"tl-tr",east:"tr-tl",north:"tl-bl",south:"bl-tl"},getAnchor:function(){return this.anchors[this.position]},getCollapseAnchor:function(){return this.canchors[this.position]},getSlideAnchor:function(){return this.sanchors[this.position]},getAlignAdj:function(){var a=this.cmargins;switch(this.position){case"west":return[0,0];break;case"east":return[0,0];break;case"north":return[0,0];break;case"south":return[0,0];break}},getExpandAdj:function(){var b=this.collapsedEl,a=this.cmargins;switch(this.position){case"west":return[-(a.right+b.getWidth()+a.left),0];break;case"east":return[a.right+b.getWidth()+a.left,0];break;case"north":return[0,-(a.top+a.bottom+b.getHeight())];break;case"south":return[0,a.top+a.bottom+b.getHeight()];break}},destroy:function(){if(this.autoHideSlideTask&&this.autoHideSlideTask.cancel){this.autoHideSlideTask.cancel()}Ext.destroyMembers(this,"miniCollapsedEl","collapsedEl","expandToolEl")}};Ext.layout.BorderLayout.SplitRegion=function(b,a,c){Ext.layout.BorderLayout.SplitRegion.superclass.constructor.call(this,b,a,c);this.applyLayout=this.applyFns[c]};Ext.extend(Ext.layout.BorderLayout.SplitRegion,Ext.layout.BorderLayout.Region,{splitTip:"Drag to resize.",collapsibleSplitTip:"Drag to resize. Double click to hide.",useSplitTips:false,splitSettings:{north:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.TOP,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},south:{orientation:Ext.SplitBar.VERTICAL,placement:Ext.SplitBar.BOTTOM,maxFn:"getVMaxSize",minProp:"minHeight",maxProp:"maxHeight"},east:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.RIGHT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"},west:{orientation:Ext.SplitBar.HORIZONTAL,placement:Ext.SplitBar.LEFT,maxFn:"getHMaxSize",minProp:"minWidth",maxProp:"maxWidth"}},applyFns:{west:function(c){if(this.isCollapsed){return this.applyLayoutCollapsed(c)}var d=this.splitEl.dom,b=d.style;this.panel.setPosition(c.x,c.y);var a=d.offsetWidth;b.left=(c.x+c.width-a)+"px";b.top=(c.y)+"px";b.height=Math.max(0,c.height)+"px";this.panel.setSize(c.width-a,c.height)},east:function(c){if(this.isCollapsed){return this.applyLayoutCollapsed(c)}var d=this.splitEl.dom,b=d.style;var a=d.offsetWidth;this.panel.setPosition(c.x+a,c.y);b.left=(c.x)+"px";b.top=(c.y)+"px";b.height=Math.max(0,c.height)+"px";this.panel.setSize(c.width-a,c.height)},north:function(c){if(this.isCollapsed){return this.applyLayoutCollapsed(c)}var d=this.splitEl.dom,b=d.style;var a=d.offsetHeight;this.panel.setPosition(c.x,c.y);b.left=(c.x)+"px";b.top=(c.y+c.height-a)+"px";b.width=Math.max(0,c.width)+"px";this.panel.setSize(c.width,c.height-a)},south:function(c){if(this.isCollapsed){return this.applyLayoutCollapsed(c)}var d=this.splitEl.dom,b=d.style;var a=d.offsetHeight;this.panel.setPosition(c.x,c.y+a);b.left=(c.x)+"px";b.top=(c.y)+"px";b.width=Math.max(0,c.width)+"px";this.panel.setSize(c.width,c.height-a)}},render:function(a,c){Ext.layout.BorderLayout.SplitRegion.superclass.render.call(this,a,c);var d=this.position;this.splitEl=a.createChild({cls:"x-layout-split x-layout-split-"+d,html:"&#160;",id:this.panel.id+"-xsplit"});if(this.collapseMode=="mini"){this.miniSplitEl=this.splitEl.createChild({cls:"x-layout-mini x-layout-mini-"+d,html:"&#160;"});this.miniSplitEl.addClassOnOver("x-layout-mini-over");this.miniSplitEl.on("click",this.onCollapseClick,this,{stopEvent:true})}var b=this.splitSettings[d];this.split=new Ext.SplitBar(this.splitEl.dom,c.el,b.orientation);this.split.tickSize=this.tickSize;this.split.placement=b.placement;this.split.getMaximumSize=this[b.maxFn].createDelegate(this);this.split.minSize=this.minSize||this[b.minProp];this.split.on("beforeapply",this.onSplitMove,this);this.split.useShim=this.useShim===true;this.maxSize=this.maxSize||this[b.maxProp];if(c.hidden){this.splitEl.hide()}if(this.useSplitTips){this.splitEl.dom.title=this.collapsible?this.collapsibleSplitTip:this.splitTip}if(this.collapsible){this.splitEl.on("dblclick",this.onCollapseClick,this)}},getSize:function(){if(this.isCollapsed){return this.collapsedEl.getSize()}var a=this.panel.getSize();if(this.position=="north"||this.position=="south"){a.height+=this.splitEl.dom.offsetHeight}else{a.width+=this.splitEl.dom.offsetWidth}return a},getHMaxSize:function(){var b=this.maxSize||10000;var a=this.layout.center;return Math.min(b,(this.el.getWidth()+a.el.getWidth())-a.getMinWidth())},getVMaxSize:function(){var b=this.maxSize||10000;var a=this.layout.center;return Math.min(b,(this.el.getHeight()+a.el.getHeight())-a.getMinHeight())},onSplitMove:function(b,a){var c=this.panel.getSize();this.lastSplitSize=a;if(this.position=="north"||this.position=="south"){this.panel.setSize(c.width,a);this.state.height=a}else{this.panel.setSize(a,c.height);this.state.width=a}this.layout.layout();this.panel.saveState();return false},getSplitBar:function(){return this.split},destroy:function(){Ext.destroy(this.miniSplitEl,this.split,this.splitEl);Ext.layout.BorderLayout.SplitRegion.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.border=Ext.layout.BorderLayout;Ext.layout.FormLayout=Ext.extend(Ext.layout.AnchorLayout,{labelSeparator:":",trackLabels:true,type:"form",onRemove:function(d){Ext.layout.FormLayout.superclass.onRemove.call(this,d);if(this.trackLabels){d.un("show",this.onFieldShow,this);d.un("hide",this.onFieldHide,this)}var b=d.getPositionEl(),a=d.getItemCt&&d.getItemCt();if(d.rendered&&a){if(b&&b.dom){b.insertAfter(a)}Ext.destroy(a);Ext.destroyMembers(d,"label","itemCt");if(d.customItemCt){Ext.destroyMembers(d,"getItemCt","customItemCt")}}},setContainer:function(a){Ext.layout.FormLayout.superclass.setContainer.call(this,a);if(a.labelAlign){a.addClass("x-form-label-"+a.labelAlign)}if(a.hideLabels){Ext.apply(this,{labelStyle:"display:none",elementStyle:"padding-left:0;",labelAdjust:0})}else{this.labelSeparator=Ext.isDefined(a.labelSeparator)?a.labelSeparator:this.labelSeparator;a.labelWidth=a.labelWidth||100;if(Ext.isNumber(a.labelWidth)){var b=Ext.isNumber(a.labelPad)?a.labelPad:5;Ext.apply(this,{labelAdjust:a.labelWidth+b,labelStyle:"width:"+a.labelWidth+"px;",elementStyle:"padding-left:"+(a.labelWidth+b)+"px"})}if(a.labelAlign=="top"){Ext.apply(this,{labelStyle:"width:auto;",labelAdjust:0,elementStyle:"padding-left:0;"})}}},isHide:function(a){return a.hideLabel||this.container.hideLabels},onFieldShow:function(a){a.getItemCt().removeClass("x-hide-"+a.hideMode);if(a.isComposite){a.doLayout()}},onFieldHide:function(a){a.getItemCt().addClass("x-hide-"+a.hideMode)},getLabelStyle:function(e){var b="",c=[this.labelStyle,e];for(var d=0,a=c.length;d<a;++d){if(c[d]){b+=c[d];if(b.substr(-1,1)!=";"){b+=";"}}}return b},renderItem:function(e,a,d){if(e&&(e.isFormField||e.fieldLabel)&&e.inputType!="hidden"){var b=this.getTemplateArgs(e);if(Ext.isNumber(a)){a=d.dom.childNodes[a]||null}if(a){e.itemCt=this.fieldTpl.insertBefore(a,b,true)}else{e.itemCt=this.fieldTpl.append(d,b,true)}if(!e.getItemCt){Ext.apply(e,{getItemCt:function(){return e.itemCt},customItemCt:true})}e.label=e.getItemCt().child("label.x-form-item-label");if(!e.rendered){e.render("x-form-el-"+e.id)}else{if(!this.isValidParent(e,d)){Ext.fly("x-form-el-"+e.id).appendChild(e.getPositionEl())}}if(this.trackLabels){if(e.hidden){this.onFieldHide(e)}e.on({scope:this,show:this.onFieldShow,hide:this.onFieldHide})}this.configureItem(e)}else{Ext.layout.FormLayout.superclass.renderItem.apply(this,arguments)}},getTemplateArgs:function(c){var a=!c.fieldLabel||c.hideLabel,b=(c.itemCls||this.container.itemCls||"")+(c.hideLabel?" x-hide-label":"");if(Ext.isIE9&&Ext.isIEQuirks&&c instanceof Ext.form.TextField){b+=" x-input-wrapper"}return{id:c.id,label:c.fieldLabel,itemCls:b,clearCls:c.clearCls||"x-form-clear-left",labelStyle:this.getLabelStyle(c.labelStyle),elementStyle:this.elementStyle||"",labelSeparator:a?"":(Ext.isDefined(c.labelSeparator)?c.labelSeparator:this.labelSeparator)}},adjustWidthAnchor:function(a,d){if(d.label&&!this.isHide(d)&&(this.container.labelAlign!="top")){var b=Ext.isIE6||(Ext.isIE&&!Ext.isStrict);return a-this.labelAdjust+(b?-3:0)}return a},adjustHeightAnchor:function(a,b){if(b.label&&!this.isHide(b)&&(this.container.labelAlign=="top")){return a-b.label.getHeight()}return a},isValidParent:function(b,a){return a&&this.container.getEl().contains(b.getPositionEl())}});Ext.Container.LAYOUTS.form=Ext.layout.FormLayout;Ext.layout.AccordionLayout=Ext.extend(Ext.layout.FitLayout,{fill:true,autoWidth:true,titleCollapse:true,hideCollapseTool:false,collapseFirst:false,animate:false,sequence:false,activeOnTop:false,type:"accordion",renderItem:function(a){if(this.animate===false){a.animCollapse=false}a.collapsible=true;if(this.autoWidth){a.autoWidth=true}if(this.titleCollapse){a.titleCollapse=true}if(this.hideCollapseTool){a.hideCollapseTool=true}if(this.collapseFirst!==undefined){a.collapseFirst=this.collapseFirst}if(!this.activeItem&&!a.collapsed){this.setActiveItem(a,true)}else{if(this.activeItem&&this.activeItem!=a){a.collapsed=true}}Ext.layout.AccordionLayout.superclass.renderItem.apply(this,arguments);a.header.addClass("x-accordion-hd");a.on("beforeexpand",this.beforeExpand,this)},onRemove:function(a){Ext.layout.AccordionLayout.superclass.onRemove.call(this,a);if(a.rendered){a.header.removeClass("x-accordion-hd")}a.un("beforeexpand",this.beforeExpand,this)},beforeExpand:function(c,b){var a=this.activeItem;if(a){if(this.sequence){delete this.activeItem;if(!a.collapsed){a.collapse({callback:function(){c.expand(b||true)},scope:this});return false}}else{a.collapse(this.animate)}}this.setActive(c);if(this.activeOnTop){c.el.dom.parentNode.insertBefore(c.el.dom,c.el.dom.parentNode.firstChild)}this.layout()},setItemSize:function(g,e){if(this.fill&&g){var d=0,c,b=this.getRenderedItems(this.container),a=b.length,h;for(c=0;c<a;c++){if((h=b[c])!=g&&!h.hidden){d+=h.header.getHeight()}}e.height-=d;g.setSize(e)}},setActiveItem:function(a){this.setActive(a,true)},setActive:function(c,b){var a=this.activeItem;c=this.container.getComponent(c);if(a!=c){if(c.rendered&&c.collapsed&&b){c.expand()}else{if(a){a.fireEvent("deactivate",a)}this.activeItem=c;c.fireEvent("activate",c)}}}});Ext.Container.LAYOUTS.accordion=Ext.layout.AccordionLayout;Ext.layout.Accordion=Ext.layout.AccordionLayout;Ext.layout.TableLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:false,type:"table",targetCls:"x-table-layout-ct",tableAttrs:null,setContainer:function(a){Ext.layout.TableLayout.superclass.setContainer.call(this,a);this.currentRow=0;this.currentColumn=0;this.cells=[]},onLayout:function(d,g){var e=d.items.items,a=e.length,h,b;if(!this.table){g.addClass("x-table-layout-ct");this.table=g.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true)}this.renderAll(d,g)},getRow:function(a){var b=this.table.tBodies[0].childNodes[a];if(!b){b=document.createElement("tr");this.table.tBodies[0].appendChild(b)}return b},getNextCell:function(j){var a=this.getNextNonSpan(this.currentColumn,this.currentRow);var g=this.currentColumn=a[0],e=this.currentRow=a[1];for(var i=e;i<e+(j.rowspan||1);i++){if(!this.cells[i]){this.cells[i]=[]}for(var d=g;d<g+(j.colspan||1);d++){this.cells[i][d]=true}}var h=document.createElement("td");if(j.cellId){h.id=j.cellId}var b="x-table-layout-cell";if(j.cellCls){b+=" "+j.cellCls}h.className=b;if(j.colspan){h.colSpan=j.colspan}if(j.rowspan){h.rowSpan=j.rowspan}this.getRow(e).appendChild(h);return h},getNextNonSpan:function(a,c){var b=this.columns;while((b&&a>=b)||(this.cells[c]&&this.cells[c][a])){if(b&&a>=b){c++;a=0}else{a++}}return[a,c]},renderItem:function(e,a,d){if(!this.table){this.table=d.createChild(Ext.apply({tag:"table",cls:"x-table-layout",cellspacing:0,cn:{tag:"tbody"}},this.tableAttrs),null,true)}if(e&&!e.rendered){e.render(this.getNextCell(e));this.configureItem(e)}else{if(e&&!this.isValidParent(e,d)){var b=this.getNextCell(e);b.insertBefore(e.getPositionEl().dom,null);e.container=Ext.get(b);this.configureItem(e)}}},isValidParent:function(b,a){return b.getPositionEl().up("table",5).dom.parentNode===(a.dom||a)},destroy:function(){delete this.table;Ext.layout.TableLayout.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.table=Ext.layout.TableLayout;Ext.layout.AbsoluteLayout=Ext.extend(Ext.layout.AnchorLayout,{extraCls:"x-abs-layout-item",type:"absolute",onLayout:function(a,b){b.position();this.paddingLeft=b.getPadding("l");this.paddingTop=b.getPadding("t");Ext.layout.AbsoluteLayout.superclass.onLayout.call(this,a,b)},adjustWidthAnchor:function(b,a){return b?b-a.getPosition(true)[0]+this.paddingLeft:b},adjustHeightAnchor:function(b,a){return b?b-a.getPosition(true)[1]+this.paddingTop:b}});Ext.Container.LAYOUTS.absolute=Ext.layout.AbsoluteLayout;Ext.layout.BoxLayout=Ext.extend(Ext.layout.ContainerLayout,{defaultMargins:{left:0,top:0,right:0,bottom:0},padding:"0",pack:"start",monitorResize:true,type:"box",scrollOffset:0,extraCls:"x-box-item",targetCls:"x-box-layout-ct",innerCls:"x-box-inner",constructor:function(a){Ext.layout.BoxLayout.superclass.constructor.call(this,a);if(Ext.isString(this.defaultMargins)){this.defaultMargins=this.parseMargins(this.defaultMargins)}var d=this.overflowHandler;if(typeof d=="string"){d={type:d}}var c="none";if(d&&d.type!=undefined){c=d.type}var b=Ext.layout.boxOverflow[c];if(b[this.type]){b=b[this.type]}this.overflowHandler=new b(this,d)},onLayout:function(b,h){Ext.layout.BoxLayout.superclass.onLayout.call(this,b,h);var d=this.getLayoutTargetSize(),i=this.getVisibleItems(b),c=this.calculateChildBoxes(i,d),g=c.boxes,j=c.meta;if(d.width>0){var k=this.overflowHandler,a=j.tooNarrow?"handleOverflow":"clearOverflow";var e=k[a](c,d);if(e){if(e.targetSize){d=e.targetSize}if(e.recalculate){i=this.getVisibleItems(b);c=this.calculateChildBoxes(i,d);g=c.boxes}}}this.layoutTargetLastSize=d;this.childBoxCache=c;this.updateInnerCtSize(d,c);this.updateChildBoxes(g);this.handleTargetOverflow(d,b,h)},updateChildBoxes:function(c){for(var b=0,e=c.length;b<e;b++){var d=c[b],a=d.component;if(d.dirtySize){a.setSize(d.width,d.height)}if(isNaN(d.left)||isNaN(d.top)){continue}a.setPosition(d.left,d.top)}},updateInnerCtSize:function(c,h){var i=this.align,g=this.padding,e=c.width,a=c.height;if(this.type=="hbox"){var b=e,d=h.meta.maxHeight+g.top+g.bottom;if(i=="stretch"){d=a}else{if(i=="middle"){d=Math.max(a,d)}}}else{var d=a,b=h.meta.maxWidth+g.left+g.right;if(i=="stretch"){b=e}else{if(i=="center"){b=Math.max(e,b)}}}this.innerCt.setSize(b||undefined,d||undefined)},handleTargetOverflow:function(d,a,c){var e=c.getStyle("overflow");if(e&&e!="hidden"&&!this.adjustmentPass){var b=this.getLayoutTargetSize();if(b.width!=d.width||b.height!=d.height){this.adjustmentPass=true;this.onLayout(a,c)}}delete this.adjustmentPass},isValidParent:function(b,a){return this.innerCt&&b.getPositionEl().dom.parentNode==this.innerCt.dom},getVisibleItems:function(g){var g=g||this.container,e=g.getLayoutTarget(),h=g.items.items,a=h.length,d,j,b=[];for(d=0;d<a;d++){if((j=h[d]).rendered&&this.isValidParent(j,e)&&j.hidden!==true&&j.collapsed!==true&&j.shouldLayout!==false){b.push(j)}}return b},renderAll:function(a,b){if(!this.innerCt){this.innerCt=b.createChild({cls:this.innerCls});this.padding=this.parseMargins(this.padding)}Ext.layout.BoxLayout.superclass.renderAll.call(this,a,this.innerCt)},getLayoutTargetSize:function(){var b=this.container.getLayoutTarget(),a;if(b){a=b.getViewSize();if(Ext.isIE&&Ext.isStrict&&a.width==0){a=b.getStyleSize()}a.width-=b.getPadding("lr");a.height-=b.getPadding("tb")}return a},renderItem:function(a){if(Ext.isString(a.margins)){a.margins=this.parseMargins(a.margins)}else{if(!a.margins){a.margins=this.defaultMargins}}Ext.layout.BoxLayout.superclass.renderItem.apply(this,arguments)},destroy:function(){Ext.destroy(this.overflowHandler);Ext.layout.BoxLayout.superclass.destroy.apply(this,arguments)}});Ext.layout.boxOverflow.None=Ext.extend(Object,{constructor:function(b,a){this.layout=b;Ext.apply(this,a||{})},handleOverflow:Ext.emptyFn,clearOverflow:Ext.emptyFn});Ext.layout.boxOverflow.none=Ext.layout.boxOverflow.None;Ext.layout.boxOverflow.Menu=Ext.extend(Ext.layout.boxOverflow.None,{afterCls:"x-strip-right",noItemsMenuText:'<div class="x-toolbar-no-items">(None)</div>',constructor:function(a){Ext.layout.boxOverflow.Menu.superclass.constructor.apply(this,arguments);this.menuItems=[]},createInnerElements:function(){if(!this.afterCt){this.afterCt=this.layout.innerCt.insertSibling({cls:this.afterCls},"before")}},clearOverflow:function(a,g){var e=g.width+(this.afterCt?this.afterCt.getWidth():0),b=this.menuItems;this.hideTrigger();for(var c=0,d=b.length;c<d;c++){b.pop().component.show()}return{targetSize:{height:g.height,width:e}}},showTrigger:function(){this.createMenu();this.menuTrigger.show()},hideTrigger:function(){if(this.menuTrigger!=undefined){this.menuTrigger.hide()}},beforeMenuShow:function(h){var b=this.menuItems,a=b.length,g,e;var c=function(j,i){return j.isXType("buttongroup")&&!(i instanceof Ext.Toolbar.Separator)};this.clearMenu();h.removeAll();for(var d=0;d<a;d++){g=b[d].component;if(e&&(c(g,e)||c(e,g))){h.add("-")}this.addComponentToMenu(h,g);e=g}if(h.items.length<1){h.add(this.noItemsMenuText)}},createMenuConfig:function(c,a){var b=Ext.apply({},c.initialConfig),d=c.toggleGroup;Ext.copyTo(b,c,["iconCls","icon","itemId","disabled","handler","scope","menu"]);Ext.apply(b,{text:c.overflowText||c.text,hideOnClick:a});if(d||c.enableToggle){Ext.apply(b,{group:d,checked:c.pressed,listeners:{checkchange:function(g,e){c.toggle(e)}}})}delete b.ownerCt;delete b.xtype;delete b.id;return b},addComponentToMenu:function(b,a){if(a instanceof Ext.Toolbar.Separator){b.add("-")}else{if(Ext.isFunction(a.isXType)){if(a.isXType("splitbutton")){b.add(this.createMenuConfig(a,true))}else{if(a.isXType("button")){b.add(this.createMenuConfig(a,!a.menu))}else{if(a.isXType("buttongroup")){a.items.each(function(c){this.addComponentToMenu(b,c)},this)}}}}}},clearMenu:function(){var a=this.moreMenu;if(a&&a.items){a.items.each(function(b){delete b.menu})}},createMenu:function(){if(!this.menuTrigger){this.createInnerElements();this.menu=new Ext.menu.Menu({ownerCt:this.layout.container,listeners:{scope:this,beforeshow:this.beforeMenuShow}});this.menuTrigger=new Ext.Button({iconCls:"x-toolbar-more-icon",cls:"x-toolbar-more",menu:this.menu,renderTo:this.afterCt})}},destroy:function(){Ext.destroy(this.menu,this.menuTrigger)}});Ext.layout.boxOverflow.menu=Ext.layout.boxOverflow.Menu;Ext.layout.boxOverflow.HorizontalMenu=Ext.extend(Ext.layout.boxOverflow.Menu,{constructor:function(){Ext.layout.boxOverflow.HorizontalMenu.superclass.constructor.apply(this,arguments);var c=this,b=c.layout,a=b.calculateChildBoxes;b.calculateChildBoxes=function(d,i){var l=a.apply(b,arguments),k=l.meta,e=c.menuItems;var j=0;for(var g=0,h=e.length;g<h;g++){j+=e[g].width}k.minimumWidth+=j;k.tooNarrow=k.minimumWidth>i.width;return l}},handleOverflow:function(d,h){this.showTrigger();var k=h.width-this.afterCt.getWidth(),l=d.boxes,e=0,r=false;for(var o=0,c=l.length;o<c;o++){e+=l[o].width}var a=k-e,g=0;for(var o=0,c=this.menuItems.length;o<c;o++){var n=this.menuItems[o],m=n.component,b=n.width;if(b<a){m.show();a-=b;g++;r=true}else{break}}if(r){this.menuItems=this.menuItems.slice(g)}else{for(var j=l.length-1;j>=0;j--){var q=l[j].component,p=l[j].left+l[j].width;if(p>=k){this.menuItems.unshift({component:q,width:l[j].width});q.hide()}else{break}}}if(this.menuItems.length==0){this.hideTrigger()}return{targetSize:{height:h.height,width:k},recalculate:r}}});Ext.layout.boxOverflow.menu.hbox=Ext.layout.boxOverflow.HorizontalMenu;Ext.layout.boxOverflow.Scroller=Ext.extend(Ext.layout.boxOverflow.None,{animateScroll:true,scrollIncrement:100,wheelIncrement:3,scrollRepeatInterval:400,scrollDuration:0.4,beforeCls:"x-strip-left",afterCls:"x-strip-right",scrollerCls:"x-strip-scroller",beforeScrollerCls:"x-strip-scroller-left",afterScrollerCls:"x-strip-scroller-right",createWheelListener:function(){this.layout.innerCt.on({scope:this,mousewheel:function(a){a.stopEvent();this.scrollBy(a.getWheelDelta()*this.wheelIncrement*-1,false)}})},handleOverflow:function(a,b){this.createInnerElements();this.showScrollers()},clearOverflow:function(){this.hideScrollers()},showScrollers:function(){this.createScrollers();this.beforeScroller.show();this.afterScroller.show();this.updateScrollButtons()},hideScrollers:function(){if(this.beforeScroller!=undefined){this.beforeScroller.hide();this.afterScroller.hide()}},createScrollers:function(){if(!this.beforeScroller&&!this.afterScroller){var a=this.beforeCt.createChild({cls:String.format("{0} {1} ",this.scrollerCls,this.beforeScrollerCls)});var b=this.afterCt.createChild({cls:String.format("{0} {1}",this.scrollerCls,this.afterScrollerCls)});a.addClassOnOver(this.beforeScrollerCls+"-hover");b.addClassOnOver(this.afterScrollerCls+"-hover");a.setVisibilityMode(Ext.Element.DISPLAY);b.setVisibilityMode(Ext.Element.DISPLAY);this.beforeRepeater=new Ext.util.ClickRepeater(a,{interval:this.scrollRepeatInterval,handler:this.scrollLeft,scope:this});this.afterRepeater=new Ext.util.ClickRepeater(b,{interval:this.scrollRepeatInterval,handler:this.scrollRight,scope:this});this.beforeScroller=a;this.afterScroller=b}},destroy:function(){Ext.destroy(this.beforeScroller,this.afterScroller,this.beforeRepeater,this.afterRepeater,this.beforeCt,this.afterCt)},scrollBy:function(b,a){this.scrollTo(this.getScrollPosition()+b,a)},getItem:function(a){if(Ext.isString(a)){a=Ext.getCmp(a)}else{if(Ext.isNumber(a)){a=this.items[a]}}return a},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},updateScrollButtons:function(){if(this.beforeScroller==undefined||this.afterScroller==undefined){return}var d=this.atExtremeBefore()?"addClass":"removeClass",c=this.atExtremeAfter()?"addClass":"removeClass",a=this.beforeScrollerCls+"-disabled",b=this.afterScrollerCls+"-disabled";this.beforeScroller[d](a);this.afterScroller[c](b);this.scrolling=false},atExtremeBefore:function(){return this.getScrollPosition()===0},scrollLeft:function(a){this.scrollBy(-this.scrollIncrement,a)},scrollRight:function(a){this.scrollBy(this.scrollIncrement,a)},scrollToItem:function(d,b){d=this.getItem(d);if(d!=undefined){var a=this.getItemVisibility(d);if(!a.fullyVisible){var c=d.getBox(true,true),e=c.x;if(a.hiddenRight){e-=(this.layout.innerCt.getWidth()-c.width)}this.scrollTo(e,b)}}},getItemVisibility:function(e){var d=this.getItem(e).getBox(true,true),a=d.x,c=d.x+d.width,g=this.getScrollPosition(),b=this.layout.innerCt.getWidth()+g;return{hiddenLeft:a<g,hiddenRight:c>b,fullyVisible:a>g&&c<b}}});Ext.layout.boxOverflow.scroller=Ext.layout.boxOverflow.Scroller;Ext.layout.boxOverflow.VerticalScroller=Ext.extend(Ext.layout.boxOverflow.Scroller,{scrollIncrement:75,wheelIncrement:2,handleOverflow:function(a,b){Ext.layout.boxOverflow.VerticalScroller.superclass.handleOverflow.apply(this,arguments);return{targetSize:{height:b.height-(this.beforeCt.getHeight()+this.afterCt.getHeight()),width:b.width}}},createInnerElements:function(){var a=this.layout.innerCt;if(!this.beforeCt){this.beforeCt=a.insertSibling({cls:this.beforeCls},"before");this.afterCt=a.insertSibling({cls:this.afterCls},"after");this.createWheelListener()}},scrollTo:function(a,b){var d=this.getScrollPosition(),c=a.constrain(0,this.getMaxScrollBottom());if(c!=d&&!this.scrolling){if(b==undefined){b=this.animateScroll}this.layout.innerCt.scrollTo("top",c,b?this.getScrollAnim():false);if(b){this.scrolling=true}else{this.scrolling=false;this.updateScrollButtons()}}},getScrollPosition:function(){return parseInt(this.layout.innerCt.dom.scrollTop,10)||0},getMaxScrollBottom:function(){return this.layout.innerCt.dom.scrollHeight-this.layout.innerCt.getHeight()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollBottom()}});Ext.layout.boxOverflow.scroller.vbox=Ext.layout.boxOverflow.VerticalScroller;Ext.layout.boxOverflow.HorizontalScroller=Ext.extend(Ext.layout.boxOverflow.Scroller,{handleOverflow:function(a,b){Ext.layout.boxOverflow.HorizontalScroller.superclass.handleOverflow.apply(this,arguments);return{targetSize:{height:b.height,width:b.width-(this.beforeCt.getWidth()+this.afterCt.getWidth())}}},createInnerElements:function(){var a=this.layout.innerCt;if(!this.beforeCt){this.afterCt=a.insertSibling({cls:this.afterCls},"before");this.beforeCt=a.insertSibling({cls:this.beforeCls},"before");this.createWheelListener()}},scrollTo:function(a,b){var d=this.getScrollPosition(),c=a.constrain(0,this.getMaxScrollRight());if(c!=d&&!this.scrolling){if(b==undefined){b=this.animateScroll}this.layout.innerCt.scrollTo("left",c,b?this.getScrollAnim():false);if(b){this.scrolling=true}else{this.scrolling=false;this.updateScrollButtons()}}},getScrollPosition:function(){return parseInt(this.layout.innerCt.dom.scrollLeft,10)||0},getMaxScrollRight:function(){return this.layout.innerCt.dom.scrollWidth-this.layout.innerCt.getWidth()},atExtremeAfter:function(){return this.getScrollPosition()>=this.getMaxScrollRight()}});Ext.layout.boxOverflow.scroller.hbox=Ext.layout.boxOverflow.HorizontalScroller;Ext.layout.HBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"top",type:"hbox",calculateChildBoxes:function(r,b){var F=r.length,R=this.padding,D=R.top,U=R.left,y=D+R.bottom,O=U+R.right,a=b.width-this.scrollOffset,e=b.height,o=Math.max(0,e-y),P=this.pack=="start",W=this.pack=="center",A=this.pack=="end",L=0,Q=0,T=0,l=0,X=0,H=[],k,J,M,V,w,j,S,I,c,x,q,N;for(S=0;S<F;S++){k=r[S];M=k.height;J=k.width;j=!k.hasLayout&&typeof k.doLayout=="function";if(typeof J!="number"){if(k.flex&&!J){T+=k.flex}else{if(!J&&j){k.doLayout()}V=k.getSize();J=V.width;M=V.height}}w=k.margins;x=w.left+w.right;L+=x+(J||0);l+=x+(k.flex?k.minWidth||0:J);X+=x+(k.minWidth||J||0);if(typeof M!="number"){if(j){k.doLayout()}M=k.getHeight()}Q=Math.max(Q,M+w.top+w.bottom);H.push({component:k,height:M||undefined,width:J||undefined})}var K=l-a,p=X>a;var n=Math.max(0,a-L-O);if(p){for(S=0;S<F;S++){H[S].width=r[S].minWidth||r[S].width||H[S].width}}else{if(K>0){var C=[];for(var E=0,v=F;E<v;E++){var B=r[E],t=B.minWidth||0;if(B.flex){H[E].width=t}else{C.push({minWidth:t,available:H[E].width-t,index:E})}}C.sort(function(Y,i){return Y.available>i.available?1:-1});for(var S=0,v=C.length;S<v;S++){var G=C[S].index;if(G==undefined){continue}var B=r[G],m=H[G],u=m.width,t=B.minWidth,d=Math.max(t,u-Math.ceil(K/(v-S))),g=u-d;H[G].width=d;K-=g}}else{var h=n,s=T;for(S=0;S<F;S++){k=r[S];I=H[S];w=k.margins;q=w.top+w.bottom;if(P&&k.flex&&!k.width){c=Math.ceil((k.flex/s)*h);h-=c;s-=k.flex;I.width=c;I.dirtySize=true}}}}if(W){U+=n/2}else{if(A){U+=n}}for(S=0;S<F;S++){k=r[S];I=H[S];w=k.margins;U+=w.left;q=w.top+w.bottom;I.left=U;I.top=D+w.top;switch(this.align){case"stretch":N=o-q;I.height=N.constrain(k.minHeight||0,k.maxHeight||1000000);I.dirtySize=true;break;case"stretchmax":N=Q-q;I.height=N.constrain(k.minHeight||0,k.maxHeight||1000000);I.dirtySize=true;break;case"middle":var z=o-I.height-q;if(z>0){I.top=D+q+(z/2)}}U+=I.width+w.right}return{boxes:H,meta:{maxHeight:Q,nonFlexWidth:L,desiredWidth:l,minimumWidth:X,shortfall:l-a,tooNarrow:p}}}});Ext.Container.LAYOUTS.hbox=Ext.layout.HBoxLayout;Ext.layout.VBoxLayout=Ext.extend(Ext.layout.BoxLayout,{align:"left",type:"vbox",calculateChildBoxes:function(o,b){var E=o.length,R=this.padding,C=R.top,V=R.left,x=C+R.bottom,O=V+R.right,a=b.width-this.scrollOffset,c=b.height,K=Math.max(0,a-O),P=this.pack=="start",X=this.pack=="center",z=this.pack=="end",k=0,u=0,U=0,L=0,m=0,G=[],h,I,N,W,t,g,T,H,S,w,n,d,r;for(T=0;T<E;T++){h=o[T];N=h.height;I=h.width;g=!h.hasLayout&&typeof h.doLayout=="function";if(typeof N!="number"){if(h.flex&&!N){U+=h.flex}else{if(!N&&g){h.doLayout()}W=h.getSize();I=W.width;N=W.height}}t=h.margins;n=t.top+t.bottom;k+=n+(N||0);L+=n+(h.flex?h.minHeight||0:N);m+=n+(h.minHeight||N||0);if(typeof I!="number"){if(g){h.doLayout()}I=h.getWidth()}u=Math.max(u,I+t.left+t.right);G.push({component:h,height:N||undefined,width:I||undefined})}var M=L-c,l=m>c;var q=Math.max(0,(c-k-x));if(l){for(T=0,r=E;T<r;T++){G[T].height=o[T].minHeight||o[T].height||G[T].height}}else{if(M>0){var J=[];for(var D=0,r=E;D<r;D++){var A=o[D],s=A.minHeight||0;if(A.flex){G[D].height=s}else{J.push({minHeight:s,available:G[D].height-s,index:D})}}J.sort(function(Y,i){return Y.available>i.available?1:-1});for(var T=0,r=J.length;T<r;T++){var F=J[T].index;if(F==undefined){continue}var A=o[F],j=G[F],v=j.height,s=A.minHeight,B=Math.max(s,v-Math.ceil(M/(r-T))),e=v-B;G[F].height=B;M-=e}}else{var Q=q,p=U;for(T=0;T<E;T++){h=o[T];H=G[T];t=h.margins;w=t.left+t.right;if(P&&h.flex&&!h.height){S=Math.ceil((h.flex/p)*Q);Q-=S;p-=h.flex;H.height=S;H.dirtySize=true}}}}if(X){C+=q/2}else{if(z){C+=q}}for(T=0;T<E;T++){h=o[T];H=G[T];t=h.margins;C+=t.top;w=t.left+t.right;H.left=V+t.left;H.top=C;switch(this.align){case"stretch":d=K-w;H.width=d.constrain(h.minWidth||0,h.maxWidth||1000000);H.dirtySize=true;break;case"stretchmax":d=u-w;H.width=d.constrain(h.minWidth||0,h.maxWidth||1000000);H.dirtySize=true;break;case"center":var y=K-H.width-w;if(y>0){H.left=V+w+(y/2)}}C+=H.height+t.bottom}return{boxes:G,meta:{maxWidth:u,nonFlexHeight:k,desiredHeight:L,minimumHeight:m,shortfall:L-c,tooNarrow:l}}}});Ext.Container.LAYOUTS.vbox=Ext.layout.VBoxLayout;Ext.layout.ToolbarLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"toolbar",triggerWidth:18,noItemsMenuText:'<div class="x-toolbar-no-items">(None)</div>',lastOverflow:false,tableHTML:['<table cellspacing="0" class="x-toolbar-ct">',"<tbody>","<tr>",'<td class="x-toolbar-left" align="{0}">','<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-left-row"></tr>',"</tbody>","</table>","</td>",'<td class="x-toolbar-right" align="right">','<table cellspacing="0" class="x-toolbar-right-ct">',"<tbody>","<tr>","<td>",'<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-right-row"></tr>',"</tbody>","</table>","</td>","<td>",'<table cellspacing="0">',"<tbody>",'<tr class="x-toolbar-extras-row"></tr>',"</tbody>","</table>","</td>","</tr>","</tbody>","</table>","</td>","</tr>","</tbody>","</table>"].join(""),onLayout:function(e,j){if(!this.leftTr){var h=e.buttonAlign=="center"?"center":"left";j.addClass("x-toolbar-layout-ct");j.insertHtml("beforeEnd",String.format(this.tableHTML,h));this.leftTr=j.child("tr.x-toolbar-left-row",true);this.rightTr=j.child("tr.x-toolbar-right-row",true);this.extrasTr=j.child("tr.x-toolbar-extras-row",true);if(this.hiddenItem==undefined){this.hiddenItems=[]}}var k=e.buttonAlign=="right"?this.rightTr:this.leftTr,l=e.items.items,d=0;for(var b=0,g=l.length,m;b<g;b++,d++){m=l[b];if(m.isFill){k=this.rightTr;d=-1}else{if(!m.rendered){m.render(this.insertCell(m,k,d));this.configureItem(m)}else{if(!m.xtbHidden&&!this.isValidParent(m,k.childNodes[d])){var a=this.insertCell(m,k,d);a.appendChild(m.getPositionEl().dom);m.container=Ext.get(a)}}}}this.cleanup(this.leftTr);this.cleanup(this.rightTr);this.cleanup(this.extrasTr);this.fitToSize(j)},cleanup:function(b){var e=b.childNodes,a,d;for(a=e.length-1;a>=0&&(d=e[a]);a--){if(!d.firstChild){b.removeChild(d)}}},insertCell:function(e,b,a){var d=document.createElement("td");d.className="x-toolbar-cell";b.insertBefore(d,b.childNodes[a]||null);return d},hideItem:function(a){this.hiddenItems.push(a);a.xtbHidden=true;a.xtbWidth=a.getPositionEl().dom.parentNode.offsetWidth;a.hide()},unhideItem:function(a){a.show();a.xtbHidden=false;this.hiddenItems.remove(a)},getItemWidth:function(a){return a.hidden?(a.xtbWidth||0):a.getPositionEl().dom.parentNode.offsetWidth},fitToSize:function(k){if(this.container.enableOverflow===false){return}var b=k.dom.clientWidth,j=k.dom.firstChild.offsetWidth,m=b-this.triggerWidth,a=this.lastWidth||0,c=this.hiddenItems,e=c.length!=0,n=b>=a;this.lastWidth=b;if(j>b||(e&&n)){var l=this.container.items.items,h=l.length,d=0,o;for(var g=0;g<h;g++){o=l[g];if(!o.isFill){d+=this.getItemWidth(o);if(d>m){if(!(o.hidden||o.xtbHidden)){this.hideItem(o)}}else{if(o.xtbHidden){this.unhideItem(o)}}}}}e=c.length!=0;if(e){this.initMore();if(!this.lastOverflow){this.container.fireEvent("overflowchange",this.container,true);this.lastOverflow=true}}else{if(this.more){this.clearMenu();this.more.destroy();delete this.more;if(this.lastOverflow){this.container.fireEvent("overflowchange",this.container,false);this.lastOverflow=false}}}},createMenuConfig:function(c,a){var b=Ext.apply({},c.initialConfig),d=c.toggleGroup;Ext.copyTo(b,c,["iconCls","icon","itemId","disabled","handler","scope","menu"]);Ext.apply(b,{text:c.overflowText||c.text,hideOnClick:a});if(d||c.enableToggle){Ext.apply(b,{group:d,checked:c.pressed,listeners:{checkchange:function(g,e){c.toggle(e)}}})}delete b.ownerCt;delete b.xtype;delete b.id;return b},addComponentToMenu:function(b,a){if(a instanceof Ext.Toolbar.Separator){b.add("-")}else{if(Ext.isFunction(a.isXType)){if(a.isXType("splitbutton")){b.add(this.createMenuConfig(a,true))}else{if(a.isXType("button")){b.add(this.createMenuConfig(a,!a.menu))}else{if(a.isXType("buttongroup")){a.items.each(function(c){this.addComponentToMenu(b,c)},this)}}}}}},clearMenu:function(){var a=this.moreMenu;if(a&&a.items){a.items.each(function(b){delete b.menu})}},beforeMoreShow:function(h){var b=this.container.items.items,a=b.length,g,e;var c=function(j,i){return j.isXType("buttongroup")&&!(i instanceof Ext.Toolbar.Separator)};this.clearMenu();h.removeAll();for(var d=0;d<a;d++){g=b[d];if(g.xtbHidden){if(e&&(c(g,e)||c(e,g))){h.add("-")}this.addComponentToMenu(h,g);e=g}}if(h.items.length<1){h.add(this.noItemsMenuText)}},initMore:function(){if(!this.more){this.moreMenu=new Ext.menu.Menu({ownerCt:this.container,listeners:{beforeshow:this.beforeMoreShow,scope:this}});this.more=new Ext.Button({iconCls:"x-toolbar-more-icon",cls:"x-toolbar-more",menu:this.moreMenu,ownerCt:this.container});var a=this.insertCell(this.more,this.extrasTr,100);this.more.render(a)}},destroy:function(){Ext.destroy(this.more,this.moreMenu);delete this.leftTr;delete this.rightTr;delete this.extrasTr;Ext.layout.ToolbarLayout.superclass.destroy.call(this)}});Ext.Container.LAYOUTS.toolbar=Ext.layout.ToolbarLayout;Ext.layout.MenuLayout=Ext.extend(Ext.layout.ContainerLayout,{monitorResize:true,type:"menu",setContainer:function(a){this.monitorResize=!a.floating;a.on("autosize",this.doAutoSize,this);Ext.layout.MenuLayout.superclass.setContainer.call(this,a)},renderItem:function(g,b,e){if(!this.itemTpl){this.itemTpl=Ext.layout.MenuLayout.prototype.itemTpl=new Ext.XTemplate('<li id="{itemId}" class="{itemCls}">','<tpl if="needsIcon">','<img alt="{altText}" src="{icon}" class="{iconCls}"/>',"</tpl>","</li>")}if(g&&!g.rendered){if(Ext.isNumber(b)){b=e.dom.childNodes[b]}var d=this.getItemArgs(g);g.render(g.positionEl=b?this.itemTpl.insertBefore(b,d,true):this.itemTpl.append(e,d,true));g.positionEl.menuItemId=g.getItemId();if(!d.isMenuItem&&d.needsIcon){g.positionEl.addClass("x-menu-list-item-indent")}this.configureItem(g)}else{if(g&&!this.isValidParent(g,e)){if(Ext.isNumber(b)){b=e.dom.childNodes[b]}e.dom.insertBefore(g.getActionEl().dom,b||null)}}},getItemArgs:function(d){var a=d instanceof Ext.menu.Item,b=!(a||d instanceof Ext.menu.Separator);return{isMenuItem:a,needsIcon:b&&(d.icon||d.iconCls),icon:d.icon||Ext.BLANK_IMAGE_URL,iconCls:"x-menu-item-icon "+(d.iconCls||""),itemId:"x-menu-el-"+d.id,itemCls:"x-menu-list-item ",altText:d.altText||""}},isValidParent:function(b,a){return b.el.up("li.x-menu-list-item",5).dom.parentNode===(a.dom||a)},onLayout:function(a,b){Ext.layout.MenuLayout.superclass.onLayout.call(this,a,b);this.doAutoSize()},doAutoSize:function(){var c=this.container,a=c.width;if(c.floating){if(a){c.setWidth(a)}else{if(Ext.isIE){c.setWidth(Ext.isStrict&&(Ext.isIE7||Ext.isIE8||Ext.isIE9)?"auto":c.minWidth);var d=c.getEl(),b=d.dom.offsetWidth;c.setWidth(c.getLayoutTarget().getWidth()+d.getFrameWidth("lr"))}}}}});Ext.Container.LAYOUTS.menu=Ext.layout.MenuLayout;Ext.Viewport=Ext.extend(Ext.Container,{initComponent:function(){Ext.Viewport.superclass.initComponent.call(this);document.getElementsByTagName("html")[0].className+=" x-viewport";this.el=Ext.getBody();this.el.setHeight=Ext.emptyFn;this.el.setWidth=Ext.emptyFn;this.el.setSize=Ext.emptyFn;this.el.dom.scroll="no";this.allowDomMove=false;this.autoWidth=true;this.autoHeight=true;Ext.EventManager.onWindowResize(this.fireResize,this);this.renderTo=this.el},fireResize:function(a,b){this.fireEvent("resize",this,a,b,a,b)}});Ext.reg("viewport",Ext.Viewport);Ext.Panel=Ext.extend(Ext.Container,{baseCls:"x-panel",collapsedCls:"x-panel-collapsed",maskDisabled:true,animCollapse:Ext.enableFx,headerAsText:true,buttonAlign:"right",collapsed:false,collapseFirst:true,minButtonWidth:75,elements:"body",preventBodyReset:false,padding:undefined,resizeEvent:"bodyresize",toolTarget:"header",collapseEl:"bwrap",slideAnchor:"t",disabledClass:"",deferHeight:true,expandDefaults:{duration:0.25},collapseDefaults:{duration:0.25},initComponent:function(){Ext.Panel.superclass.initComponent.call(this);this.addEvents("bodyresize","titlechange","iconchange","collapse","expand","beforecollapse","beforeexpand","beforeclose","close","activate","deactivate");if(this.unstyled){this.baseCls="x-plain"}this.toolbars=[];if(this.tbar){this.elements+=",tbar";this.topToolbar=this.createToolbar(this.tbar);this.tbar=null}if(this.bbar){this.elements+=",bbar";this.bottomToolbar=this.createToolbar(this.bbar);this.bbar=null}if(this.header===true){this.elements+=",header";this.header=null}else{if(this.headerCfg||(this.title&&this.header!==false)){this.elements+=",header"}}if(this.footerCfg||this.footer===true){this.elements+=",footer";this.footer=null}if(this.buttons){this.fbar=this.buttons;this.buttons=null}if(this.fbar){this.createFbar(this.fbar)}if(this.autoLoad){this.on("render",this.doAutoLoad,this,{delay:10})}},createFbar:function(b){var a=this.minButtonWidth;this.elements+=",footer";this.fbar=this.createToolbar(b,{buttonAlign:this.buttonAlign,toolbarCls:"x-panel-fbar",enableOverflow:false,defaults:function(d){return{minWidth:d.minWidth||a}}});this.fbar.items.each(function(d){d.minWidth=d.minWidth||this.minButtonWidth},this);this.buttons=this.fbar.items.items},createToolbar:function(b,c){var a;if(Ext.isArray(b)){b={items:b}}a=b.events?Ext.apply(b,c):this.createComponent(Ext.apply({},b,c),"toolbar");this.toolbars.push(a);return a},createElement:function(a,c){if(this[a]){c.appendChild(this[a].dom);return}if(a==="bwrap"||this.elements.indexOf(a)!=-1){if(this[a+"Cfg"]){this[a]=Ext.fly(c).createChild(this[a+"Cfg"])}else{var b=document.createElement("div");b.className=this[a+"Cls"];this[a]=Ext.get(c.appendChild(b))}if(this[a+"CssClass"]){this[a].addClass(this[a+"CssClass"])}if(this[a+"Style"]){this[a].applyStyles(this[a+"Style"])}}},onRender:function(g,e){Ext.Panel.superclass.onRender.call(this,g,e);this.createClasses();var a=this.el,h=a.dom,k,i;if(this.collapsible&&!this.hideCollapseTool){this.tools=this.tools?this.tools.slice(0):[];this.tools[this.collapseFirst?"unshift":"push"]({id:"toggle",handler:this.toggleCollapse,scope:this})}if(this.tools){i=this.tools;this.elements+=(this.header!==false)?",header":""}this.tools={};a.addClass(this.baseCls);if(h.firstChild){this.header=a.down("."+this.headerCls);this.bwrap=a.down("."+this.bwrapCls);var j=this.bwrap?this.bwrap:a;this.tbar=j.down("."+this.tbarCls);this.body=j.down("."+this.bodyCls);this.bbar=j.down("."+this.bbarCls);this.footer=j.down("."+this.footerCls);this.fromMarkup=true}if(this.preventBodyReset===true){a.addClass("x-panel-reset")}if(this.cls){a.addClass(this.cls)}if(this.buttons){this.elements+=",footer"}if(this.frame){a.insertHtml("afterBegin",String.format(Ext.Element.boxMarkup,this.baseCls));this.createElement("header",h.firstChild.firstChild.firstChild);this.createElement("bwrap",h);k=this.bwrap.dom;var c=h.childNodes[1],b=h.childNodes[2];k.appendChild(c);k.appendChild(b);var l=k.firstChild.firstChild.firstChild;this.createElement("tbar",l);this.createElement("body",l);this.createElement("bbar",l);this.createElement("footer",k.lastChild.firstChild.firstChild);if(!this.footer){this.bwrap.dom.lastChild.className+=" x-panel-nofooter"}this.ft=Ext.get(this.bwrap.dom.lastChild);this.mc=Ext.get(l)}else{this.createElement("header",h);this.createElement("bwrap",h);k=this.bwrap.dom;this.createElement("tbar",k);this.createElement("body",k);this.createElement("bbar",k);this.createElement("footer",k);if(!this.header){this.body.addClass(this.bodyCls+"-noheader");if(this.tbar){this.tbar.addClass(this.tbarCls+"-noheader")}}}if(Ext.isDefined(this.padding)){this.body.setStyle("padding",this.body.addUnits(this.padding))}if(this.border===false){this.el.addClass(this.baseCls+"-noborder");this.body.addClass(this.bodyCls+"-noborder");if(this.header){this.header.addClass(this.headerCls+"-noborder")}if(this.footer){this.footer.addClass(this.footerCls+"-noborder")}if(this.tbar){this.tbar.addClass(this.tbarCls+"-noborder")}if(this.bbar){this.bbar.addClass(this.bbarCls+"-noborder")}}if(this.bodyBorder===false){this.body.addClass(this.bodyCls+"-noborder")}this.bwrap.enableDisplayMode("block");if(this.header){this.header.unselectable();if(this.headerAsText){this.header.dom.innerHTML='<span class="'+this.headerTextCls+'">'+this.header.dom.innerHTML+"</span>";if(this.iconCls){this.setIconClass(this.iconCls)}}}if(this.floating){this.makeFloating(this.floating)}if(this.collapsible&&this.titleCollapse&&this.header){this.mon(this.header,"click",this.toggleCollapse,this);this.header.setStyle("cursor","pointer")}if(i){this.addTool.apply(this,i)}if(this.fbar){this.footer.addClass("x-panel-btns");this.fbar.ownerCt=this;this.fbar.render(this.footer);this.footer.createChild({cls:"x-clear"})}if(this.tbar&&this.topToolbar){this.topToolbar.ownerCt=this;this.topToolbar.render(this.tbar)}if(this.bbar&&this.bottomToolbar){this.bottomToolbar.ownerCt=this;this.bottomToolbar.render(this.bbar)}},setIconClass:function(b){var a=this.iconCls;this.iconCls=b;if(this.rendered&&this.header){if(this.frame){this.header.addClass("x-panel-icon");this.header.replaceClass(a,this.iconCls)}else{var e=this.header,c=e.child("img.x-panel-inline-icon");if(c){Ext.fly(c).replaceClass(a,this.iconCls)}else{var d=e.child("span."+this.headerTextCls);if(d){Ext.DomHelper.insertBefore(d.dom,{tag:"img",alt:"",src:Ext.BLANK_IMAGE_URL,cls:"x-panel-inline-icon "+this.iconCls})}}}}this.fireEvent("iconchange",this,b,a)},makeFloating:function(a){this.floating=true;this.el=new Ext.Layer(Ext.apply({},a,{shadow:Ext.isDefined(this.shadow)?this.shadow:"sides",shadowOffset:this.shadowOffset,constrain:false,shim:this.shim===false?false:undefined}),this.el)},getTopToolbar:function(){return this.topToolbar},getBottomToolbar:function(){return this.bottomToolbar},getFooterToolbar:function(){return this.fbar},addButton:function(a,c,b){if(!this.fbar){this.createFbar([])}if(c){if(Ext.isString(a)){a={text:a}}a=Ext.apply({handler:c,scope:b},a)}return this.fbar.add(a)},addTool:function(){if(!this.rendered){if(!this.tools){this.tools=[]}Ext.each(arguments,function(a){this.tools.push(a)},this);return}if(!this[this.toolTarget]){return}if(!this.toolTemplate){var h=new Ext.Template('<div class="x-tool x-tool-{id}">&#160;</div>');h.disableFormats=true;h.compile();Ext.Panel.prototype.toolTemplate=h}for(var g=0,d=arguments,c=d.length;g<c;g++){var b=d[g];if(!this.tools[b.id]){var j="x-tool-"+b.id+"-over";var e=this.toolTemplate.insertFirst(this[this.toolTarget],b,true);this.tools[b.id]=e;e.enableDisplayMode("block");this.mon(e,"click",this.createToolHandler(e,b,j,this));if(b.on){this.mon(e,b.on)}if(b.hidden){e.hide()}if(b.qtip){if(Ext.isObject(b.qtip)){Ext.QuickTips.register(Ext.apply({target:e.id},b.qtip))}else{e.dom.qtip=b.qtip}}e.addClassOnOver(j)}}},onLayout:function(b,a){Ext.Panel.superclass.onLayout.apply(this,arguments);if(this.hasLayout&&this.toolbars.length>0){Ext.each(this.toolbars,function(c){c.doLayout(undefined,a)});this.syncHeight()}},syncHeight:function(){var b=this.toolbarHeight,c=this.body,a=this.lastSize.height,d;if(this.autoHeight||!Ext.isDefined(a)||a=="auto"){return}if(b!=this.getToolbarHeight()){b=Math.max(0,a-this.getFrameHeight());c.setHeight(b);d=c.getSize();this.toolbarHeight=this.getToolbarHeight();this.onBodyResize(d.width,d.height)}},onShow:function(){if(this.floating){return this.el.show()}Ext.Panel.superclass.onShow.call(this)},onHide:function(){if(this.floating){return this.el.hide()}Ext.Panel.superclass.onHide.call(this)},createToolHandler:function(c,a,d,b){return function(g){c.removeClass(d);if(a.stopEvent!==false){g.stopEvent()}if(a.handler){a.handler.call(a.scope||c,g,c,b,a)}}},afterRender:function(){if(this.floating&&!this.hidden){this.el.show()}if(this.title){this.setTitle(this.title)}Ext.Panel.superclass.afterRender.call(this);if(this.collapsed){this.collapsed=false;this.collapse(false)}this.initEvents()},getKeyMap:function(){if(!this.keyMap){this.keyMap=new Ext.KeyMap(this.el,this.keys)}return this.keyMap},initEvents:function(){if(this.keys){this.getKeyMap()}if(this.draggable){this.initDraggable()}if(this.toolbars.length>0){Ext.each(this.toolbars,function(a){a.doLayout();a.on({scope:this,afterlayout:this.syncHeight,remove:this.syncHeight})},this);this.syncHeight()}},initDraggable:function(){this.dd=new Ext.Panel.DD(this,Ext.isBoolean(this.draggable)?null:this.draggable)},beforeEffect:function(a){if(this.floating){this.el.beforeAction()}if(a!==false){this.el.addClass("x-panel-animated")}},afterEffect:function(a){this.syncShadow();this.el.removeClass("x-panel-animated")},createEffect:function(c,b,d){var e={scope:d,block:true};if(c===true){e.callback=b;return e}else{if(!c.callback){e.callback=b}else{e.callback=function(){b.call(d);Ext.callback(c.callback,c.scope)}}}return Ext.applyIf(e,c)},collapse:function(b){if(this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforecollapse",this,b)===false){return}var a=b===true||(b!==false&&this.animCollapse);this.beforeEffect(a);this.onCollapse(a,b);return this},onCollapse:function(a,b){if(a){this[this.collapseEl].slideOut(this.slideAnchor,Ext.apply(this.createEffect(b||true,this.afterCollapse,this),this.collapseDefaults))}else{this[this.collapseEl].hide(this.hideMode);this.afterCollapse(false)}},afterCollapse:function(a){this.collapsed=true;this.el.addClass(this.collapsedCls);if(a!==false){this[this.collapseEl].hide(this.hideMode)}this.afterEffect(a);this.cascade(function(b){if(b.lastSize){b.lastSize={width:undefined,height:undefined}}});this.fireEvent("collapse",this)},expand:function(b){if(!this.collapsed||this.el.hasFxBlock()||this.fireEvent("beforeexpand",this,b)===false){return}var a=b===true||(b!==false&&this.animCollapse);this.el.removeClass(this.collapsedCls);this.beforeEffect(a);this.onExpand(a,b);return this},onExpand:function(a,b){if(a){this[this.collapseEl].slideIn(this.slideAnchor,Ext.apply(this.createEffect(b||true,this.afterExpand,this),this.expandDefaults))}else{this[this.collapseEl].show(this.hideMode);this.afterExpand(false)}},afterExpand:function(a){this.collapsed=false;if(a!==false){this[this.collapseEl].show(this.hideMode)}this.afterEffect(a);if(this.deferLayout){delete this.deferLayout;this.doLayout(true)}this.fireEvent("expand",this)},toggleCollapse:function(a){this[this.collapsed?"expand":"collapse"](a);return this},onDisable:function(){if(this.rendered&&this.maskDisabled){this.el.mask()}Ext.Panel.superclass.onDisable.call(this)},onEnable:function(){if(this.rendered&&this.maskDisabled){this.el.unmask()}Ext.Panel.superclass.onEnable.call(this)},onResize:function(g,d,c,e){var a=g,b=d;if(Ext.isDefined(a)||Ext.isDefined(b)){if(!this.collapsed){if(Ext.isNumber(a)){this.body.setWidth(a=this.adjustBodyWidth(a-this.getFrameWidth()))}else{if(a=="auto"){a=this.body.setWidth("auto").dom.offsetWidth}else{a=this.body.dom.offsetWidth}}if(this.tbar){this.tbar.setWidth(a);if(this.topToolbar){this.topToolbar.setSize(a)}}if(this.bbar){this.bbar.setWidth(a);if(this.bottomToolbar){this.bottomToolbar.setSize(a);if(Ext.isIE){this.bbar.setStyle("position","static");this.bbar.setStyle("position","")}}}if(this.footer){this.footer.setWidth(a);if(this.fbar){this.fbar.setSize(Ext.isIE?(a-this.footer.getFrameWidth("lr")):"auto")}}if(Ext.isNumber(b)){b=Math.max(0,b-this.getFrameHeight());this.body.setHeight(b)}else{if(b=="auto"){this.body.setHeight(b)}}if(this.disabled&&this.el._mask){this.el._mask.setSize(this.el.dom.clientWidth,this.el.getHeight())}}else{this.queuedBodySize={width:a,height:b};if(!this.queuedExpand&&this.allowQueuedExpand!==false){this.queuedExpand=true;this.on("expand",function(){delete this.queuedExpand;this.onResize(this.queuedBodySize.width,this.queuedBodySize.height)},this,{single:true})}}this.onBodyResize(a,b)}this.syncShadow();Ext.Panel.superclass.onResize.call(this,g,d,c,e)},onBodyResize:function(a,b){this.fireEvent("bodyresize",this,a,b)},getToolbarHeight:function(){var a=0;if(this.rendered){Ext.each(this.toolbars,function(b){a+=b.getHeight()},this)}return a},adjustBodyHeight:function(a){return a},adjustBodyWidth:function(a){return a},onPosition:function(){this.syncShadow()},getFrameWidth:function(){var b=this.el.getFrameWidth("lr")+this.bwrap.getFrameWidth("lr");if(this.frame){var a=this.bwrap.dom.firstChild;b+=(Ext.fly(a).getFrameWidth("l")+Ext.fly(a.firstChild).getFrameWidth("r"));b+=this.mc.getFrameWidth("lr")}return b},getFrameHeight:function(){var a=this.el.getFrameWidth("tb")+this.bwrap.getFrameWidth("tb");a+=(this.tbar?this.tbar.getHeight():0)+(this.bbar?this.bbar.getHeight():0);if(this.frame){a+=this.el.dom.firstChild.offsetHeight+this.ft.dom.offsetHeight+this.mc.getFrameWidth("tb")}else{a+=(this.header?this.header.getHeight():0)+(this.footer?this.footer.getHeight():0)}return a},getInnerWidth:function(){return this.getSize().width-this.getFrameWidth()},getInnerHeight:function(){return this.body.getHeight()},syncShadow:function(){if(this.floating){this.el.sync(true)}},getLayoutTarget:function(){return this.body},getContentTarget:function(){return this.body},setTitle:function(b,a){this.title=b;if(this.header&&this.headerAsText){this.header.child("span").update(b)}if(a){this.setIconClass(a)}this.fireEvent("titlechange",this,b);return this},getUpdater:function(){return this.body.getUpdater()},load:function(){var a=this.body.getUpdater();a.update.apply(a,arguments);return this},beforeDestroy:function(){Ext.Panel.superclass.beforeDestroy.call(this);if(this.header){this.header.removeAllListeners()}if(this.tools){for(var a in this.tools){Ext.destroy(this.tools[a])}}if(this.toolbars.length>0){Ext.each(this.toolbars,function(b){b.un("afterlayout",this.syncHeight,this);b.un("remove",this.syncHeight,this)},this)}if(Ext.isArray(this.buttons)){while(this.buttons.length){Ext.destroy(this.buttons[0])}}if(this.rendered){Ext.destroy(this.ft,this.header,this.footer,this.tbar,this.bbar,this.body,this.mc,this.bwrap,this.dd);if(this.fbar){Ext.destroy(this.fbar,this.fbar.el)}}Ext.destroy(this.toolbars)},createClasses:function(){this.headerCls=this.baseCls+"-header";this.headerTextCls=this.baseCls+"-header-text";this.bwrapCls=this.baseCls+"-bwrap";this.tbarCls=this.baseCls+"-tbar";this.bodyCls=this.baseCls+"-body";this.bbarCls=this.baseCls+"-bbar";this.footerCls=this.baseCls+"-footer"},createGhost:function(a,e,b){var d=document.createElement("div");d.className="x-panel-ghost "+(a?a:"");if(this.header){d.appendChild(this.el.dom.firstChild.cloneNode(true))}Ext.fly(d.appendChild(document.createElement("ul"))).setHeight(this.bwrap.getHeight());d.style.width=this.el.dom.offsetWidth+"px";if(!b){this.container.dom.appendChild(d)}else{Ext.getDom(b).appendChild(d)}if(e!==false&&this.el.useShim!==false){var c=new Ext.Layer({shadow:false,useDisplay:true,constrain:false},d);c.show();return c}else{return new Ext.Element(d)}},doAutoLoad:function(){var a=this.body.getUpdater();if(this.renderer){a.setRenderer(this.renderer)}a.update(Ext.isObject(this.autoLoad)?this.autoLoad:{url:this.autoLoad})},getTool:function(a){return this.tools[a]}});Ext.reg("panel",Ext.Panel);Ext.Editor=function(b,a){if(b.field){this.field=Ext.create(b.field,"textfield");a=Ext.apply({},b);delete a.field}else{this.field=b}Ext.Editor.superclass.constructor.call(this,a)};Ext.extend(Ext.Editor,Ext.Component,{allowBlur:true,value:"",alignment:"c-c?",offsets:[0,0],shadow:"frame",constrain:false,swallowKeys:true,completeOnEnter:true,cancelOnEsc:true,updateEl:false,initComponent:function(){Ext.Editor.superclass.initComponent.call(this);this.addEvents("beforestartedit","startedit","beforecomplete","complete","canceledit","specialkey")},onRender:function(b,a){this.el=new Ext.Layer({shadow:this.shadow,cls:"x-editor",parentEl:b,shim:this.shim,shadowOffset:this.shadowOffset||4,id:this.id,constrain:this.constrain});if(this.zIndex){this.el.setZIndex(this.zIndex)}this.el.setStyle("overflow",Ext.isGecko?"auto":"hidden");if(this.field.msgTarget!="title"){this.field.msgTarget="qtip"}this.field.inEditor=true;this.mon(this.field,{scope:this,blur:this.onBlur,specialkey:this.onSpecialKey});if(this.field.grow){this.mon(this.field,"autosize",this.el.sync,this.el,{delay:1})}this.field.render(this.el).show();this.field.getEl().dom.name="";if(this.swallowKeys){this.field.el.swallowEvent(["keypress","keydown"])}},onSpecialKey:function(g,d){var b=d.getKey(),a=this.completeOnEnter&&b==d.ENTER,c=this.cancelOnEsc&&b==d.ESC;if(a||c){d.stopEvent();if(a){this.completeEdit()}else{this.cancelEdit()}if(g.triggerBlur){g.triggerBlur()}}this.fireEvent("specialkey",g,d)},startEdit:function(b,c){if(this.editing){this.completeEdit()}this.boundEl=Ext.get(b);var a=c!==undefined?c:this.boundEl.dom.innerHTML;if(!this.rendered){this.render(this.parentEl||document.body)}if(this.fireEvent("beforestartedit",this,this.boundEl,a)!==false){this.startValue=a;this.field.reset();this.field.setValue(a);this.realign(true);this.editing=true;this.show()}},doAutoSize:function(){if(this.autoSize){var b=this.boundEl.getSize(),a=this.field.getSize();switch(this.autoSize){case"width":this.setSize(b.width,a.height);break;case"height":this.setSize(a.width,b.height);break;case"none":this.setSize(a.width,a.height);break;default:this.setSize(b.width,b.height)}}},setSize:function(a,b){delete this.field.lastSize;this.field.setSize(a,b);if(this.el){if(Ext.isGecko2||Ext.isOpera||(Ext.isIE7&&Ext.isStrict)){this.el.setSize(a,b)}this.el.sync()}},realign:function(a){if(a===true){this.doAutoSize()}this.el.alignTo(this.boundEl,this.alignment,this.offsets)},completeEdit:function(a){if(!this.editing){return}if(this.field.assertValue){this.field.assertValue()}var b=this.getValue();if(!this.field.isValid()){if(this.revertInvalid!==false){this.cancelEdit(a)}return}if(String(b)===String(this.startValue)&&this.ignoreNoChange){this.hideEdit(a);return}if(this.fireEvent("beforecomplete",this,b,this.startValue)!==false){b=this.getValue();if(this.updateEl&&this.boundEl){this.boundEl.update(b)}this.hideEdit(a);this.fireEvent("complete",this,b,this.startValue)}},onShow:function(){this.el.show();if(this.hideEl!==false){this.boundEl.hide()}this.field.show().focus(false,true);this.fireEvent("startedit",this.boundEl,this.startValue)},cancelEdit:function(a){if(this.editing){var b=this.getValue();this.setValue(this.startValue);this.hideEdit(a);this.fireEvent("canceledit",this,b,this.startValue)}},hideEdit:function(a){if(a!==true){this.editing=false;this.hide()}},onBlur:function(){if(this.allowBlur===true&&this.editing&&this.selectSameEditor!==true){this.completeEdit()}},onHide:function(){if(this.editing){this.completeEdit();return}this.field.blur();if(this.field.collapse){this.field.collapse()}this.el.hide();if(this.hideEl!==false){this.boundEl.show()}},setValue:function(a){this.field.setValue(a)},getValue:function(){return this.field.getValue()},beforeDestroy:function(){Ext.destroyMembers(this,"field");delete this.parentEl;delete this.boundEl}});Ext.reg("editor",Ext.Editor);Ext.ColorPalette=Ext.extend(Ext.Component,{itemCls:"x-color-palette",value:null,clickEvent:"click",ctype:"Ext.ColorPalette",allowReselect:false,colors:["000000","993300","333300","003300","003366","000080","333399","333333","800000","FF6600","808000","008000","008080","0000FF","666699","808080","FF0000","FF9900","99CC00","339966","33CCCC","3366FF","800080","969696","FF00FF","FFCC00","FFFF00","00FF00","00FFFF","00CCFF","993366","C0C0C0","FF99CC","FFCC99","FFFF99","CCFFCC","CCFFFF","99CCFF","CC99FF","FFFFFF"],initComponent:function(){Ext.ColorPalette.superclass.initComponent.call(this);this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope,true)}},onRender:function(b,a){this.autoEl={tag:"div",cls:this.itemCls};Ext.ColorPalette.superclass.onRender.call(this,b,a);var c=this.tpl||new Ext.XTemplate('<tpl for="."><a href="#" class="color-{.}" hidefocus="on"><em><span style="background:#{.}" unselectable="on">&#160;</span></em></a></tpl>');c.overwrite(this.el,this.colors);this.mon(this.el,this.clickEvent,this.handleClick,this,{delegate:"a"});if(this.clickEvent!="click"){this.mon(this.el,"click",Ext.emptyFn,this,{delegate:"a",preventDefault:true})}},afterRender:function(){Ext.ColorPalette.superclass.afterRender.call(this);if(this.value){var a=this.value;this.value=null;this.select(a,true)}},handleClick:function(b,a){b.preventDefault();if(!this.disabled){var d=a.className.match(/(?:^|\s)color-(.{6})(?:\s|$)/)[1];this.select(d.toUpperCase())}},select:function(b,a){b=b.replace("#","");if(b!=this.value||this.allowReselect){var c=this.el;if(this.value){c.child("a.color-"+this.value).removeClass("x-color-palette-sel")}c.child("a.color-"+b).addClass("x-color-palette-sel");this.value=b;if(a!==true){this.fireEvent("select",this,b)}}}});Ext.reg("colorpalette",Ext.ColorPalette);Ext.DatePicker=Ext.extend(Ext.BoxComponent,{todayText:"Today",okText:"&#160;OK&#160;",cancelText:"Cancel",todayTip:"{0} (Spacebar)",minText:"This date is before the minimum date",maxText:"This date is after the maximum date",format:"m/d/y",disabledDaysText:"Disabled",disabledDatesText:"Disabled",monthNames:Date.monthNames,dayNames:Date.dayNames,nextText:"Next Month (Control+Right)",prevText:"Previous Month (Control+Left)",monthYearText:"Choose a month (Control+Up/Down to move years)",startDay:0,showToday:true,focusOnSelect:true,initHour:12,initComponent:function(){Ext.DatePicker.superclass.initComponent.call(this);this.value=this.value?this.value.clearTime(true):new Date().clearTime();this.addEvents("select");if(this.handler){this.on("select",this.handler,this.scope||this)}this.initDisabledDays()},initDisabledDays:function(){if(!this.disabledDatesRE&&this.disabledDates){var b=this.disabledDates,a=b.length-1,c="(?:";Ext.each(b,function(g,e){c+=Ext.isDate(g)?"^"+Ext.escapeRe(g.dateFormat(this.format))+"$":b[e];if(e!=a){c+="|"}},this);this.disabledDatesRE=new RegExp(c+")")}},setDisabledDates:function(a){if(Ext.isArray(a)){this.disabledDates=a;this.disabledDatesRE=null}else{this.disabledDatesRE=a}this.initDisabledDays();this.update(this.value,true)},setDisabledDays:function(a){this.disabledDays=a;this.update(this.value,true)},setMinDate:function(a){this.minDate=a;this.update(this.value,true)},setMaxDate:function(a){this.maxDate=a;this.update(this.value,true)},setValue:function(a){this.value=a.clearTime(true);this.update(this.value)},getValue:function(){return this.value},focus:function(){this.update(this.activeDate)},onEnable:function(a){Ext.DatePicker.superclass.onEnable.call(this);this.doDisabled(false);this.update(a?this.value:this.activeDate);if(Ext.isIE){this.el.repaint()}},onDisable:function(){Ext.DatePicker.superclass.onDisable.call(this);this.doDisabled(true);if(Ext.isIE&&!Ext.isIE8){Ext.each([].concat(this.textNodes,this.el.query("th span")),function(a){Ext.fly(a).repaint()})}},doDisabled:function(a){this.keyNav.setDisabled(a);this.prevRepeater.setDisabled(a);this.nextRepeater.setDisabled(a);if(this.showToday){this.todayKeyListener.setDisabled(a);this.todayBtn.setDisabled(a)}},onRender:function(e,b){var a=['<table cellspacing="0">','<tr><td class="x-date-left"><a href="#" title="',this.prevText,'">&#160;</a></td><td class="x-date-middle" align="center"></td><td class="x-date-right"><a href="#" title="',this.nextText,'">&#160;</a></td></tr>','<tr><td colspan="3"><table class="x-date-inner" cellspacing="0"><thead><tr>'],c=this.dayNames,h;for(h=0;h<7;h++){var k=this.startDay+h;if(k>6){k=k-7}a.push("<th><span>",c[k].substr(0,1),"</span></th>")}a[a.length]="</tr></thead><tbody><tr>";for(h=0;h<42;h++){if(h%7===0&&h!==0){a[a.length]="</tr><tr>"}a[a.length]='<td><a href="#" hidefocus="on" class="x-date-date" tabIndex="1"><em><span></span></em></a></td>'}a.push("</tr></tbody></table></td></tr>",this.showToday?'<tr><td colspan="3" class="x-date-bottom" align="center"></td></tr>':"",'</table><div class="x-date-mp"></div>');var j=document.createElement("div");j.className="x-date-picker";j.innerHTML=a.join("");e.dom.insertBefore(j,b);this.el=Ext.get(j);this.eventEl=Ext.get(j.firstChild);this.prevRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-left a"),{handler:this.showPrevMonth,scope:this,preventDefault:true,stopDefault:true});this.nextRepeater=new Ext.util.ClickRepeater(this.el.child("td.x-date-right a"),{handler:this.showNextMonth,scope:this,preventDefault:true,stopDefault:true});this.monthPicker=this.el.down("div.x-date-mp");this.monthPicker.enableDisplayMode("block");this.keyNav=new Ext.KeyNav(this.eventEl,{left:function(d){if(d.ctrlKey){this.showPrevMonth()}else{this.update(this.activeDate.add("d",-1))}},right:function(d){if(d.ctrlKey){this.showNextMonth()}else{this.update(this.activeDate.add("d",1))}},up:function(d){if(d.ctrlKey){this.showNextYear()}else{this.update(this.activeDate.add("d",-7))}},down:function(d){if(d.ctrlKey){this.showPrevYear()}else{this.update(this.activeDate.add("d",7))}},pageUp:function(d){this.showNextMonth()},pageDown:function(d){this.showPrevMonth()},enter:function(d){d.stopPropagation();return true},scope:this});this.el.unselectable();this.cells=this.el.select("table.x-date-inner tbody td");this.textNodes=this.el.query("table.x-date-inner tbody span");this.mbtn=new Ext.Button({text:"&#160;",tooltip:this.monthYearText,renderTo:this.el.child("td.x-date-middle",true)});this.mbtn.el.child("em").addClass("x-btn-arrow");if(this.showToday){this.todayKeyListener=this.eventEl.addKeyListener(Ext.EventObject.SPACE,this.selectToday,this);var g=(new Date()).dateFormat(this.format);this.todayBtn=new Ext.Button({renderTo:this.el.child("td.x-date-bottom",true),text:String.format(this.todayText,g),tooltip:String.format(this.todayTip,g),handler:this.selectToday,scope:this})}this.mon(this.eventEl,"mousewheel",this.handleMouseWheel,this);this.mon(this.eventEl,"click",this.handleDateClick,this,{delegate:"a.x-date-date"});this.mon(this.mbtn,"click",this.showMonthPicker,this);this.onEnable(true)},createMonthPicker:function(){if(!this.monthPicker.dom.firstChild){var a=['<table border="0" cellspacing="0">'];for(var b=0;b<6;b++){a.push('<tr><td class="x-date-mp-month"><a href="#">',Date.getShortMonthName(b),"</a></td>",'<td class="x-date-mp-month x-date-mp-sep"><a href="#">',Date.getShortMonthName(b+6),"</a></td>",b===0?'<td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-prev"></a></td><td class="x-date-mp-ybtn" align="center"><a class="x-date-mp-next"></a></td></tr>':'<td class="x-date-mp-year"><a href="#"></a></td><td class="x-date-mp-year"><a href="#"></a></td></tr>')}a.push('<tr class="x-date-mp-btns"><td colspan="4"><button type="button" class="x-date-mp-ok">',this.okText,'</button><button type="button" class="x-date-mp-cancel">',this.cancelText,"</button></td></tr>","</table>");this.monthPicker.update(a.join(""));this.mon(this.monthPicker,"click",this.onMonthClick,this);this.mon(this.monthPicker,"dblclick",this.onMonthDblClick,this);this.mpMonths=this.monthPicker.select("td.x-date-mp-month");this.mpYears=this.monthPicker.select("td.x-date-mp-year");this.mpMonths.each(function(c,d,e){e+=1;if((e%2)===0){c.dom.xmonth=5+Math.round(e*0.5)}else{c.dom.xmonth=Math.round((e-1)*0.5)}})}},showMonthPicker:function(){if(!this.disabled){this.createMonthPicker();var a=this.el.getSize();this.monthPicker.setSize(a);this.monthPicker.child("table").setSize(a);this.mpSelMonth=(this.activeDate||this.value).getMonth();this.updateMPMonth(this.mpSelMonth);this.mpSelYear=(this.activeDate||this.value).getFullYear();this.updateMPYear(this.mpSelYear);this.monthPicker.slideIn("t",{duration:0.2})}},updateMPYear:function(e){this.mpyear=e;var c=this.mpYears.elements;for(var b=1;b<=10;b++){var d=c[b-1],a;if((b%2)===0){a=e+Math.round(b*0.5);d.firstChild.innerHTML=a;d.xyear=a}else{a=e-(5-Math.round(b*0.5));d.firstChild.innerHTML=a;d.xyear=a}this.mpYears.item(b-1)[a==this.mpSelYear?"addClass":"removeClass"]("x-date-mp-sel")}},updateMPMonth:function(a){this.mpMonths.each(function(b,c,d){b[b.dom.xmonth==a?"addClass":"removeClass"]("x-date-mp-sel")})},selectMPMonth:function(a){},onMonthClick:function(g,b){g.stopEvent();var c=new Ext.Element(b),a;if(c.is("button.x-date-mp-cancel")){this.hideMonthPicker()}else{if(c.is("button.x-date-mp-ok")){var h=new Date(this.mpSelYear,this.mpSelMonth,(this.activeDate||this.value).getDate());if(h.getMonth()!=this.mpSelMonth){h=new Date(this.mpSelYear,this.mpSelMonth,1).getLastDateOfMonth()}this.update(h);this.hideMonthPicker()}else{if((a=c.up("td.x-date-mp-month",2))){this.mpMonths.removeClass("x-date-mp-sel");a.addClass("x-date-mp-sel");this.mpSelMonth=a.dom.xmonth}else{if((a=c.up("td.x-date-mp-year",2))){this.mpYears.removeClass("x-date-mp-sel");a.addClass("x-date-mp-sel");this.mpSelYear=a.dom.xyear}else{if(c.is("a.x-date-mp-prev")){this.updateMPYear(this.mpyear-10)}else{if(c.is("a.x-date-mp-next")){this.updateMPYear(this.mpyear+10)}}}}}}},onMonthDblClick:function(d,b){d.stopEvent();var c=new Ext.Element(b),a;if((a=c.up("td.x-date-mp-month",2))){this.update(new Date(this.mpSelYear,a.dom.xmonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker()}else{if((a=c.up("td.x-date-mp-year",2))){this.update(new Date(a.dom.xyear,this.mpSelMonth,(this.activeDate||this.value).getDate()));this.hideMonthPicker()}}},hideMonthPicker:function(a){if(this.monthPicker){if(a===true){this.monthPicker.hide()}else{this.monthPicker.slideOut("t",{duration:0.2})}}},showPrevMonth:function(a){this.update(this.activeDate.add("mo",-1))},showNextMonth:function(a){this.update(this.activeDate.add("mo",1))},showPrevYear:function(){this.update(this.activeDate.add("y",-1))},showNextYear:function(){this.update(this.activeDate.add("y",1))},handleMouseWheel:function(a){a.stopEvent();if(!this.disabled){var b=a.getWheelDelta();if(b>0){this.showPrevMonth()}else{if(b<0){this.showNextMonth()}}}},handleDateClick:function(b,a){b.stopEvent();if(!this.disabled&&a.dateValue&&!Ext.fly(a.parentNode).hasClass("x-date-disabled")){this.cancelFocus=this.focusOnSelect===false;this.setValue(new Date(a.dateValue));delete this.cancelFocus;this.fireEvent("select",this,this.value)}},selectToday:function(){if(this.todayBtn&&!this.todayBtn.disabled){this.setValue(new Date().clearTime());this.fireEvent("select",this,this.value)}},update:function(G,A){if(this.rendered){var a=this.activeDate,p=this.isVisible();this.activeDate=G;if(!A&&a&&this.el){var o=G.getTime();if(a.getMonth()==G.getMonth()&&a.getFullYear()==G.getFullYear()){this.cells.removeClass("x-date-selected");this.cells.each(function(d){if(d.dom.firstChild.dateValue==o){d.addClass("x-date-selected");if(p&&!this.cancelFocus){Ext.fly(d.dom.firstChild).focus(50)}return false}},this);return}}var k=G.getDaysInMonth(),q=G.getFirstDateOfMonth(),g=q.getDay()-this.startDay;if(g<0){g+=7}k+=g;var B=G.add("mo",-1),h=B.getDaysInMonth()-g,e=this.cells.elements,r=this.textNodes,D=(new Date(B.getFullYear(),B.getMonth(),h,this.initHour)),C=new Date().clearTime().getTime(),v=G.clearTime(true).getTime(),u=this.minDate?this.minDate.clearTime(true):Number.NEGATIVE_INFINITY,y=this.maxDate?this.maxDate.clearTime(true):Number.POSITIVE_INFINITY,F=this.disabledDatesRE,s=this.disabledDatesText,I=this.disabledDays?this.disabledDays.join(""):false,E=this.disabledDaysText,z=this.format;if(this.showToday){var m=new Date().clearTime(),c=(m<u||m>y||(F&&z&&F.test(m.dateFormat(z)))||(I&&I.indexOf(m.getDay())!=-1));if(!this.disabled){this.todayBtn.setDisabled(c);this.todayKeyListener[c?"disable":"enable"]()}}var l=function(J,d){d.title="";var i=D.clearTime(true).getTime();d.firstChild.dateValue=i;if(i==C){d.className+=" x-date-today";d.title=J.todayText}if(i==v){d.className+=" x-date-selected";if(p){Ext.fly(d.firstChild).focus(50)}}if(i<u){d.className=" x-date-disabled";d.title=J.minText;return}if(i>y){d.className=" x-date-disabled";d.title=J.maxText;return}if(I){if(I.indexOf(D.getDay())!=-1){d.title=E;d.className=" x-date-disabled"}}if(F&&z){var w=D.dateFormat(z);if(F.test(w)){d.title=s.replace("%0",w);d.className=" x-date-disabled"}}};var x=0;for(;x<g;x++){r[x].innerHTML=(++h);D.setDate(D.getDate()+1);e[x].className="x-date-prevday";l(this,e[x])}for(;x<k;x++){var b=x-g+1;r[x].innerHTML=(b);D.setDate(D.getDate()+1);e[x].className="x-date-active";l(this,e[x])}var H=0;for(;x<42;x++){r[x].innerHTML=(++H);D.setDate(D.getDate()+1);e[x].className="x-date-nextday";l(this,e[x])}this.mbtn.setText(this.monthNames[G.getMonth()]+" "+G.getFullYear());if(!this.internalRender){var j=this.el.dom.firstChild,n=j.offsetWidth;this.el.setWidth(n+this.el.getBorderWidth("lr"));Ext.fly(j).setWidth(n);this.internalRender=true;if(Ext.isOpera&&!this.secondPass){j.rows[0].cells[1].style.width=(n-(j.rows[0].cells[0].offsetWidth+j.rows[0].cells[2].offsetWidth))+"px";this.secondPass=true;this.update.defer(10,this,[G])}}}},beforeDestroy:function(){if(this.rendered){Ext.destroy(this.keyNav,this.monthPicker,this.eventEl,this.mbtn,this.nextRepeater,this.prevRepeater,this.cells.el,this.todayBtn);delete this.textNodes;delete this.cells.elements}}});Ext.reg("datepicker",Ext.DatePicker);Ext.LoadMask=function(c,b){this.el=Ext.get(c);Ext.apply(this,b);if(this.store){this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.onLoad});this.removeMask=Ext.value(this.removeMask,false)}else{var a=this.el.getUpdater();a.showLoadIndicator=false;a.on({scope:this,beforeupdate:this.onBeforeLoad,update:this.onLoad,failure:this.onLoad});this.removeMask=Ext.value(this.removeMask,true)}};Ext.LoadMask.prototype={msg:"Loading...",msgCls:"x-mask-loading",disabled:false,disable:function(){this.disabled=true},enable:function(){this.disabled=false},onLoad:function(){this.el.unmask(this.removeMask)},onBeforeLoad:function(){if(!this.disabled){this.el.mask(this.msg,this.msgCls)}},show:function(){this.onBeforeLoad()},hide:function(){this.onLoad()},destroy:function(){if(this.store){this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.onLoad,this)}else{var a=this.el.getUpdater();a.un("beforeupdate",this.onBeforeLoad,this);a.un("update",this.onLoad,this);a.un("failure",this.onLoad,this)}}};Ext.slider.Thumb=Ext.extend(Object,{dragging:false,constructor:function(a){Ext.apply(this,a||{},{cls:"x-slider-thumb",constrain:false});Ext.slider.Thumb.superclass.constructor.call(this,a);if(this.slider.vertical){Ext.apply(this,Ext.slider.Thumb.Vertical)}},render:function(){this.el=this.slider.innerEl.insertFirst({cls:this.cls});this.initEvents()},enable:function(){this.disabled=false;this.el.removeClass(this.slider.disabledClass)},disable:function(){this.disabled=true;this.el.addClass(this.slider.disabledClass)},initEvents:function(){var a=this.el;a.addClassOnOver("x-slider-thumb-over");this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeDragStart.createDelegate(this),onStart:this.onDragStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onDragEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(a)},onBeforeDragStart:function(a){if(this.disabled){return false}else{this.slider.promoteThumb(this);return true}},onDragStart:function(a){this.el.addClass("x-slider-thumb-drag");this.dragging=true;this.dragStartValue=this.value;this.slider.fireEvent("dragstart",this.slider,a,this)},onDrag:function(g){var c=this.slider,b=this.index,d=this.getNewValue();if(this.constrain){var a=c.thumbs[b+1],h=c.thumbs[b-1];if(h!=undefined&&d<=h.value){d=h.value}if(a!=undefined&&d>=a.value){d=a.value}}c.setValue(b,d,false);c.fireEvent("drag",c,g,this)},getNewValue:function(){var a=this.slider,b=a.innerEl.translatePoints(this.tracker.getXY());return Ext.util.Format.round(a.reverseValue(b.left),a.decimalPrecision)},onDragEnd:function(c){var a=this.slider,b=this.value;this.el.removeClass("x-slider-thumb-drag");this.dragging=false;a.fireEvent("dragend",a,c);if(this.dragStartValue!=b){a.fireEvent("changecomplete",a,b,this)}},destroy:function(){Ext.destroyMembers(this,"tracker","el")}});Ext.slider.MultiSlider=Ext.extend(Ext.BoxComponent,{vertical:false,minValue:0,maxValue:100,decimalPrecision:0,keyIncrement:1,increment:0,clickRange:[5,15],clickToChange:true,animate:true,constrainThumbs:true,topThumbZIndex:10000,initComponent:function(){if(!Ext.isDefined(this.value)){this.value=this.minValue}this.thumbs=[];Ext.slider.MultiSlider.superclass.initComponent.call(this);this.keyIncrement=Math.max(this.increment,this.keyIncrement);this.addEvents("beforechange","change","changecomplete","dragstart","drag","dragend");if(this.values==undefined||Ext.isEmpty(this.values)){this.values=[0]}var a=this.values;for(var b=0;b<a.length;b++){this.addThumb(a[b])}if(this.vertical){Ext.apply(this,Ext.slider.Vertical)}},addThumb:function(b){var a=new Ext.slider.Thumb({value:b,slider:this,index:this.thumbs.length,constrain:this.constrainThumbs});this.thumbs.push(a);if(this.rendered){a.render()}},promoteThumb:function(d){var a=this.thumbs,g,b;for(var e=0,c=a.length;e<c;e++){b=a[e];if(b==d){g=this.topThumbZIndex}else{g=""}b.el.setStyle("zIndex",g)}},onRender:function(){this.autoEl={cls:"x-slider "+(this.vertical?"x-slider-vert":"x-slider-horz"),cn:{cls:"x-slider-end",cn:{cls:"x-slider-inner",cn:[{tag:"a",cls:"x-slider-focus",href:"#",tabIndex:"-1",hidefocus:"on"}]}}};Ext.slider.MultiSlider.superclass.onRender.apply(this,arguments);this.endEl=this.el.first();this.innerEl=this.endEl.first();this.focusEl=this.innerEl.child(".x-slider-focus");for(var b=0;b<this.thumbs.length;b++){this.thumbs[b].render()}var a=this.innerEl.child(".x-slider-thumb");this.halfThumb=(this.vertical?a.getHeight():a.getWidth())/2;this.initEvents()},initEvents:function(){this.mon(this.el,{scope:this,mousedown:this.onMouseDown,keydown:this.onKeyDown});this.focusEl.swallowEvent("click",true)},onMouseDown:function(d){if(this.disabled){return}var c=false;for(var b=0;b<this.thumbs.length;b++){c=c||d.target==this.thumbs[b].el.dom}if(this.clickToChange&&!c){var a=this.innerEl.translatePoints(d.getXY());this.onClickChange(a)}this.focus()},onClickChange:function(c){if(c.top>this.clickRange[0]&&c.top<this.clickRange[1]){var a=this.getNearest(c,"left"),b=a.index;this.setValue(b,Ext.util.Format.round(this.reverseValue(c.left),this.decimalPrecision),undefined,true)}},getNearest:function(k,b){var m=b=="top"?this.innerEl.getHeight()-k[b]:k[b],g=this.reverseValue(m),j=(this.maxValue-this.minValue)+5,e=0,c=null;for(var d=0;d<this.thumbs.length;d++){var a=this.thumbs[d],l=a.value,h=Math.abs(l-g);if(Math.abs(h<=j)){c=a;e=d;j=h}}return c},onKeyDown:function(b){if(this.disabled||this.thumbs.length!==1){b.preventDefault();return}var a=b.getKey(),c;switch(a){case b.UP:case b.RIGHT:b.stopEvent();c=b.ctrlKey?this.maxValue:this.getValue(0)+this.keyIncrement;this.setValue(0,c,undefined,true);break;case b.DOWN:case b.LEFT:b.stopEvent();c=b.ctrlKey?this.minValue:this.getValue(0)-this.keyIncrement;this.setValue(0,c,undefined,true);break;default:b.preventDefault()}},doSnap:function(b){if(!(this.increment&&b)){return b}var d=b,c=this.increment,a=b%c;if(a!=0){d-=a;if(a*2>=c){d+=c}else{if(a*2<-c){d-=c}}}return d.constrain(this.minValue,this.maxValue)},afterRender:function(){Ext.slider.MultiSlider.superclass.afterRender.apply(this,arguments);for(var c=0;c<this.thumbs.length;c++){var b=this.thumbs[c];if(b.value!==undefined){var a=this.normalizeValue(b.value);if(a!==b.value){this.setValue(c,a,false)}else{this.moveThumb(c,this.translateValue(a),false)}}}},getRatio:function(){var a=this.innerEl.getWidth(),b=this.maxValue-this.minValue;return b==0?a:(a/b)},normalizeValue:function(a){a=this.doSnap(a);a=Ext.util.Format.round(a,this.decimalPrecision);a=a.constrain(this.minValue,this.maxValue);return a},setMinValue:function(e){this.minValue=e;var d=0,b=this.thumbs,a=b.length,c;for(;d<a;++d){c=b[d];c.value=c.value<e?e:c.value}this.syncThumb()},setMaxValue:function(e){this.maxValue=e;var d=0,b=this.thumbs,a=b.length,c;for(;d<a;++d){c=b[d];c.value=c.value>e?e:c.value}this.syncThumb()},setValue:function(d,c,b,g){var a=this.thumbs[d],e=a.el;c=this.normalizeValue(c);if(c!==a.value&&this.fireEvent("beforechange",this,c,a.value,a)!==false){a.value=c;if(this.rendered){this.moveThumb(d,this.translateValue(c),b!==false);this.fireEvent("change",this,c,a);if(g){this.fireEvent("changecomplete",this,c,a)}}}},translateValue:function(a){var b=this.getRatio();return(a*b)-(this.minValue*b)-this.halfThumb},reverseValue:function(b){var a=this.getRatio();return(b+(this.minValue*a))/a},moveThumb:function(d,c,b){var a=this.thumbs[d].el;if(!b||this.animate===false){a.setLeft(c)}else{a.shift({left:c,stopFx:true,duration:0.35})}},focus:function(){this.focusEl.focus(10)},onResize:function(c,e){var b=this.thumbs,a=b.length,d=0;for(;d<a;++d){b[d].el.stopFx()}if(Ext.isNumber(c)){this.innerEl.setWidth(c-(this.el.getPadding("l")+this.endEl.getPadding("r")))}this.syncThumb();Ext.slider.MultiSlider.superclass.onResize.apply(this,arguments)},onDisable:function(){Ext.slider.MultiSlider.superclass.onDisable.call(this);for(var b=0;b<this.thumbs.length;b++){var a=this.thumbs[b],c=a.el;a.disable();if(Ext.isIE){var d=c.getXY();c.hide();this.innerEl.addClass(this.disabledClass).dom.disabled=true;if(!this.thumbHolder){this.thumbHolder=this.endEl.createChild({cls:"x-slider-thumb "+this.disabledClass})}this.thumbHolder.show().setXY(d)}}},onEnable:function(){Ext.slider.MultiSlider.superclass.onEnable.call(this);for(var b=0;b<this.thumbs.length;b++){var a=this.thumbs[b],c=a.el;a.enable();if(Ext.isIE){this.innerEl.removeClass(this.disabledClass).dom.disabled=false;if(this.thumbHolder){this.thumbHolder.hide()}c.show();this.syncThumb()}}},syncThumb:function(){if(this.rendered){for(var a=0;a<this.thumbs.length;a++){this.moveThumb(a,this.translateValue(this.thumbs[a].value))}}},getValue:function(a){return this.thumbs[a].value},getValues:function(){var a=[];for(var b=0;b<this.thumbs.length;b++){a.push(this.thumbs[b].value)}return a},beforeDestroy:function(){var b=this.thumbs;for(var c=0,a=b.length;c<a;++c){b[c].destroy();b[c]=null}Ext.destroyMembers(this,"endEl","innerEl","focusEl","thumbHolder");Ext.slider.MultiSlider.superclass.beforeDestroy.call(this)}});Ext.reg("multislider",Ext.slider.MultiSlider);Ext.slider.SingleSlider=Ext.extend(Ext.slider.MultiSlider,{constructor:function(a){a=a||{};Ext.applyIf(a,{values:[a.value||0]});Ext.slider.SingleSlider.superclass.constructor.call(this,a)},getValue:function(){return Ext.slider.SingleSlider.superclass.getValue.call(this,0)},setValue:function(d,b){var c=Ext.toArray(arguments),a=c.length;if(a==1||(a<=3&&typeof arguments[1]!="number")){c.unshift(0)}return Ext.slider.SingleSlider.superclass.setValue.apply(this,c)},syncThumb:function(){return Ext.slider.SingleSlider.superclass.syncThumb.apply(this,[0].concat(arguments))},getNearest:function(){return this.thumbs[0]}});Ext.Slider=Ext.slider.SingleSlider;Ext.reg("slider",Ext.slider.SingleSlider);Ext.slider.Vertical={onResize:function(a,b){this.innerEl.setHeight(b-(this.el.getPadding("t")+this.endEl.getPadding("b")));this.syncThumb()},getRatio:function(){var b=this.innerEl.getHeight(),a=this.maxValue-this.minValue;return b/a},moveThumb:function(d,c,b){var a=this.thumbs[d],e=a.el;if(!b||this.animate===false){e.setBottom(c)}else{e.shift({bottom:c,stopFx:true,duration:0.35})}},onClickChange:function(c){if(c.left>this.clickRange[0]&&c.left<this.clickRange[1]){var a=this.getNearest(c,"top"),b=a.index,d=this.minValue+this.reverseValue(this.innerEl.getHeight()-c.top);this.setValue(b,Ext.util.Format.round(d,this.decimalPrecision),undefined,true)}}};Ext.slider.Thumb.Vertical={getNewValue:function(){var b=this.slider,c=b.innerEl,d=c.translatePoints(this.tracker.getXY()),a=c.getHeight()-d.top;return b.minValue+Ext.util.Format.round(a/b.getRatio(),b.decimalPrecision)}};Ext.ProgressBar=Ext.extend(Ext.BoxComponent,{baseCls:"x-progress",animate:false,waitTimer:null,initComponent:function(){Ext.ProgressBar.superclass.initComponent.call(this);this.addEvents("update")},onRender:function(d,a){var c=new Ext.Template('<div class="{cls}-wrap">','<div class="{cls}-inner">','<div class="{cls}-bar">','<div class="{cls}-text">',"<div>&#160;</div>","</div>","</div>",'<div class="{cls}-text {cls}-text-back">',"<div>&#160;</div>","</div>","</div>","</div>");this.el=a?c.insertBefore(a,{cls:this.baseCls},true):c.append(d,{cls:this.baseCls},true);if(this.id){this.el.dom.id=this.id}var b=this.el.dom.firstChild;this.progressBar=Ext.get(b.firstChild);if(this.textEl){this.textEl=Ext.get(this.textEl);delete this.textTopEl}else{this.textTopEl=Ext.get(this.progressBar.dom.firstChild);var e=Ext.get(b.childNodes[1]);this.textTopEl.setStyle("z-index",99).addClass("x-hidden");this.textEl=new Ext.CompositeElement([this.textTopEl.dom.firstChild,e.dom.firstChild]);this.textEl.setWidth(b.offsetWidth)}this.progressBar.setHeight(b.offsetHeight)},afterRender:function(){Ext.ProgressBar.superclass.afterRender.call(this);if(this.value){this.updateProgress(this.value,this.text)}else{this.updateText(this.text)}},updateProgress:function(c,d,b){this.value=c||0;if(d){this.updateText(d)}if(this.rendered&&!this.isDestroyed){var a=Math.floor(c*this.el.dom.firstChild.offsetWidth);this.progressBar.setWidth(a,b===true||(b!==false&&this.animate));if(this.textTopEl){this.textTopEl.removeClass("x-hidden").setWidth(a)}}this.fireEvent("update",this,c,d);return this},wait:function(b){if(!this.waitTimer){var a=this;b=b||{};this.updateText(b.text);this.waitTimer=Ext.TaskMgr.start({run:function(c){var d=b.increment||10;c-=1;this.updateProgress(((((c+d)%d)+1)*(100/d))*0.01,null,b.animate)},interval:b.interval||1000,duration:b.duration,onStop:function(){if(b.fn){b.fn.apply(b.scope||this)}this.reset()},scope:a})}return this},isWaiting:function(){return this.waitTimer!==null},updateText:function(a){this.text=a||"&#160;";if(this.rendered){this.textEl.update(this.text)}return this},syncProgressBar:function(){if(this.value){this.updateProgress(this.value,this.text)}return this},setSize:function(a,c){Ext.ProgressBar.superclass.setSize.call(this,a,c);if(this.textTopEl){var b=this.el.dom.firstChild;this.textEl.setSize(b.offsetWidth,b.offsetHeight)}this.syncProgressBar();return this},reset:function(a){this.updateProgress(0);if(this.textTopEl){this.textTopEl.addClass("x-hidden")}this.clearTimer();if(a===true){this.hide()}return this},clearTimer:function(){if(this.waitTimer){this.waitTimer.onStop=null;Ext.TaskMgr.stop(this.waitTimer);this.waitTimer=null}},onDestroy:function(){this.clearTimer();if(this.rendered){if(this.textEl.isComposite){this.textEl.clear()}Ext.destroyMembers(this,"textEl","progressBar","textTopEl")}Ext.ProgressBar.superclass.onDestroy.call(this)}});Ext.reg("progress",Ext.ProgressBar);(function(){var a=Ext.EventManager;var b=Ext.lib.Dom;Ext.dd.DragDrop=function(e,c,d){if(e){this.init(e,c,d)}};Ext.dd.DragDrop.prototype={id:null,config:null,dragElId:null,handleElId:null,invalidHandleTypes:null,invalidHandleIds:null,invalidHandleClasses:null,startPageX:0,startPageY:0,groups:null,locked:false,lock:function(){this.locked=true},moveOnly:false,unlock:function(){this.locked=false},isTarget:true,padding:null,_domRef:null,__ygDragDrop:true,constrainX:false,constrainY:false,minX:0,maxX:0,minY:0,maxY:0,maintainOffset:false,xTicks:null,yTicks:null,primaryButtonOnly:true,available:false,hasOuterHandles:false,b4StartDrag:function(c,d){},startDrag:function(c,d){},b4Drag:function(c){},onDrag:function(c){},onDragEnter:function(c,d){},b4DragOver:function(c){},onDragOver:function(c,d){},b4DragOut:function(c){},onDragOut:function(c,d){},b4DragDrop:function(c){},onDragDrop:function(c,d){},onInvalidDrop:function(c){},b4EndDrag:function(c){},endDrag:function(c){},b4MouseDown:function(c){},onMouseDown:function(c){},onMouseUp:function(c){},onAvailable:function(){},defaultPadding:{left:0,right:0,top:0,bottom:0},constrainTo:function(j,h,o){if(Ext.isNumber(h)){h={left:h,right:h,top:h,bottom:h}}h=h||this.defaultPadding;var l=Ext.get(this.getEl()).getBox(),d=Ext.get(j),n=d.getScroll(),k,e=d.dom;if(e==document.body){k={x:n.left,y:n.top,width:Ext.lib.Dom.getViewWidth(),height:Ext.lib.Dom.getViewHeight()}}else{var m=d.getXY();k={x:m[0],y:m[1],width:e.clientWidth,height:e.clientHeight}}var i=l.y-k.y,g=l.x-k.x;this.resetConstraints();this.setXConstraint(g-(h.left||0),k.width-g-l.width-(h.right||0),this.xTickSize);this.setYConstraint(i-(h.top||0),k.height-i-l.height-(h.bottom||0),this.yTickSize)},getEl:function(){if(!this._domRef){this._domRef=Ext.getDom(this.id)}return this._domRef},getDragEl:function(){return Ext.getDom(this.dragElId)},init:function(e,c,d){this.initTarget(e,c,d);a.on(this.id,"mousedown",this.handleMouseDown,this)},initTarget:function(e,c,d){this.config=d||{};this.DDM=Ext.dd.DDM;this.groups={};if(typeof e!=="string"){e=Ext.id(e)}this.id=e;this.addToGroup((c)?c:"default");this.handleElId=e;this.setDragElId(e);this.invalidHandleTypes={A:"A"};this.invalidHandleIds={};this.invalidHandleClasses=[];this.applyConfig();this.handleOnAvailable()},applyConfig:function(){this.padding=this.config.padding||[0,0,0,0];this.isTarget=(this.config.isTarget!==false);this.maintainOffset=(this.config.maintainOffset);this.primaryButtonOnly=(this.config.primaryButtonOnly!==false)},handleOnAvailable:function(){this.available=true;this.resetConstraints();this.onAvailable()},setPadding:function(e,c,g,d){if(!c&&0!==c){this.padding=[e,e,e,e]}else{if(!g&&0!==g){this.padding=[e,c,e,c]}else{this.padding=[e,c,g,d]}}},setInitPosition:function(g,e){var h=this.getEl();if(!this.DDM.verifyEl(h)){return}var d=g||0;var c=e||0;var i=b.getXY(h);this.initPageX=i[0]-d;this.initPageY=i[1]-c;this.lastPageX=i[0];this.lastPageY=i[1];this.setStartPosition(i)},setStartPosition:function(d){var c=d||b.getXY(this.getEl());this.deltaSetXY=null;this.startPageX=c[0];this.startPageY=c[1]},addToGroup:function(c){this.groups[c]=true;this.DDM.regDragDrop(this,c)},removeFromGroup:function(c){if(this.groups[c]){delete this.groups[c]}this.DDM.removeDDFromGroup(this,c)},setDragElId:function(c){this.dragElId=c},setHandleElId:function(c){if(typeof c!=="string"){c=Ext.id(c)}this.handleElId=c;this.DDM.regHandle(this.id,c)},setOuterHandleElId:function(c){if(typeof c!=="string"){c=Ext.id(c)}a.on(c,"mousedown",this.handleMouseDown,this);this.setHandleElId(c);this.hasOuterHandles=true},unreg:function(){a.un(this.id,"mousedown",this.handleMouseDown);this._domRef=null;this.DDM._remove(this)},destroy:function(){this.unreg()},isLocked:function(){return(this.DDM.isLocked()||this.locked)},handleMouseDown:function(g,d){if(this.primaryButtonOnly&&g.button!=0){return}if(this.isLocked()){return}this.DDM.refreshCache(this.groups);var c=new Ext.lib.Point(Ext.lib.Event.getPageX(g),Ext.lib.Event.getPageY(g));if(!this.hasOuterHandles&&!this.DDM.isOverTarget(c,this)){}else{if(this.clickValidator(g)){this.setStartPosition();this.b4MouseDown(g);this.onMouseDown(g);this.DDM.handleMouseDown(g,this);this.DDM.stopEvent(g)}else{}}},clickValidator:function(d){var c=d.getTarget();return(this.isValidHandleChild(c)&&(this.id==this.handleElId||this.DDM.handleWasClicked(c,this.id)))},addInvalidHandleType:function(c){var d=c.toUpperCase();this.invalidHandleTypes[d]=d},addInvalidHandleId:function(c){if(typeof c!=="string"){c=Ext.id(c)}this.invalidHandleIds[c]=c},addInvalidHandleClass:function(c){this.invalidHandleClasses.push(c)},removeInvalidHandleType:function(c){var d=c.toUpperCase();delete this.invalidHandleTypes[d]},removeInvalidHandleId:function(c){if(typeof c!=="string"){c=Ext.id(c)}delete this.invalidHandleIds[c]},removeInvalidHandleClass:function(d){for(var e=0,c=this.invalidHandleClasses.length;e<c;++e){if(this.invalidHandleClasses[e]==d){delete this.invalidHandleClasses[e]}}},isValidHandleChild:function(h){var g=true;var k;try{k=h.nodeName.toUpperCase()}catch(j){k=h.nodeName}g=g&&!this.invalidHandleTypes[k];g=g&&!this.invalidHandleIds[h.id];for(var d=0,c=this.invalidHandleClasses.length;g&&d<c;++d){g=!Ext.fly(h).hasClass(this.invalidHandleClasses[d])}return g},setXTicks:function(g,c){this.xTicks=[];this.xTickSize=c;var e={};for(var d=this.initPageX;d>=this.minX;d=d-c){if(!e[d]){this.xTicks[this.xTicks.length]=d;e[d]=true}}for(d=this.initPageX;d<=this.maxX;d=d+c){if(!e[d]){this.xTicks[this.xTicks.length]=d;e[d]=true}}this.xTicks.sort(this.DDM.numericSort)},setYTicks:function(g,c){this.yTicks=[];this.yTickSize=c;var e={};for(var d=this.initPageY;d>=this.minY;d=d-c){if(!e[d]){this.yTicks[this.yTicks.length]=d;e[d]=true}}for(d=this.initPageY;d<=this.maxY;d=d+c){if(!e[d]){this.yTicks[this.yTicks.length]=d;e[d]=true}}this.yTicks.sort(this.DDM.numericSort)},setXConstraint:function(e,d,c){this.leftConstraint=e;this.rightConstraint=d;this.minX=this.initPageX-e;this.maxX=this.initPageX+d;if(c){this.setXTicks(this.initPageX,c)}this.constrainX=true},clearConstraints:function(){this.constrainX=false;this.constrainY=false;this.clearTicks()},clearTicks:function(){this.xTicks=null;this.yTicks=null;this.xTickSize=0;this.yTickSize=0},setYConstraint:function(c,e,d){this.topConstraint=c;this.bottomConstraint=e;this.minY=this.initPageY-c;this.maxY=this.initPageY+e;if(d){this.setYTicks(this.initPageY,d)}this.constrainY=true},resetConstraints:function(){if(this.initPageX||this.initPageX===0){var d=(this.maintainOffset)?this.lastPageX-this.initPageX:0;var c=(this.maintainOffset)?this.lastPageY-this.initPageY:0;this.setInitPosition(d,c)}else{this.setInitPosition()}if(this.constrainX){this.setXConstraint(this.leftConstraint,this.rightConstraint,this.xTickSize)}if(this.constrainY){this.setYConstraint(this.topConstraint,this.bottomConstraint,this.yTickSize)}},getTick:function(k,g){if(!g){return k}else{if(g[0]>=k){return g[0]}else{for(var d=0,c=g.length;d<c;++d){var e=d+1;if(g[e]&&g[e]>=k){var j=k-g[d];var h=g[e]-k;return(h>j)?g[d]:g[e]}}return g[g.length-1]}}},toString:function(){return("DragDrop "+this.id)}}})();if(!Ext.dd.DragDropMgr){Ext.dd.DragDropMgr=function(){var a=Ext.EventManager;return{ids:{},handleIds:{},dragCurrent:null,dragOvers:{},deltaX:0,deltaY:0,preventDefault:true,stopPropagation:true,initialized:false,locked:false,init:function(){this.initialized=true},POINT:0,INTERSECT:1,mode:0,_execOnAll:function(d,c){for(var e in this.ids){for(var b in this.ids[e]){var g=this.ids[e][b];if(!this.isTypeOfDD(g)){continue}g[d].apply(g,c)}}},_onLoad:function(){this.init();a.on(document,"mouseup",this.handleMouseUp,this,true);a.on(document,"mousemove",this.handleMouseMove,this,true);a.on(window,"unload",this._onUnload,this,true);a.on(window,"resize",this._onResize,this,true)},_onResize:function(b){this._execOnAll("resetConstraints",[])},lock:function(){this.locked=true},unlock:function(){this.locked=false},isLocked:function(){return this.locked},locationCache:{},useCache:true,clickPixelThresh:3,clickTimeThresh:350,dragThreshMet:false,clickTimeout:null,startX:0,startY:0,regDragDrop:function(c,b){if(!this.initialized){this.init()}if(!this.ids[b]){this.ids[b]={}}this.ids[b][c.id]=c},removeDDFromGroup:function(d,b){if(!this.ids[b]){this.ids[b]={}}var c=this.ids[b];if(c&&c[d.id]){delete c[d.id]}},_remove:function(c){for(var b in c.groups){if(b&&this.ids[b]&&this.ids[b][c.id]){delete this.ids[b][c.id]}}delete this.handleIds[c.id]},regHandle:function(c,b){if(!this.handleIds[c]){this.handleIds[c]={}}this.handleIds[c][b]=b},isDragDrop:function(b){return(this.getDDById(b))?true:false},getRelated:function(h,c){var g=[];for(var e in h.groups){for(var d in this.ids[e]){var b=this.ids[e][d];if(!this.isTypeOfDD(b)){continue}if(!c||b.isTarget){g[g.length]=b}}}return g},isLegalTarget:function(g,e){var c=this.getRelated(g,true);for(var d=0,b=c.length;d<b;++d){if(c[d].id==e.id){return true}}return false},isTypeOfDD:function(b){return(b&&b.__ygDragDrop)},isHandle:function(c,b){return(this.handleIds[c]&&this.handleIds[c][b])},getDDById:function(c){for(var b in this.ids){if(this.ids[b][c]){return this.ids[b][c]}}return null},handleMouseDown:function(d,c){if(Ext.QuickTips){Ext.QuickTips.ddDisable()}if(this.dragCurrent){this.handleMouseUp(d)}this.currentTarget=d.getTarget();this.dragCurrent=c;var b=c.getEl();this.startX=d.getPageX();this.startY=d.getPageY();this.deltaX=this.startX-b.offsetLeft;this.deltaY=this.startY-b.offsetTop;this.dragThreshMet=false;this.clickTimeout=setTimeout(function(){var e=Ext.dd.DDM;e.startDrag(e.startX,e.startY)},this.clickTimeThresh)},startDrag:function(b,c){clearTimeout(this.clickTimeout);if(this.dragCurrent){this.dragCurrent.b4StartDrag(b,c);this.dragCurrent.startDrag(b,c)}this.dragThreshMet=true},handleMouseUp:function(b){if(Ext.QuickTips){Ext.QuickTips.ddEnable()}if(!this.dragCurrent){return}clearTimeout(this.clickTimeout);if(this.dragThreshMet){this.fireEvents(b,true)}else{}this.stopDrag(b);this.stopEvent(b)},stopEvent:function(b){if(this.stopPropagation){b.stopPropagation()}if(this.preventDefault){b.preventDefault()}},stopDrag:function(b){if(this.dragCurrent){if(this.dragThreshMet){this.dragCurrent.b4EndDrag(b);this.dragCurrent.endDrag(b)}this.dragCurrent.onMouseUp(b)}this.dragCurrent=null;this.dragOvers={}},handleMouseMove:function(d){if(!this.dragCurrent){return true}if(Ext.isIE&&(d.button!==0&&d.button!==1&&d.button!==2)){this.stopEvent(d);return this.handleMouseUp(d)}if(!this.dragThreshMet){var c=Math.abs(this.startX-d.getPageX());var b=Math.abs(this.startY-d.getPageY());if(c>this.clickPixelThresh||b>this.clickPixelThresh){this.startDrag(this.startX,this.startY)}}if(this.dragThreshMet){this.dragCurrent.b4Drag(d);this.dragCurrent.onDrag(d);if(!this.dragCurrent.moveOnly){this.fireEvents(d,false)}}this.stopEvent(d);return true},fireEvents:function(n,o){var q=this.dragCurrent;if(!q||q.isLocked()){return}var r=n.getPoint();var b=[];var g=[];var l=[];var j=[];var d=[];for(var h in this.dragOvers){var c=this.dragOvers[h];if(!this.isTypeOfDD(c)){continue}if(!this.isOverTarget(r,c,this.mode)){g.push(c)}b[h]=true;delete this.dragOvers[h]}for(var p in q.groups){if("string"!=typeof p){continue}for(h in this.ids[p]){var k=this.ids[p][h];if(!this.isTypeOfDD(k)){continue}if(k.isTarget&&!k.isLocked()&&((k!=q)||(q.ignoreSelf===false))){if(this.isOverTarget(r,k,this.mode)){if(o){j.push(k)}else{if(!b[k.id]){d.push(k)}else{l.push(k)}this.dragOvers[k.id]=k}}}}}if(this.mode){if(g.length){q.b4DragOut(n,g);q.onDragOut(n,g)}if(d.length){q.onDragEnter(n,d)}if(l.length){q.b4DragOver(n,l);q.onDragOver(n,l)}if(j.length){q.b4DragDrop(n,j);q.onDragDrop(n,j)}}else{var m=0;for(h=0,m=g.length;h<m;++h){q.b4DragOut(n,g[h].id);q.onDragOut(n,g[h].id)}for(h=0,m=d.length;h<m;++h){q.onDragEnter(n,d[h].id)}for(h=0,m=l.length;h<m;++h){q.b4DragOver(n,l[h].id);q.onDragOver(n,l[h].id)}for(h=0,m=j.length;h<m;++h){q.b4DragDrop(n,j[h].id);q.onDragDrop(n,j[h].id)}}if(o&&!j.length){q.onInvalidDrop(n)}},getBestMatch:function(d){var g=null;var c=d.length;if(c==1){g=d[0]}else{for(var e=0;e<c;++e){var b=d[e];if(b.cursorIsOver){g=b;break}else{if(!g||g.overlap.getArea()<b.overlap.getArea()){g=b}}}}return g},refreshCache:function(c){for(var b in c){if("string"!=typeof b){continue}for(var d in this.ids[b]){var e=this.ids[b][d];if(this.isTypeOfDD(e)){var g=this.getLocation(e);if(g){this.locationCache[e.id]=g}else{delete this.locationCache[e.id]}}}}},verifyEl:function(c){if(c){var b;if(Ext.isIE){try{b=c.offsetParent}catch(d){}}else{b=c.offsetParent}if(b){return true}}return false},getLocation:function(j){if(!this.isTypeOfDD(j)){return null}var h=j.getEl(),o,g,d,q,p,s,c,n,i,m;try{o=Ext.lib.Dom.getXY(h)}catch(k){}if(!o){return null}g=o[0];d=g+h.offsetWidth;q=o[1];p=q+h.offsetHeight;s=q-j.padding[0];c=d+j.padding[1];n=p+j.padding[2];i=g-j.padding[3];m=new Ext.lib.Region(s,c,n,i);h=Ext.get(h.parentNode);while(h&&m){if(h.isScrollable()){m=m.intersect(h.getRegion())}h=h.parent()}return m},isOverTarget:function(k,b,d){var g=this.locationCache[b.id];if(!g||!this.useCache){g=this.getLocation(b);this.locationCache[b.id]=g}if(!g){return false}b.cursorIsOver=g.contains(k);var j=this.dragCurrent;if(!j||!j.getTargetCoord||(!d&&!j.constrainX&&!j.constrainY)){return b.cursorIsOver}b.overlap=null;var h=j.getTargetCoord(k.x,k.y);var c=j.getDragEl();var e=new Ext.lib.Region(h.y,h.x+c.offsetWidth,h.y+c.offsetHeight,h.x);var i=e.intersect(g);if(i){b.overlap=i;return(d)?true:b.cursorIsOver}else{return false}},_onUnload:function(c,b){a.removeListener(document,"mouseup",this.handleMouseUp,this);a.removeListener(document,"mousemove",this.handleMouseMove,this);a.removeListener(window,"resize",this._onResize,this);Ext.dd.DragDropMgr.unregAll()},unregAll:function(){if(this.dragCurrent){this.stopDrag();this.dragCurrent=null}this._execOnAll("unreg",[]);for(var b in this.elementCache){delete this.elementCache[b]}this.elementCache={};this.ids={}},elementCache:{},getElWrapper:function(c){var b=this.elementCache[c];if(!b||!b.el){b=this.elementCache[c]=new this.ElementWrapper(Ext.getDom(c))}return b},getElement:function(b){return Ext.getDom(b)},getCss:function(c){var b=Ext.getDom(c);return(b)?b.style:null},ElementWrapper:function(b){this.el=b||null;this.id=this.el&&b.id;this.css=this.el&&b.style},getPosX:function(b){return Ext.lib.Dom.getX(b)},getPosY:function(b){return Ext.lib.Dom.getY(b)},swapNode:function(d,b){if(d.swapNode){d.swapNode(b)}else{var e=b.parentNode;var c=b.nextSibling;if(c==d){e.insertBefore(d,b)}else{if(b==d.nextSibling){e.insertBefore(b,d)}else{d.parentNode.replaceChild(b,d);e.insertBefore(d,c)}}}},getScroll:function(){var d,b,e=document.documentElement,c=document.body;if(e&&(e.scrollTop||e.scrollLeft)){d=e.scrollTop;b=e.scrollLeft}else{if(c){d=c.scrollTop;b=c.scrollLeft}else{}}return{top:d,left:b}},getStyle:function(c,b){return Ext.fly(c).getStyle(b)},getScrollTop:function(){return this.getScroll().top},getScrollLeft:function(){return this.getScroll().left},moveToEl:function(b,d){var c=Ext.lib.Dom.getXY(d);Ext.lib.Dom.setXY(b,c)},numericSort:function(d,c){return(d-c)},_timeoutCount:0,_addListeners:function(){var b=Ext.dd.DDM;if(Ext.lib.Event&&document){b._onLoad()}else{if(b._timeoutCount>2000){}else{setTimeout(b._addListeners,10);if(document&&document.body){b._timeoutCount+=1}}}},handleWasClicked:function(b,d){if(this.isHandle(d,b.id)){return true}else{var c=b.parentNode;while(c){if(this.isHandle(d,c.id)){return true}else{c=c.parentNode}}}return false}}}();Ext.dd.DDM=Ext.dd.DragDropMgr;Ext.dd.DDM._addListeners()}Ext.dd.DD=function(c,a,b){if(c){this.init(c,a,b)}};Ext.extend(Ext.dd.DD,Ext.dd.DragDrop,{scroll:true,autoOffset:function(c,b){var a=c-this.startPageX;var d=b-this.startPageY;this.setDelta(a,d)},setDelta:function(b,a){this.deltaX=b;this.deltaY=a},setDragElPos:function(c,b){var a=this.getDragEl();this.alignElWithMouse(a,c,b)},alignElWithMouse:function(c,h,g){var e=this.getTargetCoord(h,g);var b=c.dom?c:Ext.fly(c,"_dd");if(!this.deltaSetXY){var i=[e.x,e.y];b.setXY(i);var d=b.getLeft(true);var a=b.getTop(true);this.deltaSetXY=[d-e.x,a-e.y]}else{b.setLeftTop(e.x+this.deltaSetXY[0],e.y+this.deltaSetXY[1])}this.cachePosition(e.x,e.y);this.autoScroll(e.x,e.y,c.offsetHeight,c.offsetWidth);return e},cachePosition:function(b,a){if(b){this.lastPageX=b;this.lastPageY=a}else{var c=Ext.lib.Dom.getXY(this.getEl());this.lastPageX=c[0];this.lastPageY=c[1]}},autoScroll:function(l,k,e,m){if(this.scroll){var n=Ext.lib.Dom.getViewHeight();var b=Ext.lib.Dom.getViewWidth();var p=this.DDM.getScrollTop();var d=this.DDM.getScrollLeft();var j=e+k;var o=m+l;var i=(n+p-k-this.deltaY);var g=(b+d-l-this.deltaX);var c=40;var a=(document.all)?80:30;if(j>n&&i<c){window.scrollTo(d,p+a)}if(k<p&&p>0&&k-p<c){window.scrollTo(d,p-a)}if(o>b&&g<c){window.scrollTo(d+a,p)}if(l<d&&d>0&&l-d<c){window.scrollTo(d-a,p)}}},getTargetCoord:function(c,b){var a=c-this.deltaX;var d=b-this.deltaY;if(this.constrainX){if(a<this.minX){a=this.minX}if(a>this.maxX){a=this.maxX}}if(this.constrainY){if(d<this.minY){d=this.minY}if(d>this.maxY){d=this.maxY}}a=this.getTick(a,this.xTicks);d=this.getTick(d,this.yTicks);return{x:a,y:d}},applyConfig:function(){Ext.dd.DD.superclass.applyConfig.call(this);this.scroll=(this.config.scroll!==false)},b4MouseDown:function(a){this.autoOffset(a.getPageX(),a.getPageY())},b4Drag:function(a){this.setDragElPos(a.getPageX(),a.getPageY())},toString:function(){return("DD "+this.id)}});Ext.dd.DDProxy=function(c,a,b){if(c){this.init(c,a,b);this.initFrame()}};Ext.dd.DDProxy.dragElId="ygddfdiv";Ext.extend(Ext.dd.DDProxy,Ext.dd.DD,{resizeFrame:true,centerFrame:false,createFrame:function(){var b=this;var a=document.body;if(!a||!a.firstChild){setTimeout(function(){b.createFrame()},50);return}var d=this.getDragEl();if(!d){d=document.createElement("div");d.id=this.dragElId;var c=d.style;c.position="absolute";c.visibility="hidden";c.cursor="move";c.border="2px solid #aaa";c.zIndex=999;a.insertBefore(d,a.firstChild)}},initFrame:function(){this.createFrame()},applyConfig:function(){Ext.dd.DDProxy.superclass.applyConfig.call(this);this.resizeFrame=(this.config.resizeFrame!==false);this.centerFrame=(this.config.centerFrame);this.setDragElId(this.config.dragElId||Ext.dd.DDProxy.dragElId)},showFrame:function(e,d){var c=this.getEl();var a=this.getDragEl();var b=a.style;this._resizeProxy();if(this.centerFrame){this.setDelta(Math.round(parseInt(b.width,10)/2),Math.round(parseInt(b.height,10)/2))}this.setDragElPos(e,d);Ext.fly(a).show()},_resizeProxy:function(){if(this.resizeFrame){var a=this.getEl();Ext.fly(this.getDragEl()).setSize(a.offsetWidth,a.offsetHeight)}},b4MouseDown:function(b){var a=b.getPageX();var c=b.getPageY();this.autoOffset(a,c);this.setDragElPos(a,c)},b4StartDrag:function(a,b){this.showFrame(a,b)},b4EndDrag:function(a){Ext.fly(this.getDragEl()).hide()},endDrag:function(c){var b=this.getEl();var a=this.getDragEl();a.style.visibility="";this.beforeMove();b.style.visibility="hidden";Ext.dd.DDM.moveToEl(b,a);a.style.visibility="hidden";b.style.visibility="";this.afterDrag()},beforeMove:function(){},afterDrag:function(){},toString:function(){return("DDProxy "+this.id)}});Ext.dd.DDTarget=function(c,a,b){if(c){this.initTarget(c,a,b)}};Ext.extend(Ext.dd.DDTarget,Ext.dd.DragDrop,{getDragEl:Ext.emptyFn,isValidHandleChild:Ext.emptyFn,startDrag:Ext.emptyFn,endDrag:Ext.emptyFn,onDrag:Ext.emptyFn,onDragDrop:Ext.emptyFn,onDragEnter:Ext.emptyFn,onDragOut:Ext.emptyFn,onDragOver:Ext.emptyFn,onInvalidDrop:Ext.emptyFn,onMouseDown:Ext.emptyFn,onMouseUp:Ext.emptyFn,setXConstraint:Ext.emptyFn,setYConstraint:Ext.emptyFn,resetConstraints:Ext.emptyFn,clearConstraints:Ext.emptyFn,clearTicks:Ext.emptyFn,setInitPosition:Ext.emptyFn,setDragElId:Ext.emptyFn,setHandleElId:Ext.emptyFn,setOuterHandleElId:Ext.emptyFn,addInvalidHandleClass:Ext.emptyFn,addInvalidHandleId:Ext.emptyFn,addInvalidHandleType:Ext.emptyFn,removeInvalidHandleClass:Ext.emptyFn,removeInvalidHandleId:Ext.emptyFn,removeInvalidHandleType:Ext.emptyFn,toString:function(){return("DDTarget "+this.id)}});Ext.dd.DragTracker=Ext.extend(Ext.util.Observable,{active:false,tolerance:5,autoStart:false,constructor:function(a){Ext.apply(this,a);this.addEvents("mousedown","mouseup","mousemove","dragstart","dragend","drag");this.dragRegion=new Ext.lib.Region(0,0,0,0);if(this.el){this.initEl(this.el)}Ext.dd.DragTracker.superclass.constructor.call(this,a)},initEl:function(a){this.el=Ext.get(a);a.on("mousedown",this.onMouseDown,this,this.delegate?{delegate:this.delegate}:undefined)},destroy:function(){this.el.un("mousedown",this.onMouseDown,this);delete this.el},onMouseDown:function(b,a){if(this.fireEvent("mousedown",this,b)!==false&&this.onBeforeStart(b)!==false){this.startXY=this.lastXY=b.getXY();this.dragTarget=this.delegate?a:this.el.dom;if(this.preventDefault!==false){b.preventDefault()}Ext.getDoc().on({scope:this,mouseup:this.onMouseUp,mousemove:this.onMouseMove,selectstart:this.stopSelect});if(this.autoStart){this.timer=this.triggerStart.defer(this.autoStart===true?1000:this.autoStart,this,[b])}}},onMouseMove:function(d,c){if(this.active&&Ext.isIE&&!d.browserEvent.button){d.preventDefault();this.onMouseUp(d);return}d.preventDefault();var b=d.getXY(),a=this.startXY;this.lastXY=b;if(!this.active){if(Math.abs(a[0]-b[0])>this.tolerance||Math.abs(a[1]-b[1])>this.tolerance){this.triggerStart(d)}else{return}}this.fireEvent("mousemove",this,d);this.onDrag(d);this.fireEvent("drag",this,d)},onMouseUp:function(c){var b=Ext.getDoc(),a=this.active;b.un("mousemove",this.onMouseMove,this);b.un("mouseup",this.onMouseUp,this);b.un("selectstart",this.stopSelect,this);c.preventDefault();this.clearStart();this.active=false;delete this.elRegion;this.fireEvent("mouseup",this,c);if(a){this.onEnd(c);this.fireEvent("dragend",this,c)}},triggerStart:function(a){this.clearStart();this.active=true;this.onStart(a);this.fireEvent("dragstart",this,a)},clearStart:function(){if(this.timer){clearTimeout(this.timer);delete this.timer}},stopSelect:function(a){a.stopEvent();return false},onBeforeStart:function(a){},onStart:function(a){},onDrag:function(a){},onEnd:function(a){},getDragTarget:function(){return this.dragTarget},getDragCt:function(){return this.el},getXY:function(a){return a?this.constrainModes[a].call(this,this.lastXY):this.lastXY},getOffset:function(c){var b=this.getXY(c),a=this.startXY;return[a[0]-b[0],a[1]-b[1]]},constrainModes:{point:function(b){if(!this.elRegion){this.elRegion=this.getDragCt().getRegion()}var a=this.dragRegion;a.left=b[0];a.top=b[1];a.right=b[0];a.bottom=b[1];a.constrainTo(this.elRegion);return[a.left,a.top]}}});Ext.dd.ScrollManager=function(){var c=Ext.dd.DragDropMgr;var e={};var b=null;var i={};var h=function(l){b=null;a()};var j=function(){if(c.dragCurrent){c.refreshCache(c.dragCurrent.groups)}};var d=function(){if(c.dragCurrent){var l=Ext.dd.ScrollManager;var m=i.el.ddScrollConfig?i.el.ddScrollConfig.increment:l.increment;if(!l.animate){if(i.el.scroll(i.dir,m)){j()}}else{i.el.scroll(i.dir,m,true,l.animDuration,j)}}};var a=function(){if(i.id){clearInterval(i.id)}i.id=0;i.el=null;i.dir=""};var g=function(m,l){a();i.el=m;i.dir=l;var o=m.ddScrollConfig?m.ddScrollConfig.ddGroup:undefined,n=(m.ddScrollConfig&&m.ddScrollConfig.frequency)?m.ddScrollConfig.frequency:Ext.dd.ScrollManager.frequency;if(o===undefined||c.dragCurrent.ddGroup==o){i.id=setInterval(d,n)}};var k=function(o,q){if(q||!c.dragCurrent){return}var s=Ext.dd.ScrollManager;if(!b||b!=c.dragCurrent){b=c.dragCurrent;s.refreshCache()}var t=Ext.lib.Event.getXY(o);var u=new Ext.lib.Point(t[0],t[1]);for(var m in e){var n=e[m],l=n._region;var p=n.ddScrollConfig?n.ddScrollConfig:s;if(l&&l.contains(u)&&n.isScrollable()){if(l.bottom-u.y<=p.vthresh){if(i.el!=n){g(n,"down")}return}else{if(l.right-u.x<=p.hthresh){if(i.el!=n){g(n,"left")}return}else{if(u.y-l.top<=p.vthresh){if(i.el!=n){g(n,"up")}return}else{if(u.x-l.left<=p.hthresh){if(i.el!=n){g(n,"right")}return}}}}}}a()};c.fireEvents=c.fireEvents.createSequence(k,c);c.stopDrag=c.stopDrag.createSequence(h,c);return{register:function(n){if(Ext.isArray(n)){for(var m=0,l=n.length;m<l;m++){this.register(n[m])}}else{n=Ext.get(n);e[n.id]=n}},unregister:function(n){if(Ext.isArray(n)){for(var m=0,l=n.length;m<l;m++){this.unregister(n[m])}}else{n=Ext.get(n);delete e[n.id]}},vthresh:25,hthresh:25,increment:100,frequency:500,animate:true,animDuration:0.4,ddGroup:undefined,refreshCache:function(){for(var l in e){if(typeof e[l]=="object"){e[l]._region=e[l].getRegion()}}}}}();Ext.dd.Registry=function(){var d={};var b={};var a=0;var c=function(g,e){if(typeof g=="string"){return g}var h=g.id;if(!h&&e!==false){h="extdd-"+(++a);g.id=h}return h};return{register:function(j,k){k=k||{};if(typeof j=="string"){j=document.getElementById(j)}k.ddel=j;d[c(j)]=k;if(k.isHandle!==false){b[k.ddel.id]=k}if(k.handles){var h=k.handles;for(var g=0,e=h.length;g<e;g++){b[c(h[g])]=k}}},unregister:function(j){var l=c(j,false);var k=d[l];if(k){delete d[l];if(k.handles){var h=k.handles;for(var g=0,e=h.length;g<e;g++){delete b[c(h[g],false)]}}}},getHandle:function(e){if(typeof e!="string"){e=e.id}return b[e]},getHandleFromEvent:function(h){var g=Ext.lib.Event.getTarget(h);return g?b[g.id]:null},getTarget:function(e){if(typeof e!="string"){e=e.id}return d[e]},getTargetFromEvent:function(h){var g=Ext.lib.Event.getTarget(h);return g?d[g.id]||b[g.id]:null}}}();Ext.dd.StatusProxy=function(a){Ext.apply(this,a);this.id=this.id||Ext.id();this.el=new Ext.Layer({dh:{id:this.id,tag:"div",cls:"x-dd-drag-proxy "+this.dropNotAllowed,children:[{tag:"div",cls:"x-dd-drop-icon"},{tag:"div",cls:"x-dd-drag-ghost"}]},shadow:!a||a.shadow!==false});this.ghost=Ext.get(this.el.dom.childNodes[1]);this.dropStatus=this.dropNotAllowed};Ext.dd.StatusProxy.prototype={dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",setStatus:function(a){a=a||this.dropNotAllowed;if(this.dropStatus!=a){this.el.replaceClass(this.dropStatus,a);this.dropStatus=a}},reset:function(a){this.el.dom.className="x-dd-drag-proxy "+this.dropNotAllowed;this.dropStatus=this.dropNotAllowed;if(a){this.ghost.update("")}},update:function(a){if(typeof a=="string"){this.ghost.update(a)}else{this.ghost.update("");a.style.margin="0";this.ghost.dom.appendChild(a)}var b=this.ghost.dom.firstChild;if(b){Ext.fly(b).setStyle("float","none")}},getEl:function(){return this.el},getGhost:function(){return this.ghost},hide:function(a){this.el.hide();if(a){this.reset(true)}},stop:function(){if(this.anim&&this.anim.isAnimated&&this.anim.isAnimated()){this.anim.stop()}},show:function(){this.el.show()},sync:function(){this.el.sync()},repair:function(b,c,a){this.callback=c;this.scope=a;if(b&&this.animRepair!==false){this.el.addClass("x-dd-drag-repair");this.el.hideUnders(true);this.anim=this.el.shift({duration:this.repairDuration||0.5,easing:"easeOut",xy:b,stopFx:true,callback:this.afterRepair,scope:this})}else{this.afterRepair()}},afterRepair:function(){this.hide(true);if(typeof this.callback=="function"){this.callback.call(this.scope||this)}this.callback=null;this.scope=null},destroy:function(){Ext.destroy(this.ghost,this.el)}};Ext.dd.DragSource=function(b,a){this.el=Ext.get(b);if(!this.dragData){this.dragData={}}Ext.apply(this,a);if(!this.proxy){this.proxy=new Ext.dd.StatusProxy()}Ext.dd.DragSource.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{dragElId:this.proxy.id,resizeFrame:false,isTarget:false,scroll:this.scroll===true});this.dragging=false};Ext.extend(Ext.dd.DragSource,Ext.dd.DDProxy,{dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",getDragData:function(a){return this.dragData},onDragEnter:function(c,d){var b=Ext.dd.DragDropMgr.getDDById(d);this.cachedTarget=b;if(this.beforeDragEnter(b,c,d)!==false){if(b.isNotifyTarget){var a=b.notifyEnter(this,c,this.dragData);this.proxy.setStatus(a)}else{this.proxy.setStatus(this.dropAllowed)}if(this.afterDragEnter){this.afterDragEnter(b,c,d)}}},beforeDragEnter:function(b,a,c){return true},alignElWithMouse:function(){Ext.dd.DragSource.superclass.alignElWithMouse.apply(this,arguments);this.proxy.sync()},onDragOver:function(c,d){var b=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(d);if(this.beforeDragOver(b,c,d)!==false){if(b.isNotifyTarget){var a=b.notifyOver(this,c,this.dragData);this.proxy.setStatus(a)}if(this.afterDragOver){this.afterDragOver(b,c,d)}}},beforeDragOver:function(b,a,c){return true},onDragOut:function(b,c){var a=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(c);if(this.beforeDragOut(a,b,c)!==false){if(a.isNotifyTarget){a.notifyOut(this,b,this.dragData)}this.proxy.reset();if(this.afterDragOut){this.afterDragOut(a,b,c)}}this.cachedTarget=null},beforeDragOut:function(b,a,c){return true},onDragDrop:function(b,c){var a=this.cachedTarget||Ext.dd.DragDropMgr.getDDById(c);if(this.beforeDragDrop(a,b,c)!==false){if(a.isNotifyTarget){if(a.notifyDrop(this,b,this.dragData)){this.onValidDrop(a,b,c)}else{this.onInvalidDrop(a,b,c)}}else{this.onValidDrop(a,b,c)}if(this.afterDragDrop){this.afterDragDrop(a,b,c)}}delete this.cachedTarget},beforeDragDrop:function(b,a,c){return true},onValidDrop:function(b,a,c){this.hideProxy();if(this.afterValidDrop){this.afterValidDrop(b,a,c)}},getRepairXY:function(b,a){return this.el.getXY()},onInvalidDrop:function(b,a,c){this.beforeInvalidDrop(b,a,c);if(this.cachedTarget){if(this.cachedTarget.isNotifyTarget){this.cachedTarget.notifyOut(this,a,this.dragData)}this.cacheTarget=null}this.proxy.repair(this.getRepairXY(a,this.dragData),this.afterRepair,this);if(this.afterInvalidDrop){this.afterInvalidDrop(a,c)}},afterRepair:function(){if(Ext.enableFx){this.el.highlight(this.hlColor||"c3daf9")}this.dragging=false},beforeInvalidDrop:function(b,a,c){return true},handleMouseDown:function(b){if(this.dragging){return}var a=this.getDragData(b);if(a&&this.onBeforeDrag(a,b)!==false){this.dragData=a;this.proxy.stop();Ext.dd.DragSource.superclass.handleMouseDown.apply(this,arguments)}},onBeforeDrag:function(a,b){return true},onStartDrag:Ext.emptyFn,startDrag:function(a,b){this.proxy.reset();this.dragging=true;this.proxy.update("");this.onInitDrag(a,b);this.proxy.show()},onInitDrag:function(a,c){var b=this.el.dom.cloneNode(true);b.id=Ext.id();this.proxy.update(b);this.onStartDrag(a,c);return true},getProxy:function(){return this.proxy},hideProxy:function(){this.proxy.hide();this.proxy.reset(true);this.dragging=false},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)},b4EndDrag:function(a){},endDrag:function(a){this.onEndDrag(this.dragData,a)},onEndDrag:function(a,b){},autoOffset:function(a,b){this.setDelta(-12,-20)},destroy:function(){Ext.dd.DragSource.superclass.destroy.call(this);Ext.destroy(this.proxy)}});Ext.dd.DropTarget=Ext.extend(Ext.dd.DDTarget,{constructor:function(b,a){this.el=Ext.get(b);Ext.apply(this,a);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}Ext.dd.DropTarget.superclass.constructor.call(this,this.el.dom,this.ddGroup||this.group,{isTarget:true})},dropAllowed:"x-dd-drop-ok",dropNotAllowed:"x-dd-drop-nodrop",isTarget:true,isNotifyTarget:true,notifyEnter:function(a,c,b){if(this.overClass){this.el.addClass(this.overClass)}return this.dropAllowed},notifyOver:function(a,c,b){return this.dropAllowed},notifyOut:function(a,c,b){if(this.overClass){this.el.removeClass(this.overClass)}},notifyDrop:function(a,c,b){return false},destroy:function(){Ext.dd.DropTarget.superclass.destroy.call(this);if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.dd.DragZone=Ext.extend(Ext.dd.DragSource,{constructor:function(b,a){Ext.dd.DragZone.superclass.constructor.call(this,b,a);if(this.containerScroll){Ext.dd.ScrollManager.register(this.el)}},getDragData:function(a){return Ext.dd.Registry.getHandleFromEvent(a)},onInitDrag:function(a,b){this.proxy.update(this.dragData.ddel.cloneNode(true));this.onStartDrag(a,b);return true},afterRepair:function(){if(Ext.enableFx){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9")}this.dragging=false},getRepairXY:function(a){return Ext.Element.fly(this.dragData.ddel).getXY()},destroy:function(){Ext.dd.DragZone.superclass.destroy.call(this);if(this.containerScroll){Ext.dd.ScrollManager.unregister(this.el)}}});Ext.dd.DropZone=function(b,a){Ext.dd.DropZone.superclass.constructor.call(this,b,a)};Ext.extend(Ext.dd.DropZone,Ext.dd.DropTarget,{getTargetFromEvent:function(a){return Ext.dd.Registry.getTargetFromEvent(a)},onNodeEnter:function(d,a,c,b){},onNodeOver:function(d,a,c,b){return this.dropAllowed},onNodeOut:function(d,a,c,b){},onNodeDrop:function(d,a,c,b){return false},onContainerOver:function(a,c,b){return this.dropNotAllowed},onContainerDrop:function(a,c,b){return false},notifyEnter:function(a,c,b){return this.dropNotAllowed},notifyOver:function(a,c,b){var d=this.getTargetFromEvent(c);if(!d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,c,b);this.lastOverNode=null}return this.onContainerOver(a,c,b)}if(this.lastOverNode!=d){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,c,b)}this.onNodeEnter(d,a,c,b);this.lastOverNode=d}return this.onNodeOver(d,a,c,b)},notifyOut:function(a,c,b){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,c,b);this.lastOverNode=null}},notifyDrop:function(a,c,b){if(this.lastOverNode){this.onNodeOut(this.lastOverNode,a,c,b);this.lastOverNode=null}var d=this.getTargetFromEvent(c);return d?this.onNodeDrop(d,a,c,b):this.onContainerDrop(a,c,b)},triggerCacheRefresh:function(){Ext.dd.DDM.refreshCache(this.groups)}});Ext.Element.addMethods({initDD:function(c,b,d){var a=new Ext.dd.DD(Ext.id(this.dom),c,b);return Ext.apply(a,d)},initDDProxy:function(c,b,d){var a=new Ext.dd.DDProxy(Ext.id(this.dom),c,b);return Ext.apply(a,d)},initDDTarget:function(c,b,d){var a=new Ext.dd.DDTarget(Ext.id(this.dom),c,b);return Ext.apply(a,d)}});Ext.data.Api=(function(){var a={};return{actions:{create:"create",read:"read",update:"update",destroy:"destroy"},restActions:{create:"POST",read:"GET",update:"PUT",destroy:"DELETE"},isAction:function(b){return(Ext.data.Api.actions[b])?true:false},getVerb:function(b){if(a[b]){return a[b]}for(var c in this.actions){if(this.actions[c]===b){a[b]=c;break}}return(a[b]!==undefined)?a[b]:null},isValid:function(b){var e=[];var d=this.actions;for(var c in b){if(!(c in d)){e.push(c)}}return(!e.length)?true:e},hasUniqueUrl:function(c,g){var b=(c.api[g])?c.api[g].url:null;var e=true;for(var d in c.api){if((e=(d===g)?true:(c.api[d].url!=b)?true:false)===false){break}}return e},prepare:function(b){if(!b.api){b.api={}}for(var d in this.actions){var c=this.actions[d];b.api[c]=b.api[c]||b.url||b.directFn;if(typeof(b.api[c])=="string"){b.api[c]={url:b.api[c],method:(b.restful===true)?Ext.data.Api.restActions[c]:undefined}}}},restify:function(b){b.restful=true;for(var c in this.restActions){b.api[this.actions[c]].method||(b.api[this.actions[c]].method=this.restActions[c])}b.onWrite=b.onWrite.createInterceptor(function(i,j,g,e){var d=j.reader;var h=new Ext.data.Response({action:i,raw:g});switch(g.status){case 200:return true;break;case 201:if(Ext.isEmpty(h.raw.responseText)){h.success=true}else{return true}break;case 204:h.success=true;h.data=null;break;default:return true;break}if(h.success===true){this.fireEvent("write",this,i,h.data,h,e,j.request.arg)}else{this.fireEvent("exception",this,"remote",i,j,h,e)}j.request.callback.call(j.request.scope,h.data,h,h.success);return false},b)}}})();Ext.data.Response=function(b,a){Ext.apply(this,b,{raw:a})};Ext.data.Response.prototype={message:null,success:false,status:null,root:null,raw:null,getMessage:function(){return this.message},getSuccess:function(){return this.success},getStatus:function(){return this.status},getRoot:function(){return this.root},getRawResponse:function(){return this.raw}};Ext.data.Api.Error=Ext.extend(Ext.Error,{constructor:function(b,a){this.arg=a;Ext.Error.call(this,b)},name:"Ext.data.Api"});Ext.apply(Ext.data.Api.Error.prototype,{lang:{"action-url-undefined":"No fallback url defined for this action.  When defining a DataProxy api, please be sure to define an url for each CRUD action in Ext.data.Api.actions or define a default url in addition to your api-configuration.",invalid:"received an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions defined in Ext.data.Api.actions","invalid-url":"Invalid url.  Please review your proxy configuration.",execute:'Attempted to execute an unknown action.  Valid API actions are defined in Ext.data.Api.actions"'}});Ext.data.SortTypes={none:function(a){return a},stripTagsRE:/<\/?[^>]+>/gi,asText:function(a){return String(a).replace(this.stripTagsRE,"")},asUCText:function(a){return String(a).toUpperCase().replace(this.stripTagsRE,"")},asUCString:function(a){return String(a).toUpperCase()},asDate:function(a){if(!a){return 0}if(Ext.isDate(a)){return a.getTime()}return Date.parse(String(a))},asFloat:function(a){var b=parseFloat(String(a).replace(/,/g,""));return isNaN(b)?0:b},asInt:function(a){var b=parseInt(String(a).replace(/,/g,""),10);return isNaN(b)?0:b}};Ext.data.Record=function(a,b){this.id=(b||b===0)?b:Ext.data.Record.id(this);this.data=a||{}};Ext.data.Record.create=function(e){var c=Ext.extend(Ext.data.Record,{});var d=c.prototype;d.fields=new Ext.util.MixedCollection(false,function(g){return g.name});for(var b=0,a=e.length;b<a;b++){d.fields.add(new Ext.data.Field(e[b]))}c.getField=function(g){return d.fields.get(g)};return c};Ext.data.Record.PREFIX="ext-record";Ext.data.Record.AUTO_ID=1;Ext.data.Record.EDIT="edit";Ext.data.Record.REJECT="reject";Ext.data.Record.COMMIT="commit";Ext.data.Record.id=function(a){a.phantom=true;return[Ext.data.Record.PREFIX,"-",Ext.data.Record.AUTO_ID++].join("")};Ext.data.Record.prototype={dirty:false,editing:false,error:null,modified:null,phantom:false,join:function(a){this.store=a},set:function(a,c){var b=Ext.isPrimitive(c)?String:Ext.encode;if(b(this.data[a])==b(c)){return}this.dirty=true;if(!this.modified){this.modified={}}if(this.modified[a]===undefined){this.modified[a]=this.data[a]}this.data[a]=c;if(!this.editing){this.afterEdit()}},afterEdit:function(){if(this.store!=undefined&&typeof this.store.afterEdit=="function"){this.store.afterEdit(this)}},afterReject:function(){if(this.store){this.store.afterReject(this)}},afterCommit:function(){if(this.store){this.store.afterCommit(this)}},get:function(a){return this.data[a]},beginEdit:function(){this.editing=true;this.modified=this.modified||{}},cancelEdit:function(){this.editing=false;delete this.modified},endEdit:function(){this.editing=false;if(this.dirty){this.afterEdit()}},reject:function(b){var a=this.modified;for(var c in a){if(typeof a[c]!="function"){this.data[c]=a[c]}}this.dirty=false;delete this.modified;this.editing=false;if(b!==true){this.afterReject()}},commit:function(a){this.dirty=false;delete this.modified;this.editing=false;if(a!==true){this.afterCommit()}},getChanges:function(){var a=this.modified,b={};for(var c in a){if(a.hasOwnProperty(c)){b[c]=this.data[c]}}return b},hasError:function(){return this.error!==null},clearError:function(){this.error=null},copy:function(a){return new this.constructor(Ext.apply({},this.data),a||this.id)},isModified:function(a){return !!(this.modified&&this.modified.hasOwnProperty(a))},isValid:function(){return this.fields.find(function(a){return(a.allowBlank===false&&Ext.isEmpty(this.data[a.name]))?true:false},this)?false:true},markDirty:function(){this.dirty=true;if(!this.modified){this.modified={}}this.fields.each(function(a){this.modified[a.name]=this.data[a.name]},this)}};Ext.StoreMgr=Ext.apply(new Ext.util.MixedCollection(),{register:function(){for(var a=0,b;(b=arguments[a]);a++){this.add(b)}},unregister:function(){for(var a=0,b;(b=arguments[a]);a++){this.remove(this.lookup(b))}},lookup:function(e){if(Ext.isArray(e)){var b=["field1"],d=!Ext.isArray(e[0]);if(!d){for(var c=2,a=e[0].length;c<=a;++c){b.push("field"+c)}}return new Ext.data.ArrayStore({fields:b,data:e,expandData:d,autoDestroy:true,autoCreated:true})}return Ext.isObject(e)?(e.events?e:Ext.create(e,"store")):this.get(e)},getKey:function(a){return a.storeId}});Ext.data.Store=Ext.extend(Ext.util.Observable,{writer:undefined,remoteSort:false,autoDestroy:false,pruneModifiedRecords:false,lastOptions:null,autoSave:true,batch:true,restful:false,paramNames:undefined,defaultParamNames:{start:"start",limit:"limit",sort:"sort",dir:"dir"},isDestroyed:false,hasMultiSort:false,batchKey:"_ext_batch_",constructor:function(a){this.data=new Ext.util.MixedCollection(false);this.data.getKey=function(b){return b.id};this.removed=[];if(a&&a.data){this.inlineData=a.data;delete a.data}Ext.apply(this,a);this.baseParams=Ext.isObject(this.baseParams)?this.baseParams:{};this.paramNames=Ext.applyIf(this.paramNames||{},this.defaultParamNames);if((this.url||this.api)&&!this.proxy){this.proxy=new Ext.data.HttpProxy({url:this.url,api:this.api})}if(this.restful===true&&this.proxy){this.batch=false;Ext.data.Api.restify(this.proxy)}if(this.reader){if(!this.recordType){this.recordType=this.reader.recordType}if(this.reader.onMetaChange){this.reader.onMetaChange=this.reader.onMetaChange.createSequence(this.onMetaChange,this)}if(this.writer){if(this.writer instanceof (Ext.data.DataWriter)===false){this.writer=this.buildWriter(this.writer)}this.writer.meta=this.reader.meta;this.pruneModifiedRecords=true}}if(this.recordType){this.fields=this.recordType.prototype.fields}this.modified=[];this.addEvents("datachanged","metachange","add","remove","update","clear","exception","beforeload","load","loadexception","beforewrite","write","beforesave","save");if(this.proxy){this.relayEvents(this.proxy,["loadexception","exception"])}if(this.writer){this.on({scope:this,add:this.createRecords,remove:this.destroyRecord,update:this.updateRecord,clear:this.onClear})}this.sortToggle={};if(this.sortField){this.setDefaultSort(this.sortField,this.sortDir)}else{if(this.sortInfo){this.setDefaultSort(this.sortInfo.field,this.sortInfo.direction)}}Ext.data.Store.superclass.constructor.call(this);if(this.id){this.storeId=this.id;delete this.id}if(this.storeId){Ext.StoreMgr.register(this)}if(this.inlineData){this.loadData(this.inlineData);delete this.inlineData}else{if(this.autoLoad){this.load.defer(10,this,[typeof this.autoLoad=="object"?this.autoLoad:undefined])}}this.batchCounter=0;this.batches={}},buildWriter:function(b){var a=undefined,c=(b.format||"json").toLowerCase();switch(c){case"json":a=Ext.data.JsonWriter;break;case"xml":a=Ext.data.XmlWriter;break;default:a=Ext.data.JsonWriter}return new a(b)},destroy:function(){if(!this.isDestroyed){if(this.storeId){Ext.StoreMgr.unregister(this)}this.clearData();this.data=null;Ext.destroy(this.proxy);this.reader=this.writer=null;this.purgeListeners();this.isDestroyed=true}},add:function(c){var e,a,b,d;c=[].concat(c);if(c.length<1){return}for(e=0,a=c.length;e<a;e++){b=c[e];b.join(this);if(b.dirty||b.phantom){this.modified.push(b)}}d=this.data.length;this.data.addAll(c);if(this.snapshot){this.snapshot.addAll(c)}this.fireEvent("add",this,c,d)},addSorted:function(a){var b=this.findInsertIndex(a);this.insert(b,a)},doUpdate:function(a){var b=a.id;this.getById(b).join(null);this.data.replace(b,a);if(this.snapshot){this.snapshot.replace(b,a)}a.join(this);this.fireEvent("update",this,a,Ext.data.Record.COMMIT)},remove:function(a){if(Ext.isArray(a)){Ext.each(a,function(c){this.remove(c)},this);return}var b=this.data.indexOf(a);if(b>-1){a.join(null);this.data.removeAt(b)}if(this.pruneModifiedRecords){this.modified.remove(a)}if(this.snapshot){this.snapshot.remove(a)}if(b>-1){this.fireEvent("remove",this,a,b)}},removeAt:function(a){this.remove(this.getAt(a))},removeAll:function(b){var a=[];this.each(function(c){a.push(c)});this.clearData();if(this.snapshot){this.snapshot.clear()}if(this.pruneModifiedRecords){this.modified=[]}if(b!==true){this.fireEvent("clear",this,a)}},onClear:function(b,a){Ext.each(a,function(d,c){this.destroyRecord(this,d,c)},this)},insert:function(d,c){var e,a,b;c=[].concat(c);for(e=0,a=c.length;e<a;e++){b=c[e];this.data.insert(d+e,b);b.join(this);if(b.dirty||b.phantom){this.modified.push(b)}}if(this.snapshot){this.snapshot.addAll(c)}this.fireEvent("add",this,c,d)},indexOf:function(a){return this.data.indexOf(a)},indexOfId:function(a){return this.data.indexOfKey(a)},getById:function(a){return(this.snapshot||this.data).key(a)},getAt:function(a){return this.data.itemAt(a)},getRange:function(b,a){return this.data.getRange(b,a)},storeOptions:function(a){a=Ext.apply({},a);delete a.callback;delete a.scope;this.lastOptions=a},clearData:function(){this.data.each(function(a){a.join(null)});this.data.clear()},load:function(b){b=Ext.apply({},b);this.storeOptions(b);if(this.sortInfo&&this.remoteSort){var a=this.paramNames;b.params=Ext.apply({},b.params);b.params[a.sort]=this.sortInfo.field;b.params[a.dir]=this.sortInfo.direction}try{return this.execute("read",null,b)}catch(c){this.handleException(c);return false}},updateRecord:function(b,a,c){if(c==Ext.data.Record.EDIT&&this.autoSave===true&&(!a.phantom||(a.phantom&&a.isValid()))){this.save()}},createRecords:function(c,b,e){var d=this.modified,h=b.length,a,g;for(g=0;g<h;g++){a=b[g];if(a.phantom&&a.isValid()){a.markDirty();if(d.indexOf(a)==-1){d.push(a)}}}if(this.autoSave===true){this.save()}},destroyRecord:function(b,a,c){if(this.modified.indexOf(a)!=-1){this.modified.remove(a)}if(!a.phantom){this.removed.push(a);a.lastIndex=c;if(this.autoSave===true){this.save()}}},execute:function(e,a,c,b){if(!Ext.data.Api.isAction(e)){throw new Ext.data.Api.Error("execute",e)}c=Ext.applyIf(c||{},{params:{}});if(b!==undefined){this.addToBatch(b)}var d=true;if(e==="read"){d=this.fireEvent("beforeload",this,c);Ext.applyIf(c.params,this.baseParams)}else{if(this.writer.listful===true&&this.restful!==true){a=(Ext.isArray(a))?a:[a]}else{if(Ext.isArray(a)&&a.length==1){a=a.shift()}}if((d=this.fireEvent("beforewrite",this,e,a,c))!==false){this.writer.apply(c.params,this.baseParams,e,a)}}if(d!==false){if(this.writer&&this.proxy.url&&!this.proxy.restful&&!Ext.data.Api.hasUniqueUrl(this.proxy,e)){c.params.xaction=e}this.proxy.request(Ext.data.Api.actions[e],a,c.params,this.reader,this.createCallback(e,a,b),this,c)}return d},save:function(){if(!this.writer){throw new Ext.data.Store.Error("writer-undefined")}var h=[],j,k,e,c={},d;if(this.removed.length){h.push(["destroy",this.removed])}var b=[].concat(this.getModifiedRecords());if(b.length){var g=[];for(d=b.length-1;d>=0;d--){if(b[d].phantom===true){var a=b.splice(d,1).shift();if(a.isValid()){g.push(a)}}else{if(!b[d].isValid()){b.splice(d,1)}}}if(g.length){h.push(["create",g])}if(b.length){h.push(["update",b])}}j=h.length;if(j){e=++this.batchCounter;for(d=0;d<j;++d){k=h[d];c[k[0]]=k[1]}if(this.fireEvent("beforesave",this,c)!==false){for(d=0;d<j;++d){k=h[d];this.doTransaction(k[0],k[1],e)}return e}}return -1},doTransaction:function(e,b,c){function g(h){try{this.execute(e,h,undefined,c)}catch(i){this.handleException(i)}}if(this.batch===false){for(var d=0,a=b.length;d<a;d++){g.call(this,b[d])}}else{g.call(this,b)}},addToBatch:function(c){var a=this.batches,d=this.batchKey+c,e=a[d];if(!e){a[d]=e={id:c,count:0,data:{}}}++e.count},removeFromBatch:function(d,h,g){var c=this.batches,e=this.batchKey+d,i=c[e],a;if(i){a=i.data[h]||[];i.data[h]=a.concat(g);if(i.count===1){g=i.data;delete c[e];this.fireEvent("save",this,d,g)}else{--i.count}}},createCallback:function(c,a,b){var d=Ext.data.Api.actions;return(c=="read")?this.loadRecords:function(g,e,h){this["on"+Ext.util.Format.capitalize(c)+"Records"](h,a,[].concat(g));if(h===true){this.fireEvent("write",this,c,g,e,a)}this.removeFromBatch(b,c,g)}},clearModified:function(a){if(Ext.isArray(a)){for(var b=a.length-1;b>=0;b--){this.modified.splice(this.modified.indexOf(a[b]),1)}}else{this.modified.splice(this.modified.indexOf(a),1)}},reMap:function(b){if(Ext.isArray(b)){for(var d=0,a=b.length;d<a;d++){this.reMap(b[d])}}else{delete this.data.map[b._phid];this.data.map[b.id]=b;var c=this.data.keys.indexOf(b._phid);this.data.keys.splice(c,1,b.id);delete b._phid}},onCreateRecords:function(d,a,b){if(d===true){try{this.reader.realize(a,b)}catch(c){this.handleException(c);if(Ext.isArray(a)){this.onCreateRecords(d,a,b)}}}},onUpdateRecords:function(d,a,b){if(d===true){try{this.reader.update(a,b)}catch(c){this.handleException(c);if(Ext.isArray(a)){this.onUpdateRecords(d,a,b)}}}},onDestroyRecords:function(e,b,d){b=(b instanceof Ext.data.Record)?[b]:[].concat(b);for(var c=0,a=b.length;c<a;c++){this.removed.splice(this.removed.indexOf(b[c]),1)}if(e===false){for(c=b.length-1;c>=0;c--){this.insert(b[c].lastIndex,b[c])}}},handleException:function(a){Ext.handleError(a)},reload:function(a){this.load(Ext.applyIf(a||{},this.lastOptions))},loadRecords:function(b,l,h){var e,g;if(this.isDestroyed===true){return}if(!b||h===false){if(h!==false){this.fireEvent("load",this,[],l)}if(l.callback){l.callback.call(l.scope||this,[],l,false,b)}return}var a=b.records,j=b.totalRecords||a.length;if(!l||l.add!==true){if(this.pruneModifiedRecords){this.modified=[]}for(e=0,g=a.length;e<g;e++){a[e].join(this)}if(this.snapshot){this.data=this.snapshot;delete this.snapshot}this.clearData();this.data.addAll(a);this.totalLength=j;this.applySort();this.fireEvent("datachanged",this)}else{var k=[],d,c=0;for(e=0,g=a.length;e<g;++e){d=a[e];if(this.indexOfId(d.id)>-1){this.doUpdate(d)}else{k.push(d);++c}}this.totalLength=Math.max(j,this.data.length+c);this.add(k)}this.fireEvent("load",this,a,l);if(l.callback){l.callback.call(l.scope||this,a,l,true)}},loadData:function(c,a){var b=this.reader.readRecords(c);this.loadRecords(b,{add:a},true)},getCount:function(){return this.data.length||0},getTotalCount:function(){return this.totalLength||0},getSortState:function(){return this.sortInfo},applySort:function(){if((this.sortInfo||this.multiSortInfo)&&!this.remoteSort){this.sortData()}},sortData:function(){var a=this.hasMultiSort?this.multiSortInfo:this.sortInfo,k=a.direction||"ASC",h=a.sorters,c=[];if(!this.hasMultiSort){h=[{direction:k,field:a.field}]}for(var d=0,b=h.length;d<b;d++){c.push(this.createSortFunction(h[d].field,h[d].direction))}if(c.length==0){return}var g=k.toUpperCase()=="DESC"?-1:1;var e=function(n,m){var l=c[0].call(this,n,m);if(c.length>1){for(var p=1,o=c.length;p<o;p++){l=l||c[p].call(this,n,m)}}return g*l};this.data.sort(k,e);if(this.snapshot&&this.snapshot!=this.data){this.snapshot.sort(k,e)}},createSortFunction:function(c,b){b=b||"ASC";var a=b.toUpperCase()=="DESC"?-1:1;var d=this.fields.get(c).sortType;return function(g,e){var i=d(g.data[c]),h=d(e.data[c]);return a*(i>h?1:(i<h?-1:0))}},setDefaultSort:function(b,a){a=a?a.toUpperCase():"ASC";this.sortInfo={field:b,direction:a};this.sortToggle[b]=a},sort:function(b,a){if(Ext.isArray(arguments[0])){return this.multiSort.call(this,b,a)}else{return this.singleSort(b,a)}},singleSort:function(g,c){var e=this.fields.get(g);if(!e){return false}var b=e.name,a=this.sortInfo||null,d=this.sortToggle?this.sortToggle[b]:null;if(!c){if(a&&a.field==b){c=(this.sortToggle[b]||"ASC").toggle("ASC","DESC")}else{c=e.sortDir}}this.sortToggle[b]=c;this.sortInfo={field:b,direction:c};this.hasMultiSort=false;if(this.remoteSort){if(!this.load(this.lastOptions)){if(d){this.sortToggle[b]=d}if(a){this.sortInfo=a}}}else{this.applySort();this.fireEvent("datachanged",this)}return true},multiSort:function(b,a){this.hasMultiSort=true;a=a||"ASC";if(this.multiSortInfo&&a==this.multiSortInfo.direction){a=a.toggle("ASC","DESC")}this.multiSortInfo={sorters:b,direction:a};if(this.remoteSort){this.singleSort(b[0].field,b[0].direction)}else{this.applySort();this.fireEvent("datachanged",this)}},each:function(b,a){this.data.each(b,a)},getModifiedRecords:function(){return this.modified},sum:function(e,g,a){var c=this.data.items,b=0;g=g||0;a=(a||a===0)?a:c.length-1;for(var d=g;d<=a;d++){b+=(c[d].data[e]||0)}return b},createFilterFn:function(d,c,e,a,b){if(Ext.isEmpty(c,false)){return false}c=this.data.createValueMatcher(c,e,a,b);return function(g){return c.test(g.data[d])}},createMultipleFilterFn:function(a){return function(b){var k=true;for(var d=0,c=a.length;d<c;d++){var h=a[d],g=h.fn,e=h.scope;k=k&&g.call(e,b)}return k}},filter:function(n,m,h,k,e){var l;if(Ext.isObject(n)){n=[n]}if(Ext.isArray(n)){var b=[];for(var g=0,d=n.length;g<d;g++){var a=n[g],c=a.fn,o=a.scope||this;if(!Ext.isFunction(c)){c=this.createFilterFn(a.property,a.value,a.anyMatch,a.caseSensitive,a.exactMatch)}b.push({fn:c,scope:o})}l=this.createMultipleFilterFn(b)}else{l=this.createFilterFn(n,m,h,k,e)}return l?this.filterBy(l):this.clearFilter()},filterBy:function(b,a){this.snapshot=this.snapshot||this.data;this.data=this.queryBy(b,a||this);this.fireEvent("datachanged",this)},clearFilter:function(a){if(this.isFiltered()){this.data=this.snapshot;delete this.snapshot;if(a!==true){this.fireEvent("datachanged",this)}}},isFiltered:function(){return !!this.snapshot&&this.snapshot!=this.data},query:function(d,c,e,a){var b=this.createFilterFn(d,c,e,a);return b?this.queryBy(b):this.data.clone()},queryBy:function(b,a){var c=this.snapshot||this.data;return c.filterBy(b,a||this)},find:function(d,c,g,e,a){var b=this.createFilterFn(d,c,e,a);return b?this.data.findIndexBy(b,null,g):-1},findExact:function(b,a,c){return this.data.findIndexBy(function(d){return d.get(b)===a},this,c)},findBy:function(b,a,c){return this.data.findIndexBy(b,a,c)},collect:function(j,k,b){var h=(b===true&&this.snapshot)?this.snapshot.items:this.data.items;var m,n,a=[],c={};for(var e=0,g=h.length;e<g;e++){m=h[e].data[j];n=String(m);if((k||!Ext.isEmpty(m))&&!c[n]){c[n]=true;a[a.length]=m}}return a},afterEdit:function(a){if(this.modified.indexOf(a)==-1){this.modified.push(a)}this.fireEvent("update",this,a,Ext.data.Record.EDIT)},afterReject:function(a){this.modified.remove(a);this.fireEvent("update",this,a,Ext.data.Record.REJECT)},afterCommit:function(a){this.modified.remove(a);this.fireEvent("update",this,a,Ext.data.Record.COMMIT)},commitChanges:function(){var a=this.modified.slice(0),c=a.length,b;for(b=0;b<c;b++){a[b].commit()}this.modified=[];this.removed=[]},rejectChanges:function(){var a=this.modified.slice(0),e=this.removed.slice(0).reverse(),c=a.length,d=e.length,b;for(b=0;b<c;b++){a[b].reject()}for(b=0;b<d;b++){this.insert(e[b].lastIndex||0,e[b]);e[b].reject()}this.modified=[];this.removed=[]},onMetaChange:function(a){this.recordType=this.reader.recordType;this.fields=this.recordType.prototype.fields;delete this.snapshot;if(this.reader.meta.sortInfo){this.sortInfo=this.reader.meta.sortInfo}else{if(this.sortInfo&&!this.fields.get(this.sortInfo.field)){delete this.sortInfo}}if(this.writer){this.writer.meta=this.reader.meta}this.modified=[];this.fireEvent("metachange",this,this.reader.meta)},findInsertIndex:function(a){this.suspendEvents();var c=this.data.clone();this.data.add(a);this.applySort();var b=this.data.indexOf(a);this.data=c;this.resumeEvents();return b},setBaseParam:function(a,b){this.baseParams=this.baseParams||{};this.baseParams[a]=b}});Ext.reg("store",Ext.data.Store);Ext.data.Store.Error=Ext.extend(Ext.Error,{name:"Ext.data.Store"});Ext.apply(Ext.data.Store.Error.prototype,{lang:{"writer-undefined":"Attempted to execute a write-action without a DataWriter installed."}});Ext.data.Field=Ext.extend(Object,{constructor:function(b){if(Ext.isString(b)){b={name:b}}Ext.apply(this,b);var d=Ext.data.Types,a=this.sortType,c;if(this.type){if(Ext.isString(this.type)){this.type=Ext.data.Types[this.type.toUpperCase()]||d.AUTO}}else{this.type=d.AUTO}if(Ext.isString(a)){this.sortType=Ext.data.SortTypes[a]}else{if(Ext.isEmpty(a)){this.sortType=this.type.sortType}}if(!this.convert){this.convert=this.type.convert}},dateFormat:null,useNull:false,defaultValue:"",mapping:null,sortType:null,sortDir:"ASC",allowBlank:true});Ext.data.DataReader=function(a,b){this.meta=a;this.recordType=Ext.isArray(b)?Ext.data.Record.create(b):b;if(this.recordType){this.buildExtractors()}};Ext.data.DataReader.prototype={getTotal:Ext.emptyFn,getRoot:Ext.emptyFn,getMessage:Ext.emptyFn,getSuccess:Ext.emptyFn,getId:Ext.emptyFn,buildExtractors:Ext.emptyFn,extractValues:Ext.emptyFn,realize:function(a,c){if(Ext.isArray(a)){for(var b=a.length-1;b>=0;b--){if(Ext.isArray(c)){this.realize(a.splice(b,1).shift(),c.splice(b,1).shift())}else{this.realize(a.splice(b,1).shift(),c)}}}else{if(Ext.isArray(c)&&c.length==1){c=c.shift()}if(!this.isData(c)){throw new Ext.data.DataReader.Error("realize",a)}a.phantom=false;a._phid=a.id;a.id=this.getId(c);a.data=c;a.commit();a.store.reMap(a)}},update:function(a,c){if(Ext.isArray(a)){for(var b=a.length-1;b>=0;b--){if(Ext.isArray(c)){this.update(a.splice(b,1).shift(),c.splice(b,1).shift())}else{this.update(a.splice(b,1).shift(),c)}}}else{if(Ext.isArray(c)&&c.length==1){c=c.shift()}if(this.isData(c)){a.data=Ext.apply(a.data,c)}a.commit()}},extractData:function(k,a){var j=(this instanceof Ext.data.JsonReader)?"json":"node";var c=[];if(this.isData(k)&&!(this instanceof Ext.data.XmlReader)){k=[k]}var h=this.recordType.prototype.fields,o=h.items,m=h.length,c=[];if(a===true){var l=this.recordType;for(var e=0;e<k.length;e++){var b=k[e];var g=new l(this.extractValues(b,o,m),this.getId(b));g[j]=b;c.push(g)}}else{for(var e=0;e<k.length;e++){var d=this.extractValues(k[e],o,m);d[this.meta.idProperty]=this.getId(k[e]);c.push(d)}}return c},isData:function(a){return(a&&Ext.isObject(a)&&!Ext.isEmpty(this.getId(a)))?true:false},onMetaChange:function(a){delete this.ef;this.meta=a;this.recordType=Ext.data.Record.create(a.fields);this.buildExtractors()}};Ext.data.DataReader.Error=Ext.extend(Ext.Error,{constructor:function(b,a){this.arg=a;Ext.Error.call(this,b)},name:"Ext.data.DataReader"});Ext.apply(Ext.data.DataReader.Error.prototype,{lang:{update:"#update received invalid data from server.  Please see docs for DataReader#update and review your DataReader configuration.",realize:"#realize was called with invalid remote-data.  Please see the docs for DataReader#realize and review your DataReader configuration.","invalid-response":"#readResponse received an invalid response from the server."}});Ext.data.DataWriter=function(a){Ext.apply(this,a)};Ext.data.DataWriter.prototype={writeAllFields:false,listful:false,apply:function(e,g,d,a){var c=[],b=d+"Record";if(Ext.isArray(a)){Ext.each(a,function(h){c.push(this[b](h))},this)}else{if(a instanceof Ext.data.Record){c=this[b](a)}}this.render(e,g,c)},render:Ext.emptyFn,updateRecord:Ext.emptyFn,createRecord:Ext.emptyFn,destroyRecord:Ext.emptyFn,toHash:function(g,c){var e=g.fields.map,d={},b=(this.writeAllFields===false&&g.phantom===false)?g.getChanges():g.data,a;Ext.iterate(b,function(i,h){if((a=e[i])){d[a.mapping?a.mapping:a.name]=h}});if(g.phantom){if(g.fields.containsKey(this.meta.idProperty)&&Ext.isEmpty(g.data[this.meta.idProperty])){delete d[this.meta.idProperty]}}else{d[this.meta.idProperty]=g.id}return d},toArray:function(b){var a=[];Ext.iterate(b,function(d,c){a.push({name:d,value:c})},this);return a}};Ext.data.DataProxy=function(a){a=a||{};this.api=a.api;this.url=a.url;this.restful=a.restful;this.listeners=a.listeners;this.prettyUrls=a.prettyUrls;this.addEvents("exception","beforeload","load","loadexception","beforewrite","write");Ext.data.DataProxy.superclass.constructor.call(this);try{Ext.data.Api.prepare(this)}catch(b){if(b instanceof Ext.data.Api.Error){b.toConsole()}}Ext.data.DataProxy.relayEvents(this,["beforewrite","write","exception"])};Ext.extend(Ext.data.DataProxy,Ext.util.Observable,{restful:false,setApi:function(){if(arguments.length==1){var a=Ext.data.Api.isValid(arguments[0]);if(a===true){this.api=arguments[0]}else{throw new Ext.data.Api.Error("invalid",a)}}else{if(arguments.length==2){if(!Ext.data.Api.isAction(arguments[0])){throw new Ext.data.Api.Error("invalid",arguments[0])}this.api[arguments[0]]=arguments[1]}}Ext.data.Api.prepare(this)},isApiAction:function(a){return(this.api[a])?true:false},request:function(e,b,g,a,h,d,c){if(!this.api[e]&&!this.load){throw new Ext.data.DataProxy.Error("action-undefined",e)}g=g||{};if((e===Ext.data.Api.actions.read)?this.fireEvent("beforeload",this,g):this.fireEvent("beforewrite",this,e,b,g)!==false){this.doRequest.apply(this,arguments)}else{h.call(d||this,null,c,false)}},load:null,doRequest:function(e,b,g,a,h,d,c){this.load(g,a,h,d,c)},onRead:Ext.emptyFn,onWrite:Ext.emptyFn,buildUrl:function(d,b){b=b||null;var c=(this.conn&&this.conn.url)?this.conn.url:(this.api[d])?this.api[d].url:this.url;if(!c){throw new Ext.data.Api.Error("invalid-url",d)}var e=null;var a=c.match(/(.*)(\.json|\.xml|\.html)$/);if(a){e=a[2];c=a[1]}if((this.restful===true||this.prettyUrls===true)&&b instanceof Ext.data.Record&&!b.phantom){c+="/"+b.id}return(e===null)?c:c+e},destroy:function(){this.purgeListeners()}});Ext.apply(Ext.data.DataProxy,Ext.util.Observable.prototype);Ext.util.Observable.call(Ext.data.DataProxy);Ext.data.DataProxy.Error=Ext.extend(Ext.Error,{constructor:function(b,a){this.arg=a;Ext.Error.call(this,b)},name:"Ext.data.DataProxy"});Ext.apply(Ext.data.DataProxy.Error.prototype,{lang:{"action-undefined":"DataProxy attempted to execute an API-action but found an undefined url / function.  Please review your Proxy url/api-configuration.","api-invalid":"Recieved an invalid API-configuration.  Please ensure your proxy API-configuration contains only the actions from Ext.data.Api.actions."}});Ext.data.Request=function(a){Ext.apply(this,a)};Ext.data.Request.prototype={action:undefined,rs:undefined,params:undefined,callback:Ext.emptyFn,scope:undefined,reader:undefined};Ext.data.Response=function(a){Ext.apply(this,a)};Ext.data.Response.prototype={action:undefined,success:undefined,message:undefined,data:undefined,raw:undefined,records:undefined};Ext.data.ScriptTagProxy=function(a){Ext.apply(this,a);Ext.data.ScriptTagProxy.superclass.constructor.call(this,a);this.head=document.getElementsByTagName("head")[0]};Ext.data.ScriptTagProxy.TRANS_ID=1000;Ext.extend(Ext.data.ScriptTagProxy,Ext.data.DataProxy,{timeout:30000,callbackParam:"callback",nocache:true,doRequest:function(e,g,d,h,j,k,l){var c=Ext.urlEncode(Ext.apply(d,this.extraParams));var b=this.buildUrl(e,g);if(!b){throw new Ext.data.Api.Error("invalid-url",b)}b=Ext.urlAppend(b,c);if(this.nocache){b=Ext.urlAppend(b,"_dc="+(new Date().getTime()))}var a=++Ext.data.ScriptTagProxy.TRANS_ID;var m={id:a,action:e,cb:"stcCallback"+a,scriptId:"stcScript"+a,params:d,arg:l,url:b,callback:j,scope:k,reader:h};window[m.cb]=this.createCallback(e,g,m);b+=String.format("&{0}={1}",this.callbackParam,m.cb);if(this.autoAbort!==false){this.abort()}m.timeoutId=this.handleFailure.defer(this.timeout,this,[m]);var i=document.createElement("script");i.setAttribute("src",b);i.setAttribute("type","text/javascript");i.setAttribute("id",m.scriptId);this.head.appendChild(i);this.trans=m},createCallback:function(d,b,c){var a=this;return function(e){a.trans=false;a.destroyTrans(c,true);if(d===Ext.data.Api.actions.read){a.onRead.call(a,d,c,e)}else{a.onWrite.call(a,d,c,e,b)}}},onRead:function(d,c,b){var a;try{a=c.reader.readRecords(b)}catch(g){this.fireEvent("loadexception",this,c,b,g);this.fireEvent("exception",this,"response",d,c,b,g);c.callback.call(c.scope||window,null,c.arg,false);return}if(a.success===false){this.fireEvent("loadexception",this,c,b);this.fireEvent("exception",this,"remote",d,c,b,null)}else{this.fireEvent("load",this,b,c.arg)}c.callback.call(c.scope||window,a,c.arg,a.success)},onWrite:function(h,g,c,b){var a=g.reader;try{var d=a.readResponse(h,c)}catch(i){this.fireEvent("exception",this,"response",h,g,d,i);g.callback.call(g.scope||window,null,d,false);return}if(!d.success===true){this.fireEvent("exception",this,"remote",h,g,d,b);g.callback.call(g.scope||window,null,d,false);return}this.fireEvent("write",this,h,d.data,d,b,g.arg);g.callback.call(g.scope||window,d.data,d,true)},isLoading:function(){return this.trans?true:false},abort:function(){if(this.isLoading()){this.destroyTrans(this.trans)}},destroyTrans:function(b,a){this.head.removeChild(document.getElementById(b.scriptId));clearTimeout(b.timeoutId);if(a){window[b.cb]=undefined;try{delete window[b.cb]}catch(c){}}else{window[b.cb]=function(){window[b.cb]=undefined;try{delete window[b.cb]}catch(d){}}}},handleFailure:function(a){this.trans=false;this.destroyTrans(a,false);if(a.action===Ext.data.Api.actions.read){this.fireEvent("loadexception",this,null,a.arg)}this.fireEvent("exception",this,"response",a.action,{response:null,options:a.arg});a.callback.call(a.scope||window,null,a.arg,false)},destroy:function(){this.abort();Ext.data.ScriptTagProxy.superclass.destroy.call(this)}});Ext.data.HttpProxy=function(a){Ext.data.HttpProxy.superclass.constructor.call(this,a);this.conn=a;this.conn.url=null;this.useAjax=!a||!a.events;var c=Ext.data.Api.actions;this.activeRequest={};for(var b in c){this.activeRequest[c[b]]=undefined}};Ext.extend(Ext.data.HttpProxy,Ext.data.DataProxy,{getConnection:function(){return this.useAjax?Ext.Ajax:this.conn},setUrl:function(a,b){this.conn.url=a;if(b===true){this.url=a;this.api=null;Ext.data.Api.prepare(this)}},doRequest:function(g,d,i,c,b,e,a){var h={method:(this.api[g])?this.api[g]["method"]:undefined,request:{callback:b,scope:e,arg:a},reader:c,callback:this.createCallback(g,d),scope:this};if(i.jsonData){h.jsonData=i.jsonData}else{if(i.xmlData){h.xmlData=i.xmlData}else{h.params=i||{}}}this.conn.url=this.buildUrl(g,d);if(this.useAjax){Ext.applyIf(h,this.conn);if(this.activeRequest[g]){}this.activeRequest[g]=Ext.Ajax.request(h)}else{this.conn.request(h)}this.conn.url=null},createCallback:function(b,a){return function(e,d,c){this.activeRequest[b]=undefined;if(!d){if(b===Ext.data.Api.actions.read){this.fireEvent("loadexception",this,e,c)}this.fireEvent("exception",this,"response",b,e,c);e.request.callback.call(e.request.scope,null,e.request.arg,false);return}if(b===Ext.data.Api.actions.read){this.onRead(b,e,c)}else{this.onWrite(b,e,c,a)}}},onRead:function(d,h,b){var a;try{a=h.reader.read(b)}catch(g){this.fireEvent("loadexception",this,h,b,g);this.fireEvent("exception",this,"response",d,h,b,g);h.request.callback.call(h.request.scope,null,h.request.arg,false);return}if(a.success===false){this.fireEvent("loadexception",this,h,b);var c=h.reader.readResponse(d,b);this.fireEvent("exception",this,"remote",d,h,c,null)}else{this.fireEvent("load",this,h,h.request.arg)}h.request.callback.call(h.request.scope,a,h.request.arg,a.success)},onWrite:function(g,i,c,b){var a=i.reader;var d;try{d=a.readResponse(g,c)}catch(h){this.fireEvent("exception",this,"response",g,i,c,h);i.request.callback.call(i.request.scope,null,i.request.arg,false);return}if(d.success===true){this.fireEvent("write",this,g,d.data,d,b,i.request.arg)}else{this.fireEvent("exception",this,"remote",g,i,d,b)}i.request.callback.call(i.request.scope,d.data,d,d.success)},destroy:function(){if(!this.useAjax){this.conn.abort()}else{if(this.activeRequest){var b=Ext.data.Api.actions;for(var a in b){if(this.activeRequest[b[a]]){Ext.Ajax.abort(this.activeRequest[b[a]])}}}}Ext.data.HttpProxy.superclass.destroy.call(this)}});Ext.data.MemoryProxy=function(b){var a={};a[Ext.data.Api.actions.read]=true;Ext.data.MemoryProxy.superclass.constructor.call(this,{api:a});this.data=b};Ext.extend(Ext.data.MemoryProxy,Ext.data.DataProxy,{doRequest:function(b,c,a,d,h,i,j){a=a||{};var k;try{k=d.readRecords(this.data)}catch(g){this.fireEvent("loadexception",this,null,j,g);this.fireEvent("exception",this,"response",b,j,null,g);h.call(i,null,j,false);return}h.call(i,k,j,true)}});Ext.data.Types=new function(){var a=Ext.data.SortTypes;Ext.apply(this,{stripRe:/[\$,%]/g,AUTO:{convert:function(b){return b},sortType:a.none,type:"auto"},STRING:{convert:function(b){return(b===undefined||b===null)?"":String(b)},sortType:a.asUCString,type:"string"},INT:{convert:function(b){return b!==undefined&&b!==null&&b!==""?parseInt(String(b).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:a.none,type:"int"},FLOAT:{convert:function(b){return b!==undefined&&b!==null&&b!==""?parseFloat(String(b).replace(Ext.data.Types.stripRe,""),10):(this.useNull?null:0)},sortType:a.none,type:"float"},BOOL:{convert:function(b){return b===true||b==="true"||b==1},sortType:a.none,type:"bool"},DATE:{convert:function(c){var d=this.dateFormat;if(!c){return null}if(Ext.isDate(c)){return c}if(d){if(d=="timestamp"){return new Date(c*1000)}if(d=="time"){return new Date(parseInt(c,10))}return Date.parseDate(c,d)}var b=Date.parse(c);return b?new Date(b):null},sortType:a.asDate,type:"date"}});Ext.apply(this,{BOOLEAN:this.BOOL,INTEGER:this.INT,NUMBER:this.FLOAT})};Ext.data.JsonWriter=Ext.extend(Ext.data.DataWriter,{encode:true,encodeDelete:false,constructor:function(a){Ext.data.JsonWriter.superclass.constructor.call(this,a)},render:function(c,d,b){if(this.encode===true){Ext.apply(c,d);c[this.meta.root]=Ext.encode(b)}else{var a=Ext.apply({},d);a[this.meta.root]=b;c.jsonData=a}},createRecord:function(a){return this.toHash(a)},updateRecord:function(a){return this.toHash(a)},destroyRecord:function(b){if(this.encodeDelete){var a={};a[this.meta.idProperty]=b.id;return a}else{return b.id}}});Ext.data.JsonReader=function(a,b){a=a||{};Ext.applyIf(a,{idProperty:"id",successProperty:"success",totalProperty:"total"});Ext.data.JsonReader.superclass.constructor.call(this,a,b||a.fields)};Ext.extend(Ext.data.JsonReader,Ext.data.DataReader,{read:function(a){var b=a.responseText;var c=Ext.decode(b);if(!c){throw {message:"JsonReader.read: Json object not found"}}return this.readRecords(c)},readResponse:function(e,b){var h=(b.responseText!==undefined)?Ext.decode(b.responseText):b;if(!h){throw new Ext.data.JsonReader.Error("response")}var a=this.getRoot(h),g=this.getSuccess(h);if(g&&e===Ext.data.Api.actions.create){var d=Ext.isDefined(a);if(d&&Ext.isEmpty(a)){throw new Ext.data.JsonReader.Error("root-empty",this.meta.root)}else{if(!d){throw new Ext.data.JsonReader.Error("root-undefined-response",this.meta.root)}}}var c=new Ext.data.Response({action:e,success:g,data:(a)?this.extractData(a,false):[],message:this.getMessage(h),raw:h});if(Ext.isEmpty(c.success)){throw new Ext.data.JsonReader.Error("successProperty-response",this.meta.successProperty)}return c},readRecords:function(a){this.jsonData=a;if(a.metaData){this.onMetaChange(a.metaData)}var m=this.meta,h=this.recordType,b=h.prototype.fields,l=b.items,i=b.length,j;var g=this.getRoot(a),e=g.length,d=e,k=true;if(m.totalProperty){j=parseInt(this.getTotal(a),10);if(!isNaN(j)){d=j}}if(m.successProperty){j=this.getSuccess(a);if(j===false||j==="false"){k=false}}return{success:k,records:this.extractData(g,true),totalRecords:d}},buildExtractors:function(){if(this.ef){return}var l=this.meta,h=this.recordType,e=h.prototype.fields,k=e.items,j=e.length;if(l.totalProperty){this.getTotal=this.createAccessor(l.totalProperty)}if(l.successProperty){this.getSuccess=this.createAccessor(l.successProperty)}if(l.messageProperty){this.getMessage=this.createAccessor(l.messageProperty)}this.getRoot=l.root?this.createAccessor(l.root):function(g){return g};if(l.id||l.idProperty){var d=this.createAccessor(l.id||l.idProperty);this.getId=function(i){var g=d(i);return(g===undefined||g==="")?null:g}}else{this.getId=function(){return null}}var c=[];for(var b=0;b<j;b++){e=k[b];var a=(e.mapping!==undefined&&e.mapping!==null)?e.mapping:e.name;c.push(this.createAccessor(a))}this.ef=c},simpleAccess:function(b,a){return b[a]},createAccessor:function(){var a=/[\[\.]/;return function(c){if(Ext.isEmpty(c)){return Ext.emptyFn}if(Ext.isFunction(c)){return c}var b=String(c).search(a);if(b>=0){return new Function("obj","return obj"+(b>0?".":"")+c)}return function(d){return d[c]}}}(),extractValues:function(h,d,a){var g,c={};for(var e=0;e<a;e++){g=d[e];var b=this.ef[e](h);c[g.name]=g.convert((b!==undefined)?b:g.defaultValue,h)}return c}});Ext.data.JsonReader.Error=Ext.extend(Ext.Error,{constructor:function(b,a){this.arg=a;Ext.Error.call(this,b)},name:"Ext.data.JsonReader"});Ext.apply(Ext.data.JsonReader.Error.prototype,{lang:{response:"An error occurred while json-decoding your server response","successProperty-response":'Could not locate your "successProperty" in your server response.  Please review your JsonReader config to ensure the config-property "successProperty" matches the property in your server-response.  See the JsonReader docs.',"root-undefined-config":'Your JsonReader was configured without a "root" property.  Please review your JsonReader config and make sure to define the root property.  See the JsonReader docs.',"idProperty-undefined":'Your JsonReader was configured without an "idProperty"  Please review your JsonReader configuration and ensure the "idProperty" is set (e.g.: "id").  See the JsonReader docs.',"root-empty":'Data was expected to be returned by the server in the "root" property of the response.  Please review your JsonReader configuration to ensure the "root" property matches that returned in the server-response.  See JsonReader docs.'}});Ext.data.ArrayReader=Ext.extend(Ext.data.JsonReader,{readRecords:function(r){this.arrayData=r;var l=this.meta,d=l?Ext.num(l.idIndex,l.id):null,b=this.recordType,q=b.prototype.fields,z=[],e=true,g;var u=this.getRoot(r);for(var y=0,A=u.length;y<A;y++){var t=u[y],a={},p=((d||d===0)&&t[d]!==undefined&&t[d]!==""?t[d]:null);for(var x=0,m=q.length;x<m;x++){var B=q.items[x],w=B.mapping!==undefined&&B.mapping!==null?B.mapping:x;g=t[w]!==undefined?t[w]:B.defaultValue;g=B.convert(g,t);a[B.name]=g}var c=new b(a,p);c.json=t;z[z.length]=c}var h=z.length;if(l.totalProperty){g=parseInt(this.getTotal(r),10);if(!isNaN(g)){h=g}}if(l.successProperty){g=this.getSuccess(r);if(g===false||g==="false"){e=false}}return{success:e,records:z,totalRecords:h}}});Ext.data.ArrayStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.ArrayStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.ArrayReader(a)}))},loadData:function(e,b){if(this.expandData===true){var d=[];for(var c=0,a=e.length;c<a;c++){d[d.length]=[e[c]]}e=d}Ext.data.ArrayStore.superclass.loadData.call(this,e,b)}});Ext.reg("arraystore",Ext.data.ArrayStore);Ext.data.SimpleStore=Ext.data.ArrayStore;Ext.reg("simplestore",Ext.data.SimpleStore);Ext.data.JsonStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.JsonStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.JsonReader(a)}))}});Ext.reg("jsonstore",Ext.data.JsonStore);Ext.data.XmlWriter=function(a){Ext.data.XmlWriter.superclass.constructor.apply(this,arguments);this.tpl=(typeof(this.tpl)==="string")?new Ext.XTemplate(this.tpl).compile():this.tpl.compile()};Ext.extend(Ext.data.XmlWriter,Ext.data.DataWriter,{documentRoot:"xrequest",forceDocumentRoot:false,root:"records",xmlVersion:"1.0",xmlEncoding:"ISO-8859-15",tpl:'<tpl for="."><\u003fxml version="{version}" encoding="{encoding}"\u003f><tpl if="documentRoot"><{documentRoot}><tpl for="baseParams"><tpl for="."><{name}>{value}</{name}></tpl></tpl></tpl><tpl if="records.length&gt;1"><{root}></tpl><tpl for="records"><{parent.record}><tpl for="."><{name}>{value}</{name}></tpl></{parent.record}></tpl><tpl if="records.length&gt;1"></{root}></tpl><tpl if="documentRoot"></{documentRoot}></tpl></tpl>',render:function(b,c,a){c=this.toArray(c);b.xmlData=this.tpl.applyTemplate({version:this.xmlVersion,encoding:this.xmlEncoding,documentRoot:(c.length>0||this.forceDocumentRoot===true)?this.documentRoot:false,record:this.meta.record,root:this.root,baseParams:c,records:(Ext.isArray(a[0]))?a:[a]})},createRecord:function(a){return this.toArray(this.toHash(a))},updateRecord:function(a){return this.toArray(this.toHash(a))},destroyRecord:function(b){var a={};a[this.meta.idProperty]=b.id;return this.toArray(a)}});Ext.data.XmlReader=function(a,b){a=a||{};Ext.applyIf(a,{idProperty:a.idProperty||a.idPath||a.id,successProperty:a.successProperty||a.success});Ext.data.XmlReader.superclass.constructor.call(this,a,b||a.fields)};Ext.extend(Ext.data.XmlReader,Ext.data.DataReader,{read:function(a){var b=a.responseXML;if(!b){throw {message:"XmlReader.read: XML Document not available"}}return this.readRecords(b)},readRecords:function(d){this.xmlData=d;var a=d.documentElement||d,c=Ext.DomQuery,g=0,e=true;if(this.meta.totalProperty){g=this.getTotal(a,0)}if(this.meta.successProperty){e=this.getSuccess(a)}var b=this.extractData(c.select(this.meta.record,a),true);return{success:e,records:b,totalRecords:g||b.length}},readResponse:function(g,b){var e=Ext.DomQuery,h=b.responseXML,a=h.documentElement||h;var c=new Ext.data.Response({action:g,success:this.getSuccess(a),message:this.getMessage(a),data:this.extractData(e.select(this.meta.record,a)||e.select(this.meta.root,a),false),raw:h});if(Ext.isEmpty(c.success)){throw new Ext.data.DataReader.Error("successProperty-response",this.meta.successProperty)}if(g===Ext.data.Api.actions.create){var d=Ext.isDefined(c.data);if(d&&Ext.isEmpty(c.data)){throw new Ext.data.JsonReader.Error("root-empty",this.meta.root)}else{if(!d){throw new Ext.data.JsonReader.Error("root-undefined-response",this.meta.root)}}}return c},getSuccess:function(){return true},buildExtractors:function(){if(this.ef){return}var l=this.meta,h=this.recordType,e=h.prototype.fields,k=e.items,j=e.length;if(l.totalProperty){this.getTotal=this.createAccessor(l.totalProperty)}if(l.successProperty){this.getSuccess=this.createAccessor(l.successProperty)}if(l.messageProperty){this.getMessage=this.createAccessor(l.messageProperty)}this.getRoot=function(g){return(!Ext.isEmpty(g[this.meta.record]))?g[this.meta.record]:g[this.meta.root]};if(l.idPath||l.idProperty){var d=this.createAccessor(l.idPath||l.idProperty);this.getId=function(g){var i=d(g)||g.id;return(i===undefined||i==="")?null:i}}else{this.getId=function(){return null}}var c=[];for(var b=0;b<j;b++){e=k[b];var a=(e.mapping!==undefined&&e.mapping!==null)?e.mapping:e.name;c.push(this.createAccessor(a))}this.ef=c},createAccessor:function(){var a=Ext.DomQuery;return function(b){if(Ext.isFunction(b)){return b}switch(b){case this.meta.totalProperty:return function(c,d){return a.selectNumber(b,c,d)};break;case this.meta.successProperty:return function(d,e){var c=a.selectValue(b,d,true);var g=c!==false&&c!=="false";return g};break;default:return function(c,d){return a.selectValue(b,c,d)};break}}}(),extractValues:function(h,d,a){var g,c={};for(var e=0;e<a;e++){g=d[e];var b=this.ef[e](h);c[g.name]=g.convert((b!==undefined)?b:g.defaultValue,h)}return c}});Ext.data.XmlStore=Ext.extend(Ext.data.Store,{constructor:function(a){Ext.data.XmlStore.superclass.constructor.call(this,Ext.apply(a,{reader:new Ext.data.XmlReader(a)}))}});Ext.reg("xmlstore",Ext.data.XmlStore);Ext.data.GroupingStore=Ext.extend(Ext.data.Store,{constructor:function(d){d=d||{};this.hasMultiSort=true;this.multiSortInfo=this.multiSortInfo||{sorters:[]};var e=this.multiSortInfo.sorters,c=d.groupField||this.groupField,b=d.sortInfo||this.sortInfo,a=d.groupDir||this.groupDir;if(c){e.push({field:c,direction:a})}if(b){e.push(b)}Ext.data.GroupingStore.superclass.constructor.call(this,d);this.addEvents("groupchange");this.applyGroupField()},remoteGroup:false,groupOnSort:false,groupDir:"ASC",clearGrouping:function(){this.groupField=false;if(this.remoteGroup){if(this.baseParams){delete this.baseParams.groupBy;delete this.baseParams.groupDir}var a=this.lastOptions;if(a&&a.params){delete a.params.groupBy;delete a.params.groupDir}this.reload()}else{this.sort();this.fireEvent("datachanged",this)}},groupBy:function(e,a,d){d=d?(String(d).toUpperCase()=="DESC"?"DESC":"ASC"):this.groupDir;if(this.groupField==e&&this.groupDir==d&&!a){return}var c=this.multiSortInfo.sorters;if(c.length>0&&c[0].field==this.groupField){c.shift()}this.groupField=e;this.groupDir=d;this.applyGroupField();var b=function(){this.fireEvent("groupchange",this,this.getGroupState())};if(this.groupOnSort){this.sort(e,d);b.call(this);return}if(this.remoteGroup){this.on("load",b,this,{single:true});this.reload()}else{this.sort(c);b.call(this)}},sort:function(h,c){if(this.remoteSort){return Ext.data.GroupingStore.superclass.sort.call(this,h,c)}var g=[];if(Ext.isArray(arguments[0])){g=arguments[0]}else{if(h==undefined){g=this.sortInfo?[this.sortInfo]:[]}else{var e=this.fields.get(h);if(!e){return false}var b=e.name,a=this.sortInfo||null,d=this.sortToggle?this.sortToggle[b]:null;if(!c){if(a&&a.field==b){c=(this.sortToggle[b]||"ASC").toggle("ASC","DESC")}else{c=e.sortDir}}this.sortToggle[b]=c;this.sortInfo={field:b,direction:c};g=[this.sortInfo]}}if(this.groupField){g.unshift({direction:this.groupDir,field:this.groupField})}return this.multiSort.call(this,g,c)},applyGroupField:function(){if(this.remoteGroup){if(!this.baseParams){this.baseParams={}}Ext.apply(this.baseParams,{groupBy:this.groupField,groupDir:this.groupDir});var a=this.lastOptions;if(a&&a.params){a.params.groupDir=this.groupDir;delete a.params.groupBy}}},applyGrouping:function(a){if(this.groupField!==false){this.groupBy(this.groupField,true,this.groupDir);return true}else{if(a===true){this.fireEvent("datachanged",this)}return false}},getGroupState:function(){return this.groupOnSort&&this.groupField!==false?(this.sortInfo?this.sortInfo.field:undefined):this.groupField}});Ext.reg("groupingstore",Ext.data.GroupingStore);Ext.data.DirectProxy=function(a){Ext.apply(this,a);if(typeof this.paramOrder=="string"){this.paramOrder=this.paramOrder.split(/[\s,|]/)}Ext.data.DirectProxy.superclass.constructor.call(this,a)};Ext.extend(Ext.data.DirectProxy,Ext.data.DataProxy,{paramOrder:undefined,paramsAsHash:true,directFn:undefined,doRequest:function(b,c,a,e,k,l,n){var j=[],h=this.api[b]||this.directFn;switch(b){case Ext.data.Api.actions.create:j.push(a.jsonData);break;case Ext.data.Api.actions.read:if(h.directCfg.method.len>0){if(this.paramOrder){for(var d=0,g=this.paramOrder.length;d<g;d++){j.push(a[this.paramOrder[d]])}}else{if(this.paramsAsHash){j.push(a)}}}break;case Ext.data.Api.actions.update:j.push(a.jsonData);break;case Ext.data.Api.actions.destroy:j.push(a.jsonData);break}var m={params:a||{},request:{callback:k,scope:l,arg:n},reader:e};j.push(this.createCallback(b,c,m),this);h.apply(window,j)},createCallback:function(d,a,b){var c=this;return function(e,g){if(!g.status){if(d===Ext.data.Api.actions.read){c.fireEvent("loadexception",c,b,g,null)}c.fireEvent("exception",c,"remote",d,b,g,null);b.request.callback.call(b.request.scope,null,b.request.arg,false);return}if(d===Ext.data.Api.actions.read){c.onRead(d,b,e,g)}else{c.onWrite(d,b,e,g,a)}}},onRead:function(g,e,a,d){var b;try{b=e.reader.readRecords(a)}catch(c){this.fireEvent("loadexception",this,e,d,c);this.fireEvent("exception",this,"response",g,e,d,c);e.request.callback.call(e.request.scope,null,e.request.arg,false);return}this.fireEvent("load",this,d,e.request.arg);e.request.callback.call(e.request.scope,b,e.request.arg,true)},onWrite:function(g,d,a,c,b){var e=d.reader.extractData(d.reader.getRoot(a),false);var h=d.reader.getSuccess(a);h=(h!==false);if(h){this.fireEvent("write",this,g,e,c,b,d.request.arg)}else{this.fireEvent("exception",this,"remote",g,d,a,b)}d.request.callback.call(d.request.scope,e,c,h)}});Ext.data.DirectStore=Ext.extend(Ext.data.Store,{constructor:function(a){var b=Ext.apply({},{batchTransactions:false},a);Ext.data.DirectStore.superclass.constructor.call(this,Ext.apply(b,{proxy:Ext.isDefined(b.proxy)?b.proxy:new Ext.data.DirectProxy(Ext.copyTo({},b,"paramOrder,paramsAsHash,directFn,api")),reader:(!Ext.isDefined(b.reader)&&b.fields)?new Ext.data.JsonReader(Ext.copyTo({},b,"totalProperty,root,idProperty"),b.fields):b.reader}))}});Ext.reg("directstore",Ext.data.DirectStore);Ext.Direct=Ext.extend(Ext.util.Observable,{exceptions:{TRANSPORT:"xhr",PARSE:"parse",LOGIN:"login",SERVER:"exception"},constructor:function(){this.addEvents("event","exception");this.transactions={};this.providers={}},addProvider:function(e){var c=arguments;if(c.length>1){for(var d=0,b=c.length;d<b;d++){this.addProvider(c[d])}return}if(!e.events){e=new Ext.Direct.PROVIDERS[e.type](e)}e.id=e.id||Ext.id();this.providers[e.id]=e;e.on("data",this.onProviderData,this);e.on("exception",this.onProviderException,this);if(!e.isConnected()){e.connect()}return e},getProvider:function(a){return this.providers[a]},removeProvider:function(b){var a=b.id?b:this.providers[b];a.un("data",this.onProviderData,this);a.un("exception",this.onProviderException,this);delete this.providers[a.id];return a},addTransaction:function(a){this.transactions[a.tid]=a;return a},removeTransaction:function(a){delete this.transactions[a.tid||a];return a},getTransaction:function(a){return this.transactions[a.tid||a]},onProviderData:function(d,c){if(Ext.isArray(c)){for(var b=0,a=c.length;b<a;b++){this.onProviderData(d,c[b])}return}if(c.name&&c.name!="event"&&c.name!="exception"){this.fireEvent(c.name,c)}else{if(c.type=="exception"){this.fireEvent("exception",c)}}this.fireEvent("event",c,d)},createEvent:function(a,b){return new Ext.Direct.eventTypes[a.type](Ext.apply(a,b))}});Ext.Direct=new Ext.Direct();Ext.Direct.TID=1;Ext.Direct.PROVIDERS={};Ext.Direct.Transaction=function(a){Ext.apply(this,a);this.tid=++Ext.Direct.TID;this.retryCount=0};Ext.Direct.Transaction.prototype={send:function(){this.provider.queueTransaction(this)},retry:function(){this.retryCount++;this.send()},getProvider:function(){return this.provider}};Ext.Direct.Event=function(a){Ext.apply(this,a)};Ext.Direct.Event.prototype={status:true,getData:function(){return this.data}};Ext.Direct.RemotingEvent=Ext.extend(Ext.Direct.Event,{type:"rpc",getTransaction:function(){return this.transaction||Ext.Direct.getTransaction(this.tid)}});Ext.Direct.ExceptionEvent=Ext.extend(Ext.Direct.RemotingEvent,{status:false,type:"exception"});Ext.Direct.eventTypes={rpc:Ext.Direct.RemotingEvent,event:Ext.Direct.Event,exception:Ext.Direct.ExceptionEvent};Ext.direct.Provider=Ext.extend(Ext.util.Observable,{priority:1,constructor:function(a){Ext.apply(this,a);this.addEvents("connect","disconnect","data","exception");Ext.direct.Provider.superclass.constructor.call(this,a)},isConnected:function(){return false},connect:Ext.emptyFn,disconnect:Ext.emptyFn});Ext.direct.JsonProvider=Ext.extend(Ext.direct.Provider,{parseResponse:function(a){if(!Ext.isEmpty(a.responseText)){if(typeof a.responseText=="object"){return a.responseText}return Ext.decode(a.responseText)}return null},getEvents:function(j){var g=null;try{g=this.parseResponse(j)}catch(h){var d=new Ext.Direct.ExceptionEvent({data:h,xhr:j,code:Ext.Direct.exceptions.PARSE,message:"Error parsing json response: \n\n "+g});return[d]}var c=[];if(Ext.isArray(g)){for(var b=0,a=g.length;b<a;b++){c.push(Ext.Direct.createEvent(g[b]))}}else{c.push(Ext.Direct.createEvent(g))}return c}});Ext.direct.PollingProvider=Ext.extend(Ext.direct.JsonProvider,{priority:3,interval:3000,constructor:function(a){Ext.direct.PollingProvider.superclass.constructor.call(this,a);this.addEvents("beforepoll","poll")},isConnected:function(){return !!this.pollTask},connect:function(){if(this.url&&!this.pollTask){this.pollTask=Ext.TaskMgr.start({run:function(){if(this.fireEvent("beforepoll",this)!==false){if(typeof this.url=="function"){this.url(this.baseParams)}else{Ext.Ajax.request({url:this.url,callback:this.onData,scope:this,params:this.baseParams})}}},interval:this.interval,scope:this});this.fireEvent("connect",this)}else{if(!this.url){throw"Error initializing PollingProvider, no url configured."}}},disconnect:function(){if(this.pollTask){Ext.TaskMgr.stop(this.pollTask);delete this.pollTask;this.fireEvent("disconnect",this)}},onData:function(d,j,h){if(j){var c=this.getEvents(h);for(var b=0,a=c.length;b<a;b++){var g=c[b];this.fireEvent("data",this,g)}}else{var g=new Ext.Direct.ExceptionEvent({data:g,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:h});this.fireEvent("data",this,g)}}});Ext.Direct.PROVIDERS.polling=Ext.direct.PollingProvider;Ext.direct.RemotingProvider=Ext.extend(Ext.direct.JsonProvider,{enableBuffer:10,maxRetries:1,timeout:undefined,constructor:function(a){Ext.direct.RemotingProvider.superclass.constructor.call(this,a);this.addEvents("beforecall","call");this.namespace=(Ext.isString(this.namespace))?Ext.ns(this.namespace):this.namespace||window;this.transactions={};this.callBuffer=[]},initAPI:function(){var h=this.actions;for(var j in h){var d=this.namespace[j]||(this.namespace[j]={}),e=h[j];for(var g=0,b=e.length;g<b;g++){var a=e[g];d[a.name]=this.createMethod(j,a)}}},isConnected:function(){return !!this.connected},connect:function(){if(this.url){this.initAPI();this.connected=true;this.fireEvent("connect",this)}else{if(!this.url){throw"Error initializing RemotingProvider, no url configured."}}},disconnect:function(){if(this.connected){this.connected=false;this.fireEvent("disconnect",this)}},onData:function(a,h,j){if(h){var k=this.getEvents(j);for(var b=0,c=k.length;b<c;b++){var d=k[b],l=this.getTransaction(d);this.fireEvent("data",this,d);if(l){this.doCallback(l,d,true);Ext.Direct.removeTransaction(l)}}}else{var g=[].concat(a.ts);for(var b=0,c=g.length;b<c;b++){var l=this.getTransaction(g[b]);if(l&&l.retryCount<this.maxRetries){l.retry()}else{var d=new Ext.Direct.ExceptionEvent({data:d,transaction:l,code:Ext.Direct.exceptions.TRANSPORT,message:"Unable to connect to the server.",xhr:j});this.fireEvent("data",this,d);if(l){this.doCallback(l,d,false);Ext.Direct.removeTransaction(l)}}}}},getCallData:function(a){return{action:a.action,method:a.method,data:a.data,type:"rpc",tid:a.tid}},doSend:function(d){var g={url:this.url,callback:this.onData,scope:this,ts:d,timeout:this.timeout},b;if(Ext.isArray(d)){b=[];for(var c=0,a=d.length;c<a;c++){b.push(this.getCallData(d[c]))}}else{b=this.getCallData(d)}if(this.enableUrlEncode){var e={};e[Ext.isString(this.enableUrlEncode)?this.enableUrlEncode:"data"]=Ext.encode(b);g.params=e}else{g.jsonData=b}Ext.Ajax.request(g)},combineAndSend:function(){var a=this.callBuffer.length;if(a>0){this.doSend(a==1?this.callBuffer[0]:this.callBuffer);this.callBuffer=[]}},queueTransaction:function(a){if(a.form){this.processForm(a);return}this.callBuffer.push(a);if(this.enableBuffer){if(!this.callTask){this.callTask=new Ext.util.DelayedTask(this.combineAndSend,this)}this.callTask.delay(Ext.isNumber(this.enableBuffer)?this.enableBuffer:10)}else{this.combineAndSend()}},doCall:function(i,a,b){var h=null,e=b[a.len],g=b[a.len+1];if(a.len!==0){h=b.slice(0,a.len)}var d=new Ext.Direct.Transaction({provider:this,args:b,action:i,method:a.name,data:h,cb:g&&Ext.isFunction(e)?e.createDelegate(g):e});if(this.fireEvent("beforecall",this,d,a)!==false){Ext.Direct.addTransaction(d);this.queueTransaction(d);this.fireEvent("call",this,d,a)}},doForm:function(j,b,g,i,e){var d=new Ext.Direct.Transaction({provider:this,action:j,method:b.name,args:[g,i,e],cb:e&&Ext.isFunction(i)?i.createDelegate(e):i,isForm:true});if(this.fireEvent("beforecall",this,d,b)!==false){Ext.Direct.addTransaction(d);var a=String(g.getAttribute("enctype")).toLowerCase()=="multipart/form-data",h={extTID:d.tid,extAction:j,extMethod:b.name,extType:"rpc",extUpload:String(a)};Ext.apply(d,{form:Ext.getDom(g),isUpload:a,params:i&&Ext.isObject(i.params)?Ext.apply(h,i.params):h});this.fireEvent("call",this,d,b);this.processForm(d)}},processForm:function(a){Ext.Ajax.request({url:this.url,params:a.params,callback:this.onData,scope:this,form:a.form,isUpload:a.isUpload,ts:a})},createMethod:function(d,a){var b;if(!a.formHandler){b=function(){this.doCall(d,a,Array.prototype.slice.call(arguments,0))}.createDelegate(this)}else{b=function(e,g,c){this.doForm(d,a,e,g,c)}.createDelegate(this)}b.directCfg={action:d,method:a};return b},getTransaction:function(a){return a&&a.tid?Ext.Direct.getTransaction(a.tid):null},doCallback:function(c,g){var d=g.status?"success":"failure";if(c&&c.cb){var b=c.cb,a=Ext.isDefined(g.result)?g.result:g.data;if(Ext.isFunction(b)){b(a,g)}else{Ext.callback(b[d],b.scope,[a,g]);Ext.callback(b.callback,b.scope,[a,g])}}}});Ext.Direct.PROVIDERS.remoting=Ext.direct.RemotingProvider;Ext.Resizable=Ext.extend(Ext.util.Observable,{constructor:function(d,e){this.el=Ext.get(d);if(e&&e.wrap){e.resizeChild=this.el;this.el=this.el.wrap(typeof e.wrap=="object"?e.wrap:{cls:"xresizable-wrap"});this.el.id=this.el.dom.id=e.resizeChild.id+"-rzwrap";this.el.setStyle("overflow","hidden");this.el.setPositioning(e.resizeChild.getPositioning());e.resizeChild.clearPositioning();if(!e.width||!e.height){var g=e.resizeChild.getSize();this.el.setSize(g.width,g.height)}if(e.pinned&&!e.adjustments){e.adjustments="auto"}}this.proxy=this.el.createProxy({tag:"div",cls:"x-resizable-proxy",id:this.el.id+"-rzproxy"},Ext.getBody());this.proxy.unselectable();this.proxy.enableDisplayMode("block");Ext.apply(this,e);if(this.pinned){this.disableTrackOver=true;this.el.addClass("x-resizable-pinned")}var k=this.el.getStyle("position");if(k!="absolute"&&k!="fixed"){this.el.setStyle("position","relative")}if(!this.handles){this.handles="s,e,se";if(this.multiDirectional){this.handles+=",n,w"}}if(this.handles=="all"){this.handles="n s e w ne nw se sw"}var o=this.handles.split(/\s*?[,;]\s*?| /);var c=Ext.Resizable.positions;for(var j=0,l=o.length;j<l;j++){if(o[j]&&c[o[j]]){var n=c[o[j]];this[n]=new Ext.Resizable.Handle(this,n,this.disableTrackOver,this.transparent,this.handleCls)}}this.corner=this.southeast;if(this.handles.indexOf("n")!=-1||this.handles.indexOf("w")!=-1){this.updateBox=true}this.activeHandle=null;if(this.resizeChild){if(typeof this.resizeChild=="boolean"){this.resizeChild=Ext.get(this.el.dom.firstChild,true)}else{this.resizeChild=Ext.get(this.resizeChild,true)}}if(this.adjustments=="auto"){var b=this.resizeChild;var m=this.west,h=this.east,a=this.north,o=this.south;if(b&&(m||a)){b.position("relative");b.setLeft(m?m.el.getWidth():0);b.setTop(a?a.el.getHeight():0)}this.adjustments=[(h?-h.el.getWidth():0)+(m?-m.el.getWidth():0),(a?-a.el.getHeight():0)+(o?-o.el.getHeight():0)-1]}if(this.draggable){this.dd=this.dynamic?this.el.initDD(null):this.el.initDDProxy(null,{dragElId:this.proxy.id});this.dd.setHandleElId(this.resizeChild?this.resizeChild.id:this.el.id);if(this.constrainTo){this.dd.constrainTo(this.constrainTo)}}this.addEvents("beforeresize","resize");if(this.width!==null&&this.height!==null){this.resizeTo(this.width,this.height)}else{this.updateChildSize()}if(Ext.isIE){this.el.dom.style.zoom=1}Ext.Resizable.superclass.constructor.call(this)},adjustments:[0,0],animate:false,disableTrackOver:false,draggable:false,duration:0.35,dynamic:false,easing:"easeOutStrong",enabled:true,handles:false,multiDirectional:false,height:null,width:null,heightIncrement:0,widthIncrement:0,minHeight:5,minWidth:5,maxHeight:10000,maxWidth:10000,minX:0,minY:0,pinned:false,preserveRatio:false,resizeChild:false,transparent:false,resizeTo:function(b,a){this.el.setSize(b,a);this.updateChildSize();this.fireEvent("resize",this,b,a,null)},startSizing:function(c,b){this.fireEvent("beforeresize",this,c);if(this.enabled){if(!this.overlay){this.overlay=this.el.createProxy({tag:"div",cls:"x-resizable-overlay",html:"&#160;"},Ext.getBody());this.overlay.unselectable();this.overlay.enableDisplayMode("block");this.overlay.on({scope:this,mousemove:this.onMouseMove,mouseup:this.onMouseUp})}this.overlay.setStyle("cursor",b.el.getStyle("cursor"));this.resizing=true;this.startBox=this.el.getBox();this.startPoint=c.getXY();this.offsets=[(this.startBox.x+this.startBox.width)-this.startPoint[0],(this.startBox.y+this.startBox.height)-this.startPoint[1]];this.overlay.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.overlay.show();if(this.constrainTo){var a=Ext.get(this.constrainTo);this.resizeRegion=a.getRegion().adjust(a.getFrameWidth("t"),a.getFrameWidth("l"),-a.getFrameWidth("b"),-a.getFrameWidth("r"))}this.proxy.setStyle("visibility","hidden");this.proxy.show();this.proxy.setBox(this.startBox);if(!this.dynamic){this.proxy.setStyle("visibility","visible")}}},onMouseDown:function(a,b){if(this.enabled){b.stopEvent();this.activeHandle=a;this.startSizing(b,a)}},onMouseUp:function(b){this.activeHandle=null;var a=this.resizeElement();this.resizing=false;this.handleOut();this.overlay.hide();this.proxy.hide();this.fireEvent("resize",this,a.width,a.height,b)},updateChildSize:function(){if(this.resizeChild){var d=this.el;var e=this.resizeChild;var c=this.adjustments;if(d.dom.offsetWidth){var a=d.getSize(true);e.setSize(a.width+c[0],a.height+c[1])}if(Ext.isIE){setTimeout(function(){if(d.dom.offsetWidth){var g=d.getSize(true);e.setSize(g.width+c[0],g.height+c[1])}},10)}}},snap:function(c,e,b){if(!e||!c){return c}var d=c;var a=c%e;if(a>0){if(a>(e/2)){d=c+(e-a)}else{d=c-a}}return Math.max(b,d)},resizeElement:function(){var a=this.proxy.getBox();if(this.updateBox){this.el.setBox(a,false,this.animate,this.duration,null,this.easing)}else{this.el.setSize(a.width,a.height,this.animate,this.duration,null,this.easing)}this.updateChildSize();if(!this.dynamic){this.proxy.hide()}if(this.draggable&&this.constrainTo){this.dd.resetConstraints();this.dd.constrainTo(this.constrainTo)}return a},constrain:function(b,c,a,d){if(b-c<a){c=b-a}else{if(b-c>d){c=b-d}}return c},onMouseMove:function(z){if(this.enabled&&this.activeHandle){try{if(this.resizeRegion&&!this.resizeRegion.contains(z.getPoint())){return}var t=this.curSize||this.startBox,l=this.startBox.x,k=this.startBox.y,c=l,b=k,m=t.width,u=t.height,d=m,o=u,n=this.minWidth,A=this.minHeight,s=this.maxWidth,D=this.maxHeight,i=this.widthIncrement,a=this.heightIncrement,B=z.getXY(),r=-(this.startPoint[0]-Math.max(this.minX,B[0])),p=-(this.startPoint[1]-Math.max(this.minY,B[1])),j=this.activeHandle.position,E,g;switch(j){case"east":m+=r;m=Math.min(Math.max(n,m),s);break;case"south":u+=p;u=Math.min(Math.max(A,u),D);break;case"southeast":m+=r;u+=p;m=Math.min(Math.max(n,m),s);u=Math.min(Math.max(A,u),D);break;case"north":p=this.constrain(u,p,A,D);k+=p;u-=p;break;case"west":r=this.constrain(m,r,n,s);l+=r;m-=r;break;case"northeast":m+=r;m=Math.min(Math.max(n,m),s);p=this.constrain(u,p,A,D);k+=p;u-=p;break;case"northwest":r=this.constrain(m,r,n,s);p=this.constrain(u,p,A,D);k+=p;u-=p;l+=r;m-=r;break;case"southwest":r=this.constrain(m,r,n,s);u+=p;u=Math.min(Math.max(A,u),D);l+=r;m-=r;break}var q=this.snap(m,i,n);var C=this.snap(u,a,A);if(q!=m||C!=u){switch(j){case"northeast":k-=C-u;break;case"north":k-=C-u;break;case"southwest":l-=q-m;break;case"west":l-=q-m;break;case"northwest":l-=q-m;k-=C-u;break}m=q;u=C}if(this.preserveRatio){switch(j){case"southeast":case"east":u=o*(m/d);u=Math.min(Math.max(A,u),D);m=d*(u/o);break;case"south":m=d*(u/o);m=Math.min(Math.max(n,m),s);u=o*(m/d);break;case"northeast":m=d*(u/o);m=Math.min(Math.max(n,m),s);u=o*(m/d);break;case"north":E=m;m=d*(u/o);m=Math.min(Math.max(n,m),s);u=o*(m/d);l+=(E-m)/2;break;case"southwest":u=o*(m/d);u=Math.min(Math.max(A,u),D);E=m;m=d*(u/o);l+=E-m;break;case"west":g=u;u=o*(m/d);u=Math.min(Math.max(A,u),D);k+=(g-u)/2;E=m;m=d*(u/o);l+=E-m;break;case"northwest":E=m;g=u;u=o*(m/d);u=Math.min(Math.max(A,u),D);m=d*(u/o);k+=g-u;l+=E-m;break}}this.proxy.setBounds(l,k,m,u);if(this.dynamic){this.resizeElement()}}catch(v){}}},handleOver:function(){if(this.enabled){this.el.addClass("x-resizable-over")}},handleOut:function(){if(!this.resizing){this.el.removeClass("x-resizable-over")}},getEl:function(){return this.el},getResizeChild:function(){return this.resizeChild},destroy:function(b){Ext.destroy(this.dd,this.overlay,this.proxy);this.overlay=null;this.proxy=null;var c=Ext.Resizable.positions;for(var a in c){if(typeof c[a]!="function"&&this[c[a]]){this[c[a]].destroy()}}if(b){this.el.update("");Ext.destroy(this.el);this.el=null}this.purgeListeners()},syncHandleHeight:function(){var a=this.el.getHeight(true);if(this.west){this.west.el.setHeight(a)}if(this.east){this.east.el.setHeight(a)}}});Ext.Resizable.positions={n:"north",s:"south",e:"east",w:"west",se:"southeast",sw:"southwest",nw:"northwest",ne:"northeast"};Ext.Resizable.Handle=Ext.extend(Object,{constructor:function(d,g,c,e,a){if(!this.tpl){var b=Ext.DomHelper.createTemplate({tag:"div",cls:"x-resizable-handle x-resizable-handle-{0}"});b.compile();Ext.Resizable.Handle.prototype.tpl=b}this.position=g;this.rz=d;this.el=this.tpl.append(d.el.dom,[this.position],true);this.el.unselectable();if(e){this.el.setOpacity(0)}if(!Ext.isEmpty(a)){this.el.addClass(a)}this.el.on("mousedown",this.onMouseDown,this);if(!c){this.el.on({scope:this,mouseover:this.onMouseOver,mouseout:this.onMouseOut})}},afterResize:function(a){},onMouseDown:function(a){this.rz.onMouseDown(this,a)},onMouseOver:function(a){this.rz.handleOver(this,a)},onMouseOut:function(a){this.rz.handleOut(this,a)},destroy:function(){Ext.destroy(this.el);this.el=null}});Ext.Window=Ext.extend(Ext.Panel,{baseCls:"x-window",resizable:true,draggable:true,closable:true,closeAction:"close",constrain:false,constrainHeader:false,plain:false,minimizable:false,maximizable:false,minHeight:100,minWidth:200,expandOnShow:true,showAnimDuration:0.25,hideAnimDuration:0.25,collapsible:false,initHidden:undefined,hidden:true,elements:"header,body",frame:true,floating:true,initComponent:function(){this.initTools();Ext.Window.superclass.initComponent.call(this);this.addEvents("resize","maximize","minimize","restore");if(Ext.isDefined(this.initHidden)){this.hidden=this.initHidden}if(this.hidden===false){this.hidden=true;this.show()}},getState:function(){return Ext.apply(Ext.Window.superclass.getState.call(this)||{},this.getBox(true))},onRender:function(b,a){Ext.Window.superclass.onRender.call(this,b,a);if(this.plain){this.el.addClass("x-window-plain")}this.focusEl=this.el.createChild({tag:"a",href:"#",cls:"x-dlg-focus",tabIndex:"-1",html:"&#160;"});this.focusEl.swallowEvent("click",true);this.proxy=this.el.createProxy("x-window-proxy");this.proxy.enableDisplayMode("block");if(this.modal){this.mask=this.container.createChild({cls:"ext-el-mask"},this.el.dom);this.mask.enableDisplayMode("block");this.mask.hide();this.mon(this.mask,"click",this.focus,this)}if(this.maximizable){this.mon(this.header,"dblclick",this.toggleMaximize,this)}},initEvents:function(){Ext.Window.superclass.initEvents.call(this);if(this.animateTarget){this.setAnimateTarget(this.animateTarget)}if(this.resizable){this.resizer=new Ext.Resizable(this.el,{minWidth:this.minWidth,minHeight:this.minHeight,handles:this.resizeHandles||"all",pinned:true,resizeElement:this.resizerAction,handleCls:"x-window-handle"});this.resizer.window=this;this.mon(this.resizer,"beforeresize",this.beforeResize,this)}if(this.draggable){this.header.addClass("x-window-draggable")}this.mon(this.el,"mousedown",this.toFront,this);this.manager=this.manager||Ext.WindowMgr;this.manager.register(this);if(this.maximized){this.maximized=false;this.maximize()}if(this.closable){var a=this.getKeyMap();a.on(27,this.onEsc,this);a.disable()}},initDraggable:function(){this.dd=new Ext.Window.DD(this)},onEsc:function(a,b){if(this.activeGhost){this.unghost()}b.stopEvent();this[this.closeAction]()},beforeDestroy:function(){if(this.rendered){this.hide();this.clearAnchor();Ext.destroy(this.focusEl,this.resizer,this.dd,this.proxy,this.mask)}Ext.Window.superclass.beforeDestroy.call(this)},onDestroy:function(){if(this.manager){this.manager.unregister(this)}Ext.Window.superclass.onDestroy.call(this)},initTools:function(){if(this.minimizable){this.addTool({id:"minimize",handler:this.minimize.createDelegate(this,[])})}if(this.maximizable){this.addTool({id:"maximize",handler:this.maximize.createDelegate(this,[])});this.addTool({id:"restore",handler:this.restore.createDelegate(this,[]),hidden:true})}if(this.closable){this.addTool({id:"close",handler:this[this.closeAction].createDelegate(this,[])})}},resizerAction:function(){var a=this.proxy.getBox();this.proxy.hide();this.window.handleResize(a);return a},beforeResize:function(){this.resizer.minHeight=Math.max(this.minHeight,this.getFrameHeight()+40);this.resizer.minWidth=Math.max(this.minWidth,this.getFrameWidth()+40);this.resizeBox=this.el.getBox()},updateHandles:function(){if(Ext.isIE&&this.resizer){this.resizer.syncHandleHeight();this.el.repaint()}},handleResize:function(b){var a=this.resizeBox;if(a.x!=b.x||a.y!=b.y){this.updateBox(b)}else{this.setSize(b);if(Ext.isIE6&&Ext.isStrict){this.doLayout()}}this.focus();this.updateHandles();this.saveState()},focus:function(){var e=this.focusEl,a=this.defaultButton,c=typeof a,d,b;if(Ext.isDefined(a)){if(Ext.isNumber(a)&&this.fbar){e=this.fbar.items.get(a)}else{if(Ext.isString(a)){e=Ext.getCmp(a)}else{e=a}}d=e.getEl();b=Ext.getDom(this.container);if(d&&b){if(b!=document.body&&!Ext.lib.Region.getRegion(b).contains(Ext.lib.Region.getRegion(d.dom))){return}}}e=e||this.focusEl;e.focus.defer(10,e)},setAnimateTarget:function(a){a=Ext.get(a);this.animateTarget=a},beforeShow:function(){delete this.el.lastXY;delete this.el.lastLT;if(this.x===undefined||this.y===undefined){var a=this.el.getAlignToXY(this.container,"c-c");var b=this.el.translatePoints(a[0],a[1]);this.x=this.x===undefined?b.left:this.x;this.y=this.y===undefined?b.top:this.y}this.el.setLeftTop(this.x,this.y);if(this.expandOnShow){this.expand(false)}if(this.modal){Ext.getBody().addClass("x-body-masked");this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true));this.mask.show()}},show:function(c,a,b){if(!this.rendered){this.render(Ext.getBody())}if(this.hidden===false){this.toFront();return this}if(this.fireEvent("beforeshow",this)===false){return this}if(a){this.on("show",a,b,{single:true})}this.hidden=false;if(Ext.isDefined(c)){this.setAnimateTarget(c)}this.beforeShow();if(this.animateTarget){this.animShow()}else{this.afterShow()}return this},afterShow:function(b){if(this.isDestroyed){return false}this.proxy.hide();this.el.setStyle("display","block");this.el.show();if(this.maximized){this.fitContainer()}if(Ext.isMac&&Ext.isGecko2){this.cascade(this.setAutoScroll)}if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.onWindowResize(this.onWindowResize,this)}this.doConstrain();this.doLayout();if(this.keyMap){this.keyMap.enable()}this.toFront();this.updateHandles();if(b&&(Ext.isIE||Ext.isWebKit)){var a=this.getSize();this.onResize(a.width,a.height)}this.onShow();this.fireEvent("show",this)},animShow:function(){this.proxy.show();this.proxy.setBox(this.animateTarget.getBox());this.proxy.setOpacity(0);var a=this.getBox();this.el.setStyle("display","none");this.proxy.shift(Ext.apply(a,{callback:this.afterShow.createDelegate(this,[true],false),scope:this,easing:"easeNone",duration:this.showAnimDuration,opacity:0.5}))},hide:function(c,a,b){if(this.hidden||this.fireEvent("beforehide",this)===false){return this}if(a){this.on("hide",a,b,{single:true})}this.hidden=true;if(c!==undefined){this.setAnimateTarget(c)}if(this.modal){this.mask.hide();Ext.getBody().removeClass("x-body-masked")}if(this.animateTarget){this.animHide()}else{this.el.hide();this.afterHide()}return this},afterHide:function(){this.proxy.hide();if(this.monitorResize||this.modal||this.constrain||this.constrainHeader){Ext.EventManager.removeResizeListener(this.onWindowResize,this)}if(this.keyMap){this.keyMap.disable()}this.onHide();this.fireEvent("hide",this)},animHide:function(){this.proxy.setOpacity(0.5);this.proxy.show();var a=this.getBox(false);this.proxy.setBox(a);this.el.hide();this.proxy.shift(Ext.apply(this.animateTarget.getBox(),{callback:this.afterHide,scope:this,duration:this.hideAnimDuration,easing:"easeNone",opacity:0}))},onShow:Ext.emptyFn,onHide:Ext.emptyFn,onWindowResize:function(){if(this.maximized){this.fitContainer()}if(this.modal){this.mask.setSize("100%","100%");var a=this.mask.dom.offsetHeight;this.mask.setSize(Ext.lib.Dom.getViewWidth(true),Ext.lib.Dom.getViewHeight(true))}this.doConstrain()},doConstrain:function(){if(this.constrain||this.constrainHeader){var b;if(this.constrain){b={right:this.el.shadowOffset,left:this.el.shadowOffset,bottom:this.el.shadowOffset}}else{var a=this.getSize();b={right:-(a.width-100),bottom:-(a.height-25+this.el.getConstrainOffset())}}var c=this.el.getConstrainToXY(this.container,true,b);if(c){this.setPosition(c[0],c[1])}}},ghost:function(a){var c=this.createGhost(a);var b=this.getBox(true);c.setLeftTop(b.x,b.y);c.setWidth(b.width);this.el.hide();this.activeGhost=c;return c},unghost:function(b,a){if(!this.activeGhost){return}if(b!==false){this.el.show();this.focus.defer(10,this);if(Ext.isMac&&Ext.isGecko2){this.cascade(this.setAutoScroll)}}if(a!==false){this.setPosition(this.activeGhost.getLeft(true),this.activeGhost.getTop(true))}this.activeGhost.hide();this.activeGhost.remove();delete this.activeGhost},minimize:function(){this.fireEvent("minimize",this);return this},close:function(){if(this.fireEvent("beforeclose",this)!==false){if(this.hidden){this.doClose()}else{this.hide(null,this.doClose,this)}}},doClose:function(){this.fireEvent("close",this);this.destroy()},maximize:function(){if(!this.maximized){this.expand(false);this.restoreSize=this.getSize();this.restorePos=this.getPosition(true);if(this.maximizable){this.tools.maximize.hide();this.tools.restore.show()}this.maximized=true;this.el.disableShadow();if(this.dd){this.dd.lock()}if(this.collapsible){this.tools.toggle.hide()}this.el.addClass("x-window-maximized");this.container.addClass("x-window-maximized-ct");this.setPosition(0,0);this.fitContainer();this.fireEvent("maximize",this)}return this},restore:function(){if(this.maximized){var a=this.tools;this.el.removeClass("x-window-maximized");if(a.restore){a.restore.hide()}if(a.maximize){a.maximize.show()}this.setPosition(this.restorePos[0],this.restorePos[1]);this.setSize(this.restoreSize.width,this.restoreSize.height);delete this.restorePos;delete this.restoreSize;this.maximized=false;this.el.enableShadow(true);if(this.dd){this.dd.unlock()}if(this.collapsible&&a.toggle){a.toggle.show()}this.container.removeClass("x-window-maximized-ct");this.doConstrain();this.fireEvent("restore",this)}return this},toggleMaximize:function(){return this[this.maximized?"restore":"maximize"]()},fitContainer:function(){var a=this.container.getViewSize(false);this.setSize(a.width,a.height)},setZIndex:function(a){if(this.modal){this.mask.setStyle("z-index",a)}this.el.setZIndex(++a);a+=5;if(this.resizer){this.resizer.proxy.setStyle("z-index",++a)}this.lastZIndex=a},alignTo:function(b,a,c){var d=this.el.getAlignToXY(b,a,c);this.setPagePosition(d[0],d[1]);return this},anchorTo:function(c,e,d,b){this.clearAnchor();this.anchorTarget={el:c,alignment:e,offsets:d};Ext.EventManager.onWindowResize(this.doAnchor,this);var a=typeof b;if(a!="undefined"){Ext.EventManager.on(window,"scroll",this.doAnchor,this,{buffer:a=="number"?b:50})}return this.doAnchor()},doAnchor:function(){var a=this.anchorTarget;this.alignTo(a.el,a.alignment,a.offsets);return this},clearAnchor:function(){if(this.anchorTarget){Ext.EventManager.removeResizeListener(this.doAnchor,this);Ext.EventManager.un(window,"scroll",this.doAnchor,this);delete this.anchorTarget}return this},toFront:function(a){if(this.manager.bringToFront(this)){if(!a||!a.getTarget().focus){this.focus()}}return this},setActive:function(a){if(a){if(!this.maximized){this.el.enableShadow(true)}this.fireEvent("activate",this)}else{this.el.disableShadow();this.fireEvent("deactivate",this)}},toBack:function(){this.manager.sendToBack(this);return this},center:function(){var a=this.el.getAlignToXY(this.container,"c-c");this.setPagePosition(a[0],a[1]);return this}});Ext.reg("window",Ext.Window);Ext.Window.DD=Ext.extend(Ext.dd.DD,{constructor:function(a){this.win=a;Ext.Window.DD.superclass.constructor.call(this,a.el.id,"WindowDD-"+a.id);this.setHandleElId(a.header.id);this.scroll=false},moveOnly:true,headerOffsets:[100,25],startDrag:function(){var a=this.win;this.proxy=a.ghost(a.initialConfig.cls);if(a.constrain!==false){var c=a.el.shadowOffset;this.constrainTo(a.container,{right:c,left:c,bottom:c})}else{if(a.constrainHeader!==false){var b=this.proxy.getSize();this.constrainTo(a.container,{right:-(b.width-this.headerOffsets[0]),bottom:-(b.height-this.headerOffsets[1])})}}},b4Drag:Ext.emptyFn,onDrag:function(a){this.alignElWithMouse(this.proxy,a.getPageX(),a.getPageY())},endDrag:function(a){this.win.unghost();this.win.saveState()}});Ext.WindowGroup=function(){var g={};var d=[];var e=null;var c=function(j,i){return(!j._lastAccess||j._lastAccess<i._lastAccess)?-1:1};var h=function(){var l=d,j=l.length;if(j>0){l.sort(c);var k=l[0].manager.zseed;for(var m=0;m<j;m++){var n=l[m];if(n&&!n.hidden){n.setZIndex(k+(m*10))}}}a()};var b=function(i){if(i!=e){if(e){e.setActive(false)}e=i;if(i){i.setActive(true)}}};var a=function(){for(var j=d.length-1;j>=0;--j){if(!d[j].hidden){b(d[j]);return}}b(null)};return{zseed:9000,register:function(i){if(i.manager){i.manager.unregister(i)}i.manager=this;g[i.id]=i;d.push(i);i.on("hide",a)},unregister:function(i){delete i.manager;delete g[i.id];i.un("hide",a);d.remove(i)},get:function(i){return typeof i=="object"?i:g[i]},bringToFront:function(i){i=this.get(i);if(i!=e){i._lastAccess=new Date().getTime();h();return true}return false},sendToBack:function(i){i=this.get(i);i._lastAccess=-(new Date().getTime());h();return i},hideAll:function(){for(var i in g){if(g[i]&&typeof g[i]!="function"&&g[i].isVisible()){g[i].hide()}}},getActive:function(){return e},getBy:function(l,k){var m=[];for(var j=d.length-1;j>=0;--j){var n=d[j];if(l.call(k||n,n)!==false){m.push(n)}}return m},each:function(j,i){for(var k in g){if(g[k]&&typeof g[k]!="function"){if(j.call(i||g[k],g[k])===false){return}}}}}};Ext.WindowMgr=new Ext.WindowGroup();Ext.MessageBox=function(){var u,b,q,t,h,l,s,a,n,p,j,g,r,v,o,i="",d="",m=["ok","yes","no","cancel"];var c=function(x){r[x].blur();if(u.isVisible()){u.hide();w();Ext.callback(b.fn,b.scope||window,[x,v.dom.value,b],1)}};var w=function(){if(b&&b.cls){u.el.removeClass(b.cls)}n.reset()};var e=function(z,x,y){if(b&&b.closable!==false){u.hide();w()}if(y){y.stopEvent()}};var k=function(x){var z=0,y;if(!x){Ext.each(m,function(A){r[A].hide()});return z}u.footer.dom.style.display="";Ext.iterate(r,function(A,B){y=x[A];if(y){B.show();B.setText(Ext.isString(y)?y:Ext.MessageBox.buttonText[A]);z+=B.getEl().getWidth()+15}else{B.hide()}});return z};return{getDialog:function(x){if(!u){var z=[];r={};Ext.each(m,function(A){z.push(r[A]=new Ext.Button({text:this.buttonText[A],handler:c.createCallback(A),hideMode:"offsets"}))},this);u=new Ext.Window({autoCreate:true,title:x,resizable:false,constrain:true,constrainHeader:true,minimizable:false,maximizable:false,stateful:false,modal:true,shim:true,buttonAlign:"center",width:400,height:100,minHeight:80,plain:true,footer:true,closable:true,close:function(){if(b&&b.buttons&&b.buttons.no&&!b.buttons.cancel){c("no")}else{c("cancel")}},fbar:new Ext.Toolbar({items:z,enableOverflow:false})});u.render(document.body);u.getEl().addClass("x-window-dlg");q=u.mask;h=u.body.createChild({html:'<div class="ext-mb-icon"></div><div class="ext-mb-content"><span class="ext-mb-text"></span><br /><div class="ext-mb-fix-cursor"><input type="text" class="ext-mb-input" /><textarea class="ext-mb-textarea"></textarea></div></div>'});j=Ext.get(h.dom.firstChild);var y=h.dom.childNodes[1];l=Ext.get(y.firstChild);s=Ext.get(y.childNodes[2].firstChild);s.enableDisplayMode();s.addKeyListener([10,13],function(){if(u.isVisible()&&b&&b.buttons){if(b.buttons.ok){c("ok")}else{if(b.buttons.yes){c("yes")}}}});a=Ext.get(y.childNodes[2].childNodes[1]);a.enableDisplayMode();n=new Ext.ProgressBar({renderTo:h});h.createChild({cls:"x-clear"})}return u},updateText:function(A){if(!u.isVisible()&&!b.width){u.setSize(this.maxWidth,100)}l.update(A?A+" ":"&#160;");var y=d!=""?(j.getWidth()+j.getMargins("lr")):0,C=l.getWidth()+l.getMargins("lr"),z=u.getFrameWidth("lr"),B=u.body.getFrameWidth("lr"),x;x=Math.max(Math.min(b.width||y+C+z+B,b.maxWidth||this.maxWidth),Math.max(b.minWidth||this.minWidth,o||0));if(b.prompt===true){v.setWidth(x-y-z-B)}if(b.progress===true||b.wait===true){n.setSize(x-y-z-B)}if(Ext.isIE&&x==o){x+=4}l.update(A||"&#160;");u.setSize(x,"auto").center();return this},updateProgress:function(y,x,z){n.updateProgress(y,x);if(z){this.updateText(z)}return this},isVisible:function(){return u&&u.isVisible()},hide:function(){var x=u?u.activeGhost:null;if(this.isVisible()||x){u.hide();w();if(x){u.unghost(false,false)}}return this},show:function(A){if(this.isVisible()){this.hide()}b=A;var B=this.getDialog(b.title||"&#160;");B.setTitle(b.title||"&#160;");var x=(b.closable!==false&&b.progress!==true&&b.wait!==true);B.tools.close.setDisplayed(x);v=s;b.prompt=b.prompt||(b.multiline?true:false);if(b.prompt){if(b.multiline){s.hide();a.show();a.setHeight(Ext.isNumber(b.multiline)?b.multiline:this.defaultTextHeight);v=a}else{s.show();a.hide()}}else{s.hide();a.hide()}v.dom.value=b.value||"";if(b.prompt){B.focusEl=v}else{var z=b.buttons;var y=null;if(z&&z.ok){y=r.ok}else{if(z&&z.yes){y=r.yes}}if(y){B.focusEl=y}}if(Ext.isDefined(b.iconCls)){B.setIconClass(b.iconCls)}this.setIcon(Ext.isDefined(b.icon)?b.icon:i);o=k(b.buttons);n.setVisible(b.progress===true||b.wait===true);this.updateProgress(0,b.progressText);this.updateText(b.msg);if(b.cls){B.el.addClass(b.cls)}B.proxyDrag=b.proxyDrag===true;B.modal=b.modal!==false;B.mask=b.modal!==false?q:false;if(!B.isVisible()){document.body.appendChild(u.el.dom);B.setAnimateTarget(b.animEl);B.on("show",function(){if(x===true){B.keyMap.enable()}else{B.keyMap.disable()}},this,{single:true});B.show(b.animEl)}if(b.wait===true){n.wait(b.waitConfig)}return this},setIcon:function(x){if(!u){i=x;return}i=undefined;if(x&&x!=""){j.removeClass("x-hidden");j.replaceClass(d,x);h.addClass("x-dlg-icon");d=x}else{j.replaceClass(d,"x-hidden");h.removeClass("x-dlg-icon");d=""}return this},progress:function(z,y,x){this.show({title:z,msg:y,buttons:false,progress:true,closable:false,minWidth:this.minProgressWidth,progressText:x});return this},wait:function(z,y,x){this.show({title:y,msg:z,buttons:false,closable:false,wait:true,modal:true,minWidth:this.minProgressWidth,waitConfig:x});return this},alert:function(A,z,y,x){this.show({title:A,msg:z,buttons:this.OK,fn:y,scope:x,minWidth:this.minWidth});return this},confirm:function(A,z,y,x){this.show({title:A,msg:z,buttons:this.YESNO,fn:y,scope:x,icon:this.QUESTION,minWidth:this.minWidth});return this},prompt:function(C,B,z,y,x,A){this.show({title:C,msg:B,buttons:this.OKCANCEL,fn:z,minWidth:this.minPromptWidth,scope:y,prompt:true,multiline:x,value:A});return this},OK:{ok:true},CANCEL:{cancel:true},OKCANCEL:{ok:true,cancel:true},YESNO:{yes:true,no:true},YESNOCANCEL:{yes:true,no:true,cancel:true},INFO:"ext-mb-info",WARNING:"ext-mb-warning",QUESTION:"ext-mb-question",ERROR:"ext-mb-error",defaultTextHeight:75,maxWidth:600,minWidth:100,minProgressWidth:250,minPromptWidth:250,buttonText:{ok:"OK",cancel:"Cancel",yes:"Yes",no:"No"}}}();Ext.Msg=Ext.MessageBox;Ext.dd.PanelProxy=Ext.extend(Object,{constructor:function(a,b){this.panel=a;this.id=this.panel.id+"-ddproxy";Ext.apply(this,b)},insertProxy:true,setStatus:Ext.emptyFn,reset:Ext.emptyFn,update:Ext.emptyFn,stop:Ext.emptyFn,sync:Ext.emptyFn,getEl:function(){return this.ghost},getGhost:function(){return this.ghost},getProxy:function(){return this.proxy},hide:function(){if(this.ghost){if(this.proxy){this.proxy.remove();delete this.proxy}this.panel.el.dom.style.display="";this.ghost.remove();delete this.ghost}},show:function(){if(!this.ghost){this.ghost=this.panel.createGhost(this.panel.initialConfig.cls,undefined,Ext.getBody());this.ghost.setXY(this.panel.el.getXY());if(this.insertProxy){this.proxy=this.panel.el.insertSibling({cls:"x-panel-dd-spacer"});this.proxy.setSize(this.panel.getSize())}this.panel.el.dom.style.display="none"}},repair:function(b,c,a){this.hide();if(typeof c=="function"){c.call(a||this)}},moveProxy:function(a,b){if(this.proxy){a.insertBefore(this.proxy.dom,b)}}});Ext.Panel.DD=Ext.extend(Ext.dd.DragSource,{constructor:function(b,a){this.panel=b;this.dragData={panel:b};this.proxy=new Ext.dd.PanelProxy(b,a);Ext.Panel.DD.superclass.constructor.call(this,b.el,a);var d=b.header,c=b.body;if(d){this.setHandleElId(d.id);c=b.header}c.setStyle("cursor","move");this.scroll=false},showFrame:Ext.emptyFn,startDrag:Ext.emptyFn,b4StartDrag:function(a,b){this.proxy.show()},b4MouseDown:function(b){var a=b.getPageX(),c=b.getPageY();this.autoOffset(a,c)},onInitDrag:function(a,b){this.onStartDrag(a,b);return true},createFrame:Ext.emptyFn,getDragEl:function(a){return this.proxy.ghost.dom},endDrag:function(a){this.proxy.hide();this.panel.saveState()},autoOffset:function(a,b){a-=this.startPageX;b-=this.startPageY;this.setDelta(a,b)}});Ext.state.Provider=Ext.extend(Ext.util.Observable,{constructor:function(){this.addEvents("statechange");this.state={};Ext.state.Provider.superclass.constructor.call(this)},get:function(b,a){return typeof this.state[b]=="undefined"?a:this.state[b]},clear:function(a){delete this.state[a];this.fireEvent("statechange",this,a,null)},set:function(a,b){this.state[a]=b;this.fireEvent("statechange",this,a,b)},decodeValue:function(b){var e=/^(a|n|d|b|s|o|e)\:(.*)$/,h=e.exec(unescape(b)),d,c,a,g;if(!h||!h[1]){return}c=h[1];a=h[2];switch(c){case"e":return null;case"n":return parseFloat(a);case"d":return new Date(Date.parse(a));case"b":return(a=="1");case"a":d=[];if(a!=""){Ext.each(a.split("^"),function(i){d.push(this.decodeValue(i))},this)}return d;case"o":d={};if(a!=""){Ext.each(a.split("^"),function(i){g=i.split("=");d[g[0]]=this.decodeValue(g[1])},this)}return d;default:return a}},encodeValue:function(c){var b,g="",e=0,a,d;if(c==null){return"e:1"}else{if(typeof c=="number"){b="n:"+c}else{if(typeof c=="boolean"){b="b:"+(c?"1":"0")}else{if(Ext.isDate(c)){b="d:"+c.toGMTString()}else{if(Ext.isArray(c)){for(a=c.length;e<a;e++){g+=this.encodeValue(c[e]);if(e!=a-1){g+="^"}}b="a:"+g}else{if(typeof c=="object"){for(d in c){if(typeof c[d]!="function"&&c[d]!==undefined){g+=d+"="+this.encodeValue(c[d])+"^"}}b="o:"+g.substring(0,g.length-1)}else{b="s:"+c}}}}}}return escape(b)}});Ext.state.Manager=function(){var a=new Ext.state.Provider();return{setProvider:function(b){a=b},get:function(c,b){return a.get(c,b)},set:function(b,c){a.set(b,c)},clear:function(b){a.clear(b)},getProvider:function(){return a}}}();Ext.state.CookieProvider=Ext.extend(Ext.state.Provider,{constructor:function(a){Ext.state.CookieProvider.superclass.constructor.call(this);this.path="/";this.expires=new Date(new Date().getTime()+(1000*60*60*24*7));this.domain=null;this.secure=false;Ext.apply(this,a);this.state=this.readCookies()},set:function(a,b){if(typeof b=="undefined"||b===null){this.clear(a);return}this.setCookie(a,b);Ext.state.CookieProvider.superclass.set.call(this,a,b)},clear:function(a){this.clearCookie(a);Ext.state.CookieProvider.superclass.clear.call(this,a)},readCookies:function(){var d={},h=document.cookie+";",b=/\s?(.*?)=(.*?);/g,g,a,e;while((g=b.exec(h))!=null){a=g[1];e=g[2];if(a&&a.substring(0,3)=="ys-"){d[a.substr(3)]=this.decodeValue(e)}}return d},setCookie:function(a,b){document.cookie="ys-"+a+"="+this.encodeValue(b)+((this.expires==null)?"":("; expires="+this.expires.toGMTString()))+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"")},clearCookie:function(a){document.cookie="ys-"+a+"=null; expires=Thu, 01-Jan-70 00:00:01 GMT"+((this.path==null)?"":("; path="+this.path))+((this.domain==null)?"":("; domain="+this.domain))+((this.secure==true)?"; secure":"")}});Ext.DataView=Ext.extend(Ext.BoxComponent,{selectedClass:"x-view-selected",emptyText:"",deferEmptyText:true,trackOver:false,blockRefresh:false,last:false,initComponent:function(){Ext.DataView.superclass.initComponent.call(this);if(Ext.isString(this.tpl)||Ext.isArray(this.tpl)){this.tpl=new Ext.XTemplate(this.tpl)}this.addEvents("beforeclick","click","mouseenter","mouseleave","containerclick","dblclick","contextmenu","containercontextmenu","selectionchange","beforeselect");this.store=Ext.StoreMgr.lookup(this.store);this.all=new Ext.CompositeElementLite();this.selected=new Ext.CompositeElementLite()},afterRender:function(){Ext.DataView.superclass.afterRender.call(this);this.mon(this.getTemplateTarget(),{click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu,scope:this});if(this.overClass||this.trackOver){this.mon(this.getTemplateTarget(),{mouseover:this.onMouseOver,mouseout:this.onMouseOut,scope:this})}if(this.store){this.bindStore(this.store,true)}},refresh:function(){this.clearSelections(false,true);var b=this.getTemplateTarget(),a=this.store.getRange();b.update("");if(a.length<1){if(!this.deferEmptyText||this.hasSkippedEmptyText){b.update(this.emptyText)}this.all.clear()}else{this.tpl.overwrite(b,this.collectData(a,0));this.all.fill(Ext.query(this.itemSelector,b.dom));this.updateIndexes(0)}this.hasSkippedEmptyText=true},getTemplateTarget:function(){return this.el},prepareData:function(a){return a},collectData:function(b,e){var d=[],c=0,a=b.length;for(;c<a;c++){d[d.length]=this.prepareData(b[c].data,e+c,b[c])}return d},bufferRender:function(a,b){var c=document.createElement("div");this.tpl.overwrite(c,this.collectData(a,b));return Ext.query(this.itemSelector,c)},onUpdate:function(g,a){var b=this.store.indexOf(a);if(b>-1){var e=this.isSelected(b),c=this.all.elements[b],d=this.bufferRender([a],b)[0];this.all.replaceElement(b,d,true);if(e){this.selected.replaceElement(c,d);this.all.item(b).addClass(this.selectedClass)}this.updateIndexes(b,b)}},onAdd:function(g,d,e){if(this.all.getCount()===0){this.refresh();return}var c=this.bufferRender(d,e),h,b=this.all.elements;if(e<this.all.getCount()){h=this.all.item(e).insertSibling(c,"before",true);b.splice.apply(b,[e,0].concat(c))}else{h=this.all.last().insertSibling(c,"after",true);b.push.apply(b,c)}this.updateIndexes(e)},onRemove:function(c,a,b){this.deselect(b);this.all.removeElement(b,true);this.updateIndexes(b);if(this.store.getCount()===0){this.refresh()}},refreshNode:function(a){this.onUpdate(this.store,this.store.getAt(a))},updateIndexes:function(d,c){var b=this.all.elements;d=d||0;c=c||((c===0)?0:(b.length-1));for(var a=d;a<=c;a++){b[a].viewIndex=a}},getStore:function(){return this.store},bindStore:function(a,b){if(!b&&this.store){if(a!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("datachanged",this.onDataChanged,this);this.store.un("add",this.onAdd,this);this.store.un("remove",this.onRemove,this);this.store.un("update",this.onUpdate,this);this.store.un("clear",this.refresh,this)}if(!a){this.store=null}}if(a){a=Ext.StoreMgr.lookup(a);a.on({scope:this,beforeload:this.onBeforeLoad,datachanged:this.onDataChanged,add:this.onAdd,remove:this.onRemove,update:this.onUpdate,clear:this.refresh})}this.store=a;if(a){this.refresh()}},onDataChanged:function(){if(this.blockRefresh!==true){this.refresh.apply(this,arguments)}},findItemFromChild:function(a){return Ext.fly(a).findParent(this.itemSelector,this.getTemplateTarget())},onClick:function(c){var b=c.getTarget(this.itemSelector,this.getTemplateTarget()),a;if(b){a=this.indexOf(b);if(this.onItemClick(b,a,c)!==false){this.fireEvent("click",this,a,b,c)}}else{if(this.fireEvent("containerclick",this,c)!==false){this.onContainerClick(c)}}},onContainerClick:function(a){this.clearSelections()},onContextMenu:function(b){var a=b.getTarget(this.itemSelector,this.getTemplateTarget());if(a){this.fireEvent("contextmenu",this,this.indexOf(a),a,b)}else{this.fireEvent("containercontextmenu",this,b)}},onDblClick:function(b){var a=b.getTarget(this.itemSelector,this.getTemplateTarget());if(a){this.fireEvent("dblclick",this,this.indexOf(a),a,b)}},onMouseOver:function(b){var a=b.getTarget(this.itemSelector,this.getTemplateTarget());if(a&&a!==this.lastItem){this.lastItem=a;Ext.fly(a).addClass(this.overClass);this.fireEvent("mouseenter",this,this.indexOf(a),a,b)}},onMouseOut:function(a){if(this.lastItem){if(!a.within(this.lastItem,true,true)){Ext.fly(this.lastItem).removeClass(this.overClass);this.fireEvent("mouseleave",this,this.indexOf(this.lastItem),this.lastItem,a);delete this.lastItem}}},onItemClick:function(b,a,c){if(this.fireEvent("beforeclick",this,a,b,c)===false){return false}if(this.multiSelect){this.doMultiSelection(b,a,c);c.preventDefault()}else{if(this.singleSelect){this.doSingleSelection(b,a,c);c.preventDefault()}}return true},doSingleSelection:function(b,a,c){if(c.ctrlKey&&this.isSelected(a)){this.deselect(a)}else{this.select(a,false)}},doMultiSelection:function(c,a,d){if(d.shiftKey&&this.last!==false){var b=this.last;this.selectRange(b,a,d.ctrlKey);this.last=b}else{if((d.ctrlKey||this.simpleSelect)&&this.isSelected(a)){this.deselect(a)}else{this.select(a,d.ctrlKey||d.shiftKey||this.simpleSelect)}}},getSelectionCount:function(){return this.selected.getCount()},getSelectedNodes:function(){return this.selected.elements},getSelectedIndexes:function(){var b=[],d=this.selected.elements,c=0,a=d.length;for(;c<a;c++){b.push(d[c].viewIndex)}return b},getSelectedRecords:function(){return this.getRecords(this.selected.elements)},getRecords:function(c){var b=[],d=0,a=c.length;for(;d<a;d++){b[b.length]=this.store.getAt(c[d].viewIndex)}return b},getRecord:function(a){return this.store.getAt(a.viewIndex)},clearSelections:function(a,b){if((this.multiSelect||this.singleSelect)&&this.selected.getCount()>0){if(!b){this.selected.removeClass(this.selectedClass)}this.selected.clear();this.last=false;if(!a){this.fireEvent("selectionchange",this,this.selected.elements)}}},isSelected:function(a){return this.selected.contains(this.getNode(a))},deselect:function(a){if(this.isSelected(a)){a=this.getNode(a);this.selected.removeElement(a);if(this.last==a.viewIndex){this.last=false}Ext.fly(a).removeClass(this.selectedClass);this.fireEvent("selectionchange",this,this.selected.elements)}},select:function(d,g,b){if(Ext.isArray(d)){if(!g){this.clearSelections(true)}for(var c=0,a=d.length;c<a;c++){this.select(d[c],true,true)}if(!b){this.fireEvent("selectionchange",this,this.selected.elements)}}else{var e=this.getNode(d);if(!g){this.clearSelections(true)}if(e&&!this.isSelected(e)){if(this.fireEvent("beforeselect",this,e,this.selected.elements)!==false){Ext.fly(e).addClass(this.selectedClass);this.selected.add(e);this.last=e.viewIndex;if(!b){this.fireEvent("selectionchange",this,this.selected.elements)}}}}},selectRange:function(c,a,b){if(!b){this.clearSelections(true)}this.select(this.getNodes(c,a),true)},getNode:function(b){if(Ext.isString(b)){return document.getElementById(b)}else{if(Ext.isNumber(b)){return this.all.elements[b]}else{if(b instanceof Ext.data.Record){var a=this.store.indexOf(b);return this.all.elements[a]}}}return b},getNodes:function(e,a){var d=this.all.elements,b=[],c;e=e||0;a=!Ext.isDefined(a)?Math.max(d.length-1,0):a;if(e<=a){for(c=e;c<=a&&d[c];c++){b.push(d[c])}}else{for(c=e;c>=a&&d[c];c--){b.push(d[c])}}return b},indexOf:function(a){a=this.getNode(a);if(Ext.isNumber(a.viewIndex)){return a.viewIndex}return this.all.indexOf(a)},onBeforeLoad:function(){if(this.loadingText){this.clearSelections(false,true);this.getTemplateTarget().update('<div class="loading-indicator">'+this.loadingText+"</div>");this.all.clear()}},onDestroy:function(){this.all.clear();this.selected.clear();Ext.DataView.superclass.onDestroy.call(this);this.bindStore(null)}});Ext.DataView.prototype.setStore=Ext.DataView.prototype.bindStore;Ext.reg("dataview",Ext.DataView);Ext.list.ListView=Ext.extend(Ext.DataView,{itemSelector:"dl",selectedClass:"x-list-selected",overClass:"x-list-over",scrollOffset:undefined,columnResize:true,columnSort:true,maxColumnWidth:Ext.isIE?99:100,initComponent:function(){if(this.columnResize){this.colResizer=new Ext.list.ColumnResizer(this.colResizer);this.colResizer.init(this)}if(this.columnSort){this.colSorter=new Ext.list.Sorter(this.columnSort);this.colSorter.init(this)}if(!this.internalTpl){this.internalTpl=new Ext.XTemplate('<div class="x-list-header"><div class="x-list-header-inner">','<tpl for="columns">','<div style="width:{[values.width*100]}%;text-align:{align};"><em unselectable="on" id="',this.id,'-xlhd-{#}">',"{header}","</em></div>","</tpl>",'<div class="x-clear"></div>',"</div></div>",'<div class="x-list-body"><div class="x-list-body-inner">',"</div></div>")}if(!this.tpl){this.tpl=new Ext.XTemplate('<tpl for="rows">',"<dl>",'<tpl for="parent.columns">','<dt style="width:{[values.width*100]}%;text-align:{align};">','<em unselectable="on"<tpl if="cls"> class="{cls}</tpl>">',"{[values.tpl.apply(parent)]}","</em></dt>","</tpl>",'<div class="x-clear"></div>',"</dl>","</tpl>")}var l=this.columns,h=0,k=0,m=l.length,b=[];for(var g=0;g<m;g++){var n=l[g];if(!n.isColumn){n.xtype=n.xtype?(/^lv/.test(n.xtype)?n.xtype:"lv"+n.xtype):"lvcolumn";n=Ext.create(n)}if(n.width){h+=n.width*100;if(h>this.maxColumnWidth){n.width-=(h-this.maxColumnWidth)/100}k++}b.push(n)}l=this.columns=b;if(k<m){var d=m-k;if(h<this.maxColumnWidth){var a=((this.maxColumnWidth-h)/d)/100;for(var e=0;e<m;e++){var n=l[e];if(!n.width){n.width=a}}}}Ext.list.ListView.superclass.initComponent.call(this)},onRender:function(){this.autoEl={cls:"x-list-wrap"};Ext.list.ListView.superclass.onRender.apply(this,arguments);this.internalTpl.overwrite(this.el,{columns:this.columns});this.innerBody=Ext.get(this.el.dom.childNodes[1].firstChild);this.innerHd=Ext.get(this.el.dom.firstChild.firstChild);if(this.hideHeaders){this.el.dom.firstChild.style.display="none"}},getTemplateTarget:function(){return this.innerBody},collectData:function(){var a=Ext.list.ListView.superclass.collectData.apply(this,arguments);return{columns:this.columns,rows:a}},verifyInternalSize:function(){if(this.lastSize){this.onResize(this.lastSize.width,this.lastSize.height)}},onResize:function(c,e){var b=this.innerBody.dom,g=this.innerHd.dom,d=c-Ext.num(this.scrollOffset,Ext.getScrollBarWidth())+"px",a;if(!b){return}a=b.parentNode;if(Ext.isNumber(c)){if(this.reserveScrollOffset||((a.offsetWidth-a.clientWidth)>10)){b.style.width=d;g.style.width=d}else{b.style.width=c+"px";g.style.width=c+"px";setTimeout(function(){if((a.offsetWidth-a.clientWidth)>10){b.style.width=d;g.style.width=d}},10)}}if(Ext.isNumber(e)){a.style.height=Math.max(0,e-g.parentNode.offsetHeight)+"px"}},updateIndexes:function(){Ext.list.ListView.superclass.updateIndexes.apply(this,arguments);this.verifyInternalSize()},findHeaderIndex:function(g){g=g.dom||g;var a=g.parentNode,d=a.parentNode.childNodes,b=0,e;for(;e=d[b];b++){if(e==a){return b}}return -1},setHdWidths:function(){var d=this.innerHd.dom.getElementsByTagName("div"),c=0,b=this.columns,a=b.length;for(;c<a;c++){d[c].style.width=(b[c].width*100)+"%"}}});Ext.reg("listview",Ext.list.ListView);Ext.ListView=Ext.list.ListView;Ext.list.Column=Ext.extend(Object,{isColumn:true,align:"left",header:"",width:null,cls:"",constructor:function(a){if(!a.tpl){a.tpl=new Ext.XTemplate("{"+a.dataIndex+"}")}else{if(Ext.isString(a.tpl)){a.tpl=new Ext.XTemplate(a.tpl)}}Ext.apply(this,a)}});Ext.reg("lvcolumn",Ext.list.Column);Ext.list.NumberColumn=Ext.extend(Ext.list.Column,{format:"0,000.00",constructor:function(a){a.tpl=a.tpl||new Ext.XTemplate("{"+a.dataIndex+':number("'+(a.format||this.format)+'")}');Ext.list.NumberColumn.superclass.constructor.call(this,a)}});Ext.reg("lvnumbercolumn",Ext.list.NumberColumn);Ext.list.DateColumn=Ext.extend(Ext.list.Column,{format:"m/d/Y",constructor:function(a){a.tpl=a.tpl||new Ext.XTemplate("{"+a.dataIndex+':date("'+(a.format||this.format)+'")}');Ext.list.DateColumn.superclass.constructor.call(this,a)}});Ext.reg("lvdatecolumn",Ext.list.DateColumn);Ext.list.BooleanColumn=Ext.extend(Ext.list.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(e){e.tpl=e.tpl||new Ext.XTemplate("{"+e.dataIndex+":this.format}");var b=this.trueText,d=this.falseText,a=this.undefinedText;e.tpl.format=function(c){if(c===undefined){return a}if(!c||c==="false"){return d}return b};Ext.list.DateColumn.superclass.constructor.call(this,e)}});Ext.reg("lvbooleancolumn",Ext.list.BooleanColumn);Ext.list.ColumnResizer=Ext.extend(Ext.util.Observable,{minPct:0.05,constructor:function(a){Ext.apply(this,a);Ext.list.ColumnResizer.superclass.constructor.call(this)},init:function(a){this.view=a;a.on("render",this.initEvents,this)},initEvents:function(a){a.mon(a.innerHd,"mousemove",this.handleHdMove,this);this.tracker=new Ext.dd.DragTracker({onBeforeStart:this.onBeforeStart.createDelegate(this),onStart:this.onStart.createDelegate(this),onDrag:this.onDrag.createDelegate(this),onEnd:this.onEnd.createDelegate(this),tolerance:3,autoStart:300});this.tracker.initEl(a.innerHd);a.on("beforedestroy",this.tracker.destroy,this.tracker)},handleHdMove:function(i,d){var c=5,b=i.getPageX(),j=i.getTarget("em",3,true);if(j){var h=j.getRegion(),g=j.dom.style,a=j.dom.parentNode;if(b-h.left<=c&&a!=a.parentNode.firstChild){this.activeHd=Ext.get(a.previousSibling.firstChild);g.cursor=Ext.isWebKit?"e-resize":"col-resize"}else{if(h.right-b<=c&&a!=a.parentNode.lastChild.previousSibling){this.activeHd=j;g.cursor=Ext.isWebKit?"w-resize":"col-resize"}else{delete this.activeHd;g.cursor=""}}}},onBeforeStart:function(a){this.dragHd=this.activeHd;return !!this.dragHd},onStart:function(g){var d=this,b=d.view,c=d.dragHd,a=d.tracker.getXY()[0];d.proxy=b.el.createChild({cls:"x-list-resizer"});d.dragX=c.getX();d.headerIndex=b.findHeaderIndex(c);d.headersDisabled=b.disableHeaders;b.disableHeaders=true;d.proxy.setHeight(b.el.getHeight());d.proxy.setX(d.dragX);d.proxy.setWidth(a-d.dragX);this.setBoundaries()},setBoundaries:function(j){var k=this.view,h=this.headerIndex,c=k.innerHd.getWidth(),j=k.innerHd.getX(),b=Math.ceil(c*this.minPct),l=c-b,e=k.columns.length,d=k.innerHd.select("em",true),g=b+j,a=l+j,i;if(e==2){this.minX=g;this.maxX=a}else{i=d.item(h+2);this.minX=d.item(h).getX()+b;this.maxX=i?i.getX()-b:a;if(h==0){this.minX=g}else{if(h==e-2){this.maxX=a}}}},onDrag:function(c){var b=this,a=b.tracker.getXY()[0].constrain(b.minX,b.maxX);b.proxy.setWidth(a-this.dragX)},onEnd:function(i){var g=this.proxy.getWidth(),h=this.headerIndex,l=this.view,c=l.columns,b=l.innerHd.getWidth(),k=Math.ceil(g*l.maxColumnWidth/b)/100,d=this.headersDisabled,m=c[h],j=c[h+1],a=m.width+j.width;this.proxy.remove();m.width=k;j.width=a-k;delete this.dragHd;l.setHdWidths();l.refresh();setTimeout(function(){l.disableHeaders=d},100)}});Ext.ListView.ColumnResizer=Ext.list.ColumnResizer;Ext.list.Sorter=Ext.extend(Ext.util.Observable,{sortClasses:["sort-asc","sort-desc"],constructor:function(a){Ext.apply(this,a);Ext.list.Sorter.superclass.constructor.call(this)},init:function(a){this.view=a;a.on("render",this.initEvents,this)},initEvents:function(a){a.mon(a.innerHd,"click",this.onHdClick,this);a.innerHd.setStyle("cursor","pointer");a.mon(a.store,"datachanged",this.updateSortState,this);this.updateSortState.defer(10,this,[a.store])},updateSortState:function(c){var g=c.getSortState();if(!g){return}this.sortState=g;var e=this.view.columns,h=-1;for(var d=0,a=e.length;d<a;d++){if(e[d].dataIndex==g.field){h=d;break}}if(h!=-1){var b=g.direction;this.updateSortIcon(h,b)}},updateSortIcon:function(b,a){var d=this.sortClasses;var c=this.view.innerHd.select("em").removeClass(d);c.item(b).addClass(d[a=="DESC"?1:0])},onHdClick:function(c){var b=c.getTarget("em",3);if(b&&!this.view.disableHeaders){var a=this.view.findHeaderIndex(b);this.view.store.sort(this.view.columns[a].dataIndex)}}});Ext.ListView.Sorter=Ext.list.Sorter;Ext.TabPanel=Ext.extend(Ext.Panel,{deferredRender:true,tabWidth:120,minTabWidth:30,resizeTabs:false,enableTabScroll:false,scrollIncrement:0,scrollRepeatInterval:400,scrollDuration:0.35,animScroll:true,tabPosition:"top",baseCls:"x-tab-panel",autoTabs:false,autoTabSelector:"div.x-tab",activeTab:undefined,tabMargin:2,plain:false,wheelIncrement:20,idDelimiter:"__",itemCls:"x-tab-item",elements:"body",headerAsText:false,frame:false,hideBorders:true,initComponent:function(){this.frame=false;Ext.TabPanel.superclass.initComponent.call(this);this.addEvents("beforetabchange","tabchange","contextmenu");this.setLayout(new Ext.layout.CardLayout(Ext.apply({layoutOnCardChange:this.layoutOnTabChange,deferredRender:this.deferredRender},this.layoutConfig)));if(this.tabPosition=="top"){this.elements+=",header";this.stripTarget="header"}else{this.elements+=",footer";this.stripTarget="footer"}if(!this.stack){this.stack=Ext.TabPanel.AccessStack()}this.initItems()},onRender:function(c,a){Ext.TabPanel.superclass.onRender.call(this,c,a);if(this.plain){var g=this.tabPosition=="top"?"header":"footer";this[g].addClass("x-tab-panel-"+g+"-plain")}var b=this[this.stripTarget];this.stripWrap=b.createChild({cls:"x-tab-strip-wrap",cn:{tag:"ul",cls:"x-tab-strip x-tab-strip-"+this.tabPosition}});var e=(this.tabPosition=="bottom"?this.stripWrap:null);b.createChild({cls:"x-tab-strip-spacer"},e);this.strip=new Ext.Element(this.stripWrap.dom.firstChild);this.edge=this.strip.createChild({tag:"li",cls:"x-tab-edge",cn:[{tag:"span",cls:"x-tab-strip-text",cn:"&#160;"}]});this.strip.createChild({cls:"x-clear"});this.body.addClass("x-tab-panel-body-"+this.tabPosition);if(!this.itemTpl){var d=new Ext.Template('<li class="{cls}" id="{id}"><a class="x-tab-strip-close"></a>','<a class="x-tab-right" href="#"><em class="x-tab-left">','<span class="x-tab-strip-inner"><span class="x-tab-strip-text {iconCls}">{text}</span></span>',"</em></a></li>");d.disableFormats=true;d.compile();Ext.TabPanel.prototype.itemTpl=d}this.items.each(this.initTab,this)},afterRender:function(){Ext.TabPanel.superclass.afterRender.call(this);if(this.autoTabs){this.readTabs(false)}if(this.activeTab!==undefined){var a=Ext.isObject(this.activeTab)?this.activeTab:this.items.get(this.activeTab);delete this.activeTab;this.setActiveTab(a)}},initEvents:function(){Ext.TabPanel.superclass.initEvents.call(this);this.mon(this.strip,{scope:this,mousedown:this.onStripMouseDown,contextmenu:this.onStripContextMenu});if(this.enableTabScroll){this.mon(this.strip,"mousewheel",this.onWheel,this)}},findTargets:function(c){var b=null,a=c.getTarget("li:not(.x-tab-edge)",this.strip);if(a){b=this.getComponent(a.id.split(this.idDelimiter)[1]);if(b.disabled){return{close:null,item:null,el:null}}}return{close:c.getTarget(".x-tab-strip-close",this.strip),item:b,el:a}},onStripMouseDown:function(b){if(b.button!==0){return}b.preventDefault();var a=this.findTargets(b);if(a.close){if(a.item.fireEvent("beforeclose",a.item)!==false){a.item.fireEvent("close",a.item);this.remove(a.item)}return}if(a.item&&a.item!=this.activeTab){this.setActiveTab(a.item)}},onStripContextMenu:function(b){b.preventDefault();var a=this.findTargets(b);if(a.item){this.fireEvent("contextmenu",this,a.item,b)}},readTabs:function(d){if(d===true){this.items.each(function(h){this.remove(h)},this)}var c=this.el.query(this.autoTabSelector);for(var b=0,a=c.length;b<a;b++){var e=c[b],g=e.getAttribute("title");e.removeAttribute("title");this.add({title:g,contentEl:e})}},initTab:function(d,b){var e=this.strip.dom.childNodes[b],g=this.getTemplateArgs(d),c=e?this.itemTpl.insertBefore(e,g):this.itemTpl.append(this.strip,g),a="x-tab-strip-over",h=Ext.get(c);h.hover(function(){if(!d.disabled){h.addClass(a)}},function(){h.removeClass(a)});if(d.tabTip){h.child("span.x-tab-strip-text",true).qtip=d.tabTip}d.tabEl=c;h.select("a").on("click",function(i){if(!i.getPageX()){this.onStripMouseDown(i)}},this,{preventDefault:true});d.on({scope:this,disable:this.onItemDisabled,enable:this.onItemEnabled,titlechange:this.onItemTitleChanged,iconchange:this.onItemIconChanged,beforeshow:this.onBeforeShowItem})},getTemplateArgs:function(b){var a=b.closable?"x-tab-strip-closable":"";if(b.disabled){a+=" x-item-disabled"}if(b.iconCls){a+=" x-tab-with-icon"}if(b.tabCls){a+=" "+b.tabCls}return{id:this.id+this.idDelimiter+b.getItemId(),text:b.title,cls:a,iconCls:b.iconCls||""}},onAdd:function(b){Ext.TabPanel.superclass.onAdd.call(this,b);if(this.rendered){var a=this.items;this.initTab(b,a.indexOf(b));this.delegateUpdates()}},onBeforeAdd:function(b){var a=b.events?(this.items.containsKey(b.getItemId())?b:null):this.items.get(b);if(a){this.setActiveTab(b);return false}Ext.TabPanel.superclass.onBeforeAdd.apply(this,arguments);var c=b.elements;b.elements=c?c.replace(",header",""):c;b.border=(b.border===true)},onRemove:function(d){var b=Ext.get(d.tabEl);if(b){b.select("a").removeAllListeners();Ext.destroy(b)}Ext.TabPanel.superclass.onRemove.call(this,d);this.stack.remove(d);delete d.tabEl;d.un("disable",this.onItemDisabled,this);d.un("enable",this.onItemEnabled,this);d.un("titlechange",this.onItemTitleChanged,this);d.un("iconchange",this.onItemIconChanged,this);d.un("beforeshow",this.onBeforeShowItem,this);if(d==this.activeTab){var a=this.stack.next();if(a){this.setActiveTab(a)}else{if(this.items.getCount()>0){this.setActiveTab(0)}else{this.setActiveTab(null)}}}if(!this.destroying){this.delegateUpdates()}},onBeforeShowItem:function(a){if(a!=this.activeTab){this.setActiveTab(a);return false}},onItemDisabled:function(b){var a=this.getTabEl(b);if(a){Ext.fly(a).addClass("x-item-disabled")}this.stack.remove(b)},onItemEnabled:function(b){var a=this.getTabEl(b);if(a){Ext.fly(a).removeClass("x-item-disabled")}},onItemTitleChanged:function(b){var a=this.getTabEl(b);if(a){Ext.fly(a).child("span.x-tab-strip-text",true).innerHTML=b.title}},onItemIconChanged:function(d,a,c){var b=this.getTabEl(d);if(b){b=Ext.get(b);b.child("span.x-tab-strip-text").replaceClass(c,a);b[Ext.isEmpty(a)?"removeClass":"addClass"]("x-tab-with-icon")}},getTabEl:function(a){var b=this.getComponent(a);return b?b.tabEl:null},onResize:function(){Ext.TabPanel.superclass.onResize.apply(this,arguments);this.delegateUpdates()},beginUpdate:function(){this.suspendUpdates=true},endUpdate:function(){this.suspendUpdates=false;this.delegateUpdates()},hideTabStripItem:function(b){b=this.getComponent(b);var a=this.getTabEl(b);if(a){a.style.display="none";this.delegateUpdates()}this.stack.remove(b)},unhideTabStripItem:function(b){b=this.getComponent(b);var a=this.getTabEl(b);if(a){a.style.display="";this.delegateUpdates()}},delegateUpdates:function(){var a=this.rendered;if(this.suspendUpdates){return}if(this.resizeTabs&&a){this.autoSizeTabs()}if(this.enableTabScroll&&a){this.autoScrollTabs()}},autoSizeTabs:function(){var h=this.items.length,b=this.tabPosition!="bottom"?"header":"footer",c=this[b].dom.offsetWidth,a=this[b].dom.clientWidth;if(!this.resizeTabs||h<1||!a){return}var k=Math.max(Math.min(Math.floor((a-4)/h)-this.tabMargin,this.tabWidth),this.minTabWidth);this.lastTabWidth=k;var m=this.strip.query("li:not(.x-tab-edge)");for(var e=0,j=m.length;e<j;e++){var l=m[e],n=Ext.fly(l).child(".x-tab-strip-inner",true),g=l.offsetWidth,d=n.offsetWidth;n.style.width=(k-(g-d))+"px"}},adjustBodyWidth:function(a){if(this.header){this.header.setWidth(a)}if(this.footer){this.footer.setWidth(a)}return a},setActiveTab:function(c){c=this.getComponent(c);if(this.fireEvent("beforetabchange",this,c,this.activeTab)===false){return}if(!this.rendered){this.activeTab=c;return}if(this.activeTab!=c){if(this.activeTab){var a=this.getTabEl(this.activeTab);if(a){Ext.fly(a).removeClass("x-tab-strip-active")}}this.activeTab=c;if(c){var b=this.getTabEl(c);Ext.fly(b).addClass("x-tab-strip-active");this.stack.add(c);this.layout.setActiveItem(c);this.delegateUpdates();if(this.scrolling){this.scrollToTab(c,this.animScroll)}}this.fireEvent("tabchange",this,c)}},getActiveTab:function(){return this.activeTab||null},getItem:function(a){return this.getComponent(a)},autoScrollTabs:function(){this.pos=this.tabPosition=="bottom"?this.footer:this.header;var h=this.items.length,d=this.pos.dom.offsetWidth,c=this.pos.dom.clientWidth,g=this.stripWrap,e=g.dom,b=e.offsetWidth,i=this.getScrollPos(),a=this.edge.getOffsetsTo(this.stripWrap)[0]+i;if(!this.enableTabScroll||b<20){return}if(h==0||a<=c){e.scrollLeft=0;g.setWidth(c);if(this.scrolling){this.scrolling=false;this.pos.removeClass("x-tab-scrolling");this.scrollLeft.hide();this.scrollRight.hide();if(Ext.isAir||Ext.isWebKit){e.style.marginLeft="";e.style.marginRight=""}}}else{if(!this.scrolling){this.pos.addClass("x-tab-scrolling");if(Ext.isAir||Ext.isWebKit){e.style.marginLeft="18px";e.style.marginRight="18px"}}c-=g.getMargins("lr");g.setWidth(c>20?c:20);if(!this.scrolling){if(!this.scrollLeft){this.createScrollers()}else{this.scrollLeft.show();this.scrollRight.show()}}this.scrolling=true;if(i>(a-c)){e.scrollLeft=a-c}else{this.scrollToTab(this.activeTab,false)}this.updateScrollButtons()}},createScrollers:function(){this.pos.addClass("x-tab-scrolling-"+this.tabPosition);var c=this.stripWrap.dom.offsetHeight;var a=this.pos.insertFirst({cls:"x-tab-scroller-left"});a.setHeight(c);a.addClassOnOver("x-tab-scroller-left-over");this.leftRepeater=new Ext.util.ClickRepeater(a,{interval:this.scrollRepeatInterval,handler:this.onScrollLeft,scope:this});this.scrollLeft=a;var b=this.pos.insertFirst({cls:"x-tab-scroller-right"});b.setHeight(c);b.addClassOnOver("x-tab-scroller-right-over");this.rightRepeater=new Ext.util.ClickRepeater(b,{interval:this.scrollRepeatInterval,handler:this.onScrollRight,scope:this});this.scrollRight=b},getScrollWidth:function(){return this.edge.getOffsetsTo(this.stripWrap)[0]+this.getScrollPos()},getScrollPos:function(){return parseInt(this.stripWrap.dom.scrollLeft,10)||0},getScrollArea:function(){return parseInt(this.stripWrap.dom.clientWidth,10)||0},getScrollAnim:function(){return{duration:this.scrollDuration,callback:this.updateScrollButtons,scope:this}},getScrollIncrement:function(){return this.scrollIncrement||(this.resizeTabs?this.lastTabWidth+2:100)},scrollToTab:function(e,a){if(!e){return}var c=this.getTabEl(e),h=this.getScrollPos(),d=this.getScrollArea(),g=Ext.fly(c).getOffsetsTo(this.stripWrap)[0]+h,b=g+c.offsetWidth;if(g<h){this.scrollTo(g,a)}else{if(b>(h+d)){this.scrollTo(b-d,a)}}},scrollTo:function(b,a){this.stripWrap.scrollTo("left",b,a?this.getScrollAnim():false);if(!a){this.updateScrollButtons()}},onWheel:function(g){var h=g.getWheelDelta()*this.wheelIncrement*-1;g.stopEvent();var i=this.getScrollPos(),c=i+h,a=this.getScrollWidth()-this.getScrollArea();var b=Math.max(0,Math.min(a,c));if(b!=i){this.scrollTo(b,false)}},onScrollRight:function(){var a=this.getScrollWidth()-this.getScrollArea(),c=this.getScrollPos(),b=Math.min(a,c+this.getScrollIncrement());if(b!=c){this.scrollTo(b,this.animScroll)}},onScrollLeft:function(){var b=this.getScrollPos(),a=Math.max(0,b-this.getScrollIncrement());if(a!=b){this.scrollTo(a,this.animScroll)}},updateScrollButtons:function(){var a=this.getScrollPos();this.scrollLeft[a===0?"addClass":"removeClass"]("x-tab-scroller-left-disabled");this.scrollRight[a>=(this.getScrollWidth()-this.getScrollArea())?"addClass":"removeClass"]("x-tab-scroller-right-disabled")},beforeDestroy:function(){Ext.destroy(this.leftRepeater,this.rightRepeater);this.deleteMembers("strip","edge","scrollLeft","scrollRight","stripWrap");this.activeTab=null;Ext.TabPanel.superclass.beforeDestroy.apply(this)}});Ext.reg("tabpanel",Ext.TabPanel);Ext.TabPanel.prototype.activate=Ext.TabPanel.prototype.setActiveTab;Ext.TabPanel.AccessStack=function(){var a=[];return{add:function(b){a.push(b);if(a.length>10){a.shift()}},remove:function(e){var d=[];for(var c=0,b=a.length;c<b;c++){if(a[c]!=e){d.push(a[c])}}a=d},next:function(){return a.pop()}}};Ext.Button=Ext.extend(Ext.BoxComponent,{hidden:false,disabled:false,pressed:false,enableToggle:false,menuAlign:"tl-bl?",type:"button",menuClassTarget:"tr:nth(2)",clickEvent:"click",handleMouseEvents:true,tooltipType:"qtip",buttonSelector:"button:first-child",scale:"small",iconAlign:"left",arrowAlign:"right",initComponent:function(){if(this.menu){if(Ext.isArray(this.menu)){this.menu={items:this.menu}}if(Ext.isObject(this.menu)){this.menu.ownerCt=this}this.menu=Ext.menu.MenuMgr.get(this.menu);this.menu.ownerCt=undefined}Ext.Button.superclass.initComponent.call(this);this.addEvents("click","toggle","mouseover","mouseout","menushow","menuhide","menutriggerover","menutriggerout");if(Ext.isString(this.toggleGroup)){this.enableToggle=true}},getTemplateArgs:function(){return[this.type,"x-btn-"+this.scale+" x-btn-icon-"+this.scale+"-"+this.iconAlign,this.getMenuClass(),this.cls,this.id]},setButtonClass:function(){if(this.useSetClass){if(!Ext.isEmpty(this.oldCls)){this.el.removeClass([this.oldCls,"x-btn-pressed"])}this.oldCls=(this.iconCls||this.icon)?(this.text?"x-btn-text-icon":"x-btn-icon"):"x-btn-noicon";this.el.addClass([this.oldCls,this.pressed?"x-btn-pressed":null])}},getMenuClass:function(){return this.menu?(this.arrowAlign!="bottom"?"x-btn-arrow":"x-btn-arrow-bottom"):""},onRender:function(c,a){if(!this.template){if(!Ext.Button.buttonTemplate){Ext.Button.buttonTemplate=new Ext.Template('<table id="{4}" cellspacing="0" class="x-btn {3}"><tbody class="{1}">','<tr><td class="x-btn-tl"><i>&#160;</i></td><td class="x-btn-tc"></td><td class="x-btn-tr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-ml"><i>&#160;</i></td><td class="x-btn-mc"><em class="{2}" unselectable="on"><button type="{0}"></button></em></td><td class="x-btn-mr"><i>&#160;</i></td></tr>','<tr><td class="x-btn-bl"><i>&#160;</i></td><td class="x-btn-bc"></td><td class="x-btn-br"><i>&#160;</i></td></tr>',"</tbody></table>");Ext.Button.buttonTemplate.compile()}this.template=Ext.Button.buttonTemplate}var b,d=this.getTemplateArgs();if(a){b=this.template.insertBefore(a,d,true)}else{b=this.template.append(c,d,true)}this.btnEl=b.child(this.buttonSelector);this.mon(this.btnEl,{scope:this,focus:this.onFocus,blur:this.onBlur});this.initButtonEl(b,this.btnEl);Ext.ButtonToggleMgr.register(this)},initButtonEl:function(b,c){this.el=b;this.setIcon(this.icon);this.setText(this.text);this.setIconClass(this.iconCls);if(Ext.isDefined(this.tabIndex)){c.dom.tabIndex=this.tabIndex}if(this.tooltip){this.setTooltip(this.tooltip,true)}if(this.handleMouseEvents){this.mon(b,{scope:this,mouseover:this.onMouseOver,mousedown:this.onMouseDown})}if(this.menu){this.mon(this.menu,{scope:this,show:this.onMenuShow,hide:this.onMenuHide})}if(this.repeat){var a=new Ext.util.ClickRepeater(b,Ext.isObject(this.repeat)?this.repeat:{});this.mon(a,"click",this.onRepeatClick,this)}else{this.mon(b,this.clickEvent,this.onClick,this)}},afterRender:function(){Ext.Button.superclass.afterRender.call(this);this.useSetClass=true;this.setButtonClass();this.doc=Ext.getDoc();this.doAutoWidth()},setIconClass:function(a){this.iconCls=a;if(this.el){this.btnEl.dom.className="";this.btnEl.addClass(["x-btn-text",a||""]);this.setButtonClass()}return this},setTooltip:function(b,a){if(this.rendered){if(!a){this.clearTip()}if(Ext.isObject(b)){Ext.QuickTips.register(Ext.apply({target:this.btnEl.id},b));this.tooltip=b}else{this.btnEl.dom[this.tooltipType]=b}}else{this.tooltip=b}return this},clearTip:function(){if(Ext.isObject(this.tooltip)){Ext.QuickTips.unregister(this.btnEl)}},beforeDestroy:function(){if(this.rendered){this.clearTip()}if(this.menu&&this.destroyMenu!==false){Ext.destroy(this.btnEl,this.menu)}Ext.destroy(this.repeater)},onDestroy:function(){if(this.rendered){this.doc.un("mouseover",this.monitorMouseOver,this);this.doc.un("mouseup",this.onMouseUp,this);delete this.doc;delete this.btnEl;Ext.ButtonToggleMgr.unregister(this)}Ext.Button.superclass.onDestroy.call(this)},doAutoWidth:function(){if(this.autoWidth!==false&&this.el&&this.text&&this.width===undefined){this.el.setWidth("auto");if(Ext.isIE7&&Ext.isStrict){var a=this.btnEl;if(a&&a.getWidth()>20){a.clip();a.setWidth(Ext.util.TextMetrics.measure(a,this.text).width+a.getFrameWidth("lr"))}}if(this.minWidth){if(this.el.getWidth()<this.minWidth){this.el.setWidth(this.minWidth)}}}},setHandler:function(b,a){this.handler=b;this.scope=a;return this},setText:function(a){this.text=a;if(this.el){this.btnEl.update(a||"&#160;");this.setButtonClass()}this.doAutoWidth();return this},setIcon:function(a){this.icon=a;if(this.el){this.btnEl.setStyle("background-image",a?"url("+a+")":"");this.setButtonClass()}return this},getText:function(){return this.text},toggle:function(b,a){b=b===undefined?!this.pressed:!!b;if(b!=this.pressed){if(this.rendered){this.el[b?"addClass":"removeClass"]("x-btn-pressed")}this.pressed=b;if(!a){this.fireEvent("toggle",this,b);if(this.toggleHandler){this.toggleHandler.call(this.scope||this,this,b)}}}return this},onDisable:function(){this.onDisableChange(true)},onEnable:function(){this.onDisableChange(false)},onDisableChange:function(a){if(this.el){if(!Ext.isIE6||!this.text){this.el[a?"addClass":"removeClass"](this.disabledClass)}this.el.dom.disabled=a}this.disabled=a},showMenu:function(){if(this.rendered&&this.menu){if(this.tooltip){Ext.QuickTips.getQuickTip().cancelShow(this.btnEl)}if(this.menu.isVisible()){this.menu.hide()}this.menu.ownerCt=this;this.menu.show(this.el,this.menuAlign)}return this},hideMenu:function(){if(this.hasVisibleMenu()){this.menu.hide()}return this},hasVisibleMenu:function(){return this.menu&&this.menu.ownerCt==this&&this.menu.isVisible()},onRepeatClick:function(a,b){this.onClick(b)},onClick:function(a){if(a){a.preventDefault()}if(a.button!==0){return}if(!this.disabled){this.doToggle();if(this.menu&&!this.hasVisibleMenu()&&!this.ignoreNextClick){this.showMenu()}this.fireEvent("click",this,a);if(this.handler){this.handler.call(this.scope||this,this,a)}}},doToggle:function(){if(this.enableToggle&&(this.allowDepress!==false||!this.pressed)){this.toggle()}},isMenuTriggerOver:function(b,a){return this.menu&&!a},isMenuTriggerOut:function(b,a){return this.menu&&!a},onMouseOver:function(b){if(!this.disabled){var a=b.within(this.el,true);if(!a){this.el.addClass("x-btn-over");if(!this.monitoringMouseOver){this.doc.on("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=true}this.fireEvent("mouseover",this,b)}if(this.isMenuTriggerOver(b,a)){this.fireEvent("menutriggerover",this,this.menu,b)}}},monitorMouseOver:function(a){if(a.target!=this.el.dom&&!a.within(this.el)){if(this.monitoringMouseOver){this.doc.un("mouseover",this.monitorMouseOver,this);this.monitoringMouseOver=false}this.onMouseOut(a)}},onMouseOut:function(b){var a=b.within(this.el)&&b.target!=this.el.dom;this.el.removeClass("x-btn-over");this.fireEvent("mouseout",this,b);if(this.isMenuTriggerOut(b,a)){this.fireEvent("menutriggerout",this,this.menu,b)}},focus:function(){this.btnEl.focus()},blur:function(){this.btnEl.blur()},onFocus:function(a){if(!this.disabled){this.el.addClass("x-btn-focus")}},onBlur:function(a){this.el.removeClass("x-btn-focus")},getClickEl:function(b,a){return this.el},onMouseDown:function(a){if(!this.disabled&&a.button===0){this.getClickEl(a).addClass("x-btn-click");this.doc.on("mouseup",this.onMouseUp,this)}},onMouseUp:function(a){if(a.button===0){this.getClickEl(a,true).removeClass("x-btn-click");this.doc.un("mouseup",this.onMouseUp,this)}},onMenuShow:function(a){if(this.menu.ownerCt==this){this.menu.ownerCt=this;this.ignoreNextClick=0;this.el.addClass("x-btn-menu-active");this.fireEvent("menushow",this,this.menu)}},onMenuHide:function(a){if(this.menu.ownerCt==this){this.el.removeClass("x-btn-menu-active");this.ignoreNextClick=this.restoreClick.defer(250,this);this.fireEvent("menuhide",this,this.menu);delete this.menu.ownerCt}},restoreClick:function(){this.ignoreNextClick=0}});Ext.reg("button",Ext.Button);Ext.ButtonToggleMgr=function(){var a={};function b(e,j){if(j){var h=a[e.toggleGroup];for(var d=0,c=h.length;d<c;d++){if(h[d]!=e){h[d].toggle(false)}}}}return{register:function(c){if(!c.toggleGroup){return}var d=a[c.toggleGroup];if(!d){d=a[c.toggleGroup]=[]}d.push(c);c.on("toggle",b)},unregister:function(c){if(!c.toggleGroup){return}var d=a[c.toggleGroup];if(d){d.remove(c);c.un("toggle",b)}},getPressed:function(h){var e=a[h];if(e){for(var d=0,c=e.length;d<c;d++){if(e[d].pressed===true){return e[d]}}}return null}}}();Ext.SplitButton=Ext.extend(Ext.Button,{arrowSelector:"em",split:true,initComponent:function(){Ext.SplitButton.superclass.initComponent.call(this);this.addEvents("arrowclick")},onRender:function(){Ext.SplitButton.superclass.onRender.apply(this,arguments);if(this.arrowTooltip){this.el.child(this.arrowSelector).dom[this.tooltipType]=this.arrowTooltip}},setArrowHandler:function(b,a){this.arrowHandler=b;this.scope=a},getMenuClass:function(){return"x-btn-split"+(this.arrowAlign=="bottom"?"-bottom":"")},isClickOnArrow:function(c){if(this.arrowAlign!="bottom"){var b=this.el.child("em.x-btn-split");var a=b.getRegion().right-b.getPadding("r");return c.getPageX()>a}else{return c.getPageY()>this.btnEl.getRegion().bottom}},onClick:function(b,a){b.preventDefault();if(!this.disabled){if(this.isClickOnArrow(b)){if(this.menu&&!this.menu.isVisible()&&!this.ignoreNextClick){this.showMenu()}this.fireEvent("arrowclick",this,b);if(this.arrowHandler){this.arrowHandler.call(this.scope||this,this,b)}}else{this.doToggle();this.fireEvent("click",this,b);if(this.handler){this.handler.call(this.scope||this,this,b)}}}},isMenuTriggerOver:function(a){return this.menu&&a.target.tagName==this.arrowSelector},isMenuTriggerOut:function(b,a){return this.menu&&b.target.tagName!=this.arrowSelector}});Ext.reg("splitbutton",Ext.SplitButton);Ext.CycleButton=Ext.extend(Ext.SplitButton,{getItemText:function(a){if(a&&this.showText===true){var b="";if(this.prependText){b+=this.prependText}b+=a.text;return b}return undefined},setActiveItem:function(c,a){if(!Ext.isObject(c)){c=this.menu.getComponent(c)}if(c){if(!this.rendered){this.text=this.getItemText(c);this.iconCls=c.iconCls}else{var b=this.getItemText(c);if(b){this.setText(b)}this.setIconClass(c.iconCls)}this.activeItem=c;if(!c.checked){c.setChecked(true,a)}if(this.forceIcon){this.setIconClass(this.forceIcon)}if(!a){this.fireEvent("change",this,c)}}},getActiveItem:function(){return this.activeItem},initComponent:function(){this.addEvents("change");if(this.changeHandler){this.on("change",this.changeHandler,this.scope||this);delete this.changeHandler}this.itemCount=this.items.length;this.menu={cls:"x-cycle-menu",items:[]};var a=0;Ext.each(this.items,function(c,b){Ext.apply(c,{group:c.group||this.id,itemIndex:b,checkHandler:this.checkHandler,scope:this,checked:c.checked||false});this.menu.items.push(c);if(c.checked){a=b}},this);Ext.CycleButton.superclass.initComponent.call(this);this.on("click",this.toggleSelected,this);this.setActiveItem(a,true)},checkHandler:function(a,b){if(b){this.setActiveItem(a)}},toggleSelected:function(){var a=this.menu;a.render();if(!a.hasLayout){a.doLayout()}var d,b;for(var c=1;c<this.itemCount;c++){d=(this.activeItem.itemIndex+c)%this.itemCount;b=a.items.itemAt(d);if(!b.disabled){b.setChecked(true);break}}}});Ext.reg("cycle",Ext.CycleButton);Ext.Toolbar=function(a){if(Ext.isArray(a)){a={items:a,layout:"toolbar"}}else{a=Ext.apply({layout:"toolbar"},a);if(a.buttons){a.items=a.buttons}}Ext.Toolbar.superclass.constructor.call(this,a)};(function(){var a=Ext.Toolbar;Ext.extend(a,Ext.Container,{defaultType:"button",enableOverflow:false,trackMenus:true,internalDefaults:{removeMode:"container",hideParent:true},toolbarCls:"x-toolbar",initComponent:function(){a.superclass.initComponent.call(this);this.addEvents("overflowchange")},onRender:function(c,b){if(!this.el){if(!this.autoCreate){this.autoCreate={cls:this.toolbarCls+" x-small-editor"}}this.el=c.createChild(Ext.apply({id:this.id},this.autoCreate),b);Ext.Toolbar.superclass.onRender.apply(this,arguments)}},lookupComponent:function(b){if(Ext.isString(b)){if(b=="-"){b=new a.Separator()}else{if(b==" "){b=new a.Spacer()}else{if(b=="->"){b=new a.Fill()}else{b=new a.TextItem(b)}}}this.applyDefaults(b)}else{if(b.isFormField||b.render){b=this.createComponent(b)}else{if(b.tag){b=new a.Item({autoEl:b})}else{if(b.tagName){b=new a.Item({el:b})}else{if(Ext.isObject(b)){b=b.xtype?this.createComponent(b):this.constructButton(b)}}}}}return b},applyDefaults:function(e){if(!Ext.isString(e)){e=Ext.Toolbar.superclass.applyDefaults.call(this,e);var b=this.internalDefaults;if(e.events){Ext.applyIf(e.initialConfig,b);Ext.apply(e,b)}else{Ext.applyIf(e,b)}}return e},addSeparator:function(){return this.add(new a.Separator())},addSpacer:function(){return this.add(new a.Spacer())},addFill:function(){this.add(new a.Fill())},addElement:function(b){return this.addItem(new a.Item({el:b}))},addItem:function(b){return this.add.apply(this,arguments)},addButton:function(c){if(Ext.isArray(c)){var e=[];for(var d=0,b=c.length;d<b;d++){e.push(this.addButton(c[d]))}return e}return this.add(this.constructButton(c))},addText:function(b){return this.addItem(new a.TextItem(b))},addDom:function(b){return this.add(new a.Item({autoEl:b}))},addField:function(b){return this.add(b)},insertButton:function(c,g){if(Ext.isArray(g)){var e=[];for(var d=0,b=g.length;d<b;d++){e.push(this.insertButton(c+d,g[d]))}return e}return Ext.Toolbar.superclass.insert.call(this,c,g)},trackMenu:function(c,b){if(this.trackMenus&&c.menu){var d=b?"mun":"mon";this[d](c,"menutriggerover",this.onButtonTriggerOver,this);this[d](c,"menushow",this.onButtonMenuShow,this);this[d](c,"menuhide",this.onButtonMenuHide,this)}},constructButton:function(d){var c=d.events?d:this.createComponent(d,d.split?"splitbutton":this.defaultType);return c},onAdd:function(b){Ext.Toolbar.superclass.onAdd.call(this);this.trackMenu(b);if(this.disabled){b.disable()}},onRemove:function(b){Ext.Toolbar.superclass.onRemove.call(this);if(b==this.activeMenuBtn){delete this.activeMenuBtn}this.trackMenu(b,true)},onDisable:function(){this.items.each(function(b){if(b.disable){b.disable()}})},onEnable:function(){this.items.each(function(b){if(b.enable){b.enable()}})},onButtonTriggerOver:function(b){if(this.activeMenuBtn&&this.activeMenuBtn!=b){this.activeMenuBtn.hideMenu();b.showMenu();this.activeMenuBtn=b}},onButtonMenuShow:function(b){this.activeMenuBtn=b},onButtonMenuHide:function(b){delete this.activeMenuBtn}});Ext.reg("toolbar",Ext.Toolbar);a.Item=Ext.extend(Ext.BoxComponent,{hideParent:true,enable:Ext.emptyFn,disable:Ext.emptyFn,focus:Ext.emptyFn});Ext.reg("tbitem",a.Item);a.Separator=Ext.extend(a.Item,{onRender:function(c,b){this.el=c.createChild({tag:"span",cls:"xtb-sep"},b)}});Ext.reg("tbseparator",a.Separator);a.Spacer=Ext.extend(a.Item,{onRender:function(c,b){this.el=c.createChild({tag:"div",cls:"xtb-spacer",style:this.width?"width:"+this.width+"px":""},b)}});Ext.reg("tbspacer",a.Spacer);a.Fill=Ext.extend(a.Item,{render:Ext.emptyFn,isFill:true});Ext.reg("tbfill",a.Fill);a.TextItem=Ext.extend(a.Item,{constructor:function(b){a.TextItem.superclass.constructor.call(this,Ext.isString(b)?{text:b}:b)},onRender:function(c,b){this.autoEl={cls:"xtb-text",html:this.text||""};a.TextItem.superclass.onRender.call(this,c,b)},setText:function(b){if(this.rendered){this.el.update(b)}else{this.text=b}}});Ext.reg("tbtext",a.TextItem);a.Button=Ext.extend(Ext.Button,{});a.SplitButton=Ext.extend(Ext.SplitButton,{});Ext.reg("tbbutton",a.Button);Ext.reg("tbsplit",a.SplitButton)})();Ext.ButtonGroup=Ext.extend(Ext.Panel,{baseCls:"x-btn-group",layout:"table",defaultType:"button",frame:true,internalDefaults:{removeMode:"container",hideParent:true},initComponent:function(){this.layoutConfig=this.layoutConfig||{};Ext.applyIf(this.layoutConfig,{columns:this.columns});if(!this.title){this.addClass("x-btn-group-notitle")}this.on("afterlayout",this.onAfterLayout,this);Ext.ButtonGroup.superclass.initComponent.call(this)},applyDefaults:function(b){b=Ext.ButtonGroup.superclass.applyDefaults.call(this,b);var a=this.internalDefaults;if(b.events){Ext.applyIf(b.initialConfig,a);Ext.apply(b,a)}else{Ext.applyIf(b,a)}return b},onAfterLayout:function(){var a=this.body.getFrameWidth("lr")+this.body.dom.firstChild.offsetWidth;this.body.setWidth(a);this.el.setWidth(a+this.getFrameWidth())}});Ext.reg("buttongroup",Ext.ButtonGroup);(function(){var a=Ext.Toolbar;Ext.PagingToolbar=Ext.extend(Ext.Toolbar,{pageSize:20,displayMsg:"Displaying {0} - {1} of {2}",emptyMsg:"No data to display",beforePageText:"Page",afterPageText:"of {0}",firstText:"First Page",prevText:"Previous Page",nextText:"Next Page",lastText:"Last Page",refreshText:"Refresh",initComponent:function(){var c=[this.first=new a.Button({tooltip:this.firstText,overflowText:this.firstText,iconCls:"x-tbar-page-first",disabled:true,handler:this.moveFirst,scope:this}),this.prev=new a.Button({tooltip:this.prevText,overflowText:this.prevText,iconCls:"x-tbar-page-prev",disabled:true,handler:this.movePrevious,scope:this}),"-",this.beforePageText,this.inputItem=new Ext.form.NumberField({cls:"x-tbar-page-number",allowDecimals:false,allowNegative:false,enableKeyEvents:true,selectOnFocus:true,submitValue:false,listeners:{scope:this,keydown:this.onPagingKeyDown,blur:this.onPagingBlur}}),this.afterTextItem=new a.TextItem({text:String.format(this.afterPageText,1)}),"-",this.next=new a.Button({tooltip:this.nextText,overflowText:this.nextText,iconCls:"x-tbar-page-next",disabled:true,handler:this.moveNext,scope:this}),this.last=new a.Button({tooltip:this.lastText,overflowText:this.lastText,iconCls:"x-tbar-page-last",disabled:true,handler:this.moveLast,scope:this}),"-",this.refresh=new a.Button({tooltip:this.refreshText,overflowText:this.refreshText,iconCls:"x-tbar-loading",handler:this.doRefresh,scope:this})];var b=this.items||this.buttons||[];if(this.prependButtons){this.items=b.concat(c)}else{this.items=c.concat(b)}delete this.buttons;if(this.displayInfo){this.items.push("->");this.items.push(this.displayItem=new a.TextItem({}))}Ext.PagingToolbar.superclass.initComponent.call(this);this.addEvents("change","beforechange");this.on("afterlayout",this.onFirstLayout,this,{single:true});this.cursor=0;this.bindStore(this.store,true)},onFirstLayout:function(){if(this.dsLoaded){this.onLoad.apply(this,this.dsLoaded)}},updateInfo:function(){if(this.displayItem){var b=this.store.getCount();var c=b==0?this.emptyMsg:String.format(this.displayMsg,this.cursor+1,this.cursor+b,this.store.getTotalCount());this.displayItem.setText(c)}},onLoad:function(b,e,j){if(!this.rendered){this.dsLoaded=[b,e,j];return}var g=this.getParams();this.cursor=(j.params&&j.params[g.start])?j.params[g.start]:0;var i=this.getPageData(),c=i.activePage,h=i.pages;this.afterTextItem.setText(String.format(this.afterPageText,i.pages));this.inputItem.setValue(c);this.first.setDisabled(c==1);this.prev.setDisabled(c==1);this.next.setDisabled(c==h);this.last.setDisabled(c==h);this.refresh.enable();this.updateInfo();this.fireEvent("change",this,i)},getPageData:function(){var b=this.store.getTotalCount();return{total:b,activePage:Math.ceil((this.cursor+this.pageSize)/this.pageSize),pages:b<this.pageSize?1:Math.ceil(b/this.pageSize)}},changePage:function(b){this.doLoad(((b-1)*this.pageSize).constrain(0,this.store.getTotalCount()))},onLoadError:function(){if(!this.rendered){return}this.refresh.enable()},readPage:function(e){var b=this.inputItem.getValue(),c;if(!b||isNaN(c=parseInt(b,10))){this.inputItem.setValue(e.activePage);return false}return c},onPagingFocus:function(){this.inputItem.select()},onPagingBlur:function(b){this.inputItem.setValue(this.getPageData().activePage)},onPagingKeyDown:function(i,h){var c=h.getKey(),j=this.getPageData(),g;if(c==h.RETURN){h.stopEvent();g=this.readPage(j);if(g!==false){g=Math.min(Math.max(1,g),j.pages)-1;this.doLoad(g*this.pageSize)}}else{if(c==h.HOME||c==h.END){h.stopEvent();g=c==h.HOME?1:j.pages;i.setValue(g)}else{if(c==h.UP||c==h.PAGEUP||c==h.DOWN||c==h.PAGEDOWN){h.stopEvent();if((g=this.readPage(j))){var b=h.shiftKey?10:1;if(c==h.DOWN||c==h.PAGEDOWN){b*=-1}g+=b;if(g>=1&g<=j.pages){i.setValue(g)}}}}}},getParams:function(){return this.paramNames||this.store.paramNames},beforeLoad:function(){if(this.rendered&&this.refresh){this.refresh.disable()}},doLoad:function(d){var c={},b=this.getParams();c[b.start]=d;c[b.limit]=this.pageSize;if(this.fireEvent("beforechange",this,c)!==false){this.store.load({params:c})}},moveFirst:function(){this.doLoad(0)},movePrevious:function(){this.doLoad(Math.max(0,this.cursor-this.pageSize))},moveNext:function(){this.doLoad(this.cursor+this.pageSize)},moveLast:function(){var c=this.store.getTotalCount(),b=c%this.pageSize;this.doLoad(b?(c-b):c-this.pageSize)},doRefresh:function(){this.doLoad(this.cursor)},bindStore:function(c,d){var b;if(!d&&this.store){if(c!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.beforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.onLoadError,this)}if(!c){this.store=null}}if(c){c=Ext.StoreMgr.lookup(c);c.on({scope:this,beforeload:this.beforeLoad,load:this.onLoad,exception:this.onLoadError});b=true}this.store=c;if(b){this.onLoad(c,null,{})}},unbind:function(b){this.bindStore(null)},bind:function(b){this.bindStore(b)},onDestroy:function(){this.bindStore(null);Ext.PagingToolbar.superclass.onDestroy.call(this)}})})();Ext.reg("paging",Ext.PagingToolbar);Ext.History=(function(){var e,c;var k=false;var d;function g(){var l=location.href,m=l.indexOf("#"),n=m>=0?l.substr(m+1):null;if(Ext.isGecko){n=decodeURIComponent(n)}return n}function a(){c.value=d}function h(l){d=l;Ext.History.fireEvent("change",l)}function i(m){var l=['<html><body><div id="state">',Ext.util.Format.htmlEncode(m),"</div></body></html>"].join("");try{var o=e.contentWindow.document;o.open();o.write(l);o.close();return true}catch(n){return false}}function b(){if(!e.contentWindow||!e.contentWindow.document){setTimeout(b,10);return}var o=e.contentWindow.document;var m=o.getElementById("state");var l=m?m.innerText:null;var n=g();setInterval(function(){o=e.contentWindow.document;m=o.getElementById("state");var q=m?m.innerText:null;var p=g();if(q!==l){l=q;h(l);location.hash=l;n=l;a()}else{if(p!==n){n=p;i(p)}}},50);k=true;Ext.History.fireEvent("ready",Ext.History)}function j(){d=c.value?c.value:g();if(Ext.isIE){b()}else{var l=g();setInterval(function(){var m=g();if(m!==l){l=m;h(l);a()}},50);k=true;Ext.History.fireEvent("ready",Ext.History)}}return{fieldId:"x-history-field",iframeId:"x-history-frame",events:{},init:function(m,l){if(k){Ext.callback(m,l,[this]);return}if(!Ext.isReady){Ext.onReady(function(){Ext.History.init(m,l)});return}c=Ext.getDom(Ext.History.fieldId);if(Ext.isIE){e=Ext.getDom(Ext.History.iframeId)}this.addEvents("ready","change");if(m){this.on("ready",m,l,{single:true})}j()},add:function(l,m){if(m!==false){if(this.getToken()==l){return true}}if(Ext.isIE){return i(l)}else{location.hash=l;return true}},back:function(){history.go(-1)},forward:function(){history.go(1)},getToken:function(){return k?d:g()}}})();Ext.apply(Ext.History,new Ext.util.Observable());Ext.Tip=Ext.extend(Ext.Panel,{minWidth:40,maxWidth:300,shadow:"sides",defaultAlign:"tl-bl?",autoRender:true,quickShowInterval:250,frame:true,hidden:true,baseCls:"x-tip",floating:{shadow:true,shim:true,useDisplay:true,constrain:false},autoHeight:true,closeAction:"hide",initComponent:function(){Ext.Tip.superclass.initComponent.call(this);if(this.closable&&!this.title){this.elements+=",header"}},afterRender:function(){Ext.Tip.superclass.afterRender.call(this);if(this.closable){this.addTool({id:"close",handler:this[this.closeAction],scope:this})}},showAt:function(a){Ext.Tip.superclass.show.call(this);if(this.measureWidth!==false&&(!this.initialConfig||typeof this.initialConfig.width!="number")){this.doAutoWidth()}if(this.constrainPosition){a=this.el.adjustForConstraints(a)}this.setPagePosition(a[0],a[1])},doAutoWidth:function(a){a=a||0;var b=this.body.getTextWidth();if(this.title){b=Math.max(b,this.header.child("span").getTextWidth(this.title))}b+=this.getFrameWidth()+(this.closable?20:0)+this.body.getPadding("lr")+a;this.setWidth(b.constrain(this.minWidth,this.maxWidth));if(Ext.isIE7&&!this.repainted){this.el.repaint();this.repainted=true}},showBy:function(a,b){if(!this.rendered){this.render(Ext.getBody())}this.showAt(this.el.getAlignToXY(a,b||this.defaultAlign))},initDraggable:function(){this.dd=new Ext.Tip.DD(this,typeof this.draggable=="boolean"?null:this.draggable);this.header.addClass("x-tip-draggable")}});Ext.reg("tip",Ext.Tip);Ext.Tip.DD=function(b,a){Ext.apply(this,a);this.tip=b;Ext.Tip.DD.superclass.constructor.call(this,b.el.id,"WindowDD-"+b.id);this.setHandleElId(b.header.id);this.scroll=false};Ext.extend(Ext.Tip.DD,Ext.dd.DD,{moveOnly:true,scroll:false,headerOffsets:[100,25],startDrag:function(){this.tip.el.disableShadow()},endDrag:function(a){this.tip.el.enableShadow(true)}});Ext.ToolTip=Ext.extend(Ext.Tip,{showDelay:500,hideDelay:200,dismissDelay:5000,trackMouse:false,anchorToTarget:true,anchorOffset:0,targetCounter:0,constrainPosition:false,initComponent:function(){Ext.ToolTip.superclass.initComponent.call(this);this.lastActive=new Date();this.initTarget(this.target);this.origAnchor=this.anchor},onRender:function(b,a){Ext.ToolTip.superclass.onRender.call(this,b,a);this.anchorCls="x-tip-anchor-"+this.getAnchorPosition();this.anchorEl=this.el.createChild({cls:"x-tip-anchor "+this.anchorCls})},afterRender:function(){Ext.ToolTip.superclass.afterRender.call(this);this.anchorEl.setStyle("z-index",this.el.getZIndex()+1).setVisibilityMode(Ext.Element.DISPLAY)},initTarget:function(c){var a;if((a=Ext.get(c))){if(this.target){var b=Ext.get(this.target);this.mun(b,"mouseover",this.onTargetOver,this);this.mun(b,"mouseout",this.onTargetOut,this);this.mun(b,"mousemove",this.onMouseMove,this)}this.mon(a,{mouseover:this.onTargetOver,mouseout:this.onTargetOut,mousemove:this.onMouseMove,scope:this});this.target=a}if(this.anchor){this.anchorTarget=this.target}},onMouseMove:function(b){var a=this.delegate?b.getTarget(this.delegate):this.triggerElement=true;if(a){this.targetXY=b.getXY();if(a===this.triggerElement){if(!this.hidden&&this.trackMouse){this.setPagePosition(this.getTargetXY())}}else{this.hide();this.lastActive=new Date(0);this.onTargetOver(b)}}else{if(!this.closable&&this.isVisible()){this.hide()}}},getTargetXY:function(){if(this.delegate){this.anchorTarget=this.triggerElement}if(this.anchor){this.targetCounter++;var c=this.getOffsets(),l=(this.anchorToTarget&&!this.trackMouse)?this.el.getAlignToXY(this.anchorTarget,this.getAnchorAlign()):this.targetXY,a=Ext.lib.Dom.getViewWidth()-5,h=Ext.lib.Dom.getViewHeight()-5,i=document.documentElement,e=document.body,k=(i.scrollLeft||e.scrollLeft||0)+5,j=(i.scrollTop||e.scrollTop||0)+5,b=[l[0]+c[0],l[1]+c[1]],g=this.getSize();this.anchorEl.removeClass(this.anchorCls);if(this.targetCounter<2){if(b[0]<k){if(this.anchorToTarget){this.defaultAlign="l-r";if(this.mouseOffset){this.mouseOffset[0]*=-1}}this.anchor="left";return this.getTargetXY()}if(b[0]+g.width>a){if(this.anchorToTarget){this.defaultAlign="r-l";if(this.mouseOffset){this.mouseOffset[0]*=-1}}this.anchor="right";return this.getTargetXY()}if(b[1]<j){if(this.anchorToTarget){this.defaultAlign="t-b";if(this.mouseOffset){this.mouseOffset[1]*=-1}}this.anchor="top";return this.getTargetXY()}if(b[1]+g.height>h){if(this.anchorToTarget){this.defaultAlign="b-t";if(this.mouseOffset){this.mouseOffset[1]*=-1}}this.anchor="bottom";return this.getTargetXY()}}this.anchorCls="x-tip-anchor-"+this.getAnchorPosition();this.anchorEl.addClass(this.anchorCls);this.targetCounter=0;return b}else{var d=this.getMouseOffset();return[this.targetXY[0]+d[0],this.targetXY[1]+d[1]]}},getMouseOffset:function(){var a=this.anchor?[0,0]:[15,18];if(this.mouseOffset){a[0]+=this.mouseOffset[0];a[1]+=this.mouseOffset[1]}return a},getAnchorPosition:function(){if(this.anchor){this.tipAnchor=this.anchor.charAt(0)}else{var a=this.defaultAlign.match(/^([a-z]+)-([a-z]+)(\?)?$/);if(!a){throw"AnchorTip.defaultAlign is invalid"}this.tipAnchor=a[1].charAt(0)}switch(this.tipAnchor){case"t":return"top";case"b":return"bottom";case"r":return"right"}return"left"},getAnchorAlign:function(){switch(this.anchor){case"top":return"tl-bl";case"left":return"tl-tr";case"right":return"tr-tl";default:return"bl-tl"}},getOffsets:function(){var b,a=this.getAnchorPosition().charAt(0);if(this.anchorToTarget&&!this.trackMouse){switch(a){case"t":b=[0,9];break;case"b":b=[0,-13];break;case"r":b=[-13,0];break;default:b=[9,0];break}}else{switch(a){case"t":b=[-15-this.anchorOffset,30];break;case"b":b=[-19-this.anchorOffset,-13-this.el.dom.offsetHeight];break;case"r":b=[-15-this.el.dom.offsetWidth,-13-this.anchorOffset];break;default:b=[25,-13-this.anchorOffset];break}}var c=this.getMouseOffset();b[0]+=c[0];b[1]+=c[1];return b},onTargetOver:function(b){if(this.disabled||b.within(this.target.dom,true)){return}var a=b.getTarget(this.delegate);if(a){this.triggerElement=a;this.clearTimer("hide");this.targetXY=b.getXY();this.delayShow()}},delayShow:function(){if(this.hidden&&!this.showTimer){if(this.lastActive.getElapsed()<this.quickShowInterval){this.show()}else{this.showTimer=this.show.defer(this.showDelay,this)}}else{if(!this.hidden&&this.autoHide!==false){this.show()}}},onTargetOut:function(a){if(this.disabled||a.within(this.target.dom,true)){return}this.clearTimer("show");if(this.autoHide!==false){this.delayHide()}},delayHide:function(){if(!this.hidden&&!this.hideTimer){this.hideTimer=this.hide.defer(this.hideDelay,this)}},hide:function(){this.clearTimer("dismiss");this.lastActive=new Date();if(this.anchorEl){this.anchorEl.hide()}Ext.ToolTip.superclass.hide.call(this);delete this.triggerElement},show:function(){if(this.anchor){this.showAt([-1000,-1000]);this.origConstrainPosition=this.constrainPosition;this.constrainPosition=false;this.anchor=this.origAnchor}this.showAt(this.getTargetXY());if(this.anchor){this.anchorEl.show();this.syncAnchor();this.constrainPosition=this.origConstrainPosition}else{this.anchorEl.hide()}},showAt:function(a){this.lastActive=new Date();this.clearTimers();Ext.ToolTip.superclass.showAt.call(this,a);if(this.dismissDelay&&this.autoHide!==false){this.dismissTimer=this.hide.defer(this.dismissDelay,this)}if(this.anchor&&!this.anchorEl.isVisible()){this.syncAnchor();this.anchorEl.show()}else{this.anchorEl.hide()}},syncAnchor:function(){var a,b,c;switch(this.tipAnchor.charAt(0)){case"t":a="b";b="tl";c=[20+this.anchorOffset,2];break;case"r":a="l";b="tr";c=[-2,11+this.anchorOffset];break;case"b":a="t";b="bl";c=[20+this.anchorOffset,-2];break;default:a="r";b="tl";c=[2,11+this.anchorOffset];break}this.anchorEl.alignTo(this.el,a+"-"+b,c)},setPagePosition:function(a,b){Ext.ToolTip.superclass.setPagePosition.call(this,a,b);if(this.anchor){this.syncAnchor()}},clearTimer:function(a){a=a+"Timer";clearTimeout(this[a]);delete this[a]},clearTimers:function(){this.clearTimer("show");this.clearTimer("dismiss");this.clearTimer("hide")},onShow:function(){Ext.ToolTip.superclass.onShow.call(this);Ext.getDoc().on("mousedown",this.onDocMouseDown,this)},onHide:function(){Ext.ToolTip.superclass.onHide.call(this);Ext.getDoc().un("mousedown",this.onDocMouseDown,this)},onDocMouseDown:function(a){if(this.autoHide!==true&&!this.closable&&!a.within(this.el.dom)){this.disable();this.doEnable.defer(100,this)}},doEnable:function(){if(!this.isDestroyed){this.enable()}},onDisable:function(){this.clearTimers();this.hide()},adjustPosition:function(a,d){if(this.constrainPosition){var c=this.targetXY[1],b=this.getSize().height;if(d<=c&&(d+b)>=c){d=c-b-5}}return{x:a,y:d}},beforeDestroy:function(){this.clearTimers();Ext.destroy(this.anchorEl);delete this.anchorEl;delete this.target;delete this.anchorTarget;delete this.triggerElement;Ext.ToolTip.superclass.beforeDestroy.call(this)},onDestroy:function(){Ext.getDoc().un("mousedown",this.onDocMouseDown,this);Ext.ToolTip.superclass.onDestroy.call(this)}});Ext.reg("tooltip",Ext.ToolTip);Ext.QuickTip=Ext.extend(Ext.ToolTip,{interceptTitles:false,tagConfig:{namespace:"ext",attribute:"qtip",width:"qwidth",target:"target",title:"qtitle",hide:"hide",cls:"qclass",align:"qalign",anchor:"anchor"},initComponent:function(){this.target=this.target||Ext.getDoc();this.targets=this.targets||{};Ext.QuickTip.superclass.initComponent.call(this)},register:function(e){var h=Ext.isArray(e)?e:arguments;for(var g=0,a=h.length;g<a;g++){var l=h[g];var k=l.target;if(k){if(Ext.isArray(k)){for(var d=0,b=k.length;d<b;d++){this.targets[Ext.id(k[d])]=l}}else{this.targets[Ext.id(k)]=l}}}},unregister:function(a){delete this.targets[Ext.id(a)]},cancelShow:function(b){var a=this.activeTarget;b=Ext.get(b).dom;if(this.isVisible()){if(a&&a.el==b){this.hide()}}else{if(a&&a.el==b){this.clearTimer("show")}}},getTipCfg:function(d){var b=d.getTarget(),c,a;if(this.interceptTitles&&b.title&&Ext.isString(b.title)){c=b.title;b.qtip=c;b.removeAttribute("title");d.preventDefault()}else{a=this.tagConfig;c=b.qtip||Ext.fly(b).getAttribute(a.attribute,a.namespace)}return c},onTargetOver:function(i){if(this.disabled){return}this.targetXY=i.getXY();var c=i.getTarget();if(!c||c.nodeType!==1||c==document||c==document.body){return}if(this.activeTarget&&((c==this.activeTarget.el)||Ext.fly(this.activeTarget.el).contains(c))){this.clearTimer("hide");this.show();return}if(c&&this.targets[c.id]){this.activeTarget=this.targets[c.id];this.activeTarget.el=c;this.anchor=this.activeTarget.anchor;if(this.anchor){this.anchorTarget=c}this.delayShow();return}var g,h=Ext.fly(c),b=this.tagConfig,d=b.namespace;if(g=this.getTipCfg(i)){var a=h.getAttribute(b.hide,d);this.activeTarget={el:c,text:g,width:h.getAttribute(b.width,d),autoHide:a!="user"&&a!=="false",title:h.getAttribute(b.title,d),cls:h.getAttribute(b.cls,d),align:h.getAttribute(b.align,d)};this.anchor=h.getAttribute(b.anchor,d);if(this.anchor){this.anchorTarget=c}this.delayShow()}},onTargetOut:function(a){if(this.activeTarget&&a.within(this.activeTarget.el)&&!this.getTipCfg(a)){return}this.clearTimer("show");if(this.autoHide!==false){this.delayHide()}},showAt:function(b){var a=this.activeTarget;if(a){if(!this.rendered){this.render(Ext.getBody());this.activeTarget=a}if(a.width){this.setWidth(a.width);this.body.setWidth(this.adjustBodyWidth(a.width-this.getFrameWidth()));this.measureWidth=false}else{this.measureWidth=true}this.setTitle(a.title||"");this.body.update(a.text);this.autoHide=a.autoHide;this.dismissDelay=a.dismissDelay||this.dismissDelay;if(this.lastCls){this.el.removeClass(this.lastCls);delete this.lastCls}if(a.cls){this.el.addClass(a.cls);this.lastCls=a.cls}if(this.anchor){this.constrainPosition=false}else{if(a.align){b=this.el.getAlignToXY(a.el,a.align);this.constrainPosition=false}else{this.constrainPosition=true}}}Ext.QuickTip.superclass.showAt.call(this,b)},hide:function(){delete this.activeTarget;Ext.QuickTip.superclass.hide.call(this)}});Ext.reg("quicktip",Ext.QuickTip);Ext.QuickTips=function(){var b,a=false;return{init:function(c){if(!b){if(!Ext.isReady){Ext.onReady(function(){Ext.QuickTips.init(c)});return}b=new Ext.QuickTip({elements:"header,body",disabled:a});if(c!==false){b.render(Ext.getBody())}}},ddDisable:function(){if(b&&!a){b.disable()}},ddEnable:function(){if(b&&!a){b.enable()}},enable:function(){if(b){b.enable()}a=false},disable:function(){if(b){b.disable()}a=true},isEnabled:function(){return b!==undefined&&!b.disabled},getQuickTip:function(){return b},register:function(){b.register.apply(b,arguments)},unregister:function(){b.unregister.apply(b,arguments)},tips:function(){b.register.apply(b,arguments)}}}();Ext.slider.Tip=Ext.extend(Ext.Tip,{minWidth:10,offsets:[0,-10],init:function(a){a.on({scope:this,dragstart:this.onSlide,drag:this.onSlide,dragend:this.hide,destroy:this.destroy})},onSlide:function(b,c,a){this.show();this.body.update(this.getText(a));this.doAutoWidth();this.el.alignTo(a.el,"b-t?",this.offsets)},getText:function(a){return String(a.value)}});Ext.ux.SliderTip=Ext.slider.Tip;Ext.tree.TreePanel=Ext.extend(Ext.Panel,{rootVisible:true,animate:Ext.enableFx,lines:true,enableDD:false,hlDrop:Ext.enableFx,pathSeparator:"/",bubbleEvents:[],initComponent:function(){Ext.tree.TreePanel.superclass.initComponent.call(this);if(!this.eventModel){this.eventModel=new Ext.tree.TreeEventModel(this)}var a=this.loader;if(!a){a=new Ext.tree.TreeLoader({dataUrl:this.dataUrl,requestMethod:this.requestMethod})}else{if(Ext.isObject(a)&&!a.load){a=new Ext.tree.TreeLoader(a)}}this.loader=a;this.nodeHash={};if(this.root){var b=this.root;delete this.root;this.setRootNode(b)}this.addEvents("append","remove","movenode","insert","beforeappend","beforeremove","beforemovenode","beforeinsert","beforeload","load","textchange","beforeexpandnode","beforecollapsenode","expandnode","disabledchange","collapsenode","beforeclick","click","containerclick","checkchange","beforedblclick","dblclick","containerdblclick","contextmenu","containercontextmenu","beforechildrenrendered","startdrag","enddrag","dragdrop","beforenodedrop","nodedrop","nodedragover");if(this.singleExpand){this.on("beforeexpandnode",this.restrictExpand,this)}},proxyNodeEvent:function(c,b,a,h,g,e,d){if(c=="collapse"||c=="expand"||c=="beforecollapse"||c=="beforeexpand"||c=="move"||c=="beforemove"){c=c+"node"}return this.fireEvent(c,b,a,h,g,e,d)},getRootNode:function(){return this.root},setRootNode:function(b){this.destroyRoot();if(!b.render){b=this.loader.createNode(b)}this.root=b;b.ownerTree=this;b.isRoot=true;this.registerNode(b);if(!this.rootVisible){var a=b.attributes.uiProvider;b.ui=a?new a(b):new Ext.tree.RootTreeNodeUI(b)}if(this.innerCt){this.clearInnerCt();this.renderRoot()}return b},clearInnerCt:function(){this.innerCt.update("")},renderRoot:function(){this.root.render();if(!this.rootVisible){this.root.renderChildren()}},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a){this.nodeHash[a.id]=a},unregisterNode:function(a){delete this.nodeHash[a.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"},restrictExpand:function(a){var b=a.parentNode;if(b){if(b.expandedChild&&b.expandedChild.parentNode==b){b.expandedChild.collapse()}b.expandedChild=a}},getChecked:function(b,c){c=c||this.root;var d=[];var e=function(){if(this.attributes.checked){d.push(!b?this:(b=="id"?this.id:this.attributes[b]))}};c.cascade(e);return d},getLoader:function(){return this.loader},expandAll:function(){this.root.expand(true)},collapseAll:function(){this.root.collapse(true)},getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.tree.DefaultSelectionModel()}return this.selModel},expandPath:function(g,a,h){if(Ext.isEmpty(g)){if(h){h(false,undefined)}return}a=a||"id";var d=g.split(this.pathSeparator);var c=this.root;if(c.attributes[a]!=d[1]){if(h){h(false,null)}return}var b=1;var e=function(){if(++b==d.length){if(h){h(true,c)}return}var i=c.findChild(a,d[b]);if(!i){if(h){h(false,c)}return}c=i;i.expand(false,false,e)};c.expand(false,false,e)},selectPath:function(e,a,g){if(Ext.isEmpty(e)){if(g){g(false,undefined)}return}a=a||"id";var c=e.split(this.pathSeparator),b=c.pop();if(c.length>1){var d=function(i,h){if(i&&h){var j=h.findChild(a,b);if(j){j.select();if(g){g(true,j)}}else{if(g){g(false,j)}}}else{if(g){g(false,j)}}};this.expandPath(c.join(this.pathSeparator),a,d)}else{this.root.select();if(g){g(true,this.root)}}},getTreeEl:function(){return this.body},onRender:function(b,a){Ext.tree.TreePanel.superclass.onRender.call(this,b,a);this.el.addClass("x-tree");this.innerCt=this.body.createChild({tag:"ul",cls:"x-tree-root-ct "+(this.useArrows?"x-tree-arrows":this.lines?"x-tree-lines":"x-tree-no-lines")})},initEvents:function(){Ext.tree.TreePanel.superclass.initEvents.call(this);if(this.containerScroll){Ext.dd.ScrollManager.register(this.body)}if((this.enableDD||this.enableDrop)&&!this.dropZone){this.dropZone=new Ext.tree.TreeDropZone(this,this.dropConfig||{ddGroup:this.ddGroup||"TreeDD",appendOnly:this.ddAppendOnly===true})}if((this.enableDD||this.enableDrag)&&!this.dragZone){this.dragZone=new Ext.tree.TreeDragZone(this,this.dragConfig||{ddGroup:this.ddGroup||"TreeDD",scroll:this.ddScroll})}this.getSelectionModel().init(this)},afterRender:function(){Ext.tree.TreePanel.superclass.afterRender.call(this);this.renderRoot()},beforeDestroy:function(){if(this.rendered){Ext.dd.ScrollManager.unregister(this.body);Ext.destroy(this.dropZone,this.dragZone)}this.destroyRoot();Ext.destroy(this.loader);this.nodeHash=this.root=this.loader=null;Ext.tree.TreePanel.superclass.beforeDestroy.call(this)},destroyRoot:function(){if(this.root&&this.root.destroy){this.root.destroy(true)}}});Ext.tree.TreePanel.nodeTypes={};Ext.reg("treepanel",Ext.tree.TreePanel);Ext.tree.TreeEventModel=function(a){this.tree=a;this.tree.on("render",this.initEvents,this)};Ext.tree.TreeEventModel.prototype={initEvents:function(){var a=this.tree;if(a.trackMouseOver!==false){a.mon(a.innerCt,{scope:this,mouseover:this.delegateOver,mouseout:this.delegateOut})}a.mon(a.getTreeEl(),{scope:this,click:this.delegateClick,dblclick:this.delegateDblClick,contextmenu:this.delegateContextMenu})},getNode:function(b){var a;if(a=b.getTarget(".x-tree-node-el",10)){var c=Ext.fly(a,"_treeEvents").getAttribute("tree-node-id","ext");if(c){return this.tree.getNodeById(c)}}return null},getNodeTarget:function(b){var a=b.getTarget(".x-tree-node-icon",1);if(!a){a=b.getTarget(".x-tree-node-el",6)}return a},delegateOut:function(b,a){if(!this.beforeEvent(b)){return}if(b.getTarget(".x-tree-ec-icon",1)){var c=this.getNode(b);this.onIconOut(b,c);if(c==this.lastEcOver){delete this.lastEcOver}}if((a=this.getNodeTarget(b))&&!b.within(a,true)){this.onNodeOut(b,this.getNode(b))}},delegateOver:function(b,a){if(!this.beforeEvent(b)){return}if(Ext.isGecko&&!this.trackingDoc){Ext.getBody().on("mouseover",this.trackExit,this);this.trackingDoc=true}if(this.lastEcOver){this.onIconOut(b,this.lastEcOver);delete this.lastEcOver}if(b.getTarget(".x-tree-ec-icon",1)){this.lastEcOver=this.getNode(b);this.onIconOver(b,this.lastEcOver)}if(a=this.getNodeTarget(b)){this.onNodeOver(b,this.getNode(b))}},trackExit:function(a){if(this.lastOverNode){if(this.lastOverNode.ui&&!a.within(this.lastOverNode.ui.getEl())){this.onNodeOut(a,this.lastOverNode)}delete this.lastOverNode;Ext.getBody().un("mouseover",this.trackExit,this);this.trackingDoc=false}},delegateClick:function(b,a){if(this.beforeEvent(b)){if(b.getTarget("input[type=checkbox]",1)){this.onCheckboxClick(b,this.getNode(b))}else{if(b.getTarget(".x-tree-ec-icon",1)){this.onIconClick(b,this.getNode(b))}else{if(this.getNodeTarget(b)){this.onNodeClick(b,this.getNode(b))}}}}else{this.checkContainerEvent(b,"click")}},delegateDblClick:function(b,a){if(this.beforeEvent(b)){if(this.getNodeTarget(b)){this.onNodeDblClick(b,this.getNode(b))}}else{this.checkContainerEvent(b,"dblclick")}},delegateContextMenu:function(b,a){if(this.beforeEvent(b)){if(this.getNodeTarget(b)){this.onNodeContextMenu(b,this.getNode(b))}}else{this.checkContainerEvent(b,"contextmenu")}},checkContainerEvent:function(b,a){if(this.disabled){b.stopEvent();return false}this.onContainerEvent(b,a)},onContainerEvent:function(b,a){this.tree.fireEvent("container"+a,this.tree,b)},onNodeClick:function(b,a){a.ui.onClick(b)},onNodeOver:function(b,a){this.lastOverNode=a;a.ui.onOver(b)},onNodeOut:function(b,a){a.ui.onOut(b)},onIconOver:function(b,a){a.ui.addClass("x-tree-ec-over")},onIconOut:function(b,a){a.ui.removeClass("x-tree-ec-over")},onIconClick:function(b,a){a.ui.ecClick(b)},onCheckboxClick:function(b,a){a.ui.onCheckChange(b)},onNodeDblClick:function(b,a){a.ui.onDblClick(b)},onNodeContextMenu:function(b,a){a.ui.onContextMenu(b)},beforeEvent:function(b){var a=this.getNode(b);if(this.disabled||!a||!a.ui){b.stopEvent();return false}return true},disable:function(){this.disabled=true},enable:function(){this.disabled=false}};Ext.tree.DefaultSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(a){this.selNode=null;this.addEvents("selectionchange","beforeselect");Ext.apply(this,a);Ext.tree.DefaultSelectionModel.superclass.constructor.call(this)},init:function(a){this.tree=a;a.mon(a.getTreeEl(),"keydown",this.onKeyDown,this);a.on("click",this.onNodeClick,this)},onNodeClick:function(a,b){this.select(a)},select:function(c,a){if(!Ext.fly(c.ui.wrap).isVisible()&&a){return a.call(this,c)}var b=this.selNode;if(c==b){c.ui.onSelectedChange(true)}else{if(this.fireEvent("beforeselect",this,c,b)!==false){if(b&&b.ui){b.ui.onSelectedChange(false)}this.selNode=c;c.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,c,b)}}return c},unselect:function(b,a){if(this.selNode==b){this.clearSelections(a)}},clearSelections:function(a){var b=this.selNode;if(b){b.ui.onSelectedChange(false);this.selNode=null;if(a!==true){this.fireEvent("selectionchange",this,null)}}return b},getSelectedNode:function(){return this.selNode},isSelected:function(a){return this.selNode==a},selectPrevious:function(a){if(!(a=a||this.selNode||this.lastSelNode)){return null}var c=a.previousSibling;if(c){if(!c.isExpanded()||c.childNodes.length<1){return this.select(c,this.selectPrevious)}else{var b=c.lastChild;while(b&&b.isExpanded()&&Ext.fly(b.ui.wrap).isVisible()&&b.childNodes.length>0){b=b.lastChild}return this.select(b,this.selectPrevious)}}else{if(a.parentNode&&(this.tree.rootVisible||!a.parentNode.isRoot)){return this.select(a.parentNode,this.selectPrevious)}}return null},selectNext:function(b){if(!(b=b||this.selNode||this.lastSelNode)){return null}if(b.firstChild&&b.isExpanded()&&Ext.fly(b.ui.wrap).isVisible()){return this.select(b.firstChild,this.selectNext)}else{if(b.nextSibling){return this.select(b.nextSibling,this.selectNext)}else{if(b.parentNode){var a=null;b.parentNode.bubble(function(){if(this.nextSibling){a=this.getOwnerTree().selModel.select(this.nextSibling,this.selectNext);return false}});return a}}}return null},onKeyDown:function(c){var b=this.selNode||this.lastSelNode;var d=this;if(!b){return}var a=c.getKey();switch(a){case c.DOWN:c.stopEvent();this.selectNext();break;case c.UP:c.stopEvent();this.selectPrevious();break;case c.RIGHT:c.preventDefault();if(b.hasChildNodes()){if(!b.isExpanded()){b.expand()}else{if(b.firstChild){this.select(b.firstChild,c)}}}break;case c.LEFT:c.preventDefault();if(b.hasChildNodes()&&b.isExpanded()){b.collapse()}else{if(b.parentNode&&(this.tree.rootVisible||b.parentNode!=this.tree.getRootNode())){this.select(b.parentNode,c)}}break}}});Ext.tree.MultiSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(a){this.selNodes=[];this.selMap={};this.addEvents("selectionchange");Ext.apply(this,a);Ext.tree.MultiSelectionModel.superclass.constructor.call(this)},init:function(a){this.tree=a;a.mon(a.getTreeEl(),"keydown",this.onKeyDown,this);a.on("click",this.onNodeClick,this)},onNodeClick:function(a,b){if(b.ctrlKey&&this.isSelected(a)){this.unselect(a)}else{this.select(a,b,b.ctrlKey)}},select:function(a,c,b){if(b!==true){this.clearSelections(true)}if(this.isSelected(a)){this.lastSelNode=a;return a}this.selNodes.push(a);this.selMap[a.id]=a;this.lastSelNode=a;a.ui.onSelectedChange(true);this.fireEvent("selectionchange",this,this.selNodes);return a},unselect:function(b){if(this.selMap[b.id]){b.ui.onSelectedChange(false);var c=this.selNodes;var a=c.indexOf(b);if(a!=-1){this.selNodes.splice(a,1)}delete this.selMap[b.id];this.fireEvent("selectionchange",this,this.selNodes)}},clearSelections:function(b){var d=this.selNodes;if(d.length>0){for(var c=0,a=d.length;c<a;c++){d[c].ui.onSelectedChange(false)}this.selNodes=[];this.selMap={};if(b!==true){this.fireEvent("selectionchange",this,this.selNodes)}}},isSelected:function(a){return this.selMap[a.id]?true:false},getSelectedNodes:function(){return this.selNodes.concat([])},onKeyDown:Ext.tree.DefaultSelectionModel.prototype.onKeyDown,selectNext:Ext.tree.DefaultSelectionModel.prototype.selectNext,selectPrevious:Ext.tree.DefaultSelectionModel.prototype.selectPrevious});Ext.data.Tree=Ext.extend(Ext.util.Observable,{constructor:function(a){this.nodeHash={};this.root=null;if(a){this.setRootNode(a)}this.addEvents("append","remove","move","insert","beforeappend","beforeremove","beforemove","beforeinsert");Ext.data.Tree.superclass.constructor.call(this)},pathSeparator:"/",proxyNodeEvent:function(){return this.fireEvent.apply(this,arguments)},getRootNode:function(){return this.root},setRootNode:function(a){this.root=a;a.ownerTree=this;a.isRoot=true;this.registerNode(a);return a},getNodeById:function(a){return this.nodeHash[a]},registerNode:function(a){this.nodeHash[a.id]=a},unregisterNode:function(a){delete this.nodeHash[a.id]},toString:function(){return"[Tree"+(this.id?" "+this.id:"")+"]"}});Ext.data.Node=Ext.extend(Ext.util.Observable,{constructor:function(a){this.attributes=a||{};this.leaf=this.attributes.leaf;this.id=this.attributes.id;if(!this.id){this.id=Ext.id(null,"xnode-");this.attributes.id=this.id}this.childNodes=[];this.parentNode=null;this.firstChild=null;this.lastChild=null;this.previousSibling=null;this.nextSibling=null;this.addEvents({append:true,remove:true,move:true,insert:true,beforeappend:true,beforeremove:true,beforemove:true,beforeinsert:true});this.listeners=this.attributes.listeners;Ext.data.Node.superclass.constructor.call(this)},fireEvent:function(b){if(Ext.data.Node.superclass.fireEvent.apply(this,arguments)===false){return false}var a=this.getOwnerTree();if(a){if(a.proxyNodeEvent.apply(a,arguments)===false){return false}}return true},isLeaf:function(){return this.leaf===true},setFirstChild:function(a){this.firstChild=a},setLastChild:function(a){this.lastChild=a},isLast:function(){return(!this.parentNode?true:this.parentNode.lastChild==this)},isFirst:function(){return(!this.parentNode?true:this.parentNode.firstChild==this)},hasChildNodes:function(){return !this.isLeaf()&&this.childNodes.length>0},isExpandable:function(){return this.attributes.expandable||this.hasChildNodes()},appendChild:function(e){var g=false;if(Ext.isArray(e)){g=e}else{if(arguments.length>1){g=arguments}}if(g){for(var d=0,a=g.length;d<a;d++){this.appendChild(g[d])}}else{if(this.fireEvent("beforeappend",this.ownerTree,this,e)===false){return false}var b=this.childNodes.length;var c=e.parentNode;if(c){if(e.fireEvent("beforemove",e.getOwnerTree(),e,c,this,b)===false){return false}c.removeChild(e)}b=this.childNodes.length;if(b===0){this.setFirstChild(e)}this.childNodes.push(e);e.parentNode=this;var h=this.childNodes[b-1];if(h){e.previousSibling=h;h.nextSibling=e}else{e.previousSibling=null}e.nextSibling=null;this.setLastChild(e);e.setOwnerTree(this.getOwnerTree());this.fireEvent("append",this.ownerTree,this,e,b);if(c){e.fireEvent("move",this.ownerTree,e,c,this,b)}return e}},removeChild:function(c,b){var a=this.childNodes.indexOf(c);if(a==-1){return false}if(this.fireEvent("beforeremove",this.ownerTree,this,c)===false){return false}this.childNodes.splice(a,1);if(c.previousSibling){c.previousSibling.nextSibling=c.nextSibling}if(c.nextSibling){c.nextSibling.previousSibling=c.previousSibling}if(this.firstChild==c){this.setFirstChild(c.nextSibling)}if(this.lastChild==c){this.setLastChild(c.previousSibling)}this.fireEvent("remove",this.ownerTree,this,c);if(b){c.destroy(true)}else{c.clear()}return c},clear:function(a){this.setOwnerTree(null,a);this.parentNode=this.previousSibling=this.nextSibling=null;if(a){this.firstChild=this.lastChild=null}},destroy:function(a){if(a===true){this.purgeListeners();this.clear(true);Ext.each(this.childNodes,function(b){b.destroy(true)});this.childNodes=null}else{this.remove(true)}},insertBefore:function(d,a){if(!a){return this.appendChild(d)}if(d==a){return false}if(this.fireEvent("beforeinsert",this.ownerTree,this,d,a)===false){return false}var b=this.childNodes.indexOf(a);var c=d.parentNode;var e=b;if(c==this&&this.childNodes.indexOf(d)<b){e--}if(c){if(d.fireEvent("beforemove",d.getOwnerTree(),d,c,this,b,a)===false){return false}c.removeChild(d)}if(e===0){this.setFirstChild(d)}this.childNodes.splice(e,0,d);d.parentNode=this;var g=this.childNodes[e-1];if(g){d.previousSibling=g;g.nextSibling=d}else{d.previousSibling=null}d.nextSibling=a;a.previousSibling=d;d.setOwnerTree(this.getOwnerTree());this.fireEvent("insert",this.ownerTree,this,d,a);if(c){d.fireEvent("move",this.ownerTree,d,c,this,e,a)}return d},remove:function(a){if(this.parentNode){this.parentNode.removeChild(this,a)}return this},removeAll:function(a){var c=this.childNodes,b;while((b=c[0])){this.removeChild(b,a)}return this},item:function(a){return this.childNodes[a]},replaceChild:function(a,c){var b=c?c.nextSibling:null;this.removeChild(c);this.insertBefore(a,b);return c},indexOf:function(a){return this.childNodes.indexOf(a)},getOwnerTree:function(){if(!this.ownerTree){var a=this;while(a){if(a.ownerTree){this.ownerTree=a.ownerTree;break}a=a.parentNode}}return this.ownerTree},getDepth:function(){var b=0;var a=this;while(a.parentNode){++b;a=a.parentNode}return b},setOwnerTree:function(a,b){if(a!=this.ownerTree){if(this.ownerTree){this.ownerTree.unregisterNode(this)}this.ownerTree=a;if(b!==true){Ext.each(this.childNodes,function(c){c.setOwnerTree(a)})}if(a){a.registerNode(this)}}},setId:function(b){if(b!==this.id){var a=this.ownerTree;if(a){a.unregisterNode(this)}this.id=this.attributes.id=b;if(a){a.registerNode(this)}this.onIdChange(b)}},onIdChange:Ext.emptyFn,getPath:function(c){c=c||"id";var e=this.parentNode;var a=[this.attributes[c]];while(e){a.unshift(e.attributes[c]);e=e.parentNode}var d=this.getOwnerTree().pathSeparator;return d+a.join(d)},bubble:function(c,b,a){var d=this;while(d){if(c.apply(b||d,a||[d])===false){break}d=d.parentNode}},cascade:function(g,e,b){if(g.apply(e||this,b||[this])!==false){var d=this.childNodes;for(var c=0,a=d.length;c<a;c++){d[c].cascade(g,e,b)}}},eachChild:function(g,e,b){var d=this.childNodes;for(var c=0,a=d.length;c<a;c++){if(g.apply(e||d[c],b||[d[c]])===false){break}}},findChild:function(b,c,a){return this.findChildBy(function(){return this.attributes[b]==c},null,a)},findChildBy:function(h,g,b){var e=this.childNodes,a=e.length,d=0,j,c;for(;d<a;d++){j=e[d];if(h.call(g||j,j)===true){return j}else{if(b){c=j.findChildBy(h,g,b);if(c!=null){return c}}}}return null},sort:function(e,d){var c=this.childNodes;var a=c.length;if(a>0){var g=d?function(){e.apply(d,arguments)}:e;c.sort(g);for(var b=0;b<a;b++){var h=c[b];h.previousSibling=c[b-1];h.nextSibling=c[b+1];if(b===0){this.setFirstChild(h)}if(b==a-1){this.setLastChild(h)}}}},contains:function(a){return a.isAncestor(this)},isAncestor:function(a){var b=this.parentNode;while(b){if(b==a){return true}b=b.parentNode}return false},toString:function(){return"[Node"+(this.id?" "+this.id:"")+"]"}});Ext.tree.TreeNode=Ext.extend(Ext.data.Node,{constructor:function(a){a=a||{};if(Ext.isString(a)){a={text:a}}this.childrenRendered=false;this.rendered=false;Ext.tree.TreeNode.superclass.constructor.call(this,a);this.expanded=a.expanded===true;this.isTarget=a.isTarget!==false;this.draggable=a.draggable!==false&&a.allowDrag!==false;this.allowChildren=a.allowChildren!==false&&a.allowDrop!==false;this.text=a.text;this.disabled=a.disabled===true;this.hidden=a.hidden===true;this.addEvents("textchange","beforeexpand","beforecollapse","expand","disabledchange","collapse","beforeclick","click","checkchange","beforedblclick","dblclick","contextmenu","beforechildrenrendered");var b=this.attributes.uiProvider||this.defaultUI||Ext.tree.TreeNodeUI;this.ui=new b(this)},preventHScroll:true,isExpanded:function(){return this.expanded},getUI:function(){return this.ui},getLoader:function(){var a;return this.loader||((a=this.getOwnerTree())&&a.loader?a.loader:(this.loader=new Ext.tree.TreeLoader()))},setFirstChild:function(a){var b=this.firstChild;Ext.tree.TreeNode.superclass.setFirstChild.call(this,a);if(this.childrenRendered&&b&&a!=b){b.renderIndent(true,true)}if(this.rendered){this.renderIndent(true,true)}},setLastChild:function(b){var a=this.lastChild;Ext.tree.TreeNode.superclass.setLastChild.call(this,b);if(this.childrenRendered&&a&&b!=a){a.renderIndent(true,true)}if(this.rendered){this.renderIndent(true,true)}},appendChild:function(b){if(!b.render&&!Ext.isArray(b)){b=this.getLoader().createNode(b)}var a=Ext.tree.TreeNode.superclass.appendChild.call(this,b);if(a&&this.childrenRendered){a.render()}this.ui.updateExpandIcon();return a},removeChild:function(b,a){this.ownerTree.getSelectionModel().unselect(b);Ext.tree.TreeNode.superclass.removeChild.apply(this,arguments);if(!a){var c=b.ui.rendered;if(c){b.ui.remove()}if(c&&this.childNodes.length<1){this.collapse(false,false)}else{this.ui.updateExpandIcon()}if(!this.firstChild&&!this.isHiddenRoot()){this.childrenRendered=false}}return b},insertBefore:function(c,a){if(!c.render){c=this.getLoader().createNode(c)}var b=Ext.tree.TreeNode.superclass.insertBefore.call(this,c,a);if(b&&a&&this.childrenRendered){c.render()}this.ui.updateExpandIcon();return b},setText:function(b){var a=this.text;this.text=this.attributes.text=b;if(this.rendered){this.ui.onTextChange(this,b,a)}this.fireEvent("textchange",this,b,a)},setIconCls:function(b){var a=this.attributes.iconCls;this.attributes.iconCls=b;if(this.rendered){this.ui.onIconClsChange(this,b,a)}},setTooltip:function(a,b){this.attributes.qtip=a;this.attributes.qtipTitle=b;if(this.rendered){this.ui.onTipChange(this,a,b)}},setIcon:function(a){this.attributes.icon=a;if(this.rendered){this.ui.onIconChange(this,a)}},setHref:function(a,b){this.attributes.href=a;this.attributes.hrefTarget=b;if(this.rendered){this.ui.onHrefChange(this,a,b)}},setCls:function(b){var a=this.attributes.cls;this.attributes.cls=b;if(this.rendered){this.ui.onClsChange(this,b,a)}},select:function(){var a=this.getOwnerTree();if(a){a.getSelectionModel().select(this)}},unselect:function(a){var b=this.getOwnerTree();if(b){b.getSelectionModel().unselect(this,a)}},isSelected:function(){var a=this.getOwnerTree();return a?a.getSelectionModel().isSelected(this):false},expand:function(a,c,d,b){if(!this.expanded){if(this.fireEvent("beforeexpand",this,a,c)===false){return}if(!this.childrenRendered){this.renderChildren()}this.expanded=true;if(!this.isHiddenRoot()&&(this.getOwnerTree().animate&&c!==false)||c){this.ui.animExpand(function(){this.fireEvent("expand",this);this.runCallback(d,b||this,[this]);if(a===true){this.expandChildNodes(true,true)}}.createDelegate(this));return}else{this.ui.expand();this.fireEvent("expand",this);this.runCallback(d,b||this,[this])}}else{this.runCallback(d,b||this,[this])}if(a===true){this.expandChildNodes(true)}},runCallback:function(a,c,b){if(Ext.isFunction(a)){a.apply(c,b)}},isHiddenRoot:function(){return this.isRoot&&!this.getOwnerTree().rootVisible},collapse:function(b,g,h,e){if(this.expanded&&!this.isHiddenRoot()){if(this.fireEvent("beforecollapse",this,b,g)===false){return}this.expanded=false;if((this.getOwnerTree().animate&&g!==false)||g){this.ui.animCollapse(function(){this.fireEvent("collapse",this);this.runCallback(h,e||this,[this]);if(b===true){this.collapseChildNodes(true)}}.createDelegate(this));return}else{this.ui.collapse();this.fireEvent("collapse",this);this.runCallback(h,e||this,[this])}}else{if(!this.expanded){this.runCallback(h,e||this,[this])}}if(b===true){var d=this.childNodes;for(var c=0,a=d.length;c<a;c++){d[c].collapse(true,false)}}},delayedExpand:function(a){if(!this.expandProcId){this.expandProcId=this.expand.defer(a,this)}},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId)}this.expandProcId=false},toggle:function(){if(this.expanded){this.collapse()}else{this.expand()}},ensureVisible:function(c,b){var a=this.getOwnerTree();a.expandPath(this.parentNode?this.parentNode.getPath():this.getPath(),false,function(){var d=a.getNodeById(this.id);a.getTreeEl().scrollChildIntoView(d.ui.anchor);this.runCallback(c,b||this,[this])}.createDelegate(this))},expandChildNodes:function(b,e){var d=this.childNodes,c,a=d.length;for(c=0;c<a;c++){d[c].expand(b,e)}},collapseChildNodes:function(b){var d=this.childNodes;for(var c=0,a=d.length;c<a;c++){d[c].collapse(b)}},disable:function(){this.disabled=true;this.unselect();if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,true)}this.fireEvent("disabledchange",this,true)},enable:function(){this.disabled=false;if(this.rendered&&this.ui.onDisableChange){this.ui.onDisableChange(this,false)}this.fireEvent("disabledchange",this,false)},renderChildren:function(b){if(b!==false){this.fireEvent("beforechildrenrendered",this)}var d=this.childNodes;for(var c=0,a=d.length;c<a;c++){d[c].render(true)}this.childrenRendered=true},sort:function(e,d){Ext.tree.TreeNode.superclass.sort.apply(this,arguments);if(this.childrenRendered){var c=this.childNodes;for(var b=0,a=c.length;b<a;b++){c[b].render(true)}}},render:function(a){this.ui.render(a);if(!this.rendered){this.getOwnerTree().registerNode(this);this.rendered=true;if(this.expanded){this.expanded=false;this.expand(false,false)}}},renderIndent:function(b,e){if(e){this.ui.childIndent=null}this.ui.renderIndent();if(b===true&&this.childrenRendered){var d=this.childNodes;for(var c=0,a=d.length;c<a;c++){d[c].renderIndent(true,e)}}},beginUpdate:function(){this.childrenRendered=false},endUpdate:function(){if(this.expanded&&this.rendered){this.renderChildren()}},destroy:function(a){if(a===true){this.unselect(true)}Ext.tree.TreeNode.superclass.destroy.call(this,a);Ext.destroy(this.ui,this.loader);this.ui=this.loader=null},onIdChange:function(a){this.ui.onIdChange(a)}});Ext.tree.TreePanel.nodeTypes.node=Ext.tree.TreeNode;Ext.tree.AsyncTreeNode=function(a){this.loaded=a&&a.loaded===true;this.loading=false;Ext.tree.AsyncTreeNode.superclass.constructor.apply(this,arguments);this.addEvents("beforeload","load")};Ext.extend(Ext.tree.AsyncTreeNode,Ext.tree.TreeNode,{expand:function(b,e,h,c){if(this.loading){var g;var d=function(){if(!this.loading){clearInterval(g);this.expand(b,e,h,c)}}.createDelegate(this);g=setInterval(d,200);return}if(!this.loaded){if(this.fireEvent("beforeload",this)===false){return}this.loading=true;this.ui.beforeLoad(this);var a=this.loader||this.attributes.loader||this.getOwnerTree().getLoader();if(a){a.load(this,this.loadComplete.createDelegate(this,[b,e,h,c]),this);return}}Ext.tree.AsyncTreeNode.superclass.expand.call(this,b,e,h,c)},isLoading:function(){return this.loading},loadComplete:function(a,c,d,b){this.loading=false;this.loaded=true;this.ui.afterLoad(this);this.fireEvent("load",this);this.expand(a,c,d,b)},isLoaded:function(){return this.loaded},hasChildNodes:function(){if(!this.isLeaf()&&!this.loaded){return true}else{return Ext.tree.AsyncTreeNode.superclass.hasChildNodes.call(this)}},reload:function(b,a){this.collapse(false,false);while(this.firstChild){this.removeChild(this.firstChild).destroy()}this.childrenRendered=false;this.loaded=false;if(this.isHiddenRoot()){this.expanded=false}this.expand(false,false,b,a)}});Ext.tree.TreePanel.nodeTypes.async=Ext.tree.AsyncTreeNode;Ext.tree.TreeNodeUI=Ext.extend(Object,{constructor:function(a){Ext.apply(this,{node:a,rendered:false,animating:false,wasLeaf:true,ecc:"x-tree-ec-icon x-tree-elbow",emptyIcon:Ext.BLANK_IMAGE_URL})},removeChild:function(a){if(this.rendered){this.ctNode.removeChild(a.ui.getEl())}},beforeLoad:function(){this.addClass("x-tree-node-loading")},afterLoad:function(){this.removeClass("x-tree-node-loading")},onTextChange:function(b,c,a){if(this.rendered){this.textNode.innerHTML=c}},onIconClsChange:function(c,a,b){if(this.rendered){Ext.fly(this.iconNode).replaceClass(b,a)}},onIconChange:function(b,a){if(this.rendered){var c=Ext.isEmpty(a);this.iconNode.src=c?this.emptyIcon:a;Ext.fly(this.iconNode)[c?"removeClass":"addClass"]("x-tree-node-inline-icon")}},onTipChange:function(b,c,d){if(this.rendered){var a=Ext.isDefined(d);if(this.textNode.setAttributeNS){this.textNode.setAttributeNS("ext","qtip",c);if(a){this.textNode.setAttributeNS("ext","qtitle",d)}}else{this.textNode.setAttribute("ext:qtip",c);if(a){this.textNode.setAttribute("ext:qtitle",d)}}}},onHrefChange:function(b,a,c){if(this.rendered){this.anchor.href=this.getHref(a);if(Ext.isDefined(c)){this.anchor.target=c}}},onClsChange:function(c,a,b){if(this.rendered){Ext.fly(this.elNode).replaceClass(b,a)}},onDisableChange:function(a,b){this.disabled=b;if(this.checkbox){this.checkbox.disabled=b}this[b?"addClass":"removeClass"]("x-tree-node-disabled")},onSelectedChange:function(a){if(a){this.focus();this.addClass("x-tree-selected")}else{this.removeClass("x-tree-selected")}},onMove:function(a,h,e,g,d,b){this.childIndent=null;if(this.rendered){var i=g.ui.getContainer();if(!i){this.holder=document.createElement("div");this.holder.appendChild(this.wrap);return}var c=b?b.ui.getEl():null;if(c){i.insertBefore(this.wrap,c)}else{i.appendChild(this.wrap)}this.node.renderIndent(true,e!=g)}},addClass:function(a){if(this.elNode){Ext.fly(this.elNode).addClass(a)}},removeClass:function(a){if(this.elNode){Ext.fly(this.elNode).removeClass(a)}},remove:function(){if(this.rendered){this.holder=document.createElement("div");this.holder.appendChild(this.wrap)}},fireEvent:function(){return this.node.fireEvent.apply(this.node,arguments)},initEvents:function(){this.node.on("move",this.onMove,this);if(this.node.disabled){this.onDisableChange(this.node,true)}if(this.node.hidden){this.hide()}var b=this.node.getOwnerTree();var a=b.enableDD||b.enableDrag||b.enableDrop;if(a&&(!this.node.isRoot||b.rootVisible)){Ext.dd.Registry.register(this.elNode,{node:this.node,handles:this.getDDHandles(),isHandle:false})}},getDDHandles:function(){return[this.iconNode,this.textNode,this.elNode]},hide:function(){this.node.hidden=true;if(this.wrap){this.wrap.style.display="none"}},show:function(){this.node.hidden=false;if(this.wrap){this.wrap.style.display=""}},onContextMenu:function(a){if(this.node.hasListener("contextmenu")||this.node.getOwnerTree().hasListener("contextmenu")){a.preventDefault();this.focus();this.fireEvent("contextmenu",this.node,a)}},onClick:function(c){if(this.dropping){c.stopEvent();return}if(this.fireEvent("beforeclick",this.node,c)!==false){var b=c.getTarget("a");if(!this.disabled&&this.node.attributes.href&&b){this.fireEvent("click",this.node,c);return}else{if(b&&c.ctrlKey){c.stopEvent()}}c.preventDefault();if(this.disabled){return}if(this.node.attributes.singleClickExpand&&!this.animating&&this.node.isExpandable()){this.node.toggle()}this.fireEvent("click",this.node,c)}else{c.stopEvent()}},onDblClick:function(a){a.preventDefault();if(this.disabled){return}if(this.fireEvent("beforedblclick",this.node,a)!==false){if(this.checkbox){this.toggleCheck()}if(!this.animating&&this.node.isExpandable()){this.node.toggle()}this.fireEvent("dblclick",this.node,a)}},onOver:function(a){this.addClass("x-tree-node-over")},onOut:function(a){this.removeClass("x-tree-node-over")},onCheckChange:function(){var a=this.checkbox.checked;this.checkbox.defaultChecked=a;this.node.attributes.checked=a;this.fireEvent("checkchange",this.node,a)},ecClick:function(a){if(!this.animating&&this.node.isExpandable()){this.node.toggle()}},startDrop:function(){this.dropping=true},endDrop:function(){setTimeout(function(){this.dropping=false}.createDelegate(this),50)},expand:function(){this.updateExpandIcon();this.ctNode.style.display=""},focus:function(){if(!this.node.preventHScroll){try{this.anchor.focus()}catch(c){}}else{try{var b=this.node.getOwnerTree().getTreeEl().dom;var a=b.scrollLeft;this.anchor.focus();b.scrollLeft=a}catch(c){}}},toggleCheck:function(b){var a=this.checkbox;if(a){a.checked=(b===undefined?!a.checked:b);this.onCheckChange()}},blur:function(){try{this.anchor.blur()}catch(a){}},animExpand:function(b){var a=Ext.get(this.ctNode);a.stopFx();if(!this.node.isExpandable()){this.updateExpandIcon();this.ctNode.style.display="";Ext.callback(b);return}this.animating=true;this.updateExpandIcon();a.slideIn("t",{callback:function(){this.animating=false;Ext.callback(b)},scope:this,duration:this.node.ownerTree.duration||0.25})},highlight:function(){var a=this.node.getOwnerTree();Ext.fly(this.wrap).highlight(a.hlColor||"C3DAF9",{endColor:a.hlBaseColor})},collapse:function(){this.updateExpandIcon();this.ctNode.style.display="none"},animCollapse:function(b){var a=Ext.get(this.ctNode);a.enableDisplayMode("block");a.stopFx();this.animating=true;this.updateExpandIcon();a.slideOut("t",{callback:function(){this.animating=false;Ext.callback(b)},scope:this,duration:this.node.ownerTree.duration||0.25})},getContainer:function(){return this.ctNode},getEl:function(){return this.wrap},appendDDGhost:function(a){a.appendChild(this.elNode.cloneNode(true))},getDDRepairXY:function(){return Ext.lib.Dom.getXY(this.iconNode)},onRender:function(){this.render()},render:function(c){var e=this.node,b=e.attributes;var d=e.parentNode?e.parentNode.ui.getContainer():e.ownerTree.innerCt.dom;if(!this.rendered){this.rendered=true;this.renderElements(e,b,d,c);if(b.qtip){this.onTipChange(e,b.qtip,b.qtipTitle)}else{if(b.qtipCfg){b.qtipCfg.target=Ext.id(this.textNode);Ext.QuickTips.register(b.qtipCfg)}}this.initEvents();if(!this.node.expanded){this.updateExpandIcon(true)}}else{if(c===true){d.appendChild(this.wrap)}}},renderElements:function(e,k,j,l){this.indentMarkup=e.parentNode?e.parentNode.ui.getChildIndent():"";var g=Ext.isBoolean(k.checked),b,c=this.getHref(k.href),d=['<li class="x-tree-node"><div ext:tree-node-id="',e.id,'" class="x-tree-node-el x-tree-node-leaf x-unselectable ',k.cls,'" unselectable="on">','<span class="x-tree-node-indent">',this.indentMarkup,"</span>",'<img alt="" src="',this.emptyIcon,'" class="x-tree-ec-icon x-tree-elbow" />','<img alt="" src="',k.icon||this.emptyIcon,'" class="x-tree-node-icon',(k.icon?" x-tree-node-inline-icon":""),(k.iconCls?" "+k.iconCls:""),'" unselectable="on" />',g?('<input class="x-tree-node-cb" type="checkbox" '+(k.checked?'checked="checked" />':"/>")):"",'<a hidefocus="on" class="x-tree-node-anchor" href="',c,'" tabIndex="1" ',k.hrefTarget?' target="'+k.hrefTarget+'"':"",'><span unselectable="on">',e.text,"</span></a></div>",'<ul class="x-tree-node-ct" style="display:none;"></ul>',"</li>"].join("");if(l!==true&&e.nextSibling&&(b=e.nextSibling.ui.getEl())){this.wrap=Ext.DomHelper.insertHtml("beforeBegin",b,d)}else{this.wrap=Ext.DomHelper.insertHtml("beforeEnd",j,d)}this.elNode=this.wrap.childNodes[0];this.ctNode=this.wrap.childNodes[1];var i=this.elNode.childNodes;this.indentNode=i[0];this.ecNode=i[1];this.iconNode=i[2];var h=3;if(g){this.checkbox=i[3];this.checkbox.defaultChecked=this.checkbox.checked;h++}this.anchor=i[h];this.textNode=i[h].firstChild},getHref:function(a){return Ext.isEmpty(a)?(Ext.isGecko?"":"#"):a},getAnchor:function(){return this.anchor},getTextEl:function(){return this.textNode},getIconEl:function(){return this.iconNode},isChecked:function(){return this.checkbox?this.checkbox.checked:false},updateExpandIcon:function(){if(this.rendered){var g=this.node,d,c,a=g.isLast()?"x-tree-elbow-end":"x-tree-elbow",e=g.hasChildNodes();if(e||g.attributes.expandable){if(g.expanded){a+="-minus";d="x-tree-node-collapsed";c="x-tree-node-expanded"}else{a+="-plus";d="x-tree-node-expanded";c="x-tree-node-collapsed"}if(this.wasLeaf){this.removeClass("x-tree-node-leaf");this.wasLeaf=false}if(this.c1!=d||this.c2!=c){Ext.fly(this.elNode).replaceClass(d,c);this.c1=d;this.c2=c}}else{if(!this.wasLeaf){Ext.fly(this.elNode).replaceClass("x-tree-node-expanded","x-tree-node-collapsed");delete this.c1;delete this.c2;this.wasLeaf=true}}var b="x-tree-ec-icon "+a;if(this.ecc!=b){this.ecNode.className=b;this.ecc=b}}},onIdChange:function(a){if(this.rendered){this.elNode.setAttribute("ext:tree-node-id",a)}},getChildIndent:function(){if(!this.childIndent){var a=[],b=this.node;while(b){if(!b.isRoot||(b.isRoot&&b.ownerTree.rootVisible)){if(!b.isLast()){a.unshift('<img alt="" src="'+this.emptyIcon+'" class="x-tree-elbow-line" />')}else{a.unshift('<img alt="" src="'+this.emptyIcon+'" class="x-tree-icon" />')}}b=b.parentNode}this.childIndent=a.join("")}return this.childIndent},renderIndent:function(){if(this.rendered){var a="",b=this.node.parentNode;if(b){a=b.ui.getChildIndent()}if(this.indentMarkup!=a){this.indentNode.innerHTML=a;this.indentMarkup=a}this.updateExpandIcon()}},destroy:function(){if(this.elNode){Ext.dd.Registry.unregister(this.elNode.id)}Ext.each(["textnode","anchor","checkbox","indentNode","ecNode","iconNode","elNode","ctNode","wrap","holder"],function(a){if(this[a]){Ext.fly(this[a]).remove();delete this[a]}},this);delete this.node}});Ext.tree.RootTreeNodeUI=Ext.extend(Ext.tree.TreeNodeUI,{render:function(){if(!this.rendered){var a=this.node.ownerTree.innerCt.dom;this.node.expanded=true;a.innerHTML='<div class="x-tree-root-node"></div>';this.wrap=this.ctNode=a.firstChild}},collapse:Ext.emptyFn,expand:Ext.emptyFn});Ext.tree.TreeLoader=function(a){this.baseParams={};Ext.apply(this,a);this.addEvents("beforeload","load","loadexception");Ext.tree.TreeLoader.superclass.constructor.call(this);if(Ext.isString(this.paramOrder)){this.paramOrder=this.paramOrder.split(/[\s,|]/)}};Ext.extend(Ext.tree.TreeLoader,Ext.util.Observable,{uiProviders:{},clearOnLoad:true,paramOrder:undefined,paramsAsHash:false,nodeParameter:"node",directFn:undefined,load:function(b,c,a){if(this.clearOnLoad){while(b.firstChild){b.removeChild(b.firstChild)}}if(this.doPreload(b)){this.runCallback(c,a||b,[b])}else{if(this.directFn||this.dataUrl||this.url){this.requestData(b,c,a||b)}}},doPreload:function(d){if(d.attributes.children){if(d.childNodes.length<1){var c=d.attributes.children;d.beginUpdate();for(var b=0,a=c.length;b<a;b++){var e=d.appendChild(this.createNode(c[b]));if(this.preloadChildren){this.doPreload(e)}}d.endUpdate()}return true}return false},getParams:function(g){var e=Ext.apply({},this.baseParams),h=this.nodeParameter,b=this.paramOrder;h&&(e[h]=g.id);if(this.directFn){var c=[g.id];if(b){if(h&&b.indexOf(h)>-1){c=[]}for(var d=0,a=b.length;d<a;d++){c.push(e[b[d]])}}else{if(this.paramsAsHash){c=[e]}}return c}else{return e}},requestData:function(c,d,b){if(this.fireEvent("beforeload",this,c,d)!==false){if(this.directFn){var a=this.getParams(c);a.push(this.processDirectResponse.createDelegate(this,[{callback:d,node:c,scope:b}],true));this.directFn.apply(window,a)}else{this.transId=Ext.Ajax.request({method:this.requestMethod,url:this.dataUrl||this.url,success:this.handleResponse,failure:this.handleFailure,scope:this,argument:{callback:d,node:c,scope:b},params:this.getParams(c)})}}else{this.runCallback(d,b||c,[])}},processDirectResponse:function(a,b,c){if(b.status){this.handleResponse({responseData:Ext.isArray(a)?a:null,responseText:a,argument:c})}else{this.handleFailure({argument:c})}},runCallback:function(a,c,b){if(Ext.isFunction(a)){a.apply(c,b)}},isLoading:function(){return !!this.transId},abort:function(){if(this.isLoading()){Ext.Ajax.abort(this.transId)}},createNode:function(attr){if(this.baseAttrs){Ext.applyIf(attr,this.baseAttrs)}if(this.applyLoader!==false&&!attr.loader){attr.loader=this}if(Ext.isString(attr.uiProvider)){attr.uiProvider=this.uiProviders[attr.uiProvider]||eval(attr.uiProvider)}if(attr.nodeType){return new Ext.tree.TreePanel.nodeTypes[attr.nodeType](attr)}else{return attr.leaf?new Ext.tree.TreeNode(attr):new Ext.tree.AsyncTreeNode(attr)}},processResponse:function(d,c,k,l){var m=d.responseText;try{var a=d.responseData||Ext.decode(m);c.beginUpdate();for(var g=0,h=a.length;g<h;g++){var b=this.createNode(a[g]);if(b){c.appendChild(b)}}c.endUpdate();this.runCallback(k,l||c,[c])}catch(j){this.handleFailure(d)}},handleResponse:function(c){this.transId=false;var b=c.argument;this.processResponse(c,b.node,b.callback,b.scope);this.fireEvent("load",this,b.node,c)},handleFailure:function(c){this.transId=false;var b=c.argument;this.fireEvent("loadexception",this,b.node,c);this.runCallback(b.callback,b.scope||b.node,[b.node])},destroy:function(){this.abort();this.purgeListeners()}});Ext.tree.TreeFilter=function(a,b){this.tree=a;this.filtered={};Ext.apply(this,b)};Ext.tree.TreeFilter.prototype={clearBlank:false,reverse:false,autoClear:false,remove:false,filter:function(d,a,b){a=a||"text";var c;if(typeof d=="string"){var e=d.length;if(e==0&&this.clearBlank){this.clear();return}d=d.toLowerCase();c=function(g){return g.attributes[a].substr(0,e).toLowerCase()==d}}else{if(d.exec){c=function(g){return d.test(g.attributes[a])}}else{throw"Illegal filter type, must be string or regex"}}this.filterBy(c,null,b)},filterBy:function(d,c,b){b=b||this.tree.root;if(this.autoClear){this.clear()}var a=this.filtered,i=this.reverse;var e=function(k){if(k==b){return true}if(a[k.id]){return false}var j=d.call(c||k,k);if(!j||i){a[k.id]=k;k.ui.hide();return false}return true};b.cascade(e);if(this.remove){for(var h in a){if(typeof h!="function"){var g=a[h];if(g&&g.parentNode){g.parentNode.removeChild(g)}}}}},clear:function(){var b=this.tree;var a=this.filtered;for(var d in a){if(typeof d!="function"){var c=a[d];if(c){c.ui.show()}}}this.filtered={}}};Ext.tree.TreeSorter=Ext.extend(Object,{constructor:function(a,c){Ext.apply(this,c);a.on({scope:this,beforechildrenrendered:this.doSort,append:this.updateSort,insert:this.updateSort,textchange:this.updateSortParent});var e=this.dir&&this.dir.toLowerCase()=="desc",i=this.property||"text",d=this.sortType,h=this.folderSort,b=this.caseSensitive===true,g=this.leafAttr||"leaf";if(Ext.isString(d)){d=Ext.data.SortTypes[d]}this.sortFn=function(o,m){var k=o.attributes,j=m.attributes;if(h){if(k[g]&&!j[g]){return 1}if(!k[g]&&j[g]){return -1}}var n=k[i],l=j[i],q=d?d(n):(b?n:n.toUpperCase()),p=d?d(l):(b?l:l.toUpperCase());if(q<p){return e?1:-1}else{if(q>p){return e?-1:1}}return 0}},doSort:function(a){a.sort(this.sortFn)},updateSort:function(a,b){if(b.childrenRendered){this.doSort.defer(1,this,[b])}},updateSortParent:function(a){var b=a.parentNode;if(b&&b.childrenRendered){this.doSort.defer(1,this,[b])}}});if(Ext.dd.DropZone){Ext.tree.TreeDropZone=function(a,b){this.allowParentInsert=b.allowParentInsert||false;this.allowContainerDrop=b.allowContainerDrop||false;this.appendOnly=b.appendOnly||false;Ext.tree.TreeDropZone.superclass.constructor.call(this,a.getTreeEl(),b);this.tree=a;this.dragOverData={};this.lastInsertClass="x-tree-no-status"};Ext.extend(Ext.tree.TreeDropZone,Ext.dd.DropZone,{ddGroup:"TreeDD",expandDelay:1000,expandNode:function(a){if(a.hasChildNodes()&&!a.isExpanded()){a.expand(false,null,this.triggerCacheRefresh.createDelegate(this))}},queueExpand:function(a){this.expandProcId=this.expandNode.defer(this.expandDelay,this,[a])},cancelExpand:function(){if(this.expandProcId){clearTimeout(this.expandProcId);this.expandProcId=false}},isValidDropPoint:function(a,k,i,d,c){if(!a||!c){return false}var g=a.node;var h=c.node;if(!(g&&g.isTarget&&k)){return false}if(k=="append"&&g.allowChildren===false){return false}if((k=="above"||k=="below")&&(g.parentNode&&g.parentNode.allowChildren===false)){return false}if(h&&(g==h||h.contains(g))){return false}var b=this.dragOverData;b.tree=this.tree;b.target=g;b.data=c;b.point=k;b.source=i;b.rawEvent=d;b.dropNode=h;b.cancel=false;var j=this.tree.fireEvent("nodedragover",b);return b.cancel===false&&j!==false},getDropPoint:function(h,g,l){var m=g.node;if(m.isRoot){return m.allowChildren!==false?"append":false}var c=g.ddel;var o=Ext.lib.Dom.getY(c),j=o+c.offsetHeight;var i=Ext.lib.Event.getPageY(h);var k=m.allowChildren===false||m.isLeaf();if(this.appendOnly||m.parentNode.allowChildren===false){return k?false:"append"}var d=false;if(!this.allowParentInsert){d=m.hasChildNodes()&&m.isExpanded()}var a=(j-o)/(k?2:3);if(i>=o&&i<(o+a)){return"above"}else{if(!d&&(k||i>=j-a&&i<=j)){return"below"}else{return"append"}}},onNodeEnter:function(d,a,c,b){this.cancelExpand()},onContainerOver:function(a,c,b){if(this.allowContainerDrop&&this.isValidDropPoint({ddel:this.tree.getRootNode().ui.elNode,node:this.tree.getRootNode()},"append",a,c,b)){return this.dropAllowed}return this.dropNotAllowed},onNodeOver:function(b,i,h,g){var k=this.getDropPoint(h,b,i);var c=b.node;if(!this.expandProcId&&k=="append"&&c.hasChildNodes()&&!b.node.isExpanded()){this.queueExpand(c)}else{if(k!="append"){this.cancelExpand()}}var d=this.dropNotAllowed;if(this.isValidDropPoint(b,k,i,h,g)){if(k){var a=b.ddel;var j;if(k=="above"){d=b.node.isFirst()?"x-tree-drop-ok-above":"x-tree-drop-ok-between";j="x-tree-drag-insert-above"}else{if(k=="below"){d=b.node.isLast()?"x-tree-drop-ok-below":"x-tree-drop-ok-between";j="x-tree-drag-insert-below"}else{d="x-tree-drop-ok-append";j="x-tree-drag-append"}}if(this.lastInsertClass!=j){Ext.fly(a).replaceClass(this.lastInsertClass,j);this.lastInsertClass=j}}}return d},onNodeOut:function(d,a,c,b){this.cancelExpand();this.removeDropIndicators(d)},onNodeDrop:function(i,b,h,d){var a=this.getDropPoint(h,i,b);var g=i.node;g.ui.startDrop();if(!this.isValidDropPoint(i,a,b,h,d)){g.ui.endDrop();return false}var c=d.node||(b.getTreeNode?b.getTreeNode(d,g,a,h):null);return this.processDrop(g,d,a,b,h,c)},onContainerDrop:function(a,g,c){if(this.allowContainerDrop&&this.isValidDropPoint({ddel:this.tree.getRootNode().ui.elNode,node:this.tree.getRootNode()},"append",a,g,c)){var d=this.tree.getRootNode();d.ui.startDrop();var b=c.node||(a.getTreeNode?a.getTreeNode(c,d,"append",g):null);return this.processDrop(d,c,"append",a,g,b)}return false},processDrop:function(j,h,b,a,i,d){var g={tree:this.tree,target:j,data:h,point:b,source:a,rawEvent:i,dropNode:d,cancel:!d,dropStatus:false};var c=this.tree.fireEvent("beforenodedrop",g);if(c===false||g.cancel===true||!g.dropNode){j.ui.endDrop();return g.dropStatus}j=g.target;if(b=="append"&&!j.isExpanded()){j.expand(false,null,function(){this.completeDrop(g)}.createDelegate(this))}else{this.completeDrop(g)}return true},completeDrop:function(h){var d=h.dropNode,e=h.point,c=h.target;if(!Ext.isArray(d)){d=[d]}var g;for(var b=0,a=d.length;b<a;b++){g=d[b];if(e=="above"){c.parentNode.insertBefore(g,c)}else{if(e=="below"){c.parentNode.insertBefore(g,c.nextSibling)}else{c.appendChild(g)}}}g.ui.focus();if(Ext.enableFx&&this.tree.hlDrop){g.ui.highlight()}c.ui.endDrop();this.tree.fireEvent("nodedrop",h)},afterNodeMoved:function(a,c,g,d,b){if(Ext.enableFx&&this.tree.hlDrop){b.ui.focus();b.ui.highlight()}this.tree.fireEvent("nodedrop",this.tree,d,c,a,g)},getTree:function(){return this.tree},removeDropIndicators:function(b){if(b&&b.ddel){var a=b.ddel;Ext.fly(a).removeClass(["x-tree-drag-insert-above","x-tree-drag-insert-below","x-tree-drag-append"]);this.lastInsertClass="_noclass"}},beforeDragDrop:function(b,a,c){this.cancelExpand();return true},afterRepair:function(a){if(a&&Ext.enableFx){a.node.ui.highlight()}this.hideProxy()}})}if(Ext.dd.DragZone){Ext.tree.TreeDragZone=function(a,b){Ext.tree.TreeDragZone.superclass.constructor.call(this,a.innerCt,b);this.tree=a};Ext.extend(Ext.tree.TreeDragZone,Ext.dd.DragZone,{ddGroup:"TreeDD",onBeforeDrag:function(a,b){var c=a.node;return c&&c.draggable&&!c.disabled},onInitDrag:function(b){var a=this.dragData;this.tree.getSelectionModel().select(a.node);this.tree.eventModel.disable();this.proxy.update("");a.node.ui.appendDDGhost(this.proxy.ghost.dom);this.tree.fireEvent("startdrag",this.tree,a.node,b)},getRepairXY:function(b,a){return a.node.ui.getDDRepairXY()},onEndDrag:function(a,b){this.tree.eventModel.enable.defer(100,this.tree.eventModel);this.tree.fireEvent("enddrag",this.tree,a.node,b)},onValidDrop:function(a,b,c){this.tree.fireEvent("dragdrop",this.tree,this.dragData.node,a,b);this.hideProxy()},beforeInvalidDrop:function(a,c){var b=this.tree.getSelectionModel();b.clearSelections();b.select(this.dragData.node)},afterRepair:function(){if(Ext.enableFx&&this.tree.hlDrop){Ext.Element.fly(this.dragData.ddel).highlight(this.hlColor||"c3daf9")}this.dragging=false}})}Ext.tree.TreeEditor=function(a,c,b){c=c||{};var d=c.events?c:new Ext.form.TextField(c);Ext.tree.TreeEditor.superclass.constructor.call(this,d,b);this.tree=a;if(!a.rendered){a.on("render",this.initEditor,this)}else{this.initEditor(a)}};Ext.extend(Ext.tree.TreeEditor,Ext.Editor,{alignment:"l-l",autoSize:false,hideEl:false,cls:"x-small-editor x-tree-editor",shim:false,shadow:"frame",maxWidth:250,editDelay:350,initEditor:function(a){a.on({scope:this,beforeclick:this.beforeNodeClick,dblclick:this.onNodeDblClick});this.on({scope:this,complete:this.updateNode,beforestartedit:this.fitToTree,specialkey:this.onSpecialKey});this.on("startedit",this.bindScroll,this,{delay:10})},fitToTree:function(b,c){var e=this.tree.getTreeEl().dom,d=c.dom;if(e.scrollLeft>d.offsetLeft){e.scrollLeft=d.offsetLeft}var a=Math.min(this.maxWidth,(e.clientWidth>20?e.clientWidth:e.offsetWidth)-Math.max(0,d.offsetLeft-e.scrollLeft)-5);this.setSize(a,"")},triggerEdit:function(a,c){this.completeEdit();if(a.attributes.editable!==false){this.editNode=a;if(this.tree.autoScroll){Ext.fly(a.ui.getEl()).scrollIntoView(this.tree.body)}var b=a.text||"";if(!Ext.isGecko&&Ext.isEmpty(a.text)){a.setText("&#160;")}this.autoEditTimer=this.startEdit.defer(this.editDelay,this,[a.ui.textNode,b]);return false}},bindScroll:function(){this.tree.getTreeEl().on("scroll",this.cancelEdit,this)},beforeNodeClick:function(a,b){clearTimeout(this.autoEditTimer);if(this.tree.getSelectionModel().isSelected(a)){b.stopEvent();return this.triggerEdit(a)}},onNodeDblClick:function(a,b){clearTimeout(this.autoEditTimer)},updateNode:function(a,b){this.tree.getTreeEl().un("scroll",this.cancelEdit,this);this.editNode.setText(b)},onHide:function(){Ext.tree.TreeEditor.superclass.onHide.call(this);if(this.editNode){this.editNode.ui.focus.defer(50,this.editNode.ui)}},onSpecialKey:function(c,b){var a=b.getKey();if(a==b.ESC){b.stopEvent();this.cancelEdit()}else{if(a==b.ENTER&&!b.hasModifier()){b.stopEvent();this.completeEdit()}}},onDestroy:function(){clearTimeout(this.autoEditTimer);Ext.tree.TreeEditor.superclass.onDestroy.call(this);var a=this.tree;a.un("beforeclick",this.beforeNodeClick,this);a.un("dblclick",this.onNodeDblClick,this)}});
/* SWFObject v2.2 <http://code.google.com/p/swfobject/> 
    is released under the MIT License <http://www.opensource.org/licenses/mit-license.php> 
*/
var swfobject=function(){var E="undefined",s="object",T="Shockwave Flash",X="ShockwaveFlash.ShockwaveFlash",r="application/x-shockwave-flash",S="SWFObjectExprInst",y="onreadystatechange",P=window,k=document,u=navigator,U=false,V=[i],p=[],O=[],J=[],m,R,F,C,K=false,a=false,o,H,n=true,N=function(){var ab=typeof k.getElementById!=E&&typeof k.getElementsByTagName!=E&&typeof k.createElement!=E,ai=u.userAgent.toLowerCase(),Z=u.platform.toLowerCase(),af=Z?(/win/).test(Z):/win/.test(ai),ad=Z?(/mac/).test(Z):/mac/.test(ai),ag=/webkit/.test(ai)?parseFloat(ai.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):false,Y=!+"\v1",ah=[0,0,0],ac=null;if(typeof u.plugins!=E&&typeof u.plugins[T]==s){ac=u.plugins[T].description;if(ac&&!(typeof u.mimeTypes!=E&&u.mimeTypes[r]&&!u.mimeTypes[r].enabledPlugin)){U=true;Y=false;ac=ac.replace(/^.*\s+(\S+\s+\S+$)/,"$1");ah[0]=parseInt(ac.replace(/^(.*)\..*$/,"$1"),10);ah[1]=parseInt(ac.replace(/^.*\.(.*)\s.*$/,"$1"),10);ah[2]=/[a-zA-Z]/.test(ac)?parseInt(ac.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0}}else{if(typeof P.ActiveXObject!=E){try{var ae=new ActiveXObject(X);if(ae){ac=ae.GetVariable("$version");if(ac){Y=true;ac=ac.split(" ")[1].split(",");ah=[parseInt(ac[0],10),parseInt(ac[1],10),parseInt(ac[2],10)]}}}catch(aa){}}}return{w3:ab,pv:ah,wk:ag,ie:Y,win:af,mac:ad}}(),l=function(){if(!N.w3){return}if((typeof k.readyState!=E&&k.readyState=="complete")||(typeof k.readyState==E&&(k.getElementsByTagName("body")[0]||k.body))){g()}if(!K){if(typeof k.addEventListener!=E){k.addEventListener("DOMContentLoaded",g,false)}if(N.ie&&N.win){k.attachEvent(y,function(){if(k.readyState=="complete"){k.detachEvent(y,arguments.callee);g()}});if(P==top){(function(){if(K){return}try{k.documentElement.doScroll("left")}catch(Y){setTimeout(arguments.callee,0);return}g()})()}}if(N.wk){(function(){if(K){return}if(!(/loaded|complete/).test(k.readyState)){setTimeout(arguments.callee,0);return}g()})()}t(g)}}();function g(){if(K){return}try{var aa=k.getElementsByTagName("body")[0].appendChild(D("span"));aa.parentNode.removeChild(aa)}catch(ab){return}K=true;var Y=V.length;for(var Z=0;Z<Y;Z++){V[Z]()}}function L(Y){if(K){Y()}else{V[V.length]=Y}}function t(Z){if(typeof P.addEventListener!=E){P.addEventListener("load",Z,false)}else{if(typeof k.addEventListener!=E){k.addEventListener("load",Z,false)}else{if(typeof P.attachEvent!=E){j(P,"onload",Z)}else{if(typeof P.onload=="function"){var Y=P.onload;P.onload=function(){Y();Z()}}else{P.onload=Z}}}}}function i(){if(U){W()}else{I()}}function W(){var Y=k.getElementsByTagName("body")[0];var ab=D(s);ab.setAttribute("type",r);var aa=Y.appendChild(ab);if(aa){var Z=0;(function(){if(typeof aa.GetVariable!=E){var ac=aa.GetVariable("$version");if(ac){ac=ac.split(" ")[1].split(",");N.pv=[parseInt(ac[0],10),parseInt(ac[1],10),parseInt(ac[2],10)]}}else{if(Z<10){Z++;setTimeout(arguments.callee,10);return}}Y.removeChild(ab);aa=null;I()})()}else{I()}}function I(){var ah=p.length;if(ah>0){for(var ag=0;ag<ah;ag++){var Z=p[ag].id;var ac=p[ag].callbackFn;var ab={success:false,id:Z};if(N.pv[0]>0){var af=c(Z);if(af){if(G(p[ag].swfVersion)&&!(N.wk&&N.wk<312)){x(Z,true);if(ac){ab.success=true;ab.ref=A(Z);ac(ab)}}else{if(p[ag].expressInstall&&B()){var aj={};aj.data=p[ag].expressInstall;aj.width=af.getAttribute("width")||"0";aj.height=af.getAttribute("height")||"0";if(af.getAttribute("class")){aj.styleclass=af.getAttribute("class")}if(af.getAttribute("align")){aj.align=af.getAttribute("align")}var ai={};var Y=af.getElementsByTagName("param");var ad=Y.length;for(var ae=0;ae<ad;ae++){if(Y[ae].getAttribute("name").toLowerCase()!="movie"){ai[Y[ae].getAttribute("name")]=Y[ae].getAttribute("value")}}Q(aj,ai,Z,ac)}else{q(af);if(ac){ac(ab)}}}}}else{x(Z,true);if(ac){var aa=A(Z);if(aa&&typeof aa.SetVariable!=E){ab.success=true;ab.ref=aa}ac(ab)}}}}}function A(ab){var Y=null;var Z=c(ab);if(Z&&Z.nodeName=="OBJECT"){if(typeof Z.SetVariable!=E){Y=Z}else{var aa=Z.getElementsByTagName(s)[0];if(aa){Y=aa}}}return Y}function B(){return !a&&G("6.0.65")&&(N.win||N.mac)&&!(N.wk&&N.wk<312)}function Q(ab,ac,Y,aa){a=true;F=aa||null;C={success:false,id:Y};var af=c(Y);if(af){if(af.nodeName=="OBJECT"){m=h(af);R=null}else{m=af;R=Y}ab.id=S;if(typeof ab.width==E||(!(/%$/).test(ab.width)&&parseInt(ab.width,10)<310)){ab.width="310"}if(typeof ab.height==E||(!(/%$/).test(ab.height)&&parseInt(ab.height,10)<137)){ab.height="137"}k.title=k.title.slice(0,47)+" - Flash Player Installation";var ae=N.ie&&N.win?"ActiveX":"PlugIn",ad="MMredirectURL="+P.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ae+"&MMdoctitle="+k.title;if(typeof ac.flashvars!=E){ac.flashvars+="&"+ad}else{ac.flashvars=ad}if(N.ie&&N.win&&af.readyState!=4){var Z=D("div");Y+="SWFObjectNew";Z.setAttribute("id",Y);af.parentNode.insertBefore(Z,af);af.style.display="none";(function(){if(af.readyState==4){af.parentNode.removeChild(af)}else{setTimeout(arguments.callee,10)}})()}v(ab,ac,Y)}}function q(Z){if(N.ie&&N.win&&Z.readyState!=4){var Y=D("div");Z.parentNode.insertBefore(Y,Z);Y.parentNode.replaceChild(h(Z),Y);Z.style.display="none";(function(){if(Z.readyState==4){Z.parentNode.removeChild(Z)}else{setTimeout(arguments.callee,10)}})()}else{Z.parentNode.replaceChild(h(Z),Z)}}function h(ad){var ab=D("div");if(N.win&&N.ie){ab.innerHTML=ad.innerHTML}else{var Z=ad.getElementsByTagName(s)[0];if(Z){var ae=Z.childNodes;if(ae){var Y=ae.length;for(var aa=0;aa<Y;aa++){if(!(ae[aa].nodeType==1&&ae[aa].nodeName=="PARAM")&&!(ae[aa].nodeType==8)){ab.appendChild(ae[aa].cloneNode(true))}}}}}return ab}function v(aj,ah,Z){var Y,ab=c(Z);if(N.wk&&N.wk<312){return Y}if(ab){if(typeof aj.id==E){aj.id=Z}if(N.ie&&N.win){var ai="";for(var af in aj){if(aj[af]!=Object.prototype[af]){if(af.toLowerCase()=="data"){ah.movie=aj[af]}else{if(af.toLowerCase()=="styleclass"){ai+=' class="'+aj[af]+'"'}else{if(af.toLowerCase()!="classid"){ai+=" "+af+'="'+aj[af]+'"'}}}}}var ag="";for(var ae in ah){if(ah[ae]!=Object.prototype[ae]){ag+='<param name="'+ae+'" value="'+ah[ae]+'" />'}}ab.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ai+">"+ag+"</object>";O[O.length]=aj.id;Y=c(aj.id)}else{var aa=D(s);aa.setAttribute("type",r);for(var ad in aj){if(aj[ad]!=Object.prototype[ad]){if(ad.toLowerCase()=="styleclass"){aa.setAttribute("class",aj[ad])}else{if(ad.toLowerCase()!="classid"){aa.setAttribute(ad,aj[ad])}}}}for(var ac in ah){if(ah[ac]!=Object.prototype[ac]&&ac.toLowerCase()!="movie"){e(aa,ac,ah[ac])}}ab.parentNode.replaceChild(aa,ab);Y=aa}}return Y}function e(aa,Y,Z){var ab=D("param");ab.setAttribute("name",Y);ab.setAttribute("value",Z);aa.appendChild(ab)}function z(Z){var Y=c(Z);if(Y&&Y.nodeName=="OBJECT"){if(N.ie&&N.win){Y.style.display="none";(function(){if(Y.readyState==4){b(Z)}else{setTimeout(arguments.callee,10)}})()}else{Y.parentNode.removeChild(Y)}}}function b(aa){var Z=c(aa);if(Z){for(var Y in Z){if(typeof Z[Y]=="function"){Z[Y]=null}}Z.parentNode.removeChild(Z)}}function c(aa){var Y=null;try{Y=k.getElementById(aa)}catch(Z){}return Y}function D(Y){return k.createElement(Y)}function j(aa,Y,Z){aa.attachEvent(Y,Z);J[J.length]=[aa,Y,Z]}function G(aa){var Z=N.pv,Y=aa.split(".");Y[0]=parseInt(Y[0],10);Y[1]=parseInt(Y[1],10)||0;Y[2]=parseInt(Y[2],10)||0;return(Z[0]>Y[0]||(Z[0]==Y[0]&&Z[1]>Y[1])||(Z[0]==Y[0]&&Z[1]==Y[1]&&Z[2]>=Y[2]))?true:false}function w(ad,Z,ae,ac){if(N.ie&&N.mac){return}var ab=k.getElementsByTagName("head")[0];if(!ab){return}var Y=(ae&&typeof ae=="string")?ae:"screen";if(ac){o=null;H=null}if(!o||H!=Y){var aa=D("style");aa.setAttribute("type","text/css");aa.setAttribute("media",Y);o=ab.appendChild(aa);if(N.ie&&N.win&&typeof k.styleSheets!=E&&k.styleSheets.length>0){o=k.styleSheets[k.styleSheets.length-1]}H=Y}if(N.ie&&N.win){if(o&&typeof o.addRule==s){o.addRule(ad,Z)}}else{if(o&&typeof k.createTextNode!=E){o.appendChild(k.createTextNode(ad+" {"+Z+"}"))}}}function x(aa,Y){if(!n){return}var Z=Y?"visible":"hidden";if(K&&c(aa)){c(aa).style.visibility=Z}else{w("#"+aa,"visibility:"+Z)}}function M(Z){var aa=/[\\\"<>\.;]/;var Y=aa.exec(Z)!=null;return Y&&typeof encodeURIComponent!=E?encodeURIComponent(Z):Z}var d=function(){if(N.ie&&N.win){window.attachEvent("onunload",function(){var ad=J.length;for(var ac=0;ac<ad;ac++){J[ac][0].detachEvent(J[ac][1],J[ac][2])}var aa=O.length;for(var ab=0;ab<aa;ab++){z(O[ab])}for(var Z in N){N[Z]=null}N=null;for(var Y in swfobject){swfobject[Y]=null}swfobject=null;window.detachEvent("onunload",arguments.callee)})}}();return{registerObject:function(ac,Y,ab,aa){if(N.w3&&ac&&Y){var Z={};Z.id=ac;Z.swfVersion=Y;Z.expressInstall=ab;Z.callbackFn=aa;p[p.length]=Z;x(ac,false)}else{if(aa){aa({success:false,id:ac})}}},getObjectById:function(Y){if(N.w3){return A(Y)}},embedSWF:function(ac,ai,af,ah,Z,ab,aa,ae,ag,ad){var Y={success:false,id:ai};if(N.w3&&!(N.wk&&N.wk<312)&&ac&&ai&&af&&ah&&Z){x(ai,false);L(function(){af+="";ah+="";var ak={};if(ag&&typeof ag===s){for(var am in ag){ak[am]=ag[am]}}ak.data=ac;ak.width=af;ak.height=ah;var an={};if(ae&&typeof ae===s){for(var al in ae){an[al]=ae[al]}}if(aa&&typeof aa===s){for(var aj in aa){if(typeof an.flashvars!=E){an.flashvars+="&"+aj+"="+aa[aj]}else{an.flashvars=aj+"="+aa[aj]}}}if(G(Z)){var ao=v(ak,an,ai);if(ak.id==ai){x(ai,true)}Y.success=true;Y.ref=ao}else{if(ab&&B()){ak.data=ab;Q(ak,an,ai,ad);return}else{x(ai,true)}}if(ad){ad(Y)}})}else{if(ad){ad(Y)}}},switchOffAutoHideShow:function(){n=false},ua:N,getFlashPlayerVersion:function(){return{major:N.pv[0],minor:N.pv[1],release:N.pv[2]}},hasFlashPlayerVersion:G,createSWF:function(aa,Z,Y){if(N.w3){return v(aa,Z,Y)}else{return undefined}},showExpressInstall:function(aa,ab,Y,Z){if(N.w3&&B()){Q(aa,ab,Y,Z)}},removeSWF:function(Y){if(N.w3){z(Y)}},createCSS:function(ab,aa,Z,Y){if(N.w3){w(ab,aa,Z,Y)}},addDomLoadEvent:L,addLoadEvent:t,getQueryParamValue:function(ab){var aa=k.location.search||k.location.hash;if(aa){if(/\?/.test(aa)){aa=aa.split("?")[1]}if(ab==null){return M(aa)}var Z=aa.split("&");for(var Y=0;Y<Z.length;Y++){if(Z[Y].substring(0,Z[Y].indexOf("="))==ab){return M(Z[Y].substring((Z[Y].indexOf("=")+1)))}}}return""},expressInstallCallback:function(){if(a){var Y=c(S);if(Y&&m){Y.parentNode.replaceChild(m,Y);if(R){x(R,true);if(N.ie&&N.win){m.style.display="block"}}if(F){F(C)}}a=false}}}}();Ext.FlashComponent=Ext.extend(Ext.BoxComponent,{flashVersion:"9.0.115",backgroundColor:"#ffffff",wmode:"opaque",flashVars:undefined,flashParams:undefined,url:undefined,swfId:undefined,swfWidth:"100%",swfHeight:"100%",expressInstall:false,initComponent:function(){Ext.FlashComponent.superclass.initComponent.call(this);this.addEvents("initialize")},onRender:function(){Ext.FlashComponent.superclass.onRender.apply(this,arguments);var b=Ext.apply({allowScriptAccess:"always",bgcolor:this.backgroundColor,wmode:this.wmode},this.flashParams),a=Ext.apply({allowedDomain:document.location.hostname,YUISwfId:this.getId(),YUIBridgeCallback:"Ext.FlashEventProxy.onEvent"},this.flashVars);new swfobject.embedSWF(this.url,this.id,this.swfWidth,this.swfHeight,this.flashVersion,this.expressInstall?Ext.FlashComponent.EXPRESS_INSTALL_URL:undefined,a,b);this.swf=Ext.getDom(this.id);this.el=Ext.get(this.swf)},getSwfId:function(){return this.swfId||(this.swfId="extswf"+(++Ext.Component.AUTO_ID))},getId:function(){return this.id||(this.id="extflashcmp"+(++Ext.Component.AUTO_ID))},onFlashEvent:function(a){switch(a.type){case"swfReady":this.initSwf();return;case"log":return}a.component=this;this.fireEvent(a.type.toLowerCase().replace(/event$/,""),a)},initSwf:function(){this.onSwfReady(!!this.isInitialized);this.isInitialized=true;this.fireEvent("initialize",this)},beforeDestroy:function(){if(this.rendered){swfobject.removeSWF(this.swf.id)}Ext.FlashComponent.superclass.beforeDestroy.call(this)},onSwfReady:Ext.emptyFn});Ext.FlashComponent.EXPRESS_INSTALL_URL="http://swfobject.googlecode.com/svn/trunk/swfobject/expressInstall.swf";Ext.reg("flash",Ext.FlashComponent);Ext.FlashEventProxy={onEvent:function(c,b){var a=Ext.getCmp(c);if(a){a.onFlashEvent(b)}else{arguments.callee.defer(10,this,[c,b])}}};Ext.chart.Chart=Ext.extend(Ext.FlashComponent,{refreshBuffer:100,chartStyle:{padding:10,animationEnabled:true,font:{name:"Tahoma",color:4473924,size:11},dataTip:{padding:5,border:{color:10075112,size:1},background:{color:14346230,alpha:0.9},font:{name:"Tahoma",color:1393291,size:10,bold:true}}},extraStyle:null,seriesStyles:null,disableCaching:Ext.isIE||Ext.isOpera,disableCacheParam:"_dc",initComponent:function(){Ext.chart.Chart.superclass.initComponent.call(this);if(!this.url){this.url=Ext.chart.Chart.CHART_URL}if(this.disableCaching){this.url=Ext.urlAppend(this.url,String.format("{0}={1}",this.disableCacheParam,new Date().getTime()))}this.addEvents("itemmouseover","itemmouseout","itemclick","itemdoubleclick","itemdragstart","itemdrag","itemdragend","beforerefresh","refresh");this.store=Ext.StoreMgr.lookup(this.store)},setStyle:function(a,b){this.swf.setStyle(a,Ext.encode(b))},setStyles:function(a){this.swf.setStyles(Ext.encode(a))},setSeriesStyles:function(b){this.seriesStyles=b;var a=[];Ext.each(b,function(c){a.push(Ext.encode(c))});this.swf.setSeriesStyles(a)},setCategoryNames:function(a){this.swf.setCategoryNames(a)},setLegendRenderer:function(c,b){var a=this;b=b||a;a.removeFnProxy(a.legendFnName);a.legendFnName=a.createFnProxy(function(d){return c.call(b,d)});a.swf.setLegendLabelFunction(a.legendFnName)},setTipRenderer:function(c,b){var a=this;b=b||a;a.removeFnProxy(a.tipFnName);a.tipFnName=a.createFnProxy(function(h,e,g){var d=a.store.getAt(e);return c.call(b,a,d,e,g)});a.swf.setDataTipFunction(a.tipFnName)},setSeries:function(a){this.series=a;this.refresh()},bindStore:function(a,b){if(!b&&this.store){if(a!==this.store&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("datachanged",this.refresh,this);this.store.un("add",this.delayRefresh,this);this.store.un("remove",this.delayRefresh,this);this.store.un("update",this.delayRefresh,this);this.store.un("clear",this.refresh,this)}}if(a){a=Ext.StoreMgr.lookup(a);a.on({scope:this,datachanged:this.refresh,add:this.delayRefresh,remove:this.delayRefresh,update:this.delayRefresh,clear:this.refresh})}this.store=a;if(a&&!b){this.refresh()}},onSwfReady:function(b){Ext.chart.Chart.superclass.onSwfReady.call(this,b);var a;this.swf.setType(this.type);if(this.chartStyle){this.setStyles(Ext.apply({},this.extraStyle,this.chartStyle))}if(this.categoryNames){this.setCategoryNames(this.categoryNames)}if(this.tipRenderer){a=this.getFunctionRef(this.tipRenderer);this.setTipRenderer(a.fn,a.scope)}if(this.legendRenderer){a=this.getFunctionRef(this.legendRenderer);this.setLegendRenderer(a.fn,a.scope)}if(!b){this.bindStore(this.store,true)}this.refresh.defer(10,this)},delayRefresh:function(){if(!this.refreshTask){this.refreshTask=new Ext.util.DelayedTask(this.refresh,this)}this.refreshTask.delay(this.refreshBuffer)},refresh:function(){if(this.fireEvent("beforerefresh",this)!==false){var m=false;var k=[],c=this.store.data.items;for(var g=0,l=c.length;g<l;g++){k[g]=c[g].data}var e=[];var d=0;var n=null;var h=0;if(this.series){d=this.series.length;for(h=0;h<d;h++){n=this.series[h];var b={};for(var a in n){if(a=="style"&&n.style!==null){b.style=Ext.encode(n.style);m=true}else{b[a]=n[a]}}e.push(b)}}if(d>0){for(h=0;h<d;h++){n=e[h];if(!n.type){n.type=this.type}n.dataProvider=k}}else{e.push({type:this.type,dataProvider:k})}this.swf.setDataProvider(e);if(this.seriesStyles){this.setSeriesStyles(this.seriesStyles)}this.fireEvent("refresh",this)}},createFnProxy:function(a){var b="extFnProxy"+(++Ext.chart.Chart.PROXY_FN_ID);Ext.chart.Chart.proxyFunction[b]=a;return"Ext.chart.Chart.proxyFunction."+b},removeFnProxy:function(a){if(!Ext.isEmpty(a)){a=a.replace("Ext.chart.Chart.proxyFunction.","");delete Ext.chart.Chart.proxyFunction[a]}},getFunctionRef:function(a){if(Ext.isFunction(a)){return{fn:a,scope:this}}else{return{fn:a.fn,scope:a.scope||this}}},onDestroy:function(){if(this.refreshTask&&this.refreshTask.cancel){this.refreshTask.cancel()}Ext.chart.Chart.superclass.onDestroy.call(this);this.bindStore(null);this.removeFnProxy(this.tipFnName);this.removeFnProxy(this.legendFnName)}});Ext.reg("chart",Ext.chart.Chart);Ext.chart.Chart.PROXY_FN_ID=0;Ext.chart.Chart.proxyFunction={};Ext.chart.Chart.CHART_URL="http://yui.yahooapis.com/2.8.2/build/charts/assets/charts.swf";Ext.chart.PieChart=Ext.extend(Ext.chart.Chart,{type:"pie",onSwfReady:function(a){Ext.chart.PieChart.superclass.onSwfReady.call(this,a);this.setDataField(this.dataField);this.setCategoryField(this.categoryField)},setDataField:function(a){this.dataField=a;this.swf.setDataField(a)},setCategoryField:function(a){this.categoryField=a;this.swf.setCategoryField(a)}});Ext.reg("piechart",Ext.chart.PieChart);Ext.chart.CartesianChart=Ext.extend(Ext.chart.Chart,{onSwfReady:function(a){Ext.chart.CartesianChart.superclass.onSwfReady.call(this,a);this.labelFn=[];if(this.xField){this.setXField(this.xField)}if(this.yField){this.setYField(this.yField)}if(this.xAxis){this.setXAxis(this.xAxis)}if(this.xAxes){this.setXAxes(this.xAxes)}if(this.yAxis){this.setYAxis(this.yAxis)}if(this.yAxes){this.setYAxes(this.yAxes)}if(Ext.isDefined(this.constrainViewport)){this.swf.setConstrainViewport(this.constrainViewport)}},setXField:function(a){this.xField=a;this.swf.setHorizontalField(a)},setYField:function(a){this.yField=a;this.swf.setVerticalField(a)},setXAxis:function(a){this.xAxis=this.createAxis("xAxis",a);this.swf.setHorizontalAxis(this.xAxis)},setXAxes:function(c){var b;for(var a=0;a<c.length;a++){b=this.createAxis("xAxis"+a,c[a]);this.swf.setHorizontalAxis(b)}},setYAxis:function(a){this.yAxis=this.createAxis("yAxis",a);this.swf.setVerticalAxis(this.yAxis)},setYAxes:function(c){var b;for(var a=0;a<c.length;a++){b=this.createAxis("yAxis"+a,c[a]);this.swf.setVerticalAxis(b)}},createAxis:function(b,d){var e=Ext.apply({},d),c,a;if(this[b]){a=this[b].labelFunction;this.removeFnProxy(a);this.labelFn.remove(a)}if(e.labelRenderer){c=this.getFunctionRef(e.labelRenderer);e.labelFunction=this.createFnProxy(function(g){return c.fn.call(c.scope,g)});delete e.labelRenderer;this.labelFn.push(e.labelFunction)}if(b.indexOf("xAxis")>-1&&e.position=="left"){e.position="bottom"}return e},onDestroy:function(){Ext.chart.CartesianChart.superclass.onDestroy.call(this);Ext.each(this.labelFn,function(a){this.removeFnProxy(a)},this)}});Ext.reg("cartesianchart",Ext.chart.CartesianChart);Ext.chart.LineChart=Ext.extend(Ext.chart.CartesianChart,{type:"line"});Ext.reg("linechart",Ext.chart.LineChart);Ext.chart.ColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"column"});Ext.reg("columnchart",Ext.chart.ColumnChart);Ext.chart.StackedColumnChart=Ext.extend(Ext.chart.CartesianChart,{type:"stackcolumn"});Ext.reg("stackedcolumnchart",Ext.chart.StackedColumnChart);Ext.chart.BarChart=Ext.extend(Ext.chart.CartesianChart,{type:"bar"});Ext.reg("barchart",Ext.chart.BarChart);Ext.chart.StackedBarChart=Ext.extend(Ext.chart.CartesianChart,{type:"stackbar"});Ext.reg("stackedbarchart",Ext.chart.StackedBarChart);Ext.chart.Axis=function(a){Ext.apply(this,a)};Ext.chart.Axis.prototype={type:null,orientation:"horizontal",reverse:false,labelFunction:null,hideOverlappingLabels:true,labelSpacing:2};Ext.chart.NumericAxis=Ext.extend(Ext.chart.Axis,{type:"numeric",minimum:NaN,maximum:NaN,majorUnit:NaN,minorUnit:NaN,snapToUnits:true,alwaysShowZero:true,scale:"linear",roundMajorUnit:true,calculateByLabelSize:true,position:"left",adjustMaximumByMajorUnit:true,adjustMinimumByMajorUnit:true});Ext.chart.TimeAxis=Ext.extend(Ext.chart.Axis,{type:"time",minimum:null,maximum:null,majorUnit:NaN,majorTimeUnit:null,minorUnit:NaN,minorTimeUnit:null,snapToUnits:true,stackingEnabled:false,calculateByLabelSize:true});Ext.chart.CategoryAxis=Ext.extend(Ext.chart.Axis,{type:"category",categoryNames:null,calculateCategoryCount:false});Ext.chart.Series=function(a){Ext.apply(this,a)};Ext.chart.Series.prototype={type:null,displayName:null};Ext.chart.CartesianSeries=Ext.extend(Ext.chart.Series,{xField:null,yField:null,showInLegend:true,axis:"primary"});Ext.chart.ColumnSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"column"});Ext.chart.LineSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"line"});Ext.chart.BarSeries=Ext.extend(Ext.chart.CartesianSeries,{type:"bar"});Ext.chart.PieSeries=Ext.extend(Ext.chart.Series,{type:"pie",dataField:null,categoryField:null});Ext.menu.Menu=Ext.extend(Ext.Container,{minWidth:120,shadow:"sides",subMenuAlign:"tl-tr?",defaultAlign:"tl-bl?",allowOtherMenus:false,ignoreParentClicks:false,enableScrolling:true,maxHeight:null,scrollIncrement:24,showSeparator:true,defaultOffsets:[0,0],plain:false,floating:true,zIndex:15000,hidden:true,layout:"menu",hideMode:"offsets",scrollerHeight:8,autoLayout:true,defaultType:"menuitem",bufferResize:false,initComponent:function(){if(Ext.isArray(this.initialConfig)){Ext.apply(this,{items:this.initialConfig})}this.addEvents("click","mouseover","mouseout","itemclick");Ext.menu.MenuMgr.register(this);if(this.floating){Ext.EventManager.onWindowResize(this.hide,this)}else{if(this.initialConfig.hidden!==false){this.hidden=false}this.internalDefaults={hideOnClick:false}}Ext.menu.Menu.superclass.initComponent.call(this);if(this.autoLayout){var a=this.doLayout.createDelegate(this,[]);this.on({add:a,remove:a})}},getLayoutTarget:function(){return this.ul},onRender:function(b,a){if(!b){b=Ext.getBody()}var c={id:this.getId(),cls:"x-menu "+((this.floating)?"x-menu-floating x-layer ":"")+(this.cls||"")+(this.plain?" x-menu-plain":"")+(this.showSeparator?"":" x-menu-nosep"),style:this.style,cn:[{tag:"a",cls:"x-menu-focus",href:"#",onclick:"return false;",tabIndex:"-1"},{tag:"ul",cls:"x-menu-list"}]};if(this.floating){this.el=new Ext.Layer({shadow:this.shadow,dh:c,constrain:false,parentEl:b,zindex:this.zIndex})}else{this.el=b.createChild(c)}Ext.menu.Menu.superclass.onRender.call(this,b,a);if(!this.keyNav){this.keyNav=new Ext.menu.MenuNav(this)}this.focusEl=this.el.child("a.x-menu-focus");this.ul=this.el.child("ul.x-menu-list");this.mon(this.ul,{scope:this,click:this.onClick,mouseover:this.onMouseOver,mouseout:this.onMouseOut});if(this.enableScrolling){this.mon(this.el,{scope:this,delegate:".x-menu-scroller",click:this.onScroll,mouseover:this.deactivateActive})}},findTargetItem:function(b){var a=b.getTarget(".x-menu-list-item",this.ul,true);if(a&&a.menuItemId){return this.items.get(a.menuItemId)}},onClick:function(b){var a=this.findTargetItem(b);if(a){if(a.isFormField){this.setActiveItem(a)}else{if(a instanceof Ext.menu.BaseItem){if(a.menu&&this.ignoreParentClicks){a.expandMenu();b.preventDefault()}else{if(a.onClick){a.onClick(b);this.fireEvent("click",this,a,b)}}}}}},setActiveItem:function(a,b){if(a!=this.activeItem){this.deactivateActive();if((this.activeItem=a).isFormField){a.focus()}else{a.activate(b)}}else{if(b){a.expandMenu()}}},deactivateActive:function(){var b=this.activeItem;if(b){if(b.isFormField){if(b.collapse){b.collapse()}}else{b.deactivate()}delete this.activeItem}},tryActivate:function(g,e){var b=this.items;for(var c=g,a=b.length;c>=0&&c<a;c+=e){var d=b.get(c);if(d.isVisible()&&!d.disabled&&(d.canActivate||d.isFormField)){this.setActiveItem(d,false);return d}}return false},onMouseOver:function(b){var a=this.findTargetItem(b);if(a){if(a.canActivate&&!a.disabled){this.setActiveItem(a,true)}}this.over=true;this.fireEvent("mouseover",this,b,a)},onMouseOut:function(b){var a=this.findTargetItem(b);if(a){if(a==this.activeItem&&a.shouldDeactivate&&a.shouldDeactivate(b)){this.activeItem.deactivate();delete this.activeItem}}this.over=false;this.fireEvent("mouseout",this,b,a)},onScroll:function(d,b){if(d){d.stopEvent()}var a=this.ul.dom,c=Ext.fly(b).is(".x-menu-scroller-top");a.scrollTop+=this.scrollIncrement*(c?-1:1);if(c?a.scrollTop<=0:a.scrollTop+this.activeMax>=a.scrollHeight){this.onScrollerOut(null,b)}},onScrollerIn:function(d,b){var a=this.ul.dom,c=Ext.fly(b).is(".x-menu-scroller-top");if(c?a.scrollTop>0:a.scrollTop+this.activeMax<a.scrollHeight){Ext.fly(b).addClass(["x-menu-item-active","x-menu-scroller-active"])}},onScrollerOut:function(b,a){Ext.fly(a).removeClass(["x-menu-item-active","x-menu-scroller-active"])},show:function(b,c,a){if(this.floating){this.parentMenu=a;if(!this.el){this.render();this.doLayout(false,true)}this.showAt(this.el.getAlignToXY(b,c||this.defaultAlign,this.defaultOffsets),a)}else{Ext.menu.Menu.superclass.show.call(this)}},showAt:function(b,a){if(this.fireEvent("beforeshow",this)!==false){this.parentMenu=a;if(!this.el){this.render()}if(this.enableScrolling){this.el.setXY(b);b[1]=this.constrainScroll(b[1]);b=[this.el.adjustForConstraints(b)[0],b[1]]}else{b=this.el.adjustForConstraints(b)}this.el.setXY(b);this.el.show();Ext.menu.Menu.superclass.onShow.call(this);if(Ext.isIE){this.fireEvent("autosize",this);if(!Ext.isIE8){this.el.repaint()}}this.hidden=false;this.focus();this.fireEvent("show",this)}},constrainScroll:function(i){var b,d=this.ul.setHeight("auto").getHeight(),a=i,h,e,g,c;if(this.floating){e=Ext.fly(this.el.dom.parentNode);g=e.getScroll().top;c=e.getViewSize().height;h=i-g;b=this.maxHeight?this.maxHeight:c-h;if(d>c){b=c;a=i-h}else{if(b<d){a=i-(d-b);b=d}}}else{b=this.getHeight()}if(this.maxHeight){b=Math.min(this.maxHeight,b)}if(d>b&&b>0){this.activeMax=b-this.scrollerHeight*2-this.el.getFrameWidth("tb")-Ext.num(this.el.shadowOffset,0);this.ul.setHeight(this.activeMax);this.createScrollers();this.el.select(".x-menu-scroller").setDisplayed("")}else{this.ul.setHeight(d);this.el.select(".x-menu-scroller").setDisplayed("none")}this.ul.dom.scrollTop=0;return a},createScrollers:function(){if(!this.scroller){this.scroller={pos:0,top:this.el.insertFirst({tag:"div",cls:"x-menu-scroller x-menu-scroller-top",html:"&#160;"}),bottom:this.el.createChild({tag:"div",cls:"x-menu-scroller x-menu-scroller-bottom",html:"&#160;"})};this.scroller.top.hover(this.onScrollerIn,this.onScrollerOut,this);this.scroller.topRepeater=new Ext.util.ClickRepeater(this.scroller.top,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.top],false)}});this.scroller.bottom.hover(this.onScrollerIn,this.onScrollerOut,this);this.scroller.bottomRepeater=new Ext.util.ClickRepeater(this.scroller.bottom,{listeners:{click:this.onScroll.createDelegate(this,[null,this.scroller.bottom],false)}})}},onLayout:function(){if(this.isVisible()){if(this.enableScrolling){this.constrainScroll(this.el.getTop())}if(this.floating){this.el.sync()}}},focus:function(){if(!this.hidden){this.doFocus.defer(50,this)}},doFocus:function(){if(!this.hidden){this.focusEl.focus()}},hide:function(a){if(!this.isDestroyed){this.deepHide=a;Ext.menu.Menu.superclass.hide.call(this);delete this.deepHide}},onHide:function(){Ext.menu.Menu.superclass.onHide.call(this);this.deactivateActive();if(this.el&&this.floating){this.el.hide()}var a=this.parentMenu;if(this.deepHide===true&&a){if(a.floating){a.hide(true)}else{a.deactivateActive()}}},lookupComponent:function(a){if(Ext.isString(a)){a=(a=="separator"||a=="-")?new Ext.menu.Separator():new Ext.menu.TextItem(a);this.applyDefaults(a)}else{if(Ext.isObject(a)){a=this.getMenuItem(a)}else{if(a.tagName||a.el){a=new Ext.BoxComponent({el:a})}}}return a},applyDefaults:function(b){if(!Ext.isString(b)){b=Ext.menu.Menu.superclass.applyDefaults.call(this,b);var a=this.internalDefaults;if(a){if(b.events){Ext.applyIf(b.initialConfig,a);Ext.apply(b,a)}else{Ext.applyIf(b,a)}}}return b},getMenuItem:function(a){a.ownerCt=this;if(!a.isXType){if(!a.xtype&&Ext.isBoolean(a.checked)){return new Ext.menu.CheckItem(a)}return Ext.create(a,this.defaultType)}return a},addSeparator:function(){return this.add(new Ext.menu.Separator())},addElement:function(a){return this.add(new Ext.menu.BaseItem({el:a}))},addItem:function(a){return this.add(a)},addMenuItem:function(a){return this.add(this.getMenuItem(a))},addText:function(a){return this.add(new Ext.menu.TextItem(a))},onDestroy:function(){Ext.EventManager.removeResizeListener(this.hide,this);var a=this.parentMenu;if(a&&a.activeChild==this){delete a.activeChild}delete this.parentMenu;Ext.menu.Menu.superclass.onDestroy.call(this);Ext.menu.MenuMgr.unregister(this);if(this.keyNav){this.keyNav.disable()}var b=this.scroller;if(b){Ext.destroy(b.topRepeater,b.bottomRepeater,b.top,b.bottom)}Ext.destroy(this.el,this.focusEl,this.ul)}});Ext.reg("menu",Ext.menu.Menu);Ext.menu.MenuNav=Ext.extend(Ext.KeyNav,function(){function a(d,c){if(!c.tryActivate(c.items.indexOf(c.activeItem)-1,-1)){c.tryActivate(c.items.length-1,-1)}}function b(d,c){if(!c.tryActivate(c.items.indexOf(c.activeItem)+1,1)){c.tryActivate(0,1)}}return{constructor:function(c){Ext.menu.MenuNav.superclass.constructor.call(this,c.el);this.scope=this.menu=c},doRelay:function(g,d){var c=g.getKey();if(this.menu.activeItem&&this.menu.activeItem.isFormField&&c!=g.TAB){return false}if(!this.menu.activeItem&&g.isNavKeyPress()&&c!=g.SPACE&&c!=g.RETURN){this.menu.tryActivate(0,1);return false}return d.call(this.scope||this,g,this.menu)},tab:function(d,c){d.stopEvent();if(d.shiftKey){a(d,c)}else{b(d,c)}},up:a,down:b,right:function(d,c){if(c.activeItem){c.activeItem.expandMenu(true)}},left:function(d,c){c.hide();if(c.parentMenu&&c.parentMenu.activeItem){c.parentMenu.activeItem.activate()}},enter:function(d,c){if(c.activeItem){d.stopPropagation();c.activeItem.onClick(d);c.fireEvent("click",this,c.activeItem);return true}}}}());Ext.menu.MenuMgr=function(){var h,e,b,d={},a=false,l=new Date();function n(){h={};e=new Ext.util.MixedCollection();b=Ext.getDoc().addKeyListener(27,j);b.disable()}function j(){if(e&&e.length>0){var o=e.clone();o.each(function(p){p.hide()});return true}return false}function g(o){e.remove(o);if(e.length<1){b.disable();Ext.getDoc().un("mousedown",m);a=false}}function k(o){var p=e.last();l=new Date();e.add(o);if(!a){b.enable();Ext.getDoc().on("mousedown",m);a=true}if(o.parentMenu){o.getEl().setZIndex(parseInt(o.parentMenu.getEl().getStyle("z-index"),10)+3);o.parentMenu.activeChild=o}else{if(p&&!p.isDestroyed&&p.isVisible()){o.getEl().setZIndex(parseInt(p.getEl().getStyle("z-index"),10)+3)}}}function c(o){if(o.activeChild){o.activeChild.hide()}if(o.autoHideTimer){clearTimeout(o.autoHideTimer);delete o.autoHideTimer}}function i(o){var p=o.parentMenu;if(!p&&!o.allowOtherMenus){j()}else{if(p&&p.activeChild){p.activeChild.hide()}}}function m(o){if(l.getElapsed()>50&&e.length>0&&!o.getTarget(".x-menu")){j()}}return{hideAll:function(){return j()},register:function(o){if(!h){n()}h[o.id]=o;o.on({beforehide:c,hide:g,beforeshow:i,show:k})},get:function(o){if(typeof o=="string"){if(!h){return null}return h[o]}else{if(o.events){return o}else{if(typeof o.length=="number"){return new Ext.menu.Menu({items:o})}else{return Ext.create(o,"menu")}}}},unregister:function(o){delete h[o.id];o.un("beforehide",c);o.un("hide",g);o.un("beforeshow",i);o.un("show",k)},registerCheckable:function(o){var p=o.group;if(p){if(!d[p]){d[p]=[]}d[p].push(o)}},unregisterCheckable:function(o){var p=o.group;if(p){d[p].remove(o)}},onCheckChange:function(q,r){if(q.group&&r){var t=d[q.group],p=0,o=t.length,s;for(;p<o;p++){s=t[p];if(s!=q){s.setChecked(false)}}}},getCheckedItem:function(q){var r=d[q];if(r){for(var p=0,o=r.length;p<o;p++){if(r[p].checked){return r[p]}}}return null},setCheckedItem:function(q,s){var r=d[q];if(r){for(var p=0,o=r.length;p<o;p++){if(r[p].id==s){r[p].setChecked(true)}}}return null}}}();Ext.menu.BaseItem=Ext.extend(Ext.Component,{canActivate:false,activeClass:"x-menu-item-active",hideOnClick:true,clickHideDelay:1,ctype:"Ext.menu.BaseItem",actionMode:"container",initComponent:function(){Ext.menu.BaseItem.superclass.initComponent.call(this);this.addEvents("click","activate","deactivate");if(this.handler){this.on("click",this.handler,this.scope)}},onRender:function(b,a){Ext.menu.BaseItem.superclass.onRender.apply(this,arguments);if(this.ownerCt&&this.ownerCt instanceof Ext.menu.Menu){this.parentMenu=this.ownerCt}else{this.container.addClass("x-menu-list-item");this.mon(this.el,{scope:this,click:this.onClick,mouseenter:this.activate,mouseleave:this.deactivate})}},setHandler:function(b,a){if(this.handler){this.un("click",this.handler,this.scope)}this.on("click",this.handler=b,this.scope=a)},onClick:function(a){if(!this.disabled&&this.fireEvent("click",this,a)!==false&&(this.parentMenu&&this.parentMenu.fireEvent("itemclick",this,a)!==false)){this.handleClick(a)}else{a.stopEvent()}},activate:function(){if(this.disabled){return false}var a=this.container;a.addClass(this.activeClass);this.region=a.getRegion().adjust(2,2,-2,-2);this.fireEvent("activate",this);return true},deactivate:function(){this.container.removeClass(this.activeClass);this.fireEvent("deactivate",this)},shouldDeactivate:function(a){return !this.region||!this.region.contains(a.getPoint())},handleClick:function(b){var a=this.parentMenu;if(this.hideOnClick){if(a.floating){this.clickHideDelayTimer=a.hide.defer(this.clickHideDelay,a,[true])}else{a.deactivateActive()}}},beforeDestroy:function(){clearTimeout(this.clickHideDelayTimer);Ext.menu.BaseItem.superclass.beforeDestroy.call(this)},expandMenu:Ext.emptyFn,hideMenu:Ext.emptyFn});Ext.reg("menubaseitem",Ext.menu.BaseItem);Ext.menu.TextItem=Ext.extend(Ext.menu.BaseItem,{hideOnClick:false,itemCls:"x-menu-text",constructor:function(a){if(typeof a=="string"){a={text:a}}Ext.menu.TextItem.superclass.constructor.call(this,a)},onRender:function(){var a=document.createElement("span");a.className=this.itemCls;a.innerHTML=this.text;this.el=a;Ext.menu.TextItem.superclass.onRender.apply(this,arguments)}});Ext.reg("menutextitem",Ext.menu.TextItem);Ext.menu.Separator=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-sep",hideOnClick:false,activeClass:"",onRender:function(a){var b=document.createElement("span");b.className=this.itemCls;b.innerHTML="&#160;";this.el=b;a.addClass("x-menu-sep-li");Ext.menu.Separator.superclass.onRender.apply(this,arguments)}});Ext.reg("menuseparator",Ext.menu.Separator);Ext.menu.Item=Ext.extend(Ext.menu.BaseItem,{itemCls:"x-menu-item",canActivate:true,showDelay:200,altText:"",hideDelay:200,ctype:"Ext.menu.Item",initComponent:function(){Ext.menu.Item.superclass.initComponent.call(this);if(this.menu){if(Ext.isArray(this.menu)){this.menu={items:this.menu}}if(Ext.isObject(this.menu)){this.menu.ownerCt=this}this.menu=Ext.menu.MenuMgr.get(this.menu);this.menu.ownerCt=undefined}},onRender:function(d,b){if(!this.itemTpl){this.itemTpl=Ext.menu.Item.prototype.itemTpl=new Ext.XTemplate('<a id="{id}" class="{cls}" hidefocus="true" unselectable="on" href="{href}"','<tpl if="hrefTarget">',' target="{hrefTarget}"',"</tpl>",">",'<img alt="{altText}" src="{icon}" class="x-menu-item-icon {iconCls}"/>','<span class="x-menu-item-text">{text}</span>',"</a>")}var c=this.getTemplateArgs();this.el=b?this.itemTpl.insertBefore(b,c,true):this.itemTpl.append(d,c,true);this.iconEl=this.el.child("img.x-menu-item-icon");this.textEl=this.el.child(".x-menu-item-text");if(!this.href){this.mon(this.el,"click",Ext.emptyFn,null,{preventDefault:true})}Ext.menu.Item.superclass.onRender.call(this,d,b)},getTemplateArgs:function(){return{id:this.id,cls:this.itemCls+(this.menu?" x-menu-item-arrow":"")+(this.cls?" "+this.cls:""),href:this.href||"#",hrefTarget:this.hrefTarget,icon:this.icon||Ext.BLANK_IMAGE_URL,iconCls:this.iconCls||"",text:this.itemText||this.text||"&#160;",altText:this.altText||""}},setText:function(a){this.text=a||"&#160;";if(this.rendered){this.textEl.update(this.text);this.parentMenu.layout.doAutoSize()}},setIconClass:function(a){var b=this.iconCls;this.iconCls=a;if(this.rendered){this.iconEl.replaceClass(b,this.iconCls)}},beforeDestroy:function(){clearTimeout(this.showTimer);clearTimeout(this.hideTimer);if(this.menu){delete this.menu.ownerCt;this.menu.destroy()}Ext.menu.Item.superclass.beforeDestroy.call(this)},handleClick:function(a){if(!this.href){a.stopEvent()}Ext.menu.Item.superclass.handleClick.apply(this,arguments)},activate:function(a){if(Ext.menu.Item.superclass.activate.apply(this,arguments)){this.focus();if(a){this.expandMenu()}}return true},shouldDeactivate:function(a){if(Ext.menu.Item.superclass.shouldDeactivate.call(this,a)){if(this.menu&&this.menu.isVisible()){return !this.menu.getEl().getRegion().contains(a.getPoint())}return true}return false},deactivate:function(){Ext.menu.Item.superclass.deactivate.apply(this,arguments);this.hideMenu()},expandMenu:function(a){if(!this.disabled&&this.menu){clearTimeout(this.hideTimer);delete this.hideTimer;if(!this.menu.isVisible()&&!this.showTimer){this.showTimer=this.deferExpand.defer(this.showDelay,this,[a])}else{if(this.menu.isVisible()&&a){this.menu.tryActivate(0,1)}}}},deferExpand:function(a){delete this.showTimer;this.menu.show(this.container,this.parentMenu.subMenuAlign||"tl-tr?",this.parentMenu);if(a){this.menu.tryActivate(0,1)}},hideMenu:function(){clearTimeout(this.showTimer);delete this.showTimer;if(!this.hideTimer&&this.menu&&this.menu.isVisible()){this.hideTimer=this.deferHide.defer(this.hideDelay,this)}},deferHide:function(){delete this.hideTimer;if(this.menu.over){this.parentMenu.setActiveItem(this,false)}else{this.menu.hide()}}});Ext.reg("menuitem",Ext.menu.Item);Ext.menu.CheckItem=Ext.extend(Ext.menu.Item,{itemCls:"x-menu-item x-menu-check-item",groupClass:"x-menu-group-item",checked:false,ctype:"Ext.menu.CheckItem",initComponent:function(){Ext.menu.CheckItem.superclass.initComponent.call(this);this.addEvents("beforecheckchange","checkchange");if(this.checkHandler){this.on("checkchange",this.checkHandler,this.scope)}Ext.menu.MenuMgr.registerCheckable(this)},onRender:function(a){Ext.menu.CheckItem.superclass.onRender.apply(this,arguments);if(this.group){this.el.addClass(this.groupClass)}if(this.checked){this.checked=false;this.setChecked(true,true)}},destroy:function(){Ext.menu.MenuMgr.unregisterCheckable(this);Ext.menu.CheckItem.superclass.destroy.apply(this,arguments)},setChecked:function(b,a){var c=a===true;if(this.checked!=b&&(c||this.fireEvent("beforecheckchange",this,b)!==false)){Ext.menu.MenuMgr.onCheckChange(this,b);if(this.container){this.container[b?"addClass":"removeClass"]("x-menu-item-checked")}this.checked=b;if(!c){this.fireEvent("checkchange",this,b)}}},handleClick:function(a){if(!this.disabled&&!(this.checked&&this.group)){this.setChecked(!this.checked)}Ext.menu.CheckItem.superclass.handleClick.apply(this,arguments)}});Ext.reg("menucheckitem",Ext.menu.CheckItem);Ext.menu.DateMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:false,hideOnClick:true,pickerId:null,cls:"x-date-menu",initComponent:function(){this.on("beforeshow",this.onBeforeShow,this);if(this.strict=(Ext.isIE7&&Ext.isStrict)){this.on("show",this.onShow,this,{single:true,delay:20})}Ext.apply(this,{plain:true,showSeparator:false,items:this.picker=new Ext.DatePicker(Ext.applyIf({internalRender:this.strict||!Ext.isIE,ctCls:"x-menu-date-item",id:this.pickerId},this.initialConfig))});this.picker.purgeListeners();Ext.menu.DateMenu.superclass.initComponent.call(this);this.relayEvents(this.picker,["select"]);this.on("show",this.picker.focus,this.picker);this.on("select",this.menuHide,this);if(this.handler){this.on("select",this.handler,this.scope||this)}},menuHide:function(){if(this.hideOnClick){this.hide(true)}},onBeforeShow:function(){if(this.picker){this.picker.hideMonthPicker(true)}},onShow:function(){var a=this.picker.getEl();a.setWidth(a.getWidth())}});Ext.reg("datemenu",Ext.menu.DateMenu);Ext.menu.ColorMenu=Ext.extend(Ext.menu.Menu,{enableScrolling:false,hideOnClick:true,cls:"x-color-menu",paletteId:null,initComponent:function(){Ext.apply(this,{plain:true,showSeparator:false,items:this.palette=new Ext.ColorPalette(Ext.applyIf({id:this.paletteId},this.initialConfig))});this.palette.purgeListeners();Ext.menu.ColorMenu.superclass.initComponent.call(this);this.relayEvents(this.palette,["select"]);this.on("select",this.menuHide,this);if(this.handler){this.on("select",this.handler,this.scope||this)}},menuHide:function(){if(this.hideOnClick){this.hide(true)}}});Ext.reg("colormenu",Ext.menu.ColorMenu);Ext.form.Field=Ext.extend(Ext.BoxComponent,{invalidClass:"x-form-invalid",invalidText:"The value in this field is invalid",focusClass:"x-form-focus",validationEvent:"keyup",validateOnBlur:true,validationDelay:250,defaultAutoCreate:{tag:"input",type:"text",size:"20",autocomplete:"off"},fieldClass:"x-form-field",msgTarget:"qtip",msgFx:"normal",readOnly:false,disabled:false,submitValue:true,isFormField:true,msgDisplay:"",hasFocus:false,initComponent:function(){Ext.form.Field.superclass.initComponent.call(this);this.addEvents("focus","blur","specialkey","change","invalid","valid")},getName:function(){return this.rendered&&this.el.dom.name?this.el.dom.name:this.name||this.id||""},onRender:function(c,a){if(!this.el){var b=this.getAutoCreate();if(!b.name){b.name=this.name||this.id}if(this.inputType){b.type=this.inputType}this.autoEl=b}Ext.form.Field.superclass.onRender.call(this,c,a);if(this.submitValue===false){this.el.dom.removeAttribute("name")}var d=this.el.dom.type;if(d){if(d=="password"){d="text"}this.el.addClass("x-form-"+d)}if(this.readOnly){this.setReadOnly(true)}if(this.tabIndex!==undefined){this.el.dom.setAttribute("tabIndex",this.tabIndex)}this.el.addClass([this.fieldClass,this.cls])},getItemCt:function(){return this.itemCt},initValue:function(){if(this.value!==undefined){this.setValue(this.value)}else{if(!Ext.isEmpty(this.el.dom.value)&&this.el.dom.value!=this.emptyText){this.setValue(this.el.dom.value)}}this.originalValue=this.getValue()},isDirty:function(){if(this.disabled||!this.rendered){return false}return String(this.getValue())!==String(this.originalValue)},setReadOnly:function(a){if(this.rendered){this.el.dom.readOnly=a}this.readOnly=a},afterRender:function(){Ext.form.Field.superclass.afterRender.call(this);this.initEvents();this.initValue()},fireKey:function(a){if(a.isSpecialKey()){this.fireEvent("specialkey",this,a)}},reset:function(){this.setValue(this.originalValue);this.clearInvalid()},initEvents:function(){this.mon(this.el,Ext.EventManager.getKeyEvent(),this.fireKey,this);this.mon(this.el,"focus",this.onFocus,this);this.mon(this.el,"blur",this.onBlur,this,this.inEditor?{buffer:10}:null)},preFocus:Ext.emptyFn,onFocus:function(){this.preFocus();if(this.focusClass){this.el.addClass(this.focusClass)}if(!this.hasFocus){this.hasFocus=true;this.startValue=this.getValue();this.fireEvent("focus",this)}},beforeBlur:Ext.emptyFn,onBlur:function(){this.beforeBlur();if(this.focusClass){this.el.removeClass(this.focusClass)}this.hasFocus=false;if(this.validationEvent!==false&&(this.validateOnBlur||this.validationEvent=="blur")){this.validate()}var a=this.getValue();if(String(a)!==String(this.startValue)){this.fireEvent("change",this,a,this.startValue)}this.fireEvent("blur",this);this.postBlur()},postBlur:Ext.emptyFn,isValid:function(a){if(this.disabled){return true}var c=this.preventMark;this.preventMark=a===true;var b=this.validateValue(this.processValue(this.getRawValue()),a);this.preventMark=c;return b},validate:function(){if(this.disabled||this.validateValue(this.processValue(this.getRawValue()))){this.clearInvalid();return true}return false},processValue:function(a){return a},validateValue:function(b){var a=this.getErrors(b)[0];if(a==undefined){return true}else{this.markInvalid(a);return false}},getErrors:function(){return[]},getActiveError:function(){return this.activeError||""},markInvalid:function(c){if(this.rendered&&!this.preventMark){c=c||this.invalidText;var a=this.getMessageHandler();if(a){a.mark(this,c)}else{if(this.msgTarget){this.el.addClass(this.invalidClass);var b=Ext.getDom(this.msgTarget);if(b){b.innerHTML=c;b.style.display=this.msgDisplay}}}}this.setActiveError(c)},clearInvalid:function(){if(this.rendered&&!this.preventMark){this.el.removeClass(this.invalidClass);var a=this.getMessageHandler();if(a){a.clear(this)}else{if(this.msgTarget){this.el.removeClass(this.invalidClass);var b=Ext.getDom(this.msgTarget);if(b){b.innerHTML="";b.style.display="none"}}}}this.unsetActiveError()},setActiveError:function(b,a){this.activeError=b;if(a!==true){this.fireEvent("invalid",this,b)}},unsetActiveError:function(a){delete this.activeError;if(a!==true){this.fireEvent("valid",this)}},getMessageHandler:function(){return Ext.form.MessageTargets[this.msgTarget]},getErrorCt:function(){return this.el.findParent(".x-form-element",5,true)||this.el.findParent(".x-form-field-wrap",5,true)},alignErrorEl:function(){this.errorEl.setWidth(this.getErrorCt().getWidth(true)-20)},alignErrorIcon:function(){this.errorIcon.alignTo(this.el,"tl-tr",[2,0])},getRawValue:function(){var a=this.rendered?this.el.getValue():Ext.value(this.value,"");if(a===this.emptyText){a=""}return a},getValue:function(){if(!this.rendered){return this.value}var a=this.el.getValue();if(a===this.emptyText||a===undefined){a=""}return a},setRawValue:function(a){return this.rendered?(this.el.dom.value=(Ext.isEmpty(a)?"":a)):""},setValue:function(a){this.value=a;if(this.rendered){this.el.dom.value=(Ext.isEmpty(a)?"":a);this.validate()}return this},append:function(a){this.setValue([this.getValue(),a].join(""))}});Ext.form.MessageTargets={qtip:{mark:function(a,b){a.el.addClass(a.invalidClass);a.el.dom.qtip=b;a.el.dom.qclass="x-form-invalid-tip";if(Ext.QuickTips){Ext.QuickTips.enable()}},clear:function(a){a.el.removeClass(a.invalidClass);a.el.dom.qtip=""}},title:{mark:function(a,b){a.el.addClass(a.invalidClass);a.el.dom.title=b},clear:function(a){a.el.dom.title=""}},under:{mark:function(b,c){b.el.addClass(b.invalidClass);if(!b.errorEl){var a=b.getErrorCt();if(!a){b.el.dom.title=c;return}b.errorEl=a.createChild({cls:"x-form-invalid-msg"});b.on("resize",b.alignErrorEl,b);b.on("destroy",function(){Ext.destroy(this.errorEl)},b)}b.alignErrorEl();b.errorEl.update(c);Ext.form.Field.msgFx[b.msgFx].show(b.errorEl,b)},clear:function(a){a.el.removeClass(a.invalidClass);if(a.errorEl){Ext.form.Field.msgFx[a.msgFx].hide(a.errorEl,a)}else{a.el.dom.title=""}}},side:{mark:function(b,c){b.el.addClass(b.invalidClass);if(!b.errorIcon){var a=b.getErrorCt();if(!a){b.el.dom.title=c;return}b.errorIcon=a.createChild({cls:"x-form-invalid-icon"});if(b.ownerCt){b.ownerCt.on("afterlayout",b.alignErrorIcon,b);b.ownerCt.on("expand",b.alignErrorIcon,b)}b.on("resize",b.alignErrorIcon,b);b.on("destroy",function(){Ext.destroy(this.errorIcon)},b)}b.alignErrorIcon();b.errorIcon.dom.qtip=c;b.errorIcon.dom.qclass="x-form-invalid-tip";b.errorIcon.show()},clear:function(a){a.el.removeClass(a.invalidClass);if(a.errorIcon){a.errorIcon.dom.qtip="";a.errorIcon.hide()}else{a.el.dom.title=""}}}};Ext.form.Field.msgFx={normal:{show:function(a,b){a.setDisplayed("block")},hide:function(a,b){a.setDisplayed(false).update("")}},slide:{show:function(a,b){a.slideIn("t",{stopFx:true})},hide:function(a,b){a.slideOut("t",{stopFx:true,useDisplay:true})}},slideRight:{show:function(a,b){a.fixDisplay();a.alignTo(b.el,"tl-tr");a.slideIn("l",{stopFx:true})},hide:function(a,b){a.slideOut("l",{stopFx:true,useDisplay:true})}}};Ext.reg("field",Ext.form.Field);Ext.form.TextField=Ext.extend(Ext.form.Field,{grow:false,growMin:30,growMax:800,vtype:null,maskRe:null,disableKeyFilter:false,allowBlank:true,minLength:0,maxLength:Number.MAX_VALUE,minLengthText:"The minimum length for this field is {0}",maxLengthText:"The maximum length for this field is {0}",selectOnFocus:false,blankText:"This field is required",validator:null,regex:null,regexText:"",emptyText:null,emptyClass:"x-form-empty-field",initComponent:function(){Ext.form.TextField.superclass.initComponent.call(this);this.addEvents("autosize","keydown","keyup","keypress")},initEvents:function(){Ext.form.TextField.superclass.initEvents.call(this);if(this.validationEvent=="keyup"){this.validationTask=new Ext.util.DelayedTask(this.validate,this);this.mon(this.el,"keyup",this.filterValidation,this)}else{if(this.validationEvent!==false&&this.validationEvent!="blur"){this.mon(this.el,this.validationEvent,this.validate,this,{buffer:this.validationDelay})}}if(this.selectOnFocus||this.emptyText){this.mon(this.el,"mousedown",this.onMouseDown,this);if(this.emptyText){this.applyEmptyText()}}if(this.maskRe||(this.vtype&&this.disableKeyFilter!==true&&(this.maskRe=Ext.form.VTypes[this.vtype+"Mask"]))){this.mon(this.el,"keypress",this.filterKeys,this)}if(this.grow){this.mon(this.el,"keyup",this.onKeyUpBuffered,this,{buffer:50});this.mon(this.el,"click",this.autoSize,this)}if(this.enableKeyEvents){this.mon(this.el,{scope:this,keyup:this.onKeyUp,keydown:this.onKeyDown,keypress:this.onKeyPress})}},onMouseDown:function(a){if(!this.hasFocus){this.mon(this.el,"mouseup",Ext.emptyFn,this,{single:true,preventDefault:true})}},processValue:function(a){if(this.stripCharsRe){var b=a.replace(this.stripCharsRe,"");if(b!==a){this.setRawValue(b);return b}}return a},filterValidation:function(a){if(!a.isNavKeyPress()){this.validationTask.delay(this.validationDelay)}},onDisable:function(){Ext.form.TextField.superclass.onDisable.call(this);if(Ext.isIE){this.el.dom.unselectable="on"}},onEnable:function(){Ext.form.TextField.superclass.onEnable.call(this);if(Ext.isIE){this.el.dom.unselectable=""}},onKeyUpBuffered:function(a){if(this.doAutoSize(a)){this.autoSize()}},doAutoSize:function(a){return !a.isNavKeyPress()},onKeyUp:function(a){this.fireEvent("keyup",this,a)},onKeyDown:function(a){this.fireEvent("keydown",this,a)},onKeyPress:function(a){this.fireEvent("keypress",this,a)},reset:function(){Ext.form.TextField.superclass.reset.call(this);this.applyEmptyText()},applyEmptyText:function(){if(this.rendered&&this.emptyText&&this.getRawValue().length<1&&!this.hasFocus){this.setRawValue(this.emptyText);this.el.addClass(this.emptyClass)}},preFocus:function(){var a=this.el,b;if(this.emptyText){if(a.dom.value==this.emptyText){this.setRawValue("");b=true}a.removeClass(this.emptyClass)}if(this.selectOnFocus||b){a.dom.select()}},postBlur:function(){this.applyEmptyText()},filterKeys:function(b){if(b.ctrlKey){return}var a=b.getKey();if(Ext.isGecko&&(b.isNavKeyPress()||a==b.BACKSPACE||(a==b.DELETE&&b.button==-1))){return}var c=String.fromCharCode(b.getCharCode());if(!Ext.isGecko&&b.isSpecialKey()&&!c){return}if(!this.maskRe.test(c)){b.stopEvent()}},setValue:function(a){if(this.emptyText&&this.el&&!Ext.isEmpty(a)){this.el.removeClass(this.emptyClass)}Ext.form.TextField.superclass.setValue.apply(this,arguments);this.applyEmptyText();this.autoSize();return this},getErrors:function(a){var d=Ext.form.TextField.superclass.getErrors.apply(this,arguments);a=Ext.isDefined(a)?a:this.processValue(this.getRawValue());if(Ext.isFunction(this.validator)){var c=this.validator(a);if(c!==true){d.push(c)}}if(a.length<1||a===this.emptyText){if(this.allowBlank){return d}else{d.push(this.blankText)}}if(!this.allowBlank&&(a.length<1||a===this.emptyText)){d.push(this.blankText)}if(a.length<this.minLength){d.push(String.format(this.minLengthText,this.minLength))}if(a.length>this.maxLength){d.push(String.format(this.maxLengthText,this.maxLength))}if(this.vtype){var b=Ext.form.VTypes;if(!b[this.vtype](a,this)){d.push(this.vtypeText||b[this.vtype+"Text"])}}if(this.regex&&!this.regex.test(a)){d.push(this.regexText)}return d},selectText:function(h,a){var c=this.getRawValue();var e=false;if(c.length>0){h=h===undefined?0:h;a=a===undefined?c.length:a;var g=this.el.dom;if(g.setSelectionRange){g.setSelectionRange(h,a)}else{if(g.createTextRange){var b=g.createTextRange();b.moveStart("character",h);b.moveEnd("character",a-c.length);b.select()}}e=Ext.isGecko||Ext.isOpera}else{e=true}if(e){this.focus()}},autoSize:function(){if(!this.grow||!this.rendered){return}if(!this.metrics){this.metrics=Ext.util.TextMetrics.createInstance(this.el)}var c=this.el;var b=c.dom.value;var e=document.createElement("div");e.appendChild(document.createTextNode(b));b=e.innerHTML;Ext.removeNode(e);e=null;b+="&#160;";var a=Math.min(this.growMax,Math.max(this.metrics.getWidth(b)+10,this.growMin));this.el.setWidth(a);this.fireEvent("autosize",this,a)},onDestroy:function(){if(this.validationTask){this.validationTask.cancel();this.validationTask=null}Ext.form.TextField.superclass.onDestroy.call(this)}});Ext.reg("textfield",Ext.form.TextField);Ext.form.TriggerField=Ext.extend(Ext.form.TextField,{defaultAutoCreate:{tag:"input",type:"text",size:"16",autocomplete:"off"},hideTrigger:false,editable:true,readOnly:false,wrapFocusClass:"x-trigger-wrap-focus",autoSize:Ext.emptyFn,monitorTab:true,deferHeight:true,mimicing:false,actionMode:"wrap",defaultTriggerWidth:17,onResize:function(a,c){Ext.form.TriggerField.superclass.onResize.call(this,a,c);var b=this.getTriggerWidth();if(Ext.isNumber(a)){this.el.setWidth(a-b)}this.wrap.setWidth(this.el.getWidth()+b)},getTriggerWidth:function(){var a=this.trigger.getWidth();if(!this.hideTrigger&&!this.readOnly&&a===0){a=this.defaultTriggerWidth}return a},alignErrorIcon:function(){if(this.wrap){this.errorIcon.alignTo(this.wrap,"tl-tr",[2,0])}},onRender:function(b,a){this.doc=Ext.isIE?Ext.getBody():Ext.getDoc();Ext.form.TriggerField.superclass.onRender.call(this,b,a);this.wrap=this.el.wrap({cls:"x-form-field-wrap x-form-field-trigger-wrap"});this.trigger=this.wrap.createChild(this.triggerConfig||{tag:"img",src:Ext.BLANK_IMAGE_URL,alt:"",cls:"x-form-trigger "+this.triggerClass});this.initTrigger();if(!this.width){this.wrap.setWidth(this.el.getWidth()+this.trigger.getWidth())}this.resizeEl=this.positionEl=this.wrap},getWidth:function(){return(this.el.getWidth()+this.trigger.getWidth())},updateEditState:function(){if(this.rendered){if(this.readOnly){this.el.dom.readOnly=true;this.el.addClass("x-trigger-noedit");this.mun(this.el,"click",this.onTriggerClick,this);this.trigger.setDisplayed(false)}else{if(!this.editable){this.el.dom.readOnly=true;this.el.addClass("x-trigger-noedit");this.mon(this.el,"click",this.onTriggerClick,this)}else{this.el.dom.readOnly=false;this.el.removeClass("x-trigger-noedit");this.mun(this.el,"click",this.onTriggerClick,this)}this.trigger.setDisplayed(!this.hideTrigger)}this.onResize(this.width||this.wrap.getWidth())}},setHideTrigger:function(a){if(a!=this.hideTrigger){this.hideTrigger=a;this.updateEditState()}},setEditable:function(a){if(a!=this.editable){this.editable=a;this.updateEditState()}},setReadOnly:function(a){if(a!=this.readOnly){this.readOnly=a;this.updateEditState()}},afterRender:function(){Ext.form.TriggerField.superclass.afterRender.call(this);this.updateEditState()},initTrigger:function(){this.mon(this.trigger,"click",this.onTriggerClick,this,{preventDefault:true});this.trigger.addClassOnOver("x-form-trigger-over");this.trigger.addClassOnClick("x-form-trigger-click")},onDestroy:function(){Ext.destroy(this.trigger,this.wrap);if(this.mimicing){this.doc.un("mousedown",this.mimicBlur,this)}delete this.doc;Ext.form.TriggerField.superclass.onDestroy.call(this)},onFocus:function(){Ext.form.TriggerField.superclass.onFocus.call(this);if(!this.mimicing){this.wrap.addClass(this.wrapFocusClass);this.mimicing=true;this.doc.on("mousedown",this.mimicBlur,this,{delay:10});if(this.monitorTab){this.on("specialkey",this.checkTab,this)}}},checkTab:function(a,b){if(b.getKey()==b.TAB){this.triggerBlur()}},onBlur:Ext.emptyFn,mimicBlur:function(a){if(!this.isDestroyed&&!this.wrap.contains(a.target)&&this.validateBlur(a)){this.triggerBlur()}},triggerBlur:function(){this.mimicing=false;this.doc.un("mousedown",this.mimicBlur,this);if(this.monitorTab&&this.el){this.un("specialkey",this.checkTab,this)}Ext.form.TriggerField.superclass.onBlur.call(this);if(this.wrap){this.wrap.removeClass(this.wrapFocusClass)}},beforeBlur:Ext.emptyFn,validateBlur:function(a){return true},onTriggerClick:Ext.emptyFn});Ext.form.TwinTriggerField=Ext.extend(Ext.form.TriggerField,{initComponent:function(){Ext.form.TwinTriggerField.superclass.initComponent.call(this);this.triggerConfig={tag:"span",cls:"x-form-twin-triggers",cn:[{tag:"img",src:Ext.BLANK_IMAGE_URL,alt:"",cls:"x-form-trigger "+this.trigger1Class},{tag:"img",src:Ext.BLANK_IMAGE_URL,alt:"",cls:"x-form-trigger "+this.trigger2Class}]}},getTrigger:function(a){return this.triggers[a]},afterRender:function(){Ext.form.TwinTriggerField.superclass.afterRender.call(this);var c=this.triggers,b=0,a=c.length;for(;b<a;++b){if(this["hideTrigger"+(b+1)]){c[b].hide()}}},initTrigger:function(){var a=this.trigger.select(".x-form-trigger",true),b=this;a.each(function(d,g,c){var e="Trigger"+(c+1);d.hide=function(){var h=b.wrap.getWidth();this.dom.style.display="none";b.el.setWidth(h-b.trigger.getWidth());b["hidden"+e]=true};d.show=function(){var h=b.wrap.getWidth();this.dom.style.display="";b.el.setWidth(h-b.trigger.getWidth());b["hidden"+e]=false};this.mon(d,"click",this["on"+e+"Click"],this,{preventDefault:true});d.addClassOnOver("x-form-trigger-over");d.addClassOnClick("x-form-trigger-click")},this);this.triggers=a.elements},getTriggerWidth:function(){var a=0;Ext.each(this.triggers,function(d,c){var e="Trigger"+(c+1),b=d.getWidth();if(b===0&&!this["hidden"+e]){a+=this.defaultTriggerWidth}else{a+=b}},this);return a},onDestroy:function(){Ext.destroy(this.triggers);Ext.form.TwinTriggerField.superclass.onDestroy.call(this)},onTrigger1Click:Ext.emptyFn,onTrigger2Click:Ext.emptyFn});Ext.reg("trigger",Ext.form.TriggerField);Ext.form.TextArea=Ext.extend(Ext.form.TextField,{growMin:60,growMax:1000,growAppend:"&#160;\n&#160;",enterIsSpecial:false,preventScrollbars:false,onRender:function(b,a){if(!this.el){this.defaultAutoCreate={tag:"textarea",style:"width:100px;height:60px;",autocomplete:"off"}}Ext.form.TextArea.superclass.onRender.call(this,b,a);if(this.grow){this.textSizeEl=Ext.DomHelper.append(document.body,{tag:"pre",cls:"x-form-grow-sizer"});if(this.preventScrollbars){this.el.setStyle("overflow","hidden")}this.el.setHeight(this.growMin)}},onDestroy:function(){Ext.removeNode(this.textSizeEl);Ext.form.TextArea.superclass.onDestroy.call(this)},fireKey:function(a){if(a.isSpecialKey()&&(this.enterIsSpecial||(a.getKey()!=a.ENTER||a.hasModifier()))){this.fireEvent("specialkey",this,a)}},doAutoSize:function(a){return !a.isNavKeyPress()||a.getKey()==a.ENTER},filterValidation:function(a){if(!a.isNavKeyPress()||(!this.enterIsSpecial&&a.keyCode==a.ENTER)){this.validationTask.delay(this.validationDelay)}},autoSize:function(){if(!this.grow||!this.textSizeEl){return}var c=this.el,a=Ext.util.Format.htmlEncode(c.dom.value),d=this.textSizeEl,b;Ext.fly(d).setWidth(this.el.getWidth());if(a.length<1){a="&#160;&#160;"}else{a+=this.growAppend;if(Ext.isIE){a=a.replace(/\n/g,"&#160;<br />")}}d.innerHTML=a;b=Math.min(this.growMax,Math.max(d.offsetHeight,this.growMin));if(b!=this.lastHeight){this.lastHeight=b;this.el.setHeight(b);this.fireEvent("autosize",this,b)}}});Ext.reg("textarea",Ext.form.TextArea);Ext.form.NumberField=Ext.extend(Ext.form.TextField,{fieldClass:"x-form-field x-form-num-field",allowDecimals:true,decimalSeparator:".",decimalPrecision:2,allowNegative:true,minValue:Number.NEGATIVE_INFINITY,maxValue:Number.MAX_VALUE,minText:"The minimum value for this field is {0}",maxText:"The maximum value for this field is {0}",nanText:"{0} is not a valid number",baseChars:"0123456789",autoStripChars:false,initEvents:function(){var a=this.baseChars+"";if(this.allowDecimals){a+=this.decimalSeparator}if(this.allowNegative){a+="-"}a=Ext.escapeRe(a);this.maskRe=new RegExp("["+a+"]");if(this.autoStripChars){this.stripCharsRe=new RegExp("[^"+a+"]","gi")}Ext.form.NumberField.superclass.initEvents.call(this)},getErrors:function(b){var c=Ext.form.NumberField.superclass.getErrors.apply(this,arguments);b=Ext.isDefined(b)?b:this.processValue(this.getRawValue());if(b.length<1){return c}b=String(b).replace(this.decimalSeparator,".");if(isNaN(b)){c.push(String.format(this.nanText,b))}var a=this.parseValue(b);if(a<this.minValue){c.push(String.format(this.minText,this.minValue))}if(a>this.maxValue){c.push(String.format(this.maxText,this.maxValue))}return c},getValue:function(){return this.fixPrecision(this.parseValue(Ext.form.NumberField.superclass.getValue.call(this)))},setValue:function(a){a=Ext.isNumber(a)?a:parseFloat(String(a).replace(this.decimalSeparator,"."));a=this.fixPrecision(a);a=isNaN(a)?"":String(a).replace(".",this.decimalSeparator);return Ext.form.NumberField.superclass.setValue.call(this,a)},setMinValue:function(a){this.minValue=Ext.num(a,Number.NEGATIVE_INFINITY)},setMaxValue:function(a){this.maxValue=Ext.num(a,Number.MAX_VALUE)},parseValue:function(a){a=parseFloat(String(a).replace(this.decimalSeparator,"."));return isNaN(a)?"":a},fixPrecision:function(b){var a=isNaN(b);if(!this.allowDecimals||this.decimalPrecision==-1||a||!b){return a?"":b}return parseFloat(parseFloat(b).toFixed(this.decimalPrecision))},beforeBlur:function(){var a=this.parseValue(this.getRawValue());if(!Ext.isEmpty(a)){this.setValue(a)}}});Ext.reg("numberfield",Ext.form.NumberField);Ext.form.DateField=Ext.extend(Ext.form.TriggerField,{format:"m/d/Y",altFormats:"m/d/Y|n/j/Y|n/j/y|m/j/y|n/d/y|m/j/Y|n/d/Y|m-d-y|m-d-Y|m/d|m-d|md|mdy|mdY|d|Y-m-d|n-j|n/j",disabledDaysText:"Disabled",disabledDatesText:"Disabled",minText:"The date in this field must be equal to or after {0}",maxText:"The date in this field must be equal to or before {0}",invalidText:"{0} is not a valid date - it must be in the format {1}",triggerClass:"x-form-date-trigger",showToday:true,startDay:0,defaultAutoCreate:{tag:"input",type:"text",size:"10",autocomplete:"off"},initTime:"12",initTimeFormat:"H",safeParse:function(b,c){if(Date.formatContainsHourInfo(c)){return Date.parseDate(b,c)}else{var a=Date.parseDate(b+" "+this.initTime,c+" "+this.initTimeFormat);if(a){return a.clearTime()}}},initComponent:function(){Ext.form.DateField.superclass.initComponent.call(this);this.addEvents("select");if(Ext.isString(this.minValue)){this.minValue=this.parseDate(this.minValue)}if(Ext.isString(this.maxValue)){this.maxValue=this.parseDate(this.maxValue)}this.disabledDatesRE=null;this.initDisabledDays()},initEvents:function(){Ext.form.DateField.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{down:function(a){this.onTriggerClick()},scope:this,forceKeyDown:true})},initDisabledDays:function(){if(this.disabledDates){var b=this.disabledDates,a=b.length-1,c="(?:";Ext.each(b,function(g,e){c+=Ext.isDate(g)?"^"+Ext.escapeRe(g.dateFormat(this.format))+"$":b[e];if(e!=a){c+="|"}},this);this.disabledDatesRE=new RegExp(c+")")}},setDisabledDates:function(a){this.disabledDates=a;this.initDisabledDays();if(this.menu){this.menu.picker.setDisabledDates(this.disabledDatesRE)}},setDisabledDays:function(a){this.disabledDays=a;if(this.menu){this.menu.picker.setDisabledDays(a)}},setMinValue:function(a){this.minValue=(Ext.isString(a)?this.parseDate(a):a);if(this.menu){this.menu.picker.setMinDate(this.minValue)}},setMaxValue:function(a){this.maxValue=(Ext.isString(a)?this.parseDate(a):a);if(this.menu){this.menu.picker.setMaxDate(this.maxValue)}},getErrors:function(e){var h=Ext.form.DateField.superclass.getErrors.apply(this,arguments);e=this.formatDate(e||this.processValue(this.getRawValue()));if(e.length<1){return h}var c=e;e=this.parseDate(e);if(!e){h.push(String.format(this.invalidText,c,this.format));return h}var g=e.getTime();if(this.minValue&&g<this.minValue.clearTime().getTime()){h.push(String.format(this.minText,this.formatDate(this.minValue)))}if(this.maxValue&&g>this.maxValue.clearTime().getTime()){h.push(String.format(this.maxText,this.formatDate(this.maxValue)))}if(this.disabledDays){var a=e.getDay();for(var b=0;b<this.disabledDays.length;b++){if(a===this.disabledDays[b]){h.push(this.disabledDaysText);break}}}var d=this.formatDate(e);if(this.disabledDatesRE&&this.disabledDatesRE.test(d)){h.push(String.format(this.disabledDatesText,d))}return h},validateBlur:function(){return !this.menu||!this.menu.isVisible()},getValue:function(){return this.parseDate(Ext.form.DateField.superclass.getValue.call(this))||""},setValue:function(a){return Ext.form.DateField.superclass.setValue.call(this,this.formatDate(this.parseDate(a)))},parseDate:function(g){if(!g||Ext.isDate(g)){return g}var b=this.safeParse(g,this.format),c=this.altFormats,e=this.altFormatsArray;if(!b&&c){e=e||c.split("|");for(var d=0,a=e.length;d<a&&!b;d++){b=this.safeParse(g,e[d])}}return b},onDestroy:function(){Ext.destroy(this.menu,this.keyNav);Ext.form.DateField.superclass.onDestroy.call(this)},formatDate:function(a){return Ext.isDate(a)?a.dateFormat(this.format):a},onTriggerClick:function(){if(this.disabled){return}if(this.menu==null){this.menu=new Ext.menu.DateMenu({hideOnClick:false,focusOnSelect:false})}this.onFocus();Ext.apply(this.menu.picker,{minDate:this.minValue,maxDate:this.maxValue,disabledDatesRE:this.disabledDatesRE,disabledDatesText:this.disabledDatesText,disabledDays:this.disabledDays,disabledDaysText:this.disabledDaysText,format:this.format,showToday:this.showToday,startDay:this.startDay,minText:String.format(this.minText,this.formatDate(this.minValue)),maxText:String.format(this.maxText,this.formatDate(this.maxValue))});this.menu.picker.setValue(this.getValue()||new Date());this.menu.show(this.el,"tl-bl?");this.menuEvents("on")},menuEvents:function(a){this.menu[a]("select",this.onSelect,this);this.menu[a]("hide",this.onMenuHide,this);this.menu[a]("show",this.onFocus,this)},onSelect:function(a,b){this.setValue(b);this.fireEvent("select",this,b);this.menu.hide()},onMenuHide:function(){this.focus(false,60);this.menuEvents("un")},beforeBlur:function(){var a=this.parseDate(this.getRawValue());if(a){this.setValue(a)}}});Ext.reg("datefield",Ext.form.DateField);Ext.form.DisplayField=Ext.extend(Ext.form.Field,{validationEvent:false,validateOnBlur:false,defaultAutoCreate:{tag:"div"},fieldClass:"x-form-display-field",htmlEncode:false,initEvents:Ext.emptyFn,isValid:function(){return true},validate:function(){return true},getRawValue:function(){var a=this.rendered?this.el.dom.innerHTML:Ext.value(this.value,"");if(a===this.emptyText){a=""}if(this.htmlEncode){a=Ext.util.Format.htmlDecode(a)}return a},getValue:function(){return this.getRawValue()},getName:function(){return this.name},setRawValue:function(a){if(this.htmlEncode){a=Ext.util.Format.htmlEncode(a)}return this.rendered?(this.el.dom.innerHTML=(Ext.isEmpty(a)?"":a)):(this.value=a)},setValue:function(a){this.setRawValue(a);return this}});Ext.reg("displayfield",Ext.form.DisplayField);Ext.form.ComboBox=Ext.extend(Ext.form.TriggerField,{defaultAutoCreate:{tag:"input",type:"text",size:"24",autocomplete:"off"},listClass:"",selectedClass:"x-combo-selected",listEmptyText:"",triggerClass:"x-form-arrow-trigger",shadow:"sides",listAlign:"tl-bl?",maxHeight:300,minHeight:90,triggerAction:"query",minChars:4,autoSelect:true,typeAhead:false,queryDelay:500,pageSize:0,selectOnFocus:false,queryParam:"query",loadingText:"Loading...",resizable:false,handleHeight:8,allQuery:"",mode:"remote",minListWidth:70,forceSelection:false,typeAheadDelay:250,lazyInit:true,clearFilterOnReset:true,submitValue:undefined,initComponent:function(){Ext.form.ComboBox.superclass.initComponent.call(this);this.addEvents("expand","collapse","beforeselect","select","beforequery");if(this.transform){var c=Ext.getDom(this.transform);if(!this.hiddenName){this.hiddenName=c.name}if(!this.store){this.mode="local";var j=[],e=c.options;for(var b=0,a=e.length;b<a;b++){var h=e[b],g=(h.hasAttribute?h.hasAttribute("value"):h.getAttributeNode("value").specified)?h.value:h.text;if(h.selected&&Ext.isEmpty(this.value,true)){this.value=g}j.push([g,h.text])}this.store=new Ext.data.ArrayStore({idIndex:0,fields:["value","text"],data:j,autoDestroy:true});this.valueField="value";this.displayField="text"}c.name=Ext.id();if(!this.lazyRender){this.target=true;this.el=Ext.DomHelper.insertBefore(c,this.autoCreate||this.defaultAutoCreate);this.render(this.el.parentNode,c)}Ext.removeNode(c)}else{if(this.store){this.store=Ext.StoreMgr.lookup(this.store);if(this.store.autoCreated){this.displayField=this.valueField="field1";if(!this.store.expandData){this.displayField="field2"}this.mode="local"}}}this.selectedIndex=-1;if(this.mode=="local"){if(!Ext.isDefined(this.initialConfig.queryDelay)){this.queryDelay=10}if(!Ext.isDefined(this.initialConfig.minChars)){this.minChars=0}}},onRender:function(b,a){if(this.hiddenName&&!Ext.isDefined(this.submitValue)){this.submitValue=false}Ext.form.ComboBox.superclass.onRender.call(this,b,a);if(this.hiddenName){this.hiddenField=this.el.insertSibling({tag:"input",type:"hidden",name:this.hiddenName,id:(this.hiddenId||Ext.id())},"before",true)}if(Ext.isGecko){this.el.dom.setAttribute("autocomplete","off")}if(!this.lazyInit){this.initList()}else{this.on("focus",this.initList,this,{single:true})}},initValue:function(){Ext.form.ComboBox.superclass.initValue.call(this);if(this.hiddenField){this.hiddenField.value=Ext.value(Ext.isDefined(this.hiddenValue)?this.hiddenValue:this.value,"")}},getParentZIndex:function(){var a;if(this.ownerCt){this.findParentBy(function(b){a=parseInt(b.getPositionEl().getStyle("z-index"),10);return !!a})}return a},getZIndex:function(b){b=b||Ext.getDom(this.getListParent()||Ext.getBody());var a=parseInt(Ext.fly(b).getStyle("z-index"),10);if(!a){a=this.getParentZIndex()}return(a||12000)+5},initList:function(){if(!this.list){var a="x-combo-list",c=Ext.getDom(this.getListParent()||Ext.getBody());this.list=new Ext.Layer({parentEl:c,shadow:this.shadow,cls:[a,this.listClass].join(" "),constrain:false,zindex:this.getZIndex(c)});var b=this.listWidth||Math.max(this.wrap.getWidth(),this.minListWidth);this.list.setSize(b,0);this.list.swallowEvent("mousewheel");this.assetHeight=0;if(this.syncFont!==false){this.list.setStyle("font-size",this.el.getStyle("font-size"))}if(this.title){this.header=this.list.createChild({cls:a+"-hd",html:this.title});this.assetHeight+=this.header.getHeight()}this.innerList=this.list.createChild({cls:a+"-inner"});this.mon(this.innerList,"mouseover",this.onViewOver,this);this.mon(this.innerList,"mousemove",this.onViewMove,this);this.innerList.setWidth(b-this.list.getFrameWidth("lr"));if(this.pageSize){this.footer=this.list.createChild({cls:a+"-ft"});this.pageTb=new Ext.PagingToolbar({store:this.store,pageSize:this.pageSize,renderTo:this.footer});this.assetHeight+=this.footer.getHeight()}if(!this.tpl){this.tpl='<tpl for="."><div class="'+a+'-item">{'+this.displayField+"}</div></tpl>"}this.view=new Ext.DataView({applyTo:this.innerList,tpl:this.tpl,singleSelect:true,selectedClass:this.selectedClass,itemSelector:this.itemSelector||"."+a+"-item",emptyText:this.listEmptyText,deferEmptyText:false});this.mon(this.view,{containerclick:this.onViewClick,click:this.onViewClick,scope:this});this.bindStore(this.store,true);if(this.resizable){this.resizer=new Ext.Resizable(this.list,{pinned:true,handles:"se"});this.mon(this.resizer,"resize",function(g,d,e){this.maxHeight=e-this.handleHeight-this.list.getFrameWidth("tb")-this.assetHeight;this.listWidth=d;this.innerList.setWidth(d-this.list.getFrameWidth("lr"));this.restrictHeight()},this);this[this.pageSize?"footer":"innerList"].setStyle("margin-bottom",this.handleHeight+"px")}}},getListParent:function(){return document.body},getStore:function(){return this.store},bindStore:function(a,b){if(this.store&&!b){if(this.store!==a&&this.store.autoDestroy){this.store.destroy()}else{this.store.un("beforeload",this.onBeforeLoad,this);this.store.un("load",this.onLoad,this);this.store.un("exception",this.collapse,this)}if(!a){this.store=null;if(this.view){this.view.bindStore(null)}if(this.pageTb){this.pageTb.bindStore(null)}}}if(a){if(!b){this.lastQuery=null;if(this.pageTb){this.pageTb.bindStore(a)}}this.store=Ext.StoreMgr.lookup(a);this.store.on({scope:this,beforeload:this.onBeforeLoad,load:this.onLoad,exception:this.collapse});if(this.view){this.view.bindStore(a)}}},reset:function(){if(this.clearFilterOnReset&&this.mode=="local"){this.store.clearFilter()}Ext.form.ComboBox.superclass.reset.call(this)},initEvents:function(){Ext.form.ComboBox.superclass.initEvents.call(this);this.keyNav=new Ext.KeyNav(this.el,{up:function(a){this.inKeyMode=true;this.selectPrev()},down:function(a){if(!this.isExpanded()){this.onTriggerClick()}else{this.inKeyMode=true;this.selectNext()}},enter:function(a){this.onViewClick()},esc:function(a){this.collapse()},tab:function(a){if(this.forceSelection===true){this.collapse()}else{this.onViewClick(false)}return true},scope:this,doRelay:function(c,b,a){if(a=="down"||this.scope.isExpanded()){var d=Ext.KeyNav.prototype.doRelay.apply(this,arguments);if(!Ext.isIE&&Ext.EventManager.useKeydown){this.scope.fireKey(c)}return d}return true},forceKeyDown:true,defaultEventAction:"stopEvent"});this.queryDelay=Math.max(this.queryDelay||10,this.mode=="local"?10:250);this.dqTask=new Ext.util.DelayedTask(this.initQuery,this);if(this.typeAhead){this.taTask=new Ext.util.DelayedTask(this.onTypeAhead,this)}if(!this.enableKeyEvents){this.mon(this.el,"keyup",this.onKeyUp,this)}},onDestroy:function(){if(this.dqTask){this.dqTask.cancel();this.dqTask=null}this.bindStore(null);Ext.destroy(this.resizer,this.view,this.pageTb,this.list);Ext.destroyMembers(this,"hiddenField");Ext.form.ComboBox.superclass.onDestroy.call(this)},fireKey:function(a){if(!this.isExpanded()){Ext.form.ComboBox.superclass.fireKey.call(this,a)}},onResize:function(a,b){Ext.form.ComboBox.superclass.onResize.apply(this,arguments);if(!isNaN(a)&&this.isVisible()&&this.list){this.doResize(a)}else{this.bufferSize=a}},doResize:function(a){if(!Ext.isDefined(this.listWidth)){var b=Math.max(a,this.minListWidth);this.list.setWidth(b);this.innerList.setWidth(b-this.list.getFrameWidth("lr"))}},onEnable:function(){Ext.form.ComboBox.superclass.onEnable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=false}},onDisable:function(){Ext.form.ComboBox.superclass.onDisable.apply(this,arguments);if(this.hiddenField){this.hiddenField.disabled=true}},onBeforeLoad:function(){if(!this.hasFocus){return}this.innerList.update(this.loadingText?'<div class="loading-indicator">'+this.loadingText+"</div>":"");this.restrictHeight();this.selectedIndex=-1},onLoad:function(){if(!this.hasFocus){return}if(this.store.getCount()>0||this.listEmptyText){this.expand();this.restrictHeight();if(this.lastQuery==this.allQuery){if(this.editable){this.el.dom.select()}if(this.autoSelect!==false&&!this.selectByValue(this.value,true)){this.select(0,true)}}else{if(this.autoSelect!==false){this.selectNext()}if(this.typeAhead&&this.lastKey!=Ext.EventObject.BACKSPACE&&this.lastKey!=Ext.EventObject.DELETE){this.taTask.delay(this.typeAheadDelay)}}}else{this.collapse()}},onTypeAhead:function(){if(this.store.getCount()>0){var b=this.store.getAt(0);var c=b.data[this.displayField];var a=c.length;var d=this.getRawValue().length;if(d!=a){this.setRawValue(c);this.selectText(d,c.length)}}},assertValue:function(){var b=this.getRawValue(),a;if(this.valueField&&Ext.isDefined(this.value)){a=this.findRecord(this.valueField,this.value)}if(!a||a.get(this.displayField)!=b){a=this.findRecord(this.displayField,b)}if(!a&&this.forceSelection){if(b.length>0&&b!=this.emptyText){this.el.dom.value=Ext.value(this.lastSelectionText,"");this.applyEmptyText()}else{this.clearValue()}}else{if(a&&this.valueField){if(this.value==b){return}b=a.get(this.valueField||this.displayField)}this.setValue(b)}},onSelect:function(a,b){if(this.fireEvent("beforeselect",this,a,b)!==false){this.setValue(a.data[this.valueField||this.displayField]);this.collapse();this.fireEvent("select",this,a,b)}},getName:function(){var a=this.hiddenField;return a&&a.name?a.name:this.hiddenName||Ext.form.ComboBox.superclass.getName.call(this)},getValue:function(){if(this.valueField){return Ext.isDefined(this.value)?this.value:""}else{return Ext.form.ComboBox.superclass.getValue.call(this)}},clearValue:function(){if(this.hiddenField){this.hiddenField.value=""}this.setRawValue("");this.lastSelectionText="";this.applyEmptyText();this.value=""},setValue:function(a){var c=a;if(this.valueField){var b=this.findRecord(this.valueField,a);if(b){c=b.data[this.displayField]}else{if(Ext.isDefined(this.valueNotFoundText)){c=this.valueNotFoundText}}}this.lastSelectionText=c;if(this.hiddenField){this.hiddenField.value=Ext.value(a,"")}Ext.form.ComboBox.superclass.setValue.call(this,c);this.value=a;return this},findRecord:function(c,b){var a;if(this.store.getCount()>0){this.store.each(function(d){if(d.data[c]==b){a=d;return false}})}return a},onViewMove:function(b,a){this.inKeyMode=false},onViewOver:function(d,b){if(this.inKeyMode){return}var c=this.view.findItemFromChild(b);if(c){var a=this.view.indexOf(c);this.select(a,false)}},onViewClick:function(b){var a=this.view.getSelectedIndexes()[0],c=this.store,d=c.getAt(a);if(d){this.onSelect(d,a)}else{this.collapse()}if(b!==false){this.el.focus()}},restrictHeight:function(){this.innerList.dom.style.height="";var b=this.innerList.dom,e=this.list.getFrameWidth("tb")+(this.resizable?this.handleHeight:0)+this.assetHeight,c=Math.max(b.clientHeight,b.offsetHeight,b.scrollHeight),a=this.getPosition()[1]-Ext.getBody().getScroll().top,g=Ext.lib.Dom.getViewHeight()-a-this.getSize().height,d=Math.max(a,g,this.minHeight||0)-this.list.shadowOffset-e-5;c=Math.min(c,d,this.maxHeight);this.innerList.setHeight(c);this.list.beginUpdate();this.list.setHeight(c+e);this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign));this.list.endUpdate()},isExpanded:function(){return this.list&&this.list.isVisible()},selectByValue:function(a,c){if(!Ext.isEmpty(a,true)){var b=this.findRecord(this.valueField||this.displayField,a);if(b){this.select(this.store.indexOf(b),c);return true}}return false},select:function(a,c){this.selectedIndex=a;this.view.select(a);if(c!==false){var b=this.view.getNode(a);if(b){this.innerList.scrollChildIntoView(b,false)}}},selectNext:function(){var a=this.store.getCount();if(a>0){if(this.selectedIndex==-1){this.select(0)}else{if(this.selectedIndex<a-1){this.select(this.selectedIndex+1)}}}},selectPrev:function(){var a=this.store.getCount();if(a>0){if(this.selectedIndex==-1){this.select(0)}else{if(this.selectedIndex!==0){this.select(this.selectedIndex-1)}}}},onKeyUp:function(b){var a=b.getKey();if(this.editable!==false&&this.readOnly!==true&&(a==b.BACKSPACE||!b.isSpecialKey())){this.lastKey=a;this.dqTask.delay(this.queryDelay)}Ext.form.ComboBox.superclass.onKeyUp.call(this,b)},validateBlur:function(){return !this.list||!this.list.isVisible()},initQuery:function(){this.doQuery(this.getRawValue())},beforeBlur:function(){this.assertValue()},postBlur:function(){Ext.form.ComboBox.superclass.postBlur.call(this);this.collapse();this.inKeyMode=false},doQuery:function(c,b){c=Ext.isEmpty(c)?"":c;var a={query:c,forceAll:b,combo:this,cancel:false};if(this.fireEvent("beforequery",a)===false||a.cancel){return false}c=a.query;b=a.forceAll;if(b===true||(c.length>=this.minChars)){if(this.lastQuery!==c){this.lastQuery=c;if(this.mode=="local"){this.selectedIndex=-1;if(b){this.store.clearFilter()}else{this.store.filter(this.displayField,c)}this.onLoad()}else{this.store.baseParams[this.queryParam]=c;this.store.load({params:this.getParams(c)});this.expand()}}else{this.selectedIndex=-1;this.onLoad()}}},getParams:function(a){var b={},c=this.store.paramNames;if(this.pageSize){b[c.start]=0;b[c.limit]=this.pageSize}return b},collapse:function(){if(!this.isExpanded()){return}this.list.hide();Ext.getDoc().un("mousewheel",this.collapseIf,this);Ext.getDoc().un("mousedown",this.collapseIf,this);this.fireEvent("collapse",this)},collapseIf:function(a){if(!this.isDestroyed&&!a.within(this.wrap)&&!a.within(this.list)){this.collapse()}},expand:function(){if(this.isExpanded()||!this.hasFocus){return}if(this.title||this.pageSize){this.assetHeight=0;if(this.title){this.assetHeight+=this.header.getHeight()}if(this.pageSize){this.assetHeight+=this.footer.getHeight()}}if(this.bufferSize){this.doResize(this.bufferSize);delete this.bufferSize}this.list.alignTo.apply(this.list,[this.el].concat(this.listAlign));this.list.setZIndex(this.getZIndex());this.list.show();if(Ext.isGecko2){this.innerList.setOverflow("auto")}this.mon(Ext.getDoc(),{scope:this,mousewheel:this.collapseIf,mousedown:this.collapseIf});this.fireEvent("expand",this)},onTriggerClick:function(){if(this.readOnly||this.disabled){return}if(this.isExpanded()){this.collapse();this.el.focus()}else{this.onFocus({});if(this.triggerAction=="all"){this.doQuery(this.allQuery,true)}else{this.doQuery(this.getRawValue())}this.el.focus()}}});Ext.reg("combo",Ext.form.ComboBox);Ext.form.Checkbox=Ext.extend(Ext.form.Field,{focusClass:undefined,fieldClass:"x-form-field",checked:false,boxLabel:"&#160;",defaultAutoCreate:{tag:"input",type:"checkbox",autocomplete:"off"},actionMode:"wrap",initComponent:function(){Ext.form.Checkbox.superclass.initComponent.call(this);this.addEvents("check")},onResize:function(){Ext.form.Checkbox.superclass.onResize.apply(this,arguments);if(!this.boxLabel&&!this.fieldLabel){this.el.alignTo(this.wrap,"c-c")}},initEvents:function(){Ext.form.Checkbox.superclass.initEvents.call(this);this.mon(this.el,{scope:this,click:this.onClick,change:this.onClick})},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,onRender:function(b,a){Ext.form.Checkbox.superclass.onRender.call(this,b,a);if(this.inputValue!==undefined){this.el.dom.value=this.inputValue}this.wrap=this.el.wrap({cls:"x-form-check-wrap"});if(this.boxLabel){this.wrap.createChild({tag:"label",htmlFor:this.el.id,cls:"x-form-cb-label",html:this.boxLabel})}if(this.checked){this.setValue(true)}else{this.checked=this.el.dom.checked}if(Ext.isIE&&!Ext.isStrict){this.wrap.repaint()}this.resizeEl=this.positionEl=this.wrap},onDestroy:function(){Ext.destroy(this.wrap);Ext.form.Checkbox.superclass.onDestroy.call(this)},initValue:function(){this.originalValue=this.getValue()},getValue:function(){if(this.rendered){return this.el.dom.checked}return this.checked},onClick:function(){if(this.el.dom.checked!=this.checked){this.setValue(this.el.dom.checked)}},setValue:function(a){var c=this.checked,b=this.inputValue;if(a===false){this.checked=false}else{this.checked=(a===true||a==="true"||a=="1"||(b?a==b:String(a).toLowerCase()=="on"))}if(this.rendered){this.el.dom.checked=this.checked;this.el.dom.defaultChecked=this.checked}if(c!=this.checked){this.fireEvent("check",this,this.checked);if(this.handler){this.handler.call(this.scope||this,this,this.checked)}}return this}});Ext.reg("checkbox",Ext.form.Checkbox);Ext.form.CheckboxGroup=Ext.extend(Ext.form.Field,{columns:"auto",vertical:false,allowBlank:true,blankText:"You must select at least one item in this group",defaultType:"checkbox",groupCls:"x-form-check-group",initComponent:function(){this.addEvents("change");this.on("change",this.validate,this);Ext.form.CheckboxGroup.superclass.initComponent.call(this)},onRender:function(j,g){if(!this.el){var p={autoEl:{id:this.id},cls:this.groupCls,layout:"column",renderTo:j,bufferResize:false};var a={xtype:"container",defaultType:this.defaultType,layout:"form",defaults:{hideLabel:true,anchor:"100%"}};if(this.items[0].items){Ext.apply(p,{layoutConfig:{columns:this.items.length},defaults:this.defaults,items:this.items});for(var e=0,m=this.items.length;e<m;e++){Ext.applyIf(this.items[e],a)}}else{var d,n=[];if(typeof this.columns=="string"){this.columns=this.items.length}if(!Ext.isArray(this.columns)){var k=[];for(var e=0;e<this.columns;e++){k.push((100/this.columns)*0.01)}this.columns=k}d=this.columns.length;for(var e=0;e<d;e++){var b=Ext.apply({items:[]},a);b[this.columns[e]<=1?"columnWidth":"width"]=this.columns[e];if(this.defaults){b.defaults=Ext.apply(b.defaults||{},this.defaults)}n.push(b)}if(this.vertical){var r=Math.ceil(this.items.length/d),o=0;for(var e=0,m=this.items.length;e<m;e++){if(e>0&&e%r==0){o++}if(this.items[e].fieldLabel){this.items[e].hideLabel=false}n[o].items.push(this.items[e])}}else{for(var e=0,m=this.items.length;e<m;e++){var q=e%d;if(this.items[e].fieldLabel){this.items[e].hideLabel=false}n[q].items.push(this.items[e])}}Ext.apply(p,{layoutConfig:{columns:d},items:n})}this.panel=new Ext.Container(p);this.panel.ownerCt=this;this.el=this.panel.getEl();if(this.forId&&this.itemCls){var c=this.el.up(this.itemCls).child("label",true);if(c){c.setAttribute("htmlFor",this.forId)}}var h=this.panel.findBy(function(i){return i.isFormField},this);this.items=new Ext.util.MixedCollection();this.items.addAll(h)}Ext.form.CheckboxGroup.superclass.onRender.call(this,j,g)},initValue:function(){if(this.value){this.setValue.apply(this,this.buffered?this.value:[this.value]);delete this.buffered;delete this.value}},afterRender:function(){Ext.form.CheckboxGroup.superclass.afterRender.call(this);this.eachItem(function(a){a.on("check",this.fireChecked,this);a.inGroup=true})},doLayout:function(){if(this.rendered){this.panel.forceLayout=this.ownerCt.forceLayout;this.panel.doLayout()}},fireChecked:function(){var a=[];this.eachItem(function(b){if(b.checked){a.push(b)}});this.fireEvent("change",this,a)},getErrors:function(){var b=Ext.form.CheckboxGroup.superclass.getErrors.apply(this,arguments);if(!this.allowBlank){var a=true;this.eachItem(function(c){if(c.checked){return(a=false)}});if(a){b.push(this.blankText)}}return b},isDirty:function(){if(this.disabled||!this.rendered){return false}var a=false;this.eachItem(function(b){if(b.isDirty()){a=true;return false}});return a},setReadOnly:function(a){if(this.rendered){this.eachItem(function(b){b.setReadOnly(a)})}this.readOnly=a},onDisable:function(){this.eachItem(function(a){a.disable()})},onEnable:function(){this.eachItem(function(a){a.enable()})},onResize:function(a,b){this.panel.setSize(a,b);this.panel.doLayout()},reset:function(){if(this.originalValue){this.eachItem(function(a){if(a.setValue){a.setValue(false);a.originalValue=a.getValue()}});this.resetOriginal=true;this.setValue(this.originalValue);delete this.resetOriginal}else{this.eachItem(function(a){if(a.reset){a.reset()}})}(function(){this.clearInvalid()}).defer(50,this)},setValue:function(){if(this.rendered){this.onSetValue.apply(this,arguments)}else{this.buffered=true;this.value=arguments}return this},onSetValue:function(d,c){if(arguments.length==1){if(Ext.isArray(d)){Ext.each(d,function(h,e){if(Ext.isObject(h)&&h.setValue){h.setValue(true);if(this.resetOriginal===true){h.originalValue=h.getValue()}}else{var g=this.items.itemAt(e);if(g){g.setValue(h)}}},this)}else{if(Ext.isObject(d)){for(var a in d){var b=this.getBox(a);if(b){b.setValue(d[a])}}}else{this.setValueForItem(d)}}}else{var b=this.getBox(d);if(b){b.setValue(c)}}},beforeDestroy:function(){Ext.destroy(this.panel);if(!this.rendered){Ext.destroy(this.items)}Ext.form.CheckboxGroup.superclass.beforeDestroy.call(this)},setValueForItem:function(a){a=String(a).split(",");this.eachItem(function(b){if(a.indexOf(b.inputValue)>-1){b.setValue(true)}})},getBox:function(b){var a=null;this.eachItem(function(c){if(b==c||c.dataIndex==b||c.id==b||c.getName()==b){a=c;return false}});return a},getValue:function(){var a=[];this.eachItem(function(b){if(b.checked){a.push(b)}});return a},eachItem:function(b,a){if(this.items&&this.items.each){this.items.each(b,a||this)}},getRawValue:Ext.emptyFn,setRawValue:Ext.emptyFn});Ext.reg("checkboxgroup",Ext.form.CheckboxGroup);Ext.form.CompositeField=Ext.extend(Ext.form.Field,{defaultMargins:"0 5 0 0",skipLastItemMargin:true,isComposite:true,combineErrors:true,labelConnector:", ",initComponent:function(){var g=[],b=this.items,e;for(var d=0,c=b.length;d<c;d++){e=b[d];if(!Ext.isEmpty(e.ref)){e.ref="../"+e.ref}g.push(e.fieldLabel);Ext.applyIf(e,this.defaults);if(!(d==c-1&&this.skipLastItemMargin)){Ext.applyIf(e,{margins:this.defaultMargins})}}this.fieldLabel=this.fieldLabel||this.buildLabel(g);this.fieldErrors=new Ext.util.MixedCollection(true,function(h){return h.field});this.fieldErrors.on({scope:this,add:this.updateInvalidMark,remove:this.updateInvalidMark,replace:this.updateInvalidMark});Ext.form.CompositeField.superclass.initComponent.apply(this,arguments);this.innerCt=new Ext.Container({layout:"hbox",items:this.items,cls:"x-form-composite",defaultMargins:"0 3 0 0",ownerCt:this});this.innerCt.ownerCt=undefined;var a=this.innerCt.findBy(function(h){return h.isFormField},this);this.items=new Ext.util.MixedCollection();this.items.addAll(a)},onRender:function(c,a){if(!this.el){var d=this.innerCt;d.render(c);this.el=d.getEl();if(this.combineErrors){this.eachItem(function(e){Ext.apply(e,{markInvalid:this.onFieldMarkInvalid.createDelegate(this,[e],0),clearInvalid:this.onFieldClearInvalid.createDelegate(this,[e],0)})})}var b=this.el.parent().parent().child("label",true);if(b){b.setAttribute("for",this.items.items[0].id)}}Ext.form.CompositeField.superclass.onRender.apply(this,arguments)},onFieldMarkInvalid:function(d,c){var b=d.getName(),a={field:b,errorName:d.fieldLabel||b,error:c};this.fieldErrors.replace(b,a);if(!d.preventMark){d.el.addClass(d.invalidClass)}},onFieldClearInvalid:function(a){this.fieldErrors.removeKey(a.getName());a.el.removeClass(a.invalidClass)},updateInvalidMark:function(){var a=Ext.isIE6&&Ext.isStrict;if(this.fieldErrors.length==0){this.clearInvalid();if(a){this.clearInvalid.defer(50,this)}}else{var b=this.buildCombinedErrorMessage(this.fieldErrors.items);this.sortErrors();this.markInvalid(b);if(a){this.markInvalid(b)}}},validateValue:function(c,a){var b=true;this.eachItem(function(d){if(!d.isValid(a)){b=false}});return b},buildCombinedErrorMessage:function(e){var d=[],b;for(var c=0,a=e.length;c<a;c++){b=e[c];d.push(String.format("{0}: {1}",b.errorName,b.error))}return d.join("<br />")},sortErrors:function(){var a=this.items;this.fieldErrors.sort("ASC",function(g,d){var c=function(b){return function(i){return i.getName()==b}};var h=a.findIndexBy(c(g.field)),e=a.findIndexBy(c(d.field));return h<e?-1:1})},reset:function(){this.eachItem(function(a){a.reset()});(function(){this.clearInvalid()}).defer(50,this)},clearInvalidChildren:function(){this.eachItem(function(a){a.clearInvalid()})},buildLabel:function(a){return Ext.clean(a).join(this.labelConnector)},isDirty:function(){if(this.disabled||!this.rendered){return false}var a=false;this.eachItem(function(b){if(b.isDirty()){a=true;return false}});return a},eachItem:function(b,a){if(this.items&&this.items.each){this.items.each(b,a||this)}},onResize:function(e,c,a,d){var b=this.innerCt;if(this.rendered&&b.rendered){b.setSize(e,c)}Ext.form.CompositeField.superclass.onResize.apply(this,arguments)},doLayout:function(c,b){if(this.rendered){var a=this.innerCt;a.forceLayout=this.ownerCt.forceLayout;a.doLayout(c,b)}},beforeDestroy:function(){Ext.destroy(this.innerCt);Ext.form.CompositeField.superclass.beforeDestroy.call(this)},setReadOnly:function(a){if(a==undefined){a=true}a=!!a;if(this.rendered){this.eachItem(function(b){b.setReadOnly(a)})}this.readOnly=a},onShow:function(){Ext.form.CompositeField.superclass.onShow.call(this);this.doLayout()},onDisable:function(){this.eachItem(function(a){a.disable()})},onEnable:function(){this.eachItem(function(a){a.enable()})}});Ext.reg("compositefield",Ext.form.CompositeField);Ext.form.Radio=Ext.extend(Ext.form.Checkbox,{inputType:"radio",markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,getGroupValue:function(){var a=this.el.up("form")||Ext.getBody();var b=a.child('input[name="'+this.el.dom.name+'"]:checked',true);return b?b.value:null},setValue:function(b){var a,d,c;if(typeof b=="boolean"){Ext.form.Radio.superclass.setValue.call(this,b)}else{if(this.rendered){a=this.getCheckEl();c=a.child('input[name="'+this.el.dom.name+'"][value="'+b+'"]',true);if(c){Ext.getCmp(c.id).setValue(true)}}}if(this.rendered&&this.checked){a=a||this.getCheckEl();d=this.getCheckEl().select('input[name="'+this.el.dom.name+'"]');d.each(function(e){if(e.dom.id!=this.id){Ext.getCmp(e.dom.id).setValue(false)}},this)}return this},getCheckEl:function(){if(this.inGroup){return this.el.up(".x-form-radio-group")}return this.el.up("form")||Ext.getBody()}});Ext.reg("radio",Ext.form.Radio);Ext.form.RadioGroup=Ext.extend(Ext.form.CheckboxGroup,{allowBlank:true,blankText:"You must select one item in this group",defaultType:"radio",groupCls:"x-form-radio-group",getValue:function(){var a=null;this.eachItem(function(b){if(b.checked){a=b;return false}});return a},onSetValue:function(c,b){if(arguments.length>1){var a=this.getBox(c);if(a){a.setValue(b);if(a.checked){this.eachItem(function(d){if(d!==a){d.setValue(false)}})}}}else{this.setValueForItem(c)}},setValueForItem:function(a){a=String(a).split(",")[0];this.eachItem(function(b){b.setValue(a==b.inputValue)})},fireChecked:function(){if(!this.checkTask){this.checkTask=new Ext.util.DelayedTask(this.bufferChecked,this)}this.checkTask.delay(10)},bufferChecked:function(){var a=null;this.eachItem(function(b){if(b.checked){a=b;return false}});this.fireEvent("change",this,a)},onDestroy:function(){if(this.checkTask){this.checkTask.cancel();this.checkTask=null}Ext.form.RadioGroup.superclass.onDestroy.call(this)}});Ext.reg("radiogroup",Ext.form.RadioGroup);Ext.form.Hidden=Ext.extend(Ext.form.Field,{inputType:"hidden",shouldLayout:false,onRender:function(){Ext.form.Hidden.superclass.onRender.apply(this,arguments)},initEvents:function(){this.originalValue=this.getValue()},setSize:Ext.emptyFn,setWidth:Ext.emptyFn,setHeight:Ext.emptyFn,setPosition:Ext.emptyFn,setPagePosition:Ext.emptyFn,markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn});Ext.reg("hidden",Ext.form.Hidden);Ext.form.BasicForm=Ext.extend(Ext.util.Observable,{constructor:function(b,a){Ext.apply(this,a);if(Ext.isString(this.paramOrder)){this.paramOrder=this.paramOrder.split(/[\s,|]/)}this.items=new Ext.util.MixedCollection(false,function(c){return c.getItemId()});this.addEvents("beforeaction","actionfailed","actioncomplete");if(b){this.initEl(b)}Ext.form.BasicForm.superclass.constructor.call(this)},timeout:30,paramOrder:undefined,paramsAsHash:false,waitTitle:"Please Wait...",activeAction:null,trackResetOnLoad:false,initEl:function(a){this.el=Ext.get(a);this.id=this.el.id||Ext.id();if(!this.standardSubmit){this.el.on("submit",this.onSubmit,this)}this.el.addClass("x-form")},getEl:function(){return this.el},onSubmit:function(a){a.stopEvent()},destroy:function(a){if(a!==true){this.items.each(function(b){Ext.destroy(b)});Ext.destroy(this.el)}this.items.clear();this.purgeListeners()},isValid:function(){var a=true;this.items.each(function(b){if(!b.validate()){a=false}});return a},isDirty:function(){var a=false;this.items.each(function(b){if(b.isDirty()){a=true;return false}});return a},doAction:function(b,a){if(Ext.isString(b)){b=new Ext.form.Action.ACTION_TYPES[b](this,a)}if(this.fireEvent("beforeaction",this,b)!==false){this.beforeAction(b);b.run.defer(100,b)}return this},submit:function(b){b=b||{};if(this.standardSubmit){var a=b.clientValidation===false||this.isValid();if(a){var c=this.el.dom;if(this.url&&Ext.isEmpty(c.action)){c.action=this.url}c.submit()}return a}var d=String.format("{0}submit",this.api?"direct":"");this.doAction(d,b);return this},load:function(a){var b=String.format("{0}load",this.api?"direct":"");this.doAction(b,a);return this},updateRecord:function(b){b.beginEdit();var a=b.fields,d,c;a.each(function(e){d=this.findField(e.name);if(d){c=d.getValue();if(Ext.type(c)!==false&&c.getGroupValue){c=c.getGroupValue()}else{if(d.eachItem){c=[];d.eachItem(function(g){c.push(g.getValue())})}}b.set(e.name,c)}},this);b.endEdit();return this},loadRecord:function(a){this.setValues(a.data);return this},beforeAction:function(a){this.items.each(function(c){if(c.isFormField&&c.syncValue){c.syncValue()}});var b=a.options;if(b.waitMsg){if(this.waitMsgTarget===true){this.el.mask(b.waitMsg,"x-mask-loading")}else{if(this.waitMsgTarget){this.waitMsgTarget=Ext.get(this.waitMsgTarget);this.waitMsgTarget.mask(b.waitMsg,"x-mask-loading")}else{Ext.MessageBox.wait(b.waitMsg,b.waitTitle||this.waitTitle)}}}},afterAction:function(a,c){this.activeAction=null;var b=a.options;if(b.waitMsg){if(this.waitMsgTarget===true){this.el.unmask()}else{if(this.waitMsgTarget){this.waitMsgTarget.unmask()}else{Ext.MessageBox.updateProgress(1);Ext.MessageBox.hide()}}}if(c){if(b.reset){this.reset()}Ext.callback(b.success,b.scope,[this,a]);this.fireEvent("actioncomplete",this,a)}else{Ext.callback(b.failure,b.scope,[this,a]);this.fireEvent("actionfailed",this,a)}},findField:function(c){var b=this.items.get(c);if(!Ext.isObject(b)){var a=function(d){if(d.isFormField){if(d.dataIndex==c||d.id==c||d.getName()==c){b=d;return false}else{if(d.isComposite){return d.items.each(a)}else{if(d instanceof Ext.form.CheckboxGroup&&d.rendered){return d.eachItem(a)}}}}};this.items.each(a)}return b||null},markInvalid:function(h){if(Ext.isArray(h)){for(var c=0,a=h.length;c<a;c++){var b=h[c];var d=this.findField(b.id);if(d){d.markInvalid(b.msg)}}}else{var e,g;for(g in h){if(!Ext.isFunction(h[g])&&(e=this.findField(g))){e.markInvalid(h[g])}}}return this},setValues:function(c){if(Ext.isArray(c)){for(var d=0,a=c.length;d<a;d++){var b=c[d];var e=this.findField(b.id);if(e){e.setValue(b.value);if(this.trackResetOnLoad){e.originalValue=e.getValue()}}}}else{var g,h;for(h in c){if(!Ext.isFunction(c[h])&&(g=this.findField(h))){g.setValue(c[h]);if(this.trackResetOnLoad){g.originalValue=g.getValue()}}}}return this},getValues:function(b){var a=Ext.lib.Ajax.serializeForm(this.el.dom);if(b===true){return a}return Ext.urlDecode(a)},getFieldValues:function(a){var d={},e,b,c;this.items.each(function(g){if(!g.disabled&&(a!==true||g.isDirty())){e=g.getName();b=d[e];c=g.getValue();if(Ext.isDefined(b)){if(Ext.isArray(b)){d[e].push(c)}else{d[e]=[b,c]}}else{d[e]=c}}});return d},clearInvalid:function(){this.items.each(function(a){a.clearInvalid()});return this},reset:function(){this.items.each(function(a){a.reset()});return this},add:function(){this.items.addAll(Array.prototype.slice.call(arguments,0));return this},remove:function(a){this.items.remove(a);return this},cleanDestroyed:function(){this.items.filterBy(function(a){return !!a.isDestroyed}).each(this.remove,this)},render:function(){this.items.each(function(a){if(a.isFormField&&!a.rendered&&document.getElementById(a.id)){a.applyToMarkup(a.id)}});return this},applyToFields:function(a){this.items.each(function(b){Ext.apply(b,a)});return this},applyIfToFields:function(a){this.items.each(function(b){Ext.applyIf(b,a)});return this},callFieldMethod:function(b,a){a=a||[];this.items.each(function(c){if(Ext.isFunction(c[b])){c[b].apply(c,a)}});return this}});Ext.BasicForm=Ext.form.BasicForm;Ext.FormPanel=Ext.extend(Ext.Panel,{minButtonWidth:75,labelAlign:"left",monitorValid:false,monitorPoll:200,layout:"form",initComponent:function(){this.form=this.createForm();Ext.FormPanel.superclass.initComponent.call(this);this.bodyCfg={tag:"form",cls:this.baseCls+"-body",method:this.method||"POST",id:this.formId||Ext.id()};if(this.fileUpload){this.bodyCfg.enctype="multipart/form-data"}this.initItems();this.addEvents("clientvalidation");this.relayEvents(this.form,["beforeaction","actionfailed","actioncomplete"])},createForm:function(){var a=Ext.applyIf({listeners:{}},this.initialConfig);return new Ext.form.BasicForm(null,a)},initFields:function(){var c=this.form;var a=this;var b=function(d){if(a.isField(d)){c.add(d)}else{if(d.findBy&&d!=a){a.applySettings(d);if(d.items&&d.items.each){d.items.each(b,this)}}}};this.items.each(b,this)},applySettings:function(b){var a=b.ownerCt;Ext.applyIf(b,{labelAlign:a.labelAlign,labelWidth:a.labelWidth,itemCls:a.itemCls})},getLayoutTarget:function(){return this.form.el},getForm:function(){return this.form},onRender:function(b,a){this.initFields();Ext.FormPanel.superclass.onRender.call(this,b,a);this.form.initEl(this.body)},beforeDestroy:function(){this.stopMonitoring();this.form.destroy(true);Ext.FormPanel.superclass.beforeDestroy.call(this)},isField:function(a){return !!a.setValue&&!!a.getValue&&!!a.markInvalid&&!!a.clearInvalid},initEvents:function(){Ext.FormPanel.superclass.initEvents.call(this);this.on({scope:this,add:this.onAddEvent,remove:this.onRemoveEvent});if(this.monitorValid){this.startMonitoring()}},onAdd:function(a){Ext.FormPanel.superclass.onAdd.call(this,a);this.processAdd(a)},onAddEvent:function(a,b){if(a!==this){this.processAdd(b)}},processAdd:function(a){if(this.isField(a)){this.form.add(a)}else{if(a.findBy){this.applySettings(a);this.form.add.apply(this.form,a.findBy(this.isField))}}},onRemove:function(a){Ext.FormPanel.superclass.onRemove.call(this,a);this.processRemove(a)},onRemoveEvent:function(a,b){if(a!==this){this.processRemove(b)}},processRemove:function(a){if(!this.destroying){if(this.isField(a)){this.form.remove(a)}else{if(a.findBy){Ext.each(a.findBy(this.isField),this.form.remove,this.form);this.form.cleanDestroyed()}}}},startMonitoring:function(){if(!this.validTask){this.validTask=new Ext.util.TaskRunner();this.validTask.start({run:this.bindHandler,interval:this.monitorPoll||200,scope:this})}},stopMonitoring:function(){if(this.validTask){this.validTask.stopAll();this.validTask=null}},load:function(){this.form.load.apply(this.form,arguments)},onDisable:function(){Ext.FormPanel.superclass.onDisable.call(this);if(this.form){this.form.items.each(function(){this.disable()})}},onEnable:function(){Ext.FormPanel.superclass.onEnable.call(this);if(this.form){this.form.items.each(function(){this.enable()})}},bindHandler:function(){var e=true;this.form.items.each(function(g){if(!g.isValid(true)){e=false;return false}});if(this.fbar){var b=this.fbar.items.items;for(var d=0,a=b.length;d<a;d++){var c=b[d];if(c.formBind===true&&c.disabled===e){c.setDisabled(!e)}}}this.fireEvent("clientvalidation",this,e)}});Ext.reg("form",Ext.FormPanel);Ext.form.FormPanel=Ext.FormPanel;Ext.form.FieldSet=Ext.extend(Ext.Panel,{baseCls:"x-fieldset",layout:"form",animCollapse:false,onRender:function(b,a){if(!this.el){this.el=document.createElement("fieldset");this.el.id=this.id;if(this.title||this.header||this.checkboxToggle){this.el.appendChild(document.createElement("legend")).className=this.baseCls+"-header"}}Ext.form.FieldSet.superclass.onRender.call(this,b,a);if(this.checkboxToggle){var c=typeof this.checkboxToggle=="object"?this.checkboxToggle:{tag:"input",type:"checkbox",name:this.checkboxName||this.id+"-checkbox"};this.checkbox=this.header.insertFirst(c);this.checkbox.dom.checked=!this.collapsed;this.mon(this.checkbox,"click",this.onCheckClick,this)}},onCollapse:function(a,b){if(this.checkbox){this.checkbox.dom.checked=false}Ext.form.FieldSet.superclass.onCollapse.call(this,a,b)},onExpand:function(a,b){if(this.checkbox){this.checkbox.dom.checked=true}Ext.form.FieldSet.superclass.onExpand.call(this,a,b)},onCheckClick:function(){this[this.checkbox.dom.checked?"expand":"collapse"]()}});Ext.reg("fieldset",Ext.form.FieldSet);Ext.form.HtmlEditor=Ext.extend(Ext.form.Field,{enableFormat:true,enableFontSize:true,enableColors:true,enableAlignments:true,enableLists:true,enableSourceEdit:true,enableLinks:true,enableFont:true,createLinkText:"Please enter the URL for the link:",defaultLinkValue:"http://",fontFamilies:["Arial","Courier New","Tahoma","Times New Roman","Verdana"],defaultFont:"tahoma",defaultValue:(Ext.isOpera||Ext.isIE6)?"&#160;":"&#8203;",actionMode:"wrap",validationEvent:false,deferHeight:true,initialized:false,activated:false,sourceEditMode:false,onFocus:Ext.emptyFn,iframePad:3,hideMode:"offsets",defaultAutoCreate:{tag:"textarea",style:"width:500px;height:300px;",autocomplete:"off"},initComponent:function(){this.addEvents("initialize","activate","beforesync","beforepush","sync","push","editmodechange");Ext.form.HtmlEditor.superclass.initComponent.call(this)},createFontOptions:function(){var d=[],b=this.fontFamilies,c,g;for(var e=0,a=b.length;e<a;e++){c=b[e];g=c.toLowerCase();d.push('<option value="',g,'" style="font-family:',c,';"',(this.defaultFont==g?' selected="true">':">"),c,"</option>")}return d.join("")},createToolbar:function(e){var c=[];var a=Ext.QuickTips&&Ext.QuickTips.isEnabled();function d(j,h,i){return{itemId:j,cls:"x-btn-icon",iconCls:"x-edit-"+j,enableToggle:h!==false,scope:e,handler:i||e.relayBtnCmd,clickEvent:"mousedown",tooltip:a?e.buttonTips[j]||undefined:undefined,overflowText:e.buttonTips[j].title||undefined,tabIndex:-1}}if(this.enableFont&&!Ext.isSafari2){var g=new Ext.Toolbar.Item({autoEl:{tag:"select",cls:"x-font-select",html:this.createFontOptions()}});c.push(g,"-")}if(this.enableFormat){c.push(d("bold"),d("italic"),d("underline"))}if(this.enableFontSize){c.push("-",d("increasefontsize",false,this.adjustFont),d("decreasefontsize",false,this.adjustFont))}if(this.enableColors){c.push("-",{itemId:"forecolor",cls:"x-btn-icon",iconCls:"x-edit-forecolor",clickEvent:"mousedown",tooltip:a?e.buttonTips.forecolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({allowReselect:true,focus:Ext.emptyFn,value:"000000",plain:true,listeners:{scope:this,select:function(i,h){this.execCmd("forecolor",Ext.isWebKit||Ext.isIE?"#"+h:h);this.deferFocus()}},clickEvent:"mousedown"})},{itemId:"backcolor",cls:"x-btn-icon",iconCls:"x-edit-backcolor",clickEvent:"mousedown",tooltip:a?e.buttonTips.backcolor||undefined:undefined,tabIndex:-1,menu:new Ext.menu.ColorMenu({focus:Ext.emptyFn,value:"FFFFFF",plain:true,allowReselect:true,listeners:{scope:this,select:function(i,h){if(Ext.isGecko){this.execCmd("useCSS",false);this.execCmd("hilitecolor",h);this.execCmd("useCSS",true);this.deferFocus()}else{this.execCmd(Ext.isOpera?"hilitecolor":"backcolor",Ext.isWebKit||Ext.isIE?"#"+h:h);this.deferFocus()}}},clickEvent:"mousedown"})})}if(this.enableAlignments){c.push("-",d("justifyleft"),d("justifycenter"),d("justifyright"))}if(!Ext.isSafari2){if(this.enableLinks){c.push("-",d("createlink",false,this.createLink))}if(this.enableLists){c.push("-",d("insertorderedlist"),d("insertunorderedlist"))}if(this.enableSourceEdit){c.push("-",d("sourceedit",true,function(h){this.toggleSourceEdit(!this.sourceEditMode)}))}}var b=new Ext.Toolbar({renderTo:this.wrap.dom.firstChild,items:c});if(g){this.fontSelect=g.el;this.mon(this.fontSelect,"change",function(){var h=this.fontSelect.dom.value;this.relayCmd("fontname",h);this.deferFocus()},this)}this.mon(b.el,"click",function(h){h.preventDefault()});this.tb=b;this.tb.doLayout()},onDisable:function(){this.wrap.mask();Ext.form.HtmlEditor.superclass.onDisable.call(this)},onEnable:function(){this.wrap.unmask();Ext.form.HtmlEditor.superclass.onEnable.call(this)},setReadOnly:function(b){Ext.form.HtmlEditor.superclass.setReadOnly.call(this,b);if(this.initialized){if(Ext.isIE){this.getEditorBody().contentEditable=!b}else{this.setDesignMode(!b)}var a=this.getEditorBody();if(a){a.style.cursor=this.readOnly?"default":"text"}this.disableItems(b)}},getDocMarkup:function(){var a=Ext.fly(this.iframe).getHeight()-this.iframePad*2;return String.format('<html><head><style type="text/css">body{border: 0; margin: 0; padding: {0}px; height: {1}px; cursor: text}</style></head><body></body></html>',this.iframePad,a)},getEditorBody:function(){var a=this.getDoc();return a.body||a.documentElement},getDoc:function(){return Ext.isIE?this.getWin().document:(this.iframe.contentDocument||this.getWin().document)},getWin:function(){return Ext.isIE?this.iframe.contentWindow:window.frames[this.iframe.name]},onRender:function(b,a){Ext.form.HtmlEditor.superclass.onRender.call(this,b,a);this.el.dom.style.border="0 none";this.el.dom.setAttribute("tabIndex",-1);this.el.addClass("x-hidden");if(Ext.isIE){this.el.applyStyles("margin-top:-1px;margin-bottom:-1px;")}this.wrap=this.el.wrap({cls:"x-html-editor-wrap",cn:{cls:"x-html-editor-tb"}});this.createToolbar(this);this.disableItems(true);this.tb.doLayout();this.createIFrame();if(!this.width){var c=this.el.getSize();this.setSize(c.width,this.height||c.height)}this.resizeEl=this.positionEl=this.wrap},createIFrame:function(){var a=document.createElement("iframe");a.name=Ext.id();a.frameBorder="0";a.style.overflow="auto";a.src=Ext.SSL_SECURE_URL;this.wrap.dom.appendChild(a);this.iframe=a;this.monitorTask=Ext.TaskMgr.start({run:this.checkDesignMode,scope:this,interval:100})},initFrame:function(){Ext.TaskMgr.stop(this.monitorTask);var b=this.getDoc();this.win=this.getWin();b.open();b.write(this.getDocMarkup());b.close();var a={run:function(){var c=this.getDoc();if(c.body||c.readyState=="complete"){Ext.TaskMgr.stop(a);this.setDesignMode(true);this.initEditor.defer(10,this)}},interval:10,duration:10000,scope:this};Ext.TaskMgr.start(a)},checkDesignMode:function(){if(this.wrap&&this.wrap.dom.offsetWidth){var a=this.getDoc();if(!a){return}if(!a.editorInitialized||this.getDesignMode()!="on"){this.initFrame()}}},setDesignMode:function(b){var a=this.getDoc();if(a){if(this.readOnly){b=false}a.designMode=(/on|true/i).test(String(b).toLowerCase())?"on":"off"}},getDesignMode:function(){var a=this.getDoc();if(!a){return""}return String(a.designMode).toLowerCase()},disableItems:function(a){if(this.fontSelect){this.fontSelect.dom.disabled=a}this.tb.items.each(function(b){if(b.getItemId()!="sourceedit"){b.setDisabled(a)}})},onResize:function(b,c){Ext.form.HtmlEditor.superclass.onResize.apply(this,arguments);if(this.el&&this.iframe){if(Ext.isNumber(b)){var e=b-this.wrap.getFrameWidth("lr");this.el.setWidth(e);this.tb.setWidth(e);this.iframe.style.width=Math.max(e,0)+"px"}if(Ext.isNumber(c)){var a=c-this.wrap.getFrameWidth("tb")-this.tb.el.getHeight();this.el.setHeight(a);this.iframe.style.height=Math.max(a,0)+"px";var d=this.getEditorBody();if(d){d.style.height=Math.max((a-(this.iframePad*2)),0)+"px"}}}},toggleSourceEdit:function(b){var d,a;if(b===undefined){b=!this.sourceEditMode}this.sourceEditMode=b===true;var c=this.tb.getComponent("sourceedit");if(c.pressed!==this.sourceEditMode){c.toggle(this.sourceEditMode);if(!c.xtbHidden){return}}if(this.sourceEditMode){this.previousSize=this.getSize();d=Ext.get(this.iframe).getHeight();this.disableItems(true);this.syncValue();this.iframe.className="x-hidden";this.el.removeClass("x-hidden");this.el.dom.removeAttribute("tabIndex");this.el.focus();this.el.dom.style.height=d+"px"}else{a=parseInt(this.el.dom.style.height,10);if(this.initialized){this.disableItems(this.readOnly)}this.pushValue();this.iframe.className="";this.el.addClass("x-hidden");this.el.dom.setAttribute("tabIndex",-1);this.deferFocus();this.setSize(this.previousSize);delete this.previousSize;this.iframe.style.height=a+"px"}this.fireEvent("editmodechange",this,this.sourceEditMode)},createLink:function(){var a=prompt(this.createLinkText,this.defaultLinkValue);if(a&&a!="http://"){this.relayCmd("createlink",a)}},initEvents:function(){this.originalValue=this.getValue()},markInvalid:Ext.emptyFn,clearInvalid:Ext.emptyFn,setValue:function(a){Ext.form.HtmlEditor.superclass.setValue.call(this,a);this.pushValue();return this},cleanHtml:function(a){a=String(a);if(Ext.isWebKit){a=a.replace(/\sclass="(?:Apple-style-span|khtml-block-placeholder)"/gi,"")}if(a.charCodeAt(0)==this.defaultValue.replace(/\D/g,"")){a=a.substring(1)}return a},syncValue:function(){if(this.initialized){var d=this.getEditorBody();var c=d.innerHTML;if(Ext.isWebKit){var b=d.getAttribute("style");var a=b.match(/text-align:(.*?);/i);if(a&&a[1]){c='<div style="'+a[0]+'">'+c+"</div>"}}c=this.cleanHtml(c);if(this.fireEvent("beforesync",this,c)!==false){this.el.dom.value=c;this.fireEvent("sync",this,c)}}},getValue:function(){this[this.sourceEditMode?"pushValue":"syncValue"]();return Ext.form.HtmlEditor.superclass.getValue.call(this)},pushValue:function(){if(this.initialized){var a=this.el.dom.value;if(!this.activated&&a.length<1){a=this.defaultValue}if(this.fireEvent("beforepush",this,a)!==false){this.getEditorBody().innerHTML=a;if(Ext.isGecko){this.setDesignMode(false);this.setDesignMode(true)}this.fireEvent("push",this,a)}}},deferFocus:function(){this.focus.defer(10,this)},focus:function(){if(this.win&&!this.sourceEditMode){this.win.focus()}else{this.el.focus()}},initEditor:function(){try{var c=this.getEditorBody(),a=this.el.getStyles("font-size","font-family","background-image","background-repeat","background-color","color"),g,b;a["background-attachment"]="fixed";c.bgProperties="fixed";Ext.DomHelper.applyStyles(c,a);g=this.getDoc();if(g){try{Ext.EventManager.removeAll(g)}catch(d){}}b=this.onEditorEvent.createDelegate(this);Ext.EventManager.on(g,{mousedown:b,dblclick:b,click:b,keyup:b,buffer:100});if(Ext.isGecko){Ext.EventManager.on(g,"keypress",this.applyCommand,this)}if(Ext.isIE||Ext.isWebKit||Ext.isOpera){Ext.EventManager.on(g,"keydown",this.fixKeys,this)}g.editorInitialized=true;this.initialized=true;this.pushValue();this.setReadOnly(this.readOnly);this.fireEvent("initialize",this)}catch(d){}},beforeDestroy:function(){if(this.monitorTask){Ext.TaskMgr.stop(this.monitorTask)}if(this.rendered){Ext.destroy(this.tb);var b=this.getDoc();if(b){try{Ext.EventManager.removeAll(b);for(var c in b){delete b[c]}}catch(a){}}if(this.wrap){this.wrap.dom.innerHTML="";this.wrap.remove()}}Ext.form.HtmlEditor.superclass.beforeDestroy.call(this)},onFirstFocus:function(){this.activated=true;this.disableItems(this.readOnly);if(Ext.isGecko){this.win.focus();var a=this.win.getSelection();if(!a.focusNode||a.focusNode.nodeType!=3){var b=a.getRangeAt(0);b.selectNodeContents(this.getEditorBody());b.collapse(true);this.deferFocus()}try{this.execCmd("useCSS",true);this.execCmd("styleWithCSS",false)}catch(c){}}this.fireEvent("activate",this)},adjustFont:function(b){var d=b.getItemId()=="increasefontsize"?1:-1,c=this.getDoc(),a=parseInt(c.queryCommandValue("FontSize")||2,10);if((Ext.isSafari&&!Ext.isSafari2)||Ext.isChrome||Ext.isAir){if(a<=10){a=1+d}else{if(a<=13){a=2+d}else{if(a<=16){a=3+d}else{if(a<=18){a=4+d}else{if(a<=24){a=5+d}else{a=6+d}}}}}a=a.constrain(1,6)}else{if(Ext.isSafari){d*=2}a=Math.max(1,a+d)+(Ext.isSafari?"px":0)}this.execCmd("FontSize",a)},onEditorEvent:function(a){this.updateToolbar()},updateToolbar:function(){if(this.readOnly){return}if(!this.activated){this.onFirstFocus();return}var b=this.tb.items.map,c=this.getDoc();if(this.enableFont&&!Ext.isSafari2){var a=(c.queryCommandValue("FontName")||this.defaultFont).toLowerCase();if(a!=this.fontSelect.dom.value){this.fontSelect.dom.value=a}}if(this.enableFormat){b.bold.toggle(c.queryCommandState("bold"));b.italic.toggle(c.queryCommandState("italic"));b.underline.toggle(c.queryCommandState("underline"))}if(this.enableAlignments){b.justifyleft.toggle(c.queryCommandState("justifyleft"));b.justifycenter.toggle(c.queryCommandState("justifycenter"));b.justifyright.toggle(c.queryCommandState("justifyright"))}if(!Ext.isSafari2&&this.enableLists){b.insertorderedlist.toggle(c.queryCommandState("insertorderedlist"));b.insertunorderedlist.toggle(c.queryCommandState("insertunorderedlist"))}Ext.menu.MenuMgr.hideAll();this.syncValue()},relayBtnCmd:function(a){this.relayCmd(a.getItemId())},relayCmd:function(b,a){(function(){this.focus();this.execCmd(b,a);this.updateToolbar()}).defer(10,this)},execCmd:function(b,a){var c=this.getDoc();c.execCommand(b,false,a===undefined?null:a);this.syncValue()},applyCommand:function(b){if(b.ctrlKey){var d=b.getCharCode(),a;if(d>0){d=String.fromCharCode(d);switch(d){case"b":a="bold";break;case"i":a="italic";break;case"u":a="underline";break}if(a){this.win.focus();this.execCmd(a);this.deferFocus();b.preventDefault()}}}},insertAtCursor:function(c){if(!this.activated){return}if(Ext.isIE){this.win.focus();var b=this.getDoc(),a=b.selection.createRange();if(a){a.pasteHTML(c);this.syncValue();this.deferFocus()}}else{this.win.focus();this.execCmd("InsertHTML",c);this.deferFocus()}},fixKeys:function(){if(Ext.isIE){return function(g){var a=g.getKey(),d=this.getDoc(),b;if(a==g.TAB){g.stopEvent();b=d.selection.createRange();if(b){b.collapse(true);b.pasteHTML("&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus()}}else{if(a==g.ENTER){b=d.selection.createRange();if(b){var c=b.parentElement();if(!c||c.tagName.toLowerCase()!="li"){g.stopEvent();b.pasteHTML("<br />");b.collapse(false);b.select()}}}}}}else{if(Ext.isOpera){return function(b){var a=b.getKey();if(a==b.TAB){b.stopEvent();this.win.focus();this.execCmd("InsertHTML","&nbsp;&nbsp;&nbsp;&nbsp;");this.deferFocus()}}}else{if(Ext.isWebKit){return function(b){var a=b.getKey();if(a==b.TAB){b.stopEvent();this.execCmd("InsertText","\t");this.deferFocus()}else{if(a==b.ENTER){b.stopEvent();this.execCmd("InsertHtml","<br /><br />");this.deferFocus()}}}}}}}(),getToolbar:function(){return this.tb},buttonTips:{bold:{title:"Bold (Ctrl+B)",text:"Make the selected text bold.",cls:"x-html-editor-tip"},italic:{title:"Italic (Ctrl+I)",text:"Make the selected text italic.",cls:"x-html-editor-tip"},underline:{title:"Underline (Ctrl+U)",text:"Underline the selected text.",cls:"x-html-editor-tip"},increasefontsize:{title:"Grow Text",text:"Increase the font size.",cls:"x-html-editor-tip"},decreasefontsize:{title:"Shrink Text",text:"Decrease the font size.",cls:"x-html-editor-tip"},backcolor:{title:"Text Highlight Color",text:"Change the background color of the selected text.",cls:"x-html-editor-tip"},forecolor:{title:"Font Color",text:"Change the color of the selected text.",cls:"x-html-editor-tip"},justifyleft:{title:"Align Text Left",text:"Align text to the left.",cls:"x-html-editor-tip"},justifycenter:{title:"Center Text",text:"Center text in the editor.",cls:"x-html-editor-tip"},justifyright:{title:"Align Text Right",text:"Align text to the right.",cls:"x-html-editor-tip"},insertunorderedlist:{title:"Bullet List",text:"Start a bulleted list.",cls:"x-html-editor-tip"},insertorderedlist:{title:"Numbered List",text:"Start a numbered list.",cls:"x-html-editor-tip"},createlink:{title:"Hyperlink",text:"Make the selected text a hyperlink.",cls:"x-html-editor-tip"},sourceedit:{title:"Source Edit",text:"Switch to source editing mode.",cls:"x-html-editor-tip"}}});Ext.reg("htmleditor",Ext.form.HtmlEditor);Ext.form.TimeField=Ext.extend(Ext.form.ComboBox,{minValue:undefined,maxValue:undefined,minText:"The time in this field must be equal to or after {0}",maxText:"The time in this field must be equal to or before {0}",invalidText:"{0} is not a valid time",format:"g:i A",altFormats:"g:ia|g:iA|g:i a|g:i A|h:i|g:i|H:i|ga|ha|gA|h a|g a|g A|gi|hi|gia|hia|g|H|gi a|hi a|giA|hiA|gi A|hi A",increment:15,mode:"local",triggerAction:"all",typeAhead:false,initDate:"1/1/2008",initDateFormat:"j/n/Y",initComponent:function(){if(Ext.isDefined(this.minValue)){this.setMinValue(this.minValue,true)}if(Ext.isDefined(this.maxValue)){this.setMaxValue(this.maxValue,true)}if(!this.store){this.generateStore(true)}Ext.form.TimeField.superclass.initComponent.call(this)},setMinValue:function(b,a){this.setLimit(b,true,a);return this},setMaxValue:function(b,a){this.setLimit(b,false,a);return this},generateStore:function(b){var c=this.minValue||new Date(this.initDate).clearTime(),a=this.maxValue||new Date(this.initDate).clearTime().add("mi",(24*60)-1),d=[];while(c<=a){d.push(c.dateFormat(this.format));c=c.add("mi",this.increment)}this.bindStore(d,b)},setLimit:function(b,g,a){var e;if(Ext.isString(b)){e=this.parseDate(b)}else{if(Ext.isDate(b)){e=b}}if(e){var c=new Date(this.initDate).clearTime();c.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds());this[g?"minValue":"maxValue"]=c;if(!a){this.generateStore()}}},getValue:function(){var a=Ext.form.TimeField.superclass.getValue.call(this);return this.formatDate(this.parseDate(a))||""},setValue:function(a){return Ext.form.TimeField.superclass.setValue.call(this,this.formatDate(this.parseDate(a)))},validateValue:Ext.form.DateField.prototype.validateValue,formatDate:Ext.form.DateField.prototype.formatDate,parseDate:function(h){if(!h||Ext.isDate(h)){return h}var j=this.initDate+" ",g=this.initDateFormat+" ",b=Date.parseDate(j+h,g+this.format),c=this.altFormats;if(!b&&c){if(!this.altFormatsArray){this.altFormatsArray=c.split("|")}for(var e=0,d=this.altFormatsArray,a=d.length;e<a&&!b;e++){b=Date.parseDate(j+h,g+d[e])}}return b}});Ext.reg("timefield",Ext.form.TimeField);Ext.form.SliderField=Ext.extend(Ext.form.Field,{useTips:true,tipText:null,actionMode:"wrap",initComponent:function(){var b=Ext.copyTo({id:this.id+"-slider"},this.initialConfig,["vertical","minValue","maxValue","decimalPrecision","keyIncrement","increment","clickToChange","animate"]);if(this.useTips){var a=this.tipText?{getText:this.tipText}:{};b.plugins=[new Ext.slider.Tip(a)]}this.slider=new Ext.Slider(b);Ext.form.SliderField.superclass.initComponent.call(this)},onRender:function(b,a){this.autoCreate={id:this.id,name:this.name,type:"hidden",tag:"input"};Ext.form.SliderField.superclass.onRender.call(this,b,a);this.wrap=this.el.wrap({cls:"x-form-field-wrap"});this.resizeEl=this.positionEl=this.wrap;this.slider.render(this.wrap)},onResize:function(b,c,d,a){Ext.form.SliderField.superclass.onResize.call(this,b,c,d,a);this.slider.setSize(b,c)},initEvents:function(){Ext.form.SliderField.superclass.initEvents.call(this);this.slider.on("change",this.onChange,this)},onChange:function(b,a){this.setValue(a,undefined,true)},onEnable:function(){Ext.form.SliderField.superclass.onEnable.call(this);this.slider.enable()},onDisable:function(){Ext.form.SliderField.superclass.onDisable.call(this);this.slider.disable()},beforeDestroy:function(){Ext.destroy(this.slider);Ext.form.SliderField.superclass.beforeDestroy.call(this)},alignErrorIcon:function(){this.errorIcon.alignTo(this.slider.el,"tl-tr",[2,0])},setMinValue:function(a){this.slider.setMinValue(a);return this},setMaxValue:function(a){this.slider.setMaxValue(a);return this},setValue:function(c,b,a){if(!a){this.slider.setValue(c,b)}return Ext.form.SliderField.superclass.setValue.call(this,this.slider.getValue())},getValue:function(){return this.slider.getValue()}});Ext.reg("sliderfield",Ext.form.SliderField);Ext.form.Label=Ext.extend(Ext.BoxComponent,{onRender:function(b,a){if(!this.el){this.el=document.createElement("label");this.el.id=this.getId();this.el.innerHTML=this.text?Ext.util.Format.htmlEncode(this.text):(this.html||"");if(this.forId){this.el.setAttribute("for",this.forId)}}Ext.form.Label.superclass.onRender.call(this,b,a)},setText:function(a,b){var c=b===false;this[!c?"text":"html"]=a;delete this[c?"text":"html"];if(this.rendered){this.el.dom.innerHTML=b!==false?Ext.util.Format.htmlEncode(a):a}return this}});Ext.reg("label",Ext.form.Label);Ext.form.Action=function(b,a){this.form=b;this.options=a||{}};Ext.form.Action.CLIENT_INVALID="client";Ext.form.Action.SERVER_INVALID="server";Ext.form.Action.CONNECT_FAILURE="connect";Ext.form.Action.LOAD_FAILURE="load";Ext.form.Action.prototype={type:"default",run:function(a){},success:function(a){},handleResponse:function(a){},failure:function(a){this.response=a;this.failureType=Ext.form.Action.CONNECT_FAILURE;this.form.afterAction(this,false)},processResponse:function(a){this.response=a;if(!a.responseText&&!a.responseXML){return true}this.result=this.handleResponse(a);return this.result},decodeResponse:function(a){try{return Ext.decode(a.responseText)}catch(b){return false}},getUrl:function(c){var a=this.options.url||this.form.url||this.form.el.dom.action;if(c){var b=this.getParams();if(b){a=Ext.urlAppend(a,b)}}return a},getMethod:function(){return(this.options.method||this.form.method||this.form.el.dom.method||"POST").toUpperCase()},getParams:function(){var a=this.form.baseParams;var b=this.options.params;if(b){if(typeof b=="object"){b=Ext.urlEncode(Ext.applyIf(b,a))}else{if(typeof b=="string"&&a){b+="&"+Ext.urlEncode(a)}}}else{if(a){b=Ext.urlEncode(a)}}return b},createCallback:function(a){var a=a||{};return{success:this.success,failure:this.failure,scope:this,timeout:(a.timeout*1000)||(this.form.timeout*1000),upload:this.form.fileUpload?this.success:undefined}}};Ext.form.Action.Submit=function(b,a){Ext.form.Action.Submit.superclass.constructor.call(this,b,a)};Ext.extend(Ext.form.Action.Submit,Ext.form.Action,{type:"submit",run:function(){var e=this.options,g=this.getMethod(),d=g=="GET";if(e.clientValidation===false||this.form.isValid()){if(e.submitEmptyText===false){var a=this.form.items,c=[],b=function(h){if(h.el.getValue()==h.emptyText){c.push(h);h.el.dom.value=""}if(h.isComposite&&h.rendered){h.items.each(b)}};a.each(b)}Ext.Ajax.request(Ext.apply(this.createCallback(e),{form:this.form.el.dom,url:this.getUrl(d),method:g,headers:e.headers,params:!d?this.getParams():null,isUpload:this.form.fileUpload}));if(e.submitEmptyText===false){Ext.each(c,function(h){if(h.applyEmptyText){h.applyEmptyText()}})}}else{if(e.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false)}}},success:function(b){var a=this.processResponse(b);if(a===true||a.success){this.form.afterAction(this,true);return}if(a.errors){this.form.markInvalid(a.errors)}this.failureType=Ext.form.Action.SERVER_INVALID;this.form.afterAction(this,false)},handleResponse:function(c){if(this.form.errorReader){var b=this.form.errorReader.read(c);var g=[];if(b.records){for(var d=0,a=b.records.length;d<a;d++){var e=b.records[d];g[d]=e.data}}if(g.length<1){g=null}return{success:b.success,errors:g}}return this.decodeResponse(c)}});Ext.form.Action.Load=function(b,a){Ext.form.Action.Load.superclass.constructor.call(this,b,a);this.reader=this.form.reader};Ext.extend(Ext.form.Action.Load,Ext.form.Action,{type:"load",run:function(){Ext.Ajax.request(Ext.apply(this.createCallback(this.options),{method:this.getMethod(),url:this.getUrl(false),headers:this.options.headers,params:this.getParams()}))},success:function(b){var a=this.processResponse(b);if(a===true||!a.success||!a.data){this.failureType=Ext.form.Action.LOAD_FAILURE;this.form.afterAction(this,false);return}this.form.clearInvalid();this.form.setValues(a.data);this.form.afterAction(this,true)},handleResponse:function(b){if(this.form.reader){var a=this.form.reader.read(b);var c=a.records&&a.records[0]?a.records[0].data:null;return{success:a.success,data:c}}return this.decodeResponse(b)}});Ext.form.Action.DirectLoad=Ext.extend(Ext.form.Action.Load,{constructor:function(b,a){Ext.form.Action.DirectLoad.superclass.constructor.call(this,b,a)},type:"directload",run:function(){var a=this.getParams();a.push(this.success,this);this.form.api.load.apply(window,a)},getParams:function(){var c=[],h={};var e=this.form.baseParams;var g=this.options.params;Ext.apply(h,g,e);var b=this.form.paramOrder;if(b){for(var d=0,a=b.length;d<a;d++){c.push(h[b[d]])}}else{if(this.form.paramsAsHash){c.push(h)}}return c},processResponse:function(a){this.result=a;return a},success:function(a,b){if(b.type==Ext.Direct.exceptions.SERVER){a={}}Ext.form.Action.DirectLoad.superclass.success.call(this,a)}});Ext.form.Action.DirectSubmit=Ext.extend(Ext.form.Action.Submit,{constructor:function(b,a){Ext.form.Action.DirectSubmit.superclass.constructor.call(this,b,a)},type:"directsubmit",run:function(){var a=this.options;if(a.clientValidation===false||this.form.isValid()){this.success.params=this.getParams();this.form.api.submit(this.form.el.dom,this.success,this)}else{if(a.clientValidation!==false){this.failureType=Ext.form.Action.CLIENT_INVALID;this.form.afterAction(this,false)}}},getParams:function(){var c={};var a=this.form.baseParams;var b=this.options.params;Ext.apply(c,b,a);return c},processResponse:function(a){this.result=a;return a},success:function(a,b){if(b.type==Ext.Direct.exceptions.SERVER){a={}}Ext.form.Action.DirectSubmit.superclass.success.call(this,a)}});Ext.form.Action.ACTION_TYPES={load:Ext.form.Action.Load,submit:Ext.form.Action.Submit,directload:Ext.form.Action.DirectLoad,directsubmit:Ext.form.Action.DirectSubmit};Ext.form.VTypes=function(){var c=/^[a-zA-Z_]+$/,d=/^[a-zA-Z0-9_]+$/,b=/^(\w+)([\-+.\'][\w]+)*@(\w[\-\w]*\.){1,5}([A-Za-z]){2,6}$/,a=/(((^https?)|(^ftp)):\/\/([\-\w]+\.)+\w{2,3}(\/[%\-\w]+(\.\w{2,})?)*(([\w\-\.\?\\\/+@&#;`~=%!]*)(\.\w{2,})?)*\/?)/i;return{email:function(e){return b.test(e)},emailText:'This field should be an e-mail address in the format "user@example.com"',emailMask:/[a-z0-9_\.\-\+\'@]/i,url:function(e){return a.test(e)},urlText:'This field should be a URL in the format "http://www.example.com"',alpha:function(e){return c.test(e)},alphaText:"This field should only contain letters and _",alphaMask:/[a-z_]/i,alphanum:function(e){return d.test(e)},alphanumText:"This field should only contain letters, numbers and _",alphanumMask:/[a-z0-9_]/i}}();Ext.grid.GridPanel=Ext.extend(Ext.Panel,{autoExpandColumn:false,autoExpandMax:1000,autoExpandMin:50,columnLines:false,ddText:"{0} selected row{1}",deferRowRender:true,enableColumnHide:true,enableColumnMove:true,enableDragDrop:false,enableHdMenu:true,loadMask:false,minColumnWidth:25,stripeRows:false,trackMouseOver:true,stateEvents:["columnmove","columnresize","sortchange","groupchange"],view:null,bubbleEvents:[],rendered:false,viewReady:false,initComponent:function(){Ext.grid.GridPanel.superclass.initComponent.call(this);if(this.columnLines){this.cls=(this.cls||"")+" x-grid-with-col-lines"}this.autoScroll=false;this.autoWidth=false;if(Ext.isArray(this.columns)){this.colModel=new Ext.grid.ColumnModel(this.columns);delete this.columns}if(this.ds){this.store=this.ds;delete this.ds}if(this.cm){this.colModel=this.cm;delete this.cm}if(this.sm){this.selModel=this.sm;delete this.sm}this.store=Ext.StoreMgr.lookup(this.store);this.addEvents("click","dblclick","contextmenu","mousedown","mouseup","mouseover","mouseout","keypress","keydown","cellmousedown","rowmousedown","headermousedown","groupmousedown","rowbodymousedown","containermousedown","cellclick","celldblclick","rowclick","rowdblclick","headerclick","headerdblclick","groupclick","groupdblclick","containerclick","containerdblclick","rowbodyclick","rowbodydblclick","rowcontextmenu","cellcontextmenu","headercontextmenu","groupcontextmenu","containercontextmenu","rowbodycontextmenu","bodyscroll","columnresize","columnmove","sortchange","groupchange","reconfigure","viewready")},onRender:function(d,a){Ext.grid.GridPanel.superclass.onRender.apply(this,arguments);var e=this.getGridEl();this.el.addClass("x-grid-panel");this.mon(e,{scope:this,mousedown:this.onMouseDown,click:this.onClick,dblclick:this.onDblClick,contextmenu:this.onContextMenu});this.relayEvents(e,["mousedown","mouseup","mouseover","mouseout","keypress","keydown"]);var b=this.getView();b.init(this);b.render();this.getSelectionModel().init(this)},initEvents:function(){Ext.grid.GridPanel.superclass.initEvents.call(this);if(this.loadMask){this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({store:this.store},this.loadMask))}},initStateEvents:function(){Ext.grid.GridPanel.superclass.initStateEvents.call(this);this.mon(this.colModel,"hiddenchange",this.saveState,this,{delay:100})},applyState:function(a){var k=this.colModel,g=a.columns,j=this.store,m,h,l;if(g){for(var d=0,e=g.length;d<e;d++){m=g[d];h=k.getColumnById(m.id);if(h){l=k.getIndexById(m.id);k.setState(l,{hidden:m.hidden,width:m.width,sortable:m.sortable});if(l!=d){k.moveColumn(l,d)}}}}if(j){m=a.sort;if(m){j[j.remoteSort?"setDefaultSort":"sort"](m.field,m.direction)}m=a.group;if(j.groupBy){if(m){j.groupBy(m)}else{j.clearGrouping()}}}var b=Ext.apply({},a);delete b.columns;delete b.sort;Ext.grid.GridPanel.superclass.applyState.call(this,b)},getState:function(){var g={columns:[]},b=this.store,e,a;for(var d=0,h;(h=this.colModel.config[d]);d++){g.columns[d]={id:h.id,width:h.width};if(h.hidden){g.columns[d].hidden=true}if(h.sortable){g.columns[d].sortable=true}}if(b){e=b.getSortState();if(e){g.sort=e}if(b.getGroupState){a=b.getGroupState();if(a){g.group=a}}}return g},afterRender:function(){Ext.grid.GridPanel.superclass.afterRender.call(this);var a=this.view;this.on("bodyresize",a.layout,a);a.layout(true);if(this.deferRowRender){if(!this.deferRowRenderTask){this.deferRowRenderTask=new Ext.util.DelayedTask(a.afterRender,this.view)}this.deferRowRenderTask.delay(10)}else{a.afterRender()}this.viewReady=true},reconfigure:function(a,b){var c=this.rendered;if(c){if(this.loadMask){this.loadMask.destroy();this.loadMask=new Ext.LoadMask(this.bwrap,Ext.apply({},{store:a},this.initialConfig.loadMask))}}if(this.view){this.view.initData(a,b)}this.store=a;this.colModel=b;if(c){this.view.refresh(true)}this.fireEvent("reconfigure",this,a,b)},onDestroy:function(){if(this.deferRowRenderTask&&this.deferRowRenderTask.cancel){this.deferRowRenderTask.cancel()}if(this.rendered){Ext.destroy(this.view,this.loadMask)}else{if(this.store&&this.store.autoDestroy){this.store.destroy()}}Ext.destroy(this.colModel,this.selModel);this.store=this.selModel=this.colModel=this.view=this.loadMask=null;Ext.grid.GridPanel.superclass.onDestroy.call(this)},processEvent:function(a,b){this.view.processEvent(a,b)},onClick:function(a){this.processEvent("click",a)},onMouseDown:function(a){this.processEvent("mousedown",a)},onContextMenu:function(b,a){this.processEvent("contextmenu",b)},onDblClick:function(a){this.processEvent("dblclick",a)},walkCells:function(k,c,b,e,j){var i=this.colModel,g=i.getColumnCount(),a=this.store,h=a.getCount(),d=true;if(b<0){if(c<0){k--;d=false}while(k>=0){if(!d){c=g-1}d=false;while(c>=0){if(e.call(j||this,k,c,i)===true){return[k,c]}c--}k--}}else{if(c>=g){k++;d=false}while(k<h){if(!d){c=0}d=false;while(c<g){if(e.call(j||this,k,c,i)===true){return[k,c]}c++}k++}}return null},getGridEl:function(){return this.body},stopEditing:Ext.emptyFn,getSelectionModel:function(){if(!this.selModel){this.selModel=new Ext.grid.RowSelectionModel(this.disableSelection?{selectRow:Ext.emptyFn}:null)}return this.selModel},getStore:function(){return this.store},getColumnModel:function(){return this.colModel},getView:function(){if(!this.view){this.view=new Ext.grid.GridView(this.viewConfig)}return this.view},getDragDropText:function(){var a=this.selModel.getCount();return String.format(this.ddText,a,a==1?"":"s")}});Ext.reg("grid",Ext.grid.GridPanel);Ext.grid.PivotGrid=Ext.extend(Ext.grid.GridPanel,{aggregator:"sum",renderer:undefined,initComponent:function(){Ext.grid.PivotGrid.superclass.initComponent.apply(this,arguments);this.initAxes();this.enableColumnResize=false;this.viewConfig=Ext.apply(this.viewConfig||{},{forceFit:true});this.colModel=new Ext.grid.ColumnModel({})},getAggregator:function(){if(typeof this.aggregator=="string"){return Ext.grid.PivotAggregatorMgr.types[this.aggregator]}else{return this.aggregator}},setAggregator:function(a){this.aggregator=a},setMeasure:function(a){this.measure=a},setLeftAxis:function(b,a){this.leftAxis=b;if(a){this.view.refresh()}},setTopAxis:function(b,a){this.topAxis=b;if(a){this.view.refresh()}},initAxes:function(){var a=Ext.grid.PivotAxis;if(!(this.leftAxis instanceof a)){this.setLeftAxis(new a({orientation:"vertical",dimensions:this.leftAxis||[],store:this.store}))}if(!(this.topAxis instanceof a)){this.setTopAxis(new a({orientation:"horizontal",dimensions:this.topAxis||[],store:this.store}))}},extractData:function(){var c=this.store.data.items,s=c.length,q=[],h,g,e,d;if(s==0){return[]}var l=this.leftAxis.getTuples(),o=l.length,m=this.topAxis.getTuples(),a=m.length,b=this.getAggregator();for(g=0;g<s;g++){h=c[g];for(e=0;e<o;e++){q[e]=q[e]||[];if(l[e].matcher(h)===true){for(d=0;d<a;d++){q[e][d]=q[e][d]||[];if(m[d].matcher(h)){q[e][d].push(h)}}}}}var n=q.length,p,r;for(g=0;g<n;g++){r=q[g];p=r.length;for(e=0;e<p;e++){q[g][e]=b(q[g][e],this.measure)}}return q},getView:function(){if(!this.view){this.view=new Ext.grid.PivotGridView(this.viewConfig)}return this.view}});Ext.reg("pivotgrid",Ext.grid.PivotGrid);Ext.grid.PivotAggregatorMgr=new Ext.AbstractManager();Ext.grid.PivotAggregatorMgr.registerType("sum",function(a,c){var e=a.length,d=0,b;for(b=0;b<e;b++){d+=a[b].get(c)}return d});Ext.grid.PivotAggregatorMgr.registerType("avg",function(a,c){var e=a.length,d=0,b;for(b=0;b<e;b++){d+=a[b].get(c)}return(d/e)||"n/a"});Ext.grid.PivotAggregatorMgr.registerType("min",function(a,c){var e=[],d=a.length,b;for(b=0;b<d;b++){e.push(a[b].get(c))}return Math.min.apply(this,e)||"n/a"});Ext.grid.PivotAggregatorMgr.registerType("max",function(a,c){var e=[],d=a.length,b;for(b=0;b<d;b++){e.push(a[b].get(c))}return Math.max.apply(this,e)||"n/a"});Ext.grid.PivotAggregatorMgr.registerType("count",function(a,b){return a.length});Ext.grid.GridView=Ext.extend(Ext.util.Observable,{deferEmptyText:true,scrollOffset:undefined,autoFill:false,forceFit:false,sortClasses:["sort-asc","sort-desc"],sortAscText:"Sort Ascending",sortDescText:"Sort Descending",columnsText:"Columns",selectedRowClass:"x-grid3-row-selected",borderWidth:2,tdClass:"x-grid3-cell",hdCls:"x-grid3-hd",markDirty:true,cellSelectorDepth:4,rowSelectorDepth:10,rowBodySelectorDepth:10,cellSelector:"td.x-grid3-cell",rowSelector:"div.x-grid3-row",rowBodySelector:"div.x-grid3-row-body",firstRowCls:"x-grid3-row-first",lastRowCls:"x-grid3-row-last",rowClsRe:/(?:^|\s+)x-grid3-row-(first|last|alt)(?:\s+|$)/g,headerMenuOpenCls:"x-grid3-hd-menu-open",rowOverCls:"x-grid3-row-over",constructor:function(a){Ext.apply(this,a);this.addEvents("beforerowremoved","beforerowsinserted","beforerefresh","rowremoved","rowsinserted","rowupdated","refresh");Ext.grid.GridView.superclass.constructor.call(this)},masterTpl:new Ext.Template('<div class="x-grid3" hidefocus="true">','<div class="x-grid3-viewport">','<div class="x-grid3-header">','<div class="x-grid3-header-inner">','<div class="x-grid3-header-offset" style="{ostyle}">{header}</div>',"</div>",'<div class="x-clear"></div>',"</div>",'<div class="x-grid3-scroller">','<div class="x-grid3-body" style="{bstyle}">{body}</div>','<a href="#" class="x-grid3-focus" tabIndex="-1"></a>',"</div>","</div>",'<div class="x-grid3-resize-marker">&#160;</div>','<div class="x-grid3-resize-proxy">&#160;</div>',"</div>"),headerTpl:new Ext.Template('<table border="0" cellspacing="0" cellpadding="0" style="{tstyle}">',"<thead>",'<tr class="x-grid3-hd-row">{cells}</tr>',"</thead>","</table>"),bodyTpl:new Ext.Template("{rows}"),cellTpl:new Ext.Template('<td class="x-grid3-col x-grid3-cell x-grid3-td-{id} {css}" style="{style}" tabIndex="0" {cellAttr}>','<div class="x-grid3-cell-inner x-grid3-col-{id}" unselectable="on" {attr}>{value}</div>',"</td>"),initTemplates:function(){var c=this.templates||{},d,b,g=new Ext.Template('<td class="x-grid3-hd x-grid3-cell x-grid3-td-{id} {css}" style="{style}">','<div {tooltip} {attr} class="x-grid3-hd-inner x-grid3-hd-{id}" unselectable="on" style="{istyle}">',this.grid.enableHdMenu?'<a class="x-grid3-hd-btn" href="#"></a>':"","{value}",'<img alt="" class="x-grid3-sort-icon" src="',Ext.BLANK_IMAGE_URL,'" />',"</div>","</td>"),a=['<tr class="x-grid3-row-body-tr" style="{bodyStyle}">','<td colspan="{cols}" class="x-grid3-body-cell" tabIndex="0" hidefocus="on">','<div class="x-grid3-row-body">{body}</div>',"</td>","</tr>"].join(""),e=['<table class="x-grid3-row-table" border="0" cellspacing="0" cellpadding="0" style="{tstyle}">',"<tbody>","<tr>{cells}</tr>",this.enableRowBody?a:"","</tbody>","</table>"].join("");Ext.applyIf(c,{hcell:g,cell:this.cellTpl,body:this.bodyTpl,header:this.headerTpl,master:this.masterTpl,row:new Ext.Template('<div class="x-grid3-row {alt}" style="{tstyle}">'+e+"</div>"),rowInner:new Ext.Template(e)});for(b in c){d=c[b];if(d&&Ext.isFunction(d.compile)&&!d.compiled){d.disableFormats=true;d.compile()}}this.templates=c;this.colRe=new RegExp("x-grid3-td-([^\\s]+)","")},fly:function(a){if(!this._flyweight){this._flyweight=new Ext.Element.Flyweight(document.body)}this._flyweight.dom=a;return this._flyweight},getEditorParent:function(){return this.scroller.dom},initElements:function(){var b=Ext.Element,d=Ext.get(this.grid.getGridEl().dom.firstChild),e=new b(d.child("div.x-grid3-viewport")),c=new b(e.child("div.x-grid3-header")),a=new b(e.child("div.x-grid3-scroller"));if(this.grid.hideHeaders){c.setDisplayed(false)}if(this.forceFit){a.setStyle("overflow-x","hidden")}Ext.apply(this,{el:d,mainWrap:e,scroller:a,mainHd:c,innerHd:c.child("div.x-grid3-header-inner").dom,mainBody:new b(b.fly(a).child("div.x-grid3-body")),focusEl:new b(b.fly(a).child("a")),resizeMarker:new b(d.child("div.x-grid3-resize-marker")),resizeProxy:new b(d.child("div.x-grid3-resize-proxy"))});this.focusEl.swallowEvent("click",true)},getRows:function(){return this.hasRows()?this.mainBody.dom.childNodes:[]},findCell:function(a){if(!a){return false}return this.fly(a).findParent(this.cellSelector,this.cellSelectorDepth)},findCellIndex:function(d,c){var b=this.findCell(d),a;if(b){a=this.fly(b).hasClass(c);if(!c||a){return this.getCellIndex(b)}}return false},getCellIndex:function(b){if(b){var a=b.className.match(this.colRe);if(a&&a[1]){return this.cm.getIndexById(a[1])}}return false},findHeaderCell:function(b){var a=this.findCell(b);return a&&this.fly(a).hasClass(this.hdCls)?a:null},findHeaderIndex:function(a){return this.findCellIndex(a,this.hdCls)},findRow:function(a){if(!a){return false}return this.fly(a).findParent(this.rowSelector,this.rowSelectorDepth)},findRowIndex:function(a){var b=this.findRow(a);return b?b.rowIndex:false},findRowBody:function(a){if(!a){return false}return this.fly(a).findParent(this.rowBodySelector,this.rowBodySelectorDepth)},getRow:function(a){return this.getRows()[a]},getCell:function(b,a){return Ext.fly(this.getRow(b)).query(this.cellSelector)[a]},getHeaderCell:function(a){return this.mainHd.dom.getElementsByTagName("td")[a]},addRowClass:function(b,a){var c=this.getRow(b);if(c){this.fly(c).addClass(a)}},removeRowClass:function(c,a){var b=this.getRow(c);if(b){this.fly(b).removeClass(a)}},removeRow:function(a){Ext.removeNode(this.getRow(a));this.syncFocusEl(a)},removeRows:function(c,a){var b=this.mainBody.dom,d;for(d=c;d<=a;d++){Ext.removeNode(b.childNodes[c])}this.syncFocusEl(c)},getScrollState:function(){var a=this.scroller.dom;return{left:a.scrollLeft,top:a.scrollTop}},restoreScroll:function(a){var b=this.scroller.dom;b.scrollLeft=a.left;b.scrollTop=a.top},scrollToTop:function(){var a=this.scroller.dom;a.scrollTop=0;a.scrollLeft=0},syncScroll:function(){this.syncHeaderScroll();var a=this.scroller.dom;this.grid.fireEvent("bodyscroll",a.scrollLeft,a.scrollTop)},syncHeaderScroll:function(){var a=this.innerHd,b=this.scroller.dom.scrollLeft;a.scrollLeft=b;a.scrollLeft=b},updateSortIcon:function(d,c){var a=this.sortClasses,b=a[c=="DESC"?1:0],e=this.mainHd.select("td").removeClass(a);e.item(d).addClass(b)},updateAllColumnWidths:function(){var e=this.getTotalWidth(),k=this.cm.getColumnCount(),m=this.getRows(),g=m.length,b=[],l,a,h,d,c;for(d=0;d<k;d++){b[d]=this.getColumnWidth(d);this.getHeaderCell(d).style.width=b[d]}this.updateHeaderWidth();for(d=0;d<g;d++){l=m[d];l.style.width=e;a=l.firstChild;if(a){a.style.width=e;h=a.rows[0];for(c=0;c<k;c++){h.childNodes[c].style.width=b[c]}}}this.onAllColumnWidthsUpdated(b,e)},updateColumnWidth:function(d,b){var c=this.getColumnWidth(d),j=this.getTotalWidth(),h=this.getHeaderCell(d),a=this.getRows(),e=a.length,l,g,k;this.updateHeaderWidth();h.style.width=c;for(g=0;g<e;g++){l=a[g];k=l.firstChild;l.style.width=j;if(k){k.style.width=j;k.rows[0].childNodes[d].style.width=c}}this.onColumnWidthUpdated(d,c,j)},updateColumnHidden:function(b,j){var h=this.getTotalWidth(),k=j?"none":"",g=this.getHeaderCell(b),a=this.getRows(),d=a.length,l,c,e;this.updateHeaderWidth();g.style.display=k;for(e=0;e<d;e++){l=a[e];l.style.width=h;c=l.firstChild;if(c){c.style.width=h;c.rows[0].childNodes[b].style.display=k}}this.onColumnHiddenUpdated(b,j,h);delete this.lastViewWidth;this.layout()},doRender:function(d,v,m,a,r,t){var h=this.templates,c=h.cell,y=h.row,o=r-1,b="width:"+this.getTotalWidth()+";",k=[],l=[],n={tstyle:b},q={},w=v.length,x,g,e,u,s,p;for(s=0;s<w;s++){e=v[s];l=[];p=s+a;for(u=0;u<r;u++){g=d[u];q.id=g.id;q.css=u===0?"x-grid3-cell-first ":(u==o?"x-grid3-cell-last ":"");q.attr=q.cellAttr="";q.style=g.style;q.value=g.renderer.call(g.scope,e.data[g.name],q,e,p,u,m);if(Ext.isEmpty(q.value)){q.value="&#160;"}if(this.markDirty&&e.dirty&&typeof e.modified[g.name]!="undefined"){q.css+=" x-grid3-dirty-cell"}l[l.length]=c.apply(q)}x=[];if(t&&((p+1)%2===0)){x[0]="x-grid3-row-alt"}if(e.dirty){x[1]=" x-grid3-dirty-row"}n.cols=r;if(this.getRowClass){x[2]=this.getRowClass(e,p,n,m)}n.alt=x.join(" ");n.cells=l.join("");k[k.length]=y.apply(n)}return k.join("")},processRows:function(a,g){if(!this.ds||this.ds.getCount()<1){return}var d=this.getRows(),c=d.length,e,b;g=g||!this.grid.stripeRows;a=a||0;for(b=0;b<c;b++){e=d[b];if(e){e.rowIndex=b;if(!g){e.className=e.className.replace(this.rowClsRe," ");if((b+1)%2===0){e.className+=" x-grid3-row-alt"}}}}if(a===0){Ext.fly(d[0]).addClass(this.firstRowCls)}Ext.fly(d[c-1]).addClass(this.lastRowCls)},afterRender:function(){if(!this.ds||!this.cm){return}this.mainBody.dom.innerHTML=this.renderBody()||"&#160;";this.processRows(0,true);if(this.deferEmptyText!==true){this.applyEmptyText()}this.grid.fireEvent("viewready",this.grid)},afterRenderUI:function(){var a=this.grid;this.initElements();Ext.fly(this.innerHd).on("click",this.handleHdDown,this);this.mainHd.on({scope:this,mouseover:this.handleHdOver,mouseout:this.handleHdOut,mousemove:this.handleHdMove});this.scroller.on("scroll",this.syncScroll,this);if(a.enableColumnResize!==false){this.splitZone=new Ext.grid.GridView.SplitDragZone(a,this.mainHd.dom)}if(a.enableColumnMove){this.columnDrag=new Ext.grid.GridView.ColumnDragZone(a,this.innerHd);this.columnDrop=new Ext.grid.HeaderDropZone(a,this.mainHd.dom)}if(a.enableHdMenu!==false){this.hmenu=new Ext.menu.Menu({id:a.id+"-hctx"});this.hmenu.add({itemId:"asc",text:this.sortAscText,cls:"xg-hmenu-sort-asc"},{itemId:"desc",text:this.sortDescText,cls:"xg-hmenu-sort-desc"});if(a.enableColumnHide!==false){this.colMenu=new Ext.menu.Menu({id:a.id+"-hcols-menu"});this.colMenu.on({scope:this,beforeshow:this.beforeColMenuShow,itemclick:this.handleHdMenuClick});this.hmenu.add("-",{itemId:"columns",hideOnClick:false,text:this.columnsText,menu:this.colMenu,iconCls:"x-cols-icon"})}this.hmenu.on("itemclick",this.handleHdMenuClick,this)}if(a.trackMouseOver){this.mainBody.on({scope:this,mouseover:this.onRowOver,mouseout:this.onRowOut})}if(a.enableDragDrop||a.enableDrag){this.dragZone=new Ext.grid.GridDragZone(a,{ddGroup:a.ddGroup||"GridDD"})}this.updateHeaderSortState()},renderUI:function(){var a=this.templates;return a.master.apply({body:a.body.apply({rows:"&#160;"}),header:this.renderHeaders(),ostyle:"width:"+this.getOffsetWidth()+";",bstyle:"width:"+this.getTotalWidth()+";"})},processEvent:function(b,h){var i=h.getTarget(),a=this.grid,d=this.findHeaderIndex(i),k,j,c,g;a.fireEvent(b,h);if(d!==false){a.fireEvent("header"+b,a,d,h)}else{k=this.findRowIndex(i);if(k!==false){j=this.findCellIndex(i);if(j!==false){c=a.colModel.getColumnAt(j);if(a.fireEvent("cell"+b,a,k,j,h)!==false){if(!c||(c.processEvent&&(c.processEvent(b,h,a,k,j)!==false))){a.fireEvent("row"+b,a,k,h)}}}else{if(a.fireEvent("row"+b,a,k,h)!==false){(g=this.findRowBody(i))&&a.fireEvent("rowbody"+b,a,k,h)}}}else{a.fireEvent("container"+b,a,h)}}},layout:function(j){if(!this.mainBody){return}var a=this.grid,d=a.getGridEl(),c=d.getSize(true),i=c.width,b=c.height,h=this.scroller,g,e,k;if(i<20||b<20){return}if(a.autoHeight){g=h.dom.style;g.overflow="visible";if(Ext.isWebKit){g.position="static"}}else{this.el.setSize(i,b);e=this.mainHd.getHeight();k=b-e;h.setSize(i,k);if(this.innerHd){this.innerHd.style.width=(i)+"px"}}if(this.forceFit||(j===true&&this.autoFill)){if(this.lastViewWidth!=i){this.fitColumns(false,false);this.lastViewWidth=i}}else{this.autoExpand();this.syncHeaderScroll()}this.onLayout(i,k)},onLayout:function(a,b){},onColumnWidthUpdated:function(c,a,b){},onAllColumnWidthsUpdated:function(a,b){},onColumnHiddenUpdated:function(b,c,a){},updateColumnText:function(a,b){},afterMove:function(a){},init:function(a){this.grid=a;this.initTemplates();this.initData(a.store,a.colModel);this.initUI(a)},getColumnId:function(a){return this.cm.getColumnId(a)},getOffsetWidth:function(){return(this.cm.getTotalWidth()+this.getScrollOffset())+"px"},getScrollOffset:function(){return Ext.num(this.scrollOffset,Ext.getScrollBarWidth())},renderHeaders:function(){var e=this.cm,g=this.templates,a=g.hcell,d={},h=e.getColumnCount(),j=h-1,k=[],c,b;for(c=0;c<h;c++){if(c==0){b="x-grid3-cell-first "}else{b=c==j?"x-grid3-cell-last ":""}d={id:e.getColumnId(c),value:e.getColumnHeader(c)||"",style:this.getColumnStyle(c,true),css:b,tooltip:this.getColumnTooltip(c)};if(e.config[c].align=="right"){d.istyle="padding-right: 16px;"}else{delete d.istyle}k[c]=a.apply(d)}return g.header.apply({cells:k.join(""),tstyle:String.format("width: {0};",this.getTotalWidth())})},getColumnTooltip:function(a){var b=this.cm.getColumnTooltip(a);if(b){if(Ext.QuickTips.isEnabled()){return'ext:qtip="'+b+'"'}else{return'title="'+b+'"'}}return""},beforeUpdate:function(){this.grid.stopEditing(true)},updateHeaders:function(){this.innerHd.firstChild.innerHTML=this.renderHeaders();this.updateHeaderWidth(false)},updateHeaderWidth:function(c){var b=this.innerHd.firstChild,a=this.getTotalWidth();b.style.width=this.getOffsetWidth();b.firstChild.style.width=a;if(c!==false){this.mainBody.dom.style.width=a}},focusRow:function(a){this.focusCell(a,0,false)},focusCell:function(d,b,c){this.syncFocusEl(this.ensureVisible(d,b,c));var a=this.focusEl;if(Ext.isGecko){a.focus()}else{a.focus.defer(1,a)}},resolveCell:function(h,d,g){if(!Ext.isNumber(h)){h=h.rowIndex}if(!this.ds){return null}if(h<0||h>=this.ds.getCount()){return null}d=(d!==undefined?d:0);var c=this.getRow(h),b=this.cm,e=b.getColumnCount(),a;if(!(g===false&&d===0)){while(d<e&&b.isHidden(d)){d++}a=this.getCell(h,d)}return{row:c,cell:a}},getResolvedXY:function(b){if(!b){return null}var a=b.cell,c=b.row;if(a){return Ext.fly(a).getXY()}else{return[this.el.getX(),Ext.fly(c).getY()]}},syncFocusEl:function(d,a,c){var b=d;if(!Ext.isArray(b)){d=Math.min(d,Math.max(0,this.getRows().length-1));if(isNaN(d)){return}b=this.getResolvedXY(this.resolveCell(d,a,c))}this.focusEl.setXY(b||this.scroller.getXY())},ensureVisible:function(t,g,e){var r=this.resolveCell(t,g,e);if(!r||!r.row){return null}var k=r.row,h=r.cell,n=this.scroller.dom,d=k,s=0,o=this.el.dom;while(d&&d!=o){s+=d.offsetTop;d=d.offsetParent}s-=this.mainHd.dom.offsetHeight;o=parseInt(n.scrollTop,10);var q=s+k.offsetHeight,a=n.clientHeight,m=o+a;if(s<o){n.scrollTop=s}else{if(q>m){n.scrollTop=q-a}}if(e!==false){var l=parseInt(h.offsetLeft,10),j=l+h.offsetWidth,i=parseInt(n.scrollLeft,10),b=i+n.clientWidth;if(l<i){n.scrollLeft=l}else{if(j>b){n.scrollLeft=j-n.clientWidth}}}return this.getResolvedXY(r)},insertRows:function(a,i,e,h){var d=a.getCount()-1;if(!h&&i===0&&e>=d){this.fireEvent("beforerowsinserted",this,i,e);this.refresh();this.fireEvent("rowsinserted",this,i,e)}else{if(!h){this.fireEvent("beforerowsinserted",this,i,e)}var b=this.renderRows(i,e),g=this.getRow(i);if(g){if(i===0){Ext.fly(this.getRow(0)).removeClass(this.firstRowCls)}Ext.DomHelper.insertHtml("beforeBegin",g,b)}else{var c=this.getRow(d-1);if(c){Ext.fly(c).removeClass(this.lastRowCls)}Ext.DomHelper.insertHtml("beforeEnd",this.mainBody.dom,b)}if(!h){this.processRows(i);this.fireEvent("rowsinserted",this,i,e)}else{if(i===0||i>=d){Ext.fly(this.getRow(i)).addClass(i===0?this.firstRowCls:this.lastRowCls)}}}this.syncFocusEl(i)},deleteRows:function(a,c,b){if(a.getRowCount()<1){this.refresh()}else{this.fireEvent("beforerowsdeleted",this,c,b);this.removeRows(c,b);this.processRows(c);this.fireEvent("rowsdeleted",this,c,b)}},getColumnStyle:function(b,d){var a=this.cm,g=a.config,c=d?"":g[b].css||"",e=g[b].align;c+=String.format("width: {0};",this.getColumnWidth(b));if(a.isHidden(b)){c+="display: none; "}if(e){c+=String.format("text-align: {0};",e)}return c},getColumnWidth:function(b){var c=this.cm.getColumnWidth(b),a=this.borderWidth;if(Ext.isNumber(c)){if(Ext.isBorderBox||(Ext.isWebKit&&!Ext.isSafari2)){return c+"px"}else{return Math.max(c-a,0)+"px"}}else{return c}},getTotalWidth:function(){return this.cm.getTotalWidth()+"px"},fitColumns:function(g,j,h){var a=this.grid,l=this.cm,s=l.getTotalWidth(false),q=this.getGridInnerWidth(),r=q-s,c=[],o=0,n=0,u,d,p;if(q<20||r===0){return false}var e=l.getColumnCount(true),m=l.getColumnCount(false),b=e-(Ext.isNumber(h)?1:0);if(b===0){b=1;h=undefined}for(p=0;p<m;p++){if(!l.isFixed(p)&&p!==h){u=l.getColumnWidth(p);c.push(p,u);if(!l.isHidden(p)){o=p;n+=u}}}d=(q-l.getTotalWidth())/n;while(c.length){u=c.pop();p=c.pop();l.setColumnWidth(p,Math.max(a.minColumnWidth,Math.floor(u+u*d)),true)}s=l.getTotalWidth(false);if(s>q){var t=(b==e)?o:h,k=Math.max(1,l.getColumnWidth(t)-(s-q));l.setColumnWidth(t,k,true)}if(g!==true){this.updateAllColumnWidths()}return true},autoExpand:function(k){var a=this.grid,i=this.cm,e=this.getGridInnerWidth(),c=i.getTotalWidth(false),g=a.autoExpandColumn;if(!this.userResized&&g){if(e!=c){var j=i.getIndexById(g),b=i.getColumnWidth(j),h=e-c+b,d=Math.min(Math.max(h,a.autoExpandMin),a.autoExpandMax);if(b!=d){i.setColumnWidth(j,d,true);if(k!==true){this.updateColumnWidth(j,d)}}}}},getGridInnerWidth:function(){return this.grid.getGridEl().getWidth(true)-this.getScrollOffset()},getColumnData:function(){var e=[],c=this.cm,g=c.getColumnCount(),a=this.ds.fields,d,b;for(d=0;d<g;d++){b=c.getDataIndex(d);e[d]={name:Ext.isDefined(b)?b:(a.get(d)?a.get(d).name:undefined),renderer:c.getRenderer(d),scope:c.getRendererScope(d),id:c.getColumnId(d),style:this.getColumnStyle(d)}}return e},renderRows:function(i,c){var a=this.grid,g=a.store,j=a.stripeRows,e=a.colModel,h=e.getColumnCount(),d=g.getCount(),b;if(d<1){return""}i=i||0;c=Ext.isDefined(c)?c:d-1;b=g.getRange(i,c);return this.doRender(this.getColumnData(),b,g,i,h,j)},renderBody:function(){var a=this.renderRows()||"&#160;";return this.templates.body.apply({rows:a})},refreshRow:function(g){var l=this.ds,m=this.cm.getColumnCount(),c=this.getColumnData(),n=m-1,p=["x-grid3-row"],e={tstyle:String.format("width: {0};",this.getTotalWidth())},a=[],k=this.templates.cell,j,q,b,o,h,d;if(Ext.isNumber(g)){j=g;g=l.getAt(j)}else{j=l.indexOf(g)}if(!g||j<0){return}for(d=0;d<m;d++){b=c[d];if(d==0){h="x-grid3-cell-first"}else{h=(d==n)?"x-grid3-cell-last ":""}o={id:b.id,style:b.style,css:h,attr:"",cellAttr:""};o.value=b.renderer.call(b.scope,g.data[b.name],o,g,j,d,l);if(Ext.isEmpty(o.value)){o.value="&#160;"}if(this.markDirty&&g.dirty&&typeof g.modified[b.name]!="undefined"){o.css+=" x-grid3-dirty-cell"}a[d]=k.apply(o)}q=this.getRow(j);q.className="";if(this.grid.stripeRows&&((j+1)%2===0)){p.push("x-grid3-row-alt")}if(this.getRowClass){e.cols=m;p.push(this.getRowClass(g,j,e,l))}this.fly(q).addClass(p).setStyle(e.tstyle);e.cells=a.join("");q.innerHTML=this.templates.rowInner.apply(e);this.fireEvent("rowupdated",this,j,g)},refresh:function(b){this.fireEvent("beforerefresh",this);this.grid.stopEditing(true);var a=this.renderBody();this.mainBody.update(a).setWidth(this.getTotalWidth());if(b===true){this.updateHeaders();this.updateHeaderSortState()}this.processRows(0,true);this.layout();this.applyEmptyText();this.fireEvent("refresh",this)},applyEmptyText:function(){if(this.emptyText&&!this.hasRows()){this.mainBody.update('<div class="x-grid-empty">'+this.emptyText+"</div>")}},updateHeaderSortState:function(){var b=this.ds.getSortState();if(!b){return}if(!this.sortState||(this.sortState.field!=b.field||this.sortState.direction!=b.direction)){this.grid.fireEvent("sortchange",this.grid,b)}this.sortState=b;var c=this.cm.findColumnIndex(b.field);if(c!=-1){var a=b.direction;this.updateSortIcon(c,a)}},clearHeaderSortState:function(){if(!this.sortState){return}this.grid.fireEvent("sortchange",this.grid,null);this.mainHd.select("td").removeClass(this.sortClasses);delete this.sortState},destroy:function(){var j=this,a=j.grid,d=a.getGridEl(),i=j.dragZone,g=j.splitZone,h=j.columnDrag,e=j.columnDrop,k=j.scrollToTopTask,c,b;if(k&&k.cancel){k.cancel()}Ext.destroyMembers(j,"colMenu","hmenu");j.initData(null,null);j.purgeListeners();Ext.fly(j.innerHd).un("click",j.handleHdDown,j);if(a.enableColumnMove){c=h.dragData;b=h.proxy;Ext.destroy(h.el,b.ghost,b.el,e.el,e.proxyTop,e.proxyBottom,c.ddel,c.header);if(b.anim){Ext.destroy(b.anim)}delete b.ghost;delete c.ddel;delete c.header;h.destroy();delete Ext.dd.DDM.locationCache[h.id];delete h._domRef;delete e.proxyTop;delete e.proxyBottom;e.destroy();delete Ext.dd.DDM.locationCache["gridHeader"+d.id];delete e._domRef;delete Ext.dd.DDM.ids[e.ddGroup]}if(g){g.destroy();delete g._domRef;delete Ext.dd.DDM.ids["gridSplitters"+d.id]}Ext.fly(j.innerHd).removeAllListeners();Ext.removeNode(j.innerHd);delete j.innerHd;Ext.destroy(j.el,j.mainWrap,j.mainHd,j.scroller,j.mainBody,j.focusEl,j.resizeMarker,j.resizeProxy,j.activeHdBtn,j._flyweight,i,g);delete a.container;if(i){i.destroy()}Ext.dd.DDM.currentTarget=null;delete Ext.dd.DDM.locationCache[d.id];Ext.EventManager.removeResizeListener(j.onWindowResize,j)},onDenyColumnHide:function(){},render:function(){if(this.autoFill){var a=this.grid.ownerCt;if(a&&a.getLayout()){a.on("afterlayout",function(){this.fitColumns(true,true);this.updateHeaders();this.updateHeaderSortState()},this,{single:true})}}else{if(this.forceFit){this.fitColumns(true,false)}else{if(this.grid.autoExpandColumn){this.autoExpand(true)}}}this.grid.getGridEl().dom.innerHTML=this.renderUI();this.afterRenderUI()},initData:function(a,e){var b=this;if(b.ds){var d=b.ds;d.un("add",b.onAdd,b);d.un("load",b.onLoad,b);d.un("clear",b.onClear,b);d.un("remove",b.onRemove,b);d.un("update",b.onUpdate,b);d.un("datachanged",b.onDataChange,b);if(d!==a&&d.autoDestroy){d.destroy()}}if(a){a.on({scope:b,load:b.onLoad,add:b.onAdd,remove:b.onRemove,update:b.onUpdate,clear:b.onClear,datachanged:b.onDataChange})}if(b.cm){var c=b.cm;c.un("configchange",b.onColConfigChange,b);c.un("widthchange",b.onColWidthChange,b);c.un("headerchange",b.onHeaderChange,b);c.un("hiddenchange",b.onHiddenChange,b);c.un("columnmoved",b.onColumnMove,b)}if(e){delete b.lastViewWidth;e.on({scope:b,configchange:b.onColConfigChange,widthchange:b.onColWidthChange,headerchange:b.onHeaderChange,hiddenchange:b.onHiddenChange,columnmoved:b.onColumnMove})}b.ds=a;b.cm=e},onDataChange:function(){this.refresh(true);this.updateHeaderSortState();this.syncFocusEl(0)},onClear:function(){this.refresh();this.syncFocusEl(0)},onUpdate:function(b,a){this.refreshRow(a)},onAdd:function(b,a,c){this.insertRows(b,c,c+(a.length-1))},onRemove:function(b,a,c,d){if(d!==true){this.fireEvent("beforerowremoved",this,c,a)}this.removeRow(c);if(d!==true){this.processRows(c);this.applyEmptyText();this.fireEvent("rowremoved",this,c,a)}},onLoad:function(){if(Ext.isGecko){if(!this.scrollToTopTask){this.scrollToTopTask=new Ext.util.DelayedTask(this.scrollToTop,this)}this.scrollToTopTask.delay(1)}else{this.scrollToTop()}},onColWidthChange:function(a,b,c){this.updateColumnWidth(b,c)},onHeaderChange:function(a,b,c){this.updateHeaders()},onHiddenChange:function(a,b,c){this.updateColumnHidden(b,c)},onColumnMove:function(a,c,b){this.indexMap=null;this.refresh(true);this.restoreScroll(this.getScrollState());this.afterMove(b);this.grid.fireEvent("columnmove",c,b)},onColConfigChange:function(){delete this.lastViewWidth;this.indexMap=null;this.refresh(true)},initUI:function(a){a.on("headerclick",this.onHeaderClick,this)},initEvents:Ext.emptyFn,onHeaderClick:function(b,a){if(this.headersDisabled||!this.cm.isSortable(a)){return}b.stopEditing(true);b.store.sort(this.cm.getDataIndex(a))},onRowOver:function(b,a){var c=this.findRowIndex(a);if(c!==false){this.addRowClass(c,this.rowOverCls)}},onRowOut:function(b,a){var c=this.findRowIndex(a);if(c!==false&&!b.within(this.getRow(c),true)){this.removeRowClass(c,this.rowOverCls)}},onRowSelect:function(a){this.addRowClass(a,this.selectedRowClass)},onRowDeselect:function(a){this.removeRowClass(a,this.selectedRowClass)},onCellSelect:function(c,b){var a=this.getCell(c,b);if(a){this.fly(a).addClass("x-grid3-cell-selected")}},onCellDeselect:function(c,b){var a=this.getCell(c,b);if(a){this.fly(a).removeClass("x-grid3-cell-selected")}},handleWheel:function(a){a.stopPropagation()},onColumnSplitterMoved:function(a,b){this.userResized=true;this.grid.colModel.setColumnWidth(a,b,true);if(this.forceFit){this.fitColumns(true,false,a);this.updateAllColumnWidths()}else{this.updateColumnWidth(a,b);this.syncHeaderScroll()}this.grid.fireEvent("columnresize",a,b)},beforeColMenuShow:function(){var b=this.cm,d=b.getColumnCount(),a=this.colMenu,c;a.removeAll();for(c=0;c<d;c++){if(b.config[c].hideable!==false){a.add(new Ext.menu.CheckItem({text:b.getColumnHeader(c),itemId:"col-"+b.getColumnId(c),checked:!b.isHidden(c),disabled:b.config[c].hideable===false,hideOnClick:false}))}}},handleHdMenuClick:function(c){var a=this.ds,b=this.cm.getDataIndex(this.hdCtxIndex);switch(c.getItemId()){case"asc":a.sort(b,"ASC");break;case"desc":a.sort(b,"DESC");break;default:this.handleHdMenuClickDefault(c)}return true},handleHdMenuClickDefault:function(c){var b=this.cm,d=c.getItemId(),a=b.getIndexById(d.substr(4));if(a!=-1){if(c.checked&&b.getColumnsBy(this.isHideableColumn,this).length<=1){this.onDenyColumnHide();return}b.setHidden(a,c.checked)}},handleHdDown:function(i,j){if(Ext.fly(j).hasClass("x-grid3-hd-btn")){i.stopEvent();var k=this.cm,g=this.findHeaderCell(j),h=this.getCellIndex(g),d=k.isSortable(h),c=this.hmenu,b=c.items,a=this.headerMenuOpenCls;this.hdCtxIndex=h;Ext.fly(g).addClass(a);b.get("asc").setDisabled(!d);b.get("desc").setDisabled(!d);c.on("hide",function(){Ext.fly(g).removeClass(a)},this,{single:true});c.show(j,"tl-bl?")}},handleHdMove:function(k){var i=this.findHeaderCell(this.activeHdRef);if(i&&!this.headersDisabled){var l=this.splitHandleWidth||5,j=this.activeHdRegion,p=i.style,m=this.cm,o="",g=k.getPageX();if(this.grid.enableColumnResize!==false){var a=this.activeHdIndex,b=this.getPreviousVisible(a),n=m.isResizable(a),c=b&&m.isResizable(b),d=g-j.left<=l,h=j.right-g<=(!this.activeHdBtn?l:2);if(d&&c){o=Ext.isAir?"move":Ext.isWebKit?"e-resize":"col-resize"}else{if(h&&n){o=Ext.isAir?"move":Ext.isWebKit?"w-resize":"col-resize"}}}p.cursor=o}},getPreviousVisible:function(a){while(a>0){if(!this.cm.isHidden(a-1)){return a}a--}return undefined},handleHdOver:function(c,b){var d=this.findHeaderCell(b);if(d&&!this.headersDisabled){var a=this.fly(d);this.activeHdRef=b;this.activeHdIndex=this.getCellIndex(d);this.activeHdRegion=a.getRegion();if(!this.isMenuDisabled(this.activeHdIndex,a)){a.addClass("x-grid3-hd-over");this.activeHdBtn=a.child(".x-grid3-hd-btn");if(this.activeHdBtn){this.activeHdBtn.dom.style.height=(d.firstChild.offsetHeight-1)+"px"}}}},handleHdOut:function(b,a){var c=this.findHeaderCell(a);if(c&&(!Ext.isIE||!b.within(c,true))){this.activeHdRef=null;this.fly(c).removeClass("x-grid3-hd-over");c.style.cursor=""}},isMenuDisabled:function(a,b){return this.cm.isMenuDisabled(a)},hasRows:function(){var a=this.mainBody.dom.firstChild;return a&&a.nodeType==1&&a.className!="x-grid-empty"},isHideableColumn:function(a){return !a.hidden},bind:function(a,b){this.initData(a,b)}});Ext.grid.GridView.SplitDragZone=Ext.extend(Ext.dd.DDProxy,{constructor:function(a,b){this.grid=a;this.view=a.getView();this.marker=this.view.resizeMarker;this.proxy=this.view.resizeProxy;Ext.grid.GridView.SplitDragZone.superclass.constructor.call(this,b,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.scroll=false;this.hw=this.view.splitHandleWidth||5},b4StartDrag:function(a,e){this.dragHeadersDisabled=this.view.headersDisabled;this.view.headersDisabled=true;var d=this.view.mainWrap.getHeight();this.marker.setHeight(d);this.marker.show();this.marker.alignTo(this.view.getHeaderCell(this.cellIndex),"tl-tl",[-2,0]);this.proxy.setHeight(d);var b=this.cm.getColumnWidth(this.cellIndex),c=Math.max(b-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(c,1000);this.setYConstraint(0,0);this.minX=a-c;this.maxX=a+1000;this.startPos=a;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,a,e)},allowHeaderDrag:function(a){return true},handleMouseDown:function(a){var h=this.view.findHeaderCell(a.getTarget());if(h&&this.allowHeaderDrag(a)){var k=this.view.fly(h).getXY(),c=k[0],i=a.getXY(),b=i[0],g=h.offsetWidth,d=false;if((b-c)<=this.hw){d=-1}else{if((c+g)-b<=this.hw){d=0}}if(d!==false){this.cm=this.grid.colModel;var j=this.view.getCellIndex(h);if(d==-1){if(j+d<0){return}while(this.cm.isHidden(j+d)){--d;if(j+d<0){return}}}this.cellIndex=j+d;this.split=h.dom;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.GridView.SplitDragZone.superclass.handleMouseDown.apply(this,arguments)}}else{if(this.view.columnDrag){this.view.columnDrag.callHandleMouseDown(a)}}}},endDrag:function(g){this.marker.hide();var a=this.view,c=Math.max(this.minX,g.getPageX()),d=c-this.startPos,b=this.dragHeadersDisabled;a.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+d);setTimeout(function(){a.headersDisabled=b},50)},autoOffset:function(){this.setDelta(0,0)}});Ext.grid.PivotGridView=Ext.extend(Ext.grid.GridView,{colHeaderCellCls:"grid-hd-group-cell",title:"",getColumnHeaders:function(){return this.grid.topAxis.buildHeaders()},getRowHeaders:function(){return this.grid.leftAxis.buildHeaders()},renderRows:function(a,t){var b=this.grid,o=b.extractData(),p=o.length,g=this.templates,s=b.renderer,h=typeof s=="function",w=this.getCellCls,n=typeof w=="function",d=g.cell,x=g.row,k=[],q={},c="width:"+this.getGridInnerWidth()+"px;",l,r,e,v,m;a=a||0;t=Ext.isDefined(t)?t:p-1;for(v=0;v<p;v++){m=o[v];r=m.length;l=[];for(var u=0;u<r;u++){q.id=v+"-"+u;q.css=u===0?"x-grid3-cell-first ":(u==(r-1)?"x-grid3-cell-last ":"");q.attr=q.cellAttr="";q.value=m[u];if(Ext.isEmpty(q.value)){q.value="&#160;"}if(h){q.value=s(q.value)}if(n){q.css+=w(q.value)+" "}l[l.length]=d.apply(q)}k[k.length]=x.apply({tstyle:c,cols:r,cells:l.join(""),alt:""})}return k.join("")},masterTpl:new Ext.Template('<div class="x-grid3 x-pivotgrid" hidefocus="true">','<div class="x-grid3-viewport">','<div class="x-grid3-header">','<div class="x-grid3-header-title"><span>{title}</span></div>','<div class="x-grid3-header-inner">','<div class="x-grid3-header-offset" style="{ostyle}"></div>',"</div>",'<div class="x-clear"></div>',"</div>",'<div class="x-grid3-scroller">','<div class="x-grid3-row-headers"></div>','<div class="x-grid3-body" style="{bstyle}">{body}</div>','<a href="#" class="x-grid3-focus" tabIndex="-1"></a>',"</div>","</div>",'<div class="x-grid3-resize-marker">&#160;</div>','<div class="x-grid3-resize-proxy">&#160;</div>',"</div>"),initTemplates:function(){Ext.grid.PivotGridView.superclass.initTemplates.apply(this,arguments);var a=this.templates||{};if(!a.gcell){a.gcell=new Ext.XTemplate('<td class="x-grid3-hd x-grid3-gcell x-grid3-td-{id} ux-grid-hd-group-row-{row} '+this.colHeaderCellCls+'" style="{style}">','<div {tooltip} class="x-grid3-hd-inner x-grid3-hd-{id}" unselectable="on" style="{istyle}">',this.grid.enableHdMenu?'<a class="x-grid3-hd-btn" href="#"></a>':"","{value}","</div>","</td>")}this.templates=a;this.hrowRe=new RegExp("ux-grid-hd-group-row-(\\d+)","")},initElements:function(){Ext.grid.PivotGridView.superclass.initElements.apply(this,arguments);this.rowHeadersEl=new Ext.Element(this.scroller.child("div.x-grid3-row-headers"));this.headerTitleEl=new Ext.Element(this.mainHd.child("div.x-grid3-header-title"))},getGridInnerWidth:function(){var a=Ext.grid.PivotGridView.superclass.getGridInnerWidth.apply(this,arguments);return a-this.getTotalRowHeaderWidth()},getTotalRowHeaderWidth:function(){var d=this.getRowHeaders(),c=d.length,b=0,a;for(a=0;a<c;a++){b+=d[a].width}return b},getTotalColumnHeaderHeight:function(){return this.getColumnHeaders().length*21},getCellIndex:function(b){if(b){var a=b.className.match(this.colRe),c;if(a&&(c=a[1])){return parseInt(c.split("-")[1],10)}}return false},renderUI:function(){var b=this.templates,a=this.getGridInnerWidth();return b.master.apply({body:b.body.apply({rows:"&#160;"}),ostyle:"width:"+a+"px",bstyle:"width:"+a+"px"})},onLayout:function(b,a){Ext.grid.PivotGridView.superclass.onLayout.apply(this,arguments);var b=this.getGridInnerWidth();this.resizeColumnHeaders(b);this.resizeAllRows(b)},refresh:function(b){this.fireEvent("beforerefresh",this);this.grid.stopEditing(true);var a=this.renderBody();this.mainBody.update(a).setWidth(this.getGridInnerWidth());if(b===true){this.updateHeaders();this.updateHeaderSortState()}this.processRows(0,true);this.layout();this.applyEmptyText();this.fireEvent("refresh",this)},renderHeaders:Ext.emptyFn,fitColumns:Ext.emptyFn,resizeColumnHeaders:function(b){var a=this.grid.topAxis;if(a.rendered){a.el.setWidth(b)}},resizeRowHeaders:function(){var a=this.getTotalRowHeaderWidth(),b=String.format("margin-left: {0}px;",a);this.rowHeadersEl.setWidth(a);this.mainBody.applyStyles(b);Ext.fly(this.innerHd).applyStyles(b);this.headerTitleEl.setWidth(a);this.headerTitleEl.setHeight(this.getTotalColumnHeaderHeight())},resizeAllRows:function(b){var d=this.getRows(),c=d.length,a;for(a=0;a<c;a++){Ext.fly(d[a]).setWidth(b);Ext.fly(d[a]).child("table").setWidth(b)}},updateHeaders:function(){this.renderGroupRowHeaders();this.renderGroupColumnHeaders()},renderGroupRowHeaders:function(){var a=this.grid.leftAxis;this.resizeRowHeaders();a.rendered=false;a.render(this.rowHeadersEl);this.setTitle(this.title)},setTitle:function(a){this.headerTitleEl.child("span").dom.innerHTML=a},renderGroupColumnHeaders:function(){var a=this.grid.topAxis;a.rendered=false;a.render(this.innerHd.firstChild)},isMenuDisabled:function(a,b){return true}});Ext.grid.PivotAxis=Ext.extend(Ext.Component,{orientation:"horizontal",defaultHeaderWidth:80,paddingWidth:7,setDimensions:function(a){this.dimensions=a},onRender:function(b,a){var c=this.orientation=="horizontal"?this.renderHorizontalRows():this.renderVerticalRows();this.el=Ext.DomHelper.overwrite(b.dom,{tag:"table",cn:c},true)},renderHorizontalRows:function(){var k=this.buildHeaders(),a=k.length,g=[],c,h,e,d,b;for(d=0;d<a;d++){c=[];h=k[d].items;e=h.length;for(b=0;b<e;b++){c.push({tag:"td",html:h[b].header,colspan:h[b].span})}g[d]={tag:"tr",cn:c}}return g},renderVerticalRows:function(){var b=this.buildHeaders(),k=b.length,a=[],m=[],h,c,l,g,e,d;for(e=0;e<k;e++){c=b[e];g=c.width||80;h=c.items.length;for(d=0;d<h;d++){l=c.items[d];a[l.start]=a[l.start]||[];a[l.start].push({tag:"td",html:l.header,rowspan:l.span,width:Ext.isBorderBox?g:g-this.paddingWidth})}}h=a.length;for(e=0;e<h;e++){m[e]={tag:"tr",cn:a[e]}}return m},getTuples:function(){var b=new Ext.data.Store({});b.data=this.store.data.clone();b.fields=this.store.fields;var l=[],a=this.dimensions,c=a.length,j;for(j=0;j<c;j++){l.push({field:a[j].dataIndex,direction:a[j].direction||"ASC"})}b.sort(l);var e=b.data.items,n=[],k=[],o,h,d,g,m;c=e.length;for(j=0;j<c;j++){d=this.getRecordInfo(e[j]);g=d.data;h="";for(m in g){h+=g[m]+"---"}if(n.indexOf(h)==-1){n.push(h);k.push(d)}}b.destroy();return k},getRecordInfo:function(a){var e=this.dimensions,d=e.length,h={},j,c,b;for(b=0;b<d;b++){j=e[b];c=j.dataIndex;h[c]=a.get(c)}var g=function(i){return function(k){for(var l in i){if(k.get(l)!=i[l]){return false}}return true}};return{data:h,matcher:g(h)}},buildHeaders:function(){var l=this.getTuples(),m=l.length,a=this.dimensions,e,r=a.length,c=[],o,s,n,q,p,b,k,h,g,d;for(g=0;g<r;g++){e=a[g];s=[];p=0;b=0;for(d=0;d<m;d++){o=l[d];k=d==(m-1);n=o.data[e.dataIndex];h=q!=undefined&&q!=n;if(g>0&&d>0){h=h||o.data[a[g-1].dataIndex]!=l[d-1].data[a[g-1].dataIndex]}if(h){s.push({header:q,span:p,start:b});b+=p;p=0}if(k){s.push({header:n,span:p+1,start:b});b+=p;p=0}q=n;p++}c.push({items:s,width:e.width||this.defaultHeaderWidth});q=undefined}return c}});Ext.grid.HeaderDragZone=Ext.extend(Ext.dd.DragZone,{maxDragWidth:120,constructor:function(a,c,b){this.grid=a;this.view=a.getView();this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDragZone.superclass.constructor.call(this,c);if(b){this.setHandleElId(Ext.id(c));this.setOuterHandleElId(Ext.id(b))}this.scroll=false},getDragData:function(c){var a=Ext.lib.Event.getTarget(c),b=this.view.findHeaderCell(a);if(b){return{ddel:b.firstChild,header:b}}return false},onInitDrag:function(a){this.dragHeadersDisabled=this.view.headersDisabled;this.view.headersDisabled=true;var b=this.dragData.ddel.cloneNode(true);b.id=Ext.id();b.style.width=Math.min(this.dragData.header.offsetWidth,this.maxDragWidth)+"px";this.proxy.update(b);return true},afterValidDrop:function(){this.completeDrop()},afterInvalidDrop:function(){this.completeDrop()},completeDrop:function(){var a=this.view,b=this.dragHeadersDisabled;setTimeout(function(){a.headersDisabled=b},50)}});Ext.grid.HeaderDropZone=Ext.extend(Ext.dd.DropZone,{proxyOffsets:[-4,-9],fly:Ext.Element.fly,constructor:function(a,c,b){this.grid=a;this.view=a.getView();this.proxyTop=Ext.DomHelper.append(document.body,{cls:"col-move-top",html:"&#160;"},true);this.proxyBottom=Ext.DomHelper.append(document.body,{cls:"col-move-bottom",html:"&#160;"},true);this.proxyTop.hide=this.proxyBottom.hide=function(){this.setLeftTop(-100,-100);this.setStyle("visibility","hidden")};this.ddGroup="gridHeader"+this.grid.getGridEl().id;Ext.grid.HeaderDropZone.superclass.constructor.call(this,a.getGridEl().dom)},getTargetFromEvent:function(c){var a=Ext.lib.Event.getTarget(c),b=this.view.findCellIndex(a);if(b!==false){return this.view.getHeaderCell(b)}},nextVisible:function(c){var b=this.view,a=this.grid.colModel;c=c.nextSibling;while(c){if(!a.isHidden(b.getCellIndex(c))){return c}c=c.nextSibling}return null},prevVisible:function(c){var b=this.view,a=this.grid.colModel;c=c.prevSibling;while(c){if(!a.isHidden(b.getCellIndex(c))){return c}c=c.prevSibling}return null},positionIndicator:function(d,k,j){var a=Ext.lib.Event.getPageX(j),g=Ext.lib.Dom.getRegion(k.firstChild),c,i,b=g.top+this.proxyOffsets[1];if((g.right-a)<=(g.right-g.left)/2){c=g.right+this.view.borderWidth;i="after"}else{c=g.left;i="before"}if(this.grid.colModel.isFixed(this.view.getCellIndex(k))){return false}c+=this.proxyOffsets[0];this.proxyTop.setLeftTop(c,b);this.proxyTop.show();if(!this.bottomOffset){this.bottomOffset=this.view.mainHd.getHeight()}this.proxyBottom.setLeftTop(c,b+this.proxyTop.dom.offsetHeight+this.bottomOffset);this.proxyBottom.show();return i},onNodeEnter:function(d,a,c,b){if(b.header!=d){this.positionIndicator(b.header,d,c)}},onNodeOver:function(g,b,d,c){var a=false;if(c.header!=g){a=this.positionIndicator(c.header,g,d)}if(!a){this.proxyTop.hide();this.proxyBottom.hide()}return a?this.dropAllowed:this.dropNotAllowed},onNodeOut:function(d,a,c,b){this.proxyTop.hide();this.proxyBottom.hide()},onNodeDrop:function(b,m,g,c){var d=c.header;if(d!=b){var k=this.grid.colModel,j=Ext.lib.Event.getPageX(g),a=Ext.lib.Dom.getRegion(b.firstChild),o=(a.right-j)<=((a.right-a.left)/2)?"after":"before",i=this.view.getCellIndex(d),l=this.view.getCellIndex(b);if(o=="after"){l++}if(i<l){l--}k.moveColumn(i,l);return true}return false}});Ext.grid.GridView.ColumnDragZone=Ext.extend(Ext.grid.HeaderDragZone,{constructor:function(a,b){Ext.grid.GridView.ColumnDragZone.superclass.constructor.call(this,a,b,null);this.proxy.el.addClass("x-grid3-col-dd")},handleMouseDown:function(a){},callHandleMouseDown:function(a){Ext.grid.GridView.ColumnDragZone.superclass.handleMouseDown.call(this,a)}});Ext.grid.SplitDragZone=Ext.extend(Ext.dd.DDProxy,{fly:Ext.Element.fly,constructor:function(a,c,b){this.grid=a;this.view=a.getView();this.proxy=this.view.resizeProxy;Ext.grid.SplitDragZone.superclass.constructor.call(this,c,"gridSplitters"+this.grid.getGridEl().id,{dragElId:Ext.id(this.proxy.dom),resizeFrame:false});this.setHandleElId(Ext.id(c));this.setOuterHandleElId(Ext.id(b));this.scroll=false},b4StartDrag:function(a,d){this.view.headersDisabled=true;this.proxy.setHeight(this.view.mainWrap.getHeight());var b=this.cm.getColumnWidth(this.cellIndex);var c=Math.max(b-this.grid.minColumnWidth,0);this.resetConstraints();this.setXConstraint(c,1000);this.setYConstraint(0,0);this.minX=a-c;this.maxX=a+1000;this.startPos=a;Ext.dd.DDProxy.prototype.b4StartDrag.call(this,a,d)},handleMouseDown:function(c){var b=Ext.EventObject.setEvent(c);var a=this.fly(b.getTarget());if(a.hasClass("x-grid-split")){this.cellIndex=this.view.getCellIndex(a.dom);this.split=a.dom;this.cm=this.grid.colModel;if(this.cm.isResizable(this.cellIndex)&&!this.cm.isFixed(this.cellIndex)){Ext.grid.SplitDragZone.superclass.handleMouseDown.apply(this,arguments)}}},endDrag:function(c){this.view.headersDisabled=false;var a=Math.max(this.minX,Ext.lib.Event.getPageX(c));var b=a-this.startPos;this.view.onColumnSplitterMoved(this.cellIndex,this.cm.getColumnWidth(this.cellIndex)+b)},autoOffset:function(){this.setDelta(0,0)}});Ext.grid.GridDragZone=function(b,a){this.view=b.getView();Ext.grid.GridDragZone.superclass.constructor.call(this,this.view.mainBody.dom,a);this.scroll=false;this.grid=b;this.ddel=document.createElement("div");this.ddel.className="x-grid-dd-wrap"};Ext.extend(Ext.grid.GridDragZone,Ext.dd.DragZone,{ddGroup:"GridDD",getDragData:function(b){var a=Ext.lib.Event.getTarget(b);var d=this.view.findRowIndex(a);if(d!==false){var c=this.grid.selModel;if(!c.isSelected(d)||b.hasModifier()){c.handleMouseDown(this.grid,d,b)}return{grid:this.grid,ddel:this.ddel,rowIndex:d,selections:c.getSelections()}}return false},onInitDrag:function(b){var a=this.dragData;this.ddel.innerHTML=this.grid.getDragDropText();this.proxy.update(this.ddel)},afterRepair:function(){this.dragging=false},getRepairXY:function(b,a){return false},onEndDrag:function(a,b){},onValidDrop:function(a,b,c){this.hideProxy()},beforeInvalidDrop:function(a,b){}});Ext.grid.ColumnModel=Ext.extend(Ext.util.Observable,{defaultWidth:100,defaultSortable:false,constructor:function(a){if(a.columns){Ext.apply(this,a);this.setConfig(a.columns,true)}else{this.setConfig(a,true)}this.addEvents("widthchange","headerchange","hiddenchange","columnmoved","configchange");Ext.grid.ColumnModel.superclass.constructor.call(this)},getColumnId:function(a){return this.config[a].id},getColumnAt:function(a){return this.config[a]},setConfig:function(d,b){var e,h,a;if(!b){delete this.totalWidth;for(e=0,a=this.config.length;e<a;e++){h=this.config[e];if(h.setEditor){h.setEditor(null)}}}this.defaults=Ext.apply({width:this.defaultWidth,sortable:this.defaultSortable},this.defaults);this.config=d;this.lookup={};for(e=0,a=d.length;e<a;e++){h=Ext.applyIf(d[e],this.defaults);if(Ext.isEmpty(h.id)){h.id=e}if(!h.isColumn){var g=Ext.grid.Column.types[h.xtype||"gridcolumn"];h=new g(h);d[e]=h}this.lookup[h.id]=h}if(!b){this.fireEvent("configchange",this)}},getColumnById:function(a){return this.lookup[a]},getIndexById:function(c){for(var b=0,a=this.config.length;b<a;b++){if(this.config[b].id==c){return b}}return -1},moveColumn:function(e,b){var a=this.config,d=a[e];a.splice(e,1);a.splice(b,0,d);this.dataMap=null;this.fireEvent("columnmoved",this,e,b)},getColumnCount:function(b){var d=this.config.length,e=0,a;if(b===true){for(a=0;a<d;a++){if(!this.isHidden(a)){e++}}return e}return d},getColumnsBy:function(g,e){var b=this.config,h=b.length,a=[],d,j;for(d=0;d<h;d++){j=b[d];if(g.call(e||this,j,d)===true){a[a.length]=j}}return a},isSortable:function(a){return !!this.config[a].sortable},isMenuDisabled:function(a){return !!this.config[a].menuDisabled},getRenderer:function(a){return this.config[a].renderer||Ext.grid.ColumnModel.defaultRenderer},getRendererScope:function(a){return this.config[a].scope},setRenderer:function(a,b){this.config[a].renderer=b},getColumnWidth:function(a){var b=this.config[a].width;if(typeof b!="number"){b=this.defaultWidth}return b},setColumnWidth:function(b,c,a){this.config[b].width=c;this.totalWidth=null;if(!a){this.fireEvent("widthchange",this,b,c)}},getTotalWidth:function(b){if(!this.totalWidth){this.totalWidth=0;for(var c=0,a=this.config.length;c<a;c++){if(b||!this.isHidden(c)){this.totalWidth+=this.getColumnWidth(c)}}}return this.totalWidth},getColumnHeader:function(a){return this.config[a].header},setColumnHeader:function(a,b){this.config[a].header=b;this.fireEvent("headerchange",this,a,b)},getColumnTooltip:function(a){return this.config[a].tooltip},setColumnTooltip:function(a,b){this.config[a].tooltip=b},getDataIndex:function(a){return this.config[a].dataIndex},setDataIndex:function(a,b){this.config[a].dataIndex=b},findColumnIndex:function(d){var e=this.config;for(var b=0,a=e.length;b<a;b++){if(e[b].dataIndex==d){return b}}return -1},isCellEditable:function(b,e){var d=this.config[b],a=d.editable;return !!(a||(!Ext.isDefined(a)&&d.editor))},getCellEditor:function(a,b){return this.config[a].getCellEditor(b)},setEditable:function(a,b){this.config[a].editable=b},isHidden:function(a){return !!this.config[a].hidden},isFixed:function(a){return !!this.config[a].fixed},isResizable:function(a){return a>=0&&this.config[a].resizable!==false&&this.config[a].fixed!==true},setHidden:function(a,b){var d=this.config[a];if(d.hidden!==b){d.hidden=b;this.totalWidth=null;this.fireEvent("hiddenchange",this,a,b)}},setEditor:function(a,b){this.config[a].setEditor(b)},destroy:function(){var b=this.config.length,a=0;for(;a<b;a++){this.config[a].destroy()}delete this.config;delete this.lookup;this.purgeListeners()},setState:function(a,b){b=Ext.applyIf(b,this.defaults);Ext.apply(this.config[a],b)}});Ext.grid.ColumnModel.defaultRenderer=function(a){if(typeof a=="string"&&a.length<1){return"&#160;"}return a};Ext.grid.AbstractSelectionModel=Ext.extend(Ext.util.Observable,{constructor:function(){this.locked=false;Ext.grid.AbstractSelectionModel.superclass.constructor.call(this)},init:function(a){this.grid=a;if(this.lockOnInit){delete this.lockOnInit;this.locked=false;this.lock()}this.initEvents()},lock:function(){if(!this.locked){this.locked=true;var a=this.grid;if(a){a.getView().on({scope:this,beforerefresh:this.sortUnLock,refresh:this.sortLock})}else{this.lockOnInit=true}}},sortLock:function(){this.locked=true},sortUnLock:function(){this.locked=false},unlock:function(){if(this.locked){this.locked=false;var a=this.grid,b;if(a){b=a.getView();b.un("beforerefresh",this.sortUnLock,this);b.un("refresh",this.sortLock,this)}else{delete this.lockOnInit}}},isLocked:function(){return this.locked},destroy:function(){this.unlock();this.purgeListeners()}});Ext.grid.RowSelectionModel=Ext.extend(Ext.grid.AbstractSelectionModel,{singleSelect:false,constructor:function(a){Ext.apply(this,a);this.selections=new Ext.util.MixedCollection(false,function(b){return b.id});this.last=false;this.lastActive=false;this.addEvents("selectionchange","beforerowselect","rowselect","rowdeselect");Ext.grid.RowSelectionModel.superclass.constructor.call(this)},initEvents:function(){if(!this.grid.enableDragDrop&&!this.grid.enableDrag){this.grid.on("rowmousedown",this.handleMouseDown,this)}this.rowNav=new Ext.KeyNav(this.grid.getGridEl(),{up:this.onKeyPress,down:this.onKeyPress,scope:this});this.grid.getView().on({scope:this,refresh:this.onRefresh,rowupdated:this.onRowUpdated,rowremoved:this.onRemove})},onKeyPress:function(g,b){var a=b=="up",h=a?"selectPrevious":"selectNext",d=a?-1:1,c;if(!g.shiftKey||this.singleSelect){this[h](false)}else{if(this.last!==false&&this.lastActive!==false){c=this.last;this.selectRange(this.last,this.lastActive+d);this.grid.getView().focusRow(this.lastActive);if(c!==false){this.last=c}}else{this.selectFirstRow()}}},onRefresh:function(){var g=this.grid.store,d=this.getSelections(),c=0,a=d.length,b,e;this.silent=true;this.clearSelections(true);for(;c<a;c++){e=d[c];if((b=g.indexOfId(e.id))!=-1){this.selectRow(b,true)}}if(d.length!=this.selections.getCount()){this.fireEvent("selectionchange",this)}this.silent=false},onRemove:function(a,b,c){if(this.selections.remove(c)!==false){this.fireEvent("selectionchange",this)}},onRowUpdated:function(a,b,c){if(this.isSelected(c)){a.onRowSelect(b)}},selectRecords:function(b,e){if(!e){this.clearSelections()}var d=this.grid.store,c=0,a=b.length;for(;c<a;c++){this.selectRow(d.indexOf(b[c]),true)}},getCount:function(){return this.selections.length},selectFirstRow:function(){this.selectRow(0)},selectLastRow:function(a){this.selectRow(this.grid.store.getCount()-1,a)},selectNext:function(a){if(this.hasNext()){this.selectRow(this.last+1,a);this.grid.getView().focusRow(this.last);return true}return false},selectPrevious:function(a){if(this.hasPrevious()){this.selectRow(this.last-1,a);this.grid.getView().focusRow(this.last);return true}return false},hasNext:function(){return this.last!==false&&(this.last+1)<this.grid.store.getCount()},hasPrevious:function(){return !!this.last},getSelections:function(){return[].concat(this.selections.items)},getSelected:function(){return this.selections.itemAt(0)},each:function(e,d){var c=this.getSelections(),b=0,a=c.length;for(;b<a;b++){if(e.call(d||this,c[b],b)===false){return false}}return true},clearSelections:function(a){if(this.isLocked()){return}if(a!==true){var c=this.grid.store,b=this.selections;b.each(function(d){this.deselectRow(c.indexOfId(d.id))},this);b.clear()}else{this.selections.clear()}this.last=false},selectAll:function(){if(this.isLocked()){return}this.selections.clear();for(var b=0,a=this.grid.store.getCount();b<a;b++){this.selectRow(b,true)}},hasSelection:function(){return this.selections.length>0},isSelected:function(a){var b=Ext.isNumber(a)?this.grid.store.getAt(a):a;return(b&&this.selections.key(b.id)?true:false)},isIdSelected:function(a){return(this.selections.key(a)?true:false)},handleMouseDown:function(d,i,h){if(h.button!==0||this.isLocked()){return}var a=this.grid.getView();if(h.shiftKey&&!this.singleSelect&&this.last!==false){var c=this.last;this.selectRange(c,i,h.ctrlKey);this.last=c;a.focusRow(i)}else{var b=this.isSelected(i);if(h.ctrlKey&&b){this.deselectRow(i)}else{if(!b||this.getCount()>1){this.selectRow(i,h.ctrlKey||h.shiftKey);a.focusRow(i)}}}},selectRows:function(c,d){if(!d){this.clearSelections()}for(var b=0,a=c.length;b<a;b++){this.selectRow(c[b],true)}},selectRange:function(b,a,d){var c;if(this.isLocked()){return}if(!d){this.clearSelections()}if(b<=a){for(c=b;c<=a;c++){this.selectRow(c,true)}}else{for(c=b;c>=a;c--){this.selectRow(c,true)}}},deselectRange:function(c,b,a){if(this.isLocked()){return}for(var d=c;d<=b;d++){this.deselectRow(d,a)}},selectRow:function(b,d,a){if(this.isLocked()||(b<0||b>=this.grid.store.getCount())||(d&&this.isSelected(b))){return}var c=this.grid.store.getAt(b);if(c&&this.fireEvent("beforerowselect",this,b,d,c)!==false){if(!d||this.singleSelect){this.clearSelections()}this.selections.add(c);this.last=this.lastActive=b;if(!a){this.grid.getView().onRowSelect(b)}if(!this.silent){this.fireEvent("rowselect",this,b,c);this.fireEvent("selectionchange",this)}}},deselectRow:function(b,a){if(this.isLocked()){return}if(this.last==b){this.last=false}if(this.lastActive==b){this.lastActive=false}var c=this.grid.store.getAt(b);if(c){this.selections.remove(c);if(!a){this.grid.getView().onRowDeselect(b)}this.fireEvent("rowdeselect",this,b,c);this.fireEvent("selectionchange",this)}},acceptsNav:function(c,b,a){return !a.isHidden(b)&&a.isCellEditable(b,c)},onEditorKey:function(n,l){var d=l.getKey(),h,i=this.grid,p=i.lastEdit,j=i.activeEditor,b=l.shiftKey,o,p,a,m;if(d==l.TAB){l.stopEvent();j.completeEdit();if(b){h=i.walkCells(j.row,j.col-1,-1,this.acceptsNav,this)}else{h=i.walkCells(j.row,j.col+1,1,this.acceptsNav,this)}}else{if(d==l.ENTER){if(this.moveEditorOnEnter!==false){if(b){h=i.walkCells(p.row-1,p.col,-1,this.acceptsNav,this)}else{h=i.walkCells(p.row+1,p.col,1,this.acceptsNav,this)}}}}if(h){a=h[0];m=h[1];this.onEditorSelect(a,p.row);if(i.isEditor&&i.editing){o=i.activeEditor;if(o&&o.field.triggerBlur){o.field.triggerBlur()}}i.startEditing(a,m)}},onEditorSelect:function(b,a){if(a!=b){this.selectRow(b)}},destroy:function(){Ext.destroy(this.rowNav);this.rowNav=null;Ext.grid.RowSelectionModel.superclass.destroy.call(this)}});Ext.grid.Column=Ext.extend(Ext.util.Observable,{isColumn:true,constructor:function(b){Ext.apply(this,b);if(Ext.isString(this.renderer)){this.renderer=Ext.util.Format[this.renderer]}else{if(Ext.isObject(this.renderer)){this.scope=this.renderer.scope;this.renderer=this.renderer.fn}}if(!this.scope){this.scope=this}var a=this.editor;delete this.editor;this.setEditor(a);this.addEvents("click","contextmenu","dblclick","mousedown");Ext.grid.Column.superclass.constructor.call(this)},processEvent:function(b,d,c,g,a){return this.fireEvent(b,this,c,g,d)},destroy:function(){if(this.setEditor){this.setEditor(null)}this.purgeListeners()},renderer:function(a){return a},getEditor:function(a){return this.editable!==false?this.editor:null},setEditor:function(b){var a=this.editor;if(a){if(a.gridEditor){a.gridEditor.destroy();delete a.gridEditor}else{a.destroy()}}this.editor=null;if(b){if(!b.isXType){b=Ext.create(b,"textfield")}this.editor=b}},getCellEditor:function(b){var a=this.getEditor(b);if(a){if(!a.startEdit){if(!a.gridEditor){a.gridEditor=new Ext.grid.GridEditor(a)}a=a.gridEditor}}return a}});Ext.grid.BooleanColumn=Ext.extend(Ext.grid.Column,{trueText:"true",falseText:"false",undefinedText:"&#160;",constructor:function(a){Ext.grid.BooleanColumn.superclass.constructor.call(this,a);var c=this.trueText,d=this.falseText,b=this.undefinedText;this.renderer=function(e){if(e===undefined){return b}if(!e||e==="false"){return d}return c}}});Ext.grid.NumberColumn=Ext.extend(Ext.grid.Column,{format:"0,000.00",constructor:function(a){Ext.grid.NumberColumn.superclass.constructor.call(this,a);this.renderer=Ext.util.Format.numberRenderer(this.format)}});Ext.grid.DateColumn=Ext.extend(Ext.grid.Column,{format:"m/d/Y",constructor:function(a){Ext.grid.DateColumn.superclass.constructor.call(this,a);this.renderer=Ext.util.Format.dateRenderer(this.format)}});Ext.grid.TemplateColumn=Ext.extend(Ext.grid.Column,{constructor:function(a){Ext.grid.TemplateColumn.superclass.constructor.call(this,a);var b=(!Ext.isPrimitive(this.tpl)&&this.tpl.compile)?this.tpl:new Ext.XTemplate(this.tpl);this.renderer=function(d,e,c){return b.apply(c.data)};this.tpl=b}});Ext.grid.ActionColumn=Ext.extend(Ext.grid.Column,{header:"&#160;",actionIdRe:/x-action-col-(\d+)/,altText:"",constructor:function(b){var g=this,c=b.items||(g.items=[g]),a=c.length,d,e;Ext.grid.ActionColumn.superclass.constructor.call(g,b);g.renderer=function(h,i){h=Ext.isFunction(b.renderer)?b.renderer.apply(this,arguments)||"":"";i.css+=" x-action-col-cell";for(d=0;d<a;d++){e=c[d];h+='<img alt="'+(e.altText||g.altText)+'" src="'+(e.icon||Ext.BLANK_IMAGE_URL)+'" class="x-action-col-icon x-action-col-'+String(d)+" "+(e.iconCls||"")+" "+(Ext.isFunction(e.getClass)?e.getClass.apply(e.scope||this.scope||this,arguments):"")+'"'+((e.tooltip)?' ext:qtip="'+e.tooltip+'"':"")+" />"}return h}},destroy:function(){delete this.items;delete this.renderer;return Ext.grid.ActionColumn.superclass.destroy.apply(this,arguments)},processEvent:function(c,i,d,j,b){var a=i.getTarget().className.match(this.actionIdRe),h,g;if(a&&(h=this.items[parseInt(a[1],10)])){if(c=="click"){(g=h.handler||this.handler)&&g.call(h.scope||this.scope||this,d,j,b,h,i)}else{if((c=="mousedown")&&(h.stopSelection!==false)){return false}}}return Ext.grid.ActionColumn.superclass.processEvent.apply(this,arguments)}});Ext.grid.Column.types={gridcolumn:Ext.grid.Column,booleancolumn:Ext.grid.BooleanColumn,numbercolumn:Ext.grid.NumberColumn,datecolumn:Ext.grid.DateColumn,templatecolumn:Ext.grid.TemplateColumn,actioncolumn:Ext.grid.ActionColumn};Ext.grid.RowNumberer=Ext.extend(Object,{header:"",width:23,sortable:false,constructor:function(a){Ext.apply(this,a);if(this.rowspan){this.renderer=this.renderer.createDelegate(this)}},fixed:true,hideable:false,menuDisabled:true,dataIndex:"",id:"numberer",rowspan:undefined,renderer:function(b,c,a,d){if(this.rowspan){c.cellAttr='rowspan="'+this.rowspan+'"'}return d+1}});Ext.grid.CheckboxSelectionModel=Ext.extend(Ext.grid.RowSelectionModel,{header:'<div class="x-grid3-hd-checker">&#160;</div>',width:20,sortable:false,menuDisabled:true,fixed:true,hideable:false,dataIndex:"",id:"checker",isColumn:true,constructor:function(){Ext.grid.CheckboxSelectionModel.superclass.constructor.apply(this,arguments);if(this.checkOnly){this.handleMouseDown=Ext.emptyFn}},initEvents:function(){Ext.grid.CheckboxSelectionModel.superclass.initEvents.call(this);this.grid.on("render",function(){Ext.fly(this.grid.getView().innerHd).on("mousedown",this.onHdMouseDown,this)},this)},processEvent:function(b,d,c,g,a){if(b=="mousedown"){this.onMouseDown(d,d.getTarget());return false}else{return Ext.grid.Column.prototype.processEvent.apply(this,arguments)}},onMouseDown:function(c,b){if(c.button===0&&b.className=="x-grid3-row-checker"){c.stopEvent();var d=c.getTarget(".x-grid3-row");if(d){var a=d.rowIndex;if(this.isSelected(a)){this.deselectRow(a)}else{this.selectRow(a,true);this.grid.getView().focusRow(a)}}}},onHdMouseDown:function(c,a){if(a.className=="x-grid3-hd-checker"){c.stopEvent();var b=Ext.fly(a.parentNode);var d=b.hasClass("x-grid3-hd-checker-on");if(d){b.removeClass("x-grid3-hd-checker-on");this.clearSelections()}else{b.addClass("x-grid3-hd-checker-on");this.selectAll()}}},renderer:function(b,c,a){return'<div class="x-grid3-row-checker">&#160;</div>'},onEditorSelect:function(b,a){if(a!=b&&!this.checkOnly){this.selectRow(b)}}});Ext.grid.CellSelectionModel=Ext.extend(Ext.grid.AbstractSelectionModel,{constructor:function(a){Ext.apply(this,a);this.selection=null;this.addEvents("beforecellselect","cellselect","selectionchange");Ext.grid.CellSelectionModel.superclass.constructor.call(this)},initEvents:function(){this.grid.on("cellmousedown",this.handleMouseDown,this);this.grid.on(Ext.EventManager.getKeyEvent(),this.handleKeyDown,this);this.grid.getView().on({scope:this,refresh:this.onViewChange,rowupdated:this.onRowUpdated,beforerowremoved:this.clearSelections,beforerowsinserted:this.clearSelections});if(this.grid.isEditor){this.grid.on("beforeedit",this.beforeEdit,this)}},beforeEdit:function(a){this.select(a.row,a.column,false,true,a.record)},onRowUpdated:function(a,b,c){if(this.selection&&this.selection.record==c){a.onCellSelect(b,this.selection.cell[1])}},onViewChange:function(){this.clearSelections(true)},getSelectedCell:function(){return this.selection?this.selection.cell:null},clearSelections:function(b){var a=this.selection;if(a){if(b!==true){this.grid.view.onCellDeselect(a.cell[0],a.cell[1])}this.selection=null;this.fireEvent("selectionchange",this,null)}},hasSelection:function(){return this.selection?true:false},handleMouseDown:function(b,d,a,c){if(c.button!==0||this.isLocked()){return}this.select(d,a)},select:function(g,c,b,e,d){if(this.fireEvent("beforecellselect",this,g,c)!==false){this.clearSelections();d=d||this.grid.store.getAt(g);this.selection={record:d,cell:[g,c]};if(!b){var a=this.grid.getView();a.onCellSelect(g,c);if(e!==true){a.focusCell(g,c)}}this.fireEvent("cellselect",this,g,c);this.fireEvent("selectionchange",this,this.selection)}},isSelectable:function(c,b,a){return !a.isHidden(b)},onEditorKey:function(b,a){if(a.getKey()==a.TAB){this.handleKeyDown(a)}},handleKeyDown:function(j){if(!j.isNavKeyPress()){return}var d=j.getKey(),i=this.grid,p=this.selection,b=this,m=function(g,c,e){return i.walkCells(g,c,e,i.isEditor&&i.editing?b.acceptsNav:b.isSelectable,b)},o,h,a,l,n;switch(d){case j.ESC:case j.PAGE_UP:case j.PAGE_DOWN:break;default:j.stopEvent();break}if(!p){o=m(0,0,1);if(o){this.select(o[0],o[1])}return}o=p.cell;a=o[0];l=o[1];switch(d){case j.TAB:if(j.shiftKey){h=m(a,l-1,-1)}else{h=m(a,l+1,1)}break;case j.DOWN:h=m(a+1,l,1);break;case j.UP:h=m(a-1,l,-1);break;case j.RIGHT:h=m(a,l+1,1);break;case j.LEFT:h=m(a,l-1,-1);break;case j.ENTER:if(i.isEditor&&!i.editing){i.startEditing(a,l);return}break}if(h){a=h[0];l=h[1];this.select(a,l);if(i.isEditor&&i.editing){n=i.activeEditor;if(n&&n.field.triggerBlur){n.field.triggerBlur()}i.startEditing(a,l)}}},acceptsNav:function(c,b,a){return !a.isHidden(b)&&a.isCellEditable(b,c)}});Ext.grid.EditorGridPanel=Ext.extend(Ext.grid.GridPanel,{clicksToEdit:2,forceValidation:false,isEditor:true,detectEdit:false,autoEncode:false,trackMouseOver:false,initComponent:function(){Ext.grid.EditorGridPanel.superclass.initComponent.call(this);if(!this.selModel){this.selModel=new Ext.grid.CellSelectionModel()}this.activeEditor=null;this.addEvents("beforeedit","afteredit","validateedit")},initEvents:function(){Ext.grid.EditorGridPanel.superclass.initEvents.call(this);this.getGridEl().on("mousewheel",this.stopEditing.createDelegate(this,[true]),this);this.on("columnresize",this.stopEditing,this,[true]);if(this.clicksToEdit==1){this.on("cellclick",this.onCellDblClick,this)}else{var a=this.getView();if(this.clicksToEdit=="auto"&&a.mainBody){a.mainBody.on("mousedown",this.onAutoEditClick,this)}this.on("celldblclick",this.onCellDblClick,this)}},onResize:function(){Ext.grid.EditorGridPanel.superclass.onResize.apply(this,arguments);var a=this.activeEditor;if(this.editing&&a){a.realign(true)}},onCellDblClick:function(b,c,a){this.startEditing(c,a)},onAutoEditClick:function(c,b){if(c.button!==0){return}var g=this.view.findRowIndex(b),a=this.view.findCellIndex(b);if(g!==false&&a!==false){this.stopEditing();if(this.selModel.getSelectedCell){var d=this.selModel.getSelectedCell();if(d&&d[0]===g&&d[1]===a){this.startEditing(g,a)}}else{if(this.selModel.isSelected(g)){this.startEditing(g,a)}}}},onEditComplete:function(b,d,a){this.editing=false;this.lastActiveEditor=this.activeEditor;this.activeEditor=null;var c=b.record,h=this.colModel.getDataIndex(b.col);d=this.postEditValue(d,a,c,h);if(this.forceValidation===true||String(d)!==String(a)){var g={grid:this,record:c,field:h,originalValue:a,value:d,row:b.row,column:b.col,cancel:false};if(this.fireEvent("validateedit",g)!==false&&!g.cancel&&String(d)!==String(a)){c.set(h,g.value);delete g.cancel;this.fireEvent("afteredit",g)}}this.view.focusCell(b.row,b.col)},startEditing:function(i,c){this.stopEditing();if(this.colModel.isCellEditable(c,i)){this.view.ensureVisible(i,c,true);var d=this.store.getAt(i),h=this.colModel.getDataIndex(c),g={grid:this,record:d,field:h,value:d.data[h],row:i,column:c,cancel:false};if(this.fireEvent("beforeedit",g)!==false&&!g.cancel){this.editing=true;var b=this.colModel.getCellEditor(c,i);if(!b){return}if(!b.rendered){b.parentEl=this.view.getEditorParent(b);b.on({scope:this,render:{fn:function(e){e.field.focus(false,true)},single:true,scope:this},specialkey:function(k,j){this.getSelectionModel().onEditorKey(k,j)},complete:this.onEditComplete,canceledit:this.stopEditing.createDelegate(this,[true])})}Ext.apply(b,{row:i,col:c,record:d});this.lastEdit={row:i,col:c};this.activeEditor=b;b.selectSameEditor=(this.activeEditor==this.lastActiveEditor);var a=this.preEditValue(d,h);b.startEdit(this.view.getCell(i,c).firstChild,Ext.isDefined(a)?a:"");(function(){delete b.selectSameEditor}).defer(50)}}},preEditValue:function(a,c){var b=a.data[c];return this.autoEncode&&Ext.isString(b)?Ext.util.Format.htmlDecode(b):b},postEditValue:function(c,a,b,d){return this.autoEncode&&Ext.isString(c)?Ext.util.Format.htmlEncode(c):c},stopEditing:function(b){if(this.editing){var a=this.lastActiveEditor=this.activeEditor;if(a){a[b===true?"cancelEdit":"completeEdit"]();this.view.focusCell(a.row,a.col)}this.activeEditor=null}this.editing=false}});Ext.reg("editorgrid",Ext.grid.EditorGridPanel);Ext.grid.GridEditor=function(b,a){Ext.grid.GridEditor.superclass.constructor.call(this,b,a);b.monitorTab=false};Ext.extend(Ext.grid.GridEditor,Ext.Editor,{alignment:"tl-tl",autoSize:"width",hideEl:false,cls:"x-small-editor x-grid-editor",shim:false,shadow:false});Ext.grid.PropertyRecord=Ext.data.Record.create([{name:"name",type:"string"},"value"]);Ext.grid.PropertyStore=Ext.extend(Ext.util.Observable,{constructor:function(a,b){this.grid=a;this.store=new Ext.data.Store({recordType:Ext.grid.PropertyRecord});this.store.on("update",this.onUpdate,this);if(b){this.setSource(b)}Ext.grid.PropertyStore.superclass.constructor.call(this)},setSource:function(c){this.source=c;this.store.removeAll();var b=[];for(var a in c){if(this.isEditableValue(c[a])){b.push(new Ext.grid.PropertyRecord({name:a,value:c[a]},a))}}this.store.loadRecords({records:b},{},true)},onUpdate:function(e,a,d){if(d==Ext.data.Record.EDIT){var b=a.data.value;var c=a.modified.value;if(this.grid.fireEvent("beforepropertychange",this.source,a.id,b,c)!==false){this.source[a.id]=b;a.commit();this.grid.fireEvent("propertychange",this.source,a.id,b,c)}else{a.reject()}}},getProperty:function(a){return this.store.getAt(a)},isEditableValue:function(a){return Ext.isPrimitive(a)||Ext.isDate(a)},setValue:function(d,c,a){var b=this.getRec(d);if(b){b.set("value",c);this.source[d]=c}else{if(a){this.source[d]=c;b=new Ext.grid.PropertyRecord({name:d,value:c},d);this.store.add(b)}}},remove:function(b){var a=this.getRec(b);if(a){this.store.remove(a);delete this.source[b]}},getRec:function(a){return this.store.getById(a)},getSource:function(){return this.source}});Ext.grid.PropertyColumnModel=Ext.extend(Ext.grid.ColumnModel,{nameText:"Name",valueText:"Value",dateFormat:"m/j/Y",trueText:"true",falseText:"false",constructor:function(c,b){var d=Ext.grid,e=Ext.form;this.grid=c;d.PropertyColumnModel.superclass.constructor.call(this,[{header:this.nameText,width:50,sortable:true,dataIndex:"name",id:"name",menuDisabled:true},{header:this.valueText,width:50,resizable:false,dataIndex:"value",id:"value",menuDisabled:true}]);this.store=b;var a=new e.Field({autoCreate:{tag:"select",children:[{tag:"option",value:"true",html:this.trueText},{tag:"option",value:"false",html:this.falseText}]},getValue:function(){return this.el.dom.value=="true"}});this.editors={date:new d.GridEditor(new e.DateField({selectOnFocus:true})),string:new d.GridEditor(new e.TextField({selectOnFocus:true})),number:new d.GridEditor(new e.NumberField({selectOnFocus:true,style:"text-align:left;"})),"boolean":new d.GridEditor(a,{autoSize:"both"})};this.renderCellDelegate=this.renderCell.createDelegate(this);this.renderPropDelegate=this.renderProp.createDelegate(this)},renderDate:function(a){return a.dateFormat(this.dateFormat)},renderBool:function(a){return this[a?"trueText":"falseText"]},isCellEditable:function(a,b){return a==1},getRenderer:function(a){return a==1?this.renderCellDelegate:this.renderPropDelegate},renderProp:function(a){return this.getPropertyName(a)},renderCell:function(d,b,c){var a=this.grid.customRenderers[c.get("name")];if(a){return a.apply(this,arguments)}var e=d;if(Ext.isDate(d)){e=this.renderDate(d)}else{if(typeof d=="boolean"){e=this.renderBool(d)}}return Ext.util.Format.htmlEncode(e)},getPropertyName:function(b){var a=this.grid.propertyNames;return a&&a[b]?a[b]:b},getCellEditor:function(a,e){var b=this.store.getProperty(e),d=b.data.name,c=b.data.value;if(this.grid.customEditors[d]){return this.grid.customEditors[d]}if(Ext.isDate(c)){return this.editors.date}else{if(typeof c=="number"){return this.editors.number}else{if(typeof c=="boolean"){return this.editors["boolean"]}else{return this.editors.string}}}},destroy:function(){Ext.grid.PropertyColumnModel.superclass.destroy.call(this);this.destroyEditors(this.editors);this.destroyEditors(this.grid.customEditors)},destroyEditors:function(b){for(var a in b){Ext.destroy(b[a])}}});Ext.grid.PropertyGrid=Ext.extend(Ext.grid.EditorGridPanel,{enableColumnMove:false,stripeRows:false,trackMouseOver:false,clicksToEdit:1,enableHdMenu:false,viewConfig:{forceFit:true},initComponent:function(){this.customRenderers=this.customRenderers||{};this.customEditors=this.customEditors||{};this.lastEditRow=null;var b=new Ext.grid.PropertyStore(this);this.propStore=b;var a=new Ext.grid.PropertyColumnModel(this,b);b.store.sort("name","ASC");this.addEvents("beforepropertychange","propertychange");this.cm=a;this.ds=b.store;Ext.grid.PropertyGrid.superclass.initComponent.call(this);this.mon(this.selModel,"beforecellselect",function(e,d,c){if(c===0){this.startEditing.defer(200,this,[d,1]);return false}},this)},onRender:function(){Ext.grid.PropertyGrid.superclass.onRender.apply(this,arguments);this.getGridEl().addClass("x-props-grid")},afterRender:function(){Ext.grid.PropertyGrid.superclass.afterRender.apply(this,arguments);if(this.source){this.setSource(this.source)}},setSource:function(a){this.propStore.setSource(a)},getSource:function(){return this.propStore.getSource()},setProperty:function(c,b,a){this.propStore.setValue(c,b,a)},removeProperty:function(a){this.propStore.remove(a)}});Ext.reg("propertygrid",Ext.grid.PropertyGrid);Ext.grid.GroupingView=Ext.extend(Ext.grid.GridView,{groupByText:"Group By This Field",showGroupsText:"Show in Groups",hideGroupedColumn:false,showGroupName:true,startCollapsed:false,enableGrouping:true,enableGroupingMenu:true,enableNoGroups:true,emptyGroupText:"(None)",ignoreAdd:false,groupTextTpl:"{text}",groupMode:"value",cancelEditOnToggle:true,initTemplates:function(){Ext.grid.GroupingView.superclass.initTemplates.call(this);this.state={};var a=this.grid.getSelectionModel();a.on(a.selectRow?"beforerowselect":"beforecellselect",this.onBeforeRowSelect,this);if(!this.startGroup){this.startGroup=new Ext.XTemplate('<div id="{groupId}" class="x-grid-group {cls}">','<div id="{groupId}-hd" class="x-grid-group-hd" style="{style}"><div class="x-grid-group-title">',this.groupTextTpl,"</div></div>",'<div id="{groupId}-bd" class="x-grid-group-body">')}this.startGroup.compile();if(!this.endGroup){this.endGroup="</div></div>"}},findGroup:function(a){return Ext.fly(a).up(".x-grid-group",this.mainBody.dom)},getGroups:function(){return this.hasRows()?this.mainBody.dom.childNodes:[]},onAdd:function(d,a,b){if(this.canGroup()&&!this.ignoreAdd){var c=this.getScrollState();this.fireEvent("beforerowsinserted",d,b,b+(a.length-1));this.refresh();this.restoreScroll(c);this.fireEvent("rowsinserted",d,b,b+(a.length-1))}else{if(!this.canGroup()){Ext.grid.GroupingView.superclass.onAdd.apply(this,arguments)}}},onRemove:function(e,a,b,d){Ext.grid.GroupingView.superclass.onRemove.apply(this,arguments);var c=document.getElementById(a._groupId);if(c&&c.childNodes[1].childNodes.length<1){Ext.removeNode(c)}this.applyEmptyText()},refreshRow:function(a){if(this.ds.getCount()==1){this.refresh()}else{this.isUpdating=true;Ext.grid.GroupingView.superclass.refreshRow.apply(this,arguments);this.isUpdating=false}},beforeMenuShow:function(){var c,a=this.hmenu.items,b=this.cm.config[this.hdCtxIndex].groupable===false;if((c=a.get("groupBy"))){c.setDisabled(b)}if((c=a.get("showGroups"))){c.setDisabled(b);c.setChecked(this.canGroup(),true)}},renderUI:function(){var a=Ext.grid.GroupingView.superclass.renderUI.call(this);if(this.enableGroupingMenu&&this.hmenu){this.hmenu.add("-",{itemId:"groupBy",text:this.groupByText,handler:this.onGroupByClick,scope:this,iconCls:"x-group-by-icon"});if(this.enableNoGroups){this.hmenu.add({itemId:"showGroups",text:this.showGroupsText,checked:true,checkHandler:this.onShowGroupsClick,scope:this})}this.hmenu.on("beforeshow",this.beforeMenuShow,this)}return a},processEvent:function(b,i){Ext.grid.GroupingView.superclass.processEvent.call(this,b,i);var h=i.getTarget(".x-grid-group-hd",this.mainBody);if(h){var g=this.getGroupField(),d=this.getPrefix(g),a=h.id.substring(d.length),c=new RegExp("gp-"+Ext.escapeRe(g)+"--hd");a=a.substr(0,a.length-3);if(a||c.test(h.id)){this.grid.fireEvent("group"+b,this.grid,g,a,i)}if(b=="mousedown"&&i.button==0){this.toggleGroup(h.parentNode)}}},onGroupByClick:function(){var a=this.grid;this.enableGrouping=true;a.store.groupBy(this.cm.getDataIndex(this.hdCtxIndex));a.fireEvent("groupchange",a,a.store.getGroupState());this.beforeMenuShow();this.refresh()},onShowGroupsClick:function(a,b){this.enableGrouping=b;if(b){this.onGroupByClick()}else{this.grid.store.clearGrouping();this.grid.fireEvent("groupchange",this,null)}},toggleRowIndex:function(c,a){if(!this.canGroup()){return}var b=this.getRow(c);if(b){this.toggleGroup(this.findGroup(b),a)}},toggleGroup:function(c,b){var a=Ext.get(c),d=Ext.util.Format.htmlEncode(a.id);b=Ext.isDefined(b)?b:a.hasClass("x-grid-group-collapsed");if(this.state[d]!==b){if(this.cancelEditOnToggle!==false){this.grid.stopEditing(true)}this.state[d]=b;a[b?"removeClass":"addClass"]("x-grid-group-collapsed")}},toggleAllGroups:function(c){var b=this.getGroups();for(var d=0,a=b.length;d<a;d++){this.toggleGroup(b[d],c)}},expandAllGroups:function(){this.toggleAllGroups(true)},collapseAllGroups:function(){this.toggleAllGroups(false)},getGroup:function(a,e,i,j,b,h){var c=this.cm.config[b],d=i?i.call(c.scope,a,{},e,j,b,h):String(a);if(d===""||d==="&#160;"){d=c.emptyGroupText||this.emptyGroupText}return d},getGroupField:function(){return this.grid.store.getGroupState()},afterRender:function(){if(!this.ds||!this.cm){return}Ext.grid.GroupingView.superclass.afterRender.call(this);if(this.grid.deferRowRender){this.updateGroupWidths()}},afterRenderUI:function(){Ext.grid.GroupingView.superclass.afterRenderUI.call(this);if(this.enableGroupingMenu&&this.hmenu){this.hmenu.add("-",{itemId:"groupBy",text:this.groupByText,handler:this.onGroupByClick,scope:this,iconCls:"x-group-by-icon"});if(this.enableNoGroups){this.hmenu.add({itemId:"showGroups",text:this.showGroupsText,checked:true,checkHandler:this.onShowGroupsClick,scope:this})}this.hmenu.on("beforeshow",this.beforeMenuShow,this)}},renderRows:function(){var a=this.getGroupField();var e=!!a;if(this.hideGroupedColumn){var b=this.cm.findColumnIndex(a),d=Ext.isDefined(this.lastGroupField);if(!e&&d){this.mainBody.update("");this.cm.setHidden(this.cm.findColumnIndex(this.lastGroupField),false);delete this.lastGroupField}else{if(e&&!d){this.lastGroupField=a;this.cm.setHidden(b,true)}else{if(e&&d&&a!==this.lastGroupField){this.mainBody.update("");var c=this.cm.findColumnIndex(this.lastGroupField);this.cm.setHidden(c,false);this.lastGroupField=a;this.cm.setHidden(b,true)}}}}return Ext.grid.GroupingView.superclass.renderRows.apply(this,arguments)},doRender:function(c,h,q,a,p,s){if(h.length<1){return""}if(!this.canGroup()||this.isUpdating){return Ext.grid.GroupingView.superclass.doRender.apply(this,arguments)}var z=this.getGroupField(),o=this.cm.findColumnIndex(z),w,j="width:"+this.getTotalWidth()+";",e=this.cm.config[o],b=e.groupRenderer||e.renderer,t=this.showGroupName?(e.groupName||e.header)+": ":"",y=[],l,u,v,n;for(u=0,v=h.length;u<v;u++){var k=a+u,m=h[u],d=m.data[z];w=this.getGroup(d,m,b,k,o,q);if(!l||l.group!=w){n=this.constructId(d,z,o);this.state[n]=!(Ext.isDefined(this.state[n])?!this.state[n]:this.startCollapsed);l={group:w,gvalue:d,text:t+w,groupId:n,startRow:k,rs:[m],cls:this.state[n]?"":"x-grid-group-collapsed",style:j};y.push(l)}else{l.rs.push(m)}m._groupId=n}var x=[];for(u=0,v=y.length;u<v;u++){w=y[u];this.doGroupStart(x,w,c,q,p);x[x.length]=Ext.grid.GroupingView.superclass.doRender.call(this,c,w.rs,q,w.startRow,p,s);this.doGroupEnd(x,w,c,q,p)}return x.join("")},getGroupId:function(a){var b=this.getGroupField();return this.constructId(a,b,this.cm.findColumnIndex(b))},constructId:function(c,e,a){var b=this.cm.config[a],d=b.groupRenderer||b.renderer,g=(this.groupMode=="value")?c:this.getGroup(c,{data:{}},d,0,a,this.ds);return this.getPrefix(e)+Ext.util.Format.htmlEncode(g)},canGroup:function(){return this.enableGrouping&&!!this.getGroupField()},getPrefix:function(a){return this.grid.getGridEl().id+"-gp-"+a+"-"},doGroupStart:function(a,d,b,e,c){a[a.length]=this.startGroup.apply(d)},doGroupEnd:function(a,d,b,e,c){a[a.length]=this.endGroup},getRows:function(){if(!this.canGroup()){return Ext.grid.GroupingView.superclass.getRows.call(this)}var k=[],c=this.getGroups(),h,e=0,a=c.length,d,b;for(;e<a;++e){h=c[e].childNodes[1];if(h){h=h.childNodes;for(d=0,b=h.length;d<b;++d){k[k.length]=h[d]}}}return k},updateGroupWidths:function(){if(!this.canGroup()||!this.hasRows()){return}var c=Math.max(this.cm.getTotalWidth(),this.el.dom.offsetWidth-this.getScrollOffset())+"px";var b=this.getGroups();for(var d=0,a=b.length;d<a;d++){b[d].firstChild.style.width=c}},onColumnWidthUpdated:function(c,a,b){Ext.grid.GroupingView.superclass.onColumnWidthUpdated.call(this,c,a,b);this.updateGroupWidths()},onAllColumnWidthsUpdated:function(a,b){Ext.grid.GroupingView.superclass.onAllColumnWidthsUpdated.call(this,a,b);this.updateGroupWidths()},onColumnHiddenUpdated:function(b,c,a){Ext.grid.GroupingView.superclass.onColumnHiddenUpdated.call(this,b,c,a);this.updateGroupWidths()},onLayout:function(){this.updateGroupWidths()},onBeforeRowSelect:function(b,a){this.toggleRowIndex(a,true)}});Ext.grid.GroupingView.GROUP_ID=1000;
</script>

<script id="ga" type="x">
(function(){var aa="_gat",ba="_gaq",r=true,v=false,w=undefined,ca="4.6.5",x="length",y="cookie",A="location",B="&",C="=",D="__utma=",E="__utmb=",G="__utmc=",da="__utmk=",H="__utmv=",J="__utmz=",K="__utmx=",L="GASO=";var N=function(i){return w==i||"-"==i||""==i},ea=function(i){return i[x]>0&&" \n\r\t".indexOf(i)>-1},P=function(i,l,g){var t="-",k;if(!N(i)&&!N(l)&&!N(g)){k=i.indexOf(l);if(k>-1){g=i.indexOf(g,k);if(g<0)g=i[x];t=O(i,k+l.indexOf(C)+1,g)}}return t},Q=function(i){var l=v,g=0,t,k;if(!N(i)){l=r;for(t=0;t<i[x];t++){k=i.charAt(t);g+="."==k?1:0;l=l&&g<=1&&(0==t&&"-"==k||".0123456789".indexOf(k)>-1)}}return l},S=function(i,l){var g=encodeURIComponent;return g instanceof Function?l?encodeURI(i):g(i):escape(i)},
T=function(i,l){var g=decodeURIComponent,t;i=i.split("+").join(" ");if(g instanceof Function)try{t=l?decodeURI(i):g(i)}catch(k){t=unescape(i)}else t=unescape(i);return t},U=function(i,l){return i.indexOf(l)>-1},V=function(i,l){i[i[x]]=l},W=function(i){return i.toLowerCase()},X=function(i,l){return i.split(l)},fa=function(i,l){return i.indexOf(l)},O=function(i,l,g){g=w==g?i[x]:g;return i.substring(l,g)},ga=function(i,l){return i.join(l)},ia=function(i){var l=1,g=0,t;if(!N(i)){l=0;for(t=i[x]-1;t>=0;t--){g=
i.charCodeAt(t);l=(l<<6&268435455)+g+(g<<14);g=l&266338304;l=g!=0?l^g>>21:l}}return l},ja=function(){var i=window,l=w;if(i&&i.gaGlobal&&i.gaGlobal.hid)l=i.gaGlobal.hid;else{l=Y();i.gaGlobal=i.gaGlobal?i.gaGlobal:{};i.gaGlobal.hid=l}return l},Y=function(){return Math.round(Math.random()*2147483647)},Z={Ha:function(i,l){this.bb=i;this.nb=l},ib:v,_gasoDomain:w,_gasoCPath:w};Z.Gb=function(){function i(k){return new t(k[0],k[1])}function l(k){var p=[];k=k.split(",");var f;for(f=0;f<k.length;++f)p.push(i(k[f].split(":")));return p}var g=this,t=Z.Ha;g.Ia="utm_campaign";g.Ja="utm_content";g.Ka="utm_id";g.La="utm_medium";g.Ma="utm_nooverride";g.Na="utm_source";g.Oa="utm_term";g.Pa="gclid";g.ba=0;g.z=0;g.Ta=15768E6;g.sb=18E5;g.v=63072E6;g.ta=[];g.va=[];g.nc="cse";g.oc="q";g.ob=5;g.T=l("daum:q,eniro:search_word,naver:query,images.google:q,google:q,yahoo:p,msn:q,bing:q,aol:query,aol:encquery,lycos:query,ask:q,altavista:q,netscape:query,cnn:query,about:terms,mamma:query,alltheweb:q,voila:rdata,virgilio:qs,live:q,baidu:wd,alice:qs,yandex:text,najdi:q,aol:q,mama:query,seznam:q,search:q,wp:szukaj,onet:qt,szukacz:q,yam:k,pchome:q,kvasir:q,sesam:q,ozu:q,terra:query,mynet:q,ekolay:q,rambler:words");
g.t=w;g.lb=v;g.h="/";g.U=100;g.oa="/__utm.gif";g.ga=1;g.ha=1;g.u="|";g.fa=1;g.da=1;g.Ra=1;g.b="auto";g.I=1;g.ra=1E3;g.Jc=10;g.Pb=10;g.Kc=0.2;g.o=w;g.a=document;g.e=window};Z.Hb=function(i){function l(d,a,j,c){var n="",s=0;n=P(d,"2"+a,";");if(!N(n)){d=n.indexOf("^"+j+".");if(d<0)return["",0];n=O(n,d+j[x]+2);if(n.indexOf("^")>0)n=n.split("^")[0];j=n.split(":");n=j[1];s=parseInt(j[0],10);if(!c&&s<p.r)n=""}if(N(n))n="";return[n,s]}function g(d,a){return"^"+ga([[a,d[1]].join("."),d[0]],":")}function t(d,a){f.a[y]=d+"; path="+f.h+"; "+a+p.fb()}function k(d){var a=new Date;d=new Date(a.getTime()+d);return"expires="+d.toGMTString()+"; "}var p=this,f=i;p.r=(new Date).getTime();
var h=[D,E,G,J,H,K,L];p.k=function(){var d=f.a[y];return f.o?p.Wb(d,f.o):d};p.Wb=function(d,a){var j=[],c,n;for(c=0;c<h[x];c++){n=l(d,h[c],a)[0];N(n)||(j[j[x]]=h[c]+n+";")}return j.join("")};p.l=function(d,a,j){var c=j>0?k(j):"";if(f.o){a=p.kc(f.a[y],d,f.o,a,j);d="2"+d;c=j>0?k(f.v):""}t(d+a,c)};p.kc=function(d,a,j,c,n){var s="";n=n||f.v;c=g([c,p.r+n*1],j);s=P(d,"2"+a,";");if(!N(s)){d=g(l(d,a,j,r),j);s=ga(s.split(d),"");return s=c+s}return c};p.fb=function(){return N(f.b)?"":"domain="+f.b+";"}};Z.$=function(i){function l(b){b=b instanceof Array?b.join("."):"";return N(b)?"-":b}function g(b,e){var o=[];if(!N(b)){o=b.split(".");if(e)for(b=0;b<o[x];b++)Q(o[b])||(o[b]="-")}return o}function t(b,e,o){var m=c.M,q,u;for(q=0;q<m[x];q++){u=m[q][0];u+=N(e)?e:e+m[q][4];m[q][2](P(b,u,o))}}var k,p,f,h,d,a,j,c=this,n,s=i;c.j=new Z.Hb(i);c.kb=function(){return w==n||n==c.P()};c.k=function(){return c.j.k()};c.ma=function(){return d?d:"-"};c.vb=function(b){d=b};c.za=function(b){n=Q(b)?b*1:"-"};c.la=function(){return l(a)};
c.Aa=function(b){a=g(b)};c.Vb=function(){c.j.l(H,"",-1)};c.lc=function(){return n?n:"-"};c.fb=function(){return N(s.b)?"":"domain="+s.b+";"};c.ja=function(){return l(k)};c.tb=function(b){k=g(b,1)};c.C=function(){return l(p)};c.ya=function(b){p=g(b,1)};c.ka=function(){return l(f)};c.ub=function(b){f=g(b,1)};c.na=function(){return l(h)};c.wb=function(b){h=g(b);for(b=0;b<h[x];b++)if(b<4&&!Q(h[b]))h[b]="-"};c.fc=function(){return j};c.Dc=function(b){j=b};c.Sb=function(){k=[];p=[];f=[];h=[];d=w;a=[];n=
w};c.P=function(){var b="",e;for(e=0;e<c.M[x];e++)b+=c.M[e][1]();return ia(b)};c.ua=function(b){var e=c.k(),o=v;if(e){t(e,b,";");c.za(c.P());o=r}return o};c.zc=function(b){t(b,"",B);c.za(P(b,da,B))};c.Hc=function(){var b=c.M,e=[],o;for(o=0;o<b[x];o++)V(e,b[o][0]+b[o][1]());V(e,da+c.P());return e.join(B)};c.Nc=function(b,e){var o=c.M,m=s.h;c.ua(b);s.h=e;for(b=0;b<o[x];b++)N(o[b][1]())||o[b][3]();s.h=m};c.Cb=function(){c.j.l(D,c.ja(),s.v)};c.Ea=function(){c.j.l(E,c.C(),s.sb)};c.Db=function(){c.j.l(G,
c.ka(),0)};c.Ga=function(){c.j.l(J,c.na(),s.Ta)};c.Eb=function(){c.j.l(K,c.ma(),s.v)};c.Fa=function(){c.j.l(H,c.la(),s.v)};c.Oc=function(){c.j.l(L,c.fc(),0)};c.M=[[D,c.ja,c.tb,c.Cb,"."],[E,c.C,c.ya,c.Ea,""],[G,c.ka,c.ub,c.Db,""],[K,c.ma,c.vb,c.Eb,""],[J,c.na,c.wb,c.Ga,"."],[H,c.la,c.Aa,c.Fa,"."]]};Z.Kb=function(i){var l=this,g=i,t=new Z.$(g),k=function(){},p=function(f){var h=(new Date).getTime(),d;d=(h-f[3])*(g.Kc/1E3);if(d>=1){f[2]=Math.min(Math.floor(f[2]*1+d),g.Pb);f[3]=h}return f};l.H=function(f,h,d,a,j,c){var n,s=g.I,b=g.a[A];t.ua(d);n=X(t.C(),".");if(n[1]<500||a){if(j)n=p(n);if(a||!j||n[2]>=1){if(!a&&j)n[2]=n[2]*1-1;n[1]=n[1]*1+1;f="?utmwv="+ca+"&utmn="+Y()+(N(b.hostname)?"":"&utmhn="+S(b.hostname))+(g.U==100?"":"&utmsp="+S(g.U))+f;if(0==s||2==s){a=2==s?k:c||k;l.$a(g.oa+f,a)}if(1==s||
2==s){f=("https:"==b.protocol?"https://ssl.google-analytics.com/__utm.gif":"http://www.google-analytics.com/__utm.gif")+f+"&utmac="+h+"&utmcc="+l.ac(d);if(ka)f+="&gaq=1";l.$a(f,c)}}}t.ya(n.join("."));t.Ea()};l.$a=function(f,h){var d=new Image(1,1);d.src=f;d.onload=function(){d.onload=null;(h||k)()}};l.ac=function(f){var h=[],d=[D,J,H,K],a,j=t.k(),c;for(a=0;a<d[x];a++){c=P(j,d[a]+f,";");if(!N(c)){if(d[a]==H){c=X(c.split(f+".")[1],"|")[0];if(N(c))continue;c=f+"."+c}V(h,d[a]+c+";")}}return S(h.join("+"))}};Z.n=function(){var i=this;i.Y=[];i.hb=function(l){var g,t=i.Y,k;for(k=0;k<t.length;k++)g=l==t[k].q?t[k]:g;return g};i.Ob=function(l,g,t,k,p,f,h,d){var a=i.hb(l);if(w==a){a=new Z.n.Mb(l,g,t,k,p,f,h,d);V(i.Y,a)}else{a.Qa=g;a.Ab=t;a.zb=k;a.xb=p;a.Xa=f;a.yb=h;a.Za=d}return a}};Z.n.Lb=function(i,l,g,t,k,p){var f=this;f.Bb=i;f.Ba=l;f.D=g;f.Va=t;f.pb=k;f.qb=p;f.Ca=function(){return"&"+["utmt=item","tid="+S(f.Bb),"ipc="+S(f.Ba),"ipn="+S(f.D),"iva="+S(f.Va),"ipr="+S(f.pb),"iqt="+S(f.qb)].join("&utm")}};
Z.n.Mb=function(i,l,g,t,k,p,f,h){var d=this;d.q=i;d.Qa=l;d.Ab=g;d.zb=t;d.xb=k;d.Xa=p;d.yb=f;d.Za=h;d.R=[];d.Nb=function(a,j,c,n,s){var b=d.gc(a),e=d.q;if(w==b)V(d.R,new Z.n.Lb(e,a,j,c,n,s));else{b.Bb=e;b.Ba=a;b.D=j;b.Va=c;b.pb=n;b.qb=s}};d.gc=function(a){var j,c=d.R,n;for(n=0;n<c.length;n++)j=a==c[n].Ba?c[n]:j;return j};d.Ca=function(){return"&"+["utmt=tran","id="+S(d.q),"st="+S(d.Qa),"to="+S(d.Ab),"tx="+S(d.zb),"sp="+S(d.xb),"ci="+S(d.Xa),"rg="+S(d.yb),"co="+S(d.Za)].join("&utmt")}};Z.Fb=function(i){function l(){var f,h,d;h="ShockwaveFlash";var a="$version",j=k.d?k.d.plugins:w;if(j&&j[x]>0)for(f=0;f<j[x]&&!d;f++){h=j[f];if(U(h.name,"Shockwave Flash"))d=h.description.split("Shockwave Flash ")[1]}else{h=h+"."+h;try{f=new ActiveXObject(h+".7");d=f.GetVariable(a)}catch(c){}if(!d)try{f=new ActiveXObject(h+".6");d="WIN 6,0,21,0";f.AllowScriptAccess="always";d=f.GetVariable(a)}catch(n){}if(!d)try{f=new ActiveXObject(h);d=f.GetVariable(a)}catch(s){}if(d){d=X(d.split(" ")[1],",");d=d[0]+
"."+d[1]+" r"+d[2]}}return d?d:p}var g=i,t=g.e,k=this,p="-";k.V=t.screen;k.Sa=!k.V&&t.java?java.awt.Toolkit.getDefaultToolkit():w;k.d=t.navigator;k.W=p;k.xa=p;k.Wa=p;k.qa=p;k.pa=1;k.eb=p;k.bc=function(){var f;if(t.screen){k.W=k.V.width+"x"+k.V.height;k.xa=k.V.colorDepth+"-bit"}else if(k.Sa)try{f=k.Sa.getScreenSize();k.W=f.width+"x"+f.height}catch(h){}k.qa=W(k.d&&k.d.language?k.d.language:k.d&&k.d.browserLanguage?k.d.browserLanguage:p);k.pa=k.d&&k.d.javaEnabled()?1:0;k.eb=g.ha?l():p;k.Wa=S(g.a.characterSet?
g.a.characterSet:g.a.charset?g.a.charset:p)};k.Ic=function(){return B+"utm"+["cs="+S(k.Wa),"sr="+k.W,"sc="+k.xa,"ul="+k.qa,"je="+k.pa,"fl="+S(k.eb)].join("&utm")};k.$b=function(){var f=g.a,h=t.history[x];f=k.d.appName+k.d.version+k.qa+k.d.platform+k.d.userAgent+k.pa+k.W+k.xa+(f[y]?f[y]:"")+(f.referrer?f.referrer:"");for(var d=f[x];h>0;)f+=h--^d++;return ia(f)}};Z.m=function(i,l,g,t){function k(d){var a="";d=W(d.split("://")[1]);if(U(d,"/")){d=d.split("/")[1];if(U(d,"?"))a=d.split("?")[0]}return a}function p(d){var a="";a=W(d.split("://")[1]);if(U(a,"/"))a=a.split("/")[0];return a}var f=t,h=this;h.c=i;h.rb=l;h.r=g;h.ic=function(d){var a=h.gb();return new Z.m.w(P(d,f.Ka+C,B),P(d,f.Na+C,B),P(d,f.Pa+C,B),h.Q(d,f.Ia,"(not set)"),h.Q(d,f.La,"(not set)"),h.Q(d,f.Oa,a&&!N(a.K)?T(a.K):w),h.Q(d,f.Ja,w))};h.jb=function(d){var a=p(d),j=k(d);if(U(a,"google")){d=d.split("?").join(B);
if(U(d,B+f.oc+C))if(j==f.nc)return r}return v};h.gb=function(){var d,a=h.rb,j,c,n=f.T;if(!(N(a)||"0"==a||!U(a,"://")||h.jb(a))){d=p(a);for(j=0;j<n[x];j++){c=n[j];if(U(d,W(c.bb))){a=a.split("?").join(B);if(U(a,B+c.nb+C)){d=a.split(B+c.nb+C)[1];if(U(d,B))d=d.split(B)[0];return new Z.m.w(w,c.bb,w,"(organic)","organic",d,w)}}}}};h.Q=function(d,a,j){d=P(d,a+C,B);return j=!N(d)?T(d):!N(j)?j:"-"};h.uc=function(d){var a=f.ta,j=v,c;if(d&&"organic"==d.S){d=W(T(d.K));for(c=0;c<a[x];c++)j=j||W(a[c])==d}return j};
h.hc=function(){var d="",a="";d=h.rb;if(!(N(d)||"0"==d||!U(d,"://")||h.jb(d))){d=d.split("://")[1];if(U(d,"/")){a=O(d,d.indexOf("/"));a=a.split("?")[0];d=W(d.split("/")[0])}if(0==d.indexOf("www."))d=O(d,4);return new Z.m.w(w,d,w,"(referral)","referral",w,a)}};h.Xb=function(d){var a="";if(f.ba){a=d&&d.hash?d.href.substring(d.href.indexOf("#")):"";a=""!=a?a+B:a}a+=d.search;return a};h.dc=function(){return new Z.m.w(w,"(direct)",w,"(direct)","(none)",w,w)};h.vc=function(d){var a=v,j,c=f.va;if(d&&"referral"==
d.S){d=W(S(d.X));for(j=0;j<c[x];j++)a=a||U(d,W(c[j]))}return a};h.L=function(d){return w!=d&&d.mb()};h.cc=function(d,a){var j="",c="-",n,s=0,b,e,o=h.c;if(!d)return"";e=d.k();j=h.Xb(f.a[A]);if(f.z&&d.kb()){c=d.na();if(!N(c)&&!U(c,";")){d.Ga();return""}}c=P(e,J+o+".",";");n=h.ic(j);if(h.L(n)){j=P(j,f.Ma+C,B);if("1"==j&&!N(c))return""}if(!h.L(n)){n=h.gb();if(!N(c)&&h.uc(n))return""}if(!h.L(n)&&a){n=h.hc();if(!N(c)&&h.vc(n))return""}if(!h.L(n))if(N(c)&&a)n=h.dc();if(!h.L(n))return"";if(!N(c)){s=c.split(".");
b=new Z.m.w;b.Zb(s.slice(4).join("."));b=W(b.Da())==W(n.Da());s=s[3]*1}if(!b||a){a=P(e,D+o+".",";");e=a.lastIndexOf(".");a=e>9?O(a,e+1)*1:0;s++;a=0==a?1:a;d.wb([o,h.r,a,s,n.Da()].join("."));d.Ga();return B+"utmcn=1"}else return B+"utmcr=1"}};
Z.m.w=function(i,l,g,t,k,p,f){var h=this;h.q=i;h.X=l;h.ea=g;h.D=t;h.S=k;h.K=p;h.Ya=f;h.Da=function(){var d=[],a=[["cid",h.q],["csr",h.X],["gclid",h.ea],["ccn",h.D],["cmd",h.S],["ctr",h.K],["cct",h.Ya]],j,c;if(h.mb())for(j=0;j<a[x];j++)if(!N(a[j][1])){c=a[j][1].split("+").join("%20");c=c.split(" ").join("%20");V(d,"utm"+a[j][0]+C+c)}return d.join("|")};h.mb=function(){return!(N(h.q)&&N(h.X)&&N(h.ea))};h.Zb=function(d){var a=function(j){return T(P(d,"utm"+j+C,"|"))};h.q=a("cid");h.X=a("csr");h.ea=a("gclid");
h.D=a("ccn");h.S=a("cmd");h.K=a("ctr");h.Ya=a("cct")}};Z.Ib=function(i,l,g,t){function k(j,c,n){var s;if(!N(n)){n=n.split(",");for(var b=0;b<n[x];b++){s=n[b];if(!N(s)){s=s.split(h);if(s[x]==4)c[s[0]]=[s[1],s[2],j]}}}}var p=this,f=l,h=C,d=i,a=t;p.O=g;p.sa="";p.p={};p.tc=function(){var j;j=X(P(p.O.k(),H+f+".",";"),f+".")[1];if(!N(j)){j=j.split("|");k(1,p.p,j[1]);p.sa=j[0];p.Z()}};p.Z=function(){p.Qb();var j=p.sa,c,n,s="";for(c in p.p)if((n=p.p[c])&&1===n[2])s+=c+h+n[0]+h+n[1]+h+1+",";N(s)||(j+="|"+s);if(N(j))p.O.Vb();else{p.O.Aa(f+"."+j);p.O.Fa()}};p.Ec=
function(j){p.sa=j;p.Z()};p.Cc=function(j,c,n,s){if(1!=s&&2!=s&&3!=s)s=3;var b=v;if(c&&n&&j>0&&j<=d.ob){c=S(c);n=S(n);if(c[x]+n[x]<=64){p.p[j]=[c,n,s];p.Z();b=r}}return b};p.mc=function(j){if((j=p.p[j])&&1===j[2])return j[1]};p.Ub=function(j){var c=p.p;if(c[j]){delete c[j];p.Z()}};p.Qb=function(){a._clearKey(8);a._clearKey(9);a._clearKey(11);var j=p.p,c,n;for(n in j)if(c=j[n]){a._setKey(8,n,c[0]);a._setKey(9,n,c[1]);(c=c[2])&&3!=c&&a._setKey(11,n,""+c)}}};Z.N=function(){function i(m,q,u,z){if(w==f[m])f[m]={};if(w==f[m][q])f[m][q]=[];f[m][q][u]=z}function l(m,q){if(w!=f[m]&&w!=f[m][q]){f[m][q]=w;q=r;var u;for(u=0;u<a[x];u++)if(w!=f[m][a[u]]){q=v;break}if(q)f[m]=w}}function g(m){var q="",u=v,z,M;for(z=0;z<a[x];z++){M=m[a[z]];if(w!=M){if(u)q+=a[z];q+=t(M);u=v}else u=r}return q}function t(m){var q=[],u,z;for(z=0;z<m[x];z++)if(w!=m[z]){u="";if(z!=o&&w==m[z-1])u+=z.toString()+s;u+=k(m[z]);V(q,u)}return j+q.join(n)+c}function k(m){var q="",u,z,M;for(u=0;u<
m[x];u++){z=m.charAt(u);M=e[z];q+=w!=M?M:z}return q}var p=this,f={},h="k",d="v",a=[h,d],j="(",c=")",n="*",s="!",b="'",e={};e[b]="'0";e[c]="'1";e[n]="'2";e[s]="'3";var o=1;p.qc=function(m){return w!=f[m]};p.G=function(){var m="",q;for(q in f)if(w!=f[q])m+=q.toString()+g(f[q]);return m};p.Ac=function(m){if(m==w)return p.G();var q=m.G(),u;for(u in f)if(w!=f[u]&&!m.qc(u))q+=u.toString()+g(f[u]);return q};p._setKey=function(m,q,u){if(typeof u!="string")return v;i(m,h,q,u);return r};p._setValue=function(m,
q,u){if(typeof u!="number"&&(w==Number||!(u instanceof Number))||Math.round(u)!=u||u==NaN||u==Infinity)return v;i(m,d,q,u.toString());return r};p._getKey=function(m,q){return w!=f[m]&&w!=f[m][h]?f[m][h][q]:w};p._getValue=function(m,q){return w!=f[m]&&w!=f[m][d]?f[m][d][q]:w};p._clearKey=function(m){l(m,h)};p._clearValue=function(m){l(m,d)}};Z.Jb=function(i,l){var g=this;g.Qc=l;g.xc=i;g._trackEvent=function(t,k,p){return l._trackEvent(g.xc,t,k,p)}};Z.aa=function(i,l){function g(){if("auto"==c.b){var b=c.a.domain;if("www."==O(b,0,4))b=O(b,4);c.b=b}c.b=W(c.b)}function t(){var b=c.b,e=b.indexOf("www.google.")*b.indexOf(".google.")*b.indexOf("google.");return e||"/"!=c.h||b.indexOf("google.org")>-1}function k(b,e,o){if(N(b)||N(e)||N(o))return"-";b=P(b,D+a.c+".",e);if(!N(b)){b=b.split(".");b[5]=b[5]?b[5]*1+1:1;b[3]=b[4];b[4]=o;b=b.join(".")}return b}function p(){return"file:"!=c.a[A].protocol&&t()}function f(b){if(!b||""==b)return"";for(;ea(b.charAt(0));)b=
O(b,1);for(;ea(b.charAt(b[x]-1));)b=O(b,0,b[x]-1);return b}function h(b,e,o,m){if(!N(b())){e(m?T(b()):b());U(b(),";")||o()}}function d(b){var e,o=""!=b&&c.a[A].host!=b;if(o)for(e=0;e<c.t[x];e++)o=o&&fa(W(b),W(c.t[e]))==-1;return o}var a=this,j=w,c=new Z.Gb,n=v,s=w;a.e=window;a.r=Math.round((new Date).getTime()/1E3);a.s=i||"UA-XXXXX-X";a.ab=c.a.referrer;a.ia=w;a.f=w;a.B=w;a.F=v;a.A=w;a.Ua="";a.g=w;a.cb=w;a.c=w;a.i=w;c.o=l?S(l):w;a.wc=function(){var b=v;if(a.B)b=a.B.match(/^[0-9a-z-_.]{10,1200}$/i);
return b};a.jc=function(){return Y()^a.A.$b()&2147483647};a.ec=function(){if(!c.b||""==c.b||"none"==c.b){c.b="";return 1}g();return c.Ra?ia(c.b):1};a.Yb=function(b,e){if(N(b))b="-";else{e+=c.h&&"/"!=c.h?c.h:"";e=b.indexOf(e);b=e>=0&&e<=8?"0":"["==b.charAt(0)&&"]"==b.charAt(b[x]-1)?"-":b}return b};a.wa=function(b){var e="",o=c.a;e+=c.fa?a.A.Ic():"";e+=c.da?a.Ua:"";e+=c.ga&&!N(o.title)?"&utmdt="+S(o.title):"";e+="&utmhid="+ja()+"&utmr="+S(a.ia)+"&utmp="+S(a.Bc(b));return e};a.Bc=function(b){var e=c.a[A];
return b=w!=b&&""!=b?S(b,r):S(e.pathname+e.search,r)};a.Lc=function(b){if(a.J()){var e="";if(a.g!=w&&a.g.G()[x]>0)e+="&utme="+S(a.g.G());e+=a.wa(b);j.H(e,a.s,a.c)}};a.Tb=function(){var b=new Z.$(c);return b.ua(a.c)?b.Hc():w};a._getLinkerUrl=function(b,e){var o=b.split("#"),m=b,q=a.Tb();if(q)if(e&&1>=o[x])m+="#"+q;else if(!e||1>=o[x])if(1>=o[x])m+=(U(b,"?")?B:"?")+q;else m=o[0]+(U(b,"?")?B:"?")+q+"#"+o[1];return m};a.Fc=function(){var b;if(a.wc()){a.i.Dc(a.B);a.i.Oc();Z._gasoDomain=c.b;Z._gasoCPath=
c.h;b=c.a.createElement("script");b.type="text/javascript";b.id="_gasojs";b.src="https://www.google.com/analytics/reporting/overlay_js?gaso="+a.B+B+Y();c.a.getElementsByTagName("head")[0].appendChild(b)}};a.pc=function(){var b=a.r,e=a.i,o=e.k(),m=a.c+"",q=c.e,u=q?q.gaGlobal:w,z,M=U(o,D+m+"."),la=U(o,E+m),ma=U(o,G+m),F,I=[],R="",ha=v;o=N(o)?"":o;if(c.z){z=c.a[A]&&c.a[A].hash?c.a[A].href.substring(c.a[A].href.indexOf("#")):"";if(c.ba&&!N(z))R=z+B;R+=c.a[A].search;if(!N(R)&&U(R,D)){e.zc(R);e.kb()||e.Sb();
F=e.ja()}h(e.ma,e.vb,e.Eb,true);h(e.la,e.Aa,e.Fa)}if(N(F))if(M)if(!la||!ma){F=k(o,";",b);a.F=r}else{F=P(o,D+m+".",";");I=X(P(o,E+m,";"),".")}else{F=ga([m,a.jc(),b,b,b,1],".");ha=a.F=r}else if(N(e.C())||N(e.ka())){F=k(R,B,b);a.F=r}else{I=X(e.C(),".");m=I[0]}F=F.split(".");if(q&&u&&u.dh==m&&!c.o){F[4]=u.sid?u.sid:F[4];if(ha){F[3]=u.sid?u.sid:F[4];if(u.vid){b=u.vid.split(".");F[1]=b[0];F[2]=b[1]}}}e.tb(F.join("."));I[0]=m;I[1]=I[1]?I[1]:0;I[2]=w!=I[2]?I[2]:c.Jc;I[3]=I[3]?I[3]:F[4];e.ya(I.join("."));
e.ub(m);N(e.lc())||e.za(e.P());e.Cb();e.Ea();e.Db()};a.rc=function(){j=new Z.Kb(c)};a._initData=function(){var b;if(!n){if(!a.A){a.A=new Z.Fb(c);a.A.bc()}a.c=a.ec();a.i=new Z.$(c);a.g=new Z.N;s=new Z.Ib(c,a.c,a.i,a.g);a.rc()}if(p()){a.pc();s.tc()}if(!n){if(p()){a.ia=a.Yb(a.ab,c.a.domain);if(c.da){b=new Z.m(a.c,a.ia,a.r,c);a.Ua=b.cc(a.i,a.F)}}a.cb=new Z.N;n=r}Z.ib||a.sc()};a._visitCode=function(){a._initData();var b=P(a.i.k(),D+a.c+".",";");b=b.split(".");return b[x]<4?"":b[1]};a._cookiePathCopy=function(b){a._initData();
a.i&&a.i.Nc(a.c,b)};a.sc=function(){var b=c.a[A].hash;if(b&&1==b.indexOf("gaso="))b=P(b,"gaso=",B);else b=(b=c.e.name)&&0<=b.indexOf("gaso=")?P(b,"gaso=",B):P(a.i.k(),L,";");if(b[x]>=10){a.B=b;a.Fc()}Z.ib=r};a.J=function(){return a._visitCode()%1E4<c.U*100};a.Gc=function(){var b,e,o=c.a.links;if(!c.lb){b=c.a.domain;if("www."==O(b,0,4))b=O(b,4);c.t.push("."+b)}for(b=0;b<o[x]&&(c.ra==-1||b<c.ra);b++){e=o[b];if(d(e.host))if(!e.gatcOnclick){e.gatcOnclick=e.onclick?e.onclick:a.yc;e.onclick=function(m){var q=
!this.target||this.target=="_self"||this.target=="_top"||this.target=="_parent";q=q&&!a.Rb(m);a.Mc(m,this,q);return q?v:this.gatcOnclick?this.gatcOnclick(m):r}}}};a.yc=function(){};a._trackPageview=function(b){if(p()){a._initData();c.t&&a.Gc();a.Lc(b);a.F=v}};a._trackTrans=function(){var b=a.c,e=[],o,m,q;a._initData();if(a.f&&a.J()){for(o=0;o<a.f.Y[x];o++){m=a.f.Y[o];V(e,m.Ca());for(q=0;q<m.R[x];q++)V(e,m.R[q].Ca())}for(o=0;o<e[x];o++)j.H(e[o],a.s,b,r)}};a._setTrans=function(){var b=c.a,e,o,m;b=b.getElementById?
b.getElementById("utmtrans"):b.utmform&&b.utmform.utmtrans?b.utmform.utmtrans:w;a._initData();if(b&&b.value){a.f=new Z.n;m=b.value.split("UTM:");c.u=!c.u||""==c.u?"|":c.u;for(b=0;b<m[x];b++){m[b]=f(m[b]);e=m[b].split(c.u);for(o=0;o<e[x];o++)e[o]=f(e[o]);if("T"==e[0])a._addTrans(e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]);else"I"==e[0]&&a._addItem(e[1],e[2],e[3],e[4],e[5],e[6])}}};a._addTrans=function(b,e,o,m,q,u,z,M){a.f=a.f?a.f:new Z.n;return a.f.Ob(b,e,o,m,q,u,z,M)};a._addItem=function(b,e,o,m,q,u){var z;
a.f=a.f?a.f:new Z.n;(z=a.f.hb(b))||(z=a._addTrans(b,"","","","","","",""));z.Nb(e,o,m,q,u)};a._setVar=function(b){if(b&&""!=b&&t()){a._initData();s.Ec(S(b));a.J()&&j.H("&utmt=var",a.s,a.c)}};a._setCustomVar=function(b,e,o,m){a._initData();return s.Cc(b,e,o,m)};a._deleteCustomVar=function(b){a._initData();s.Ub(b)};a._getVisitorCustomVar=function(b){a._initData();return s.mc(b)};a._setMaxCustomVariables=function(b){c.ob=b};a._link=function(b,e){if(c.z&&b){a._initData();c.a[A].href=a._getLinkerUrl(b,
e)}};a._linkByPost=function(b,e){if(c.z&&b&&b.action){a._initData();b.action=a._getLinkerUrl(b.action,e)}};a._setXKey=function(b,e,o){a.g._setKey(b,e,o)};a._setXValue=function(b,e,o){a.g._setValue(b,e,o)};a._getXKey=function(b,e){return a.g._getKey(b,e)};a._getXValue=function(b,e){return a.g.getValue(b,e)};a._clearXKey=function(b){a.g._clearKey(b)};a._clearXValue=function(b){a.g._clearValue(b)};a._createXObj=function(){a._initData();return new Z.N};a._sendXEvent=function(b){var e="";a._initData();
if(a.J()){e+="&utmt=event&utme="+S(a.g.Ac(b))+a.wa();j.H(e,a.s,a.c,v,r)}};a._createEventTracker=function(b){a._initData();return new Z.Jb(b,a)};a._trackEvent=function(b,e,o,m){var q=a.cb;if(w!=b&&w!=e&&""!=b&&""!=e){q._clearKey(5);q._clearValue(5);(b=q._setKey(5,1,b)&&q._setKey(5,2,e)&&(w==o||q._setKey(5,3,o))&&(w==m||q._setValue(5,1,m)))&&a._sendXEvent(q)}else b=v;return b};a.Mc=function(b,e,o){a._initData();if(a.J()){var m=new Z.N;m._setKey(6,1,e.href);var q=o?function(){a.db(b,e)}:w;j.H("&utmt=event&utme="+
S(m.G())+a.wa(),a.s,a.c,v,r,q);if(o){var u=this;c.e.setTimeout(function(){u.db(b,e)},500)}}};a.db=function(b,e){if(!b)b=c.e.event;var o=r;if(e.gatcOnclick)o=e.gatcOnclick(b);if(o||typeof o=="undefined")if(!e.target||e.target=="_self")c.e[A]=e.href;else if(e.target=="_top")c.e.top.document[A]=e.href;else if(e.target=="_parent")c.e.parent.document[A]=e.href};a.Rb=function(b){if(!b)b=c.e.event;var e=b.shiftKey||b.ctrlKey||b.altKey;if(!e)if(b.modifiers&&c.e.Event)e=b.modifiers&c.e.Event.CONTROL_MASK||
b.modifiers&c.e.Event.SHIFT_MASK||b.modifiers&c.e.Event.ALT_MASK;return e};a.Pc=function(){return c};a._setDomainName=function(b){c.b=b};a._addOrganic=function(b,e,o){c.T.splice(o?0:c.T.length,0,new Z.Ha(b,e))};a._clearOrganic=function(){c.T=[]};a._addIgnoredOrganic=function(b){V(c.ta,b)};a._clearIgnoredOrganic=function(){c.ta=[]};a._addIgnoredRef=function(b){V(c.va,b)};a._clearIgnoredRef=function(){c.va=[]};a._setAllowHash=function(b){c.Ra=b?1:0};a._setCampaignTrack=function(b){c.da=b?1:0};a._setClientInfo=
function(b){c.fa=b?1:0};a._getClientInfo=function(){return c.fa};a._setCookiePath=function(b){c.h=b};a._setTransactionDelim=function(b){c.u=b};a._setCookieTimeout=function(b){a._setCampaignCookieTimeout(b*1E3)};a._setCampaignCookieTimeout=function(b){c.Ta=b};a._setDetectFlash=function(b){c.ha=b?1:0};a._getDetectFlash=function(){return c.ha};a._setDetectTitle=function(b){c.ga=b?1:0};a._getDetectTitle=function(){return c.ga};a._setLocalGifPath=function(b){c.oa=b};a._getLocalGifPath=function(){return c.oa};
a._setLocalServerMode=function(){c.I=0};a._setRemoteServerMode=function(){c.I=1};a._setLocalRemoteServerMode=function(){c.I=2};a._getServiceMode=function(){return c.I};a._setSampleRate=function(b){c.U=b};a._setSessionTimeout=function(b){a._setSessionCookieTimeout(b*1E3)};a._setSessionCookieTimeout=function(b){c.sb=b};a._setAllowLinker=function(b){c.z=b?1:0};a._setAllowAnchor=function(b){c.ba=b?1:0};a._setCampNameKey=function(b){c.Ia=b};a._setCampContentKey=function(b){c.Ja=b};a._setCampIdKey=function(b){c.Ka=
b};a._setCampMediumKey=function(b){c.La=b};a._setCampNOKey=function(b){c.Ma=b};a._setCampSourceKey=function(b){c.Na=b};a._setCampTermKey=function(b){c.Oa=b};a._setCampCIdKey=function(b){c.Pa=b};a._getAccount=function(){return a.s};a._setAccount=function(b){a.s=b};a._setNamespace=function(b){c.o=b?S(b):w};a._getVersion=function(){return ca};a._setAutoTrackOutbound=function(b){c.t=[];if(b)c.t=b};a._setTrackOutboundSubdomains=function(b){c.lb=b};a._setHrefExamineLimit=function(b){c.ra=b};a._setReferrerOverride=
function(b){a.ab=b};a._setCookiePersistence=function(b){a._setVisitorCookieTimeout(b)};a._setVisitorCookieTimeout=function(b){c.v=b}};Z._getTracker=function(i,l){return new Z.aa(i,l)};var ka=v,$={ca:{},_createAsyncTracker:function(i,l){l=l||"";i=new Z.aa(i);$.ca[l]=i;ka=r;return i},_getAsyncTracker:function(i){i=i||"";var l=$.ca[i];if(!l){l=new Z.aa;$.ca[i]=l;ka=r}return l},push:function(){for(var i=arguments,l=0,g=0;g<i[x];g++)try{if(typeof i[g]==="function")i[g]();else{var t="",k=i[g][0],p=k.lastIndexOf(".");if(p>0){t=O(k,0,p);k=O(k,p+1)}var f=$._getAsyncTracker(t);f[k].apply(f,i[g].slice(1))}}catch(h){l++}return l}};window[aa]=Z;function na(){var i=window[ba],l=v;if(i&&typeof i.push=="function"){l=i.constructor==Array;if(!l)return}window[ba]=$;l&&$.push.apply($,i)}na();})()
</script>


<script id="gmail" type="x">
var startTime=(new Date).getTime()

var BrowserSupport_={IsBrowserSupported:function(){var agt=navigator.userAgent.toLowerCase();var is_op=agt.indexOf("opera")!=-1;var is_ie=agt.indexOf("msie")!=-1&&document.all&&!is_op;var is_ie5=agt.indexOf("msie 5")!=-1&&document.all&&!is_op;var is_mac=agt.indexOf("mac")!=-1;var is_gk=agt.indexOf("gecko")!=-1;var is_sf=agt.indexOf("safari")!=-1;if(is_ie&&!is_op&&!is_mac){if(agt.indexOf("palmsource")!=
-1||agt.indexOf("regking")!=-1||agt.indexOf("windows ce")!=-1||agt.indexOf("j2me")!=-1||agt.indexOf("avantgo")!=-1||agt.indexOf(" stb")!=-1)return false;var v=BrowserSupport_.GetFollowingFloat(agt,"msie ");if(v!=null)return v>=5.5}if(is_gk&&!is_sf){var v=BrowserSupport_.GetFollowingFloat(agt,"rv:");if(v!=null)return v>=1.4;else{v=BrowserSupport_.GetFollowingFloat(agt,"galeon/");if(v!=null)return v>=
1.3}}if(is_sf){if(agt.indexOf("rv:3.14.15.92.65")!=-1)return false;var v=BrowserSupport_.GetFollowingFloat(agt,"applewebkit/");if(v!=null)return v>=312}if(is_op){if(agt.indexOf("sony/com1")!=-1)return false;var v=BrowserSupport_.GetFollowingFloat(agt,"opera ");if(v==null)v=BrowserSupport_.GetFollowingFloat(agt,"opera/");if(v!=null)return v>=8}if(agt.indexOf("pda; sony/com2")!=-1)return true;return false},
GetFollowingFloat:function(str,pfx){var i=str.indexOf(pfx);if(i!=-1){var v=parseFloat(str.substring(i+pfx.length));if(!isNaN(v))return v}return null},tz_path:";path=/"};if(window.location.href.toLowerCase().indexOf("google.com")>0)BrowserSupport_.tz_path+=";domain=.google.com";document.cookie="TZ="+(new Date).getTimezoneOffset()+BrowserSupport_.tz_path;var is_browser_supported=BrowserSupport_.IsBrowserSupported()

if(window!=top)top.location=location.href;
(function(){if(location.href.indexOf("nocheckbrowser")!=-1)return;if(!is_browser_supported)location="?ui=html&zy=b";var agt=navigator.userAgent.toLowerCase();var wk=/webkit\/([^ ]+)/.exec(agt);var g=/rv:([^;)]+)/.exec(agt);var ie=/msie (\d+)/.exec(agt);var opr=window.opera&&parseFloat(window.opera.version());var sup=ie&&ie[1]>=7&&!opr||navigator.product=="Gecko"&&g&&g[1]>"1.8"||wk&&wk[1].split(".")[0]>
"522"||opr&&opr>=9.5;var win2k=agt.indexOf("windows nt 5.0")!=-1||agt.indexOf("windows 2000")!=-1;var win98OrMe=agt.indexOf("windows 98")!=-1;if(ie&&ie[1]==6&&!opr&&!win2k&&!win98OrMe){var jsv=Number(ScriptEngineMajorVersion()+"."+ScriptEngineMinorVersion());sup=jsv>=5.7||jsv==5.6&&ScriptEngineBuildVersion()>=8834}if(!sup)location="?ui=1&ov=0";var c="jscookietest=valid";document.cookie=c;if(document.cookie.indexOf(c)==
-1)location="html/nocookies.html";document.cookie=c+";expires=Thu, 01 Jan 1970 00:00:00 GMT";if(agt.indexOf("msie")!=-1&&document.all&&agt.indexOf("opera")==-1&&agt.indexOf("mac")==-1)eval('try{new ActiveXObject(agt.indexOf("msie 5")!=-1?"Microsoft.XMLHTTP":"Msxml2.XMLHTTP")}catch(e){location="html/noactivex.html"}')})();var lbwnc=false

var GLOBALS=[]; // Redacted
GLOBALS[0]=startTime;
var pr=0;var lp=0;function sc(k,v){document.cookie=k+"="+v+";path="+GLOBALS[7]}function onLoadTimeout(){if(lbwnc)return;if(pr>lp){lp=pr;loadTimeout=setTimeout(onLoadTimeout,3E4);return}var d=document;d.getElementById("loadingError").style.display="";d.getElementById("stb").style.display="none";if(!top._jsl){sc("GMAIL_CB",startTime);si("jscc")}si("jsle")}
function si(i){(new Image).src="?ui=2&view=jsle&ik="+GLOBALS[9]+"&imp="+i+"&val="+pr+"&random="+startTime}var loadTimeout=setTimeout(onLoadTimeout,3E4);GLOBALS[1]=(new Date).getTime()

var VIEW_DATA=[]; // Redacted

var JS_MODE="OPTIMIZED,LOCALE=en",JS_OBFUSCATED=1,JS_START_TIME=(new Date).getTime(),GLOBALS=top.GLOBALS;if("32mVEedHbfc.en."!=GLOBALS[4])top.location.replace(top.location.href.split("#")[0]);function _B_log(imp,opt_val){var p="imp="+imp;if(arguments.length>1)p+="&val="+opt_val;_B_logImg_("jsle",p)}var loadTimes=[GLOBALS[0],GLOBALS[1],JS_START_TIME];
function _B_record(){loadTimes.push((new Date).getTime())}var _B_thumbStyle_;function _B_prog(pct){top["pr"]=pct;if(_B_thumbStyle_===undefined){var thumb=top.document.getElementById("lpt");_B_thumbStyle_=thumb?thumb.style:null}if(_B_thumbStyle_){_B_thumbStyle_.width=Math.round(pct*0.99)+"%";if(pct==100)_B_thumbStyle_=null}}
function _B_err(e){var state=loadTimes.join("-");_B_logImg_("jserr","jsstate="+encodeURIComponent(state)+"&jsmsg="+encodeURIComponent(e));_B_handleError(e)}function _B_handleError(e){throw e;}function _B_logImg_(v,p){(new Image).src="?ui=2&view="+v+"&"+p+"&ik="+GLOBALS[9]+"&random="+(new Date).getTime()}window.onerror=function(message,url,line){_B_err(message)};_B_prog(1)

try{top['jpgt']=1267218585107;}catch(e){_B_err(e)}

try{function e(b){throw b;}var h=true,i=null,k=false,aa=encodeURIComponent,ba=window,aaa=JS_OBFUSCATED,ca=Object,da=parseInt,baa=isFinite,caa=Function,ea=document,fa=GLOBALS,ga=decodeURIComponent,ia=isNaN,l=Math;function daa(b,a){return b.appendChild=a}function ja(b,a){return b.onreadystatechange=a}function ka(b,a){return b.width=a}function la(b,a){return b.text=a}function ma(b,a){return b.data=a}function na(b,a){return b.load=a}function oa(b,a){return b.onerror=a}function pa(b,a){return b.value=a}
function eaa(b,a){return b.button=a}function qa(b,a){return b.indexOf=a}function ra(b,a){return b.dispatchEvent=a}function sa(b,a){return b.currentTarget=a}function ta(b,a){return b.backgroundColor=a}function faa(b,a){return b.screenX=a}function gaa(b,a){return b.screenY=a}function ua(b,a){return b.send=a}function va(b,a){return b.getName=a}function haa(b,a){return b.charCode=a}function wa(b,a){return b.remove=a}function iaa(b,a){return b.cssText=a}function xa(b,a){return b.keyCode=a}
function ya(b,a){return b.handleEvent=a}function za(b,a){return b.type=a}function Aa(b,a){return b.clear=a}function jaa(b,a){return b.source=a}function Ba(b,a){return b.name=a}function Ca(b,a){return b.zIndex=a}function Da(b,a){return b.clientX=a}function Ea(b,a){return b.clientY=a}function Fa(b,a){return b.visibility=a}function Ga(b,a){return b.stop=a}function Ha(b,a){return b.toString=a}function kaa(b,a){return b.getMonth=a}function laa(b,a){return b.createObject=a}
function Ia(b,a){return b.length=a}function Ja(b,a){return b.position=a}function Ka(b,a){return b.create=a}function maa(b,a){return b.prototype=a}function m(b,a){return b.className=a}function La(b,a){return b.abort=a}function naa(b,a){return b.setTimeout=a}function Ma(b,a){return b.next=a}function oaa(b,a){return b.stack=a}function Na(b,a){return b.location=a}function Oa(b,a){return b.message=a}function Pa(b,a){return b.target=a}function Qa(b,a){return b.start=a}
function Ra(b,a){return b.enabled=a}function paa(b,a){return b.returnValue=a}function qaa(b,a){return b.removeNode=a}function Sa(b,a){return b.contains=a}function Ta(b,a){return b.border=a}function Ua(b,a){return b.display=a}function Va(b,a){return b.execute=a}function Wa(b,a){return b.height=a}
var o="appendChild",Xa="error",p="push",Ya="filter",raa="hash",Za="version",ab="innerWidth",bb="open",cb="test",db="shift",eb="relatedTarget",fb="replaceChild",gb="clearTimeout",hb="exec",ib="width",jb="text",kb="round",lb="slice",mb="replace",nb="nodeType",ob="ceil",pb="load",rb="floor",sb="cookie",ub="getElementById",vb="mimeTypes",saa="srcElement",wb="concat",xb="charAt",yb="createTextNode",q="value",zb="preventDefault",Ab="item",Bb="insertBefore",Cb="button",Db="indexOf",Eb="metaKey",taa="compareDocumentPosition",
r="dispatchEvent",Fb="capture",Gb="nodeName",Hb="currentTarget",Ib="screenX",Jb="screenY",Kb="match",Lb="status",uaa="defaultValue",Mb="send",Nb="readyState",Ob="charCode",Pb="remove",Qb="createElement",Rb="scrollHeight",Sb="keyCode",Tb="firstChild",Ub="forEach",Vb="addEventListener",Wb="setAttribute",Xb="handleEvent",Yb="execCommand",Zb="type",ac="parentWindow",bc="clear",cc="childNodes",vaa="attachEvent",dc="defaultView",ec="name",fc="nextSibling",gc="contentWindow",hc="getTime",ic="getElementsByTagName",
jc="frames",kc="clientX",lc="clientY",mc="documentElement",nc="substr",oc="opener",pc="previousSibling",qc="stop",t="toString",rc="altKey",waa="innerText",sc="createObject",u="length",xaa="propertyIsEnumerable",yaa="position",tc="create",w="prototype",zaa="toUTCString",uc="className",vc="clientWidth",wc="abort",xc="setTimeout",yc="document",Ac="removeEventListener",Bc="ctrlKey",Cc="split",Dc="setInterval",Ec="stopPropagation",Fc="userAgent",Gc="stack",Hc="callee",Ic="location",Jc="caller",Kc="hasOwnProperty",
x="style",Lc="body",Mc="ownerDocument",Nc="removeChild",Oc="parent",Pc="search",y="target",Qc="lastChild",z="call",Aaa="some",Rc="start",Sc="lastIndexOf",Tc="random",Uc="getAttribute",Vc="enabled",Wc="clientHeight",Xc="charCodeAt",Baa="arguments",Yc="href",Zc="substring",ad="removeNode",Caa="every",bd="contains",cd="apply",dd="shiftKey",ed="tagName",Daa="border",fd="attributes",gd="navigator",A="parentNode",hd="execute",id="height",jd="splice",kd="join",ld="unshift",Eaa="execScript",md="nodeValue",
od="toLowerCase",pd="view",qd="ls",rd="ver",sd="absolute",td="overflow",ud="visible",vd="TR",wd="display",xd="none",yd="hidden",zd="BODY",Ad="jf",Bd="HR",Cd="DIV",Dd="UL",Ed="\u00a0",Fd="TD",Gd="Xd",Hd="IFRAME",Faa="Chrome",Id="stop",Gaa="begin",Jd="end",Kd="a",Ld="padding",Md="/",Nd="contacts",Od="$",Pd="d",Qd="-",Rd="e",Sd="hl",Td="iframe",Ud="border",Haa="margin",Vd="IMG",Wd="TABLE",Iaa="PRE",Xd="P",Yd="cc",Zd='" ',ae="O",be="BLOCKQUOTE",ce="group",de="pq",ee="relative",Jaa="DL",Kaa="/*",Laa="/...",
fe="id",ge="ae",he="cd",ie="mid",je="gd",ke="cl",le="xe",me="NONE",ne="img",oe="pt",pe="block",Maa='" <',qe="gc",re="5",se="9",ue="add",ve="remove",we="contact",Naa="yr",Oaa="revert",Paa="cB",xe="LI",Qaa="COL",ye="DD",Raa="DT",ze="H2",Ae="H3",Saa="H4",Taa="H5",Uaa="ISINDEX",Be="OL",Vaa="TBODY",Waa="backgroundColor",Ce="transparent",Xaa='url("',Yaa='")',De="js",Zaa="Parent",aba="Child";function Ee(){return function(b){return b}}function B(){return function(){}}
function Ge(b){return function(a){this[b]=a}}function D(b){return function(){return this[b]}}function E(b){return function(){return b}}var F,He=".",bba="var ";function Ie(b,a,c){b=b[Cc](He);c=c||Je;!(b[0]in c)&&c[Eaa]&&c[Eaa](bba+b[0]);for(var d;b[u]&&(d=b[db]());)if(!b[u]&&Ke(a))c[d]=a;else c=c[d]?c[d]:(c[d]={})}function Le(b,a){b=b[Cc](He);a=a||Je;for(var c;c=b[db]();)if(a[c])a=a[c];else return i;return a}function Me(){}function Ne(b){b.S=function $(){return b.AOc||(b.AOc=new b)}}
var Oe="object",cba="[object Array]",Qe="number",dba="splice",Re="array",eba="[object Function]",fba="call",Se="function",gba="null";
function Te(b){var a=typeof b;if(a==Oe)if(b){if(b instanceof Array||!(b instanceof ca)&&ca[w][t][z](b)==cba||typeof b[u]==Qe&&typeof b[jd]!="undefined"&&typeof b[xaa]!="undefined"&&!b[xaa](dba))return Re;if(!(b instanceof ca)&&(ca[w][t][z](b)==eba||typeof b[z]!="undefined"&&typeof b[xaa]!="undefined"&&!b[xaa](fba)))return Se}else return gba;else if(a==Se&&typeof b[z]=="undefined")return Oe;return a}function Ke(b){return b!==undefined}function Ue(b){return b!=i}function Ve(b){return Te(b)==Re}
function We(b){var a=Te(b);return a==Re||a==Oe&&typeof b[u]==Qe}var Xe="string";function Ye(b){return typeof b==Xe}function Ze(b){return Te(b)==Se}function af(b){b=Te(b);return b==Oe||b==Re||b==Se}function bf(b){if(b[Kc]&&b[Kc](cf))return b[cf];b[cf]||(b[cf]=++hba);return b[cf]}function iba(b){var a=Te(b);if(a==Oe||a==Re){if(b.vc)return b.vc[z](b);a=a==Re?[]:{};for(var c in b)a[c]=iba(b[c]);return a}return b}
function G(b,a){var c=a||Je;if(arguments[u]>2){var d=Array[w][lb][z](arguments,2);return function(){var f=Array[w][lb][z](arguments);Array[w][ld][cd](f,d);return b[cd](c,f)}}else return function(){return b[cd](c,arguments)}}function df(b){var a=Array[w][lb][z](arguments,1);return function(){var c=Array[w][lb][z](arguments);c[ld][cd](c,a);return b[cd](this,c)}}function H(b,a){function c(){}maa(c,a[w]);b.C=a[w];maa(b,new c);b[w].constructor=b}function ef(b,a){return ff(b,a)>=0}
function gf(b){if(!Ve(b))for(var a=b[u]-1;a>=0;a--)delete b[a];Ia(b,0)}function hf(b,a){ef(b,a)||b[p](a)}function jf(b,a){a=ff(b,a);var c;if(c=a>=0)kf(b,a);return c}function kf(b,a){return lf[jd][z](b,a,1)[u]==1}function mf(){return lf[wb][cd](lf,arguments)}function nf(b){if(Ve(b))return mf(b);else{for(var a=[],c=0,d=b[u];c<d;c++)a[c]=b[c];return a}}var jba="callee";
function of(b){for(var a=1;a<arguments[u];a++){var c=arguments[a],d;if(Ve(c)||(d=We(c))&&c[Kc](jba))b[p][cd](b,c);else if(d)for(var f=b[u],g=c[u],j=0;j<g;j++)b[f+j]=c[j];else b[p](c)}}function pf(b){return lf[jd][cd](b,qf(arguments,1))}function qf(b,a,c){return arguments[u]<=2?lf[lb][z](b,a):lf[lb][z](b,a,c)}function rf(b,a){a=a||b;for(var c={},d=0,f=0;f<b[u];){var g=b[f++],j=af(g)?bf(g):g;if(!ca[w][Kc][z](c,j)){c[j]=h;a[d++]=g}}Ia(a,d)}
function sf(){for(var b=[],a=0;a<arguments[u];a++){var c=arguments[a];Ve(c)?b[p][cd](b,sf[cd](i,c)):b[p](c)}return b}function tf(){}function uf(b,a,c){for(var d in b)a[z](c,b[d],d,b)}function vf(b){var a=0;for(var c in b)a++;return a}function wf(b){var a=[],c=0;for(var d in b)a[c++]=b[d];return a}function xf(b){var a=[],c=0;for(var d in b)a[c++]=d;return a}function kba(b,a){for(var c in b)if(b[c]==a)return h;return k}function yf(b){for(var a in b)return k;return h}
function zf(b){for(var a,c,d=1;d<arguments[u];d++){c=arguments[d];for(a in c)b[a]=c[a];for(var f=0;f<lba[u];f++){a=lba[f];if(ca[w][Kc][z](c,a))b[a]=c[a]}}}function Af(){var b=arguments[u];if(b==1&&Ve(arguments[0]))return Af[cd](i,arguments[0]);if(b%2)e(Error(".5"));for(var a={},c=0;c<b;c+=2)a[arguments[c]]=arguments[c+1];return a}function Bf(){var b=arguments[u];if(b==1&&Ve(arguments[0]))return Bf[cd](i,arguments[0]);for(var a={},c=0;c<b;c++)a[arguments[c]]=h;return a}
function mba(b){if(typeof b.Nb==Se)return b.Nb();if(We(b)||Ye(b))return b[u];return vf(b)}var I="";function Cf(b){if(typeof b.Oa==Se)return b.Oa();if(Ye(b))return b[Cc](I);if(We(b)){for(var a=[],c=b[u],d=0;d<c;d++)a[p](b[d]);return a}return wf(b)}function Df(b){if(typeof b.Sb==Se)return b.Sb();if(typeof b.Oa!=Se){if(We(b)||Ye(b)){var a=[];b=b[u];for(var c=0;c<b;c++)a[p](c);return a}return xf(b)}}
function nba(b,a){if(typeof b[bd]==Se)return b[bd](a);if(typeof b.BS==Se)return b.BS(a);if(We(b)||Ye(b))return ef(b,a);return kba(b,a)}function Ef(b,a,c){if(typeof b[Ub]==Se)b[Ub](a,c);else if(We(b)||Ye(b))Ff(b,a,c);else for(var d=Df(b),f=Cf(b),g=f[u],j=0;j<g;j++)a[z](c,f[j],d&&d[j],b)}function oba(b,a,c){if(typeof b[Caa]==Se)return b[Caa](a,c);if(We(b)||Ye(b))return Gf(b,a,c);for(var d=Df(b),f=Cf(b),g=f[u],j=0;j<g;j++)if(!a[z](c,f[j],d&&d[j],b))return k;return h}
function Hf(b){this.yd={};this.ri=[];var a=arguments[u];if(a>1){if(a%2)e(Error(".5"));for(var c=0;c<a;c+=2)this.set(arguments[c],arguments[c+1])}else b&&this.Vl(b)}function pba(b,a){return b===a}function qba(b){if(b.Cf!=b.ri[u]){for(var a=0,c=0;a<b.ri[u];){var d=b.ri[a];if(If(b.yd,d))b.ri[c++]=d;a++}Ia(b.ri,c)}if(b.Cf!=b.ri[u]){var f={};for(c=a=0;a<b.ri[u];){d=b.ri[a];if(!If(f,d)){b.ri[c++]=d;f[d]=1}a++}Ia(b.ri,c)}}function If(b,a){return ca[w][Kc][z](b,a)}function Jf(){}
function Kf(b){b&&typeof b.D==Se&&b.D()}function Lf(b,a){this.LP=a;this.nv=[];if(b>this.LP)e(Error(".7"));for(a=0;a<b;a++)this.nv[p](this[sc]())}function Mf(b,a){return b[Db](a)==0}function Nf(b,a){var c=b[u]-a[u];return c>=0&&b[Sc](a,c)==c}function Of(b){return!/[^\t\n\r ]/[cb](b)}function Pf(b){return b[mb](/^[\s\xa0]+|[\s\xa0]+$/g,I)}function Qf(b){b=String(b);if(!rba[cb](b))return aa(b);return b}var J=" ";function Rf(b){return ga(b[mb](/\+/g,J))}
var sba="&amp;",tba="&lt;",uba="&gt;",vba="&quot;",Sf="&",Tf="<",Uf=">",Vf='"';function Wf(b,a){if(a)return b[mb](wba,sba)[mb](xba,tba)[mb](yba,uba)[mb](zba,vba);else{if(!Aba[cb](b))return b;if(b[Db](Sf)!=-1)b=b[mb](wba,sba);if(b[Db](Tf)!=-1)b=b[mb](xba,tba);if(b[Db](Uf)!=-1)b=b[mb](yba,uba);if(b[Db](Vf)!=-1)b=b[mb](zba,vba);return b}}function Xf(b,a){return b[Db](a)!=-1}function Yf(){return l[rb](l[Tc]()*2147483648)[t](36)+(l[rb](l[Tc]()*2147483648)^Zf())[t](36)}var Bba="(\\d*)(\\D*)",ag="g";
function bg(b,a){var c=0;b=Pf(String(b))[Cc](He);a=Pf(String(a))[Cc](He);for(var d=l.max(b[u],a[u]),f=0;c==0&&f<d;f++){var g=b[f]||I,j=a[f]||I,n=new RegExp(Bba,ag),s=new RegExp(Bba,ag);do{var v=n[hb](g)||[I,I,I],C=s[hb](j)||[I,I,I];if(v[0][u]==0&&C[0][u]==0)break;c=Cba(v[1][u]==0?0:da(v[1],10),C[1][u]==0?0:da(C[1],10))||Cba(v[2][u]==0,C[2][u]==0)||Cba(v[2],C[2])}while(c==0)}return c}function Cba(b,a){if(b<a)return-1;else if(b>a)return 1;return 0}function cg(b){this.yd=new Hf;b&&this.Vl(b)}
var dg="o";function Dba(b){var a=typeof b;return a==Oe&&b||a==Se?dg+bf(b):a[nc](0,1)+b}function Eba(b,a,c){c=c||Je;var d=c.onerror;oa(c,function $a(g,j,n){d&&d(g,j,n);j=String(j)[Cc](/[\/\\]/).pop();b({message:g,fileName:j,SZb:n});return Boolean(a)})}var eg="message";function Fba(b,a){var c=typeof b==Xe?Error(b):b;if(!c[Gc])oaa(c,Gba(arguments[Hc][Jc]));if(a){for(var d=0;c[eg+d];)++d;c[eg+d]=String(a)}return c}
var Hba="()\n",Iba="[exception trying to get caller]\n",Jba="[...long stack...]",Kba="[...reached max depth limit...]",Lba="[end]";function Mba(b){for(var a=[],c=arguments[Hc][Jc],d=0;c&&(!b||d<b);){a[p](fg(c));a[p](Hba);try{c=c[Jc]}catch(f){a[p](Iba);break}d++;if(d>=50){a[p](Jba);break}}b&&d>=b?a[p](Kba):a[p](Lba);return a[kd](I)}function Gba(b){return Nba(b||arguments[Hc][Jc],[])}var Oba="[...circular reference...]",gg="(",hg=", ",ig="boolean",jg="true",kg="false",Pba="[fn]",lg="...",Qba=")\n";
function Nba(b,a){var c=[];if(ef(a,b))c[p](Oba);else if(b&&a[u]<50){c[p](fg(b)+gg);for(var d=b[Baa],f=0;f<d[u];f++){f>0&&c[p](hg);var g;g=d[f];switch(typeof g){case Oe:g=g?Oe:gba;break;case Xe:g=g;break;case Qe:g=String(g);break;case ig:g=g?jg:kg;break;case Se:g=(g=fg(g))?g:Pba;break;case "undefined":default:g=typeof g;break}if(g[u]>40)g=g[nc](0,40)+lg;c[p](g)}a[p](b);c[p](Qba);try{c[p](Nba(b[Jc],a))}catch(j){c[p](Iba)}}else b?c[p](Jba):c[p](Lba);return c[kd](I)}var Rba="[Anonymous]";
function fg(b){b=String(b);if(!Sba[b]){var a=/function ([^\(]+)/[hb](b);Sba[b]=a?a[1]:Rba}return Sba[b]}function Tba(b){this.rOb=b}var Uba="__protected_",mg="_",ng="__";function og(b,a,c){c=!!c;var d=Uba+bf(b)+mg+c+ng;a[d]||(a[d]=b.Gdb(a,c));return a[d]}var pg="window";function Vba(b,a){var c=Le(pg),d=c[xc];naa(c,function $b(g,j){g=og(b,g,a);return d[z]?d[z](this,g,j):d(g,j)})}function Wba(b,a){var c=Le(pg),d=c[Dc];c.setInterval=function $c(g,j){g=og(b,g,a);return d[z]?d[z](this,g,j):d(g,j)}}
function Xba(b,a){this.rOb=b;this.oBc=!!a}function Yba(b,a){return function(){b.dDc&&b.dDc();return a[cd](this,arguments)}}function Zba(){}function rg(b,a,c){if(b.Qla)b.Qla.yI(c,a);else b.Dla&&b.Dla[u]<10&&b.Dla[p]([a,c])}function sg(b){rg(tg,i,b)}function ug(){return Je[gd]?Je[gd][Fc]:i}function aca(){return Je[gd]}function vg(b){return bca[b]||(bca[b]=bg(wg,b)>=0)}function xg(b,a){this.x=Ke(b)?b:0;this.y=Ke(a)?a:0}function yg(b,a){ka(this,b);Wa(this,a)}
function zg(b){return(b=b[uc])&&typeof b[Cc]==Se?b[Cc](J):[]}function K(b){var a=zg(b),c=qf(arguments,1);c=cca(a,c);m(b,a[kd](J));return c}function Ag(b){var a=zg(b),c=qf(arguments,1);c=dca(a,c);m(b,a[kd](J));return c}function cca(b,a){for(var c=0,d=0;d<a[u];d++)if(!ef(b,a[d])){b[p](a[d]);c++}return c==a[u]}function dca(b,a){for(var c=0,d=0;d<b[u];d++)if(ef(a,b[d])){pf(b,d--,1);c++}return c==a[u]}function Bg(b,a){return ef(zg(b),a)}function Cg(b){return b?new Dg(Eg(b)):eca||(eca=new Dg)}
function Fg(b){return Ye(b)?ea[ub](b):b}function Gg(b,a,c){return fca(ea,b,a,c)}var Hg="*",Ig="528";
function fca(b,a,c,d){d=d||b;a=a&&a!=Hg?a[od]():I;if(d.querySelectorAll&&(a||c)&&(!Jg||gca(b)||vg(Ig)))return d.querySelectorAll(a+(c?He+c:I));if(c&&d.getElementsByClassName){b=d.getElementsByClassName(c);if(a){d={};for(var f=0,g=0,j;j=b[g];g++)if(a==j[Gb][od]())d[f++]=j;Ia(d,f);return d}else return b}b=d[ic](a||Hg);if(c){d={};for(g=f=0;j=b[g];g++){a=j[uc];if(typeof a[Cc]==Se&&ef(a[Cc](J),c))d[f++]=j}Ia(d,f);return d}else return b}var Kg="style",hca="class",ica="for";
function Lg(b,a){uf(a,function(c,d){if(d==Kg)iaa(b[x],c);else if(d==hca)m(b,c);else if(d==ica)b.htmlFor=c;else if(d in jca)b[Wb](jca[d],c);else b[d]=c})}var kca="500",lca="9.50";function Mg(b){b=b||ba;var a=b[yc];if(Jg&&!vg(kca)&&!mca){if(typeof b.innerHeight=="undefined")b=ba;a=b.innerHeight;var c=b[yc][mc][Rb];if(b==b.top)if(c<a)a-=15;b=new yg(b[ab],a)}else{b=gca(a)&&(!Ng||Ng&&vg(lca))?a[mc]:a[Lc];b=new yg(b[vc],b[Wc])}return b}var nca=' name="',oca=' type="';
function pca(b,a){var c=a[0],d=a[1];if(L&&d&&(d[ec]||d[Zb])){c=[Tf,c];d[ec]&&c[p](nca,Wf(d[ec]),Vf);if(d[Zb]){c[p](oca,Wf(d[Zb]),Vf);d=iba(d);delete d[Zb]}c[p](Uf);c=c[kd](I)}var f=b[Qb](c);if(d)if(Ye(d))m(f,d);else Lg(f,d);if(a[u]>2){d=function $d(n){if(n)f[o](Ye(n)?b[yb](n):n)};for(c=2;c<a[u];c++){var g=a[c];We(g)&&!qca(g)?Ff(rca(g)?nf(g):g,d):d(g)}}return f}var sca="CSS1Compat";function gca(b){return b.compatMode==sca}function Og(b,a){b[o](a)}function Pg(b){for(var a;a=b[Tb];)b[Nc](a)}
function Qg(b,a){a[A]&&a[A][Bb](b,a)}function Rg(b,a){a[A]&&a[A][Bb](b,a[fc])}function Sg(b){return b&&b[A]?b[A][Nc](b):i}function Ug(b,a){var c=a[A];c&&c[fb](b,a)}function Vg(b){var a,c=b[A];if(c&&c[nb]!=11)if(b[ad])return b[ad](k);else{for(;a=b[Tb];)c[Bb](a,b);return Sg(b)}}function Wg(b){return Xg(b[Tb],h)}function Yg(b){return Xg(b[fc],h)}function tca(b){return Xg(b[pc],k)}function Xg(b,a){for(;b&&b[nb]!=1;)b=a?b[fc]:b[pc];return b}function qca(b){return af(b)&&b[nb]>0}
function Zg(b,a){if(b[bd]&&a[nb]==1)return b==a||b[bd](a);if(typeof b[taa]!="undefined")return b==a||Boolean(b[taa](a)&16);for(;a&&b!=a;)a=a[A];return a==b}function Eg(b){return b[nb]==9?b:b[Mc]||b[yc]}var uca="textContent";function ah(b,a){if(uca in b)b.textContent=a;else if(b[Tb]&&b[Tb][nb]==3){for(;b[Qc]!=b[Tb];)b[Nc](b[Qc]);ma(b[Tb],a)}else{Pg(b);b[o](Eg(b)[yb](a))}}function bh(b,a){var c=[];return vca(b,a,c,h)?c[0]:undefined}function wca(b,a){var c=[];vca(b,a,c,k);return c}
function vca(b,a,c,d){if(b!=i)for(var f=0,g;g=b[cc][f];f++){if(a(g)){c[p](g);if(d)return h}if(vca(g,a,c,d))return h}return k}var xca="innerText",ch="\n";function dh(b){if(L&&xca in b)b=b[waa][mb](/(\r\n|\r|\n)/g,ch);else{var a=[];yca(b,a,h);b=a[kd](I)}b=b[mb](/\xAD/g,I);b=b[mb](/ +/g,J);if(b!=J)b=b[mb](/^\s*/,I);return b}function eh(b){var a=[];yca(b,a,k);return a[kd](I)}
function yca(b,a,c){if(!(b[Gb]in zca))if(b[nb]==3)c?a[p](String(b[md])[mb](/(\r\n|\r|\n)/g,I)):a[p](b[md]);else if(b[Gb]in Aca)a[p](Aca[b[Gb]]);else for(b=b[Tb];b;){yca(b,a,c);b=b[fc]}}function rca(b){if(b&&typeof b[u]==Qe)if(af(b))return typeof b[Ab]==Se||typeof b[Ab]==Xe;else if(Ze(b))return typeof b[Ab]==Se;return k}function fh(b,a,c){return gh(b,function(d){return(!a||d[Gb]==a)&&(!c||Bg(d,c))},h)}
function gh(b,a,c,d){if(!c)b=b[A];c=d==i;for(var f=0;b&&(c||f<=d);){if(a(b))return b;b=b[A];f++}return i}function Dg(b){this.ki=b||Je[yc]||ea}function Bca(){}function N(b,a){za(this,b);Pa(this,a);sa(this,this[y])}function hh(b,a){b&&this.wc(b,a)}function Cca(){}
function ih(b,a,c,d,f){if(a)if(Ve(a)){for(var g=0;g<a[u];g++)ih(b,a[g],c,d,f);return i}else{d=!!d;var j=jh;a in j||(j[a]=Dca());j=j[a];if(!(d in j)){j[d]=Dca();j.Cf++}j=j[d];var n=bf(b),s;j.SL++;if(j[n]){s=j[n];for(g=0;g<s[u];g++){j=s[g];if(j.GA==c&&j.Si==f){if(j.rla)break;return s[g].key}}}else{s=j[n]=Eca();j.Cf++}g=Fca();g.src=b;j=Gca();j.wc(c,g,b,a,d,f);c=j.key;g.key=c;s[p](j);kh[c]=j;lh[n]||(lh[n]=Eca());lh[n][p](j);if(b[Vb]){if(b==Je||!b.f8a)b[Vb](a,g,d)}else b[vaa](Hca(a),g);return c}else e(Error(".10"))}
function mh(b,a,c,d,f){if(Ve(a)){for(var g=0;g<a[u];g++)mh(b,a[g],c,d,f);return i}b=ih(b,a,c,d,f);kh[b].e5a=h;return b}function nh(b,a,c,d,f){if(Ve(a)){for(var g=0;g<a[u];g++)nh(b,a[g],c,d,f);return i}d=!!d;b=Ica(b,a,d);if(!b)return k;for(g=0;g<b[u];g++)if(b[g].GA==c&&b[g][Fb]==d&&b[g].Si==f)return oh(b[g].key);return k}
function oh(b){if(!kh[b])return k;var a=kh[b];if(a.rla)return k;var c=a.src,d=a[Zb],f=a.qf,g=a[Fb];if(c[Ac]){if(c==Je||!c.f8a)c[Ac](d,f,g)}else c.detachEvent&&c.detachEvent(Hca(d),f);c=bf(c);f=jh[d][g][c];if(lh[c]){var j=lh[c];jf(j,a);j[u]==0&&delete lh[c]}a.rla=h;f.h2b=h;Jca(d,g,c,f);delete kh[b];return h}
function Jca(b,a,c,d){if(!d.vRa)if(d.h2b){for(var f=0,g=0;f<d[u];f++)if(d[f].rla){var j=d[f].qf;j.src=i;Kca(j);Lca(d[f])}else{if(f!=g)d[g]=d[f];g++}Ia(d,g);d.h2b=k;if(g==0){Mca(d);delete jh[b][a][c];jh[b][a].Cf--;if(jh[b][a].Cf==0){Nca(jh[b][a]);delete jh[b][a];jh[b].Cf--}if(jh[b].Cf==0){Nca(jh[b]);delete jh[b]}}}}
function ph(b,a,c){var d=0,f=b==i,g=a==i,j=c==i;c=!!c;if(f)uf(lh,function(s){for(var v=s[u]-1;v>=0;v--){var C=s[v];if((g||a==C[Zb])&&(j||c==C[Fb])){oh(C.key);d++}}});else{b=bf(b);if(lh[b]){b=lh[b];for(f=b[u]-1;f>=0;f--){var n=b[f];if((g||a==n[Zb])&&(j||c==n[Fb])){oh(n.key);d++}}}}return d}function Ica(b,a,c){var d=jh;if(a in d){d=d[a];if(c in d){d=d[c];b=bf(b);if(d[b])return d[b]}}return i}var qh="on";function Hca(b){if(b in Oca)return Oca[b];return Oca[b]=qh+b}
function rh(b,a,c,d,f){var g=1;a=bf(a);if(b[a]){b.SL--;b=b[a];if(b.vRa)b.vRa++;else b.vRa=1;try{for(var j=b[u],n=0;n<j;n++){var s=b[n];if(s&&!s.rla)g&=Pca(s,f)!==k}}finally{b.vRa--;Jca(c,d,a,b)}}return Boolean(g)}function Pca(b,a){a=b[Xb](a);b.e5a&&oh(b.key);return a}
function sh(b,a){if(Ye(a))a=new N(a,b);else if(a instanceof N)Pa(a,a[y]||b);else{var c=a;a=new N(a[Zb],b);zf(a,c)}c=1;var d,f=a[Zb],g=jh;if(!(f in g))return h;g=g[f];f=h in g;var j;if(f){d=[];for(j=b;j;j=j.rv())d[p](j);j=g[h];j.SL=j.Cf;for(var n=d[u]-1;!a.sQ&&n>=0&&j.SL;n--){sa(a,d[n]);c&=rh(j,d[n],a[Zb],h,a)&&a.t1!=k}}if(k in g){j=g[k];j.SL=j.Cf;if(f)for(n=0;!a.sQ&&n<d[u]&&j.SL;n++){sa(a,d[n]);c&=rh(j,d[n],a[Zb],k,a)&&a.t1!=k}else for(b=b;!a.sQ&&b&&j.SL;b=b.rv()){sa(a,b);c&=rh(j,b,a[Zb],k,a)&&a.t1!=
k}}return Boolean(c)}var Qca="window.event";
function th(b,a){if(!kh[b])return h;b=kh[b];var c=b[Zb],d=jh;if(!(c in d))return h;d=d[c];var f,g;if(L){f=a||Le(Qca);a=h in d;var j=k in d;if(a){if(f[Sb]<0||f.returnValue!=undefined)return h;a:{var n=k;if(f[Sb]==0)try{xa(f,-1);break a}catch(s){n=h}if(n||f.returnValue==undefined)paa(f,h)}}n=Rca();n.wc(f,this);f=h;try{if(a){for(var v=Eca(),C=n[Hb];C;C=C[A])v[p](C);g=d[h];g.SL=g.Cf;for(var M=v[u]-1;!n.sQ&&M>=0&&g.SL;M--){sa(n,v[M]);f&=rh(g,v[M],c,h,n)}if(j){g=d[k];g.SL=g.Cf;for(M=0;!n.sQ&&M<v[u]&&g.SL;M++){sa(n,
v[M]);f&=rh(g,v[M],c,k,n)}}}else f=Pca(b,n)}finally{if(v){Ia(v,0);Mca(v)}n.D();Sca(n)}return f}g=new hh(a,this);try{f=Pca(b,g)}finally{g.D()}return f}function uh(){}var vh="@",wh="]",xh=")";
function yh(b){b=String(b);if(/^\s*$/[cb](b)?k:/^[\],:{}\s\u2028\u2029]*$/[cb](b[mb](/\\["\\\/bfnrtu]/g,vh)[mb](/"[^"\\\n\r\u2028\u2029\x00-\x08\x10-\x1f\x80-\x9f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,wh)[mb](/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,I)))try{return eval(gg+b+xh)}catch(a){}e(Error(".11`"+b))}function zh(b){return(new Tca).Xs(b)}function Tca(){}var Uca="\\u",Vca="000",Wca="00",Ah="0";
function Xca(b,a,c){c[p](Vf,a[mb](Yca,function(d){if(d in Zca)return Zca[d];var f=d[Xc](0),g=Uca;if(f<16)g+=Vca;else if(f<256)g+=Wca;else if(f<4096)g+=Ah;return Zca[d]=g+f[t](16)}),Vf)}function Bh(b,a){this.Ly=b||1;this.UDa=a||Ch;this.E4a=G(this.Pnd,this);this.Oia=Zf()}function Dh(b,a,c){if(Ze(b)){if(c)b=G(b,c)}else if(b&&typeof b[Xb]==Se)b=G(b[Xb],b);else e(Error(".9"));return a>2147483647?-1:Ch[xc](b,a||0)}function Eh(b){Ch[gb](b)}function ada(){if(Fh){this.GY={};this.a1a={};this.oZa=[]}}
function bda(b,a){if(b.Lf){a=Ye(a)?a:af(a)?bf(a):I;b.oZa[p](a)}}function cda(b){if(b.Lf){var a=b.oZa.pop();dda(b,a)}}function eda(b,a){if(b.Lf){a=bf(a);for(var c=0;c<b.oZa[u];c++){var d=b.oZa[c];fda(b,b.GY,d,a);fda(b,b.a1a,a,d)}}}function dda(b,a){var c=b.a1a[a],d=b.GY[a];c&&d&&Ff(c,function(f){Ff(d,function(g){fda(this,this.GY,f,g);fda(this,this.a1a,g,f)},this)},b)}function fda(b,a,c,d){a[c]||(a[c]=[]);ef(a[c],d)||a[c][p](d)}function gda(){return hda()}
var ida="MSXML2.XMLHTTP.6.0",jda="MSXML2.XMLHTTP.3.0",kda="MSXML2.XMLHTTP",lda="Microsoft.XMLHTTP";function mda(){if(!nda&&typeof XMLHttpRequest=="undefined"&&typeof ActiveXObject!="undefined"){for(var b=[ida,jda,kda,lda],a=0;a<b[u];a++){var c=b[a];try{new ActiveXObject(c);return nda=c}catch(d){}}e(Error(".13"))}return nda}function Gh(){this.headers=new Hf}var Hh="complete",Ih="ready";function Jh(b,a,c,d,f,g){var j=new Gh;oda[p](j);a&&ih(j,Hh,a);ih(j,Ih,df(pda,j));g&&j.X1(g);j[Mb](b,c,d,f)}
function qda(b,a){Gh[w].oqb=og(b,Gh[w].oqb,a)}function pda(b){b.D();jf(oda,b)}var Kh="error";function rda(b){if(!b.vab){b.vab=h;b[r](Hh);b[r](Kh)}}var Lh="readystatechange",Mh="success",sda=" [";function tda(b){if(b.ng)if(typeof uda!="undefined")if(!(b.Z0a[1]&&b.ts()==4&&b.hf()==2))if(b.XOa&&b.ts()==4)Ch[xc](G(b.Y5b,b),0);else{b[r](Lh);if(b.jm()){b.ng=k;if(b.ye()){b[r](Hh);b[r](Mh)}else{b.eo=6;var a;try{a=b.ts()>2?b.ob.statusText:I}catch(c){a=I}b.wk=a+sda+b.hf()+wh;rda(b)}vda(b)}}}
function vda(b,a){if(b.ob){var c=b.ob,d=b.Z0a[0]?Me:i;b.ob=i;b.Z0a=i;if(b.hD){Ch[gb](b.hD);b.hD=i}if(!a){bda(Nh,c);b[r](Ih);cda(Nh)}if(Nh.Lf){b=bf(c);delete Nh.a1a[b];for(var f in Nh.GY){jf(Nh.GY[f],b);Nh.GY[f][u]==0&&delete Nh.GY[f]}}try{ja(c,d)}catch(g){}}}function Oh(b,a){this.defaultValue=b;za(this,a);pa(this,b)}var Ph="b";function Qh(b){Oh[z](this,b,Ph)}function Rh(b){oaa(this,(new Error)[Gc]||I);Fba(this);if(b)Oa(this,String(b))}
function Sh(b,a){var c;if(b instanceof Sh){this.hma(a==i?b.hP:a);this.Pr(b.ul);wda(this,b.DX);this.iB(b.Jk());Th(this,b.UA);this.Or(b.Vf);this.Jx(b.Of().vc());Uh(this,b.td())}else if(b&&(c=String(b)[Kb](Vh))){this.hma(!!a);this.Pr(c[1]||I,h);wda(this,c[2]||I,h);this.iB(c[3]||I,h);Th(this,c[4]);this.Or(c[5]||I,h);this.uo(c[6]||I,h);Uh(this,c[7]||I,h)}else{this.hma(!!a);this.Vs=new Wh(i,this,this.hP)}}function wda(b,a,c){Xh(b);delete b.DG;b.DX=c?Yh(a):a;return b}
function Th(b,a){Xh(b);delete b.DG;if(a){a=Number(a);if(ia(a)||a<0)e(Error(".15`"+a));b.UA=a}else b.UA=i;return b}function Zh(b,a){return b.Vs.J(a)}function Uh(b,a,c){Xh(b);delete b.DG;b.N5=c?Yh(a):a;return b}var ai="zx";function bi(b){Xh(b);b.ka(ai,Yf());return b}function Xh(b){if(b.xia)e(Error(".16"))}function ci(b,a,c,d,f,g,j,n){n=new Sh(i,n);b&&n.Pr(b);a&&wda(n,a);c&&n.iB(c);d&&Th(n,d);f&&n.Or(f);g&&n.Jx(g);j&&Uh(n,j);return n}function Yh(b){return b?ga(b):I}
function xda(b,a){var c=i;if(Ye(b)){c=b;yda[cb](c)||(c=encodeURI(b));if(c[Pc](a)>=0)c=c[mb](a,zda)}return c}var di="%";function zda(b){b=b[Xc](0);return di+(b>>4&15)[t](16)+(b&15)[t](16)}function Wh(b,a,c){this.mT=b||i;this.Bf=a||i;this.hP=!!c}var ei="=";function fi(b){if(!b.km){b.km=new Hf;if(b.mT)for(var a=b.mT[Cc](Sf),c=0;c<a[u];c++){var d=a[c][Db](ei),f=i,g=i;if(d>=0){f=a[c][Zc](0,d);g=a[c][Zc](d+1)}else f=a[c];f=Rf(f);f=gi(b,f);b.add(f,g?Rf(g):I)}}}
function Ada(b,a,c){var d=Df(b);if(typeof d=="undefined")e(Error(".17"));b=Cf(b);if(d[u]!=b[u])e(Error(".18"));a=new Wh(i,a,c);for(c=0;c<d[u];c++)a.add(d[c],b[c]);return a}function hi(b){delete b.Cea;delete b.mT;b.Bf&&delete b.Bf.DG}function gi(b,a){a=String(a);if(b.hP)a=a[od]();return a}var ii="i";function ji(b){Oh[z](this,b,ii)}var ki="s";function Bda(b){Oh[z](this,b,ki)}var Cda="[exception trying to get caller]";
function Dda(b,a,c){c[p](b);try{if(b[Jc])a-- >0?Dda(b[Jc],a,c):c[p](lg)}catch(d){c[p](Cda)}}function Eda(b,a,c,d,f){var g=[];Dda(arguments[Hc],5,g);var j=Fda(b,a,c,d,f);if(j)kh[j].nZa=g;return j}var Gda=";domain=",Hda=";path=",Ida=";expires=";function li(b,a,c,d,f){if(/[;=]/[cb](b))e(Error(".19`"+b));if(/;/[cb](a))e(Error(".20`"+a));Ke(c)||(c=-1);ea.cookie=b+ei+a+(f?Gda+f:I)+(d?Hda+d:I)+(c<0?I:c==0?Ida+(new Date(1970,1,1))[zaa]():Ida+(new Date((new Date)[hc]()+c*1E3))[zaa]())}
function mi(b,a){b=b+ei;for(var c=String(ea[sb])[Cc](Jda),d=0,f;f=c[d];d++)if(f[Db](b)==0)return f[nc](b[u]);return a}function ni(b,a,c){var d=Ke(mi(b));li(b,I,0,a,c);return d}var Kda="GMAIL_LF";function oi(b){ni(b,pi);b=Lda.J(b);if((qi&b)==0){qi|=b;li(Kda,qi[t](16),31536E3,pi)}}function Mda(b){ni(b,pi);b=Lda.J(b);if(qi&b){qi&=~b;qi==0?ni(Kda,pi):li(Kda,qi[t](16),31536E3,pi)}}function ri(b){Ke(mi(b))&&oi(b);b=Lda.J(b);return(qi&b)!=0}function Nda(){this.eE=[];this.pDa=[];this.dna=[]}
function si(b,a,c){return(a=Oda(a,c))&&a.js&&a.js[b]}function Oda(b,a){b=b?b[oc]:top[oc];try{if(b&&b.js&&(ti==b.js._GM_JSVersion||a))return b}catch(c){}return i}function Pda(b,a,c,d,f,g,j){return(b=si(b,a,c))&&b(d,f,g,j)}function Qda(){}function ui(b,a){this.WIb=[];this.eh=[i,i];this.LIb=b;this.kMb=a||i}function Rda(b,a){b.wE=a instanceof Error?1:0;b.eh[b.wE]=a;Sda(b)}function vi(b,a,c,d){b.WIb[p]([a,c,d]);b.wE>=0&&Sda(b);return b}
function Sda(b){if(b.XAb&&b.wE!=0){Eh(b.XAb);delete b.XAb}for(var a=b.WIb,c=b.wE,d=b.eh[c],f=k,g;a[u]>0&&b.IV==0;){var j=a[db](),n=j[c];if(n)try{var s=n[z](j[2]||b.kMb,d);if(s!==undefined)d=s;c=d instanceof Error?1:0;if(d instanceof ui){g=G(b.Tyc,b);b.Mrb()}}catch(v){c=1;d=v;a[u]||(f=h)}}b.wE=c;b.eh[c]=d;if(g&&b.IV){vi(d,g,g,void 0);d.lwc=h}if(f)b.XAb=Dh(function(){e(d)})}function Tda(b){Rh[z](this);this.MAc=b}function wi(b){Rh[z](this);this.MAc=b}function xi(){}
function Uda(b){this.yMb=b;this.irb=[];this.eza=[];this.G9a=[]}function Vda(b,a,c){for(b=0;b<a[u];b++)a[b][hd](c);Ia(a,0)}function Wda(b,a){this.SLa=b;this.na=a}function O(){this.bk={};this.eF=[];this.rI=[];this.U2=[];this.gIa={}}var yi="active",zi="idle",Xda="userActive",Yda="userIdle";function Ai(b){var a=b.TYb,c=b.Eb();if(c!=a){Zda(b,c?yi:zi);b.TYb=c}a=b.U2[u]>0;if(a!=b.mjc){Zda(b,a?Xda:Yda);b.mjc=a}}function aea(b,a){if(b.eF[u]==0)bea(b,a);else{b.rI[p](a);Ai(b)}}
function bea(b,a,c,d){if(b.bk[a].hc())e(Error(".22`"+a));a=cea(b,a);if(!b.uHa&&a[u]>1){var f=a[db]();b.rI=a[wb](b.rI);a=[f]}if(!c)b.H6a=0;b.eF=a;Ai(b);b.Bxa.ySc(nf(a),b.bk,i,G(b.hJc,b),G(b.jJc,b),!!d)}function cea(b,a){var c=[a];for(a=nf(b.bk[a].yMb);a[u];){var d=a.pop();if(!b.bk[d].hc()){c[ld](d);Array[w][ld][cd](a,b.bk[d].yMb)}}rf(c);return c}function Bi(b,a){b.CSc=i;b.vea=a}function Ci(b){b.vea=i}
function dea(b,a){var c=b.eF.pop();Ia(b.eF,0);var d=Di(b.rI,function(s){return ef(cea(b,s),c)});c&&hf(d,c);for(var f=0;f<d[u];f++){jf(b.rI,d[f]);jf(b.U2,d[f])}var g=b.gIa[Xa];if(g)for(f=0;f<g[u];f++)for(var j=g[f],n=0;n<d[u];n++)j(Kh,d[n],a);b.bk[c]&&b.bk[c].dza(a);Ai(b)}function eea(b){for(;b.rI[u];){var a=b.rI[db]();if(!b.bk[a].hc()){bea(b,a);return}}Ai(b)}function Zda(b,a){b=b.gIa[a];for(var c=0;b&&c<b[u];c++)b[c](a)}
var fea=fa[0],gea=fa[2],Ei=fa[3],ti=fa[4],hea=fa[5],Fi=fa[6],pi=fa[7],iea=fa[8],Gi=fa[9],Hi=fa[10],jea=fa[11],kea=fa[12],lea=fa[14],Ii=fa[15],Ji=fa[16],mea=fa[17],nea=fa[18],Ki=fa[19],oea=fa[20],pea=fa[21],qea=fa[22],rea=fa[23],sea=fa[24],tea=fa[25];_B_prog(4)}catch(e){_B_err(e)}

try{var uda=uda||{},Je=this,cf="closure_hashCode_"+l[rb](l[Tc]()*2147483648)[t](36),hba=0,Zf=Date.now||function(){return+new Date};caa[w].GHb=function $e(a){if(arguments[u]>1){var c=Array[w][lb][z](arguments,1);c[ld](this,a);return G[cd](i,c)}else return G(this,a)};caa[w].vC=function $f(a){H(this,a)};var lf=Array[w],ff=lf[Db]?function(b,a,c){return lf[Db][z](b,a,c)}:function(b,a,c){c=c==i?0:c<0?l.max(0,b[u]+c):c;if(Ye(b)){if(!Ye(a)||a[u]!=1)return-1;return b[Db](a,c)}for(c=c;c<b[u];c++)if(c in b&&b[c]===a)return c;return-1},Ff=lf[Ub]?function(b,a,c){lf[Ub][z](b,a,c)}:function(b,a,c){for(var d=b[u],f=Ye(b)?b[Cc](I):b,g=0;g<d;g++)g in f&&a[z](c,f[g],g,b)},Di=lf[Ya]?function(b,a,c){return lf[Ya][z](b,a,c)}:function(b,a,c){for(var d=b[u],f=[],g=0,j=Ye(b)?b[Cc](I):b,n=0;n<d;n++)if(n in j){var s=j[n];
if(a[z](c,s,n,b))f[g++]=s}return f},Li=lf.map?function(b,a,c){return lf.map[z](b,a,c)}:function(b,a,c){for(var d=b[u],f=new Array(d),g=Ye(b)?b[Cc](I):b,j=0;j<d;j++)if(j in g)f[j]=a[z](c,g[j],j,b);return f},Mi=lf[Aaa]?function(b,a,c){return lf[Aaa][z](b,a,c)}:function(b,a,c){for(var d=b[u],f=Ye(b)?b[Cc](I):b,g=0;g<d;g++)if(g in f&&a[z](c,f[g],g,b))return h;return k},Gf=lf[Caa]?function(b,a,c){return lf[Caa][z](b,a,c)}:function(b,a,c){for(var d=b[u],f=Ye(b)?b[Cc](I):b,g=0;g<d;g++)if(g in f&&!a[z](c,
f[g],g,b))return k;return h};var Ni="StopIteration"in Je?Je.StopIteration:Error(".2");Ma(tf[w],function $g(){e(Ni)});tf[w].mG=function $h(){return this};var lba=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];F=Hf[w];F.Cf=0;F.FX=0;var uea="Cf";F.Nb=D(uea);F.Oa=function $j(){qba(this);for(var a=[],c=0;c<this.ri[u];c++)a[p](this.yd[this.ri[c]]);return a};F.Sb=function $k(){qba(this);return this.ri[wb]()};F.Xb=function $l(a){return If(this.yd,a)};F.BS=function $m(a){for(var c=0;c<this.ri[u];c++){var d=this.ri[c];if(If(this.yd,d)&&this.yd[d]==a)return h}return k};
F.Qc=function $n(a,c){if(this===a)return h;if(this.Cf!=a.Nb())return k;c=c||pba;qba(this);for(var d,f=0;d=this.ri[f];f++)if(!c(this.J(d),a.J(d)))return k;return h};F.nd=function $o(){return this.Cf==0};Aa(F,function $p(){this.yd={};Ia(this.ri,0);this.FX=this.Cf=0});wa(F,function $q(a){if(If(this.yd,a)){delete this.yd[a];this.Cf--;this.FX++;this.ri[u]>2*this.Cf&&qba(this);return h}return k});F.J=function $r(a,c){if(If(this.yd,a))return this.yd[a];return c};
F.set=function $s(a,c){if(!If(this.yd,a)){this.Cf++;this.ri[p](a);this.FX++}this.yd[a]=c};F.Vl=function $t(a){var c;if(a instanceof Hf){c=a.Sb();a=a.Oa()}else{c=xf(a);a=wf(a)}for(var d=0;d<c[u];d++)this.set(c[d],a[d])};F.vc=function $u(){return new Hf(this)};F.mG=function $w(a){qba(this);var c=0,d=this.ri,f=this.yd,g=this.FX,j=this,n=new tf;Ma(n,function $v(){for(;;){if(g!=j.FX)e(Error(".6"));if(c>=d[u])e(Ni);var v=d[c++];return a?v:f[v]}});return n};F=Jf[w];F.Pc=k;var Oi="Pc";F.yPc=D(Oi);F.xga=Jf[w].yPc;F.D=function $y(){if(!this.Pc){this.Pc=h;this.L()}};F.L=B();H(Lf,Jf);F=Lf[w];F.r4=i;F.VMb=i;F.Iw=function $A(){if(this.nv[u])return this.nv.pop();return this[sc]()};F.ez=function $B(a){this.nv[u]<this.LP?this.nv[p](a):this.ZS(a)};laa(F,function $C(){return this.r4?this.r4():{}});F.ZS=function $D(a){if(this.VMb)this.VMb(a);else if(Ze(a.D))a.D();else for(var c in a)delete a[c]};F.L=function $E(){Lf.C.L[z](this);for(var a=this.nv;a[u];)this.ZS(a.pop());delete this.nv};var rba=/^[a-zA-Z0-9\-_.!~*'()]*$/,wba=/&/g,xba=/</g,yba=/>/g,zba=/\"/g,Aba=/[&<>\"]/,vea=Zf();F=cg[w];F.Nb=function $F(){return this.yd.Nb()};F.add=function $G(a){this.yd.set(Dba(a),a)};F.Vl=function $H(a){a=Cf(a);for(var c=a[u],d=0;d<c;d++)this.add(a[d])};F.wb=function $I(a){a=Cf(a);for(var c=a[u],d=0;d<c;d++)this[Pb](a[d])};wa(F,function $J(a){return this.yd[Pb](Dba(a))});Aa(F,function $K(){this.yd[bc]()});F.nd=function $L(){return this.yd.nd()};Sa(F,function $M(a){return this.yd.Xb(Dba(a))});F.iwa=function $N(a){var c=new cg;a=Cf(a);for(var d=0;d<a[u];d++){var f=a[d];this[bd](f)&&c.add(f)}return c};
F.Oa=function $O(){return this.yd.Oa()};F.vc=function $P(){return new cg(this)};F.Qc=function $Q(a){return this.Nb()==mba(a)&&this.mQa(a)};F.mQa=function $R(a){var c=mba(a);if(this.Nb()>c)return k;if(!(a instanceof cg)&&c>5)a=new cg(a);return oba(this,function(d){return nba(a,d)})};F.mG=function $S(){return this.yd.mG(k)};var Sba={};Tba[w].Gdb=function $T(a,c){var d=this;c&&Mba(15);return function(){try{return a[cd](this,arguments)}catch(f){d.rOb(f);e(f)}finally{}}};H(Xba,Tba);var wea="__hooked_";Xba[w].Gdb=function $U(a,c){var d=wea+ +bf(this)+ng;a[d]||(a[d]=Yba(this,a));a=a[d];if(this.oBc)return a;return Xba.C.Gdb[z](this,a,c)};Zba[w].wc=function $V(){this.Dla=[]};var tg=new Zba;var Pi,xea,yea,zea,Aea,Qi,Ri,Si;Aea=zea=yea=xea=Pi=k;var Bea,Cea="Mobile";if(Bea=ug()){var Dea=aca();Pi=Bea[Db]("Opera")==0;xea=!Pi&&Bea[Db]("MSIE")!=-1;zea=(yea=!Pi&&Bea[Db]("WebKit")!=-1)&&Bea[Db](Cea)!=-1;Aea=!Pi&&!yea&&Dea.product=="Gecko"}var Ng=Pi,L=xea,Fh=Aea,Jg=yea,mca=zea,Eea=aca(),Ti=Eea&&Eea.platform||I;Qi=Xf(Ti,"Mac");Ri=Xf(Ti,"Win");Si=Xf(Ti,"Linux");var Fea=!!aca()&&Xf(aca().appVersion||I,"X11"),Gea=I,Hea;
if(Ng&&Je.opera){var Iea=Je.opera[Za];Gea=typeof Iea==Se?Iea():Iea}else{if(Fh)Hea=/rv\:([^\);]+)(\)|;)/;else if(L)Hea=/MSIE\s+([^\);]+)(\)|;)/;else if(Jg)Hea=/WebKit\/(\S+)/;if(Hea){var Jea=Hea[hb](ug());Gea=Jea?Jea[1]:I}}var wg=Gea,bca={};xg[w].vc=function $W(){return new xg(this.x,this.y)};F=yg[w];F.vc=function $X(){return new yg(this[ib],this[id])};F.ktc=function $Y(){return this[ib]*this[id]};F.x3a=function $Z(){return this[ib]/this[id]};F.nd=function $_(){return!this.ktc()};F.ceil=function $0(){ka(this,l[ob](this[ib]));Wa(this,l[ob](this[id]));return this};F.floor=function $1(){ka(this,l[rb](this[ib]));Wa(this,l[rb](this[id]));return this};F.round=function $2(){ka(this,l[kb](this[ib]));Wa(this,l[kb](this[id]));return this};F.scale=function $3(a){this.width*=a;this.height*=a;return this};_B_prog(5)}catch(e){_B_err(e)}

try{var eca;var Ui="height",Vi="width",Wi="type",jca={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:Ui,width:Vi,usemap:"useMap",frameborder:"frameBorder",type:Wi},zca={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Aca={IMG:J,BR:ch};F=Dg[w];F.W=Cg;var Kea="ki";F.cb=D(Kea);F.b=function $5(a){return Ye(a)?this.ki[ub](a):a};F.Qa=Dg[w].b;F.ie=function $6(a,c,d){return fca(this.ki,a,c,d)};F.Gkc=Dg[w].ie;F.nCa=Lg;F.UO=function $7(a){return Mg(a||this.Ec())};
F.ba=function $8(){return pca(this.ki,arguments)};F.NR=Dg[w].ba;F.createElement=function $9(a){return this.ki[Qb](a)};F.createTextNode=function $$(a){return this.ki[yb](a)};F.Ec=function $aa(){return this.ki[ac]||this.ki[dc]};daa(F,Og);F.ZA=Pg;F.yA=Qg;F.xA=Rg;qaa(F,Sg);F.oac=Ug;F.sbb=Vg;F.Bp=Wg;F.LT=Yg;F.b_=tca;F.mjb=qca;Sa(F,Zg);F.Fp=Eg;F.TQ=ah;F.iEc=bh;F.hbb=wca;F.neb=dh;F.zFc=fh;F.yFc=gh;var Lea="L2.NativeHelper";Bca[w].sPa=function $ba(){if(L)try{var a=new ActiveXObject(Lea);if(a.gcTracer){a.gcTracer.installGcTracing();this.LZ=a.gcTracer}}catch(c){}};Qa(Bca[w],function $ca(){if(this.LZ){this.LZ.isTracing()&&this.LZ.endGcTracing();this.LZ.startGcTracing()}});Ga(Bca[w],function $da(){if(this.LZ&&this.LZ.isTracing()){var a=this.LZ;this.LZ.endGcTracing();for(var c=a.getNumTraces(),d=0,f=0;f<c;f++){var g=a.getTrace(f).gcElapsedTime;l[kb](g*10)/10;d+=g}}});var Mea=new Bca;H(N,Jf);F=N[w];F.L=function $ea(){delete this[Zb];delete this[y];delete this[Hb]};F.sQ=k;F.t1=h;F.stopPropagation=function $fa(){this.sQ=h};F.preventDefault=function $ga(){this.t1=k};H(hh,N);F=hh[w];Pa(F,i);F.relatedTarget=i;F.offsetX=0;F.offsetY=0;Da(F,0);Ea(F,0);faa(F,0);gaa(F,0);eaa(F,0);xa(F,0);haa(F,0);F.ctrlKey=k;F.altKey=k;F.shiftKey=k;F.metaKey=k;F.pj=i;var Xi="mouseover",Yi="mouseout",Zi="keypress";
F.wc=function $ha(a,c){var d=za(this,a[Zb]);Pa(this,a[y]||a[saa]);sa(this,c);if(c=a[eb]){if(Fh)try{c=c[Gb]&&c}catch(f){c=i}}else if(d==Xi)c=a.fromElement;else if(d==Yi)c=a.toElement;this.relatedTarget=c;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;Da(this,a[kc]!==undefined?a[kc]:a.pageX);Ea(this,a[lc]!==undefined?a[lc]:a.pageY);faa(this,a[Ib]||0);gaa(this,a[Jb]||0);eaa(this,a[Cb]);xa(this,a[Sb]||0);haa(this,a[Ob]||(d==Zi?a[Sb]:0));this.ctrlKey=
a[Bc];this.altKey=a[rc];this.shiftKey=a[dd];this.metaKey=a[Eb];this.pj=a;delete this.t1;delete this.sQ};F.stopPropagation=function $ia(){this.sQ=h;if(this.pj[Ec])this.pj[Ec]();else this.pj.cancelBubble=h};var aj="8",Nea=L&&!vg(aj);hh[w].preventDefault=function $ja(){this.t1=k;var a=this.pj;if(a[zb])a[zb]();else{paa(a,k);if(Nea)try{if(a[Bc]||a[Sb]>=112&&a[Sb]<=123)xa(a,-1)}catch(c){}}};var Oea="pj";hh[w].DFc=D(Oea);
hh[w].L=function $la(){hh.C.L[z](this);this.pj=i;Pa(this,i);sa(this,i);this.relatedTarget=i};var bj;var Pea=(bj="ScriptEngine"in Je&&Je.ScriptEngine()=="JScript")?Je.ScriptEngineMajorVersion()+He+Je.ScriptEngineMinorVersion()+He+Je.ScriptEngineBuildVersion():Ah;var Qea=0;F=Cca[w];F.key=0;F.rla=k;F.e5a=k;F.wc=function $ma(a,c,d,f,g,j){if(Ze(a))this.HXb=h;else if(a&&a[Xb]&&Ze(a[Xb]))this.HXb=k;else e(Error(".9"));this.GA=a;this.qf=c;this.src=d;za(this,f);this.capture=!!g;this.Si=j;this.e5a=k;this.key=++Qea;this.rla=k};ya(F,function $na(a){if(this.HXb)return this.GA[z](this.Si||this.src,a);return this.GA[Xb][z](this.GA,a)});var Dca,Nca,Eca,Mca,Fca,Rea,Kca,Gca,Lca,Rca,Sca,Sea="5.7";
(function(){function b(){return{Cf:0,SL:0}}function a(){return[]}function c(){function Y(ha){return j[z](Y.src,Y.key,ha)}return Y}function d(){return new Cca}function f(){return new hh}var g=bj&&!(bg(Pea,Sea)>=0),j;Rea=function $oa(ha){j=ha};if(g){Dca=function $pa(){return n.Iw()};Nca=function $qa(ha){n.ez(ha)};Eca=function $ra(){return s.Iw()};Mca=function $sa(ha){s.ez(ha)};Fca=function $ta(){return v.Iw()};Kca=function $ua(){v.ez(c())};Gca=function $va(){return C.Iw()};Lca=function $wa(ha){C.ez(ha)};
Rca=function $xa(){return M.Iw()};Sca=function $ya(ha){M.ez(ha)};var n=new Lf(0,600);n.r4=b;var s=new Lf(0,600);s.r4=a;var v=new Lf(0,600);v.r4=c;var C=new Lf(0,600);C.r4=d;var M=new Lf(0,600);M.r4=f}else{Dca=b;Nca=Me;Eca=a;Mca=Me;Fca=c;Kca=Me;Gca=d;Lca=Me;Rca=f;Sca=Me}})();var kh={},jh={},lh={},Oca={},cj="focusin",Tea=L?cj:"DOMFocusIn",dj="focusout",Uea=L?dj:"DOMFocusOut",P="click",ej="dblclick",fj="mousedown",gj="mouseup",hj="mousemove",Vea="selectstart",ij="keydown",jj="keyup",kj="blur",lj="focus",Wea="deactivate",mj="change",nj="select",oj="submit",pj="contextmenu",qj="dragstart",Xea="hashchange",rj="load",Yea="losecapture",sj="resize",tj="scroll",uj="unload",Zea={Vsd:P,ltd:ej,fwd:fj,jwd:gj,iwd:Xi,hwd:Yi,gwd:hj,eyd:Vea,yvd:Zi,xvd:ij,zvd:jj,slc:kj,anc:lj,ntd:Wea,
gud:Tea,hud:Uea,Dlc:mj,tpc:nj,Pyd:oj,ftd:pj,Atd:qj,yDb:Kh,Iud:Xea,pnc:"help",E1a:rj,Nvd:Yea,rxd:Lh,Uxd:sj,Zxd:tj,Aqc:uj};Rea(th);H(uh,Jf);F=uh[w];F.f8a=h;F.Drb=i;F.rv=D("Drb");F.dk=Ge("Drb");F.addEventListener=function $Ba(a,c,d,f){ih(this,a,c,d,f)};F.removeEventListener=function $Ca(a,c,d,f){nh(this,a,c,d,f)};ra(F,function $Da(a){return sh(this,a)});F.L=function $Ea(){uh.C.L[z](this);ph(this);this.Drb=i};Tca[w].Xs=function $Fa(a){var c=[];this.Haa(a,c);return c[kd](I)};var vj="[",wj=",",afa="{",xj=":",bfa="}";
Tca[w].Haa=function $Ga(a,c){switch(typeof a){case Xe:Xca(this,a,c);break;case Qe:c[p](baa(a)&&!ia(a)?a:gba);break;case ig:c[p](a);break;case "undefined":c[p](gba);break;case Oe:if(a==i){c[p](gba);break}if(Ve(a)){var d=a[u];c[p](vj);for(var f=I,g=0;g<d;g++){c[p](f);this.Haa(a[g],c);f=wj}c[p](wh);break}c[p](afa);d=I;for(f in a)if(a[Kc](f)){g=a[f];if(typeof g!=Se){c[p](d);Xca(this,f,c);c[p](xj);this.Haa(g,c);d=wj}}c[p](bfa);break;case Se:break;default:e(Error(".12`"+typeof a))}};
var cfa="\\n",Zca={'"':'\\"',"\\":"\\\\","/":"\\/","\u0008":"\\b","\u000c":"\\f","\n":cfa,"\r":"\\r","\t":"\\t","\u000b":"\\u000b"},Yca=/\uffff/[cb]("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;H(Bh,uh);Ra(Bh[w],k);var Ch=Je.window;F=Bh[w];F.ab=i;F.setInterval=function $Ha(a){this.Ly=a;if(this.ab&&this[Vc]){this[qc]();this[Rc]()}else this.ab&&this[qc]()};F.Pnd=function $Ia(){if(this[Vc]){var a=Zf()-this.Oia;if(a>0&&a<this.Ly*0.8)this.ab=this.UDa[xc](this.E4a,this.Ly-a);else{this.e9a();if(this[Vc]){this.ab=this.UDa[xc](this.E4a,this.Ly);this.Oia=Zf()}}}};var yj="tick";F.e9a=function $Ja(){this[r](yj)};
Qa(F,function $Ka(){Ra(this,h);if(!this.ab){this.ab=this.UDa[xc](this.E4a,this.Ly);this.Oia=Zf()}});Ga(F,function $La(){Ra(this,k);if(this.ab){this.UDa[gb](this.ab);this.ab=i}});F.L=function $Ma(){Bh.C.L[z](this);this[qc]();delete this.UDa};ada[w].Lf=Fh;ada[w].Ac=function $Na(a){this.Lf=Fh&&a};var Nh=new ada;var hda=i,dfa=i,efa=i;hda=function $Oa(){var a=mda();return a?new ActiveXObject(a):new XMLHttpRequest};dfa=function $Pa(){var a={};if(mda()){a[0]=h;a[1]=h}return a};efa=i;var nda=i;H(Gh,uh);var oda=[];F=Gh[w];F.ng=k;F.ob=i;F.Z0a=i;F.c8=I;F.zRc=I;F.eo=0;F.wk=I;F.vab=k;F.XOa=k;F.Hhb=k;F.s7=k;F.lX=0;F.hD=i;F.X1=function $Qa(a){this.lX=l.max(0,a)};var zj="GET",Aj="POST",Bj="Content-Type",ffa="application/x-www-form-urlencoded;charset=utf-8";
ua(F,function $Ra(a,c,d,f){if(this.ng)e(Error(".14"));c=c||zj;this.c8=a;this.wk=I;this.eo=0;this.zRc=c;this.vab=k;this.ng=h;this.ob=new gda;this.Z0a=efa||(efa=dfa());eda(Nh,this.ob);ja(this.ob,G(this.Y5b,this));try{this.Hhb=h;this.ob[bb](c,a,h);this.Hhb=k}catch(g){this.wq(5,g);return}a=d||I;var j=this.headers.vc();f&&Ef(f,function(s,v){j.set(v,s)});c==Aj&&!j.Xb(Bj)&&j.set(Bj,ffa);Ef(j,function(s,v){this.ob.setRequestHeader(v,s)},this);try{if(this.hD){Ch[gb](this.hD);this.hD=i}if(this.lX>0)this.hD=
Ch[xc](G(this.wo,this),this.lX);this.XOa=h;this.ob[Mb](a);this.XOa=k}catch(n){this.wq(5,n)}});ra(F,function $Sa(a){if(this.ob){bda(Nh,this.ob);try{return Gh.C[r][z](this,a)}finally{cda(Nh)}}else return Gh.C[r][z](this,a)});var gfa="Timed out after ",hfa="ms, aborting",Cj="timeout";F.wo=function $Ta(){if(typeof uda!="undefined")if(this.ob){this.wk=gfa+this.lX+hfa;this.eo=8;this[r](Cj);this[wc](8)}};
F.wq=function $Ua(a,c){this.ng=k;if(this.ob){this.s7=h;this.ob[wc]();this.s7=k}this.wk=c;this.eo=a;rda(this);vda(this)};var Dj="abort";La(F,function $Va(a){if(this.ob){this.ng=k;this.s7=h;this.ob[wc]();this.s7=k;this.eo=a||7;this[r](Hh);this[r](Dj);vda(this)}});F.L=function $Wa(){if(this.ob){if(this.ng){this.ng=k;this.s7=h;this.ob[wc]();this.s7=k}vda(this,h)}Gh.C.L[z](this)};F.Y5b=function $Xa(){!this.Hhb&&!this.XOa&&!this.s7?this.oqb():tda(this)};F.oqb=function $Ya(){tda(this)};var Ej="ng";
F.Eb=D(Ej);F.jm=function $_a(){return this.ts()==4};F.ye=function $0a(){switch(this.hf()){case 0:case 200:case 204:case 304:return h;default:return k}};F.ts=function $1a(){return this.ob?this.ob[Nb]:0};F.hf=function $2a(){try{return this.ts()>2?this.ob[Lb]:-1}catch(a){return-1}};F.zRb=function $3a(){return String(this.c8)};F.dj=function $4a(){return this.ob?this.ob.responseText:I};F.Mdb=function $5a(){return this.ob?yh(this.ob.responseText):undefined};
F.Kga=function $6a(){return Ye(this.wk)?this.wk:String(this.wk)};_B_prog(6)}catch(e){_B_err(e)}

try{var Fj="value";Oh[w].J=D(Fj);Oh[w].Ga=D(Wi);Oh[w].set=Ge(Fj);H(Qh,Oh);Qh[w].J=D(Fj);var Gj="off",Hj="1";Qh[w].Hwb=function $ab(a){var c=this[uaa];if(a==Ah||a==Gj||a==kg)c=k;else if(a==Hj||a==qh||a==jg)c=h;pa(this,c)};var Ij="7",ifa=new Qh(function(){if(L&&!vg(Ij)){var b=Number(ba.ScriptEngineMajorVersion()+He+ba.ScriptEngineMinorVersion());return!(b>=5.7||b==5.6&&ba.ScriptEngineBuildVersion()>=8834)}return k}());var jfa=new Qh(k),kfa=new Qh(k),lfa=new Qh(h),mfa=new Qh(h);H(Rh,Error);Ba(Rh[w],"CustomError");var Vh=/^(?:([^:\/?#]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;F=Sh[w];F.ul=I;F.DX=I;F.Gt=I;F.UA=i;F.Vf=I;F.N5=I;F.xia=k;F.hP=k;var Jj="//",Kj="?",Lj="#";Ha(F,function $bb(){if(this.DG)return this.DG;var a=[];this.ul&&a[p](xda(this.ul,nfa),xj);if(this.Gt){a[p](Jj);this.DX&&a[p](xda(this.DX,nfa),vh);var c;c=this.Gt;c=Ye(c)?aa(c):i;a[p](c);this.UA!=i&&a[p](xj,String(this.UA))}this.Vf&&a[p](xda(this.Vf,ofa));(c=String(this.Vs))&&a[p](Kj,c);this.N5&&a[p](Lj,xda(this.N5,pfa));return this.DG=a[kd](I)});
F.vc=function $cb(){return ci(this.ul,this.DX,this.Gt,this.UA,this.Vf,this.Vs.vc(),this.N5,this.hP)};F.Pr=function $db(a,c){Xh(this);delete this.DG;if(this.ul=c?Yh(a):a)this.ul=this.ul[mb](/:$/,I);return this};var qfa="Gt";F.Jk=D(qfa);F.iB=function $fb(a,c){Xh(this);delete this.DG;this.Gt=c?Yh(a):a;return this};F.u_=function $gb(){return!!this.Gt};F.Or=function $hb(a,c){Xh(this);delete this.DG;this.Vf=c?Yh(a):a;return this};
F.Jx=function $ib(a,c){Xh(this);delete this.DG;if(a instanceof Wh){this.Vs=a;this.Vs.Bf=this;this.Vs.hma(this.hP)}else{c||(a=xda(a,rfa));this.Vs=new Wh(a,this,this.hP)}return this};F.uo=function $jb(a,c){return this.Jx(a,c)};F.Of=D("Vs");F.Qe=function $lb(){return this.Vs[t]()};F.ka=function $mb(a,c){Xh(this);delete this.DG;this.Vs.set(a,c);return this};var sfa="N5";F.td=D(sfa);F.bub=function $ob(a){Xh(this);this.Vs[Pb](a);return this};F.cQa=D("xia");F.hma=function $qb(a){this.hP=a;this.Vs&&this.Vs.hma(a)};
var yda=/^[a-zA-Z0-9\-_.!~*'():\/;?]*$/,nfa=/[#\/\?@]/g,ofa=/[\#\?]/g,rfa=/[\#\?@]/g,pfa=/#/g;F=Wh[w];F.km=i;F.Cf=i;F.Nb=function $rb(){fi(this);return this.Cf};F.add=function $sb(a,c){fi(this);hi(this);a=gi(this,a);if(this.Xb(a)){var d=this.km.J(a);Ve(d)?d[p](c):this.km.set(a,[d,c])}else this.km.set(a,c);this.Cf++;return this};wa(F,function $tb(a){fi(this);a=gi(this,a);if(this.km.Xb(a)){hi(this);var c=this.km.J(a);if(Ve(c))this.Cf-=c[u];else this.Cf--;return this.km[Pb](a)}return k});
Aa(F,function $ub(){hi(this);this.km&&this.km[bc]();this.Cf=0});F.nd=function $vb(){fi(this);return this.Cf==0};F.Xb=function $wb(a){fi(this);a=gi(this,a);return this.km.Xb(a)};F.BS=function $xb(a){var c=this.Oa();return ef(c,a)};F.Sb=function $yb(){fi(this);for(var a=this.km.Oa(),c=this.km.Sb(),d=[],f=0;f<c[u];f++){var g=a[f];if(Ve(g))for(var j=0;j<g[u];j++)d[p](c[f]);else d[p](c[f])}return d};
F.Oa=function $zb(a){fi(this);if(a){a=gi(this,a);if(this.Xb(a)){var c=this.km.J(a);if(Ve(c))return c;else{a=[];a[p](c)}}else a=[]}else{c=this.km.Oa();a=[];for(var d=0;d<c[u];d++){var f=c[d];Ve(f)?of(a,f):a[p](f)}}return a};F.set=function $Ab(a,c){fi(this);hi(this);a=gi(this,a);if(this.Xb(a)){var d=this.km.J(a);if(Ve(d))this.Cf-=d[u];else this.Cf--}this.km.set(a,c);this.Cf++;return this};F.J=function $Bb(a,c){fi(this);a=gi(this,a);if(this.Xb(a)){a=this.km.J(a);return Ve(a)?a[0]:a}else return c};
Ha(F,function $Cb(){if(this.mT)return this.mT;if(!this.km)return I;for(var a=[],c=0,d=this.km.Sb(),f=0;f<d[u];f++){var g=d[f],j=Qf(g);g=this.km.J(g);if(Ve(g))for(var n=0;n<g[u];n++){c>0&&a[p](Sf);a[p](j,ei,Qf(g[n]));c++}else{c>0&&a[p](Sf);a[p](j,ei,Qf(g));c++}}return this.mT=a[kd](I)});F.vc=function $Db(){var a=new Wh;if(this.Cea)a.Cea=this.Cea;if(this.mT)a.mT=this.mT;if(this.km)a.km=this.km.vc();return a};
F.hma=function $Eb(a){if(a&&!this.hP){fi(this);hi(this);Ef(this.km,function(c,d){var f=d[od]();if(d!=f){this[Pb](d);this.add(f,c)}},this)}this.hP=a};F.extend=function $Fb(){for(var a=0;a<arguments[u];a++)Ef(arguments[a],function(c,d){this.add(d,c)},this)};H(ji,Oh);ji[w].J=D(Fj);ji[w].Hwb=function $Hb(a){var c=this[uaa];if(a){a=da(a,10);c=ia(a)?this[uaa]:a}pa(this,c)};H(Bda,Oh);Bda[w].J=D(Fj);Bda[w].Hwb=Ge(Fj);var tfa=new Qh(h),ufa=new Qh(h),vfa=new Qh(h),wfa=new Qh(k),xfa=new Qh(k),yfa=new Qh(h),zfa=new Bda(I),Afa=new Qh(k),Bfa=new Qh(k),Cfa=new Qh(h),Dfa=new Qh(h),Efa=new Qh(k),Ffa=new Qh(k),Gfa=new ji(3),Hfa=new ji(0),Ifa=new ji(1E3),Jfa=new Qh(k),Kfa=new Qh(k),Lfa=new Qh(h),Mfa=new Qh(h),Nfa=new Qh(h),Ofa=new ji(0),Pfa=new Qh(k),Qfa=new Qh(k),Rfa=new Qh(k),Sfa=new Qh(h),Tfa=new Qh(k);var Ufa=Yf(),Vfa=Ufa[nc](0,4);var Mj=new Sh(top[Ic]),Nj="tf",Wfa="labs",Oj="ui",Pj="2",Xfa=function(b,a){fi(b);Ef(b.km,function(c,d){ef(a,d)||this[Pb](d)},b);return b}(Mj.Of().vc(),[Nj,Wfa]).set(Oj,Pj),Yfa="ik",Zfa=Xfa.vc().set(Yfa,Gi),Qj=Kj+String(Zfa),aga=new Sh;aga.Jx(Xfa);aga.xia=h;var Rj=new Sh;Rj.Jx(Zfa);Rj.xia=h;var bga=String(Uh((new Sh(Mj)).Jx(Zfa),I)),Sj=Uh(Mj.vc(),I);Sj.xia=h;var cga=Sj.vc().Jx(i);cga.xia=h;_B_prog(7)}catch(e){_B_err(e)}

try{lfa.set(k);mfa.set(k);var dga=new function(){this.C5={}};(function(b,a){uf(a,function(c,d){this.C5[d]=c},b)})(dga,{pre:tfa,mincaching:ifa,chat:ufa,frills:vfa,evt:wfa,dom:xfa,preload_compose:yfa,tracers:zfa,lo:jfa,forced_reflows:kfa,dml:Afa,verbose:Bfa,ep:Cfa,ads:Dfa,trace_timers:Efa,noif:Ffa,tth:Gfa,icc:Hfa,icm:Ifa,gdts:Jfa,gddh:Kfa,labs:Lfa,ie6_forced_reflows:Mfa,gd:Nfa,navw:Ofa,disable_flash_upload:Pfa,uwd:Qfa,al1:lfa,al2:mfa,h5dnd:Rfa,winac:Sfa,br:Tfa});
(function(b,a){uf(b.C5,function(c,d){d=a.J(d);Ke(d)&&c.Hwb(d)},b)})(dga,Mj.Of());var ega=tfa.J(),fga=ifa.J(),gga=ufa.J()&&vfa.J(),hga=wfa.J(),iga=xfa.J(),jga=yfa.J();jfa.J();kfa.J();var kga=Afa.J();Bfa.J();var lga=Cfa.J(),mga=Ffa.J();Gfa.J();var nga=Hfa.J(),oga=Ifa.J(),pga=!Lfa.J(),qga=Mfa.J(),rga=Kfa.J(),sga=Ofa.J(),tga=Pfa.J(),uga=Qfa.J();Rfa.J();var vga=lga&&Efa.J(),wga=zfa.J();if(wga)for(var xga=wga[Cc](wj),yga=0;yga<xga[u];yga++);var Fda=ih;if(hga)ih=Eda;tg.wc();var _DumpException=sg;oa(Je,i);Eba(sg);var zga=new Xba(sg,!lga);_B_handleError=function $Kb(a){sg(a)};Vba(zga,vga);Wba(zga,vga);th=og(zga,th,vga);Rea(th);qda(zga,vga);var Tj="6",Aga="BackgroundImageCache";if(L){Mea.sPa();if(vg(Tj))try{ea[Yb](Aga,k,h)}catch(Bga){}};var Jda=/\s*;\s*/;var Cga="GMAIL_FB",Dga="GMAIL_BG",Ega="GMAIL_DC",Fga="GMAIL_IFTO",Gga="GMAIL_BAK",Hga="GMAIL_IE",Iga="GMAIL_SSLF",Jga="GMAIL_GM",Lda=new Hf(Cga,1,Dga,2,Ega,8,Fga,16,Gga,32,Hga,64,Iga,128,Jga,256),qi=da(mi(Kda,Ah),16),Uj="GMAIL_STAT_"+l[rb](l[Tc]()*1E4);H(Nda,Jf);Nda[w].vib=function $Lb(a){var c=this.pDa[u];this.pDa[c]=a;for(var d=0;d<this.eE[u];d++){var f=Vj(a,this.eE[d]);this.dna[d][c]=f}return c};Nda[w].D=function $Mb(){this.dna=this.eE=i;Nda.C.D[z](this)};var Wj=new Nda;H(Qda,Jf);Qda[w].qa=0;var Xj=new Qda;F=Qda[w];na(F,function $Nb(a,c){this.ob&&this.ob.Eb()&&this.ob[wc]();if(!this.ob)this.ob=new Gh;this.qS=c;ih(this.ob,Hh,this.b7,k,this);this.qa=1;this.ob[Mb](a,zj)});
F.b7=function $Ob(){nh(this.ob,Hh,this.b7,k,this);var a;_B_record();if(this.ob.hf()==400){if(!this.x4&&!ri(Iga)){this.qa=2;oi(Iga);Kga(top[Ic][raa]);this.ob.D();this.ob=i;return}}else Mda(Iga);if(this.ob.ye()){try{a=eval(this.ob.dj())}catch(c){this.qa=3}if(a&&Te(a)==Re){a=a;if(this.Iq(a)){var d=a[1];if(Te(d)!=Re)d=[0,d];a[1]=d;d=d[0];if(d==0||d>=1&&d<=2){this.x4=a[0];this.dKa=a[1];this.Sf=a[2];if(!this.Sf)this.qa=5;if(Ke(this.ogc)){a=this.ogc;d=this.dKa[1];for(var f=0;f<Wj.eE[u];f++)Lga(Wj.dna[f][a],
d);Wj.pDa[a]=d}else this.ogc=Wj.vib(this.dKa[1]);delete this.dKa[1];if(this.qa!=5)this.qa=6;if(this.qS){a=this.qS;this.qS=i;a()}if(this.qa!=5)this.qa=7}else this.qa=8}else this.qa=4}else if(this.qa!=3)this.qa=9}else this.qa=2;this.ob.D();this.ob=i};F.Iq=function $Pb(a){return!!a[0]};F.D=function $Qb(){this.ob&&this.ob.D();Qda.C.D[z](this)};F.il=D("Sf");var Yj="qa";F.xc=D(Yj);var Mga=Pda("_GM_getSSUrl",top,h)||jea;Xj[pb](Mga);/*
 Portions of this code are from MochiKit, received by
 Google under the MIT license. All other code is Copyright 2005-2009 Google,
 Inc. All Rights Reserved.
*/
F=ui[w];F.wE=-1;F.IV=0;F.zyb=k;F.lwc=k;F.tf=function $Tb(){if(this.wE>=0)!this.wE&&this.eh[0]instanceof ui&&this.eh[0].tf();else{if(this.LIb)this.LIb[z](this.kMb,this);else this.zyb=h;this.wE>=0||this.mE(new wi(this))}};F.Mrb=function $Ub(){this.IV++};F.YAb=function $Vb(){this.IV--;this.IV==0&&this.wE>=0&&Sda(this)};F.Tyc=function $Wb(a){Rda(this,a);this.YAb()};F.rJ=function $Xb(){if(this.wE>=0){if(!this.zyb)e(new Tda(this));this.zyb=k}};F.ad=function $Yb(a){this.rJ();Rda(this,a)};
F.mE=function $Zb(a){this.rJ();Rda(this,a instanceof Error?a:Error(a))};H(Tda,Rh);Oa(Tda[w],"Already called");H(wi,Rh);Oa(wi[w],"Deferred was cancelled");H(xi,Jf);xi[w].tb=B();H(Uda,Jf);F=Uda[w];F.mmb=xi;F.HC=i;F.ym=function $0b(a){if(this.mmb===xi)this.mmb=a;else e(Error(".21"))};F.Lr=function $1b(a,c){return this.kW(this.irb,a,c)};F.kW=function $2b(a,c,d){c=new Wda(c,d);a[p](c);return c};F.hc=function $3b(){return!!this.HC};F.CTa=function $4b(a){var c=new this.mmb;c.tb(a());this.HC=c;Vda(this,this.G9a,a());Vda(this,this.irb,a());Ia(this.eza,0)};F.dza=function $5b(a){Vda(this,this.eza,a);Ia(this.G9a,0);Ia(this.irb,0)};F.L=function $6b(){Uda.C.L[z](this);this.HC&&this.HC.D()};
Va(Wda[w],function $7b(a){if(this.SLa){this.SLa[z](this.na||i,a);this.SLa=this.na=i}});La(Wda[w],function $8b(){this.na=this.SLa=i});H(O,Jf);Ne(O);F=O[w];F.uHa=k;F.Bxa=i;F.CSc=i;F.H6a=0;F.TYb=k;F.mjc=k;F.Zxa=i;F.iGc=D("Zxa");F.Eb=function $$b(){return this.eF[u]>0};F.xSc=function $ac(a,c){var d=this.bk[a];if(d.hc())c.ad(this.Zxa);else{d.Lr(c.ad,c);d.kW(d.eza,c.mE,c);ef(this.eF,a)||ef(this.rI,a)||aea(this,a)}};F.gb=function $bc(a){jf(this.U2,a);jf(this.eF,a);this.bk[a].CTa(G(this.iGc,this));this.eF[u]==0&&eea(this);Ai(this)};
na(F,function $cc(a,c){var d=this.bk[a],f=new ui;if(d.hc())f.ad(this.Zxa);else if(ef(this.eF,a)||ef(this.rI,a)){d.Lr(f.ad,f);d.kW(d.eza,f.mE,f);if(c){this.U2[p](a);Ai(this)}}else{d.Lr(f.ad,f);d.kW(d.eza,f.mE,f);c&&this.U2[p](a);aea(this,a)}return f});F.ym=function $dc(a){this.vea&&this.bk[this.vea].ym(a)};
F.hJc=function $ec(a){this.H6a++;if(a==401){dea(this,0);Ia(this.rI,0)}else if(a==410){dea(this,3);eea(this)}else if(this.H6a>=3){dea(this,1);eea(this)}else{var c=this.eF.pop();Ia(this.eF,0);bea(this,c,h,a==8001)}};F.jJc=function $fc(){dea(this,2);eea(this)};F.Lr=function $gc(a,c){Ve(a)||(a=[a]);for(var d=0;d<a[u];d++)this.kW(a[d],c)};F.kW=function $hc(a,c){var d=this.gIa;d[a]||(d[a]=[]);d[a][p](c)};F.L=function $ic(){O.C.L[z](this);Ff(wf(this.bk),Kf);this.gIa=this.rI=this.U2=this.eF=this.bk=i};for(var Nga={},Oga=0;Oga<rea[u];Oga+=2)Nga[rea[Oga]]=rea[Oga+1];var Pga=O.S();for(var Qga in Nga)Pga.bk[Qga]=new Uda(Nga[Qga]);var Zj="bg";Bi(O.S(),Zj);O.S().gb(Zj);Ci(O.S(),Zj);var ak=parseFloat;function aha(b,a){return b.filter=a}function bha(b,a){return b.page=a}function bk(b,a){return b.collapse=a}function Q(b,a){return b.innerHTML=a}function cha(b,a){return b.insertNode=a}function ck(b,a){return b.left=a}function dk(b,a){return b.select=a}function ek(b,a){return b.detach=a}function fk(b,a){return b.tabIndex=a}function gk(b,a){return b.cellPadding=a}function hk(b,a){return b.setActive=a}function ik(b,a){return b.title=a}function dha(b,a){return b.opacity=a}
function jk(b,a){return b.disabled=a}function kk(b,a){return b.hideFocus=a}function lk(b,a){return b.removeChild=a}function mk(b,a){return b.removeItem=a}function nk(b,a){return b.bottom=a}function eha(b,a){return b.cellSpacing=a}function ok(b,a){return b.element=a}function pk(b,a){return b.nodeValue=a}function qk(b,a){return b.right=a}
var rk="activeElement",fha="getBoundingClientRect",sk="form",tk="collapse",uk="selection",vk="inRange",gha="createCaption",wk="innerHTML",xk="offsetWidth",yk="blur",zk="insertNode",Ak="move",Bk="createRange",Ck="left",Dk="createTextRange",hha="getBoxObjectFor",Ek="focus",Fk="select",iha="clientLeft",jha="sqrt",kha="clientTop",Gk="cloneNode",Hk="setEndPoint",Ik="detach",lha="tabIndex",Jk="rangeCount",Kk="frameElement",Lk="setActive",Mk="duplicate",Nk="scrollTop",Ok="setStart",Pk="title",Qk="getSelection",
Rk="next",mha="offsetParent",Sk="constructor",Tk="moveToElementText",Uk="disabled",Vk="offsetLeft",Wk="getComputedStyle",Xk="close",nha="hasChildNodes",Yk="removeItem",al="moveEnd",bl="scrollWidth",cl="cells",dl="scrollLeft",el="sort",fl="bottom",gl="compareEndPoints",hl="containsNode",il="currentStyle",jl="restore",kl="rows",ll="element",oha="contentDocument",ml="removeAttribute",nl="display",R="append",ol="offsetTop",pl="toUpperCase",ql="offsetHeight",rl="right",sl="<br>",tl="+",ul="cf",vl="as",
wl='"><div class="',pha="loading",xl=" (",yl='"><div id="',S='" class="',zl="character",Al="StartToStart",Bl="|",Cl="BR",qha="STYLE",Dl="SCRIPT",El='"><tr><td class="',Fl='<table cellpadding="0" class="',Gl='" id="',Hl="label",Il="text",Jl=": ",rha="An",Kl='">&nbsp;</td><td class="',Ll="\n\n",Ml="<br><br>",Nl="li",sha="ul",tha="pZ",uha="iE",Ol="bold",Pl="italic",vha="Change picture",Ql="Db",Rl='"><input type="checkbox" id="',wha="Kg",Sl="ni",xha="photo",yha="r0",zha="OBJECT",Aha="Oi",Bha="Start",
Cha="End",Dha="To",Tl="ie",Eha='">&nbsp;',Ul='" height="',Fha="att",Gha="hd",Vl="<tr><td>",Hha="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex;",Wl=" and ",Iha="+1",Xl="mainElement",Yl="<li>",Jha="</li>",Zl="</ul>",am="100%",Kha="live",Lha="br",bm="goomoji",cm="http://",dm='" width="',Mha="valuemin",Nha="valuemax",Oha="valuenow";
function em(b){if(b instanceof tf)return b;if(typeof b.mG==Se)return b.mG(k);if(We(b)){var a=0,c=new tf;Ma(c,function $mc(){for(;;){if(a>=b[u])e(Ni);if(a in b)return b[a++];else a++}});return c}e(Error(".3"))}function Pha(b){return!Jg&&gca(b)?b[mc]:b[Lc]}function fm(b,a){return b>a?1:b<a?-1:0}function Qha(b,a,c,d){a=a;for(var f=c[u];(a=b[Db](c,a))>=0&&a<d;){var g=b[Xc](a-1);if(g==38||g==63){g=b[Xc](a+f);if(!g||g==61||g==38||g==35)return a}a+=f+1}return-1}
function gm(b){b=Pha(b.ki);return new xg(b[dl],b[Nk])}function Rha(b){return gca(b.ki)}function hm(b,a,c){c?K(b,a):Ag(b,a)}function im(b){return/^[\s\xa0]*$/[cb](b)}function Sha(b,a){return b===a}function jm(b,a,c){var d=0,f=b[u]-1;for(c=c||fm;d<=f;){var g=d+f>>1,j=c(a,b[g]);if(j>0)d=g+1;else if(j<0)f=g-1;else return g}return-(d+1)}function km(b,a,c){pf(b,c,0,a)}function lm(b,a,c){for(var d=b[u],f=Ye(b)?b[Cc](I):b,g=0;g<d;g++)if(g in f&&a[z](c,f[g],g,b))return g;return-1}
function mm(b){return typeof b==Qe}function nm(b,a){return L?b[Zb]==P?a==0:!!(b.pj[Cb]&Tha[a]):b.pj[Cb]==a}var Uha="tabIndex";function Vha(b,a){if(a)fk(b,0);else b[ml](Uha)}var Wha="tabindex";function Xha(b){var a=b.getAttributeNode(Wha);if(a&&a.specified){b=b[lha];return mm(b)&&b>=0}return k}function om(b){return Jg?b[yc]||b[gc][yc]:b[oha]||b[gc][yc]}function pm(b){return b?b[ac]||b[dc]:ba}
function qm(b,a,c){for(var d=zg(b),f=k,g=0;g<d[u];g++)if(d[g]==a){pf(d,g--,1);f=h}if(f){d[p](c);m(b,d[kd](J))}return f}function Yha(b,a){if(b==a)return h;if(!b||!a)return k;return b[ib]==a[ib]&&b[id]==a[id]}function Zha(b,a){return new xg(b.x-a.x,b.y-a.y)}function rm(){return"goog_"+vea++}function sm(){return Array[w][kd][z](arguments,I)}function aia(b){return b[mb](/[\s\xa0]+$/,I)}function bia(b){return b[mb](/^[\s\xa0]+/,I)}function tm(b){var a={};for(var c in b)a[b[c]]=c;return a}
function cia(b,a,c){if(a in b)return b[a];return c}function dia(b,a){var c;if(c=a in b)delete b[a];return c}function um(b,a,c){if(We(b))try{Ff(b,a,c)}catch(d){if(d!==Ni)e(d)}else{b=em(b);try{for(;;)a[z](c,b[Rk](),undefined,b)}catch(f){if(f!==Ni)e(f)}}}function eia(b,a,c){if(!We(b)||!We(a)||b[u]!=a[u])return k;var d=b[u];c=c||Sha;for(var f=0;f<d;f++)if(!c(b[f],a[f]))return k;return h}function vm(b,a,c){a=lm(b,a,c);return a<0?i:Ye(b)?b[xb](a):b[a]}function wm(b){return b[b[u]-1]}
function xm(b){this.wa=b;b=L?dj:kj;this.qSc=ih(this.wa,L?cj:lj,this,!L);this.rSc=ih(this.wa,b,this,!L)}var fia="propertychange",ym="TEXTAREA",gia="531",zm="input";function Am(b){this.wa=b;b=L?fia:Jg&&b[ed]==ym&&!vg(gia)?Zi:zm;this.lRa=ih(this.wa,b,this)}function Bm(b,a,c,d){this.top=b;qk(this,a);nk(this,c);ck(this,d)}function hia(b,a){if(b==a)return h;if(!b||!a)return k;return b.top==a.top&&b[rl]==a[rl]&&b[fl]==a[fl]&&b[Ck]==a[Ck]}function Cm(b,a,c,d){ck(this,b);this.top=a;ka(this,c);Wa(this,d)}
function iia(b){return new Cm(b[Ck],b.top,b[rl]-b[Ck],b[fl]-b.top)}function jia(b,a){if(b==a)return h;if(!b||!a)return k;return b[Ck]==a[Ck]&&b[ib]==a[ib]&&b.top==a.top&&b[id]==a[id]}function Dm(b,a,c){Ye(a)?kia(b,c,a):uf(a,df(kia,b))}function kia(b,a,c){b[x][lia(c)]=a}function Em(b,a){var c=Eg(b);if(c[dc]&&c[dc][Wk])if(b=c[dc][Wk](b,I))return b[a];return i}function Fm(b,a){return b[il]?b[il][a]:i}function Gm(b,a){return Em(b,a)||Fm(b,a)||b[x][a]}var Hm="position";
function mia(b){return Gm(b,Hm)}var Im="1.9",Jm="px";function Km(b,a,c){var d,f=Fh&&(Qi||Fea)&&vg(Im);if(a instanceof xg){d=a.x;a=a.y}else{d=a;a=c}ck(b[x],typeof d==Qe?(f?l[kb](d):d)+Jm:d);b[x].top=typeof a==Qe?(f?l[kb](a):a)+Jm:a}function Lm(b){b=b?b[nb]==9?b:Eg(b):ea;if(L&&!Rha(Cg(b)))return b[Lc];return b[mc]}function nia(b){var a=b[fha]();if(L){b=b[Mc];a.left-=b[mc][iha]+b[Lc][iha];a.top-=b[mc][kha]+b[Lc][kha]}return a}var oia="fixed",pia="static";
function qia(b){if(L)return b[mha];var a=Eg(b),c=Gm(b,Hm),d=c==oia||c==sd;for(b=b[A];b&&b!=a;b=b[A]){c=Gm(b,Hm);d=d&&c==pia&&b!=a[mc]&&b!=a[Lc];if(!d&&(b[bl]>b[vc]||b[Rb]>b[Wc]||c==oia||c==sd))return b}return i}var ria="borderLeftWidth",sia="borderRightWidth",tia="borderTopWidth";
function Mm(b){var a=new Bm(0,Infinity,Infinity,0),c=Cg(b),d=c.cb()[Lc],f=Pha(c.ki),g;for(b=b;b=qia(b);)if((!L||b[vc]!=0)&&(!Jg||b[Wc]!=0||b!=d)&&(b[bl]!=b[vc]||b[Rb]!=b[Wc])&&Gm(b,td)!=ud){var j=Nm(b),n;n=b;if(Fh&&!vg(Im)){var s=ak(Em(n,ria));if(Om(n)){var v=n[xk]-n[vc]-s-ak(Em(n,sia));s+=v}n=new xg(s,ak(Em(n,tia)))}else n=new xg(n[iha],n[kha]);j.x+=n.x;j.y+=n.y;a.top=l.max(a.top,j.y);qk(a,l.min(a[rl],j.x+b[vc]));nk(a,l.min(a[fl],j.y+b[Wc]));ck(a,l.max(a[Ck],j.x));g=g||b!=f}d=f[dl];f=f[Nk];if(Jg){a.left+=
d;a.top+=f}else{ck(a,l.max(a[Ck],d));a.top=l.max(a.top,f)}if(!g||Jg){a.right+=d;a.bottom+=f}c=c.UO();qk(a,l.min(a[rl],d+c[ib]));nk(a,l.min(a[fl],f+c[id]));return a.top>=0&&a[Ck]>=0&&a[fl]>a.top&&a[rl]>a[Ck]?a:i}
function Nm(b){var a,c=Eg(b),d=Gm(b,Hm),f=Fh&&c[hha]&&!b[fha]&&d==sd&&(a=c[hha](b))&&(a[Ib]<0||a[Jb]<0),g=new xg(0,0),j=Lm(c);if(b==j)return g;if(b[fha]){a=nia(b);b=gm(Cg(c));g.x=a[Ck]+b.x;g.y=a.top+b.y}else if(c[hha]&&!f){a=c[hha](b);b=c[hha](j);g.x=a[Ib]-b[Ib];g.y=a[Jb]-b[Jb]}else{a=b;do{g.x+=a[Vk];g.y+=a[ol];if(a!=b){g.x+=a[iha]||0;g.y+=a[kha]||0}if(Jg&&mia(a)==oia){g.x+=c[Lc][dl];g.y+=c[Lc][Nk];break}a=a[mha]}while(a&&a!=b);if(Ng||Jg&&d==sd)g.y-=c[Lc][ol];for(a=b;(a=qia(a))&&a!=c[Lc]&&a!=j;){g.x-=
a[dl];if(!Ng||a[ed]!=vd)g.y-=a[Nk]}}return g}function uia(b,a,c){if(a.cb()!=c.cb()){var d=a.cb()[Lc];c=c.Ec();var f=new xg(0,0),g=pm(Eg(d)),j=d;do{var n=g==c?Nm(j):Pm(j);f.x+=n.x;f.y+=n.y}while(g&&g!=c&&(j=g[Kk])&&(g=g[Oc]));c=f;c=Zha(c,Nm(d));if(L&&!Rha(a))c=Zha(c,gm(a));b.left+=c.x;b.top+=c.y}}function Pm(b){var a=new xg;if(b[nb]==1)if(b[fha]){var c=nia(b);a.x=c[Ck];a.y=c.top}else{c=gm(Cg(b));b=Nm(b);a.x=b.x-c.x;a.y=b.y-c.y}else{a.x=b[kc];a.y=b[lc]}return a}
function Qm(b,a,c){var d=Nm(b);if(a instanceof xg){c=a.y;a=a.x}Km(b,b[Vk]+(a-d.x),b[ol]+(c-d.y))}function Rm(b,a,c){if(a instanceof yg){c=a[id];a=a[ib]}else{if(c==undefined)e(Error(".23"));c=c}ka(b[x],typeof a==Qe?l[kb](a)+Jm:a);Wa(b[x],typeof c==Qe?l[kb](c)+Jm:c)}var Sm="10",via="inline";
function Tm(b){var a=Ng&&!vg(Sm);if(Gm(b,wd)!=xd)return a?new yg(b[xk]||b[vc],b[ql]||b[Wc]):new yg(b[xk],b[ql]);var c=b[x],d=c[nl],f=c.visibility,g=c[yaa];Fa(c,yd);Ja(c,sd);Ua(c,via);if(a){a=b[xk]||b[vc];b=b[ql]||b[Wc]}else{a=b[xk];b=b[ql]}Ua(c,d);Ja(c,g);Fa(c,f);return new yg(a,b)}function Um(b){var a=Nm(b);b=Tm(b);return new Cm(a.x,a.y,b[ib],b[id])}function lia(b){return wia[b]||(wia[b]=String(b)[mb](/\-([a-z])/g,function(a,c){return c[pl]()}))}
var xia="opacity",yia="MozOpacity",zia="filter",Aia="alpha(opacity=";function Vm(b,a){b=b[x];if(xia in b)dha(b,a);else if(yia in b)b.MozOpacity=a;else if(zia in b)aha(b,a===I?I:Aia+a*100+xh)}function Wm(b,a){Ua(b[x],a?I:xd)}var Xm="head",Ym="body";function Vj(b,a){a=Cg(a);var c=i;if(L){c=a.cb().createStyleSheet();Lga(c,b)}else{var d=a.ie(Xm)[0];if(!d){c=a.ie(Ym)[0];d=a.ba(Xm);c[A][Bb](d,c)}c=a.ba(Kg);Lga(c,b);a[o](d,c)}return c}var Bia="innerHTML";
function Lga(b,a){if(L)iaa(b,a);else b[Jg?xca:Bia]=a}var Zm="rtl",Cia="direction";function Om(b){return Zm==Gm(b,Cia)}var Dia="unselectable";function an(b,a,c){c=!c?b[ic](Hg):i;if(Eia){a=a?xd:I;b[x][Eia]=a;if(c){b=0;for(var d;d=c[b];b++)d[x][Eia]=a}}else if(L||Ng){a=a?qh:I;b[Wb](Dia,a);if(c)for(b=0;d=c[b];b++)d[Wb](Dia,a)}}var Fia="HTML";
function bn(b,a,c,d,f,g,j,n){var s,v=c[mha];if(v){var C=v[ed]==Fia||v[ed]==zd;if(!C||mia(v)!=pia){s=Nm(v);C||(s=Zha(s,new xg(v[dl],v[Nk])))}}v=Um(b);(C=Mm(b))&&v.iwa(iia(C));uia(v,Cg(b),Cg(c));b=(a&4&&Om(b)?a^2:a)&-5;a=new xg(b&2?v[Ck]+v[ib]:v[Ck],b&1?v.top+v[id]:v.top);if(s)a=Zha(a,s);if(f){a.x+=(b&2?-1:1)*f.x;a.y+=(b&1?-1:1)*f.y}var M;if(j)if((M=Mm(c))&&s){M.top=l.max(0,M.top-s.y);M.right-=s.x;M.bottom-=s.y;ck(M,l.max(0,M[Ck]-s.x))}return cn(a,c,d,g,M,j,n)}
function cn(b,a,c,d,f,g,j){b=b.vc();var n=0;c=(c&4&&Om(a)?c^2:c)&-5;var s=Tm(a);j=j?j.vc():s;if(d||c!=0){if(c&2)b.x-=j[ib]+(d?d[rl]:0);else if(d)b.x+=d[Ck];if(c&1)b.y-=j[id]+(d?d[fl]:0);else if(d)b.y+=d.top}if(g){n=f?Gia(b,j,f,g):256;if(n&496)return n}Km(a,b);Yha(s,j)||Rm(a,j);return n}
function Gia(b,a,c,d){var f=0;if(b.x<c[Ck]&&d&1){b.x=c[Ck];f|=1}if(b.x<c[Ck]&&b.x+a[ib]>c[rl]&&d&16){a.width-=b.x+a[ib]-c[rl];f|=4}if(b.x+a[ib]>c[rl]&&d&1){b.x=l.max(c[rl]-a[ib],c[Ck]);f|=1}if(d&2)f|=(b.x<c[Ck]?16:0)|(b.x+a[ib]>c[rl]?32:0);if(b.y<c.top&&d&4){b.y=c.top;f|=2}if(b.y>=c.top&&b.y+a[id]>c[fl]&&d&32){a.height-=b.y+a[id]-c[fl];f|=8}if(b.y+a[id]>c[fl]&&d&4){b.y=l.max(c[fl]-a[id],c.top);f|=2}if(d&8)f|=(b.y<c.top?64:0)|(b.y+a[id]>c[fl]?128:0);return f}function Hia(){}
function dn(b,a){ok(this,b);this.GN=a}function en(b,a,c){dn[z](this,b,a);this.dsc=c}var Iia="role";function fn(b,a){if(Fh||Jia){b[Wb](Iia,a);b.SDd=a}}var Kia="aria-";function gn(b,a,c){if(Fh||Jia)b[Wb](Kia+a,c)}var Lia="525";function Mia(b,a,c,d,f){if(!L&&!(Jg&&vg(Lia)))return h;if(Qi&&f)return Nia(b);if(f&&!d)return k;if(L&&!c&&(a==17||a==18))return k;if(L&&d&&a==b)return k;switch(b){case 13:return h;case 27:return!Jg}return Nia(b)}
function Nia(b){if(b>=48&&b<=57)return h;if(b>=96&&b<=106)return h;if(b>=65&&b<=90)return h;switch(b){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return h;default:return k}}function hn(b){b&&this.Pe(b)}var jn="key";function Oia(b,a,c,d){d&&this.wc(d,void 0);za(this,jn);xa(this,b);haa(this,a);this.repeat=c}function Pia(b,a,c,d){en[z](this,b,a,c);this.EWa=d}function kn(b){this.na=b}
function ln(b,a,c,d,f,g){if(Ve(c))for(var j=0;j<c[u];j++)ln(b,a,c[j],d,f,g);else{a=mh(a,c,d||b,f||k,g||b.na||b);Qia(b,a)}return b}function Qia(b,a){if(b.ri)b.ri[a]=h;else if(b.Js){b.ri=Ria.Iw();b.ri[b.Js]=h;b.Js=i;b.ri[a]=h}else b.Js=a}function mn(){}function nn(b){this.ya=b||Cg();this.vBa=Sia}var Tia="disable",Uia="enable",on="highlight",Via="unhighlight",Wia="activate",Xia="unselect",Yia="check",Zia="uncheck",pn="open",qn="close";
function aja(b,a){switch(b){case 1:return a?Tia:Uia;case 2:return a?on:Via;case 4:return a?Wia:Wea;case 8:return a?nj:Xia;case 16:return a?Yia:Zia;case 32:return a?lj:kj;case 64:return a?pn:qn;default:}e(Error(".25"))}function bja(b,a){b.wa=a}function rn(b){return b.bf?b.bf[u]:0}function sn(b,a,c){b.bf&&Ff(b.bf,a,c)}function tn(b,a){return b.bf&&a?ff(b.bf,a):-1}function un(){}
function cja(b,a,c){var d=[];if(c)a=a[wb]([c]);Ff([],function(f){if(Gf(f,df(ef,a))&&(!c||ef(f,c)))d[p](f[kd](mg))});return d}var dja="-JE",eja="-JW",fja="-Je",gja="-KO",hja="-Jp",ija="-JO",jja="-Kq";function kja(b){var a=b.Qb();b.KIa=Af(1,a+dja,2,a+eja,4,a+fja,8,a+gja,16,a+hja,32,a+ija,64,a+jja)}function lja(b){b.KIa||kja(b);b.Xfc=tm(b.KIa)}function vn(){}function mja(b){for(var a;b;){a=bf(b);if(a=nja[a])break;b=b.C?b.C[Sk]:i}if(a)return Ze(a.S)?a.S():new a;return i}
function wn(b,a){if(!b)e(Error(".33`"+b));if(!Ze(a))e(Error(".34`"+a));oja[b]=a}function pja(b){for(var a=zg(b),c=0,d=a[u];c<d;c++)if(b=a[c]in oja?oja[a[c]]():i)return b;return i}function xn(b,a,c){nn[z](this,c);this.Kc=a||mja(this[Sk]);this.bma(b)}function qja(b,a){b.Cc()&&a!=b.Bfb&&rja(b,a);b.Bfb=a}function sja(b,a){if(a&&b.eK){jf(b.eK,a);if(b.eK[u]==0)b.eK=i;b.Kc.kT(b,a,k)}}
function rja(b,a){var c=b.H(),d=b.b();if(a){c.w(d,Xi,b.qA).w(d,fj,b.Ey).w(d,gj,b.X6).w(d,Yi,b.q_);L&&c.w(d,ej,b.dUb)}else{c.hb(d,Xi,b.qA).hb(d,fj,b.Ey).hb(d,gj,b.X6).hb(d,Yi,b.q_);L&&c.hb(d,ej,b.dUb)}}function yn(b,a){zn(b,16,a)&&b.Oe(16,a)}function tja(b,a){zn(b,32,a)&&b.Oe(32,a)}var An=".28";function Bn(b,a,c){if(b.Cc()&&b.VE(a)&&!c)e(Error(An));!c&&b.VE(a)&&b.Oe(a,k);b.ht=c?b.ht|a:b.ht&~a}function Cn(b,a){return!!(b.U3a&a)&&!!(b.ht&a)}function Dn(b,a,c){b.xZa=c?b.xZa|a:b.xZa&~a}
function zn(b,a,c){return!!(b.ht&a)&&b.VE(a)!=c&&(!(b.xZa&a)||b[r](aja(a,c)))&&!b.Pc}function En(){}function uja(b,a){qja(a,k);a.U3a&=-256;Bn(a,32,k)}function Fn(b,a,c){xn[z](this,b,a||En.S(),c)}function Gn(){}function Hn(b,a){xn[z](this,i,b||Gn.S(),a);Bn(this,1,k);Bn(this,2,k);Bn(this,4,k);Bn(this,32,k);this.qa=1}function vja(){}function wja(b,a,c){if(a)fk(a,c?0:-1)}var In="vertical";function Jn(b,a,c){nn[z](this,c);this.Kc=a||vja.S();this.Rs=b||In}
function xja(b,a){var c=b.H(),d=b.Lk();a?c.w(d,lj,b.aU).w(d,kj,b.oC).w(b.Hga(),jn,b.Qo):c.hb(d,lj,b.aU).hb(d,kj,b.oC).hb(b.Hga(),jn,b.Qo)}function yja(b,a){var c=a.b();c=c.id||(c.id=a.ea());if(!b.vY)b.vY={};b.vY[c]=a}function Kn(b){return b.rb(b.Km)}function Ln(b){zja(b,function(a,c){return(a+1)%c},rn(b)-1)}function Aja(b){zja(b,function(a,c){a--;return a<0?c-1:a},0)}function Bja(b){zja(b,function(a,c){return(a+1)%c},b.Km)}function Cja(b){zja(b,function(a,c){a--;return a<0?c-1:a},b.Km)}
function zja(b,a,c){c=c<0?tn(b,b.wu):c;var d=rn(b);c=a(c,d);for(var f=0;f<=d;){var g=b.rb(c);if(g&&b.j5a(g)){b.Mwb(c);return h}f++;c=a(c,d)}return k}function Dja(b,a){b.gV=a}function Mn(){this.Zpa=[]}var Eja="-JT",Fja="-Jo",Nn="-Jz";function On(b,a){var c=b.Zpa[a];if(!c){switch(a){case 0:c=b.Qb()+Eja;break;case 1:c=b.Qb()+Fja;break;case 2:c=b.Qb()+Nn;break}b.Zpa[a]=c}return c}var T="div";function Gja(b,a,c){b=On(b,2);return c.ba(T,b,a)}
function Hja(b,a){if(a=b.Cd(a)){a=a[Tb];b=On(b,1);return!!a&&!!a[uc]&&a[uc][Db](b)!=-1}return k}var Pn="J-Ks";function Ija(b,a,c,d){if(d!=Hja(b,c)){hm(c,Pn,d);c=b.Cd(c);if(d){b=On(b,1);c[Bb](a.W().ba(T,b),c[Tb]||i)}else c[Nc](c[Tb])}}function Qn(b,a,c,d){xn[z](this,b,d||Mn.S(),c);this.Fa(a)}function Rn(){}function Sn(b,a){Jn[z](this,In,a||Rn.S(),b);this.Xm(k)}function Tn(){}
function Jja(b,a){if(b)for(var c=a?b[Tb]:b[Qc],d;c&&c[A]==b;){d=a?c[fc]:c[pc];if(c[nb]==3){var f=c[md];if(Pf(f)==I)b[Nc](c);else{pk(c,a?bia(f):aia(f));break}}else break;c=d}}function Un(){}function Vn(b,a,c,d){Fn[z](this,b,c||Un.S(),d);Bn(this,64,h);a&&this.Zs(a);this.ab=new Bh(500)}var Wn="action";function Kja(b,a,c){var d=b.H();c=c?d.w:d.hb;c[z](d,a,Wn,b.Afb);c[z](d,a,on,b.nfb);c[z](d,a,Via,b.cgb)}function Xn(b,a){b=Number(b);a=Number(a);Qa(this,b<a?b:a);this.Oc=b<a?a:b}var Lja="#$1$1$2$2$3$3";
function Mja(b){if(!Nja[cb](b))e(Error(".39`"+b));if(b[u]==4)b=b[mb](Oja,Lja);return b[od]()}function Yn(){}var Zn="tr",Pja="-oKdM2c";function Qja(b,a,c,d){for(var f=[],g=0,j=0;g<c[id];g++){for(var n=[],s=0;s<c[ib];s++){var v=a&&a[j++];n[p](b.AJa(v,d))}f[p](d.ba(Zn,b.Qb()+Pja,n))}return b.Pqa(f,d)}var Rja="-Jn-JW",Sja="activedescendent";function Tja(b,a,c,d){if(c){c=c[A];hm(c,b.Qb()+Rja,d);b=a.b()[Tb];gn(b,Sja,c.id)}}var Uja="-Jn-KO";function Vja(b,a,c,d){c&&hm(c[A],b.Qb()+Uja,d)}
function Wja(b){this.qi=[];this.dGa(b)}function ao(b,a,c){xn[z](this,b,a||Yn.S(),c)}function Xja(b){var a=b.Ee();return a&&a[b.Km]}function Yja(b,a){var c=b.Ee();b.dp(c?ff(c,a):-1)}function Zja(b){var a=b.Ee();if(a)if(b.We&&b.We[ib]){a=l[ob](a[u]/b.We[ib]);if(!mm(b.We[id])||b.We[id]<a)Wa(b.We,a)}else{a=l[ob](l[jha](a[u]));b.We=new yg(a,a)}else b.We=new yg(0,0)}function aka(b,a){this.GJ=b instanceof xg?b:new xg(b,a)}function bka(b,a){aka[z](this,b,a)}
function bo(b,a){this.na=new kn(this);this.mM(b||i);a&&this.pma(a)}function cka(b){if(b.Nm)e(Error(".41"))}var dka="-200px";function eka(b){ck(b.wa[x],dka);b.wa[x].top=dka}function co(b){Sn[z](this,b);this.Qk(h);this.ra(k,h);this.kt=new Hf}function fka(b,a){b.H().hb(a.wa,a.Aab,b.D6b)}function U(b){this.pp=bj?[]:I;b!=i&&this[R][cd](this,arguments)}var gka=/#|$/,Tha=[1,4,2];Bi(O.S(),Ph);_B_prog(10)}catch(e){_B_err(e)}

try{H(xm,uh);ya(xm[w],function $nc(a){var c=new hh(a.pj);za(c,a[Zb]==cj||a[Zb]==lj?cj:dj);try{this[r](c)}finally{c.D()}});xm[w].L=function $oc(){xm.C.L[z](this);oh(this.qSc);oh(this.rSc);delete this.wa};H(Am,uh);ya(Am[w],function $pc(a){a=a.pj;if(a[Zb]==fia&&a.propertyName==Fj||a[Zb]==zm||a[Zb]==Zi){if(L||Ng){var c=a[saa];if(c!=Eg(c)[rk])return}a=new hh(a);za(a,zm);try{this[r](a)}finally{a.D()}}});Am[w].L=function $qc(){Am.C.L[z](this);oh(this.lRa);delete this.wa};Bm[w].vc=function $rc(){return new Bm(this.top,this[rl],this[fl],this[Ck])};Sa(Bm[w],function $sc(a){return!this||!a?k:a instanceof Bm?a[Ck]>=this[Ck]&&a[rl]<=this[rl]&&a.top>=this.top&&a[fl]<=this[fl]:a.x>=this[Ck]&&a.x<=this[rl]&&a.y>=this.top&&a.y<=this[fl]});Bm[w].expand=function $tc(a,c,d,f){if(af(a)){this.top-=a.top;this.right+=a[rl];this.bottom+=a[fl];this.left-=a[Ck]}else{this.top-=a;this.right+=c;this.bottom+=d;this.left-=f}return this};F=Cm[w];F.vc=function $uc(){return new Cm(this[Ck],this.top,this[ib],this[id])};F.iwa=function $vc(a){var c=l.max(this[Ck],a[Ck]),d=l.min(this[Ck]+this[ib],a[Ck]+a[ib]);if(c<=d){var f=l.max(this.top,a.top);a=l.min(this.top+this[id],a.top+a[id]);if(f<=a){ck(this,c);this.top=f;ka(this,d-c);Wa(this,a-f);return h}}return k};
F.WD=function $wc(a){var c;b:{c=l.max(this[Ck],a[Ck]);var d=l.min(this[Ck]+this[ib],a[Ck]+a[ib]);if(c<=d){var f=l.max(this.top,a.top),g=l.min(this.top+this[id],a.top+a[id]);if(f<=g){c=new Cm(c,f,d-c,g-f);break b}}c=i}if(!c||!c[id]||!c[ib])a=[this.vc()];else{c=[];d=this.top;f=this[id];g=this[Ck]+this[ib];var j=this.top+this[id],n=a[Ck]+a[ib],s=a.top+a[id];if(a.top>this.top){c[p](new Cm(this[Ck],this.top,this[ib],a.top-this.top));d=a.top;f-=a.top-this.top}if(s<j){c[p](new Cm(this[Ck],s,this[ib],j-s));
f=s-d}a[Ck]>this[Ck]&&c[p](new Cm(this[Ck],d,a[Ck]-this[Ck],f));n<g&&c[p](new Cm(n,d,g-n,f));a=c}return a};Sa(F,function $xc(a){return a instanceof Cm?this[Ck]<=a[Ck]&&this[Ck]+this[ib]>=a[Ck]+a[ib]&&this.top<=a.top&&this.top+this[id]>=a.top+a[id]:a.x>=this[Ck]&&a.x<=this[Ck]+this[ib]&&a.y>=this.top&&a.y<=this.top+this[id]});F.Ke=function $yc(){return new yg(this[ib],this[id])};var wia={},hka="MozUserSelect",ika="WebkitUserSelect",Eia=Fh?hka:Jg?ika:i;Hia[w].If=B();H(dn,Hia);dn[w].If=function $Ac(a,c,d){bn(this[ll],this.GN,a,c,undefined,d)};H(en,dn);en[w].If=function $Bc(a,c,d,f){var g=bn(this[ll],this.GN,a,c,i,d,10,f);if(g&496){var j=this.GN,n=c;if(g&48){j^=2;n^=2}if(g&192){j^=1;n^=1}g=bn(this[ll],j,a,n,i,d,10,f);if(g&496)this.dsc?bn(this[ll],this.GN,a,c,i,d,5,f):bn(this[ll],this.GN,a,c,i,d,0,f)}};var Jia;H(hn,uh);F=hn[w];F.wa=i;F.yQa=i;F.hkb=i;F.zQa=i;F.kxa=-1;F.Hia=-1;
var jka={"3":13,"12":144,"63232":38,"63233":40,"63234":37,"63235":39,"63236":112,"63237":113,"63238":114,"63239":115,"63240":116,"63241":117,"63242":118,"63243":119,"63244":120,"63245":121,"63246":122,"63247":123,"63248":44,"63272":46,"63273":36,"63275":35,"63276":33,"63277":34,"63289":144,"63302":45},kka={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},lka={61:187,
59:186},mka=L||Jg&&vg(Lia);F=hn[w];F.BH=function $Cc(a){if(mka&&!Mia(a[Sb],this.kxa,a[dd],a[Bc],a[rc]))this[Xb](a);else this.Hia=Fh&&a[Sb]in lka?lka[a[Sb]]:a[Sb]};F.eJc=function $Dc(){this.Hia=this.kxa=-1};
ya(F,function $Ec(a){var c=a.pj,d,f;if(L&&a[Zb]==Zi){d=this.Hia;f=d!=13&&d!=27?c[Sb]:0}else if(Jg&&a[Zb]==Zi){d=this.Hia;f=c[Ob]>=0&&c[Ob]<63232&&Nia(d)?c[Ob]:0}else if(Ng){d=this.Hia;f=Nia(d)?c[Sb]:0}else{d=c[Sb]||this.Hia;f=c[Ob]||0;if(Qi&&f==63&&!d)d=191}var g=d,j=c.keyIdentifier;if(d)if(d>=63232&&d in jka)g=jka[d];else{if(d==25&&a[dd])g=9}else if(j&&j in kka)g=kka[j];a=g==this.kxa;this.kxa=g;c=new Oia(g,f,a,c);try{this[r](c)}finally{c.D()}});
F.Pe=function $Fc(a){this.zQa&&this[Ik]();this.wa=a;this.yQa=ih(this.wa,Zi,this);this.hkb=ih(this.wa,ij,this.BH,k,this);this.zQa=ih(this.wa,jj,this.eJc,k,this)};ek(F,function $Gc(){if(this.yQa){oh(this.yQa);oh(this.hkb);oh(this.zQa);this.zQa=this.hkb=this.yQa=i}this.wa=i;this.kxa=-1});F.L=function $Hc(){hn.C.L[z](this);this[Ik]()};H(Oia,hh);H(Pia,en);Pia[w].If=function $Ic(a,c,d,f){this.EWa?bn(this[ll],this.GN,a,c,i,d,33,f):Pia.C.If[z](this,a,c,d,f)};H(kn,Jf);var Ria=new Lf(0,100);F=kn[w];F.w=function $Jc(a,c,d,f,g){if(Ve(c))for(var j=0;j<c[u];j++)this.w(a,c[j],d,f,g);else{a=ih(a,c,d||this,f||k,g||this.na||this);Qia(this,a)}return this};
F.hb=function $Kc(a,c,d,f,g){if(this.Js||this.ri)if(Ve(c))for(var j=0;j<c[u];j++)this.hb(a,c[j],d,f,g);else{a:{d=d||this;g=g||this.na||this;f=!!(f||k);if(a=Ica(a,c,f))for(c=0;c<a[u];c++)if(a[c].GA==d&&a[c][Fb]==f&&a[c].Si==g){a=a[c];break a}a=i}if(a){a=a.key;oh(a);if(this.ri)dia(this.ri,a);else if(this.Js==a)this.Js=i}}return this};F.wb=function $Lc(){if(this.ri){for(var a in this.ri){oh(a);delete this.ri[a]}Ria.ez(this.ri);this.ri=i}else this.Js&&oh(this.Js)};F.L=function $Mc(){kn.C.L[z](this);this.wb()};

ya(F,function $Nc(){e(Error(".24"))});_B_prog(11)}catch(e){_B_err(e)}

try{Ne(mn);mn[w].z0=0;mn[w].jH=function $Oc(){return xj+(this.z0++)[t](36)};var nka=mn.S();H(nn,uh);nn[w].jhb=mn.S();var Sia=i;F=nn[w];F.Xa=i;F.ya=i;F.vA=k;F.wa=i;F.vBa=i;F.kb=i;F.mh=i;F.bf=i;F.sJ=i;F.gkc=k;F.ea=function $Pc(){return this.Xa||(this.Xa=this.jhb.jH())};F.qh=function $Qc(a){if(this.mh&&this.mh.sJ){dia(this.mh.sJ,this.Xa);var c=this.mh.sJ;if(a in c)e(Error(".4`"+a));c[a]=this}this.Xa=a};var eo="wa";F.b=D(eo);F.H=function $Sc(){return this.nha||(this.nha=new kn(this))};
F.Ig=function $Tc(a){if(this==a)e(Error(".26"));if(a&&this.mh&&this.Xa&&this.mh.za(this.Xa)&&this.mh!=a)e(Error(".26"));this.mh=a;nn.C.dk[z](this,a)};var oka="mh";F.ac=D(oka);F.dk=function $Vc(a){if(this.mh&&this.mh!=a)e(Error(".27"));nn.C.dk[z](this,a)};var fo="ya";F.W=D(fo);var pka="vA";F.Cc=D(pka);F.ba=function $Yc(){this.wa=this.ya[Qb](T)};F.eb=function $Zc(a){this.sx(a)};
F.sx=function $_c(a,c){if(this.vA)e(Error(An));this.wa||this.ba();a?a[Bb](this.wa,c||i):this.ya.cb()[Lc][o](this.wa);if(!this.mh||this.mh.Cc())this.ma()};F.Pb=function $0c(a){if(this.vA)e(Error(An));else if(a&&this.ji(a)){this.gkc=h;if(!this.ya||this.ya.cb()!=Eg(a))this.ya=Cg(a);this.Ff(a);this.ma()}else e(Error(".29"))};F.ji=E(h);F.Ff=Ge(eo);F.ma=function $3c(){this.vA=h;sn(this,function(a){!a.Cc()&&a.b()&&a.ma()})};
F.Ba=function $4c(){sn(this,function(a){a.Cc()&&a.Ba()});this.nha&&this.nha.wb();this.vA=k};F.L=function $5c(){nn.C.L[z](this);this.vA&&this.Ba();if(this.nha){this.nha.D();delete this.nha}sn(this,function(a){a.D()});!this.gkc&&this.wa&&Sg(this.wa);this.mh=this.kb=this.wa=this.sJ=this.bf=i};F.X=function $6c(a){return this.ea()+He+a};F.ve=function $7c(a){if(!this.vA)e(Error(".30"));return this.ya.b(this.X(a))};F.ha=function $8c(a,c){this.Jf(a,rn(this),c)};
F.Jf=function $9c(a,c,d){if(a.vA&&(d||!this.vA))e(Error(An));if(c<0||c>rn(this))e(Error(".31"));if(!this.sJ||!this.bf){this.sJ={};this.bf=[]}if(a.ac()==this){this.sJ[a.ea()]=a;jf(this.bf,a)}else{var f=this.sJ,g=a.ea();if(g in f)e(Error(".4`"+g));f[g]=a}a.Ig(this);km(this.bf,a,c);if(a.vA&&this.vA&&a.ac()==this){d=this.Cd();d[Bb](a.b(),d[cc][c+1]||i)}else if(d){this.wa||this.ba();c=this.rb(c+1);a.sx(this.Cd(),c?c.wa:i)}else this.vA&&!a.vA&&a.wa&&a.ma()};F.Cd=D(eo);
F.wP=function $ad(){if(this.vBa==i)this.vBa=Om(this.vA?this.wa:this.ya.cb()[Lc]);return this.vBa};F.mma=function $bd(a){if(this.vA)e(Error(An));this.vBa=a};F.za=function $cd(a){return this.sJ&&a?cia(this.sJ,a)||i:i};F.rb=function $dd(a){return this.bf?this.bf[a]||i:i};lk(F,function $ed(a,c){if(a){var d=Ye(a)?a:a.ea();a=this.za(d);if(d&&a){dia(this.sJ,d);jf(this.bf,a);if(c){a.Ba();a.wa&&Sg(a.wa)}a.Ig(i)}}if(!a)e(Error(".32"));return a});F.Vp=function $fd(a,c){return this[Nc](this.rb(a),c)};
F.ZA=function $gd(a){for(;this.bf&&this.bf[u]!=0;)this.Vp(0,a)};var qka;Ne(un);F=un[w];F.WG=B();F.ba=function $id(a){return a.W().ba(T,this.ry(a)[kd](J),a.Ee())};F.Cd=Ee();F.kT=function $kd(a,c,d){if(a=a.b?a.b():a)if(L&&!vg(Ij)){var f=cja(this,zg(a),c);f[p](c);df(d?K:Ag,a)[cd](i,f)}else hm(a,c,d)};F.ji=E(h);
F.Pb=function $md(a,c){c.id&&a.qh(c.id);var d=this.Cd(c);d&&d[Tb]?a.bma(d[Tb][fc]?nf(d[cc]):d[Tb]):a.bma(i);var f=0,g=this.Qb(),j=this.Qb(),n=k,s=k;d=k;var v=zg(c);Ff(v,function(M){if(!n&&M==g){n=h;if(j==g)s=h}else if(!s&&M==j)s=h;else f|=this.geb(M)},this);a.qa=f;if(!n){v[p](g);if(j==g)s=h}s||v[p](j);(a=a.eK)&&v[p][cd](v,a);if(L&&!vg(Ij)){var C=cja(this,v);if(C[u]>0){v[p][cd](v,C);d=h}}if(!n||!s||a||d)m(c,v[kd](J));return c};F.mP=function $nd(a){a.wP()&&this.mma(a.b(),h);a.Mc()&&this.Xm(a,a.Ib())};
F.Kaa=function $od(a,c){an(a,!c,!L&&!Ng)};var rka="-KL";F.mma=function $pd(a,c){this.kT(a,this.Qb()+rka,c)};F.yC=function $qd(a){var c;if(a.ht&32&&(c=a.Lk()))return Xha(c);return k};F.Xm=function $rd(a,c){var d;if(a.ht&32&&(d=a.Lk())){if(!c&&a.zwa()){try{d[yk]()}catch(f){}a.zwa()&&a.oC(i)}Xha(d)!=c&&Vha(d,c)}};F.ra=function $sd(a,c){Wm(a,c)};F.Oe=function $td(a,c,d){var f=a.b();if(f){var g=this.nta(c);g&&this.kT(a,g,d);this.Gna(f,c,d)}};
var go="disabled",ska="pressed",ho="selected",io="checked",tka="expanded";F.Gna=function $ud(a,c,d){if(Fh){qka||(qka=Af(1,go,4,ska,8,ho,16,io,64,tka));(c=qka[c])&&gn(a,c,d)}};var uka="nodeType";F.xb=function $wd(a,c){var d=this.Cd(a);if(d){Pg(d);if(c)if(Ye(c))ah(d,c);else{a=function $vd(g){if(g){var j=Eg(d);d[o](Ye(g)?j[yb](g):g)}};if(Ve(c))Ff(c,a);else We(c)&&!(uka in c)?Ff(nf(c),a):a(c)}}};F.Lk=function $xd(a){return a.b()};F.Qb=E("J-bMcfAe");
F.ry=function $zd(a){var c=this.Qb(),d=[c],f=this.Qb();f!=c&&d[p](f);c=a.xc();for(f=[];c;){var g=c&-c;f[p](this.nta(g));c&=~g}d[p][cd](d,f);(a=a.eK)&&d[p][cd](d,a);L&&!vg(Ij)&&d[p][cd](d,cja(this,d));return d};F.nta=function $Ad(a){this.KIa||kja(this);return this.KIa[a]};F.geb=function $Bd(a){this.Xfc||lja(this);a=da(this.Xfc[a],10);return ia(a)?0:a};H(vn,un);Ne(vn);F=vn[w];var jo="button";F.WG=E(jo);F.Gna=function $Dd(a,c,d){if(Fh)c==16?gn(a,ska,d):vn.C.Gna[z](this,a,c,d)};F.ba=function $Ed(a){var c=vn.C.ba[z](this,a),d=a.wK();d&&this.UQ(c,d);(d=a.Ca())&&this.Fa(c,d);a.ht&16&&this.Gna(c,16,k);return c};F.Pb=function $Fd(a,c){c=vn.C.Pb[z](this,a,c);a.vo(this.Ca(c));a.rYa(this.wK(c));a.ht&16&&this.Gna(c,16,k);return c};F.Ca=Me;F.Fa=Me;F.wK=function $Gd(a){return a[Pk]};F.UQ=function $Hd(a,c){if(a)ik(a,c||I)};var vka="-Js-Kc",wka="-Js-KK";
F.KXa=function $Id(a,c){var d=a.wP(),f=this.Qb()+vka,g=this.Qb()+wka;a.kT(d?g:f,!!(c&1));a.kT(d?f:g,!!(c&2))};var xka="J-I";F.Qb=E(xka);var nja={},oja={};H(xn,nn);F=xn[w];F.Bg=i;F.qa=0;F.ht=39;F.U3a=255;F.xZa=0;F.yg=h;F.eK=i;F.Bfb=h;F.JGa=k;F.Lk=function $Kd(){return this.Kc.Lk(this)};F.Hga=function $Ld(){return this.sc||(this.sc=new hn)};var ko="Kc";F.li=D(ko);F.PW=function $Nd(a){if(this.Cc())e(Error(An));this.b()&&bja(this,i);this.Kc=a};F.Wl=function $Od(a){if(a){if(this.eK)ef(this.eK,a)||this.eK[p](a);else this.eK=[a];this.Kc.kT(this,a,h)}};F.kT=function $Pd(a,c){c?this.Wl(a):sja(this,a)};
F.ba=function $Qd(){var a=this.Kc.ba(this);this.wa=a;if(Fh){var c=this.Kc.WG();c&&fn(a,c)}this.JGa||this.Kc.Kaa(a,k);this.Ib()||this.Kc.ra(a,k)};F.Cd=function $Rd(){return this.Kc.Cd(this.b())};F.ji=function $Sd(a){return this.Kc.ji(a)};F.Ff=function $Td(a){this.wa=a=this.Kc.Pb(this,a);if(Fh){var c=this.Kc.WG();c&&fn(a,c)}this.JGa||this.Kc.Kaa(a,k);this.yg=a[x][nl]!=xd};
F.ma=function $Ud(){xn.C.ma[z](this);this.Kc.mP(this);if(this.ht&-2){this.Bfb&&rja(this,h);if(this.ht&32){var a=this.Lk();if(a){var c=this.Hga();c.Pe(a);this.H().w(c,jn,this.Qo).w(a,lj,this.aU).w(a,kj,this.oC)}}}};F.Ba=function $Vd(){xn.C.Ba[z](this);this.sc&&this.sc[Ik]();this.Ib()&&this.Mc()&&this.Kc.Xm(this,k)};F.L=function $Wd(){xn.C.L[z](this);if(this.sc){this.sc.D();delete this.sc}delete this.Kc;this.eK=this.Bg=i};var lo="Bg";F.Ee=D(lo);F.xb=function $Yd(a){this.Kc.xb(this.b(),a);this.bma(a)};
F.bma=Ge(lo);F.un=function $_d(){var a=this.Ee();if(!a||Ye(a))return a;return(a=Ve(a)?Li(a,dh)[kd](I):dh(a))&&Pf(a)};F.lM=function $0d(a){this.xb(a)};F.mma=function $1d(a){xn.C.mma[z](this,a);var c=this.b();c&&this.Kc.mma(c,a)};F.Kaa=function $2d(a){this.JGa=a;var c=this.b();c&&this.Kc.Kaa(c,a)};F.Ib=D("yg");var mo="show",no="hide";F.ra=function $4d(a,c){if(c||this.yg!=a&&this[r](a?mo:no)){(c=this.b())&&this.Kc.ra(c,a);this.Mc()&&this.Kc.Xm(this,a);this.yg=a;return h}return k};F.Mc=function $5d(){return!this.VE(1)};
F.Ac=function $6d(a){var c=this.ac();if(!(c&&typeof c.Mc==Se&&!c.Mc())&&zn(this,1,!a)){if(!a){this[Lk](k);this.Rk(k)}this.Ib()&&this.Kc.Xm(this,a);this.Oe(1,!a)}};F.Rk=function $7d(a){zn(this,2,a)&&this.Oe(2,a)};F.Eb=function $8d(){return this.VE(4)};hk(F,function $9d(a){zn(this,4,a)&&this.Oe(4,a)});F.Vo=function $$d(){return this.VE(8)};F.zm=function $ae(a){zn(this,8,a)&&this.Oe(8,a)};F.LH=function $be(){return this.VE(16)};F.zwa=function $ce(){return this.VE(32)};F.vj=function $de(){return this.VE(64)};
F.Hi=function $ee(a){zn(this,64,a)&&this.Oe(64,a)};F.xc=D(Yj);F.VE=function $ge(a){return!!(this.qa&a)};F.Oe=function $he(a,c){if(this.ht&a&&c!=this.VE(a)){this.Kc.Oe(this,a,c);this.qa=c?this.qa|a:this.qa&~a}};var yka="enter";F.qA=function $ie(a){a[eb]&&!Zg(this.b(),a[eb])&&this[r](yka)&&this.Mc()&&Cn(this,2)&&this.Rk(h)};var zka="leave";F.q_=function $je(a){if(a[eb]&&!Zg(this.b(),a[eb])&&this[r](zka)){Cn(this,4)&&this[Lk](k);Cn(this,2)&&this.Rk(k)}};
F.Ey=function $ke(a){if(this.Mc()){Cn(this,2)&&this.Rk(h);if(nm(a,0)){Cn(this,4)&&this[Lk](h);this.Kc.yC(this)&&this.Lk()[Ek]()}}!this.JGa&&nm(a,0)&&a[zb]()};F.X6=function $le(a){if(this.Mc()){Cn(this,2)&&this.Rk(h);this.Eb()&&this.ox(a)&&Cn(this,4)&&this[Lk](k)}};F.dUb=function $me(a){this.Mc()&&this.ox(a)};var Aka="altKey",Bka="ctrlKey",Cka="metaKey",Dka="shiftKey";
F.ox=function $ne(a){Cn(this,16)&&yn(this,!this.LH());Cn(this,8)&&this.zm(h);Cn(this,64)&&this.Hi(!this.vj());var c=new N(Wn,this);if(a)for(var d=[Aka,Bka,Cka,Dka],f,g=0;f=d[g];g++)c[f]=a[f];return this[r](c)};F.aU=function $oe(){Cn(this,32)&&tja(this,h)};F.oC=function $pe(){Cn(this,4)&&this[Lk](k);Cn(this,32)&&tja(this,k)};F.Qo=function $qe(a){if(this.Ib()&&this.Mc()&&this.bU(a)){a[zb]();a[Ec]();return h}return k};F.bU=function $re(a){return a[Sb]==13&&this.ox(a)};if(!Ze(xn))e(Error(".35`"+xn));
if(!Ze(un))e(Error(".36`"+un));var Eka=bf(xn);nja[Eka]=un;wn("J-bMcfAe",function(){return new xn(i)});_B_prog(12)}catch(e){_B_err(e)}

try{H(En,vn);Ne(En);F=En[w];F.WG=B();F.ba=function $te(a){uja(this,a);return a.W().ba(jo,{"class":this.ry(a)[kd](J),disabled:!a.Mc(),title:a.wK()||I,value:a.Ca()||I},a.un()||I)};var Fka="BUTTON",oo="INPUT",Gka="reset";F.ji=function $ue(a){return a[ed]==Fka||a[ed]==oo&&(a[Zb]==jo||a[Zb]==oj||a[Zb]==Gka)};F.Pb=function $ve(a,c){uja(this,a);c[Uk]&&K(c,this.nta(1));return En.C.Pb[z](this,a,c)};F.mP=function $we(a){a.H().w(a.b(),P,a.ox)};F.Kaa=Me;F.mma=Me;F.yC=function $xe(a){return a.Mc()};F.Xm=Me;
F.Oe=function $ye(a,c,d){En.C.Oe[z](this,a,c,d);if((a=a.b())&&c==1)jk(a,d)};F.Ca=function $ze(a){return a[q]};F.Fa=function $Ae(a,c){if(a)pa(a,c)};F.Gna=Me;H(Fn,xn);F=Fn[w];F.Ca=D(Ad);F.Fa=function $Ce(a){this.jf=a;this.li().Fa(this.b(),a)};F.vo=Ge(Ad);F.wK=D("fEa");F.UQ=function $Fe(a){this.fEa=a;this.li().UQ(this.b(),a)};F.rYa=Ge("fEa");F.KXa=function $He(a){this.li().KXa(this,a)};F.L=function $Ie(){Fn.C.L[z](this);delete this.jf;delete this.fEa};F.ma=function $Je(){Fn.C.ma[z](this);if(this.ht&32){var a=this.Lk();a&&this.H().w(a,jj,this.bU)}};F.bU=function $Ke(a){if(a[Sb]==13&&a[Zb]==jn||a[Sb]==32&&a[Zb]==jj)return this.ox(a);return a[Sb]==32};
wn(xka,function(){return new Fn(i)});H(Gn,un);Ne(Gn);Gn[w].ba=function $Le(a){return a.W().ba(T,this.Qb())};Gn[w].Pb=function $Me(a,c){if(c[ed]==Bd){var d=c;c=this.ba(a);Qg(c,d);Sg(d)}else K(c,this.Qb());return c};Gn[w].xb=B();var po="J-Kh";Gn[w].Qb=E(po);H(Hn,xn);var Hka="separator";Hn[w].ma=function $Pe(){Hn.C.ma[z](this);fn(this.b(),Hka)};wn(po,function(){return new Hn});Ne(vja);F=vja[w];F.WG=B();F.ba=function $Re(a){return a.W().ba(T,this.ry(a)[kd](J))};F.Cd=Ee();F.ji=function $Te(a){return a[ed]==Cd};F.Pb=function $Ue(a,c){c.id&&a.qh(c.id);var d=this.Qb(),f=k,g=zg(c);g&&Ff(g,function(j){if(j==d)f=h;else j&&this.qxb(a,j,d)},this);f||K(c,d);this.rKa(a,c);return c};var Ika="-JV",qo="horizontal",Jka="-BvBYQ";F.qxb=function $Ve(a,c,d){if(c==d+dja)a.Ac(k);else if(c==d+Ika)a.lCa(qo);else c==d+Jka&&a.lCa(In)};
F.rKa=function $We(a,c){if(c)for(var d=c[Tb],f;d&&d[A]==c;){f=d[fc];if(d[nb]==1){var g=this.IMa(d);if(g){g.wa=d;a.Mc()||g.Ac(k);a.ha(g);g.Pb(d)}}else if(!d[md]||Pf(d[md])==I)c[Nc](d);d=f}};F.IMa=function $Xe(a){return pja(a)};F.mP=function $Ye(a){a=a.b();an(a,h,Fh);if(L)kk(a,h);var c=this.WG();c&&fn(a,c)};F.Lk=function $Ze(a){return a.b()};F.Qb=E("J-Jw");F.ry=function $0e(a){var c=this.Qb(),d=[c,a.Rs==qo?c+Ika:c+Jka];a.Mc()||d[p](c+dja);return d};H(Jn,nn);F=Jn[w];F.xQa=i;F.sc=i;F.Kc=i;F.Rs=i;F.yg=h;F.Lf=h;F.mv=h;F.Km=-1;F.wu=i;F.gV=k;F.bGb=k;F.vY=i;F.Lk=function $1e(){return this.xQa||this.Kc.Lk(this)};F.Hga=function $2e(){return this.sc||(this.sc=new hn(this.Lk()))};F.li=D(ko);F.PW=function $4e(a){if(this.b())e(Error(An));this.Kc=a};F.ba=function $5e(){this.wa=this.Kc.ba(this)};F.Cd=function $6e(){return this.Kc.Cd(this.b())};F.ji=function $7e(a){return this.Kc.ji(a)};
F.Ff=function $8e(a){this.wa=this.Kc.Pb(this,a);if(a[x][nl]==xd)this.yg=k};F.ma=function $9e(){Jn.C.ma[z](this);sn(this,function(c){c.Cc()&&yja(this,c)},this);var a=this.b();this.Kc.mP(this);this.ra(this.yg,h);this.H().w(this,yka,this.Nua).w(this,on,this.nfb).w(this,Via,this.cgb).w(this,pn,this.EJc).w(this,qn,this.OHc).w(a,fj,this.Ey).w(Eg(a),gj,this.kIc).w(a,[fj,gj,Xi,Yi],this.KHc);this.yC()&&xja(this,h)};F.Ba=function $$e(){this.dp(-1);this.wu&&this.wu.Hi(k);this.gV=k;Jn.C.Ba[z](this)};
F.L=function $af(){Jn.C.L[z](this);if(this.sc){this.sc.D();this.sc=i}this.Kc=this.wu=this.vY=i};F.Nua=E(h);var ro="activedescendant";F.nfb=function $cf(a){var c=tn(this,a[y]);if(c>-1&&c!=this.Km){var d=Kn(this);d&&d.Rk(k);this.Km=c;d=Kn(this);this.gV&&d[Lk](h);if(this.wu&&d!=this.wu)d.ht&64?d.Hi(h):this.wu.Hi(k)}gn(this.b(),ro,a[y].b().id)};F.cgb=function $df(a){if(a[y]==Kn(this))this.Km=-1;gn(this.b(),ro,I)};
F.EJc=function $ef(a){if((a=a[y])&&a!=this.wu&&a.ac()==this){this.wu&&this.wu.Hi(k);this.wu=a}};F.OHc=function $ff(a){if(a[y]==this.wu)this.wu=i};F.Ey=function $gf(a){this.Lf&&Dja(this,h);var c=this.Lk(),d;a:{if(c)if((d=c.getAttributeNode(Wha))&&d.specified){d=c[lha];d=mm(d)&&d>=0;break a}d=k}d?c[Ek]():a[zb]()};F.kIc=function $hf(){this.gV=k};
F.KHc=function $if(a){var c;a:{c=a[y];if(this.vY)for(var d=this.b();c&&c[A]&&c!=d;){var f=c.id;if(f in this.vY){c=this.vY[f];break a}c=c[A]}c=i}if(c)switch(a[Zb]){case fj:c.Ey(a);break;case gj:c.X6(a);break;case Xi:c.qA(a);break;case Yi:c.q_(a);break}};F.aU=B();F.oC=function $kf(){this.dp(-1);this.gV=k;this.wu&&this.wu.Hi(k)};F.Qo=function $lf(a){if(this.Mc()&&rn(this)!=0&&this.bU(a)){a[zb]();a[Ec]();return h}return k};
F.bU=function $mf(a){var c=Kn(this);if(c&&typeof c.Qo==Se&&c.Qo(a))return h;if(this.wu&&this.wu!=c&&typeof this.wu.Qo==Se&&this.wu.Qo(a))return h;switch(a[Sb]){case 27:if(this.yC())this.Lk()[yk]();else return k;break;case 36:Ln(this);break;case 35:Aja(this);break;case 38:if(this.Rs==In)Cja(this);else return k;break;case 37:if(this.Rs==qo)this.wP()?Bja(this):Cja(this);else return k;break;case 40:if(this.Rs==In)Bja(this);else return k;break;case 39:if(this.Rs==qo)this.wP()?Cja(this):Bja(this);else return k;
break;default:return k}return h};F.ha=function $nf(a,c){Jn.C.ha[z](this,a,c)};F.Jf=function $of(a,c,d){Dn(a,2,h);Dn(a,64,h);if(this.yC()||!this.bGb)Bn(a,32,k);qja(a,k);Jn.C.Jf[z](this,a,c,d);d&&this.Cc()&&yja(this,a);c<=this.Km&&this.Km++};lk(F,function $pf(a,c){var d=tn(this,a);if(d!=-1)if(d==this.Km)a.Rk(k);else d<this.Km&&this.Km--;(d=a.b())&&d.id&&dia(this.vY,d.id);a=Jn.C[Nc][z](this,a,c);qja(a,h);return a});F.lCa=function $qf(a){if(this.b())e(Error(An));this.Rs=a};F.Ib=D("yg");var Kka="aftershow";
F.ra=function $sf(a,c){if(c||this.yg!=a&&this[r](a?mo:no)){this.yg=a;var d=this.b();if(d){Wm(d,a);this.yC()&&wja(this.Kc,this.Lk(),this.Lf&&this.yg);this.yg&&!c&&this[r](Kka)}return h}return k};var so="Lf";F.Mc=D(so);F.Ac=function $uf(a){if(this.Lf!=a&&this[r](a?Uia:Tia)){if(a){this.Lf=h;sn(this,function(c){if(c.hkc)delete c.hkc;else c.Ac(h)})}else{sn(this,function(c){if(c.Mc())c.Ac(k);else c.hkc=h});this.gV=this.Lf=k}this.yC()&&wja(this.Kc,this.Lk(),a&&this.yg)}};var to="mv";F.yC=D(to);
F.Xm=function $wf(a){a!=this.mv&&this.Cc()&&xja(this,a);this.mv=a;this.Lf&&this.yg&&wja(this.Kc,this.Lk(),a)};F.fH=D("Km");F.dp=function $yf(a){if(a=this.rb(a))a.Rk(h);else this.Km>-1&&Kn(this).Rk(k)};F.Rk=function $zf(a){this.dp(tn(this,a))};F.j5a=function $Af(a){return a.Ib()&&a.Mc()&&!!(a.ht&2)};F.Mwb=function $Bf(a){this.dp(a)};_B_prog(13)}catch(e){_B_err(e)}

try{H(Mn,un);Ne(Mn);F=Mn[w];var Lka="menuitem";F.WG=E(Lka);F.ba=function $Df(a){var c=a.W().ba(T,this.ry(a)[kd](J),Gja(this,a.Ee(),a.W()));Ija(this,a,c,!!(a.ht&8)||!!(a.ht&16));return c};F.Cd=function $Ef(a){return a&&a[Tb]};F.Pb=function $Ff(a,c){var d=Wg(c),f=On(this,2);d&&d[uc][Db](f)!=-1||c[o](Gja(this,c[cc],a.W()));if(Bg(c,Pn)){a.Maa(h);this.Maa(a,c,h)}return Mn.C.Pb[z](this,a,c)};
F.xb=function $Gf(a,c){var d=this.Cd(a),f=Hja(this,a)?d[Tb]:i;Mn.C.xb[z](this,a,c);if(f&&!Hja(this,a))d[Bb](f,d[Tb]||i)};var Mka="menuitemradio";F.Uaa=function $Hf(a,c,d){if(c){fn(c,d?Mka:this.WG());Ija(this,a,c,d)}};var Nka="menuitemcheckbox";F.Maa=function $If(a,c,d){if(c){fn(c,d?Nka:this.WG());Ija(this,a,c,d)}};var Oka="J-Ks-KO";F.nta=function $Jf(a){switch(a){case 2:return On(this,0);case 16:case 8:return Oka;default:return Mn.C.nta[z](this,a)}};
F.geb=function $Kf(a){var c=On(this,0);switch(a){case Oka:return 16;case c:return 2;default:return Mn.C.geb[z](this,a)}};var uo="J-N";F.Qb=E(uo);H(Qn,xn);Qn[w].Ca=function $Mf(){var a=this.kb;return a!=i?a:this.un()};var wo="kb";Qn[w].Fa=Ge(wo);Qn[w].Uaa=function $Of(a){Bn(this,8,a);this.LH()&&!a&&yn(this,k);var c=this.b();c&&this.Kc.Uaa(this,c,a)};Qn[w].Maa=function $Pf(a){Bn(this,16,a);var c=this.b();c&&this.Kc.Maa(this,c,a)};wn(uo,function(){return new Qn(i)});H(Rn,vja);Ne(Rn);F=Rn[w];var Pka="menu";F.WG=E(Pka);F.ji=function $Rf(a){return a[ed]==Dd||Rn.C.ji[z](this,a)};F.IMa=function $Sf(a){return a[ed]==Bd?new Hn:Rn.C.IMa[z](this,a)};F.CJ=function $Tf(a,c){return Zg(a.b(),c)};var xo="J-M";F.Qb=E(xo);var yo="haspopup";F.mP=function $Vf(a){Rn.C.mP[z](this,a);a=a.b();gn(a,yo,jg)};wn(po,function(){return new Hn});H(Sn,Jn);F=Sn[w];F.zt=h;F.bY=k;F.Qb=function $Wf(){return this.li().Qb()};F.CJ=function $Xf(a){if(this.li().CJ(this,a))return h;for(var c=0,d=rn(this);c<d;c++){var f=this.rb(c);if(typeof f.CJ==Se&&f.CJ(a))return h}return k};F.Bk=function $Yf(a){this.ha(a,h)};F.r3=function $Zf(a,c){this.Jf(a,c,h)};mk(F,function $_f(a){(a=this[Nc](a,h))&&a.D()});F.caa=function $0f(a){(a=this.Vp(a,h))&&a.D()};F.Hw=function $1f(a){return this.rb(a)};F.Dp=function $2f(){return rn(this)};
F.vy=function $3f(){return this.bf||[]};F.Kj=function $4f(a,c){var d=this.Ib();d||Wm(this.b(),h);Qm(this.b(),a,c);d||Wm(this.b(),k)};F.Qk=function $5f(a){(this.zt=a)&&this.Xm(h)};F.ra=function $6f(a,c){(c=Sn.C.ra[z](this,a,c))&&a&&this.Cc()&&this.zt&&this.Lk()[Ek]();return c};F.Nua=function $7f(a){this.zt&&this.Lk()[Ek]();return Sn.C.Nua[z](this,a)};F.j5a=function $8f(a){return(this.bY||a.Mc())&&a.Ib()&&!!(a.ht&2)};H(Tn,vn);Ne(Tn);F=Tn[w];var zo="J-J5-Ji ";F.ba=function $9f(a){var c={"class":zo+this.ry(a)[kd](J),title:a.wK()||I};return a.W().ba(T,c,this.Cqa(a.Ee(),a.W()))};F.Cd=function $$f(a){return a&&a[Tb][Tb]};var Qka="-Kv-H",Rka="-J6-H";F.Cqa=function $ag(a,c){return c.ba(T,zo+(this.Qb()+Qka),c.ba(T,zo+(this.Qb()+Rka),a))};F.ji=function $bg(a){return a[ed]==Cd};F.cVb=function $cg(a,c){if((c=a.W().Bp(c))&&c[uc][Db](this.Qb()+Qka)!=-1)if((a=a.W().Bp(c))&&a[uc][Db](this.Qb()+Rka)!=-1)return h;return k};
var Ao="J-J5-Ji";F.Pb=function $dg(a,c){Jja(c,h);Jja(c,k);this.cVb(a,c)||c[o](this.Cqa(c[cc],a.W()));K(c,Ao,this.Qb());return Tn.C.Pb[z](this,a,c)};F.Qb=E("J-C7uZwb-I");H(Un,Tn);Ne(Un);if(Fh)Un[w].xb=function $fg(a,c){var d=Un.C.Cd[z](this,a&&a[Tb]);d&&Ug(this[gha](c,Cg(a)),d)};F=Un[w];F.Cd=function $gg(a){a=Un.C.Cd[z](this,a&&a[Tb]);if(Fh&&a&&a.__goog_wrapper_div)a=a[Tb];return a};F.Pb=function $hg(a,c){var d=Gg(Hg,xo,c)[0];if(d){Wm(d,k);Eg(d)[Lc][o](d);var f=new Sn;f.Pb(d);a.Zs(f)}return Un.C.Pb[z](this,a,c)};F.Cqa=function $ig(a,c){return Un.C.Cqa[z](this,[this[gha](a,c),this.gea(c)],c)};var Ska="-Jm";
F.createCaption=function $jg(a,c){return c.ba(T,zo+(this.Qb()+Ska),a)};var Tka="-JG";F.gea=function $kg(a){return a.ba(T,zo+(this.Qb()+Tka),Ed)};var Uka="J-M-I";F.Qb=E(Uka);H(Vn,Fn);F=Vn[w];F.Qoa=h;F.Bvb=k;F.D7=k;F.ma=function $mg(){Vn.C.ma[z](this);this.Ia&&Kja(this,this.Ia,h);gn(this.b(),yo,jg)};F.Ba=function $ng(){Vn.C.Ba[z](this);if(this.Ia){this.Hi(k);this.Ia.Ba();Kja(this,this.Ia,k);var a=this.Ia.b();a&&Sg(a)}};F.L=function $og(){Vn.C.L[z](this);if(this.Ia){this.Ia.D();delete this.Ia}this.ab.D()};F.Ey=function $pg(a){Vn.C.Ey[z](this,a);if(this.Eb()){this.Hi(!this.vj());this.Ia&&Dja(this.Ia,this.vj())}};
F.X6=function $qg(a){Vn.C.X6[z](this,a);this.Ia&&!this.Eb()&&Dja(this.Ia,k)};F.ox=function $rg(){this[Lk](k);return h};F.jIc=function $sg(a){this.Ia&&this.Ia.Ib()&&!this.CJ(a[y])&&this.Hi(k)};F.CJ=function $tg(a){return a&&Zg(this.b(),a)||this.Ia&&this.Ia.CJ(a)||k};F.bU=function $ug(a){if(a[Zb]!=(a[Sb]==32?jj:jn))return k;if(this.Ia&&this.Ia.Ib()){var c=this.Ia.Qo(a);if(a[Sb]==27){this.Hi(k);return h}return c}if(a[Sb]==40||a[Sb]==38||a[Sb]==32){this.Hi(h);return h}return k};F.Afb=function $vg(){this.Hi(k)};
F.qJc=function $wg(){this.Eb()||this.Hi(k)};F.oC=function $xg(a){this.D7||this.Hi(k);Vn.C.oC[z](this,a)};F.fe=function $yg(){this.Ia||this.Zs(new Sn(this.W()));return this.Ia||i};F.Zs=function $zg(a){var c=this.Ia;if(a!=c){if(c){this.Hi(k);this.Cc()&&Kja(this,c,k);delete this.Ia}if(a){this.Ia=a;a.Ig(this);a.ra(k);a.Qk(this.D7);this.Cc()&&Kja(this,a,h)}}return c};F.Bk=function $Ag(a){this.fe().ha(a,h)};F.r3=function $Bg(a,c){this.fe().Jf(a,c,h)};mk(F,function $Cg(a){(a=this.fe()[Nc](a,h))&&a.D()});
F.caa=function $Dg(a){(a=this.fe().Vp(a,h))&&a.D()};F.Hw=function $Eg(a){return this.Ia?this.Ia.rb(a):i};F.Dp=function $Fg(){return this.Ia?rn(this.Ia):0};F.ra=function $Gg(a,c){(a=Vn.C.ra[z](this,a,c))&&!this.Ib()&&this.Hi(k);return a};F.Ac=function $Hg(a){Vn.C.Ac[z](this,a);this.Mc()||this.Hi(k)};F.pB=function $Ig(){this.Hi(h)};
F.Hi=function $Jg(a){Vn.C.Hi[z](this,a);if(this.Ia&&this.VE(64)==a){if(a){this.Ia.Cc()||this.Ia.eb();this.F0a=Mm(this.b());this.UHa=Um(this.b());this.oAa();this.Ia.dp(-1)}else{this[Lk](k);this.Ia.gV=k;if(Ue(this.oUa)){this.oUa=undefined;var c=this.Ia.b();c&&Rm(c,I,I)}}this.Ia.ra(a);c=this.H();var d=a?c.w:c.hb;d[z](c,this.W().cb(),fj,this.jIc,h);this.D7&&d[z](c,this.Ia,kj,this.qJc);d[z](c,this.ab,yj,this.cQ);a?this.ab[Rc]():this.ab[qc]()}};
F.oAa=function $Kg(){var a=this.Qoa?5:7;a=new Pia(this.b(),a,!this.Bvb,this.Bvb);var c=this.Ia.b();if(!this.Ia.Ib()){Fa(c[x],yd);Wm(c,h)}if(!this.oUa&&this.Bvb)this.oUa=Tm(c);a.If(c,this.Qoa?4:6,i,this.oUa);if(!this.Ia.Ib()){Wm(c,k);Fa(c[x],ud)}};F.cQ=function $Lg(){var a=Um(this.b()),c=Mm(this.b());if(!jia(this.UHa,a)||!hia(this.F0a,c)){this.UHa=a;this.F0a=c;this.oAa()}};F.nfb=function $Mg(a){gn(this.b(),ro,a[y].b().id)};F.cgb=function $Ng(){Kn(this.Ia)||gn(this.b(),ro,I)};wn(Uka,function(){return new Vn(i)});_B_prog(14)}catch(e){_B_err(e)}

try{Xn[w].vc=function $Og(){return new Xn(this[Rc],this.Oc)};var Oja=/#(.)(.)(.)/,Nja=/^#(?:[0-9a-f]{3}){1,2}$/i;H(Yn,un);Ne(Yn);var Vka=0;F=Yn[w];F.ba=function $Pg(a){var c=this.ry(a);return a.W().ba(T,c?c[kd](J):i,Qja(this,a.Ee(),a.Ke(),a.W()))};var Bo="table",Wka="-KW",Co="tbody",Xka="-Jj",Yka="grid";F.Pqa=function $Qg(a,c){a=c.ba(Bo,this.Qb()+Wka,c.ba(Co,this.Qb()+Xka,a));eha(a,0);gk(a,0);fn(a,Yka);return a};var Do="td",Zka="-Jn",ala="gridcell";F.AJa=function $Rg(a,c){a=c.ba(Do,{"class":this.Qb()+Zka,id:this.Qb()+Zka+Vka++},a);fn(a,ala);return a};F.ji=E(k);F.Pb=E(i);
F.xb=function $Ug(a,c){if(a){var d=Gg(Co,this.Qb()+Xka,a)[0];if(d){var f=0;Ff(d[kl],function(v){Ff(v[cl],function(C){Pg(C);if(c){var M=c[f++];M&&Og(C,M)}})});if(f<c[u]){for(var g=[],j=Cg(a),n=d[kl][0][cl][u];f<c[u];){var s=c[f++];g[p](this.AJa(s,j));if(g[u]==n){s=j.ba(Zn,this.Qb()+Pja,g);d[o](s);Ia(g,0)}}if(g[u]>0){for(;g[u]<n;)g[p](this.AJa(I,j));s=j.ba(Zn,this.Qb()+Pja,g);d[o](s)}}}an(a,h,Fh)}};
F.pta=function $Vg(a,c){for(a=a.b();c&&c[nb]==1&&c!=a;){if(c[ed]==Fd&&Bg(c,this.Qb()+Zka))return c[Tb];c=c[A]}return i};F.Qb=E("J-Kw");H(Wja,uh);F=Wja[w];F.NQ=i;F.JF=i;F.Dp=function $Xg(){return this.qi[u]};F.Hta=function $Yg(){return this.qi[this.qi[u]-1]};F.Hw=function $Zg(a){return this.qi[a]||i};F.dGa=function $_g(a){if(a){Ff(a,function(c){this.Ila(c,k)},this);of(this.qi,a)}};F.Bk=function $0g(a){this.r3(a,this.Dp())};F.r3=function $1g(a,c){if(a){this.Ila(a,k);km(this.qi,a,c)}};mk(F,function $2g(a){if(a&&jf(this.qi,a))if(a==this.NQ){this.NQ=i;this[r](nj)}});F.caa=function $3g(a){this[Yk](this.Hw(a))};var bla="NQ";F.rH=D(bla);
F.fp=function $5g(a){if(a!=this.NQ){this.Ila(this.NQ,k);this.NQ=a;this.Ila(a,h)}this[r](nj)};F.Xt=function $6g(){return this.NQ?ff(this.qi,this.NQ):-1};F.Pl=function $7g(a){this.fp(this.Hw(a))};Aa(F,function $8g(){gf(this.qi);this.NQ=i});F.L=function $9g(){Wja.C.L[z](this);delete this.qi;this.NQ=i};F.Ila=function $$g(a,c){if(a)if(typeof this.JF==Se)this.JF(a,c);else typeof a.zm==Se&&a.zm(c)};H(ao,xn);F=ao[w];F.We=i;F.Km=-1;F.Sg=i;F.L=function $ah(){ao.C.L[z](this);if(this.Sg){this.Sg.D();this.Sg=i}this.We=i};F.bma=function $bh(a){ao.C.bma[z](this,a);Zja(this);if(this.Sg){this.Sg[bc]();this.Sg.dGa(a)}else{this.Sg=new Wja(a);this.Sg.JF=G(this.Ila,this);this.H().w(this.Sg,nj,this.tha)}this.Km=-1};F.un=E(i);F.lM=B();F.qA=function $eh(a){ao.C.qA[z](this,a);var c=this.li().pta(this,a[y]);c&&a[eb]&&Zg(c,a[eb])||c!=Xja(this)&&Yja(this,c)};
F.q_=function $fh(a){ao.C.q_[z](this,a);var c=this.li().pta(this,a[y]);c&&a[eb]&&Zg(c,a[eb])||c==Xja(this)&&Tja(this.li(),this,c,k)};F.Ey=function $gh(a){ao.C.Ey[z](this,a);if(this.Eb()){a=this.li().pta(this,a[y]);a!=Xja(this)&&Yja(this,a)}};F.ox=function $hh(){var a=Xja(this);if(a){this.fp(a);return this[r](Wn)}return k};
F.Qo=function $ih(a){var c=this.Ee();c=c?c[u]:0;var d=this.We[ib];if(c==0||!this.Mc())return k;if(a[Sb]==13||a[Sb]==32)return this.ox(a);if(a[Sb]==36){this.dp(0);return h}else if(a[Sb]==35){this.dp(c-1);return h}var f=this.Km<0?this.Xt():this.Km;switch(a[Sb]){case 37:if(f==-1)f=c;if(f>0){this.dp(f-1);a[zb]();return h}break;case 39:if(f<c-1){this.dp(f+1);a[zb]();return h}break;case 38:if(f==-1)f=c+d-1;if(f>=d){this.dp(f-d);a[zb]();return h}break;case 40:if(f==-1)f=-d;if(f<c-d){this.dp(f+d);a[zb]();
return h}break}return k};F.tha=B();var Eo="We";F.Ke=D(Eo);F.jg=function $lh(a,c){if(this.b())e(Error(An));this.We=mm(a)?new yg(a,c):a;Zja(this)};F.fH=D("Km");F.dp=function $nh(a){if(a!=this.Km){this.l7(this.Km,k);this.Km=a;this.l7(a,h)}};F.Xt=function $oh(){return this.Sg?this.Sg.Xt():-1};F.rH=function $ph(){return this.Sg?this.Sg.rH():i};F.Pl=function $qh(a){this.Sg&&this.Sg.Pl(a)};F.fp=function $rh(a){this.Sg&&this.Sg.fp(a)};
F.l7=function $sh(a,c){if(this.b()){var d=this.Ee();d&&a>=0&&a<d[u]&&Tja(this.li(),this,d[a],c)}};F.Ila=function $th(a,c){this.b()&&Vja(this.li(),this,a,c)};H(aka,Hia);aka[w].If=function $uh(a,c,d,f){var g=Lm(a);bn(g,0,a,c,new xg(this.GJ.x+g[dl],this.GJ.y+g[Nk]),d,i,f)};H(bka,aka);bka[w].If=function $vh(a,c,d,f){var g=Lm(a);g=Mm(g);var j;j=Cg(a);j=Pha(j.ki);j=new xg(this.GJ.x+j[dl],this.GJ.y+j[Nk]);var n=c,s=cn(j,a,n,d,g,10,f);if((s&496)!=0){if(s&16||s&32)n^=2;if(s&64||s&128)n^=1;s=cn(j,a,n,d,g,10,f);(s&496)!=0&&cn(j,a,c,d,g,undefined,f)}};H(bo,uh);F=bo[w];F.wa=i;F.eHb=h;F.S3a=i;F.Nm=k;F.njd=k;F.Jkb=-1;F.Akb=-1;F.FVb=k;F.RNb=h;var cla="toggle_display";F.Xd=cla;F.Ga=D(Gd);F.pma=Ge(Gd);F.b=D(eo);F.mM=function $zh(a){cka(this);this.wa=a};F.Hu=function $Ah(a){cka(this);this.eHb=a};F.Laa=Ge("S3a");var dla="Nm";F.Ib=D(dla);F.Bv=function $Dh(){return this.Nm||Zf()-this.Akb<150};F.ra=function $Eh(a){a?this.Ym():this.dP()};F.If=Me;var ela="move_offscreen";
F.Ym=function $Fh(){if(!this.Nm)if(this.fob()){if(!this.wa)e(Error(".42"));this.If();var a=Eg(this.wa);this.FVb&&this.na.w(a,ij,this.j0c,h);if(this.eHb){this.na.w(a,fj,this.mka,h);if(L){for(var c=a[rk];c&&c[Gb]==Hd;){try{var d=om(c)}catch(f){break}a=d;c=a[rk]}this.na.w(a,fj,this.mka,h);this.na.w(a,Wea,this.i4b)}else this.na.w(a,kj,this.i4b)}if(this.Xd==cla)this.Wec();else this.Xd==ela&&this.If();this.Nm=h;this.hx()}};
F.dP=function $Gh(a){if(!this.Nm||!this.dob(a))return k;this.na&&this.na.wb();if(this.Xd==cla)this.njd?Dh(this.GVb,0,this):this.GVb();else this.Xd==ela&&eka(this);this.Nm=k;this.yV(a);return h};F.Wec=function $Hh(){Fa(this.wa[x],ud);Wm(this.wa,h)};F.GVb=function $Ih(){Fa(this.wa[x],yd);Wm(this.wa,k)};var Fo="beforeshow";F.fob=function $Jh(){return this[r](Fo)};F.hx=function $Kh(){this.Jkb=Zf();this.Akb=-1;this[r](mo)};var Go="beforehide";F.dob=function $Lh(a){return this[r]({type:Go,target:a})};
F.yV=function $Mh(a){this.Akb=Zf();this[r]({type:no,target:a})};F.mka=function $Nh(a){a=a[y];if(!Zg(this.wa,a)&&(!this.S3a||Zg(this.S3a,a))&&!(Zf()-this.Jkb<150))this.dP(a)};F.j0c=function $Oh(a){if(a[Sb]==27)if(this.dP(a[y])){a[zb]();a[Ec]()}};F.i4b=function $Ph(a){if(this.RNb){var c=Eg(this.wa);if(L||Ng){if((a=c[rk])&&Zg(this.wa,a))return}else if(a[y]!=c)return;Zf()-this.Jkb<150||this.dP()}};F.L=function $Qh(){bo.C.L[z](this);this.na.D();delete this.wa;delete this.na};_B_prog(15)}catch(e){_B_err(e)}

try{H(co,Sn);F=co[w];F.kD=k;F.nZb=0;F.HS=i;F.Ff=function $Rh(a){co.C.Ff[z](this,a);(a=a[Uc](ica)||a.htmlFor)&&this.Pe(this.W().b(a),1)};F.ma=function $Sh(){co.C.ma[z](this);Ef(this.kt,this.HGb,this);var a=this.H();a.w(this,Wn,this.lh);a.w(this.W().cb(),fj,this.h4b,h);Jg&&a.w(this.W().cb(),pj,this.h4b,h)};F.Pe=function $Th(a,c,d,f,g){if(!(a?this.kt.Xb(bf(a)):k)){if(a){c={wa:a,UZa:c,sja:d,Aab:f?pj:fj,jja:g};this.kt.set(bf(a),c);a=c}else a=i;this.Cc()&&this.HGb(a)}};
F.HGb=function $Uh(a){this.H().w(a.wa,a.Aab,this.D6b)};ek(F,function $Vh(a){if(!(a?this.kt.Xb(bf(a)):k))e(Error(".43"));a=bf(a);this.Cc()&&fka(this,this.kt.J(a));this.kt[Pb](a)});F.Nn=Ge("kD");F.pB=function $Xh(a,c,d){var f=this.Ib();if((f||Zf()-this.nZb<150)&&this.kD)this.Yb();else if(this[r](Fo)){c=Ke(a.UZa)?new en(a.wa,a.UZa):new bka(c,d);d=Ke(a.sja)?a.sja:4;if(!f)Fa(this.b()[x],yd);Wm(this.b(),h);c.If(this.b(),d,a.jja);if(!f)Fa(this.b()[x],ud);this.HS=a.wa;this.dp(-1);this.ra(h)}};
F.DYa=function $Yh(a,c,d){this.pB({sja:d},a,c)};F.MF=function $Zh(a,c,d){this.pB({sja:d,wa:a,UZa:c},0,0)};F.Yb=function $_h(){this.ra(k);if(!this.Ib()){this.nZb=Zf();this.HS=i}};F.lh=function $0h(){this.Yb()};F.D6b=function $1h(a){for(var c=this.kt.Sb(),d=0;d<c[u];d++){var f=this.kt.J(c[d]);if(f.wa==a[Hb]){this.pB(f,a[kc],a[lc]);a[zb]();a[Ec]();return}}};F.h4b=function $2h(a){this.Ib()&&!this.CJ(a[y])&&this.Yb()};F.oC=function $3h(a){co.C.oC[z](this,a);this.Yb()};
F.L=function $4h(){co.C.L[z](this);if(this.kt){this.kt[bc]();delete this.kt}};var fla={"":1,n:l.pow(1024,-3),u:l.pow(1024,-2),m:1/1024,k:1024,K:1024,M:l.pow(1024,2),G:l.pow(1024,3),T:l.pow(1024,4),P:l.pow(1024,5)},gla="<wbr>",hla=Jg?"<wbr></wbr>":Ng?"&shy;":gla;var ila=new RegExp("[\u0591-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]"),jla=new RegExp("[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]"),kla=new RegExp("^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]");U[w].set=function $5h(a){this[bc]();this[R](a)};if(bj){U[w].J4a=0;U[w].append=function $6h(a,c){if(c==i)this.pp[this.J4a++]=a;else{this.pp[p][cd](this.pp,arguments);this.J4a=this.pp[u]}return this}}else U[w].append=function $6h(a,c){this.pp+=a;if(c!=i)for(var d=1;d<arguments[u];d++)this.pp+=arguments[d];return this};Aa(U[w],function $7h(){if(bj){Ia(this.pp,0);this.J4a=0}else this.pp=I});U[w].Lga=function $8h(){return this[t]()[u]};
Ha(U[w],function $9h(){if(bj){var a=this.pp[kd](I);this[bc]();a&&this[R](a);return a}else return this.pp});O.S().gb(Ph);Ci(O.S(),Ph);Bi(O.S(),"sy110");O.S().gb("sy110");Ci(O.S(),"sy110");var lla="GearsFactory",mla="Gears.Factory",nla="ie_mobile",Ho="beta.localserver";function Io(){if(Jo!=undefined)return Jo;var b=Le("google.gears.factory");if(b)return Jo=b;try{return Jo=new (Le(lla))}catch(a){}try{b=new ActiveXObject(mla);b.getBuildInfo()[Db](nla)!=-1&&b.privateSetGlobalObject(Je);return Jo=b}catch(c){}return Jo=ola()}var pla="gears-factory";
function ola(){var b=Le(pg);if(b&&b[gd][vb]["application/x-googlegears"])try{var a=b[yc],c=a[ub](pla);if(!c){c=a[Qb](Oe);Ua(c[x],xd);ka(c,Ah);Wa(c,Ah);za(c,"application/x-googlegears");c.id=pla;a[mc][o](c)}if(typeof c[tc]!="undefined")return c}catch(d){}return i}var qla="navigator.mimeTypes";
function rla(){if(Ko!=undefined)return Ko;var b=Le("google.gears.factory");if(b||Le(lla))return Ko=h;if(typeof ActiveXObject!="undefined")try{new ActiveXObject(mla);return Ko=h}catch(a){return Ko=k}if((b=Le(qla))&&b["application/x-googlegears"])if(b=ola()){Jo=b;return Ko=h}return Ko=k}
function sla(b){if(!b)e(Error(".44"));b=String(b);var a=b[mb](/[^a-zA-Z0-9\.\-@_]/g,I);if(!a)e(Error(".45`"+b));if(a[u]<=64)return a;for(var c=0,d=0;d<b[u];++d){c=31*c+b[Xc](d);c%=4294967296}b=c;return a[Zc](0,54)+String(b)}Bi(O.S(),"sy16");var tla,ula,vla,wla,xla,yla;yla=xla=wla=vla=ula=tla=k;var Lo=ug();if(Lo)if(Lo[Db]("Firefox")!=-1)tla=h;else if(Lo[Db]("Camino")!=-1)ula=h;else if(Lo[Db]("iPhone")!=-1||Lo[Db]("iPod")!=-1)vla=h;else if(Lo[Db]("Android")!=-1)wla=h;else if(Lo[Db](Faa)!=-1)xla=h;else if(Lo[Db]("Safari")!=-1)yla=h;var zla=L,Ala=tla,Bla=ula,Cla=vla,Dla=wla,Mo=xla,No=yla;var Jo=undefined,Ko=undefined;O.S().gb("sy16");Ci(O.S(),"sy16");function Ela(b,a){return b.coords=a}var Oo="coords";function Fla(b){return 1-l.pow(1-b,3)}function Po(b,a,c,d){if(!Ve(b)||!Ve(a))e(Error(".46"));if(b[u]!=a[u])e(Error(".47"));this.Xma=b;this.UCc=a;this.qw=c;this.WEb=d;Ela(this,[])}function Gla(){Ch[gb](Qo);var b=Zf();for(var a in Ro)Hla(Ro[a],b);Qo=yf(Ro)?i:Ch[xc](Gla,20)}function Ila(b){b=bf(b);delete Ro[b];if(Qo&&yf(Ro)){Ch[gb](Qo);Qo=i}}
function Hla(b,a){b.wF=(a-b.cq)/(b.eOb-b.cq);if(b.wF>=1)b.wF=1;b.XPb=1E3/(a-b.ykb);b.ykb=a;Ze(b.WEb)?Jla(b,b.WEb(b.wF)):Jla(b,b.wF);if(b.wF==1){b.qa=0;Ila(b);b.Uob();b.oka()}else b.qa==1&&b.Qya()}function Jla(b,a){Ela(b,new Array(b.Xma[u]));for(var c=0;c<b.Xma[u];c++)b[Oo][c]=(b.UCc[c]-b.Xma[c])*a+b.Xma[c]}var Kla="resume";function Lla(b){So(b,Kla)}function So(b,a){b[r](new Mla(a,b))}
function Mla(b,a){N[z](this,b);Ela(this,a[Oo]);this.x=a[Oo][0];this.y=a[Oo][1];this.iFa=a[Oo][2];this.qw=a.qw;this.wF=a.wF;this.JBd=a.XPb;this.rh=a.qa;this.sAd=a}function To(b,a,c){this.Mk=b;this.Ly=a||0;this.na=c;this.Li=G(this.UN,this)}Bi(O.S(),"sy40");H(Po,uh);var Ro={},Qo=i;F=Po[w];F.qa=0;F.XPb=0;F.wF=0;F.cq=i;F.eOb=i;F.ykb=i;var Nla="play";F.Iv=function $$h(a){if(a||this.qa==0){this.wF=0;Ela(this,this.Xma)}else if(this.qa==1)return k;Ila(this);this.cq=Zf();if(this.qa==-1)this.cq-=this.qw*this.wF;this.eOb=this.cq+this.qw;this.ykb=this.cq;this.wF||this.wV();So(this,Nla);this.qa==-1&&Lla(this);this.qa=1;a=bf(this);a in Ro||(Ro[a]=this);Qo||(Qo=Ch[xc](Gla,20));Hla(this,this.cq);return h};
Ga(F,function $ai(a){Ila(this);this.qa=0;if(a)this.wF=1;Jla(this,this.wF);So(this,Id);this.oka()});var Ola="pause";F.pause=function $bi(){if(this.qa==1){Ila(this);this.qa=-1;So(this,Ola)}};var Pla="destroy";F.L=function $ci(){this.qa!=0&&this[qc](k);So(this,Pla);Po.C.L[z](this)};var Qla="animate";F.Qya=function $di(){So(this,Qla)};F.wV=function $ei(){So(this,Gaa)};F.oka=function $fi(){So(this,Jd)};var Rla="finish";F.Uob=function $gi(){So(this,Rla)};H(Mla,N);H(To,Jf);F=To[w];F.Xa=0;F.L=function $hi(){To.C.L[z](this);this[qc]();delete this.Mk;delete this.na};Qa(F,function $ii(a){this[qc]();this.Xa=Dh(this.Li,Ke(a)?a:this.Ly)});Ga(F,function $ji(){this.Eb()&&Eh(this.Xa);this.Xa=0});F.Pfa=function $ki(){this[qc]();this.UN()};F.Eb=function $li(){return this.Xa!=0};F.UN=function $mi(){this.Xa=0;this.Mk&&this.Mk[z](this.na)};O.S().gb("sy40");Ci(O.S(),"sy40");Bi(O.S(),"sy19");function Uo(b){b=b.Ga();return b=="buzz"||b=="updates_search"||b=="updates_query_search"};O.S().gb("sy19");Ci(O.S(),"sy19");var Sla="hasPermission";function Vo(){if(Wo!=i)return Wo;var b=Io();if(!b||!b[Sla])Wo=k;else if(Tla)Wo=b[tc](Ho).canServeLocally(Tla);else return k;return!!Wo}Bi(O.S(),"sy15");_B_prog(16)}catch(e){_B_err(e)}

try{var Wo,Tla=i;O.S().gb("sy15");Ci(O.S(),"sy15");function Xo(b,a){this.Js=b;this.jf=a}function Yo(b){this.MA=[];b&&Ula(this,b)}function Vla(b,a,c){var d=b.MA;d[p](new Xo(a,c));b.Imb(d[u]-1)}function Ula(b,a){var c,d;if(a instanceof Yo){c=a.Sb();d=a.Oa();if(a.Nb()<=0){b=b.MA;for(a=0;a<c[u];a++)b[p](new Xo(c[a],d[a]));return}}else{c=xf(a);d=wf(a)}for(a=0;a<c[u];a++)Vla(b,c[a],d[a])}Bi(O.S(),"sy24");Xo[w].Dg=D("Js");Xo[w].Ca=D(Ad);Xo[w].vc=function $pi(){return new Xo(this.Js,this.jf)};F=Yo[w];wa(F,function $qi(){var a=this.MA,c=a[u],d=a[0];if(!(c<=0)){if(c==1)gf(a);else{a[0]=a.pop();this.Emb(0)}return d.Ca()}});F.hQ=function $ri(){var a=this.MA;if(a[u]!=0)return a[0].Ca()};F.Emb=function $si(a){for(var c=this.MA,d=c[u],f=c[a];a<l[rb](d/2);){var g=a*2+1,j=a*2+2;g=j<d&&c[j].Dg()<c[g].Dg()?j:g;if(c[g].Dg()>f.Dg())break;c[a]=c[g];a=g}c[a]=f};F.Imb=function $ti(a){for(var c=this.MA,d=c[a];a>0;){var f=l[rb]((a-1)/2);if(c[f].Dg()>d.Dg()){c[a]=c[f];a=f}else break}c[a]=d};
F.Oa=function $ui(){for(var a=this.MA,c=[],d=a[u],f=0;f<d;f++)c[p](a[f].Ca());return c};F.Sb=function $vi(){for(var a=this.MA,c=[],d=a[u],f=0;f<d;f++)c[p](a[f].Dg());return c};F.BS=function $wi(a){return Mi(this.MA,function(c){return c.Ca()==a})};F.Xb=function $xi(a){return Mi(this.MA,function(c){return c.Dg()==a})};F.vc=function $yi(){return new Yo(this)};F.Nb=function $zi(){return this.MA[u]};F.nd=function $Ai(){return this.MA[u]==0};Aa(F,function $Bi(){gf(this.MA)});O.S().gb("sy24");Ci(O.S(),"sy24");var Wla=JS_MODE,Zo=alert,ap=screen,bp=navigator;function cp(b,a){return b.onload=a}function Xla(b,a){return b.error=a}function dp(b,a){return b.version=a}function ep(b,a){return b.selection=a}function fp(b,a){return b.navigate=a}function gp(b,a){return b.fontFamily=a}function hp(b,a){return b.selected=a}function ip(b,a){return b.getData=a}function jp(b,a){return b.getDate=a}function Yla(b,a){return b.registerService=a}function kp(b,a){return b.color=a}function lp(b,a){return b.marginLeft=a}
function mp(b,a){return b.domain=a}function np(b,a){return b.status=a}function op(b,a){return b.focus=a}function pp(b,a){return b.backgroundPosition=a}function Zla(b,a){return b.marginTop=a}function ama(b,a){return b.padding=a}function bma(b,a){return b.moveTo=a}function cma(b,a){return b.getContext=a}function dma(b,a){return b.paddingLeft=a}function qp(b,a){return b.scrollIntoView=a}function rp(b,a){return b.overflow=a}function ema(b,a){return b.whiteSpace=a}
function fma(b,a){return b.getTime=a}function gma(b,a){return b.borderColor=a}function sp(b,a){return b.fontWeight=a}function hma(b,a){return b.setDate=a}function tp(b,a){return b.setData=a}function up(b,a){return b.scrollTop=a}function vp(b,a){return b.hasFocus=a}function wp(b,a){return b.cursor=a}function xp(b,a){return b.selectedIndex=a}function ima(b,a){return b.complete=a}function jma(b,a){return b.size=a}function yp(b,a){return b.index=a}function zp(b,a){return b.checked=a}
function Ap(b,a){return b.prompt=a}function kma(b,a){return b.onprogress=a}function Bp(b,a){return b.reload=a}function Cp(b,a){return b.fontSize=a}function Dp(b,a){return b.lineHeight=a}function Ep(b,a){return b.textAlign=a}function lma(b,a){return b.style=a}function Fp(b,a){return b.close=a}function mma(b,a){return b.fontStyle=a}function Gp(b,a){return b.view=a}function Hp(b,a){return b.parent=a}function Ip(b,a){return b.search=a}function nma(b,a){return b.sendMessage=a}
function Jp(b,a){return b.call=a}function Kp(b,a){return b.colSpan=a}function Lp(b,a){return b.lastIndex=a}function Mp(b,a){return b.href=a}function Np(b,a){return b.marginRight=a}function oma(b,a){return b.onabort=a}function pma(b,a){return b.backgroundImage=a}function Op(b,a){return b.action=a}function qma(b,a){return b.minWidth=a}function Pp(b,a){return b.reset=a}function Qp(b,a){return b.update=a}function Rp(b,a){return b.label=a}function Sp(b,a){return b.description=a}
function rma(b,a){return b.transform=a}
var Up="filename",Vp="getItem",sma="valueOf",Wp="alert",Xp="page",Yp="expand",Zp="confirm",aq="field",bq="navigate",cq="reverse",tma="toFixed",uma="onLine",dq="data",eq="content",fq="queryCommandValue",vma="tBodies",gq="selected",hq="getData",iq="getDate",jq="bgColor",kq="registerService",lq="color",wma="marginLeft",mq="domain",nq="write",oq="insertRow",xma="MAX_VALUE",pq="getName",qq="setMonth",rq="fromCharCode",yma="self",sq="setFullYear",tq="moveTo",uq="getContext",zma="translate",Ama="setMinutes",
vq="source",wq="scrollIntoView",Bma="enabledPlugin",xq="getHours",yq="insertCell",Cma="host",zq="setDate",Aq="setData",Dma="fill",Bq="hasFeature",Cq="getMonth",Dq="caption",Eq="plugins",Fq="hasFocus",Gq="getDay",Hq="selectedIndex",Iq="complete",Jq="sizeToContent",Kq="size",Lq="index",Mq="checked",Nq="prompt",Oq="getSeconds",Ema="getUTCDate",Fma="handle",Pq="scope",Qq="save",Rq="closed",Sq="reload",Tq="message",Gma="hostname",Hma="sender",Uq="PercentLoaded",Vq="separator",Wq="view",Ima="selectionStart",
Xq="sendMessage",Yq="total",Jma="setSeconds",Zq="anchor",ar="getYear",Kma="checkForUpdate",br="options",cr="link",dr="info",Lma="setProperty",er="protocol",fr="getFullYear",Mma="lastIndex",Nma="marginRight",gr="setTime",Oma="clearInterval",hr="scale",ir="console",jr="action",Pma="setHours",kr="reset",lr="empty",Qma="getUTCHours",Rma="normalize",mr="update",nr="getMinutes",or="fileName",pr="label",qr="description",rr="transform",sr="getTimezoneOffset",tr="xa",Sma="Failed to enable Offline Gmail",ur=
"cob-matches",Tma="Web Search",Uma="tasksuiloaded",vr="tasks",Vma="Classic",Wma="Friends",wr="^if",Xma="^friends",xr="la",yr="tc",Yma="; ",zr="Sa",Zma="lsmv",Ar="msg",Br="md",ana="mic",bna="yh",cna="Label",dna="Name",Cr="command",Dr="index",ena="HEAD",fna="res",Er=";",gna="lsci",Fr="disconnected",hna="cn",ina=" ou",Gr="mi",Hr="Fd",jna="gl",kna="Go to Label",Ir='" name="',lna="Sent at ",Jr="  ",mna="xd",Lr="xf",nna="kR",ona="JA-Kn-Jr-Kw-Jt",pna="JA-Kn-Jr-Kw-Jn-KO",qna="Remove color",Mr='"></div><div id="',
Nr="ts",rna=" = ",Or="Reply to all",sna="Recover from Trash",Pr="Ignore",tna="Report phishing",una="Send",vna="Create a new label",wna="Create a filter",xna="Share",yna="Expand all",zna="transliterationConfig",Qr="^act",Ana="Public",Rr="lcv",Sr="plcv",Bna="yH",Cna="dn",Tr="frs",Dna="-iframe",Ur="-1",Vr="visibility",Wr="gwt.hosted",Xr="service",Ena="popupOpensProfiles",Fna="SOURCES",Yr="exp",Zr="alpha",Gna="GB",as="gb",Hna="Ud",bs="Home",cs="Work",ds="Other",Ina="Bt",Jna="Ax",Kna="tx",Lna="ignoreesc",
Mna="l1",Nna="Af",es="Bj",Ona="sD",Pna="sit",fs="sii",Qna="sim",Rna="fvi",Sna="Za",Tna="Ya",gs="ab",Una="PICK",Vna="EDIT",Wna="disp",Xna="userId",Yna="hide-media",hs="db",Zna="edit",aoa="sources",boa="new_group",coa="26ac",is='" value="',doa='"></span></div>',js="uk",ks="link",eoa="Set status here",foa="uf",goa="Loading&hellip;",hoa="Sign into chat",ioa="Try to connect",ls="Offline",joa='" action="',koa="</table></div>",ms='"><tr class="',ns='</span><span id="',os='" style="display:',loa='">&nbsp; ',
moa="Invited",ps="<td>",qs="c3",rs="vm",ss="in",ts="1px",noa="vp",ooa="Ae",poa="Ag",qoa="bt",us="sr",roa="Invisible",soa="1m",vs="mp",toa="Available",uoa="Custom Message...",voa="Busy",ws="iv",woa="Sign out of chat",xs="so",xoa="Clear custom messages",ys="de",yoa='"><td>',zs='</td><td id="',zoa="Hide",As='</span><span class="',Aoa="Waiting for ",Boa="stm",Coa="Ok",Doa="csl",Bs='"><img src="images/cleardot.gif" class="',Cs='"/><div class="',Eoa="iOeLLc",Ds='" />',Foa="Hm",Es="Ha",Fs="bottom",Goa="dh",
Gs="mm",Hs="po",Hoa="Hc",Ioa="Hb",Joa="Hs",Koa="11",Noa="h9",Ooa="results",Poa="Bi",Qoa="ih",Is="drop",Js="dragend",Ks="dragover",Roa="data",Ls="mD",Ms=' <span class="',Soa="mG",Toa="Reply by chat to ",Ns='" idlink>',Uoa=" is not available to chat",Voa="mF",Os='"><img class="',Ps='" src="',Qs="max",Rs="line",Woa="Hebrew",Xoa="Arabic",Yoa="Urdu",Zoa="Persian",apa="\u000c",bpa="English",Ss="</td></tr></table>",cpa=' value="',Ts="</label>",Us="rc",Vs='<select id="',Ws="sA",Xs='</div><div id="',dpa='"><tr><td><div class="',
Ys='" alt="',Zs="</td></tr></table></div>",at='">(',epa="main",fpa="fwdandpop",bt="general",ct='" target=_blank>',dt="sn",gpa="f0",hpa="nY",et="Saving...",ipa="debug",jpa="cpl",kpa="pm",ft="vs",lpa="en-GB",gt="es",ht="fr",it="hr",mpa="lv",jt="nl",npa="pt-BR",opa="pt-PT",kt="ro",lt="sk",mt="vi",nt="el",ot="iw",ppa="zh-TW",qpa="zh-CN",rpa="ko",pt="+bold",qt="+italic",spa="13px",tpa="18px",upa="32px",rt="+fontName",st="+fontSize",tt="+foreColor",ut="+removeFormat",vt='"><b>',wt="</option>",xt='<input type="checkbox" id="',
yt='<option value="',vpa=' selected="selected"',wpa="x-small",zt="+underline",At="+backColor",Bt="+link",Ct="+insertOrderedList",Dt="+insertUnorderedList",Et="+outdent",Ft="+indent",Gt="+BLOCKQUOTE",Ht="+justifyLeft",It="+justifyCenter",Jt="+justifyRight",Kt="ei",xpa="imageInserted",ypa="r2",Lt='" title="',zpa="r3",Apa="accounts",Bpa="sx",Mt='"><label for="',Cpa='" disabled>',Dpa="fil",Epa="zh",Fpa='"><input class="',Gpa='" type="text" id="',Nt="vb",Ot="vc",Pt="vd",Hpa="iI",Ipa="cvm",Qt='</span></td><td class="',
Jpa='<h3 class="',Kpa=" </span>",Lpa="></div>",Rt='<a target=_blank href="',Mpa="</a>.",St="<div ",Tt='"><tr><td>',Npa="Invite ",Opa="io",Ppa='<button class="',Qpa='" type="button">',Vt="</div></div></div>",Wt="</span></td></tr>",Xt="from",Yt="Ca",Zt="</a></span>",Rpa='</span>&nbsp;<span class="',Spa="ho",au='"></span>',Tpa="nw",bu="ap",Upa="://",Vpa="c0",cu="pb",du="qb",eu="lbl",Wpa="rb",fu="mc",gu="oc",Xpa="hO",Ypa="hN",Zpa="hX",hu="hV",iu="hU",aqa="Search Results",ju="zb",ku="ht",bqa="zip",lu=
"mb",mu="mC",nu="ij",ou="href",cqa="</body></html>",dqa="Try again",pu="</span></span>",eqa="kt",fqa='"><table class="',gqa='" class= "',hqa="b7",iqa="margin-top",jqa="O6",kqa="WcILW",qu="&nbsp;-&nbsp;",ru='<img src="',su="url",lqa="nocache",tu="flickr",uu="unknown",mqa="owner",vu="picasa",wu="Ga",xu="paste",yu="Email",nqa='"></div></td><td class="',oqa="and",pqa='"><a href="',zu="OR",qqa="Iq",Au="Edit",Bu='</div></div><div class="',rqa='<param name="wmode" value="%s"/>',sqa="wmode=%s",tqa="loaded",
Cu="delete",uqa="Hf",vqa="hS",wqa="cZ",xqa="526",Du="Bb",yqa="Fb",Eu="center",zqa="opaque",Aqa="comment",Bqa="qp",Fu="dY",Cqa="bb",Gu="Gb",Dqa="remote_iframe_",Eqa="Kb",Hu="picker",Iu="Link",Fqa="Retry",Ju='</span></div><div class="',Ku="GC",Gqa="Pb",Hqa="</span></span></div>",Lu='"/>',Iqa='<iframe id="',Jqa="gadgets",Mu="nav",Kqa="rpctoken",Nu=" at ",Lqa=" not found",Mqa="yO",Nqa="zE",Oqa="An unknown error occurred",Ou="er",Pqa="places",Qqa="fetchdone",Rqa="LAUNCH_CHESS",Sqa="import",Tqa="^ii",Uqa=
"^ib1",Vqa="bK",Wqa='" style="display:none;"><div class="',Xqa="clear",Yqa="</a></div></div>",Zqa="websearch",ara="score",bra="bookmarks",cra="label:",dra='{}()"',era="masthead_selection_event",fra=":me",gra="has attachment images pictures photos jpg",hra="filename:(jpg OR jpeg OR png)",ira="has documents attachment",jra="has videos attachment youtube",kra="filename:(avi OR mov OR mpg OR mpeg OR mp4) OR youtube.com/watch",lra="has calendar event attachment",mra="has calendar event",nra="before date",
ora="before:yyyy/mm/dd",pra="after date",qra="after:yyyy/mm/dd",Pu="<3",rra='to:me AND ("love you" OR "miss you")',sra="(^| )",Qu='<a id="',tra='" target="_top" class="',ura="ji",vra='<h1 class="',wra="<span class=",xra="bA",Ru=' class="',yra='"><nobr>',Su=" | ",zra="Older version",Ara="</nobr></div>",Bra="Help",Cra='"><a class="',Tu="jt",Dra="ju",Uu="old",Era="?ui=1",Vu="aL",Wu="sg",Xu="toxOdd",Fra="</span></td></tr></table>",Gra="aif",Yu="ac",Zu="Chat",Hra="CX",Ira='">Learn more</a>',Jra="older version",
Kra="basic HTML",av="mo",bv="oa",cv="ov",Lra="DE",Mra="invite",Nra="p3",Ora="&ov=1",Pra="Search Mail",dv="url(",Qra="no-repeat",Rra="lr",Sra="ftclick",Tra="hideshowchat",Ura="Your attached file was not restored. You will have to reattach it.",Vra="Your attached files were not restored. You will have to reattach them.",Wra="undo",Xra="vsm",Yra="rvs",Zra="channel/",asa="Sponsored Link",bsa='" index="',csa="eq",dsa="Options",ev="</label></div>",fv='"><input id="',gv='"><div>',esa="fss",fsa="skins",gsa=
"] ",hv="notes",hsa="P2",isa='</div></div></div><div class="',jsa="Wc",ksa="ln",lsa="middle",msa="normal",nsa="canvas",iv="black",osa="0 0",psa=";height:",qsa="src",rsa="e ou",ssa="o8",jv="pe",tsa='<a target="_blank" href="',kv="<br/>",usa=" account.",vsa="Submit",wsa="jsmode",xsa="ah EmPo8b",ysa="cM",zsa="gh",Asa="IL",Bsa="ke",Csa="PS",Dsa="sms",Esa="Send SMS",Fsa="Sign in",Gsa='&nbsp;<span id="',lv="red",mv="white",Hsa="a5",Isa="atc",Jsa="bp",Ksa="dtb",nv=".png",Lsa="hY",ov="hM",pv="hT",qv="hW",
Msa='"></td></tr><tr class="',Nsa="; color: #",rv="Ad",Osa="Dismiss",Psa="$b",Qsa="-moz-grab",Rsa="ye",Ssa='"><tr><td><div id="',Tsa="yt",Usa="From",Vsa='"></span></div><div id="',Wsa='"></div></div></td></tr></table></div>',sv='" style="display:none">',Xsa="qr",Ysa="Did you mean:",Zsa="iCO6De",ata="This message has been verified as coming from the sender.",tv="gmailgadgets",uv="eb",bta="st=",vv=") ",wv="</select>",cta='"><button id="',xv='</button><button id="',yv="</button></div>",dta="Bd",eta=
" conversations",zv="scr",fta="standard",Av='" target="_blank" class="',gta="Terms of Service",hta="</a> ",ita="fo",Bv="https:",Cv=").",jta=" &nbsp; ",Dv="Details",kta=" or ",lta="lh",mta="Background Color",nta="Text Color",ota='"></div></td></tr></table>',Ev="cursor",pta="out",qta="tok",rta="op",Fv="sf",sta="&&&START&&&",tta="&&&END&&&",Gv="bc",uta="\"'",Hv="color",Iv="xE",vta="Invite to chat",wta="Call",xta='"></td><td id="',yta="tu",zta="tW",Ata="tG",Bta="tC",Cta="t5",Dta="tB",Eta="tM",Fta="tT",
Jv="J-N-JE",Gta="Show in chat list:",Hta="Auto",Ita="Always show",Jta="Never show",Kta="tF",Lta="tq",Mta="tO",Kv="Start video chat",Nta="J-N-Kr",Ota="PU",Lv="rhs",Mv="cg",Pta="hc",Qta="v8",Nv="fc",Ov="jc",Pv="kc",Qv="y9",Rta="Remove ",Sta="retry",Rv="$root/gmailgadgets/...",Sv="maximize",Tta='"></param><param name="allowFullScreen" value="true"></param><param name="allowscriptaccess" value="always"></param><embed src="',Uta='"><span>',Tv='"><img src="',Vta="Px",Uv='</label></div><div class="',Vv=
"ff",Wta="pre",Xta="vid",Yta='"><li>',Zta="</li><li>",aua="You have blocked ",Wv="Block ",bua="Unblock ",cua="Checking...",Xv="<p>",Yv="</p>",dua="dragdrop",eua="nextSibling",fua="previousSibling",gua="ne",hua="kM",iua=" to ",Zv="lk",jua="toolbar=no,location=no,menubar=no,scrollbars=no,resizable=yes,status=no,width=",kua=",left=",lua="ui/ContactPicker",mua="inputId",nua="tempTitle",oua="_picker",pua="fd",qua="UserData",aw="<i>",rua="mailto",sua="Ld",tua="jP",uua="Small",vua="Large",bw="-10000px",
cw="swf",wua="ShockwaveFlash.ShockwaveFlash.",xua="ContactManager",yua="DISABLE_WINDOW",zua="ENABLE_WINDOW",Aua="_manager",Bua="&nbsp;&nbsp;&nbsp;",Cua="lg",Dua="lf",Eua="childdeactivated",dw="je",Fua=">&nbsp;",ew="me",Gua="apo",Hua="</tr></table>",Iua="View recent conversations",Jua='</div></div><div id="',fw="offline",gw='px">',Kua="stylesheet",hw="mas",Lua="z-index",iw="done",jw="lp",kw="nt",lw="SET",mw="DELETE",nw="SUGGEST",Mua='<ul class="',Nua="tk",Oua=' <select id="',Pua='</span> <span class="',
ow="_GM_mwm",Qua="bs",Rua="Messages";function Sua(b,a,c){if(b[u]!=a[u])return i;this.jdd=b;for(var d=1;d<b[u];d++)if(b[d]==i)b[d]=b[d-1]+1;else if(c)b[d]+=b[d-1];this.pD=a}function Tua(b){return b[u]==1?Ah+b:b}function pw(b,a,c,d){if(/^\d+px?$/[cb](a))return da(a,10);else{var f=b[x][c],g=b.runtimeStyle[c];b.runtimeStyle[c]=b[il][c];b[x][c]=a;a=b[x][d];b[x][c]=f;b.runtimeStyle[c]=g;return a}}
function Uua(b){if(44032<=b&&b<=55203){if(b%28==16)return 8;return 9}else{Vua||(Vua=new Sua([0,10,1,2,1,18,95,33,13,1,594,112,275,7,263,45,1,1,1,2,1,2,1,1,56,4,12,11,48,20,17,1,101,7,1,7,2,2,1,4,33,1,1,1,30,27,91,11,58,9,269,2,1,56,1,1,3,8,4,1,3,4,13,2,29,1,2,56,1,1,1,2,6,6,1,9,1,10,2,29,2,1,56,2,3,17,30,2,3,14,1,56,1,1,3,8,4,1,20,2,29,1,2,56,1,1,2,1,6,6,11,10,2,30,1,59,1,1,1,12,1,9,1,41,3,58,3,5,17,11,2,30,2,56,1,1,1,1,2,1,3,1,5,11,11,2,30,2,58,1,2,5,7,11,10,2,30,2,70,6,2,6,7,19,2,60,11,5,5,1,1,
8,97,13,3,5,3,6,74,2,27,1,1,1,1,1,4,2,49,14,1,5,1,2,8,45,9,1,100,2,4,1,6,1,2,2,2,23,2,2,4,3,1,3,2,7,3,4,13,1,2,2,6,1,1,1,112,96,72,82,357,1,946,3,29,3,29,2,30,2,64,2,1,7,8,1,2,11,9,1,45,3,155,1,118,3,4,2,9,1,6,3,116,17,7,2,77,2,3,228,4,1,47,1,1,5,1,1,5,1,2,38,9,12,2,1,30,1,4,2,2,1,121,8,8,2,2,392,64,523,1,2,2,24,7,49,16,96,33,3311,32,554,6,105,2,30164,4,9,2,388,1,3,1,4,1,23,2,2,1,88,2,50,16,1,97,8,25,11,2,213,6,2,2,2,2,12,1,8,1,1,434,11172,1116,1024,6942,1,737,16,16,7,216,1,158,2,89,3,513,1,2051,
15,40,8,50981,1,1,3,3,1,5,8,8,2,7,30,4,148,3,798140,255],[1,11,1,10,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,1,2,0,2,0,2,0,1,0,2,0,2,0,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,0,2,4,2,0,2,0,2,4,0,2,0,4,2,4,2,0,2,0,2,4,0,2,0,2,4,2,4,2,0,2,0,2,0,2,4,2,4,2,0,2,0,4,0,2,4,2,0,2,0,4,0,2,0,4,2,4,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,0,2,0,4,0,2,4,2,4,2,4,0,2,0,3,2,0,2,0,2,0,3,0,2,0,2,0,2,0,2,0,2,0,4,0,2,4,2,0,2,0,2,0,2,0,4,2,4,2,4,2,4,2,0,4,2,0,2,0,4,0,4,0,2,0,2,4,2,
4,2,0,4,0,5,6,7,0,2,0,2,0,2,0,2,0,2,0,1,4,2,4,2,4,2,0,2,0,2,0,2,0,2,4,2,4,2,4,2,0,4,0,4,0,2,4,0,2,4,0,2,4,2,4,2,4,2,4,0,2,0,2,4,0,4,2,4,2,4,0,4,2,4,2,0,2,0,1,2,1,0,1,0,1,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,2,0,4,2,4,0,4,0,4,2,0,2,0,2,4,0,2,4,2,4,2,0,2,0,2,4,0,9,0,2,0,2,0,2,0,2,0,1,0,2,0,1,0,2,0,2,0,2,0,2,4,2,0,4,2,1,2,0,2,0,2,0,2,0,1,2],h));for(var a=Vua.jdd,c=0,d=a[u];d-c>8;){var f=d+c>>1;if(a[f]<=b)c=f;else d=f}for(;c<d;++c)if(b<a[c])break;b=c-1;b=b<0?i:Vua.pD[b];return b}}
function Wua(b,a){if(b==10&&a==11)return k;if(b==1||b==10||b==11)return h;if(a==1||a==10||a==11)return h;if(b==5&&(a==5||a==6||a==8||a==9))return k;if((b==8||b==6)&&(a==6||a==7))return k;if((b==9||b==7)&&a==7)return k;if(a==2)return k;return h}var qw="`";function rw(b){var a=b[0],c=b[1];b=b[2];a=Number(a);c=Number(c);b=Number(b);if(ia(a)||a<0||a>255||ia(c)||c<0||c>255||ia(b)||b<0||b>255)e(Error(".40`"+a+qw+c+qw+b));a=Tua(a[t](16));c=Tua(c[t](16));b=Tua(b[t](16));return Lj+a+c+b}
var sw="left",Xua="pixelLeft";function Yua(b,a){return pw(b,Fm(b,a),sw,Xua)}function Zua(b,a,c){b=Uua(b);a=Uua(a);return Wua(b,a)&&!(c&&(b==3||a==4))}var ava="hex",bva="rgb",cva="named";
function tw(b){var a={};b=String(b);var c=b[xb](0)==Lj?b:Lj+b;if(Nja[cb](c)){a.rA=Mja(c);za(a,ava);return a}else{a:{var d=b[Kb](dva);if(d){c=Number(d[1]);var f=Number(d[2]);d=Number(d[3]);if(c>=0&&c<=255&&f>=0&&f<=255&&d>=0&&d<=255){c=[c,f,d];break a}}c=[]}if(c[u]){a.rA=rw(c);za(a,bva);return a}else if(eva)if(c=eva[b[od]()]){a.rA=c;za(a,cva);return a}}e(Error(".38`"+b))}var fva="Style",gva="Width";
function hva(b,a){if(Fm(b,a+fva)==xd)return 0;a=Fm(b,a+gva);if(a in iva)return iva[a];return pw(b,a,sw,Xua)}var jva="Left",kva="Right",lva="Top",mva="Bottom";function nva(b,a){if(L){var c=Yua(b,a+jva),d=Yua(b,a+kva),f=Yua(b,a+lva);b=Yua(b,a+mva);return new Bm(f,d,b,c)}else{c=Em(b,a+jva);d=Em(b,a+kva);f=Em(b,a+lva);b=Em(b,a+mva);return new Bm(ak(f),ak(d),ak(b),ak(c))}}function ova(b){if(!b.Cea)b.Cea=Yh(b[t]());return b.Cea}var pva="amp",uw="lt",vw="gt",qva="quot";
function rva(b){return b[mb](/&([^;]+);/g,function(a,c){switch(c){case pva:return Sf;case uw:return Tf;case vw:return Uf;case qva:return Vf;default:if(c[xb](0)==Lj){c=Number(Ah+c[nc](1));if(!ia(c))return String[rq](c)}return a}})}function sva(b){var a=Je[yc][Qb](Kd);Q(a,b);a[Rma]&&a[Rma]();b=a[Tb][md];Q(a,I);return b}function V(b){return Wf(String(b))}function ww(b,a){return a?b[mb](tva,J):b}
function xw(b,a){a=a||10;if(a>b[u])b=b;else{for(var c=[],d=0,f=0,g=0,j=0,n=0;n<b[u];n++){var s=j;j=b[Xc](n);s=j>=768&&!Zua(s,j,h);if(d>=a&&j>32&&!s){c[p](b[Zc](g,n),hla);g=n;d=0}if(f)if(j==62&&f==60)f=0;else{if(j==59&&f==38){f=0;d++}}else if(j==60||j==38)f=j;else if(j<=32)d=0;else d++}c[p](b[nc](g));b=c[kd](I)}return b}function uva(b){if(b)try{return tw(b).rA}catch(a){}return i}
function vva(b,a,c){var d=0,f=0,g=0;if(a==0)g=f=d=c;else{var j=l[rb](b/60),n=b/60-j;b=c*(1-a);var s=c*(1-a*n);a=c*(1-a*(1-n));switch(j){case 1:d=s;f=c;g=b;break;case 2:d=b;f=c;g=a;break;case 3:d=b;f=s;g=c;break;case 4:d=a;f=b;g=c;break;case 5:d=c;f=b;g=s;break;case 6:case 0:d=c;f=a;g=b;break}}return[l[rb](d),l[rb](f),l[rb](g)]}function yw(b){b=Mja(b);return[da(b[nc](1,2),16),da(b[nc](3,2),16),da(b[nc](5,2),16)]}function wva(b){return(b=b[Kb](xva))&&b[0]||i}
var yva="borderLeft",zva="borderRight",Ava="borderTop",Bva="borderBottom",Cva="borderBottomWidth";function Dva(b){if(L){var a=hva(b,yva),c=hva(b,zva),d=hva(b,Ava);b=hva(b,Bva);return new Bm(d,c,b,a)}else{a=Em(b,ria);c=Em(b,sia);d=Em(b,tia);b=Em(b,Cva);return new Bm(ak(d),ak(c),ak(b),ak(a))}}function Eva(b){return nva(b,Ld)}function zw(b,a){return b[x][lia(a)]}function Fva(b,a){for(var c=a[u],d=0;d<c;d++){var f=c==1?a:a[xb](d);if(b[xb](0)==f&&b[xb](b[u]-1)==f)return b[Zc](1,b[u]-1)}return b}
function Gva(b,a){var c=b.x-a.x;b=b.y-a.y;return l[jha](c*c+b*b)}function Aw(){return pca(ea,arguments)}function Hva(b,a,c){fi(b);hi(b);a=gi(b,a);if(b.Xb(a)){var d=b.km.J(a);if(Ve(d))b.Cf-=d[u];else b.Cf--}if(c[u]>0){b.km.set(a,c);b.Cf+=c[u]}}function Bw(b,a){return b instanceof Sh?b.vc():new Sh(b,a)}var Iva="..",Jva="./",Kva="/.";
function Cw(b,a){var c=b.vc(),d=!!a.ul;if(d)c.Pr(a.ul);else d=!!a.DX;if(d)wda(c,a.DX);else d=a.u_();if(d)c.iB(a.Jk());else d=a.UA!=i;var f=a.Vf;if(d)Th(c,a.UA);else if(d=!!a.Vf){if(f[xb](0)!=Md)if(b.u_()&&!b.Vf)f=Md+f;else{b=c.Vf[Sc](Md);if(b!=-1)f=c.Vf[nc](0,b+1)+f}b=f;if(b==Iva||b==He)f=I;else if(!Xf(b,Jva)&&!Xf(b,Kva))f=b;else{f=Mf(b,Md);b=b[Cc](Md);for(var g=[],j=0;j<b[u];){var n=b[j++];if(n==He)f&&j==b[u]&&g[p](I);else if(n==Iva){if(g[u]>1||g[u]==1&&g[0]!=I)g.pop();f&&j==b[u]&&g[p](I)}else{g[p](n);
f=h}}f=g[kd](Md)}}if(d)c.Or(f);else d=a.Vs[t]()!==I;if(d)c.uo(ova(a.Vs));else d=!!a.N5;d&&Uh(c,a.td());return c}function Lva(b,a){var c=b[Qb](T);Q(c,a);if(c[cc][u]==1)return c[Tb];else{for(b=b.createDocumentFragment();c[Tb];)b[o](c[Tb]);return b}}function Mva(b,a){if(a>=b.lY[u])e(Error(".8"));if(b.lY[u]<b.Elb)return a;return(b.wya+Number(a))%b.Elb}function Nva(b,a){var c=b.Nb(),d=[];for(a=b.Nb()-a;a<c;a++)d[a]=b.J(a);return d}function Ova(b){return b==i?I:String(b)}
function Dw(b,a){return(new Array(a+1))[kd](b)}var Pva="document";function Ew(b){if(Xf(b,Sf))return Pva in Je&&!Xf(b,Tf)?sva(b):rva(b);return b}var Fw="<br />";function Gw(b,a){return b[mb](/(\r\n|\r|\n)/g,a?Fw:sl)}function Hw(b,a){lf[el][z](b,a||fm)}function Qva(b){for(var a=[],c=0,d=0;d<b[u];d++){for(var f=b[Xc](d);f>255;){a[c++]=f&255;f>>=8}a[c++]=f}return a}function Iw(b){this.Db=b}function Jw(b,a){return xw(String(b),a)}
function Kw(b,a){function c(){}maa(c,b);b=new c;for(var d in a)b[d]=a[d];return b}var Rva="\u200f",Sva="\u200e",Tva="$&";function Uva(b,a){a=(a===undefined?ila[cb](ww(b,void 0)):a)?Rva:Sva;return b[mb](Vva,a+Tva+a)}function Lw(b,a,c){this.xS=b||[];ao[z](this,i,a||Yn.S(),c);this.Q1(this.xS)}
function Wva(b,a,c,d){c=c||function(C,M){return C==M};d=d||function(C){return b[C]};for(var f=b[u],g=a[u],j=[],n=0;n<f+1;n++){j[n]=[];j[n][0]=0}for(var s=0;s<g+1;s++)j[0][s]=0;for(n=1;n<=f;n++)for(s=1;s<=f;s++)j[n][s]=c(b[n-1],a[s-1])?j[n-1][s-1]+1:l.max(j[n-1][s],j[n][s-1]);var v=[];n=f;for(s=g;n>0&&s>0;)if(c(b[n-1],a[s-1])){v[ld](d(n-1,s-1));n--;s--}else if(j[n-1][s]>j[n][s-1])n--;else s--;return v}function Mw(b,a,c){return l.min(l.max(b,a),c)}function Xva(b){return l[rb](l[Tc]()*b)}
function Nw(b){Hn[z](this,Gn.S(),b)}function Yva(b,a){if(b.mv){var c=b.Lk(),d=b.Cc();b.xQa=a;var f=b.Lk();if(d){b.xQa=c;xja(b,k);b.xQa=a;b.Hga().Pe(f);xja(b,h)}}else e(Error(".37"))}function Zva(b,a){b=new b;b.Qb=function $Ci(){return a};return b}function awa(b,a){b.kb=a}function Ow(b,a,c,d,f,g){c.hb(a,d,f,g||b.na,b);return b}function Pw(b,a,c,d,f,g){c.w(a,d,f,g||b.na,b);return b}
function Qw(b){if(b[rc]&&!b[Bc]||b[Eb]||b[Sb]>=112&&b[Sb]<=123)return k;switch(b[Sb]){case 18:case 16:case 17:case 19:case 20:case 27:case 33:case 34:case 36:case 35:case 37:case 39:case 38:case 40:case 45:case 144:case 93:case 44:return k;default:return h}}function bwa(b,a){gn(b,ro,a?a.id:I)}function Rw(b){return b[x][nl]!=xd}function cwa(b,a){b=Pm(b);a=Pm(a);return new xg(b.x-a.x,b.y-a.y)}function Sw(b){return Nm(b).y}function Tw(b){return new xg(b[Vk],b[ol])}
function Uw(b,a,c){b.vea&&b.bk[b.vea].kW(b.bk[b.vea].G9a,a,c)}function Vw(b,a,c,d,f,g,j){var n=b.bk[a];if(n.hc()){c=new Wda(c,d);j?c[hd](b.Zxa):ba[xc](G(c[hd],c),0)}else if(ef(b.eF,a)||ef(b.rI,a)){c=n.Lr(c,d);if(g){b.U2[p](a);Ai(b)}}else{c=n.Lr(c,d);if(!f){g&&b.U2[p](a);aea(b,a)}}return c}function Ww(b,a,c){var d=new ui;ba[xc](G(b.xSc,b,a,d),c||0);return d}function Xw(b,a){return b.bk[a]}function dwa(b){return b.HC}function Yw(b,a,c){return vi(b,i,a,c)}function Zw(b,a,c){return vi(b,a,i,c)}
function ewa(b,a){var c=b.eE[u];b.eE[c]=a;b.dna[c]=[];for(var d=0;d<b.pDa[u];d++){var f=Vj(b.pDa[d],a);b.dna[c][d]=f}}function ax(b,a,c){li(b,a,c,pi)}function bx(){var b=Mj.Vf;return fwa[cb](b)||gwa[cb](b)||hwa[cb](b)||iwa[cb](b)}var cx="/a/",jwa="/../c/",kwa="/c/",lwa="../c/",dx="c",mwa="/contacts/",nwa="../",owa="/contacts";
function pwa(b,a,c,d,f,g,j){a=a&&Mf(b.Vf,cx);b=b.Vf;if(d)if(g||f)c=b[mb](/\/(?=b\/[^/]+)/,a?jwa+c+Md:kwa);else{c=a?lwa+c:dx;if(j)c=b+(Nf(b,Md)?I:Md)+c}else if(g||f){c=b;c=a?c[mb](/\/(?=b\/[^/]+)/,mwa):c+(Nf(c,Md)?I:Md)+Nd}else{c=a?nwa+c+owa:Nd;if(j)c=b+(Nf(b,Md)?I:Md)+c}if(Nf(c,Md))c=c[Zc](0,c[u]-1);return new Sh(c)}var qwa="photos/",rwa="sml",swa="=1",ex="rp",twa="pld";function uwa(b,a,c,d,f){b=[qwa,Qf(b),Kj,f?Hj:Yf()];a&&b[p](Sf,rwa,swa);c&&b[p](Sf,ex,swa);d&&b[p](Sf,twa,swa);return b[kd](I)}
function vwa(b,a){b=b[Kb](Vh);a=a[Kb](Vh);return b[3]==a[3]&&b[4]==a[4]}function fx(b,a){b instanceof Sh||(b=Bw(b));a instanceof Sh||(a=Bw(a));return Cw(b,a)}function gx(b,a,c){Xh(b);delete b.DG;Ve(c)||(c=[String(c)]);Hva(b.Vs,a,c);return b}function wwa(b){return b.Vf}var xwa="$1";function ywa(b,a){for(var c=b[Pc](gka),d=0,f,g=[];(f=Qha(b,d,a,c))>=0;){g[p](b[Zc](d,f));d=l.min(b[Db](Sf,f)+1||c,c)}g[p](b[nc](d));return g[kd](I)[mb](zwa,xwa)}
function hx(b,a,c){b=[b,Sf,a,ei,Qf(c)];if(b[1]){a=b[0];c=a[Db](Lj);if(c>=0){b[p](a[nc](c));b[0]=a=a[nc](0,c)}c=a[Db](Kj);if(c<0)b[1]=Kj;else if(c==a[u]-1)b[1]=undefined}return b[kd](I)}function Awa(b){var a=b[Db](Lj);return a<0?b:b[nc](0,a)}function Bwa(b){var a=b[Db](Lj);return a<0?i:b[nc](a+1)}function Cwa(){for(;oda[u];)oda.pop().D()}
var Dwa="No Error",Ewa="Access denied to content document",Fwa="File not found",Gwa="Firefox silently errored",Hwa="Application custom error",Iwa="An exception occurred",Jwa="Http response at 400 or 500 level",Kwa="Request was aborted",Lwa="Request timed out",Mwa="The resource is not available offline",Nwa="Unrecognized error code";
function Owa(b){switch(b){case 0:return Dwa;case 1:return Ewa;case 2:return Fwa;case 3:return Gwa;case 4:return Hwa;case 5:return Iwa;case 6:return Jwa;case 7:return Kwa;case 8:return Lwa;case 9:return Mwa;default:return Nwa}}function ix(b){return eval(gg+b+xh)}function jx(b,a,c,d){var f=jh;if(a in f){f=f[a];if(c in f)return rh(f[c],b,a,c,d)}return h}
function Pwa(b,a,c){b=bf(b);var d=lh[b];if(d){var f=Ke(a),g=Ke(c);if(f&&g){d=jh[a];return!!d&&!!d[c]&&b in d[c]}else return f||g?Mi(d,function(j){return f&&j[Zb]==a||g&&j[Fb]==c}):h}return k}function kx(b,a){return Lva(b.ki,a)}function lx(b){return ea[Qb](b)}function Qwa(b){return gm(Cg((b||Je||ba)[yc]))}function mx(b,a){m(b,a)}function Rwa(b,a){if(b==a)return h;if(!b||!a)return k;return b.x==a.x&&b.y==a.y}function Swa(b){this.Elb=b||100;this.lY=[]}
function nx(b,a,c){b=Ke(c)?b[tma](c):String(b);c=b[Db](He);if(c==-1)c=b[u];return Dw(Ah,l.max(0,a-c))+b}var Twa="\\$1",Uwa="\\x08";function ox(b){return String(b)[mb](/([-()\[\]{}+?*.$\^|,:#<!\\])/g,Twa)[mb](/\x08/g,Uwa)}function px(b,a,c){if(c)b=Ew(b);if(b[u]>a)b=b[Zc](0,a-3)+lg;if(c)b=Wf(b);return b}var Vwa=" &#160;";function qx(b,a){return Gw(b[mb](/  /g,Vwa),a)}function rx(b,a){b=String(b)[od]();a=String(a)[od]();return b<a?-1:b==a?0:1}function sx(b){return im(Ova(b))}
function tx(b){return b[mb](/[\s\xa0]+/g,J)[mb](/^\s+|\s+$/g,I)}var Wwa="$$$$";function ux(b){for(var a=1;a<arguments[u];a++){var c=String(arguments[a])[mb](/\$/g,Wwa);b=b[mb](/\%s/,c)}return b}function Xwa(b,a,c){if(typeof b[Aaa]==Se)return b[Aaa](a,c);if(We(b)||Ye(b))return Mi(b,a,c);for(var d=Df(b),f=Cf(b),g=f[u],j=0;j<g;j++)if(a[z](c,f[j],d&&d[j],b))return h;return k}
function Ywa(b,a,c){if(typeof b[Ya]==Se)return b[Ya](a,c);if(We(b)||Ye(b))return Di(b,a,c);var d,f=Df(b),g=Cf(b),j=g[u];if(f){d={};for(var n=0;n<j;n++)if(a[z](c,g[n],f[n],b))d[f[n]]=g[n]}else{d=[];for(n=0;n<j;n++)a[z](c,g[n],undefined,b)&&d[p](g[n])}return d}function Zwa(b){var a={};for(var c in b)a[c]=b[c];return a}function axa(b,a,c){b=em(b);try{for(;;)if(a[z](c,b[Rk](),undefined,b))return h}catch(d){if(d!==Ni)e(d)}return k}function vx(b){if(Ve(b))return mf(b);return nf(b)}
function bxa(b,a,c){a=lm(b,a,c);if(a>=0){kf(b,a);return h}return k}function cxa(b,a,c){var d;arguments[u]==2||(d=ff(b,c))<0?b[p](a):km(b,a,d)}function dxa(b,a,c,d){if(b.reduce)return d?b.reduce(G(a,d),c):b.reduce(a,c);var f=c;Ff(b,function(g,j){f=a[z](d,f,g,j,b)});return f}function exa(b){return typeof b==ig}function wx(b){return b===i}function xx(){}function yx(b,a){b.C||H(b,xx);a.Fea=b;b.lBd=a}
function zx(b,a,c){b.C||H(b,a);c=c||0;b.rMb=c;if(a.UD){a=a.UD;for(var d=0,f=a[u]-1;d<=f;){var g=d+f>>1;if(c>a[g].rMb)f=g-1;else d=g+1}d<a[u]&&a[d].rMb==c&&++d;a[jd](d,0,b)}else a.UD=[b]}function Ax(b,a,c){b.OAc=h;zx(b,a,c)}function fxa(b){for(var a=b[Sk];a&&!a.Fea;)a=a.C&&a.C[Sk];if(!a.Fea.sMb)a.Fea.sMb=gxa(a);return new a.Fea.sMb(b)}
function gxa(b){function a(n){arguments[Hc].C[Sk][z](this,n);var s=this.UD[u];this.SJ=[];for(var v=0;v<s;++v)this.UD[v].OAc||(this.SJ[v]=new this.UD[v](n))}var c=b.Fea;H(a,c);for(var d=[];b;){if(c=b.Fea){c.UD&&of(d,c.UD);c=c[w];for(var f in c)if(c[Kc](f)&&Ze(c[f])&&c[f]!==b){var g=!!c[f].Vd,j=hxa(f,c,d,g);if(g=ixa(f,c,j,g))a[w][f]=g}}b=b.C&&b.C[Sk]}a[w].UD=d;return a}function hxa(b,a,c,d){for(var f=[],g=0;g<c[u];++g)if(c[g][w][b]!==a[b]){f[p](g);if(d)break}return f}
function ixa(b,a,c,d){return c[u]?d?function(){var f=this.SJ[c[0]];return f?f[b][cd](this.SJ[c[0]],arguments):this.UD[c[0]][w][b][cd](this,arguments)}:a[b].ic?function(){var f;a:{f=Array[w][lb][z](arguments,0);for(var g=0;g<c[u];++g){var j=this.SJ[c[g]];if(j=j?j[b][cd](j,f):this.UD[c[g]][w][b][cd](this,f)){f=j;break a}}f=k}return f}:a[b].Rn?function(){var f;a:for(var g=Array[w][lb][z](arguments,0),j=0;j<c[u];++j){var n=this.SJ[c[j]];n=n?n[b][cd](n,g):this.UD[c[j]][w][b][cd](this,g);if(Ue(n)){f=n;
break a}}return f}:a[b].Ka?function(){for(var f,g=Array[w][lb][z](arguments,0),j=0;j<c[u];++j){var n=this.SJ[c[j]];n?n[b][cd](n,g):this.UD[c[j]][w][b][cd](this,g)}return f}:function(){for(var f=Array[w][lb][z](arguments,0),g=[],j=0;j<c[u];++j){var n=this.SJ[c[j]];g[p](n?n[b][cd](n,f):this.UD[c[j]][w][b][cd](this,f))}return g}:!d&&!a[b].ic&&!a[b].Rn&&!a[b].Ka?jxa:i}function jxa(){return[]}function Bx(b){if(!b.aa){b.aa=fxa(b);if(!b.tn)b.tn=kxa}}function kxa(b){return this.aa.tn(b)}
function lxa(b,a){this.V=b;this.Aa=a||i}function Cx(b){return b.J(ag)}function Dx(b){return b.Aa}function mxa(b){this.O=b;this.O[2]=this.O[2]||[];this.O[21]=this.O[21]||[]}var nxa="data_b:",oxa="data:";function Ex(b,a,c,d){N[z](this,(d?nxa:oxa)+a);this.QLb=a;this.Pg=b;ma(this,c)}function Fx(b){return oxa+b}function Gx(b){return nxa+b}function Hx(b,a){this.Jb=b;if(this.tQc){this.KG=Od+this.Jb;this.mb=this}else this.mb=a}function Ix(b){if(b.Pc)e(Error(".51`"+b.KG))}
function Jx(b){Hf[z](this);this.Um=b}function pxa(b,a){for(var c=b.Sb(),d=0;d<c[u];d++)qxa(b,c[d]);Jx.C[bc][z](b);if(a){a=b.Um.mb;a.Qf();try{for(d=0;d<c[u];d++)b.FKa(c[d])}finally{a.Mf()}}}function qxa(b,a){if(b.msa){var c=b.msa.J(a);if(c){oh(c);b.msa[Pb](a)}}}function Kx(b,a){Hx[z](this,b,a);this.lI=new Jx(this)}var Lx="domainInfo",rxa="adc";function sxa(b,a){Kx[z](this,Lx,b);this.Kk().w(a,Gx(rxa),this.k0c)}function txa(){this.MI=[];this.CM={}}function uxa(){this.Yka=new txa;this.yu=new Hf}
function Mx(){vxa||(vxa=new uxa);return vxa}function Nx(b,a,c,d){var f=b.yu.J(a);d=d||0;c={Tfa:c,KL:d};if(f)if(d<wm(f).KL)f[p](c);else for(b=0;b<f[u];b++){if(d>=f[b].KL){f[jd](b,0,c);break}}else{f=[c];b.yu.set(a,f)}}function wxa(b){this.O=b;this.O[1]=this.O[1]||[];this.yr=[];for(b=0;b<this.O[1][u];b++)this.yr[b]=new xxa(this.O[1][b])}function yxa(b){this.O=b}function zxa(b){this.O=b;if(this.O[1])this.jld=new yxa(this.O[1])}
function xxa(b){this.O=b;this.O[1]=this.O[1]||[];this.iv=[];for(b=0;b<this.O[1][u];b++)this.iv[b]=new zxa(this.O[1][b])}var Ox="'",Px="\\";function Qx(b){for(var a=I,c=I,d=0;d<b[u];){var f=Axa(b,d);if(f[xb](0)==Tf&&f[Db](Uf)!=-1){c=f[Db](Uf);c=f[Zc](1,c)}else if(c==I)a+=f;d+=f[u]}if(c==I&&a[Db](vh)!=-1){c=a;a=I}a=tx(a);a=Fva(a,Ox);a=Fva(a,Vf);a=a[mb](/\\\"/g,Vf);a=a[mb](/\\\\/g,Px);c=tx(c);return[a,c]}
function Bxa(b){for(var a=[],c=I,d,f=0;f<b[u];){d=Axa(b,f);if(d==wj){im(c)||a[p](Qx(c));c=I;f++}else{c+=d;f+=d[u]}}im(c)||a[p](Qx(c));return a}var Cxa="\u202a",Dxa="\u202c";function Exa(b){return Li(b,function(a){a=Qx(a);return a[0]+J+Uva(Cxa+a[1]+Dxa)})}function Fxa(b,a){if(b[xb](a)!=Vf)return k;var c=0;for(a=a-1;a>=0&&b[xb](a)==Px;a--)c++;return c%2!=0}
function Axa(b,a){var c=b[xb](a),d='"<(['[Db](c);if(d==-1)return c;if(Fxa(b,a))return c;d='">)]'[xb](d);for(var f=b[Db](d,a+1);f>=0&&Fxa(b,f);)f=b[Db](d,f+1);return f>=0?b[Zc](a,f+1):c}function Rx(b,a,c){Xla(this,b);mp(this,a);this.XI=c}var Gxa='"=" is not allowed.',Hxa="Spaces are not allowed.",Ixa="Address is malformed.",Jxa='Only one "@" is allowed.',Kxa="No username specified.",Lxa="Invalid domain specified.";
function Sx(b){if(b[Db](ei)!=-1)return new Rx(Gxa);else if(b[Db](J)!=-1)return new Rx(Hxa);else if(b[Db](vh)==-1||b[Db](He)==-1||b[Sc](He)<b[Db](vh))return new Rx(Ixa);else{b=b[Cc](vh);if(b[u]!=2)return new Rx(Jxa);else if(b[0][u]==0)return new Rx(Kxa);for(var a=b[1][Cc](He),c=k,d=0;d<a[u];d++)if(a[d][u]==0){c=h;break}if(b[1][u]<4||a[u]<2||c)return new Rx(Lxa)}return new Rx(i,b[1],b[0])}
function Mxa(b,a,c){if(!b&&!a)return h;else if(!b||!a)return k;var d=Tx(b[od](),vh);b=d[0][od]();var f=d[1][od]();d=Tx(a[od](),vh);a=d[0];d=d[1];if(!(f==d||Nxa(f)&&Nxa(d)))return k;b=Tx(b,tl)[0];if(c)b=b[mb](Oxa,I);a=Tx(a,tl)[0];if(c)a=a[mb](Oxa,I);return b==a}function Tx(b,a){a=b[Db](a);return a>=0?[b[Zc](0,a),b[Zc](a+1)]:[b,I]}var Ux="gmail.com";function Nxa(b){if(!b)return k;b=b[od]();return b==Ux||b=="googlemail.com"}var Pxa="@(?!",Qxa="$)";
function Vx(b){var a=h;b=Bxa(b);for(var c=0;c<b[u];c++)a=a&&!(Rxa||(Rxa=new RegExp(Pxa+Tx(Hi,vh)[1]+Qxa,ii)))[cb](b[c][1]);return a}function Sxa(b){this.O=b;this.O[1]=this.O[1]||[];this.HHb=[];for(b=0;b<this.O[1][u];b++)this.HHb[b]=new Txa(this.O[1][b])}function Txa(b){this.O=b}function Uxa(b,a){switch(a){case 1:return b%4==0&&(b%100!=0||b%400==0)?29:28;case 5:case 8:case 10:case 3:return 30}return 31}function Vxa(b,a){a=a||new Date;return b[iq]()==a[iq]()&&Wxa(b,a)}
function Wxa(b,a){a=a||new Date;return b[Cq]()==a[Cq]()&&Xxa(b,a)}function Xxa(b,a){a=a||new Date;return b[fr]()==a[fr]()}var Wx="y",Xx="m",Yx="h",Zx="n";function ay(b,a,c,d,f,g){if(Ye(b)){this.cJ=b==Wx?a:0;this.RH=b==Xx?a:0;this.hs=b==Pd?a:0;this.zs=b==Yx?a:0;this.Zw=b==Zx?a:0;this.zx=b==ki?a:0}else{this.cJ=b||0;this.RH=a||0;this.hs=c||0;this.zs=d||0;this.Zw=f||0;this.zx=g||0}}
function by(b,a,c){if(mm(b)){this.Od=new Date(b,a||0,c||1);Yxa(this,c||1)}else if(af(b)){this.Od=new Date(b[fr](),b[Cq](),b[iq]());Yxa(this,b[iq]())}else{this.Od=new Date;this.Od[Pma](0);this.Od[Ama](0);this.Od[Jma](0);this.Od.setMilliseconds(0)}}var cy="Z";function Zxa(b){b=b[sr]();if(b==0)b=cy;else{var a=l.abs(b)/60,c=l[rb](a);a=(a-c)*60;b=(b>0?Qd:tl)+nx(c,2)+xj+nx(a,2)}return b}function Yxa(b,a){if(b[iq]()!=a){a=b[iq]()<a?1:-1;b.Od.setUTCHours(b.Od[Qma]()+a)}}
function dy(b,a,c,d,f,g,j){this.Od=mm(b)?new Date(b,a||0,c||1,d||0,f||0,g||0,j||0):new Date(b?b[hc]():Zf())}function aya(b,a,c){this.ud=b;this.eQ=a;this.s8a=c}var ey="z";function fy(b){return b.J(ey)}function gy(b){return fy(b)}function bya(b){this.O=b}function cya(b){this.O=b}var dya="user";function eya(b){Kx[z](this,dya,b)}var fya="ugn",gya="udc";function hya(b,a){eya[z](this,b);b=this.Kk();b.w(a,Gx(Oj),this.b9c);b.w(a,Gx(fya),this.E1c);b.w(a,Fx(gya),this.f_c)}
function iya(b){b=b[nc](1);return b[Cc](Md)}function hy(b,a,c){Hx[z](this,b,a?a.mb:i);a&&a.ha(this);if(this.dQa=Boolean(c)){b=this.mb.g1;b.ela.set(this.Je(),this);this.Hkb=b.CLb}}function iy(b,a){Ix(b);return b.bf?b.bf.J(a):i}function jy(b,a,c){Ix(b);Ve(a)||(a=a[Cc](Md));if(a[u]==0)return i;b=b;for(var d=0;d<a[u];d++){b=b.za(a[d],c);if(b==i)return i}return b}var ky="LOADED",ly="VALID";function my(b){Ix(b);if(!(b.Dv==ky&&b.Lz==ly&&!b.Vwa)){b.Dv=ky;b.Lz=ly;b.Vwa=k;ny(b)}}var oy="p";
function jya(b,a){if(b.QN)if(Ze(b.QN.Raa))b.QN.Raa(i);else{var c=b.Q;c&&c.hb(b.QN,oy,b.bva)}b.QN=a;if(b.QN)Ze(b.QN.Raa)?b.QN.Raa(b):b.Kk().w(b.QN,oy,b.bva)}function kya(b,a,c){b.QN==a&&ny(b,c)}function lya(b){if(b.Lz!=ly){b.Lz=ly;b.mb.O5b(b)}}function mya(b,a){Ix(b);jya(b,i);b.Vwa=h;if(a)b.Lz=ly;ny(b)}function ny(b,a){Ix(b);b.mb.a9a(b,a)}function py(b,a,c,d){hy[z](this,b,a,c);this.qBc=!!d}function nya(b){lya(b)}var oya="True";
function qy(b,a){this.Jb=b;this.jf=a;b=b[xb](0);if(b==Ph)this.jf=typeof this.jf==Xe?this.jf==jg||this.jf==oya||this.jf==Hj:!!Number(this.jf);else if(b==ii)this.jf=Number(a)}function ry(b,a){hy[z](this,b,a)}function pya(b){this.sAa=b}var qya="prefs";function rya(b){hy[z](this,qya,b);Bx(this);this.RZb={}}function sya(b,a,c){Ix(b);a=a[Cc](Md);for(var d=0;d<a[u];d++)a[d]=Qf(a[d]);return jy(b,a,c)}
function sy(b){this.Xa=tya(b,0);this.ae=tya(b,1);this.mO=b[2];this.V_b=ty(b[3]);this.Ifc=ty(b[4]);this.Me=tya(b,5);this.wGb=ty(b[6]);this.cic=ty(b[7]);this.Rj=tya(b,8);this.qCc=ty(b[9]);this.j2b=ty(b[10]);this.Lsc=ty(b[11]);Mx().Kh(190,this,b);b=uya.Oa();for(var a=0;a<b[u];a++){var c=b[a];this.mO[c]=ty(this.mO[c])}}function tya(b,a){b=b[a];return b==i?I:String(b)}function ty(b){return b==Hj||b==jg||b==1||b===h}function uy(b,a){hy[z](this,b,a);this.dbb=[]}var vya="uiprefs/";
function wya(b){this.sAa=b;this.hVa=vya}var vy="fi",xya="cp",yya="cmp";function wy(b){var a=Dx(Cx(b)),c=a.za(qya),d=a.za(dya);this.Aa=a;this.rl=c;this.ojc=d;this.Mk=new kn(this);this.Trb=[];b=fy(b).ud;ih(b,Gx(oy),this.oza,k,this);ih(b,Gx(vy),this.oza,k,this);ih(b,Gx(xya),this.oza,k,this);ih(b,Gx(yya),this.oza,k,this);ih(b,Gx(wo),this.oza,k,this)}var xy="ha";function yy(b){return b.J(xy)}var zya=":udc";
function Aya(b){if(!b.nOc){if(b.ojc.Ca(gya))b.J9=h;else{b.Mk.w(b.Aa.Ya(),b.ojc.Je()+zya,b.Xqb);b.J9=k}b.nOc=h}var a=new ui;b.J9?a.ad(b.rl):b.Trb[p](a);return a}function Bya(b){for(var a=[],c=Cya.Oa(),d=0;d<c[u];d++){var f=c[d];a[p]([f,b.db(f)])}return a}var Dya="filters/";function Eya(b,a,c){zy(b,b.rl);return jy(b.rl,Dya+a,c)}function Ay(b,a){zy(b,b.rl);b=Fya(b,a);var c;if(b&&(c=b.J()))return c.Ca();return i}var Gya="clips";function Fya(b,a){zy(b,b.rl);return b.rl.za(Gya+a)}var By="cm2",Hya="uiprefs";
function Cy(b,a){return(kba(Iya,a)?By:Hya)+Md+a}function zy(b,a){if(a.Pc)e(Error(".51`"+a.Je()))}function Dy(b){return function(){return b}}function Ey(b){return b}function Jya(){var b=arguments,a=b[u];return function(){var c;if(a)c=b[a-1][cd](this,arguments);for(var d=a-2;d>=0;d--)c=b[d][z](this,c);return c}}function Kya(){this.Pd={}}function Lya(b){return b?Qf(b)[mb](/%20/g,tl):I}function Mya(b){return Ywa(b,function(a){return!!a})}
function Nya(b,a){for(var c=[],d=a.Sb(),f=0;f<d[u];f++){var g=d[f],j=a.J(g);(j=b.J(j))&&c[p](g+ei+Lya(j))}return c[kd](Sf)}function Oya(b,a){var c=b[Cc](Sf);b=new Hf;for(var d={},f=0;f<c[u];f++){var g=c[f][Cc](ei);b.set(g[0],Rf(String(g[1])))}c=b.Sb();for(f=0;f<c[u];f++){g=c[f];var j=a.J(g);if(b.Xb(g))d[j]=b.J(g)}return d}var Fy="search";
function Gy(b,a){this.Xd=b;a=a?Mya(a):i;this.Fn=new Hf;a&&this.Fn.Vl(a);this.Fn.set(Fy,b);a=this.Fn;var c=[];c[p](Fy);c[p](b);if(a){b=a.Sb()[el]();for(var d=0;d<b[u];d++){var f=b[d];if(f!=Fy){c[p](Qf(f[od]()));c[p](Qf(a.J(f)))}}}this.Js=c[kd](vh);Hy.Aqb(this)}function Iy(b,a){Xh(a);Pya(b,a.Of());return a}function Pya(b,a){for(var c=b.Fn.Sb(),d=0;d<c[u];d++){var f=c[d];a.set(f,b.Fn.J(f))}return a}function Qya(b,a){return!!(!b&&!a||b&&a&&b.Dg()==a.Dg())}var Jy="query",Ky="q";
function Rya(b){Gy[z](this,Jy,b);this.ae=this.Rc(Ky)}function Ly(b){var a={};a.q=b;return new Rya(a)}var Oy="adv";function Sya(b){Gy[z](this,Oy,b)}var Tya="as_subset";function Uya(b){return b.Rc(Tya)}var Py="cat";function Vya(b){Gy[z](this,Py,b);this.nn=this.Rc(Py)}function Wya(b){var a={};a.cat=b;return new Vya(a)}var Xya="ct_id";function Yya(b){Gy[z](this,Nd,b);this.CN=this.Rc(Xya)}function Qy(b){Gy[z](this,ul,b)}var Zya="str";
function aza(b,a){var c=a.J(Fy);if(c in b.QCa)return b.QCa[c];else switch(c){case Jy:b=a.J(Ky);a=a.J(Zya);c={};c.q=b;if(a)c.str=a;return new Rya(c);case Py:a=a.J(Py);return Wya(a);case Nd:a=a.J(Xya);b={};b.ct_id=a;return new Yya(b);case Oy:b=new Hf;c=bza.Sb();for(var d=0;d<c[u];d++){var f=cza[c[d]],g=a.J(f);Ke(g)&&b.set(f,g)}return new Sya(b);case ul:b=new Hf;c=dza.Sb();for(d=0;d<c[u];d++){f=eza[c[d]];b.set(f,a.J(f))}return new Qy(b)}return i}function Ry(b,a){Sy.Ezb[b]=a}var Ty="^";
function Uy(b){return Mf(b,Ty)?Sy.Ezb[b]:Wya(b)}function Vy(b){var a=Mf(b,Ty)?Sy.Ezb[b]:i;return a?a.Iga():b}function Wy(b){Sy.QCa[b.Ga()]=b}function Xy(b){if(b&&b.Dd)return b.Dd();return i}var Yy="spam",Zy="trash";function fza(b){b=b.Ga();return b==Yy||b==Zy}var az="apps";function gza(b){b=b.Ga();return b==Oy||b==ul||b==Jy||b==az||b==Nd}function hza(b,a){b=new b[Sk](a);return b=Hy.f_(b.Dg())}function bz(b,a){Gy[z](this,b,a)}var cz="all";function dz(b){Gy[z](this,cz,b)}var ez="archive";
function iza(b){Gy[z](this,ez,b)}var fz="chats";function gz(b){Gy[z](this,fz,b)}var jza="delivered";function hz(b){Gy[z](this,jza,b)}var iz="drafts";function jz(b){Gy[z](this,iz,b)}var kz="inbox";function lz(b){Gy[z](this,kz,b)}var kza="muted";function mz(b){Gy[z](this,kza,b)}var nz="outbox";function oz(b){Gy[z](this,nz,b)}var pz="sent";function qz(b){Gy[z](this,pz,b)}function rz(b){Gy[z](this,Yy,b)}var sz="starred";function tz(b){Gy[z](this,sz,b)}function uz(b){Gy[z](this,Zy,b)}
function lza(b){this.trc=Bf(b)}function mza(b){this.yZ=new lza(b)}function nza(b){this.O=b}function oza(b){this.O=b}function pza(b){this.O=b}function qza(b){this.O=b}function rza(b){this.O=b}var sza="appInfo",tza="uiv",vz="ft",wz="st",uza="pod",vza="og",xz="ll";function wza(b,a){Kx[z](this,sza,b);b=this.Kk();b.w(a,Gx(to),this.B3c);b.w(a,Gx(tza),this.d9c);b.w(a,Gx(vz),this.v1c);b.w(a,Gx(wz),this.Q6c);b.w(a,Gx(uza),this.g5c);b.w(a,Gx(wo),this.s2c);b.w(a,Fx(vza),this.B4c);b.w(a,Gx(xz),this.E2c)}
var yz=" <";function xza(b,a,c,d,f){Ba(this,b);this.og=a;this.CU=c;this.rBa=d;this.vfc=f;this.Uea=b?b+yz+a+Uf:a;b=Wf(this.Uea);this.WS=xw(b,30)}function yza(b){this.O=b;this.O[1]=this.O[1]||[];this.Ajc=[];for(b=0;b<this.O[1][u];b++)this.Ajc[b]=new zza(this.O[1][b]);this.O[2]=this.O[2]||[];this.zic=[];for(b=0;b<this.O[2][u];b++)this.zic[b]=new zza(this.O[2][b])}function zza(b){this.O=b}var Aza="customFrom",Bza="cfs";function Cza(b,a){Kx[z](this,Aza,b);this.Kk().w(a,Gx(Bza),this.H_c)}
function Dza(b,a){b=[];for(var c=0;c<a[u];c++){var d=a[c];d=new xza(d[pq](),d.Sj(),d.wga(),d.PT(),d.O[4]);b[p](d)}return b}var Eza="emoji",zz="em";function Fza(b,a){Kx[z](this,Eza,b);this.Kk().w(a,Fx(zz),this.y0c)}var Az="forwardingAddresses",Bz="v",Cz="u",Gza="fwd";function Hza(b,a){Kx[z](this,Az,b);this.Fa(Bz,[]);this.Fa(Cz,[]);this.Fa(Kd,[]);this.Fa(Rd,k);this.Kk().w(a,Gx(Gza),this.y1c)}function Iza(b){this.Xj(b)}var Jza="mailFetch",Kza="ama";
function Lza(b,a){Kx[z](this,Jza,b);this.Kk().w(a,Fx(Kza),this.e5c)}function Mza(b){this.O=b}var Nza="productInfo",Dz="pi";function Oza(b,a){Kx[z](this,Nza,b);this.Kk().w(a,Gx(Dz),this.r5c)}function Pza(b){this.O=b}var Qza="quota",Rza="qu";function Sza(b,a){Kx[z](this,Qza,b);this.Kk().w(a,Fx(Rza),this.e9c)}function Tza(b){this.O=b;this.O[1]=this.O[1]||[];this.O[2]=this.O[2]||[];this.O[3]=this.O[3]||[]}
function Ez(b,a){this.LP=b||0;this.Pd=!!a;this.yd=new Hf;this.ni=new Uza(I,undefined);Ma(this.ni,this.ni.SC=this.ni)}function Vza(b,a,c){return(b=b.yd.J(a))?b[q]:c}function Wza(b,a){if(b.Pd){Ma(a,b.ni[Rk]);a.SC=b.ni;Ma(b.ni,a);a[Rk].SC=a}else{a.SC=b.ni.SC;Ma(a,b.ni);b.ni.SC=a;Ma(a.SC,a)}if(b.LP)for(a=b.yd.Nb();a>b.LP;a--){var c=b.Pd?b.ni.SC:b.ni[Rk];c[Pb]();b.yd[Pb](c.key)}}function Xza(b,a){if(b.ni!=a){a[Pb]();b.yd[Pb](a.key)}return a[q]}function Uza(b,a){this.key=b;pa(this,a)}
var Yza="translatableLanguages",Fz="tp";function Zza(b,a){Kx[z](this,Yza,b);this.Kk().w(a,Gx(Fz),this.C8c)}function aAa(b){this.O=b}var bAa="updatableStrings",cAa="us";function dAa(b,a){Kx[z](this,bAa,b);this.Hn=a;this.Kk().w(a,Gx(cAa),this.P8c);this.Kk().w(a,Gx(Bz),this.arb)}function Gz(b){this.Z=b}var Hz="l";
function Iz(b){Bx(this);this.Na={};this.yDc=new cg(pea);this.V=b;this.qyc=b.J(Hz).Dq();var a=Dx(Cx(b));this.Hn=b=fy(b).ud;this.Aa=a;var c=new hya(a,b);a.ha(c);var d=new sxa(a,b);a.ha(d);var f=new Sza(a,b);a.ha(f);var g=new Fza(a,b);a.ha(g);var j=new Oza(a,b);a.ha(j);var n=new dAa(a,b);a.ha(n);var s=new Cza(a,b);a.ha(s);var v=new Hza(a,b);a.ha(v);v=new Lza(a,b);a.ha(v);var C=new Zza(a,b);a.ha(C);var M=new wza(a,b);a.ha(M);this.FAa=[c,d,f,g,j,n,s,v,C,M];for(c=0;c<this.FAa[u];c++){d=this.FAa[c];ih(a.Ya(),
d.Je(),this.v5c,k,this)}this.aa.mib(a,b)}function Jz(b,a){return b.yDc[bd](a)}var eAa="user:";function fAa(b,a){N[z](this,eAa+b,this);this.QLb=b;ma(this,a)}var Kz="cfs:v";function gAa(b,a){if(b=b[hq](Kz))for(var c=0;c<b[u];c++)if(b[c].og==a)return h;return k}var hAa="dots";function iAa(b){b=b.Aa.za(Lx).Ca(hAa);return b==undefined?h:!!b}var jAa="em:em",kAa="ui:n",Lz="ui:e",Mz="ui:ia",Nz="ui:ic",Oz="cfs:u",Pz="ai:kb",lAa="adc:be",mAa="adc:cu",nAa="ui:evw";
function oAa(b){var a=b[hq](jAa);return[b[hq](kAa),b[hq](Lz),b[hq](Mz),b[hq](Nz),b[hq](Kz),b[hq](Oz),b[hq](Pz),a?a.kc():undefined,b[hq](lAa),b[hq](mAa),b[hq](nAa)]}var pAa="ui:gn",qAa="sx_dn";function rAa(b,a,c){a.w(b,b.Cq(pAa),c);var d=yy(b.V);a.w(b.Aa.Ya(),d.Yn(qAa),c)}var Qz="va";function Rz(b){return b.J(Qz)}function sAa(b){this.Aa=Dx(Cx(b));this.Pd={};this.lNb=this.Aa.za(Lx)}var Sz="X";function Tz(b){return b.J(Sz)}var Uz="cu",tAa="{{num}}",uAa="{{hl}}",Vz="en";
function vAa(b,a){b=b.lNb.Ca(Uz);if(Ue(b))if(b=b.helpall){b=b[mb](tAa,a)[mb](uAa,Vz);return new Sh(b)}return i}var Wz="http",wAa="/support/bin/answer.py",xAa="ctx",Xz="mail",yAa="answer";function Yz(b,a,c){var d=b.Pd[a];if(!d){a:{d=b.lNb.Ca(Uz);if(Ue(d))if(d=d[a]){d=(new Sh(d)).ka(Sd,Vz);break a}d=i}d||(d=vAa(b,a));if(!d)if(c||(Ue(Vz)?!ef(zAa,Vz):h))d=(new Sh).Pr(Wz).iB("mail.google.com").Or(wAa).ka(Sd,Vz).ka(xAa,Xz).ka(yAa,a);b.Pd[a]=d}return d}
function Zz(b,a,c,d,f){this.KUc=b;this.U4=c||6E4;this.Xd=a||0;this.wpd=d||I;this.drd=f||-1}function aA(b,a,c){Bh[z](this,a,c);this.w6a=b}function bA(b,a,c,d){if(!(Ze(a)||a&&typeof a[Xb]==Se))e(Error(".9"));b=G(AAa,i,b,a,d);return Ch[xc](b,c||0)}function AAa(b,a,c){if(Ze(a)){a[z](c);c&&G(a,c)}else a&&typeof a[Xb]==Se&&a[Xb][z](a)}function cA(b){Ch[gb](b)}function dA(b,a,c,d){BAa||(BAa=new Hf);b=new aA(b,c);c=bf(b);BAa.set(c,b);ih(b,yj,a,k,d);b[Rc]();return c}
function eA(b){var a=BAa.J(b);BAa[Pb](b);a.D()}var CAa="position:absolute;width:9em;height:9em;top:-99em";function fA(b){b=b||Cg();this.ZQ=b.ba(L?T:Td,{style:CAa});b=b.cb()[Lc];b[Bb](this.ZQ,b[Tb]);b=this.Lac=L?this.ZQ:this.ZQ[gc]||om(this.ZQ)[ac]||om(this.ZQ)[dc];if(Fh){fk(this.ZQ,-1);var a=b[yc];a[bb]();a[Xk]()}ih(b,sj,this.a7,k,this);this.LZb=this.ZQ[xk]}function gA(b){this.Ys={};this.Pia={};this.lwb={};this.Fh=b||new uh;this.mjd=!b}function hA(b){for(b=b;b.RA;)b=b.RA;return b}
function iA(b){return b.aI||i}function jA(b,a){for(var c=b;c;c=c.RA)if(c.Ys[a])return c.Ys[a][0];if(c=DAa(b,a)){c=c(b);b[kq](a,c);return c}return i}function kA(b,a){var c=EAa(b),d=new ui,f=jA(b,a);if(f)d.ad(f);else if(f=FAa(b,a)){Zw(d,G(c[pb],c,f));Yw(d,G(b.jGc,b,a,f));Zw(d,G(b.D3c,b,a,f));d.ad(i)}else d.mE(new GAa(a));return d}function FAa(b,a){return a in b.Pia?b.Pia[a]:b.RA?FAa(b.RA,a):i}
function lA(b,a,c){if(b.Ys[a])e(Error(".58`"+a));else if(b.Pia[a])e(Error(".59`"+a+qw+b.Pia[a]));b.Pia[a]=c}function mA(b,a,c){if(b.RA)mA(b.RA,a,c);else if(b.Ys[a])e(Error(".57`"+a));else if(b.lwb[a])e(Error(".60`"+a));else b.lwb[a]=c}function DAa(b,a){return b.RA?DAa(b.RA,a):b.lwb[a]}function EAa(b){return b.nmb?b.nmb:b.RA?EAa(b.RA):i}var HAa='Service for "',IAa='" is not registered';function GAa(b){Rh[z](this);this.id=b;Oa(this,HAa+b+IAa)}
var JAa='Module "',KAa='" failed to load when requesting the service "',LAa='" [cause: ';function MAa(b,a,c){Rh[z](this);this.gid=b;this.hVc=a;this.oJ=c;Oa(this,JAa+a+KAa+b+LAa+c+wh)}var NAa='Configuration error when loading the module "',OAa='" for the service "',PAa='": ';function QAa(b,a,c){Rh[z](this);this.gid=b;this.hVc=a;Oa(this,NAa+a+OAa+b+PAa+c)}function nA(b,a){this.YOa={};Lf[z](this,b,a)}var oA="j";function pA(b){this.Kf=b;this.ya=b.J(oA).W();this.Sab=new kn(this)}
function qA(b,a){var c;if(a instanceof Hf){c=a.Sb();a=a.Oa()}else{c=xf(a);a=wf(a)}for(var d={},f=0;f<c[u];f++)d[c[f]]=b.X(a[f]);return d}function rA(b){if(b.Pc)e(Error(".62"));b.wa||b.Vh()}function RAa(b,a,c){if(!a.ac())if(!(c<0||c>b.qj())){b.bf=b.bf||[];b.JP=b.JP||[];km(b.bf,a,c);b.JP[p](a);a.Ig(b);b.pia&&a.ma()}}function sA(b,a){for(var c=b.qj(),d=0;d<c;d++)if(b.rb(d)==a)return tA(b,d);return k}
function tA(b,a){if(a<0||a>=b.qj())return k;var c=b.bf[a];kf(b.bf,a);jf(b.JP,c);c.mh=i;c.pia&&c.Ba();b.bf=b.bf[u]?b.bf:i;b.JP=b.JP[u]?b.JP:i;return h}function SAa(){Lf[z](this,400,400)}function uA(b){pA[z](this,b)}var vA="x";function TAa(b,a){if(!a&&!b.LR&&!b.MR||a==vA&&!b.LR||a==Wx&&!b.MR)return k;if(a)switch(a){case vA:b.LR=k;break;case Wx:b.MR=k;break;default:e(Error(".67"))}else b.LR=b.MR=k;return h}var wA="sizechange",UAa="fontsizechange";
function xA(b,a,c){pA[z](this,b);this.aR=a;this.FZ=c;this.Bbb=[];ih(this.aR,wA,this.M5a,k,this);VAa.set(this.ea(),this);ih(this.FZ,UAa,this.XNa,k,this)}function WAa(b){if(b.xv()&&!(b.Sia>0)&&b.qj()>0&&b.Cc()&&!(yA>0)){yA++;try{b.Yj()}finally{zA()}}}function XAa(b,a,c){b=b.za();AA[p](b);YAa(a,c,AA);Ia(AA,0);c=BA[a][b.ea()];b.ip(a,c,k)}function zA(){if(yA>0){yA--;if(!(yA>0))for(var b=VAa.Oa(),a=0;a<b[u];a++)WAa(b[a])}}
function CA(b,a,c,d){d=d||ZAa();c=c||ea[Lc];b=new xA(b,a,d);c[o](b.b());b.ma();return b}function ZAa(){DA||(DA=new fA(Cg(top[yc])));return DA}function aBa(){}function EA(b,a){this.dg=b;this.Sra=this.dg[yc][mc];this.Mub=new kn(this);this.Mub.w(this.dg,sj,this.a7);if(a)for(b=0;b<a[u];b++)this.Mub.w(a[b],sj,this.a7);this.vjb()&&this.x8b()}function bBa(){}
function cBa(b){var a=b.wa[Mc][dc][Wk](b.wa,I);b.C7b=da(a.borderLeftWidth,10)+da(a.borderRightWidth,10)+da(a.paddingLeft,10)+da(a.paddingRight,10);b.S_b=da(a[wma],10)+da(a[Nma],10);b.D7b=da(a.borderTopWidth,10)+da(a.borderBottomWidth,10)+da(a.paddingTop,10)+da(a.paddingBottom,10);b.T_b=da(a.marginTop,10)+da(a.marginBottom,10)}
function dBa(b,a){b.C7b=eBa(a.borderLeftWidth,a.borderLeftStyle)+eBa(a.borderRightWidth,a.borderRightStyle)+FA(a.paddingLeft,Ld)+FA(a.paddingRight,Ld);b.S_b=fBa(a[wma])+fBa(a[Nma]);b.D7b=eBa(a.borderTopWidth,a.borderTopStyle)+eBa(a.borderBottomWidth,a.borderBottomStyle)+FA(a.paddingTop,Ld)+FA(a.paddingBottom,Ld);b.T_b=fBa(a.marginTop)+fBa(a.marginBottom)}function eBa(b,a){return a==xd?0:FA(b,Ud)}var GA="auto";function fBa(b){return b==GA?0:FA(b,Haa)}var HA="0px";
function FA(b){return b==HA?0:wva(b)==Jm?da(b,10):0}function IA(b){pA[z](this,b)}function JA(b,a){return b.Twa(a)&&b.KT(a)==0&&b.WZ(a)==Infinity}function KA(b){if(!b.cLa)b.cLa=b.b()[x];return b.cLa}function gBa(b,a,c){switch(a){case vA:a=b.Fl();b.Kg=c;b.Hf=a;break;case Wx:a=b.Yh();b.Kg=a;b.Hf=c;break;default:e(Error(".83"))}}function hBa(b){var a=IA.C.Ui[z](b);if(a){b.Y4a=i;b.X4a=i;b.Yjb=k;b.a5a=i;b.Z4a=i;b.Zjb=k}var c=b.ac();if(c&&(a||b.Fj()))c.Ui();return h}
function iBa(b,a,c){switch(a){case vA:b.Y4a=c;break;case Wx:b.a5a=c;break;default:e(Error(".84"))}}function LA(b,a){if(!b.Fj())return 0;var c;a:switch(a){case vA:c=b.Y4a;break a;case Wx:c=b.a5a;break a;default:e(Error(".74"))}if(c)return c;if(jBa(b,a)){kBa(b,a);c=b.b();c=a==vA?c[xk]:c[ql];c+=a==vA?b.Epa:b.Fpa;iBa(b,a,c);return c}lBa(b,a);c=b.oF(a);c+=a==vA?b.Epa:b.Fpa;iBa(b,a,c);return c}
function jBa(b,a){if(!b.Fj())return h;var c;a:switch(a){case vA:c=b.X4a;break a;case Wx:c=b.Z4a;break a;default:e(Error(".75"))}if(c)return h;else{c=b.Q3(a);switch(a){case vA:b.X4a=c;break;case Wx:b.Z4a=c;break;default:e(Error(".85"))}return c}}function kBa(b,a){if(!jBa(b,a))e(Error(".87"));var c;a:switch(a){case vA:c=b.Yjb;break a;case Wx:c=b.Zjb;break a;default:e(Error(".76"))}if(!c){lBa(b,a);b.Fj()&&b.VV(a);switch(a){case vA:b.Yjb=h;break;case Wx:b.Zjb=h;break;default:e(Error(".86"))}}}
function mBa(b,a){switch(a){case vA:return b.W4a==-1;case Wx:return b.O3==-1;default:e(Error(".86"))}}function lBa(b,a){b.NXa(b.Fj())&&a==vA&&b.Ui(Wx)}function MA(b,a,c){if(a==vA){if(b.W4a!=c){b.W4a=c;ka(KA(b),NA(c));return h}}else if(b.O3!=c){b.O3=c;Wa(KA(b),NA(c));return h}return k}
function nBa(b){if(b.Fj()){var a=b.b();OA.mM(a);if(Jg){var c=OA.wa;a={};var d=c[Mc][dc].getMatchedCSSRules(c,I),f=[];f[p](oBa);if(d)for(g=0;g<d[u];g++)f[p](d[g][x]);f[p](c[x]);for(var g=0;g<f[u];g++){c=f[g];for(d=0;d<pBa[u];d++){var j=pBa[d],n=c[j];if(n)a[j]=n}}dBa(OA,a)}else L?dBa(OA,OA.wa[il]):cBa(OA);a=OA.C7b;f=OA.S_b;if(a!=b.U4a||f!=b.Epa){b.Ui(vA);b.Epa=f;b.U4a=a}a=OA.D7b;f=OA.T_b;if(a!=b.V4a||f!=b.Fpa){b.Ui(Wx);b.Fpa=f;b.V4a=a}b=b.Uc();for(a=0;a<b[u];a++){f=b[a];f instanceof IA&&nBa(f)}}}
function NA(b){return b<0?I:qBa?b+Jm:b}function rBa(b,a,c,d){d?sBa(b,a,c):YAa(b,a,c)}
function YAa(b,a,c){for(var d=BA[b],f=c[u],g=0,j=0;j<f;j++){var n=i,s=c[j];n=s.KT(b);s.WZ(b);var v=s.rK(b),C=JA(s,b);switch(v){case 0:n=n;break;case -1:if(C)n=-1;else{v=LA(s,b);n=s.Sda(b,v);n=n==v?-1:n}break;default:if(a==-1){g++;n=n}else n=s.Sda(b,a);break}d[s.ea()]=n}if(g){for(j=a=0;j<f;j++){s=c[j];n=d[s.ea()];if(n==-1)n=LA(s,b);a=l.max(a,n)}for(j=0;j<f&&g>0;j++){s=c[j];if(s.rK(b)>0){g--;d[s.ea()]=s.Sda(b,a)}}}}
function sBa(b,a,c){var d=BA[b];Ia(PA,Ia(tBa,Ia(QA,Ia(uBa,0))));for(var f=c[u],g=0;g<f;g++){var j=0;j=c[g];if(j.Fj()){tBa[g]=j.rK(b);QA[g]=j.KT(b);uBa[g]=j.WZ(b)}else{QA[g]=0;uBa[g]=0}PA[g]=0}var n=k;for(g=0;g<f;g++){j=c[g];if(j.Fj())if(JA(j,b))PA[g]=-1;else if(j.Twa(b)){var s=LA(j,b);j=j.Sda(b,s);PA[g]=j==s?-1:j}else if(j.rK(b)==0)PA[g]=QA[g];else{if(!n){n=h;Ia(RA,0)}RA[p](g)}}if(n)if(a==-1)for(g=0;g<RA[u];g++){b=RA[g];PA[b]=QA[b]}else{for(g=n=0;g<f;g++){s=PA[g];if(s<0)s=LA(c[g],b);n+=s}for(g=j=
s=0;g<RA[u];g++){b=RA[g];s+=tBa[b];j+=QA[b]}a=l.max(a-n,j);vBa(RA,QA,uBa,tBa,a,s,PA);for(g=n=0;g<RA[u];g++){b=RA[g];n+=PA[b]}n-=a;for(g=0;g<RA[u]&&n>0;g++){b=RA[g];a=PA[b];s=QA[b];if(a>s){a=l.min(n,a-s);PA[b]-=a;n-=a}}if(n>0)e(Error(".89`"+n))}for(g=0;g<f;g++){j=c[g];d[j.ea()]=PA[g]}}
function vBa(b,a,c,d,f,g,j){for(b=nf(b);;){for(var n=f/g,s=i,v=i,C=0,M=0,Y=b[u],ha=0;ha<Y;ha++){var tb=b[ha],zc=l[ob](d[tb]*n);if(zc<a[tb]){s||(s={});s[tb]=1;C+=a[tb]-zc}else if(zc>c[tb]){v||(v={});v[tb]=1;M+=zc-c[tb]}j[tb]=zc}if(!s&&!v)break;var qb=0,nd=0;n=function $Di(Pe){j[Pe]=l.min(l.max(j[Pe],a[Pe]),c[Pe]);qb+=j[Pe];nd+=d[Pe];jf(b,Pe)};if(M==C){v&&Ef(v,n);s&&Ef(s,n);break}else{M>C?Ef(v,n):Ef(s,n);f-=qb;g-=nd}}}
function wBa(b){if(!b.pia)return k;var a=b.Yj;for(b=b;b&&b!=a;){if(!b.ZHa)return k;b=b.mh}return h}function SA(b){pA[z](this,b);this.sIa=i}function TA(b,a){SA[z](this,b);this.Wu=a}function xBa(b,a){if(b.VFa)if(a==vA){if(b.XHa!=-1){b.XHa=-1;ka(b.Kca,I)}}else if(b.WHa!=-1){b.WHa=-1;Wa(b.Kca,I)}}
var UA='<table class="',yBa="ve",zBa='" cellspacing="0" cellpadding="0" role="alert">',ABa='<tr><td class="vj"></td><td class="vi"></td><td class="vk"></td></tr><tr><td class="vi"></td><td class="vh"></td><td class="vi"></td></tr><tr><td class="vf"></td><td class="vi"></td><td class="vg"></td></tr>',VA="</table>";function BBa(b,a){b=a||new U;b[R](UA,ul,J,yBa,zBa,ABa,VA);if(!a)return b[t]()}function WA(b,a){pA[z](this,b);this.Jc(a)}function CBa(b){if(!b.FDa)b.FDa=b.b()[Tb][Tb];return b.FDa}
function XA(b){if(!b.hy)b.hy=CBa(b)[cc][1][cc][1];return b.hy}function YA(b,a){if(!b.MZb&&!a)b.MZb=new TA(b[uq](),b);return b.MZb}function DBa(b,a){var c=b.b();if(b.b8a)b.b8a!=a&&qm(c,b.b8a,a);else K(c,a);b.b8a=a}function EBa(){}var FBa="b8";function ZA(b,a){WA[z](this,b,FBa);this.Djd=a?a:0;this.Ym(k);Pw(this.H(),this.b(),aB,this.lh)}function GBa(b,a,c,d){b=a[ic](c);for(c=0;a=b[c];c++)K(a,d)}var bB="link_";
function cB(b,a){la(this,b);if(Ye(a)){this.id=a;if(!Mf(this.id,bB))this.id=bB+this.id}else this.uri=a}var dB="Undo",eB="Learn more",HBa="link_undo";function IBa(b,a,c){var d;if(c===h)d=dB;else if(c)d=c;c=[];a&&c[p](new cB(eB,a));d&&c[p](new cB(d,HBa));return fB(b,c)}var JBa='&nbsp;&nbsp;<span class="ag" id="',KBa='" tabindex="0" role="link" idlink>',gB="</span>",LBa='&nbsp;&nbsp;<a class=ad target=_blank href="',W='">',hB="</a>";
function fB(b,a){a={ke:b,VZb:a};b=new U;b[R](a.ke);if(a.VZb){a=a.VZb;for(var c=a[u],d=0;d<c;d++){var f=a[d];b[R](f.id?JBa+V(f.id)+KBa+f[jb]+gB:LBa+f.uri+W+f[jb]+hB)}}b=b[t]();return b}var iB="Loading...",MBa="Still working...";function jB(){this.f1=0;this.Sm=iB;this.Iaa=MBa;this.nCb=[]}function NBa(b){for(var a=4,c=0;c<b[u];c++)a=l.min(a,b[c].ts());return a}function kB(b,a){a<b.f1||lB(b,a)}
function lB(b,a){if(a!=b.f1){if(a<b.f1)e(Error(".90`"+b.f1+qw+a));if(a>4)e(Error(".91"));for(var c=b.f1+1;c<=a;c++){b.f1=c;b.d9a()}if(a==4){Ff(b.nCb,function(d){d.ad(this)});Ia(b.nCb,0)}}}function OBa(b){this.sAc=b}function PBa(b){return b.J(Yx)}function QBa(b){return b.sAc}var mB="FAIL";function nB(b,a,c,d){this.Lc=b;this.oT=a;this.vW=!!b&&b.o5!=mB&&!c;this.C0=d}function oB(b,a){jB[z](this);this.V=b;this.iaa=a;b=fy(b);this.Hn=b.ud;this.nKa=b.s8a}var RBa="CREATED";
function SBa(b){if(b.qa!=RBa)e(Error(".92`"+b.qa))}function TBa(b,a){a=new N(a,b);b.Sma&&b.Sma[r](a);b[r](a)}function UBa(b,a){b.MDc=h;b.jDc=a;b.h2a=k}var VBa="PROCESSED",WBa=";0";function XBa(b){var a=b.nKa;a.w_b();try{b.qa=VBa;try{QBa(PBa(b.V)).WH(b);b.rza();b.Wm&&b.Wm.AH&&b.Wm.AH(b);TBa(b,Cz)}catch(c){rg(tg,WBa,c)}a.WH(b)}finally{a.vic()}}var YBa="COMPLETED",ZBa=";1";
function aCa(b){var a=b.nKa;a.w_b();try{b.Eg()&&XBa(b);b.qa=YBa;try{QBa(PBa(b.V)).tqb(b);b.vL();b.Wm&&b.Wm.wh&&b.Wm.wh(b);TBa(b,Bz);lB(b,4)}catch(c){rg(tg,ZBa,c)}b.Lc=i;a.tqb(b)}finally{a.vic()}}function pB(b,a,c){oB[z](this,b,Wn);this.mg=a;this.Lb=Tz(b);this.aX=c;this.UR=qB[a];if(!this.UR)e(Error(".94`"+a));this.HPa=k}function bCa(b){return b.YQ&&!!!b.bh&&!!b.Wd()}function rB(b){return b.Kv[mb](cCa,I)}function sB(b,a,c,d){var f=i;if(c)f=Yz(b.Lb,c);return IBa(a,f,d)}
function tB(b,a,c){pB[z](this,b,a,c);this.BV=[];this.RDa=[]}function uB(b,a,c){if(b.hia)e(Error(".95"));hf(b.BV,a);hf(b.RDa,c)}function dCa(b,a){if(b.BV[u])e(Error(".96"));b.hia=h;b.FVc=a}function vB(b,a,c){tB[z](this,b,c||3,a);Bx(this);this.uj=h}function eCa(b){this.Lc=b}var wB="top",fCa="target",gCa="noreferrer",hCa='<META HTTP-EQUIV="refresh" content="0; url=';
function iCa(b,a,c){a||(a={});var d=c||ba;c=typeof b[Yc]!="undefined"?b[Yc]:String(b);b=a[y]||b[y];var f=[];for(var g in a)switch(g){case Vi:case Ui:case wB:case sw:f[p](g+ei+a[g]);break;case fCa:case gCa:break;default:f[p](g+ei+(a[g]?1:0))}g=f[kd](wj);if(a.noreferrer){if(a=d[bb](I,b,g)){a[yc][nq](hCa+Wf(c)+W);a[yc][Xk]()}}else a=d[bb](c,b,g);return a}function jCa(b){Bx(this);this.V=b}function xB(b){return b.J(fo)}function yB(b,a,c){return kCa(b,a,c,h)}var lCa="nocheckbrowser";
function zB(b,a,c){Mj.Of().Xb(lCa)&&a.ka(lCa,I);return yB(b,a,c)}var AB="_blank";function kCa(b,a,c,d){c=c||{};c[y]||Pa(c,AB);if(c[ib]){c.resizable=h;c.scrollbars=h}return b.Q0(a,c,d)}function mCa(b){this.tkc=b}function nCa(b){tB[z](this,b,42,2)}function oCa(b){this.Jb=b;pCa[b]=this}function BB(b,a){this.S1b=b;this.Xd=a;if(!this[Sk].i3a)this[Sk].i3a={};this[Sk].i3a[this[t]()]=this}function qCa(b){if(!b)return b;return b.lC()}function CB(b,a){BB[z](this,b,a)}function DB(b){return new CB(EB,b)}
var FB="w";function rCa(b){N[z](this,FB);this.FV=b}function sCa(){jB[z](this);this.Ic=0}function GB(b,a){if(a!=b.Ic){if(a>3)e(Error(".97"));b.Ic=a;a!=0&&lB(b,4)}}function HB(){}var IB="t";function JB(b){return b.J(IB)}function tCa(b,a){tB[z](this,b,64,a);this.jb=JB(b);this.uj=k}function uCa(b,a){tB[z](this,b,21,a);this.uj=h}function KB(b,a){tB[z](this,b,1,a);this.uj=h}function vCa(b,a){tB[z](this,b,2,a);this.uj=h}function wCa(b,a){tB[z](this,b,8,a);this.uj=h}
function xCa(b,a){tB[z](this,b,18,a);this.uj=h}function LB(b,a,c,d){tB[z](this,b,a,d);this.iR=c}function MB(b,a,c){LB[z](this,b,13,a,c);this.uj=h}function yCa(b,a,c){tB[z](this,b,c||4,a);this.uj=h}function zCa(b,a,c){tB[z](this,b,9,c);this.uj=h;this.iNb=a}function ACa(b,a){tB[z](this,b,10,a);this.uj=h}function NB(b){this.o2a=b}function BCa(b,a){BB[z](this,b,a)}function OB(b){return new BCa(EB,b)}function PB(b){this.V=b;this.Z=Rz(b);Bx(this)}function QB(b){b=CCa[b];return b!=undefined?RB[b]:i}
function SB(b,a,c,d,f,g,j){if(QB(b)!=i)return i;DCa[b]=a;a=new ECa;Op(a,b);a.NEa=g;a.eqd=c;a.PX=d;a.a2=f;if(j){b=CCa[j];for(km(RB,a,b);b<RB[u];)CCa[RB[b][jr]]=b++}else{CCa[b]=RB[u];RB[p](a)}return a}function FCa(b,a,c,d,f,g,j,n){b=SB(b,a,c,d,f,j,n);if(b!=i)b.PYb=g;return b}function GCa(b,a,c,d,f,g,j){b=SB(b,a,c,d,f,g,j);if(b!=i)b.N_a=h;return b}function HCa(b,a,c,d,f,g,j){b=SB(b,a,c,d,f,g,j);if(b!=i)b.BWa=h;return b}
function ICa(b,a,c,d){var f=a.dMb;Ia(f,0);for(var g=0;g<RB[u];g++){var j=RB[g][jr];if(JCa(b,j,c)){TB(a,j,d[j]);f[p](j)}else TB(a,j,k)}}function JCa(b,a,c){a=QB(a);if(!a)return k;if(!c)return h;a=a.NEa;return Ve(a)?ef(a,c):Ze(a)?a(b.V):h}function ECa(){}function KCa(){}function UB(b){pA[z](this,b);this.V=b}function VB(b){UB[z](this,b);this.ge=new Hf}function TB(b,a,c){if(b.Fs(a)&&b.ge.J(a)!=c){b.ge.set(a,c);b.Cl=h}}var WB="actionitem";function XB(b,a){N[z](this,WB);Op(this,b);la(this,a)}
function LCa(){this.iAa={}}var X='<div class="',YB="ar",ZB="at",aC='" style="background-color: #',MCa="; border-color: #",NCa=';"><div class="',bC="au",OCa='" style="border-color:#',PCa="av",QCa='searchType="',RCa='label="',SCa='style="color: #',TCa="</div></div></div></div>";function UCa(b,a){var c=a||new U;c[R](X,YB,J,vl,wl,ZB,aC,b[lq][jq],MCa,b[lq][jq],NCa,bC,OCa,b[lq][jq],wl,PCa,Vf,b.Dvb?QCa+b.Dvb+Vf:I,b[pr]?RCa+b[pr]+Vf:I,SCa,b[lq].tg,W,b[ec],TCa);if(!a)return c[t]()}
function VCa(b){this.dg=b}var cC="F";function WCa(b,a){a=new VCa(a);b[kq](cC,a);return a}function dC(b){return b.J(cC)}function eC(b){return b.dg.Ec()}function fC(){this.ee=[]}function gC(b){var a;if(b)if(Ve(b)){a=[];for(var c=0;c<b[u];c++)a[p](b[c].cb())}else a=[b.cb()];else a=[Cg().cb()];this.eE=a;this.xkb=Zf();this.Q=b=new kn(this);for(c=0;c<this.eE[u];c++){b.w(this.eE[c],XCa,this.XO,h);b.w(this.eE[c][Lc],YCa,this.XO,h)}}var ZCa="activity";
function aDa(b,a,c){b.xkb=a;b.fZb=c;if(a>b.R0b){b[r](ZCa);b.R0b=a+3E3}}function hC(b,a){a=a||bDa(this);this.qhb=b;this.Dz=a;this.Uuc=G(this.UXc,this);cDa(this)}function bDa(b){dDa.add(b);if(iC==i)iC=new gC;return iC}function cDa(b){var a=b.qhb+1-(Zf()-b.Dz.xkb);if(a>0)b.Oya=Dh(b.Uuc,a);else{b.rP=h;ih(b.Dz,ZCa,b.t3b,k,b);b.mgb=h;b[r](zi)}}function eDa(b){if(b.mgb){nh(b.Dz,ZCa,b.t3b,k,b);b.mgb=k}}function jC(b){this.qhb=b;this.UGa=new fC;this.i1=new Hf}var kC="A";function lC(b){return b.J(kC)}
var fDa=":2";function mC(b,a,c){b.UGa.MG([a,c]);if(!b.ab)b.ab=bA(fDa,b.wYc,0,b)}function gDa(b,a){if(a.Cu)e(Error(".102"));a.Cu=b;var c=Zf();a.AKa=c+a.zMb;hDa(a,c);b.i1.set(String(a.id),a)}function iDa(b,a){b.i1[Pb](String(a.id));if(!a.Cu)e(Error(".103"));if(a.ab){cA(a.ab);a.ab=i}a.Cu=i}function nC(b,a,c,d,f){this.id=String(jDa++);this.fy=b;this.C5=a;this.zMb=c;this.Mk=d;this.na=f||i}function hDa(b,a,c){c=c||0;if(b.ab){cA(b.ab);b.ab=i}a=l.max(b.AKa+c-a,0);b.ab=bA(b.fy,b.ix,a,b)}var kDa=";3";
function lDa(b,a){var c=h,d=b.C5;if(d&1)if(b.Cu.qia())c=k;var f=b.Cu.Hh;if(d&2)if(f&&f.My())c=k;if(d&4)if(f&&!f.My())c=k;if(c){b.xKa=k;if(b.AKa-a<=25){try{b.Mk[z](b.na)}catch(g){rg(tg,kDa,g)}a=Zf();b.AKa=a+b.zMb;hDa(b,a)}else hDa(b,a,b.AKa-a)}else b.xKa=h}function mDa(b,a){b.uWb=a;if(!b.uWb){a=b.i1.Oa();for(var c=0;c<a[u];c++){var d=a[c];if(d.C5&1&&d.xKa){mC(b,b.kvb,b);break}}}}function nDa(b,a){b.Hh=new hC(b.qhb,a);ih(b.Hh,yi,b.R8,k,b);ih(b.Hh,zi,b.S8,k,b)}
function oC(b){this.dg=b||ba;this.OU=ih(this.dg,sj,this.a7,k,this);this.We=Mg(this.dg);if(this.vjb())this.R0a=ba[Dc](G(this.lJb,this),500)}function pC(b,a){this.V=b;a&&oDa(this,a)}function qC(b){return b.J(oA)}function pDa(b,a){a=new pC(b,a);b[kq](oA,a)}function oDa(b,a){if(b.wrb)e(Error(".104"));b.wrb=a;b.Y=Cg(a);b.eoa=new oC(pm(a));b.eoa.dk(b.V.Ya())}function qDa(b){this.V=b;this.Q=new kn(this);this.Yca=k}var rC="B";function sC(b){return b.J(rC)}
function rDa(b){var a=new qDa(b);b[kq](rC,a);return a}var sDa="1.8.1",tC="SPAN";function tDa(b,a){var c=pm(a),d=Jg?a[Lc]:a[mc],f=a;if(L)f=c;else if(Fh&&!vg(sDa))f=a[mc];a=f;b.Nr=d;b.KQ=a;b.kgd=Cg(b.Nr);b.HF=d[Nk];b.Q.w(a,tj,b.Xfd);if(L&&!vg(Ij)){b.vrd=new cg([Cd,tC,Vd,Fd,vd,Wd,Iaa,Xd]);b.Q.w(b.kgd.cb(),Zi,b.mgd)}}function uC(b){if(L&&b.Ppa){var a=b.Ppa.cb()[Lc][Dk]();a[tk]();a[Fk]();b.lf()}}function uDa(b){return b.Nr[Nk]}var vDa="1.9a";
function vC(b,a){var c=b.Nr;if(b.HF!=a)if(!(Fh&&!vg(vDa)&&c[vc]==0&&c[Wc]==0)){b.HF=a;up(c,a)}}var wDa="border: 0; vertical-align: bottom",xDa='javascript:""';function yDa(b){return b.ba(Td,{frameborder:0,style:wDa,src:xDa})}function wC(b,a,c){Pa(this,b);this.handle=a||b;this.txa=c||new Cm(NaN,NaN,NaN,NaN);this.ki=Eg(b);this.Q=new kn(this);ih(this[Fma],fj,this.sM,k,this)}function zDa(b){b[zb]()}var xC="start";function ADa(b,a){if(b[r](new BDa(xC,b,a[kc],a[lc],a))!==k)b.mZ=h}
function CDa(b,a,c){var d=gm(Cg(b.ki));a+=d.x-b.Oza.x;c+=d.y-b.Oza.y;b.Oza=d;b.Hea+=a;b.Iea+=c;a=DDa(b,b.Hea);b=EDa(b,b.Iea);return new xg(a,b)}function DDa(b,a){var c=b.txa;b=!ia(c[Ck])?c[Ck]:i;c=!ia(c[ib])?c[ib]:0;return l.min(b!=i?b+c:Infinity,l.max(b!=i?b:-Infinity,a))}function EDa(b,a){var c=b.txa;b=!ia(c.top)?c.top:i;c=!ia(c[id])?c[id]:0;return l.min(b!=i?b+c:Infinity,l.max(b!=i?b:-Infinity,a))}
function BDa(b,a,c,d,f,g,j,n){N[z](this,b);Da(this,c);Ea(this,d);this.AAd=f;ck(this,Ke(g)?g:a.Hea);this.top=Ke(j)?j:a.Iea;this.VBc=a;this.SBc=!!n}var FDa="Kj-JD";function yC(b,a,c){nn[z](this,c);this.Al=b||FDa;this.LBb=!!a;this.Yf=GDa;this.xq=new xm(this.W().cb())}function HDa(b){b.Cc()||b.eb();return b.y2}function zC(b){b.Cc()||b.eb();return b.b()}function IDa(b){b.Cc()||b.eb();return b.Em}
function AC(b,a){b.Yxa=a;JDa(b);var c=b.W();if(b.Cc()&&a&&b.Ib()){b.jq&&c.yA(b.jq,b.b());b.Em&&c.yA(b.Em,b.b());b.DWa()}}var KDa="-K7-GIHV4";function LDa(b,a){b.dfa=a;if(b.dfa&&!b.ih&&b.b())b.ih=MDa(b);else if(!b.dfa&&b.ih){b.b()&&Ag(b.iD,b.Al+KDa);b.ih.D();b.ih=i}}function MDa(b){var a=new wC(b.b(),b.iD);K(b.iD,b.Al+KDa);return a}var NDa="-Jh";
function JDa(b){if(b.LBb&&b.Yxa&&!b.jq){b.jq=yDa(b.W());m(b.jq,b.Al+NDa);Wm(b.jq,k);Vm(b.jq,0)}else if((!b.LBb||!b.Yxa)&&b.jq){Sg(b.jq);b.jq=i}if(b.Yxa&&!b.Em){b.Em=b.W().ba(T,b.Al+NDa);Vm(b.Em,b.Z3a);Wm(b.Em,k)}else if(!b.Yxa&&b.Em){Sg(b.Em);b.Em=i}}function ODa(b,a){b.jq&&a[o](b.jq);b.Em&&a[o](b.Em)}var BC="dialogselect";function CC(b,a){za(this,BC);this.key=b;this.caption=a}function DC(b){this.ya=b||Cg();Hf[z](this)}function PDa(b,a){b.wa=a;b.eb()}
function EC(b){yC[z](this,undefined,undefined,qC(b).W());this.M4=h;this.eb()}var QDa="Error";function FC(b,a){b=new EC(b);b.Fc(QDa);b.xb(a);b.oh(GC);b.ra(h);return b}var RDa="xy",SDa="xx";function HC(b,a,c,d,f){EC[z](this,f);this.V=f;this.Cb=sC(f);this.IAc=a;this.n2a=d;d=this.Cd();f=f.J(oA).W();this.P9=f[Qb](T);m(this.P9,RDa);Q(this.P9,b);d[o](this.P9);this.xF=f[Qb](zm);m(this.xF,SDa);pa(this.xF,a);d[o](this.xF);this.Fc(c);this.oh(GDa);this.H().w(this,BC,this.MC)}
function IC(b,a,c,d){EC[z](this,a);this.Cb=sC(a);this.n2a=b;this.Fc(c);d!=undefined&&this.xb(d);this.oh(GDa);this.H().w(this,BC,this.MC)}function TDa(b){return String[rq](b[Xc](0)-65248)}
function UDa(b){var a=b[Xc](0);return b[u]==1?"\u3002\u300c\u300d\u3001\u30fb\u30f2\u30a1\u30a3\u30a5\u30a7\u30a9\u30e3\u30e5\u30e7\u30c3\u30fc\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f3\u309b\u309c"[xb](a-65377):b[Xc](1)==65438?"\u30f4__\u30ac\u30ae\u30b0\u30b2\u30b4\u30b6\u30b8\u30ba\u30bc\u30be\u30c0\u30c2\u30c5\u30c7\u30c9_____\u30d0\u30d3\u30d6\u30d9\u30dc"[xb](a-
65395):"\u30d1\u30d4\u30d7\u30da\u30dd"[xb](a-65418)}function VDa(b,a,c){for(var d,f=i,g=0;(d=a[hb](b))!=i;){if(f==i)f=[];g<d[Lq]&&f[p](b[Zc](g,d[Lq]));f[p](c(d[0]));g=a[Mma]}if(f==i)return b;g<b[u]&&f[p](b[Zc](g));return f[kd](I)}function JC(b,a){b=b[mb](/\uFF3E/g,Qd);b=VDa(b,WDa,TDa);b=VDa(b,XDa,UDa);return(a?b:Pf(b[mb](/\s+/g,J)))[mb](YDa,Qd)[od]()}function ZDa(){}function aEa(b){Rp(this,b)}
function bEa(b,a,c){this.rt=b[1];this.lD=b[2];this.mqa=b[3];this.EU=b[4];this.Bwa=b[5];this.wra=b[6];this.Yna=b[7]||I;this.CDa=b[8];this.SA=b[9]||0;this.Nx=a;this.V=c;this.Jb=b[0];this.Sm=Vy(this.Jb);this.ufa=Wf(this.Sm);this.esb=i;Bx(this)}function cEa(b,a){if(b.rt!=a){b.rt=a;b.xj(2)}}function dEa(b,a){if(b.Yna!=a){b.Yna=a;b.xj(256)}}function eEa(b){this.V=b;this.kr=new ZDa}function KC(b){return b.J(cy)}var LC="labels",fEa="_GM_getLabelDataNode";
function MC(b){if(!b.qn){var a=Dx(Cx(b.V));b.qn=a.za(LC)}if(!b.qn){a=eC(dC(b.V));b.qn=Pda(fEa,a)}return b.qn}function NC(b,a){return(b=a?gEa(MC(b),a,h):k)?b.J():i}function hEa(b,a,c){a=JC(a);if(a[u]>40||a==I)return k;if(!iEa[cb](a))return k;if(ff(jEa,a)!=-1)return k;if(c){if(ff(c,a)!=-1)return k}else{b=OC(MC(b),h);for(var d=0;c=b[d];d++)if(JC(c)==a)return k}return h}
var kEa="The name is too long.",lEa="No name specified.",mEa="The ^ character is not allowed.",nEa="Sorry, you can't create a label named \"",oEa="\" (it's a reserved system label).",pEa="The label name you have chosen already exists.";function PC(b,a,c){a=JC(a);if(a[u]>40)return kEa;if(a==I)return lEa;if(!iEa[cb](a))return mEa;if(ff(jEa,a)!=-1)return nEa+(a+oEa);b=OC(MC(b),h);for(var d,f=0;d=b[f];f++)if(d!=c&&JC(d)==a)return pEa;return i}
function QC(b,a,c,d,f,g){a=new HC(a,c,d,f,g);b=G(b.wqd,b);a.Wna=b;a.ra(h)}function qEa(b,a){var c=NC(b,a);if(c){a=c.esb;if(!a){a=UCa({name:c.ufa,color:b.kr.X5(c)});c.esb=a}}else{a=Vy(a);a=UCa({name:Wf(a),color:b.kr.PO(0)})}return a}function rEa(){this.Q=new kn(this);this.poa=[];this.Dh=[]}function RC(b){return b.J(Kd)}function sEa(b){var a=new rEa(b);b[kq](Kd,a);return a}var SC="I";function tEa(b,a){Ff(b.Dh,function(c){c(a)});b.poa[p](a);b.Q.w(a,SC,b.uha)}
function uEa(b,a){Ff(b.poa,a);b.Dh[p](a)}var TC="D";function vEa(b,a){b.iL=a;b[r](TC)}function UC(b){return b.iL}function wEa(b,a,c){return hx(ywa(Awa(b),ai),ai,c)+a}function Kga(b,a,c){a=a||top;b=b?Lj+b:a[Ic][raa];if(Ke(c)?c:Jg)Na(a,wEa(a[Ic][Yc],b,Yf()));else{a[Ic].hash=b;a[Ic][Sq](h)}}function xEa(){this.yu=new cg}function VC(b){return b.J(Ph)}function WC(b){b[r](cC)}var XC="G";function yEa(b){N[z](this,XC);this.ZH=b}function zEa(){this.Q=new kn(this)}var AEa="beforeunload";
function YC(b,a){this.sC=b;this.Gk=new kn(this);this.V=a;this.dRa=[];this.OIa=k;this.Gk.w(this.sC,uj,this.uha);this.Gk.w(this.sC,AEa,this.Teb);tEa(RC(a),this)}function ZC(b,a){b.dRa[p](a)}var aD="H";function BEa(b,a){N[z](this,aD,b);this.hj=a;this.PPb=k}function CEa(b,a){this.Pf=b;this.Jb=(this.UPa=!!a&&a.Ca(Rd)==b)?a.Ca(Zx):I}function DEa(b){this.V=b}function EEa(b,a){b=Dx(Cx(b.V)).za(dya);return new CEa(a,b)}function bD(){this.Kab=[]}var cD="k";function dD(b){return b.J(cD)}
function FEa(b){this.V=b;this.Rjc={};this.VEa={};this.PVb={}}var eD="E";function fD(b){return b.J(eD)}function gD(b,a,c){if(b.VEa[a])e(Error(".107`"+a));b.VEa[a]=c}function hD(b,a,c){b.mW(a,b.Rjc,c)}function iD(b,a,c){b.mW(a,b.PVb,c)}var jD="K",kD="f";
function lD(b){gA[z](this,b?b.Ya():new uh);var a=b?b.Ev:this;this.Ev=a;if(this.Ev==this){this.Snd=Zf();this.nmb=O.S();sEa(this);this[kq](ag,new lxa(this,void 0));this[kq](eD,new FEa(this));this[kq](Ph,new xEa(this));this[kq](cD,new bD);this[kq](jD,new LCa(this));this[kq](Zx,new zEa(this));this[kq](kD,new DEa(this));this[kq](cy,new eEa(this));this.Q=new kn(this);ln(this.Q,RC(this),TC,this.Gpb)}else{if(a.Wpa)a.Wpa[p](this);else a.Wpa=[this];b&&this.kma(b);this.nmb=EAa(a)}Bx(this)}
function _ForceReloadStyles(){}function mD(b){return new lD(b)}function GEa(b){if(b.Ev==b)if(!b.Pc&&b.va&&!b.E5a){b.G5a.i6a();b.va[qc]()}}function nD(b){return b.Ev.tod}function oD(b){return b.Ev.va}function HEa(b){if(b.E5a)b.Ev.va=i}function pD(b){return b.Ev.G5a}var qD="ce";function IEa(b){b=Dx(Cx(b.Ev)).za(Lx).Ca(qD);return(Ue(b)?!!b:h)&&!bx()}function JEa(b){return!!(gga&&IEa(b))}var KEa="_GM_EmoticonHandler",LEa="_GM_chatEngine",MEa="_GM_chatController";
function NEa(b){var a=eC(dC(b)),c=rD(b);sD(c)._GM_EmoticonHandler=si(KEa,a);if(!oD(b)){c=si(LEa,a);a=si(MEa,a);if(c&&a){b.Ev.va=c;b.Ev.G5a=a;b.Ev.E5a=h}}}var OEa="_GM_bcService";function PEa(b){if(!jA(b,dx)){var a=eC(dC(b));(a=si(OEa,a))&&b[kq](dx,a,h)}}var tD="ui:fru";function uD(b){return new Sh(Rz(b)[hq](tD))}function vD(b){if(!b.cEa)if(typeof QEa!="undefined")b.cEa=new QEa(iA(b));return b.cEa}
function wD(b){var a=rD(iA(b));a=sD(a);var c=a[yc][ub](pha);if(c)Ua(c[x],xd);(c=a.loadTimeout)&&a[gb](c);hA(b).hL=k}function REa(b){this.Db=b}function SEa(b){this.O=b;this.O[1]=this.O[1]||[];this.aS=[];for(b=0;b<this.O[1][u];b++)this.aS[b]=new xD(this.O[1][b]);if(this.O[4])this.v9b=new TEa(this.O[4])}function xD(b){this.O=b}function TEa(b){this.O=b;this.O[1]=this.O[1]||[]}function UEa(b){this.O=b}
function VEa(b){this.O=b;this.O[1]=this.O[1]||[];this.aS=[];for(b=0;b<this.O[1][u];b++)this.aS[b]=new xD(this.O[1][b])}function WEa(b){this.O=b;this.O[2]=this.O[2]||[]}function XEa(b){this.O=b;if(this.O[1])this.jQb=new YEa(this.O[1]);this.O[2]=this.O[2]||[];this.lkc=[];for(b=0;b<this.O[2][u];b++)this.lkc[b]=new ZEa(this.O[2][b])}function ZEa(b){this.O=b}function YEa(b){this.O=b;this.aS=new xD(this.O[2])}function aFa(b){this.O=b}
function bFa(b){if(b){this.ycc=b.Wga()||-1;this.Ccc=b.aeb()||I;this.FXa=b.lua()||I;this.qHb=b.O[4]||-1}else{this.ycc=-1;this.FXa=this.Ccc=I;this.qHb=-1}}function cFa(b,a){this.Hn=b;a&&this.oM(a);this.YAd=Zf();this.Ayb=k;this.Bf=this.oib()}function yD(b){if(b.uba)e(Error(".109"))}function dFa(b,a){eFa(b,a,h)}function eFa(b,a,c){if(a instanceof Wh){var d=a.Sb();rf(d);for(var f=0;f<d[u];f++){var g=d[f],j=a.Oa(g);c?b.Be(g,j):b.Ua(g,j)}}else Ef(a,function(n,s){c?this.Be(s,n):this.Ua(s,n)},b)}
function fFa(b,a){BB[z](this,b,a)}function zD(b,a){if(b instanceof lD)b=fy(b).ud;cFa[z](this,b,a)}function AD(b){var a=b[uq]();pA[z](this,a);this.ia=b}function BD(b,a){AD[z](this,a);this.V=b}function CD(){var b=gFa;return!!b&&b.yYa()}function DD(){var b=gFa;return!!b&&b.oi()}function hFa(b,a){this.xe=b;this.YKc=!!a;this.UK=iFa(this);if(!this.UK){b=L&&!vg(Ij)?Lh:rj;this.P0=ih(this.xe,b,this.Rua,k,this);this.jwa=ba[Dc](G(this.Rua,this),100)}}function jFa(b){if(b.jwa){ba[Oma](b.jwa);b.jwa=i}}
function iFa(b){var a=k;try{a=L?b.xe[Nb]==Hh:!!om(b.xe)[Lc]&&(!b.YKc||!!om(b.xe)[Lc][Tb])}catch(c){}return a}var kFa="ifload";function lFa(b,a,c){this.JV=[];this.Li=a;for(a=0;a<b[u];a++){var d=new hFa(b[a],c);if(d.hc())d.D();else{this.JV[p](d);ih(d,kFa,this)}}this.JV[u]||this.Li()}function mFa(b,a){this.MOa=b;this.Li=a}function nFa(b,a){for(var c=0;c<b.MOa[u];c++){var d=om(b.MOa[c])[Lc];if(d)Q(d,I)}Ia(b.MOa,0);b.Li(a)}var oFa=":5";
function pFa(b,a,c,d){for(var f=[],g=0;g<a[u];g++){var j=b[ub](a[g]);if(j)f[p](j);else{bA(oFa,df(pFa,b,a,c),20);return}}(new mFa(f,c))[Rc](d)}function qFa(b){this.Zf=b;this.PIb=Eg(this.Zf)}function rFa(b,a){a=new qFa(a);b[kq](Pd,a);return a}function rD(b){return b.J(Pd)}function sD(b){return pm(b.PIb)}var ED="Aa";function sFa(b){Bx(this);this.V=b;this.lb=yy(this.V);this.Cb=sC(b);this.Z=Rz(b);jA(b,ED)||hA(b)[kq](ED,new tFa);_GM_ftcb||(_GM_ftcb=G(this.ODc,this))}
function tFa(){this.sya=1;this.lna={};this.ROb=[]}function uFa(b,a,c,d,f,g){var j={IX:a,x1b:c,rhb:new ui,cq:f,wc:d};a=new ui;c&&Zw(a,function(){return c});Zw(a,function(){return j.rhb});Zw(a,d,g);b.ROb[p](j);a.ad(j);return j}function vFa(b,a){b=b.ROb;for(var c=0;c<b[u];++c){if(b[c].IX==a)return b[c];if(b[c].IX[Rq]){b[jd](c,1);--c}}return i}function FD(b){return b.V.J(ED)}var HD="xc";function wFa(b,a,c,d){var f=FD(b).sya++,g=[];g[p](HD);xFa(b,g);g[p](a);g[p](c);FD(b).lna[f]=zh(g);yFa(b,f,d)}
var zFa="uri";function AFa(b,a,c){var d=FD(b).sya++,f=[c?zFa:Yd];xFa(b,f);FD(b).lna[d]=zh(f);return yFa(b,d,a,c)}function xFa(b,a){a[p](oAa(b.Z));a[p](Bya(b.lb))}var BFa="btop";function ID(){return(new Sh(aga)).ka(pd,BFa).ka(rd,tea)}var JD="cm",KD="fs",LD="am";function CFa(){return(new Sh(Rj)).ka(pd,JD).ka(KD,Hj).ka(Nj,Hj).ka(rd,ti).ka(LD,Fi)}var DFa="cmid";
function yFa(b,a,c,d){var f=new Wh;if(d)for(var g,j=EFa.Sb(),n=0;n<j[u];n++){var s=j[n];if(g=d.J(s))f.set(EFa.J(s),g)}f.set(DFa,a);b.aa.LGa(f);if(MD(b)){a=Uh(ID(b),Qf(f));d=xB(b.V);c=zB(d,a,c?i:FFa(b));ND(b,c,JD,b.VNc)}else{a=Uh(CFa(),Qf(f[t]()));d=xB(b.V);return zB(d,a,c?i:FFa(b))}}var OD="cv",PD="th",QD="qt";
function GFa(b,a,c,d,f){var g=new Wh;f=MD(b)&&!f?ID(b):(new Sh(Rj)).ka(pd,OD).ka(KD,Hj).ka(Nj,Hj).ka(rd,ti).ka(LD,Fi);if(!b.aa.B2a(a,c,d,g)){Pya(a,f.Of());f.ka(PD,c);d&&d[u]!=0&&f.ka(QD,HFa(d))}b.aa.LGa(g);Uh(f,Qf(g[t]()));return f}function IFa(b,a,c,d,f,g){a=GFa(b,a,c,d);c=xB(b.V);f=zB(c,a,f?i:FFa(b,g));MD(b)&&ND(b,f,OD,b.XNc)}var RD="cw";function JFa(){return(new Sh(Rj)).ka(pd,RD).ka(KD,Hj).ka(Nj,Hj).ka(rd,ti).ka(LD,Fi)}
function FFa(b,a){var c;b=a?a:top;try{c=Mg(b)}catch(d){c=Mg()}b=l[rb](c[id]*0.8);return{width:l.min(c[ib],b),height:b}}function HFa(b){for(var a=[],c=0;c<b[u];c++){var d=b[c];a[p](d[0]);a[p](d[1]?1:I)}return a[kd](He)}function KFa(b){b=rD(b.V);return String(sD(b)[Ic])}function MD(b){return Jz(b.Z,988)&&Sfa.J()&&!L}function ND(b,a,c,d){if(a){var f=Zf();c=c?O.S()[pb](c,h):i;uFa(FD(b),a,c,d,f,b)}}var SD="pa";function LFa(b){var a=new sFa(b);b[kq](SD,a)}function TD(b){return b.J(SD)}
function UD(b){this.Jmd=b}function MFa(){}var NFa="UTC";function OFa(b){if(typeof b==Qe){var a=new MFa;a.pZa=b;a.rhc=PFa(b);b=b;if(b==0)b=NFa;else{var c=[NFa,b<0?tl:Qd];b=l.abs(b);c[p](l[rb](b/60)%100);b%=60;b!=0&&c[p](xj,b);b=c[kd](I)}a.SAb=[b,b];a.D_a=[];return a}a=new MFa;a.rhc=b.id;a.pZa=-b.std_offset;a.SAb=b.names;a.D_a=b.transitions;return a}var QFa="GMT";function RFa(b){var a=[QFa];a[p](b<=0?tl:Qd);b=l.abs(b);a[p](nx(l[rb](b/60)%100,2),xj,nx(b%60,2));return a[kd](I)}var SFa="Etc/GMT";
function PFa(b){if(b==0)return SFa;var a=[SFa,b<0?Qd:tl];b=l.abs(b);a[p](l[rb](b/60)%100);b%=60;b!=0&&a[p](xj,nx(b,2));return a[kd](I)}function TFa(b,a){a=Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a[Ema](),a[Qma](),a.getUTCMinutes())/36E5;for(var c=0;c<b.D_a[u]&&a>=b.D_a[c];)c+=2;return c==0?0:b.D_a[c-1]}function UFa(b,a){b=-(b.pZa-TFa(b,a));a=[b<0?Qd:tl];b=l.abs(b);a[p](nx(l[rb](b/60)%100,2),nx(b%60,2));return a[kd](I)}function VD(b){this.ap=[];typeof b==Qe?this.RGa(b):this.bpa(b)}
function WD(b,a,c){var d=c?(a[sr]()-(c.pZa-TFa(c,a)))*6E4:0,f=d?new Date(a[hc]()+d):a,g=f;if(c&&f[sr]()!=a[sr]()){d+=d>0?-86400000:864E5;g=new Date(a[hc]()+d)}d=[];for(var j=0;j<b.ap[u];++j){var n=b.ap[j][jb];1==b.ap[j][Zb]?d[p](VFa(b,n,a,f,g,c)):d[p](n)}return d[kd](I)}var XD="M",YD="S",ZD="L",aE="Q";
function VFa(b,a,c,d,f,g){var j=a[u];switch(a[xb](0)){case XC:c=d[fr]()>0?1:0;return j>=4?bE.Lmc[c]:bE.xDb[c];case Wx:c=d[fr]();if(c<0)c=-c;return j==2?nx(c%100,2):String(c);case XD:a:{c=d[Cq]();switch(j){case 5:j=bE.ooc[c];break a;case 4:j=bE.xca[c];break a;case 3:j=bE.wEb[c];break a;default:j=nx(c+1,j);break a}}return j;case cD:return nx(f[xq]()||24,j);case YD:return(f[hc]()%1E3/1E3)[tma](l.min(3,j))[nc](2)+(j>3?nx(0,j-3):I);case eD:return b.Hbb(j,d);case Kd:j=f[xq]();return bE.MCb[j>=12&&j<24?
1:0];case Yx:return nx(f[xq]()%12||12,j);case jD:return nx(f[xq]()%12,j);case aD:return nx(f[xq](),j);case dx:a:{c=d[Gq]();switch(j){case 5:j=bE.Tpc[c];break a;case 4:j=bE.Wpc[c];break a;case 3:j=bE.Vpc[c];break a;default:j=nx(c,1);break a}}return j;case ZD:a:{c=d[Cq]();switch(j){case 5:j=bE.Spc[c];break a;case 4:j=bE.Rpc[c];break a;case 3:j=bE.Upc[c];break a;default:j=nx(c+1,j);break a}}return j;case aE:c=l[rb](d[Cq]()/3);return j<4?bE.xEb[c]:bE.dEb[c];case Pd:return nx(d[iq](),j);case Xx:return nx(f[nr](),
j);case ki:return nx(f[Oq](),j);case Bz:j=(j=g)||OFa(c[sr]());return j.rhc;case ey:b=(b=g)||OFa(c[sr]());return j<4?b.wNa(c):b.Nga(c);case cy:b=(b=g)||OFa(c[sr]());return j<4?UFa(b,c):RFa(b.pZa-TFa(b,c));default:return I}}function cE(b,a){return Vxa(b,a)||a[hc]()-b[hc]()<432E5?WD(WFa,b)[od]():Xxa(b,a)?WD(XFa,b):WD(YFa,b)}function dE(b){return b.J(dg)}function eE(b){SA[z](this,b);this.n4=ZFa}function ZFa(b){var a=b.wa;b=KA(b);var c=b[yaa],d=b[ib];Ja(b,sd);ka(b,I);a=a[xk];Ja(b,c);ka(b,d);return a}
function aGa(b){bGa||(bGa=new VD(7));return WD(bGa,b)}function cGa(b){dGa||(dGa=new VD(0));return WD(dGa,b)}function eGa(b){var a=Zf();if(a<b)b=a;b=b;a=Zf();var c=l[rb]((a-b)/6E4),d=k;if(c<0){d=h;c*=-1}if(c<60)b=fGa(c,d,0);else{c=l[rb](c/60);if(c<24)b=fGa(c,d,1);else{c=(new Date)[sr]()*6E4;c=l[rb]((a+c)/864E5)-l[rb]((b+c)/864E5);if(d)c*=-1;b=c<14?fGa(c,d,2):I}}return b}function gGa(b,a,c){var d=b[hc](),f=eGa(d);if(f)f=xl+f+xh;return l[rb]((Zf()-d)/6E4)<1440?(a||aGa(b))+f:(c||cGa(b))+f}
var hGa=" minute ago",iGa=" minutes ago",fE="in ",jGa=" minute",kGa=" minutes",lGa=" hour ago",mGa=" hours ago",nGa=" hour",oGa=" hours",pGa=" day ago",qGa=" days ago",rGa=" day",sGa=" days";
function fGa(b,a,c){if(!a&&c==0){a=b+hGa;c=b+iGa;return b==1?a:c}else if(a&&c==0){a=fE+(b+jGa);c=fE+(b+kGa);return b==1?a:c}else if(!a&&c==1){a=b+lGa;c=b+mGa;return b==1?a:c}else if(a&&c==1){a=fE+(b+nGa);c=fE+(b+oGa);return b==1?a:c}else if(!a&&c==2){a=b+pGa;c=b+qGa;return b==1?a:c}else if(a&&c==2){a=fE+(b+rGa);c=fE+(b+sGa);return b==1?a:c}else return I}var tGa="<span ",gE='id="',hE='title="',uGa="idlink ",iE='class="',jE='" tabindex="0" role="link">';
function kE(b,a){var c=a||new U;c[R](tGa,b.id?gE+b.id+Zd:I,b[Pk]?hE+b[Pk]+Zd:I,b.tA?uGa:I,iE,b[uc]?b[uc]:Rd,jE,b.Ab,gB);if(!a)return c[t]()}var vGa="mA",lE="ms",wGa='">&gt;</div><div id="',xGa='">&lt;</div></div><div id="',yGa="mB",mE='"></div>',nE='<div id="',zGa='" class="mv"></div>';function AGa(b,a){var c=a||new U;c[R](X,vGa,yl,b.IMc,S,lE,wGa,b.PMc,S,lE,xGa,b.phb,S,yGa,mE,nE+b.pMc+zGa);if(!a)return c[t]()}
var BGa='<span class="my">',oE="</span> - ",CGa='<a class="e" href="',pE="<span>",DGa=' - <span class="mx">',EGa=' - <a class="',FGa="mz",qE='" href="',GGa="related articles",HGa="&nbsp;&raquo;</a>";function IGa(b,a){var c=a||new U;c[R](b[vq]?BGa+b[vq]+oE:I,b.PH?CGa+b.PH+W+b[Pk]+hB:b[Pk]?pE+b[Pk]+gB:I,b[qr]?pE+b[qr]+gB:I,b.Ob?DGa+b.Ob+gB:I);b.Utb&&c[R](EGa,FGa,qE,b.Utb,W,GGa,HGa);if(!a)return c[t]()}function JGa(b,a){var c=a||new U;kE({id:b.id,Ab:b.ke},c);if(!a)return c[t]()}var rE="fb";
function sE(b){BD[z](this,b,new eE(b));this.Lh=TD(b);this.Z=Rz(b);this.jb=JB(b);this.xf=fy(b);this.xl=tE(b);this.Jc();this.H().w(this.xf.ud,Fx(rE),this.C1c)}var uE="mt";function KGa(b,a,c){var d=b.wN[u]-1;if(a>d)b.xec=h;else{var f=b.wN[a];if(!f)e(Error(".115"));if(f.yo){f.TDa=Zf();LGa(f.yo,kD,f.TDa,f.Ara?0:1);MGa(f.yo,kD,f.Ara?1:0)}if(f.Ara){(new Image).src=f.Ara;f.Ara=i}if(a>0!=(b.MJ!=0))m(b.bsa,a>0?lE:uE);Q(b.M9a,f.Bg);Q(b.Y4,f.QAb);b.MJ=a;b.xec=k;NGa(b)}if(c&&d-a<1)DD()?vE(b.B()):OGa(b)}
var PGa="Loading clips";function OGa(b){var a=new zD(b.xf.ud,i);a.Ua(pd,rE);if(b.QFa&&(b.QFa.md()==wE||b.QFa.md()==xE))a.Ii(b.QFa.Bb());a.Se(PGa);if(!a.Na)a.Na={};a.Na.fn=h;b=QGa;if(!a.Na)a.Na={};a.Na.fv=b;a[Mb]()}var RGa="paddingLeft",SGa="paddingRight",yE="right",TGa="pixelRight";function NGa(b){if(L&&!vg(Ij)){var a=pw(b.Y4,Fm(b.Y4,RGa),sw,Xua),c=pw(b.Y4,Fm(b.Y4,SGa),yE,TGa);ka(b.M9a[x],b.Y4[Vk]-a-c)}}
function UGa(b,a){if(a<=0)return i;b=Zf();if(l[rb]((b-a)/864E5)<7){var c=eGa(a);if(c)return c}return cE(new Date(a),new Date(b))}function VGa(b,a,c,d,f,g){this.mic=b;this.QAb=a;this.Bg=c;this.iBd=d;this.Ara=f;this.yo=g}function WGa(b){this.ee={};if(b)for(var a=0;a<b[u];a++)this.ee[XGa(this,b[a])]=i}function XGa(b,a){return a in YGa||String(a)[Xc](0)==32?J+a:a}function ZGa(b){this.O=b}var aHa="adsconfig",bHa="acfg";
function cHa(b){Kx[z](this,aHa,Dx(Cx(b)));b=fy(b);this.Kk().w(b.ud,Fx(bHa),this.eYc)}function zE(b,a){BB[z](this,b,a)}function dHa(b){this.V=b;this.vv=dE(b)}var eHa="ad-";function AE(b){return new zE(EB,eHa+b,h,k)}function fHa(b){b.fjb=k}function BE(b,a,c,d,f){b.vv.jj(a,c+(d?Qd+d:I)+(f?Qd+f:I))}function CE(b){this.hsc=b}function gHa(b,a,c){this.Xv=b;this.id=a;this.ER=c;this.HJb={};this.yra={};this.vnb={};gHa[w].uA=0}var hHa="cv_n",iHa="cv_p",DE="tl",jHa="tl_i",kHa="tl_l",EE="sm",FE="rm";
function GE(b){return b.ER==OD?b.Z2a?hHa:iHa:b.ER==DE?b.Xv.fjb?jHa:kHa:b.ER==EE?EE:FE}function lHa(b,a){if(b.uA!=1)e(Error(".117`"+b.uA));b.uA=2;BE(b.Xv,a?mHa:nHa,GE(b))}function oHa(b,a,c,d){var f=GE(b);c>0&&BE(b.Xv,pHa,f,a,c);d>0&&BE(b.Xv,qHa,f,a,d)}function LGa(b,a,c,d){var f=b.uA;if(!Ke(b.vnb[a])){if(f<3)e(Error(".119`"+b.uA));b.vnb[a]=d;b.uA=4;var g=GE(b);f!=4&&BE(b.Xv,rHa,g,i,c-b.qhc);d>0&&BE(b.Xv,sHa,g,a,d);b.yra[a]&&b.yra[a]>0&&BE(b.Xv,tHa,g,a,b.yra[a])}}
function MGa(b,a,c){var d=b.uA;if(!Ke(b.yra[a])){if(d<3)e(Error(".120`"+d));b.yra[a]=c;Ke(b.vnb[a])&&c>0&&BE(b.Xv,tHa,GE(b),a,c)}}function uHa(b,a,c,d,f){c=a+Qd+c;if(!b.HJb[c]){if(b.uA!=4)e(Error(".121`"+b.uA));b.HJb[c]=h;if(d==IB)d=vHa;else if(d==Cz)d=wHa;else e(Error(".122"));BE(b.Xv,d,GE(b),a,f)}}function xHa(b,a,c){switch(b){case OD:return b+Qd+a+Qd+c;case DE:return b+Qd+c;default:return b}}var yHa="ak";
function HE(b,a){this.na=void 0;Bx(this);this.ob=a||new Gh;this.ob.X1(1E4);this.TFa=new Array(1);this.Jca=-1;this.w2a=new Hf;this.UFa=[];this.Xv=new dHa(b);this.Y2a=new cHa(b);Dx(Cx(b)).ha(this.Y2a);this.xf=fy(b);this.KHb=new WGa;this.w(this.xf.ud,Fx(yHa),this.gYc);this.aa.tb(b)}function zHa(b){b=AHa(b);return b!=i&&b.ER==EE}function AHa(b){return b.TFa[b.Jca]}var IE="ad",BHa="aav";
function CHa(b,a,c,d){var f=new Sh(Qj);a.uri=f;f.ka(pd,IE);f.ka(BHa,2);if(a.Z2a)f.ka(yHa,a.Z2a);else if(c&&d){f.ka(PD,c);Iy(d,f)}else return;b.aa.e4a(a);if(a.uA!=0)e(Error(".116`"+a.uA));a.uA=1;BE(a.Xv,DHa,GE(a));b.ob.Eb()?EHa(b,a):b.scc(a)}function EHa(b,a){b.UFa[p](a.id)}function JE(b,a){a=b.w2a.J(a);return Ke(a)?b.TFa[a]:i}var FHa="!";
function GHa(b,a,c){b.Jca=(b.Jca+1)%1;var d=b.TFa[b.Jca];if(d&&!Mf(d.id,FHa)){d.X0a&&b.ob[wc]();b.w2a[Pb](d.id);jf(b.UFa,d.id)}if(d=JE(b,a)){d.id=FHa+d.id;jf(b.UFa,a)}c=new gHa(b.Xv,a,c);b.TFa[b.Jca]=c;b.w2a.set(a,b.Jca);return c}function tE(b){return b.J(aD)}function HHa(){this.Lya=this.mxa=0;this.ob=new Gh;this.Q=new kn(this)}var IHa="exception",JHa="ex-name",KHa="ex-message",LHa="ex-",MHa="*** ",NHa=" ***";
function OHa(b,a,c){var d={},f=Ye(a);b.Wva(d,IHa,b.tRb(a),c);if(f){d[JHa]=Xe;d[KHa]=a}else for(c=0;c<PHa[u];c++){f=PHa[c];if(f in a){var g=LHa+f;try{d[g]=a[f]}catch(j){d[g]=MHa+j+NHa}}}b.X0b(d);return d}function QHa(){this.eO=[];this.hDa=[]}function RHa(b,a,c){za(this,b);this.sR=a;Sp(this,c||b)}function KE(b,a,c){c=c||Zf();var d=SHa[a];a=new RHa(a.lC(),c,d);THa(b,a,b.eO);THa(b,a,b.hDa)}function UHa(b,a,c,d){c=Ke(c)?c:Zf();THa(b,new RHa(a,c,d),b.eO)}
function THa(b,a,c){for(b=c[u]-1;b>=0;b--)if(a.sR>=c[b].sR)break;km(c,a,b+1)}function LE(b,a,c,d){this.xqa=b;this.C3a=a;this.V=c;this.mg=d;this.fFb=[];this.TR=new QHa}var VHa=".123`";function WHa(b,a,c){if(a[u]>c){ME.yI(Error(VHa+a));return k}return h}var NE="sv",XHa="ev",YHa="lo",OE="pf",PE="pn",QE="ps",RE="r",SE="rf",TE="ra",UE="rn",VE="rs",ZHa="mn",WE="mg",aIa="/S:";
function bIa(b){if(!b.bod)return i;var a;var c=b.hDa;a=b.Mu;if(c[u]){for(var d=[],f=0;f<c[u];f++){var g=c[f];d[p](g[Zb]);d[p](ei);d[p](g.sR-a);d[p](wj)}d.pop();a=d[kd](I)}else a=i;d=nea&&nea!=I&&b.IPc?[nea,b.Mu][kd](Md):i;f=b.jDa;g=b.kDa;c=new Hf;c.set(Bz,2);c.set(Kd,b.mg.lC());c.set(NE,qCa(b.Gld));c.set(XHa,qCa(b.WCc));c.set(IB,b.BAb);c.set(Rd,a);c.set(YHa,d);c.set(oy,f.Xyb[u]);c.set(OE,f.xfa);c.set(SD,f.PG);c.set(PE,f.JA);c.set(QE,f.jz);c.set(RE,g.Xyb[u]);c.set(SE,g.xfa);c.set(TE,g.PG);c.set(UE,
g.JA);c.set(VE,g.jz);c.set(ZHa,cIa(b,b.Uxa));c.set(WE,cIa(b,b.amb));b=[aIa];a=c.Sb();for(d=0;d<a[u];d++){f=a[d];if(g=c.J(f)){b[p](f);b[p](ei);b[p](Qf(g));b[p](Sf)}}b.pop();return b[kd](I)}function cIa(b,a){if(!a||a.Nb()==0)return i;b=[];for(var c=a.Sb(),d=0;d<c[u];d++){var f=c[d],g=a.J(f);b[p](f);b[p](xj);b[p](Qf(g));b[p](wj)}b.pop();return b[kd](I)}
function dIa(b,a){var c=b.vgb();this.eDd=b.C0-(c?0:1);if(c){this.rh=0;this.PG=b.Mda-b.Esa}else{this.rh=b.jm()?1:2;c=b.NQa;this.PG=c-b.Esa;c=b.Gsa-c;var d=b.vNa();d=d==-1?0:d;if(d>c)d=c;this.jz=d;this.JA=c-this.jz}a=this.A2b=l.max(a-b.Esa,0);if(a>0){c=l.min(a,this.PG);this.PG-=c;a-=c;c=l.min(a,this.JA);this.JA-=c;a-=c;c=l.min(a,this.jz);this.jz-=c;a-=c;if(a>0)this.A2b-=a}this.xEd=this.PG+this.JA+this.jz;this.qHa=b.zcb().qHb}function eIa(){this.Xyb=[]}
function fIa(b,a,c){this.Li=b;this.na=a;if(!c){c=new Sh("//www.google.com/images/cleardot.gif");bi(c)}this.Bf=c}var gIa="onLine";function hIa(b){b.J3a++;if(gIa in bp&&!bp[uma])Dh(G(b.tza,b,k),0);else{b.zr=new Image;cp(b.zr,G(b.zTa,b));oa(b.zr,G(b.XP,b));oma(b.zr,G(b.d2c,b));b.QI=Dh(b.e2c,b.Mba,b);b.zr.src=String(b.Bf)}}function iIa(b){if(b.zr){cp(b.zr,i);oa(b.zr,i);oma(b.zr,i);b.zr=i}if(b.QI){Eh(b.QI);b.QI=i}if(b.U0){Eh(b.U0);b.U0=i}}
function jIa(){this.Fv=new fIa(this.Wpb,this);this.Kwc=l[kb](51E3)+l[kb](18E3*l[Tc]())}var XE="images/cleardot.gif";function kIa(b,a){if((a?a:Zf())-b.zZb>b.Kwc){if(!b.Fv.Rwa()){a=new Sh(XE);bi(a);b.Fv.sYa(a);b.Fv[Rc]()}return h}return k}function YE(){this.zu=new fC;this.MAa=[];lIa(this,1E3);this.Loa=new Hf;this.pEa=[];this.Q=new kn}
function mIa(b,a){var c={};c.Uba=G(b.Hod,b);c.bQ=G(b.OTa,b);c.WH=G(b.WH,b);c.UIc=G(b.qfb,b);c.cfb=G(b.cIc,b);c.osc=G(b.ZFb,b);c.QBd=G(b.qGc,b);c.RBd=G(b.rGc,b);c.Acd=G(b.uVa,b);c.uFb=G(b.D2a,b);a.oM(c);b.pEa[p](a)}function lIa(b,a,c){if(c)b.yya=a;else{if(a<1E3)a=1E3;else if(a>3E5)a=3E5;b.yya=l[kb](0.85*a)+l[kb](0.3*a*l[Tc]())}}function nIa(b){var a=b.zu.Nb();b.ld&&a++;return a}function oIa(b,a,c){b.Loa.set(a,c)}var ZE="ACTIVE";
function pIa(b){b.ld.uc();b.N8=0;b.QSa=-1;var a=b.ld,c=Zf();if(a.Esa==-1)a.Esa=c;a.NQa=c;a.C0++;try{b.EG(ZE);b.GAb()}catch(d){e(d)}}var qIa=";4";function rIa(b){try{b.ld.Gsa=Zf()}catch(a){rg(tg,qIa,a);b.Vka=a}}var sIa=";5";function tIa(b,a){try{b.ld.wWa=new bFa(new aFa(a))}catch(c){rg(tg,sIa,c);b.Vka=c}}function uIa(b,a){b.xOb=a}var vIa="RETRY_TIMER";function wIa(b){if(b.qa==vIa){if(b.Lv){cA(b.Lv);b.Lv=0}pIa(b)}}function xIa(b){if(b.Mw){cA(b.Mw);b.Mw=i}}function yIa(b){b.NCc=h}var zIa="nrt",AIa="rhma";
function BIa(b){var a=b.ld;a.Ua(zIa,a.C0);b=b.YR.wRb();b!=i&&a.Be(AIa,b)}function CIa(b,a){N[z](this,b);this.f0a=a}function DIa(b){this.V=b;this.rPb=k;this.Q=new kn(this);this.OUa=[];this.xf=fy(b);this.Q.w(this.xf.ud,XD,this.VJc);this.Q.w(VC(b),cC,this.gqb)}function aF(b){return b.J(ii)}function EIa(b){if(b.Csa){cA(b.Csa);b.Csa=i}}function FIa(b){var a=b.xf.ud.P5();if(a&&b.qia()&&b.ukb!=a){b.ukb=a;b.Bdd(a)}}var GIa="7.0";
function HIa(b){if(b.OUa[u]!=0){var a=mi(Uj,I);a=a;for(var c=b.OUa,d=c[u],f=3950-a[u],g=0;g<d&&f>=c[g][u];){f-=c[g][u];g++}a+=pf(c,0,g)[kd](I);a=a;ax(Uj,a,86400);if(L&&bg(wg,GIa)<0){for(c=[];!mi(Uj,void 0);){d=a[u]<100?0:a[Sc](aIa,a[u]-100);if(d<1)break;c[p](a[Zc](d));a=a[Zc](0,d);ax(Uj,a,86400)}df(pf,b.OUa,0,0)[cd](i,c)}}}function IIa(){this.zCa=new Hf;this.Hxb={}}function JIa(b,a,c){this.jna=b;this.key=a;this.Ied=c||k}function bF(b){this.Q=new kn(this);this.JU=[];this.eBa=b.J(Ky)}
function KIa(b){this.na=new kn(this);b&&LIa(this,b)}function LIa(b,a){b.na.w(a,ae,b.Y8c);b.na.w(a,Xd,b.X8c)}function cF(b){pA[z](this,b)}function dF(b){pA[z](this,b)}function eF(b,a){b.Lca(a,b.qj())}function fF(b,a){pA[z](this,b);this.yjc=a}function gF(b,a){fF[z](this,b,Wx);this.Igc=!!a}function MIa(b,a,c,d,f){this.id=b;this.caption=a;this.iMb=c;this.foa=d;this.Fbc=f}function NIa(b){this.jAa={};this.n8b={};this.V=b;this.m8b={}}function hF(b){return b.J(Wx)}var OIa="R";
function PIa(b,a){b.jAa[a.id]=a;for(var c=0;c<a.foa[u];c++)b.n8b[a.foa[c]]=a;b[r](OIa)}function QIa(b,a){return b.jAa[a]}var RIa="lz",SIa="<span>Build label: ",TIa="</span> &nbsp; ",UIa="<span>Compile Mode: ",iF="</span></div>";function VIa(b,a){var c=a||new U;c[R](X,RIa,W,b.dIb?SIa+b.dIb+(b.bIb>0?gg+b.bIb+xh:I)+TIa:I,UIa,b.UQc,iF);if(!a)return c[t]()}function WIa(){this.Q=new kn(this)}function XIa(b,a){N[z](this,b);this.Pg=a}function jF(b){return b.J(eo)}
function kF(b,a){uf(YIa,function(c){this.Q.w(a,c,this.lka)},b)}function ZIa(b,a){uf(YIa,function(c){this.Q.hb(a,c,this.lka)},b)}function lF(b){pB[z](this,b,36,20);this.Z=Rz(b);this.XA=new Hf}function mF(b){this.Db=b;this.Mb=jF(b);this.dX=Xj;this.pQ=this.dX.x4;this.xf=fy(b)}function aJa(b){var a=Mx().Gn(48,b);b[kq](Yj,a);return a}function nF(b){return b.J(Yj)}function bJa(b){b.dX[pb](cJa(b,b.pQ),G(b.N7c,b))}var oF="ss";function cJa(b,a){return(new Sh(aga)).ka(pd,oF).ka(rd,a).ka(LD,Fi)}
function pF(b,a,c){this.dE=b?b.cb():ea;this.ey=a||I;this.kzb=c}var dJa="nowrap";function qF(b){if(!b.wg){b.wg=b.dE[Qb](T);m(b.wg,b.ey);ema(b.wg[x],dJa);rp(b.wg[x],GA);if(b.kzb)for(var a in b.kzb)b.wg[x][a]=b.kzb[a];Fa(b.wg[x],yd);ka(b.wg[x],HA);Ua(b.wg[x],I);b.dE[Lc][o](b.wg)}return b.wg}
function eJa(b,a,c,d,f,g){if(b&&a){var j=a;a=new pF(c,f,g);var n=qF(a);ka(n[x],j);j=n[vc]||n[xk];a.D();a=j;j=b=Ew(b);n=b[u];c=new pF(c,f,g);f=qF(c);c.gp(j);for(g=f[bl]||f[vc];g>a&&n>0;){j=b[nc](0,--n)+(d?lg:I);c.gp(j);g=f[bl]||f[vc]}c.D();return Wf(j)}else return b}function fJa(b,a,c,d){a=new pF(a,c,d);a.gp(b);b=qF(a);b=b[bl]||b[vc];a.D();return b}function rF(b,a){fF[z](this,b,vA);this.lmd=!!a}function sF(b){gF[z](this,b)}function gJa(b,a,c){Ta(this,b);ama(this,a);this.yn=c}
function hJa(b){if(!b.Ohc)b.Ohc=b.b()[Tb];return b.Ohc}function iJa(b){if(!b.zAb)b.zAb=hJa(b)[x];return b.zAb}function jJa(b){if(!b.wAb)b.wAb=hJa(b)[Tb];return b.wAb}function kJa(b){if(!b.vAb)b.vAb=jJa(b)[x];return b.vAb}function lJa(b){if(!b.yAb)b.yAb=hJa(b)[cc][1];return b.yAb}function mJa(b){if(!b.xAb)b.xAb=lJa(b)[x];return b.xAb}function nJa(b){if(!b.uAb)b.uAb=hJa(b)[cc][2];return b.uAb}function oJa(b){if(!b.Nhc)b.Nhc=nJa(b)[x];return b.Nhc}
function pJa(b){if(!b.Okb)b.Okb=b.b()[cc][1];return b.Okb}function qJa(b){if(!b.bvb)b.bvb=pJa(b)[Tb];return b.bvb}function rJa(b){if(!b.U6a)b.U6a=qJa(b)[Tb];return b.U6a}function sJa(b){if(!b.R6a)b.R6a=rJa(b)[Tb];return b.R6a}function tJa(b){if(!b.QHb)b.QHb=b.b()[cc][3];return b.QHb}function uJa(b){if(!b.C4a)b.C4a=tJa(b)[x];return b.C4a}function vJa(b){if(!b.y4a)b.y4a=tJa(b)[Tb];return b.y4a}function wJa(b){if(!b.x4a)b.x4a=vJa(b)[x];return b.x4a}
function xJa(b){if(!b.B4a)b.B4a=tJa(b)[cc][1];return b.B4a}function yJa(b){if(!b.A4a)b.A4a=xJa(b)[x];return b.A4a}function zJa(b){if(!b.w4a)b.w4a=tJa(b)[cc][2];return b.w4a}function AJa(b){if(!b.OHb)b.OHb=zJa(b)[x];return b.OHb}
var BJa="padding:",tF="px ",CJa="px;margin:",DJa="px 0px",EJa='" style="height:',FJa=";display:",GJa='dir="ltr"',uF='><div class="',HJa="ph p",vF='" style="width:',wF='"></div><div class="',IJa="ph q",JJa="l o",xF='"></div></div><div class="',KJa="l m",LJa="l n",MJa='" style="margin-left:',yF='" style="',NJa="diLZtc",OJa='"></div></div></div></div><div class="',zF="dJ",PJa="ph i",QJa="ph j",RJa="l h",AF='"></div></div>';
function SJa(b,a,c,d,f,g,j,n){f=[BJa,l.max(0,f),tF,l.max(0,g),tF,l.max(0,j),tF,l.max(0,n),CJa,l.min(0,f),tF,a+l.min(0,g),tF,l.min(0,j),DJa][kd](I);b={gYb:k,borderTop:NA(b),borderBottom:NA(c),borderLeft:NA(d),borderRight:NA(a),zBc:b==0?xd:I,uBc:c==0?xd:I,Oyc:f,yad:d+l.min(0,n)+Jm};a=new U;a[R](X,Dz,EJa,b.borderTop,FJa,b.zBc,Vf,b.gYb?GJa:I,uF,HJa,vF,b.borderLeft,wF,IJa,vF,b.borderRight,wF,JJa,xF,KJa,wl,LJa,MJa,b.yad,wl,cD,yF,b.Oyc,wl,NJa,OJa,zF,wF,Dz,EJa,b.borderBottom,FJa,b.uBc,Vf,b.gYb?GJa:I,uF,PJa,
vF,b.borderLeft,wF,QJa,vF,b.borderRight,wF,RJa,AF);b=a[t]();return b}function TJa(b,a,c,d,f){if(!(b.AG==a&&b.Zu==d&&b.zG==c&&b.yG==f))if(b.wa){yA++;try{if(b.zG!=c||b.yG!=f)b.Ui(vA);if(b.AG!=a||b.Zu!=d)b.Ui(Wx);b.AG=a;b.zG=c;b.Zu=d;b.yG=f;b.JHa=h}finally{zA()}}else{b.AG=a;b.zG=c;b.Zu=d;b.yG=f}}
function UJa(b,a,c,d,f){if(!(b.CL==a&&b.AL==d&&b.paddingRight==c&&b.BL==f))if(b.wa){yA++;try{if(b.gQ!=c||b.BL!=f)b.Ui(vA);if(b.CL!=a||b.AL!=d)b.Ui(Wx);b.CL=a;b.gQ=c;b.AL=d;b.BL=f;b.JHa=h}finally{zA()}}else{b.CL=a;b.gQ=c;b.AL=d;b.BL=f}}
function VJa(b){if(b.JHa){var a=b.W8b,c=b.V8b,d=b.T8b,f=b.U8b,g=b.e9b,j=b.d9b,n=b.b9b,s=b.c9b,v=!Ke(a),C=b.W8b=b.AG,M=b.V8b=b.zG,Y=b.T8b=b.Zu,ha=b.U8b=b.yG,tb=b.e9b=b.CL,zc=b.d9b=b.gQ,qb=b.b9b=b.AL,nd=b.c9b=b.BL;if(v||C!=a){if(a==0)Ua(iJa(b),I);if(C==0)Ua(iJa(b),xd);else Wa(iJa(b),NA(C))}if(v||Y!=d){if(d==0)Ua(uJa(b),I);if(Y==0)Ua(uJa(b),xd);else Wa(uJa(b),NA(Y))}if(v||M!=c){a=NA(M);ka(mJa(b),a);ka(yJa(b),a)}if(v||ha!=f){a=NA(ha);ka(kJa(b),a);ka(wJa(b),a)}if(!b.T6a)b.T6a=rJa(b)[x];a=b.T6a;if(v||tb!=
g&&(tb>0||g>0))a.paddingTop=l.max(0,tb)+Jm;if(v||zc!=j&&(zc>0||j>0))a.paddingRight=l.max(0,zc)+Jm;if(v||qb!=n&&(qb>0||n>0))a.paddingBottom=l.max(0,qb)+Jm;if(v||nd!=s&&(nd>0||s>0))dma(a,l.max(0,nd)+Jm);if(v||tb!=g&&(tb<0||g<0))Zla(a,l.min(0,tb)+Jm);if(v||M+l.min(0,zc)!=c+l.min(0,j))Np(a,M+l.min(0,zc)+Jm);if(v||qb!=n&&(qb<0||n<0))a.marginBottom=l.min(0,qb)+Jm;if(v||ha+l.min(0,nd)!=f+l.min(0,s)){if(!b.avb)b.avb=qJa(b)[x];lp(b.avb,ha+l.min(0,nd)+Jm)}if(L&&!vg(Ij)){if(v&&ha<3||ha!=f&&(ha<3||f<3))Np(kJa(b),
Np(wJa(b),l.max(-ha,-3)+Jm));if(v&&M<3||M!=c&&(M<3||c<3))lp(mJa(b),lp(yJa(b),l.max(-M,-3)+Jm));if(v||ha!=f&&(ha>0&&ha<=3||f>0&&f<=3))lp(oJa(b),lp(AJa(b),(ha>3?0:ha)+Jm));if(v||M!=c&&(M>0&&M<=3||c>0&&c<=3))Np(oJa(b),Np(AJa(b),(M>3?0:M)+Jm))}b.JHa=k}}function BF(b,a){AD[z](this,new sF(b));this.ia.JXa(CF);this.yJa=Ke(a)?a:15}function DF(b,a,c){var d;if(c==0)d=h;else{d=a[Ck]==a[rl]||!(c&1||c&4)||!(c&2||c&8);d=(a.top==a[fl]||!(c&1||c&2)||!(c&4||c&8))&&d}if(d){b.ia.JXa(a);b.yJa=c}}
function WJa(){this.Zma=new Swa(5)}function XJa(b){var a=0,c=b.Zma.Nb();if(c){for(var d=0;d<c;d++)a+=b.Zma.J(d);return a/c}return 0}function YJa(b){this.V=b;this.J3=new WJa;this.Fv=new jIa}var ZJa="Oops... the system encountered a problem (#999) - Retrying in 999s...";function aKa(b,a){b=a||new U;b[R](ZJa);if(!a)return b[t]()}var bKa="Retry Now.  Learn more.";function cKa(b,a){b=a||new U;b[R](bKa);if(!a)return b[t]()}
var dKa="vZ",eKa="v5",fKa="v4",EF='"><span class="',gKa="v1",hKa="Oops&hellip; the system encountered a problem (#",iKa="Oops&hellip; the system encountered a problem",jKa="Retrying in ",kKa="&hellip;",lKa="Retrying now&hellip;",Z="</div>";function mKa(b,a){var c=a||new U;c[R](X,dKa,J,eKa,J,fKa,EF,gKa,W);b.NG?c[R](hKa+(b.NG+xh)):c[R](iKa);c[R](oE);b.xla?c[R](jKa+(b.xla+kKa)):c[R](lKa);c[R](Z);if(!a)return c[t]()}var nKa="Unable to reach ",oKa=". Please check your internet connection. Connecting in 999s...";
function pKa(b,a){b=a||new U;b[R](nKa+(Ji+oKa));if(!a)return b[t]()}var qKa="Try Now.";function rKa(b,a){b=a||new U;b[R](qKa);if(!a)return b[t]()}var sKa='<span class="v1">',tKa=".</span> ",uKa="Please check your internet connection.",vKa="Connecting in ",wKa="Trying to reconnect now&hellip;";function xKa(b,a){var c=a||new U;c[R](X,dKa,J,eKa,J,fKa,W,sKa+(nKa+(Ji+tKa)),uKa,J);b.xla?c[R](vKa+(b.xla+kKa)):c[R](wKa);c[R](Z);if(!a)return c[t]()}var yKa="v0",zKa="v2 e",AKa="Retry now",BKa='  <a target="_blank" href="';
function CKa(b,a){var c=a||new U;c[R](X,yKa,W);b.xla&&kE({id:b.hic,className:zKa,Ab:AKa},c);b.io&&c[R](BKa,b.io,W,eB,hB);c[R](Z);if(!a)return c[t]()}var DKa="Try now";function EKa(b,a){var c=a||new U;b.xla&&kE({id:b.hic,className:zKa,Ab:DKa},c);if(!a)return c[t]()}var FKa="v3";function GKa(b,a){var c=a||new U;c[R](X,dKa,J,FKa,EF,gKa,W,b.ke,iF);if(!a)return c[t]()}var HKa="vX";
function IKa(b,a){BD[z](this,b,new BF(b,12));this.mQc=a;this.Y=qC(b).W();this.Lb=Tz(b);this.cnb=b.J(Cz);this.fc=dC(b);K(this.ia.b(),HKa);a=new rF(b);a.Qr(-1);this.ia.so(a);var c=G(this.nUc,this);this.EP=new eE(b);this.EP.Qr(-1);this.EP.n4=c;this.EP.qe();this.v1=new eE(b);this.v1.Qr(-1);this.v1.n4=c;this.v1.qe();eF(a,[this.EP,this.v1]);this.H().w(a.b(),P,this.He);(this.Fv=this.cnb.Fv)&&this.H().w(this.Fv,ZD,this.Wpb);this.Ck=VC(b);this.H().w(this.Ck,cC,this.gqb);this.qc(k);this.xf=fy(b)}
function JKa(b){b.Pa()}var KKa=":9";function LKa(b,a,c){if(b.hca){if(c+a<b.FSa){cA(b.hca);b.hca=bA(KKa,b.R6b,a,b);b.FSa=c+a}}else{b.hca=bA(KKa,b.R6b,a,b);b.FSa=c+a}}var FF="OK",MKa="SLOW";function NKa(b,a){var c=b.xf.ud.jNa(),d;if(c[u]==0)d=FF;else{d=6E4;var f=15E3;if(b.qa==MKa){d/=2;f/=2}for(var g=FF,j=0;j<c[u];j++){var n=c[j];if(a-n.Mu>=(n.gia?d:f))g=MKa}d=g}b.EG(d,a);c[u]&&LKa(b,1E4,a);return d!=FF}
function OKa(b){for(var a=i,c=b.Ck.sK(),d=0;d<c[u];d++)if(c[d].ts()<4){var f=c[d],g;if(f.B)g=jA(f.B(),cC);else{var j=f.rv();if(j&&j.B)g=jA(j.B(),cC)}if(!g&&b.mQc||b.fc==g){a=f;break}}return a}var PKa="LOADING";function QKa(b,a){var c=OKa(b);if(c==i)return k;b.Iaa=c.kua();b.p_b=c.Nf();if(b.p_b){b.EG(PKa,a);return h}return k}function RKa(b){var a={ke:b.p_b};Q(b.EP.b(),GKa(a));Q(b.v1.b(),I)}function SKa(b){var a={ke:b.Iaa};Q(b.EP.b(),GKa(a));Q(b.v1.b(),I)}var TKa=":10";
function UKa(b){this.na=void 0;this.AAa=I;this.Sh=[];this.fc=dC(b);this.ab=new aA(TKa,2E3);this.w(this.ab,yj,this.MWc)}function VKa(b,a){this.id=b;this.ke=a}function WKa(b,a){ik(eC(b.fc)[yc],a)}var GF="sa";function XKa(b){return b.J(GF)}function HF(b){this.Bc=b}var IF="C",YKa="vY",ZKa="Error ",JF="V",KF="ba",aLa="beforeaction",LF="ga",MF="lc";
function NF(b){Bx(this);BD[z](this,b,new gF(b));b[kq](IF,this,h);this.XF=XKa(b);this.Aa=Dx(Cx(b));this.xB=sC(b);this.jNb=qC(b);this.xl=tE(b);this.Aad=qC(iA(b));this.xf=fy(b);this.Bd=rD(b);this.qUa=rD(iA(b));this.dda=VC(b);this.H().w(jF(b),Cz,this.Bob);this.H().w(this.dda,cC,this.fqb);this.Xdc=k;this.mw=aF(this.B());this.C_a=new KIa(this.mw);this.xB.lf();var a=this.xf.ud,c=iA(this.B()),d=qC(c).W().ba(T,{className:YKa});this.zcc=d;this.qUa.Zf[o](d);var f=this.Aad.Fp();f=new xA(c,new EA(pm(f)),ZAa());
f.B_a=ZKa;d[o](f.b());f.ma();ZC(dC(c).Ec(),f);var g=dC(this.B()).Ec()==UC(RC(this.B()));this.did=d=new IKa(c,g);d.Qr(-1);g&&uIa(a,d);a=new rF(c);a.ha(new cF(c));a.ha(d);a.ha(new cF(c));f.so(a);this.H().w(d,JF,this.Pic);this.Pic();this.JD();this.H().w(this,KF,this.uka);this.H().w(this,aLa,this.JYc);this.H().w(b.Ya(),jD,this.qTa);this.H().w(this.xf.ud,Gx(wo),this.Wdc);Fh&&this.H().w(this,LF,this.s0c);this.H().w(this.xf.ud,Fx(MF),this.Epb);O.S().Lr(Kh,G(this.FTa,this));c=hF(b);a={mail:100,contacts:90};
for(var j in a)c.m8b[j]=a[j];j=new bF(b);b[kq](oy,j);try{yA++;Mx().Kh(5,this)}finally{zA()}}function bLa(b,a){if(!b.w8a){b.w8a=new gF(b.B());b.ia.ha(b.w8a)}b.w8a.ha(a)}function cLa(b){b=new eE(b.B());Q(b.b(),VIa({dIb:Ei,bIb:gea,UQc:Wla}));return b}function dLa(b){var a=OF.J();a=tm(a);b=Rz(b)[hq](Pz);for(var c=0;c<b[u];c++)a[b[c][1]]=b[c][0];return a}function PF(b){for(;b;){if(b instanceof NF)return b;b=b.rv()}return i}function QF(b,a,c){(b=PF(b))&&b.Ox(a,c)}function eLa(b){aF(b.B()).s5a()}
var RF="W";function SF(b,a){N[z](this,RF,b);Gp(this,a)}function TF(b,a,c,d){N[z](this,a,b);this.q9=Ke(c)?c:i;this.Qza=Ke(d)?d:i}var UF="ca";function fLa(b,a,c,d,f,g,j){N[z](this,UF,b);jaa(this,a);this.vb=c;ok(this,d);this.czc=f;this.jCd=!!g;this.HPb=!!j}function gLa(b){var a=[];hLa(b,a,iLa);return a[kd](Sf)}var jLa="fieldset",VF="file",kLa="select-multiple",WF="image",lLa=".x",mLa=".y";
function hLa(b,a,c){for(var d=b.elements,f,g=0;f=d[g];g++)if(!(f[Uk]||f[ed][od]()==jLa)){var j=f[ec];switch(f[Zb][od]()){case VF:case oj:case Gka:case jo:break;case kLa:f=nLa(f);if(f!=i)for(var n,s=0;n=f[s];s++)c(a,j,n);break;default:n=nLa(f);n!=i&&c(a,j,n)}}d=b[ic](zm);for(g=0;f=d[g];g++)if(f[sk]==b&&f[Zb][od]()==WF){j=f[ec];c(a,j,f[q]);c(a,j+lLa,Ah);c(a,j+mLa,Ah)}}function iLa(b,a,c){b[p](aa(a)+ei+aa(c))}
function oLa(b){b=b.elements;for(var a,c=0;a=b[c];c++)if(!a[Uk]&&a[Zb]&&a[Zb][od]()==VF)return h;return k}var XF="checkbox",pLa="radio",qLa="select-one";function nLa(b){var a=b[Zb];if(!Ke(a))return i;switch(a[od]()){case XF:case pLa:return b[Mq]?b[q]:i;case qLa:a=b[Hq];return a>=0?b[br][a][q]:i;case kLa:a=[];for(var c,d=0;c=b[br][d];d++)c[gq]&&a[p](c[q]);return a[u]?a:i;default:return Ke(b[q])?b[q]:i}}function YF(){}
function rLa(b,a,c){switch(b){case 1:case 3:return 8;case 4:return a;case 7:return 100;case 6:return c||0;case 8:return 101;case 5:return 9;default:return 102}}function ZF(){this.ob=new Gh;ih(this.ob,Hh,this.cva,k,this);ih(this.ob,Ih,this.YUb,k,this)}function sLa(b,a){if(b=a.RC){var c=new U;Ef(b,function(d,f){c[R](Qf(f),ei,Qf(d),Sf)});return c[t]()}else if(a.QC)return gLa(a.QC);return I}function tLa(b){this.V=b;this.iQ=new fC;this.wVa=new fC}var uLa="STARTED",vLa="drqchanged";
function wLa(b){if(!b.iQ.nd())if(!b.tWb)if(!b.uRa){if(b.xt){var a=b.xt.xc();if(a==YBa)b.xt=i;else if(a==VBa&&!b.xt.Eg())b.xt=i;else return}b.tWb=h;try{for(;!b.xt&&!b.iQ.nd();){var c=b.iQ.ly();if(c.h2a){b.xt=c;c.Eg()||XBa(c);UBa(c,new nB(i,100));aCa(c)}else{c.qa=uLa;QBa(PBa(c.V)).a6c(c);TBa(c,IB);lB(c,1);var d=new zD(c.Hn);c.Ja(d);b.xt=c;d[Mb]();var f=b.xt;f.Lc=d;f.Eg()||XBa(f)}}}finally{b.tWb=k}b[r](vLa)}}function aG(b){this.Cu=b;this.ela=new Hf}function xLa(b,a){b.ela[Pb](a.Je())}var yLa="INVALID";
function zLa(b,a){for(var c=Zf(),d=b.ela.Sb(),f=0;f<d[u];f++){var g=d[f],j=b.ela.J(g),n=k,s=c-j.Hkb;if(a)n=h;else if(j.zMa()==yLa&&s>=ALa)n=h;else if(s>=BLa)n=h;if(n){b.ela[Pb](g);j.Pc||j.D()}}}function bG(){this.HD=0;this.GEa=new Hf;this.bFa={}}function CLa(b,a,c){for(var d=0;a!=i;){if(!(a.hC()&32)){d==0&&DLa(b,a.Je(),c);d==1&&DLa(b,a.pua(),c);d>0&&DLa(b,a.SQb(),c)}a=a.ac();d++}}function DLa(b,a,c){if(b.HD>0)Pwa(b,a,k)&&ELa(b,a,c);else jx(b,a,k,new FLa(a,[c],b.bFa))}
function ELa(b,a,c){var d=b.GEa.J(a);d?hf(d,c):b.GEa.set(a,[c])}function FLa(b,a,c){za(this,b);this.dG=a;this.aJ=c||i}function KLa(b,a){hy[z](this,b,i);this.g1=a;this.Fh=new bG;this.YY=[]}function LLa(b){this.V=b;this.jb=JB(b);this.E9=hF(b);this.Na={}}function MLa(){}var cG="Ba";function NLa(b,a,c){N[z](this,cG,b);this.NCd=b;this.lDd=a;this.knb=c}function dG(b){return b.J(vA)}function OLa(b,a){var c=b.Na[a.id];if(!c){c=new MLa;b.Na[a.id]=c}return c}function PLa(b){this.Xp=b}
function eG(){YE[z](this);Bx(this)}function QLa(b,a){b.Nhd=a}var fG="act";function RLa(b){b=b.jNa();for(var a=0;a<b[u];a++){var c=b[a];if(c.Rc(fG)){var d=c.H();if(d&&d.f5a){if(d.f5a())continue}else if(d&&c.xG.H().f5a())continue;return h}}return k}function _A(){return arguments[u]==1&&mm(arguments[0])?[arguments[0]]:top.Array[cd](i,arguments)}function SLa(b,a){this.vv=dE(b);this.xDc=a}var TLa="closure_frame";function gG(){this.Jb=TLa+ULa++;this.Kva=[];VLa[this.Jb]=this}var WLa="_inner";
function XLa(b,a){b=Nf(b[ec],WLa)?b[Oc][ec]:b[ec];var c=VLa[b[Zc](0,b[Sc](mg))];c&&b==c.A_&&c.qfb(a)}function YLa(b,a){Ef(a,function(c,d){c=Aw(zm,{type:yd,name:d,value:c});b[o](c)})}function ZLa(b,a,c,d){if(b.ng)e(Error(".136"));c=new Sh(c||a[jr]);d&&bi(c);b.c8=c;b.Nh=a;Op(b.Nh,c[t]());aMa(b)}var hG="10px",bMa="-10px",cMa="<body><iframe id=",dMa=" name=",eMa="></iframe>",iG="textarea";
function aMa(b){b.ng=h;b.gy=k;b.eo=0;b.A_=b.Jb+mg+(b.IWc++)[t](36);var a={name:b.A_,id:b.A_};if(L&&wg<7)a.src=xDa;b.xe=Aw(Td,a);a=b.xe[x];Fa(a,yd);ka(a,Wa(a,hG));if(Jg)Zla(a,lp(a,bMa));else{Ja(a,sd);a.top=ck(a,bMa)}if(L){Pa(b.Nh,b.A_||I);ea[Lc][o](b.xe);ih(b.xe,Lh,b.kpb,k,b);try{b.wab=k;b.Nh.submit()}catch(c){nh(b.xe,Lh,b.kpb,k,b);b.Po(1)}}else{ea[Lc][o](b.xe);a=b.A_+WLa;var d=om(b.xe),f=cMa+a+dMa+a+eMa;if(Ng)Q(d[mc],f);else d[nq](f);ih(d[ub](a),rj,b.hza,k,b);var g=b.Nh[ic](iG);f=0;for(var j=g[u];f<
j;f++)dh(g[f])!=g[f][q]&&ah(g[f],g[f][q]);g=d.importNode(b.Nh,h);Pa(g,a);d[Lc][o](g);var n=b.Nh[ic](nj),s=g[ic](nj);f=0;for(j=n[u];f<j;f++)xp(s[f],n[f][Hq]);n=b.Nh[ic](zm);s=g[ic](zm);f=0;for(j=n[u];f<j;f++)if(n[f][Zb]==VF)if(n[f][q]!=s[f][q]){Pa(b.Nh,a);g=b.Nh;break}try{b.wab=k;g.submit();d[Xk]();if(Fh)b.nPb=Dh(b.ehc,250,b)}catch(v){nh(d[ub](a),rj,b.hza,k,b);d[Xk]();b.Po(2)}}}function fMa(b){var a=b.xe;gMa(b);hMa(b);bda(Nh,a);try{b[r](Ih)}finally{cda(Nh)}}
function gMa(b){var a=b.xe;if(a){ja(a,i);cp(a,i);oa(a,i);b.Kva[p](a)}if(b.y_){Eh(b.y_);b.y_=i}if(Fh||Ng)b.y_=Dh(b.l9a,2E3,b);else b.l9a();b.xe=i;b.A_=i}function hMa(b){b.Nh&&b.Nh==jG&&Pg(b.Nh);b.Nh=i}function iMa(b){if(b.xe)return om(jMa(b));return i}function jMa(b){if(b.xe)return L?b.xe:om(b.xe)[ub](b.A_+WLa);return i}var kMa="incrementaldata";function lMa(b){N[z](this,kMa);ma(this,b)}
function mMa(){this.tv=new gG;this.tv.rab=nMa;ih(this.tv,Hh,this.mUb,k,this);ih(this.tv,Ih,this.oUb,k,this);ih(this.tv,kMa,this.nUb,k,this)}function nMa(b){b=pm(b);var a=i;if(Ke(b.gmail_error))a=700+b.gmail_error;else if(Ke(b.rc))a=Tj+b.rc;return a}function kG(b){return bg(oMa,b)>=0}function pMa(){this.NUa=[];this.u9=new Hf}function qMa(b,a){if(rMa(b,a)){var c=b.u9.J(a);b.u9.set(a,c?c+1:1)}}function rMa(b,a){if(!a||a[Db](Md)>=0)return k;return h}var lG="GMAIL_IMP",sMa="%2F";
function tMa(b){var a=!b.u9.nd();if(b.NUa[u]>0||a){var c=[];of(c,b.NUa);a&&of(c,uMa(b));(a=mi(lG,void 0))&&a!=I&&c[p](Rf(a));c=Qf(c[kd](Md));if(c[u]>3950){c=c[Zc](0,c[Sc](sMa,3950));Rf(c)}ax(lG,c,86400);if(L&&bg(wg,GIa)<0){for(;!mi(lG,void 0);){if(c[u]<100){c=I;break}c=c[Zc](0,c[Sc](sMa,c[u]-100));ax(lG,c,86400)}Rf(c)}b[bc]()}}function uMa(b){for(var a=[],c=b.u9.Sb(),d=0;d<c[u];d++){var f=c[d];a[p](f+Qd+b.u9.J(f))}return a}
function vMa(b){b.pb(mG?wMa:xMa);var a=Mg(),c=new U(a[ib]);c[R](Qd);c[R](a[id]);b.jj(yMa,c[t]())}function nG(b){return new zE(EB,b,k,k)}function oG(b){return new zE(EB,b,h,k)}function pG(b){return new zE(EB,b,k,h)}function zMa(){this.Q=new kn(this)}function AMa(){BMa=this}function CMa(b,a,c,d,f){var g=new eG;g.J3=a;g.Fv=c;g.Fv&&g.Q.w(g.Fv,ZD,g.CIa);a=new ZF;mIa(g,a);if(d&&!mga){d=new mMa;top[f]=XLa;top[f]=og(zga,top[f]);mIa(g,d)}b.Y0b(g);return g}var DMa="legacycontacts";
function qG(b){return jA(b,DMa)}var EMa="pcab";function rG(b){return(b=jA(b,DMa))&&b.dcb(EMa)}function sG(b,a,c){this.uE=b;this.Jb=a;this.BKb=new cg(c)}function FMa(b){if(!b.aPb)b.aPb=new cg(b.uE);return b.aPb}var GMa="hilite",HMa="canceldismiss",tG="dismiss";function uG(b,a,c){this.wj=b;this.JF=c;this.Kc=a;ih(a,[GMa,nj,HMa,tG],this);this.pz=i;this.Rg=[];this.Hy=-1;this.aC=0;this.ZD=this.zf=i}
function IMa(b){if(b.Hy>=b.aC&&b.Hy<b.aC+b.Rg[u]-1){b.mU(b.Hy+1);return h}else if(b.Hy==-1){b.mU(b.aC);return h}return k}function JMa(b){if(b.Hy>b.aC){b.mU(b.Hy-1);return h}else b.GGa&&b.Hy==b.aC&&b.mU(-1);return k}function KMa(b){if(!b.ZD)b.ZD=ba[xc](G(b.nw,b),100)}function LMa(b){ba[xc](G(function(){if(this.ZD){ba[gb](this.ZD);this.ZD=i}},b),10)}function vG(b,a){a=a-b.aC;if(a<0||a>=b.Rg[u])return-1;return a}
function wG(b,a){if(xG(b))b.selectionStart=a;else if(L){var c=MMa(b),d=c[0];if(d[vk](c[1])){a=NMa(b,a);d[tk](h);d[Ak](zl,a);d[Fk]()}}}function yG(b){return OMa(b,h)[0]}var PMa="EndToStart",QMa="StartToEnd",RMa="\r\n";
function OMa(b,a){var c=0,d=0;if(xG(b)){c=b[Ima];d=a?-1:b.selectionEnd}else if(L){var f=MMa(b),g=f[0];f=f[1];if(g[vk](f)){g[Hk](PMa,f);if(b[Zb]==iG){b=f[Mk]();var j=g[jb];c=j;f=d=b[jb];for(var n=k;!n;)if(g[gl](QMa,g)==0)n=h;else{g[al](zl,-1);if(g[jb]==j)c+=RMa;else n=h}if(a)a=[c[u],-1];else{for(a=k;!a;)if(b[gl](QMa,b)==0)a=h;else{b[al](zl,-1);if(b[jb]==d)f+=RMa;else a=h}a=[c[u],c[u]+f[u]]}return a}c=g[jb][u];d=a?-1:g[jb][u]+f[jb][u]}}return[c,d]}
function zG(b,a){if(xG(b))b.selectionEnd=a;else if(L){var c=MMa(b),d=c[1];if(c[0][vk](d)){a=NMa(b,a);b=NMa(b,yG(b));d[tk](h);d[al](zl,a-b);d[Fk]()}}}function SMa(b){return OMa(b,k)[1]}function AG(b,a){if(xG(b)){b.selectionStart=a;b.selectionEnd=a}else if(L){a=NMa(b,a);b=b[Dk]();b[tk](h);b[Ak](zl,a);b[Fk]()}}
function TMa(b,a){if(xG(b)){var c=b[q],d=b[Ima];pa(b,c[nc](0,d)+a+c[nc](b.selectionEnd));b.selectionStart=d;b.selectionEnd=d+a[u]}else if(L){c=MMa(b);b=c[1];if(c[0][vk](b)){c=b[Mk]();la(b,a);b[Hk](Al,c);b[Fk]()}}else e(Error(".137"))}function MMa(b){var a=b[Mc]||b[yc],c=a[uk][Bk]();if(b[Zb]==iG){a=a[Lc][Dk]();a[Tk](b)}else a=b[Dk]();return[a,c]}function NMa(b,a){if(b[Zb]==iG)a=b[q][Zc](0,a)[mb](/(\r\n|\r|\n)/g,ch)[u];return a}function xG(b){try{return typeof b[Ima]==Qe}catch(a){return k}}
var UMa=",;",VMa="[\\s",WMa="]+",XMa="[\\s]+",YMa="\\s*[",ZMa="]$";function BG(b,a,c,d){d=d||150;this.XBa=Ue(b)?b:UMa;this.HAc=this.XBa[Zc](0,1);b=this.Jja?VMa+this.XBa+WMa:XMa;this.gic=new RegExp(Ty+b+Bl+b+Od,ag);this.bid=new RegExp(YMa+this.XBa+ZMa);this.g_b=a||I;this.jcd=this.Jja=c!=i?c:h;this.ab=d>0?new Bh(d):i;this.tw=new kn(this);this.Aoa=new kn(this);this.sc=new hn;this.Kia=-1}
function aNa(b,a){var c=b.Jja&&a[Ob]&&b.XBa[Db](String[rq](a[Ob]))!=-1;b.xcc&&c&&b[mr]();if(b.gwb&&c)if(b.kd.vI()){a[zb]();return h}return k}function bNa(b){if(b.b3){b.b3=k;b.tw.hb(b.Ul,Zi,b.ql);b.tw.hb(b.Ul,jj,b.qka)}}function cNa(b,a,c){b=dNa(b,a);if(c==a[u])return b[u]-1;for(var d=a=0,f=0;d<b[u]&&f<c;d++){f+=b[d][u];a=d}return a}
function dNa(b,a){if(!b.Jja)return[a];a=String(a)[Cc](I);for(var c=[],d=[],f=0,g=k;f<a[u];f++)if(b.g_b&&b.g_b[Db](a[f])!=-1){if(b.Zbb&&!g){c[p](d[kd](I));Ia(d,0)}d[p](a[f]);g=!g}else if(!g&&b.XBa[Db](a[f])!=-1){d[p](a[f]);c[p](d[kd](I));Ia(d,0)}else d[p](a[f]);c[p](d[kd](I));return c}var eNa="Jd-SUR3Rd",fNa="Jd-oKdM2c",gNa="Je",hNa="Jd-Je",iNa="Jd-JU";
function CG(b,a,c,d){this.mh=b||ea[Lc];this.ya=Cg(this.mh);this.XL=!b;this.wa=i;this.pz=I;this.Rg=[];this.uZa=this.KK=-1;this.yg=k;m(this,eNa);this.yBa=fNa;this.PZb=gNa;this.JFa=hNa;this.SLc=iNa;this.xea=a||i;this.cqd=d!=i?d:h;this.Hfd=c!=i?c:k;this.ekb=i;this.v_a=k}var DG="display:none",jNa="listbox",kNa="combobox",lNa="autocomplete",mNa="list";
function nNa(b){if(!b.wa){var a=b.ya.ba(T,{style:DG});b.wa=a;b.gdc(a);fn(a,jNa);a.id="goog-acr-"+oNa++;if(b.zf){fn(b.zf,kNa);gn(b.zf,lNa,mNa);gn(b.zf,yo,h)}b.ya[o](b.mh,a);ih(a,P,b.sj,k,b);ih(a,fj,b.CH,k,b);ih(b.ya.cb(),P,b.fUb,k,b);ih(a,Xi,b.BK,k,b)}}var pNa="(.*?)(^|\\W+)(",qNa="gi";
function rNa(b,a,c){if(a[nb]==3){var d,f=i;if(Ve(c)){d=c[u]>0?c[0]:I;if(c[u]>1)f=qf(c,1)}else d=c;if(d[u]!=0){var g=a[md];d=ox(d);d=new RegExp(pNa+d+xh,qNa);c=[];for(var j=0,n=d[hb](g);n;){c[p](n[1]);c[p](n[2]);c[p](n[3]);j=d[Mma];n=d[hb](g)}c[p](g[Zc](j));if(c[u]>1){pk(a,c[0]+c[1]);f=b.ya[Qb](Ph);m(f,b.SLc);b.ya[o](f,b.ya[yb](c[2]));f=a[A][Bb](f,a[fc]);for(g=c[u]-1;g>=3;g--)a[A][Bb](b.ya[yb](c[g]),f[fc])}else f&&rNa(b,a,f)}}else for(a=a[Tb];a;){f=a[fc];rNa(b,a,c);a=f}}
function sNa(b,a){for(;a&&a!=b.wa&&!Bg(a,b.yBa);)a=a[A];return a?ff(b.xx,a):-1}function tNa(b){this.Ud=b}function EG(b,a,c,d){this.V=b;this.Bd=rD(b);uG[z](this,this,this.PJa(),this.Iqa());this.Ve=this.JF;this.Ve.kd=this;this.l4=a||qG(this.V);this.XX=c;this.Nfa=d;Bx(this)}function uNa(){if(this.Ib()){var b=this.zf,a=Um(b);b=Mm(b);if(!jia(this.UHa,a)||!hia(this.F0a,b)){this.UHa=a;this.F0a=b;this.If()}Dh(uNa,1E3,this)}}var FG="za";function vNa(b){var a=new EG(b);b[kq](FG,a);return a}
function GG(b){return b.J(FG)}function wNa(b,a){BB[z](this,b,a)}function HG(b){return new wNa(EB,b)}var xNa=":16",yNa=";8";function zNa(b,a){var c=ri(Fga);if(a){_B_log(ANa,c?1:0);if(!c){oi(Fga);bA(xNa,function(){b[Ic][Sq](h)},2E3);return}}_B_record();Mda(Fga);try{main()}catch(d){rg(tg,yNa,d)}}function BNa(b,a,c){this.Ea=b;this.Rf=a;this.eka=c||40}function IG(b,a){var c=lx(T);Q(c,b);return(new CNa(c,a?DNa:ENa)).jh()}
function CNa(b,a){this.Skd=a;this.CRa=k;this.ngc=[];this.Asb=this.ntb=0;this.O8=2;this.CXa=1;this.nqa=[];for(JG(this,1,b);this.nqa[u]!=0;){b=this.nqa.pop();a=this.nqa.pop();switch(b){case 1:FNa(this,a);break;case 2:this.ntb+=a;break;case 3:this.Asb+=a;break;case 4:GNa(this,a);break}}}function HNa(b,a){if(a[u]!=0){switch(b.CXa){case 2:b.O8==0&&INa(b,J);break;case 3:for(;b.O8<1;)JNa(b);break;case 4:for(;b.O8<2;)JNa(b);break}b.CXa=1;b.O8>0&&INa(b,KNa(b,h));INa(b,a);b.O8=0}}
function INa(b,a){b.ngc[p](a)}function JNa(b){b.O8>0?INa(b,KNa(b,k)+ch):INa(b,ch);b.O8++}function KNa(b,a){b=Dw(Uf,b.ntb);if(a&&b[u]>0)b+=J;return b}function GNa(b,a){if(b.CXa<a)b.CXa=a}function JG(b,a,c){b.nqa[p](c);b.nqa[p](a)}var LNa="#text",KG="SELECT",MNa="________________________________",NNa="XMP",ONa="gmail_quote";
function FNa(b,a){a[fc]!=i&&JG(b,1,a[fc]);var c=a[uc];if(!(c&&ef(b.Skd,c))){if(PNa[cb](a[Gb]))QNa(b,4);else RNa[cb](a[Gb])&&QNa(b,3);switch(a[Gb]){case LNa:a=a[md][mb](SNa,I)[mb](TNa,ch)[mb](UNa,ch);if(b.Asb==0){if(a[u]!=0){c=" \t\u000c\r\n\u200b"[Db](a[xb](0))!=-1;var d=" \t\u000c\r\n\u200b"[Db](a[xb](a[u]-1))!=-1;a=a[mb](VNa,J)[mb](WNa,I);c&&GNa(b,2);HNa(b,a);d&&GNa(b,2)}}else{a=a[Cc](ch);HNa(b,a[0]);for(c=1;c<a[u];c++){JNa(b);HNa(b,a[c])}}return;case Cl:JNa(b);return;case qha:case Dl:case KG:return;
case Bd:b.CRa=h;HNa(b,MNa);return;case Iaa:case NNa:b.Asb++;JG(b,3,-1);break;case be:b.CRa=h;if(Bg(a,ONa)){b.ntb++;JG(b,2,-1)}break;default:b.CRa=h;break}a[Tb]!=i&&JG(b,1,a[Tb])}}function QNa(b,a){GNa(b,a);JG(b,4,a)}function LG(b,a){this.mAa=4;this.Jv=a||undefined;bo[z](this,b)}function MG(b,a,c,d,f){b.jja=a==i||a instanceof Bm?a:new Bm(a,c,d,f);b.Ib()&&b.If()}
var XNa="wc",YNa='" role="alert" tabindex="-1"><table cellpadding="0" class="',ZNa="wf",aOa="wk",bOa="Dp",cOa="Keyboard shortcuts",NG='</td><td class="',dOa="wj",eOa='"><a id="',fOa='" target="keyboard_shortcuts_help_window" href="',gOa="wi",hOa="Open in a new window",iOa='</a> | <span id="',OG="Close",jOa='</span></td></tr></table><table cellpadding="0" class="',PG="wd",kOa='"><tr>',QG='<td class="',lOa="Dn",RG='"><table cellpadding="0" class="',mOa='"><tbody>',nOa='<tr><th class="',oOa="Do",pOa=
'" /><th class="',qOa="</th></tr>",SG='<tr><td class="',rOa="wg",sOa=':</td><td class="',tOa="we",TG="</td></tr>",uOa="</tbody></table></td>",vOa="</tr></table></div>";
function wOa(b,a){var c=a||new U;c[R](X,XNa,YNa,ul,J,ZNa,El,aOa,J,bOa,W,cOa,NG,dOa,J,bOa,eOa,b.Imd,fOa,b.ijd,S,gOa,W,hOa,iOa,b.p6a,S,gOa,W,OG,jOa,ul,J,PG,kOa);b=b.uq;for(var d=b[u],f=0;f<d;f++){var g=b[f];c[R](QG,lOa,RG,ul,mOa);for(var j=g[u],n=0;n<j;n++){var s=g[n];c[R](nOa,oOa,pOa,oOa,W,V(s[Pk]),qOa);s=s.bq;for(var v=s[u],C=0;C<v;C++){var M=s[C];c[R](SG,rOa,J,lOa,W,M.key,sOa,tOa,J,lOa,W,V(M[qr]),TG)}}c[R](uOa)}c[R](vOa);if(!a)return c[t]()}
function UG(b){nn[z](this);this.V=b;this.Y=qC(b).W();this.Lb=Tz(b);this.Cb=sC(b);this.na=new kn(this);var a=this.Y.ba(T);K(a,eo);rD(b).Zf[o](a);this.Ha=new LG(a);this.Ha.Hu(k)}var xOa="<Shift>",yOa="<Esc>",zOa="<Ctrl>";function AOa(b,a){return a[od]()!=a?[xOa,tl,a[od]()]:a==String[rq](27)?yOa:a==String[rq](17)?zOa:a}var BOa="\t",VG="or",COa="then";
function DOa(b,a){var c=[];if(a[u]>1){a=a[Cc](BOa);for(var d=0;d<a[u];d++){var f=a[d];d>0&&c[p](VG);for(var g=0;g<f[u];g++){of(c,AOa(b,f[xb](g)));g!=f[u]-1&&!ef(EOa,c[c[u]-1])&&c[p](COa)}}}else of(c,AOa(b,a));return c}var FOa="SAVE_DRAFT",GOa="<Enter>",HOa="tab",IOa="<Tab>",WG='<span class="',JOa="wb",KOa="wh",XG="</span> ";
function LOa(b){var a=new Hf(dLa(b.V));a.set(FOa,MOa);for(var c=[],d=0;d<NOa[u];d++){for(var f=[],g=NOa[d],j=0;j<g[u];j++){for(var n=g[j],s=n.bq,v=[],C=0;C<s[u];C++){var M=s[C],Y;if(Ve(M)){Y=M[0];M=M[1]}else{Y=M;M=YG[M]}var ha=[];if(a.Xb(Y))ha=DOa(b,a.J(Y));else{Y=Y[Cc](/\b/);for(var tb=0;tb<Y[u];tb++){var zc=Y[tb];if(zc==Bl)ha[p](VG);else if(zc==Md)ha[p](Md);else if(zc==Uf)ha[p](COa);else if(zc[od]()==yka)ha[p](GOa);else if(zc[od]()==HOa)ha[p](IOa);else a.Xb(zc)?of(ha,DOa(b,a.J(zc))):ha[p](zc)}}Y=
{Grd:ha};ha=new U;Y=Y.Grd;tb=Y[u];for(zc=0;zc<tb;zc++)ha[R](WG,zc%2?JOa:KOa,W,V(Y[zc]),XG);ha=ha[t]();v[p]({key:ha,description:M})}f[p]({title:n[Pk],bq:v})}c[p](f)}return c}function OOa(b){if(b==undefined)b=[];this.CQc=POa(b[0]);this.wQc=POa(b[1]);this.kPc=POa(b[2]);this.lPc=POa(b[3]);this.jPc=POa(b[4])}function POa(b){if(b!=undefined)return b!=0}function QOa(b){if(b!=undefined)return b?1:0}
var ROa="In addition to marking this message as spam, ",SOa=" can attempt to automatically unsubscribe you from ",ZG="<b>",TOa="</b>, by sending an unsubscribe request on your behalf.",aH="<div>",bH=' <a href="',cH='" target="_blank">',UOa="Learn more.",dH="</a></div>";function VOa(b,a){var c=a||new U,d=ROa+(Ji+(SOa+(ZG+(V(b[ec])+TOa))));c[R](aH,d,bH,b.tc,cH,UOa,dH);if(!a)return c[t]()}
var WOa="In addition to marking these messages as spam, ",XOa=" can attempt to automatically unsubscribe you from these senders, by sending an unsubscribe request on your behalf.",YOa="</a><br><br>",ZOa="<div><b>",aPa="</b></div>";function bPa(b,a){var c=a||new U;c[R](aH,WOa+(Ji+XOa),bH,b.tc,cH,UOa,YOa);b=b.YX;for(var d=b[u],f=0;f<d;f++)c[R](ZOa,V(b[f]),aPa);c[R](Z);if(!a)return c[t]()}function cPa(b,a){EC[z](this,b);this.Lb=Tz(b);this.qGa=a;this.V=b;this.Jc()}function dPa(b){this.sAa=b}
function fH(b){if(!Ue(b.IJb))b.IJb=ePa;return b.IJb}var fPa='".*?"';function gH(b,a){N[z](this,b);this.Pm=a;var c;try{var d=a[Kb](fPa)[0];c=d[Zc](1,d[u]-1)}catch(f){c=I}this.ck=c}function hH(b){if(!b.M7b)b.M7b=b.Pm?yh(b.Pm):i;return b.M7b}function iH(b,a,c,d){this.ya=c||Cg();this.Zva=0;this.Zv=b;this.gz=a;this.Vxa=d||{};this.G6a=[]}var gPa="log-connect";function hPa(b){N[z](this,gPa);this.hj=b}var jH="f-msg",kH="mf";function iPa(b){b[r](new gH(jH,zh([kH,I,I])))}
function lH(b,a,c){this.Q=new kn(this);this.Zv=b;this.gz=a;this.Vxa=c||{}}function jPa(b){N[z](this,"flutestate");this.W1b=b}function kPa(b){N[z](this,kH);this.Pm=b}var mH="fe";function lPa(b){N[z](this,mH);this.nOb=b}function mPa(b,a){if(b=a==undefined?b.lA():a)if(b=b[4].renderer)return b;return 0}var nPa="nf0";function oPa(b){var a=b.lA();b.CZ=a&&a[1]!=nPa?1:b.CZ==1?3:2;b[r](new kPa(a))}var pPa="other",qPa="windows",rPa="Intel",sPa="mac",tPa="mac-ppc";
function uPa(){var b=pPa;if(Ri)b=qPa;else if(Qi)b=Ti[Db](rPa)!=-1?sPa:tPa;return b}function vPa(b){return{os:uPa(b),clientver:1}}function wPa(b){if(!b.iDa)return 0;switch(b.iDa.pr){case ii:return 2;case Kd:return 1;default:return 0}}function nH(){var b=Ti[Db](rPa)!=-1;return Ri||Qi&&b}function oH(b,a){oB[z](this,b,pd);this.Wqd=a}function xPa(b){this.sg=b}function yPa(){Bx(this);this.s0=new Hf}function pH(b,a){return b.s0.J(a?a:b.F8a)}
function zPa(b,a){for(var c=b.s0.Sb(),d=0;d<c[u];d++){var f=b.s0.J(c[d]);if(f.wH(a))return f}return i}function APa(b,a){for(var c,d=b.s0.Sb(),f=0;f<d[u];f++){c=b.s0.J(d[f]);c=qH(c,a);if(c!=i)return c}return c}var rH="da";function sH(b){return b.J(rH)}function BPa(){this.Vrb=[]}function tH(b){return b.J(Bz)}var CPa=":17";
function DPa(b,a){var c=a?b.jMb:b.gr;b.IB();EPa(b);if(c){b.Xda&&b.Xda.Ad(c);b.qa=b.gr?2:0;if(!a&&c.U4!=-1)b.v_=bA(CPa,b.IK,c.U4,b);if(!a&&c.QE()>=0)b.xBb=bA(CPa,b.Mna,c.QE(),b)}else{b.Xda&&b.Xda.IK();b.qa=0}}function EPa(b){b.xBb&&cA(b.xBb);b.xBb=i}var FPa="^igs";function uH(b){var a=new Hf;a.set(ce,b);Gy[z](this,ce,a);this.yr=b;b=FPa+b;GPa[b]=h;Ry(b,this)}function vH(b){AD[z](this,b);this.Cb=sC(this[uq]())}function wH(b){pA[z](this,b)}
function HPa(b,a){if(jfa.J()){if(b.Wx)Ua(b.Wx.b()[x],xd);b.Wx=a;Ua(b.Wx.b()[x],I)}else if(a!=b.Wx){if(a&&a.ac()!=b)e(Error(".139"));yA++;try{b.Wx&&b.Wx.qc(k);b.Wx=a;b.Wx&&b.Wx.qc(h);b.Ui()}finally{zA()}}}var IPa="history_state",JPa='<input type="text" name="%s" id="%s" style="display:none" />',xH="https",KPa="https:///",LPa="history_iframe",MPa='src="',NPa='<iframe id="%s" style="display:none" %s></iframe>';
function yH(b,a,c,d){if(b&&!a)e(Error(".140"));var f;if(c)f=c;else{f=IPa+OPa;ea[nq](ux(JPa,f,f));f=Fg(f)}this.tva=f;this.dg=c?pm(Eg(c)):ba;this.GD=this.dg[Ic][Yc][Cc](Lj)[0]+Lj;this.LOa=a;if(L&&!a)this.LOa=ba[Ic][er]==xH?KPa:xDa;this.ab=new Bh(150);this.lca=!b;this.Q=new kn(this);if(b||L&&!zH){if(d)b=d;else{b=LPa+OPa;a=this.LOa?MPa+Wf(this.LOa)+Vf:I;ea[nq](ux(NPa,b,a));b=Fg(b)}this.xe=b;this.xic=h}if(L&&!zH){this.Q.w(this.dg,rj,this.j4b);this.dec=this.KKa=k}this.lca?this.gma(AH(this),h):BH(this,this.tva[q]);
OPa++}function AH(b){return b.dja!==i?b.dja:b.lca?b.Mga(b.dg):PPa(b)||I}function QPa(b,a,c,d){if(AH(b)!=a)if(b.lca){b.gma(a,c);zH||L&&BH(b,a,c,d);b.Lf&&b.rJ()}else{BH(b,a,c);b.dja=b.Ry=pa(b.tva,a);b[r](new RPa(a))}}var SPa="text/html",TPa="replace",UPa="<title>%s</title><body>%s</body>";
function BH(b,a,c,d){if(b.xic||a!=PPa(b)){b.xic=k;a=Qf(a);if(L){var f=om(b.xe);f[bb](SPa,c?TPa:undefined);f[nq](ux(UPa,Wf(d||b.dg[yc][Pk]),a));f[Xk]()}else{a=b.LOa+Lj+a;if(b=b.xe[gc])if(c)b[Ic][mb](a);else Mp(b[Ic],a)}}}function PPa(b){if(L){b=om(b.xe);return b[Lc]?Rf(b[Lc][wk]):i}else{var a=b.xe[gc];if(a){var c;try{c=Rf(b.Mga(a))}catch(d){b.BRa||b.WXa(h);return i}b.BRa&&b.WXa(k);return c||i}else return i}}var VPa="navigate";function RPa(b){N[z](this,VPa);this.ce=b}
function WPa(b){this.V=b;this.rca=fD(this.V);this.Pd={};this.aIa=[];this.eP=b.J(Xx);if(!this.eP)e(Error(".141"));this.eP.Ac(h);this.eP.dk(this);ih(this.eP,VPa,this.dpb,k,this)}function XPa(b,a,c){b.Ry=b.Haa(a);b.eP.Zaa(b.Ry,c);b.Pd[b.Ry]=a}function YPa(b,a,c){delete b.Pd[b.Ry];b.Ry=b.Haa(a);QPa(b.eP,b.Ry,h,c);b.Pd[b.Ry]=a}function ZPa(b,a,c){a=a||AH(b.eP);b.Ry=a;return c?aQa(b,a):bQa(b,a)}
function bQa(b,a){for(b.Pd[a]&&jf(b.aIa,a);b.aIa[u]>=40;)delete b.Pd[b.aIa[db]()];b.aIa[p](a);return b.Pd[a]?b.Pd[a]:(b.Pd[a]=aQa(b,a))}function aQa(b,a){a=a[Cc](Md);var c=a[db]();return(b=b.rca.PVb[c])?b.aca(c,a):i}function cQa(b,a,c,d){N[z](this,b);this.FV=a;this.iAc=c;this.rnb=d}function CH(b,a,c,d,f){this.kFc=b;this.NY=a||I;this.LWa=c||dQa;this.v4a=d||eQa;this.Fad=f||fQa}
function DH(b){AD[z](this,new wH(b));this.V=b;this.rca=fD(b);this.nU=new WPa(b);this.H().w(this.nU,VPa,this.dpb);this.mw=b.J(ii);this.ut=b.J(IF);this.cGb=k;this.vz=[];this.Z2=new cg;this.y1b=new Hf;this.Ck=VC(b);this.Ck.yu.add(this);this.jb=JB(b);this.Jc()}function EH(b){return jA(b,TC)}function FH(b){return b.J(TC)}function GH(b){return b.Z2.Oa()}function gQa(b,a){if(!b.Z2[bd](a)){b.Z2.add(a);b.vz[jd](1,0,a);b.ia.ha(a);hQa(b,iQa)}}
function jQa(b,a,c){if(!b.Z2[bd](a))return k;b.Z2[Pb](a);if(a==b.zc())b.vz[u]>1?kQa(b,b.vz[1]):kQa(b,i);jf(b.vz,a);if(a==b.gL){lQa(b);WC(b.Ck)}c||b.ia[Nc](a);return h}function mQa(b,a){(b=b.ut.ZG())&&UHa(b.TR,a)}function nQa(b,a){(b=b.ut.ZG())&&KE(b.TR,a)}function hQa(b,a){a=a||0;for(var c=b.vz[u],d=c-1;d>=1&&c>a;){var f=b.vz[d];if(f.EIb()){b.oWa(f);f.D();c--}d--}}function oQa(b){if(b.lya){b.lya.D();b.lya=i}}var pQa=":18",qQa="View Changed";
function kQa(b,a){var c=b.zc();if(c&&c.gY())return k;c&&c.Df();yA++;try{if(a){if(!b.Z2[bd](a))e(Error(".143"));HPa(b.ia,a);jf(b.vz,a);b.vz[ld](a);b.kYb=h;a.Wb();b.f2b=h;b.Ui(vA)}else{HPa(b.ia,i);b.kYb=k}b[r](new cQa(kC,b.Cxa,c,a));if(c&&!c.Jpa()){jQa(b,c,h);L?b.X9b(c):bA(pQa,G(b.X9b,b,c),600)}}finally{mQa(b,qQa);zA()}if(a)XPa(b.nU,b.Cxa||{view:a.md()},rQa(b,a.TO()));b[r](new cQa(Wx,b.Cxa,c,a));WC(b.Ck);b.Cxa=i;return h}
function lQa(b){if(b.xra){b.xra.tf();b.xra=i}if(b.Zia){GB(b.Zia,2);b.Zia=i}if(b.gL){var a=b.gL;b.gL=i;a.Bo(k)}}function sQa(b){if(b.gL){var a=[];b.gL.ej(a);if(!(NBa(a)<3)){a=b.gL;b.gL=i;a=kQa(b,a);if(b.Zia){GB(b.Zia,a?1:2);b.Zia=i}}}}function tQa(b){var a=b.zc();if(!a||!a.Bo(k)&&!a.gY()){a&&a.Df();return h}else{b.mw.s5a();return k}}function rQa(b,a){return b.yhc?b.yhc[z](i,a):a}function uQa(b,a){this.Rg=b;this.bqd=!a}var vQa="(^|\\W+)";
function wQa(b,a,c){var d=[];if(a!=I){a=ox(a);var f=new RegExp(vQa+a,ii);axa(b.Rg,function(g){String(g)[Kb](f)&&d[p](g);return d[u]>=c})}return d}
function xQa(b,a,c){var d=[];um(b.Rg,function(g,j){var n=a[od](),s=String(g)[od](),v=0;if(s[Db](n)!=-1)v=da((s[Db](n)/4)[t](),10);else for(var C=n[Cc](I),M=-1,Y=10,ha=0,tb;tb=C[ha];ha++){tb=s[Db](tb);if(tb>M){M=tb-M-1;if(M>Y-5)M=Y-5;v+=M;M=tb}else{v+=Y;Y+=5}}v<n[u]*6&&d[p]({Rld:g,IBa:v,index:j})});d[el](function(g,j){var n=g.IBa-j.IBa;if(n!=0)return n;return g[Lq]-j[Lq]});b=[];for(var f=0;f<c&&f<d[u];f++)b[p](d[f].Rld);return b}function yQa(b,a){zQa[b.id]||ih(b,lj,AQa);zQa[b.id]=a}
function BQa(b){if(b){nh(b,lj,AQa);delete zQa[b.id]}}function AQa(b){K(b[y],zQa[b[y].id]);ih(b[y],kj,CQa)}function CQa(b){Ag(b[y],zQa[b[y].id]);nh(b[y],kj,CQa)}var DQa=":19";function HH(b){this.V=b;this.ee=new Hf;this.wYa={};this.gMa={};this.ab=new aA(DQa,3E4);ih(this.ab,yj,G(this.Pa,this))}var IH="ja";function EQa(b){return b.J(IH)}function FQa(b,a){b=b.WVb||I;if(a)a[R](b);else return b}var JH="ix_bi",KH="J";function GQa(b){var a=yy(b).db(JH)>0?KH:aE;return kA(b,a)}var HQa="1.8",IQa="6.0",JQa="520";
function LH(){return Fh&&vg(HQa)||L&&vg(IQa)||Jg&&vg(JQa)||Ng&&vg(lca)}var MH="&nbsp;",KQa="</div><div>";function NH(b){b=Wf(b);b=b[mb](/  /g,Vwa);b=b[mb](LQa,ch);b=b[mb](MQa,ch);b=b;if(L){b=b[Cc](ch);for(var a=0;a<b[u];a++)if(Of(b[a]))b[a]=MH;b=aH+b[kd](KQa)+Z}else b=Gw(b);return b}
var NQa=' cellspacing="0" style="border-collapse:separate"',OQa='><tr><td class="',PQa="lU",QQa='"></td><td rowspan="3" class="',RQa="lT",SQa="lN",TQa="lK",OH='"></td><td class="',UQa="lJ",VQa="lM",WQa="lL",XQa="lV",YQa='"></td></tr><tr><td rowspan="2" class="',ZQa="lR",aRa="lW",bRa='">&nbsp;</div></td><td class="',cRa='</td><td rowspan="2" class="',dRa="lS",eRa='">&nbsp;</div></td></tr><tr><td class="',fRa="lI",gRa='"></td></tr><tr><td colspan="2" class="',hRa="lP",iRa="lO",jRa='"></td><td colspan="2" class="',
kRa="lQ",lRa='"></td></tr></table>';function PH(b,a){var c=a||new U;c[R](Fl,ul,Vf,b.OQc?NQa:I,OQa,PQa,QQa,RQa,J,SQa,J,TQa,OH,RQa,J,UQa,J,VQa,QQa,RQa,J,SQa,J,WQa,OH,XQa,YQa,ZQa,wl,aRa,bRa,V(b.EN),W,b[eq],cRa,dRa,wl,aRa,eRa,UQa,J,fRa,gRa,hRa,OH,iRa,jRa,kRa,lRa);if(!a)return c[t]()}var mRa="cm1";function nRa(b){this.Db=b;oRa=Jz(Rz(b),832)?mRa:Nd}function QH(b,a,c,d,f,g){this.Nsc=f;this.sja=g;Vn[z](this,b,a,c,d)}function RH(){}function SH(b,a,c){hy[z](this,b,a,c);this.jw=[]}
function pRa(b,a){Ix(b);for(var c=0;c<b.jw[u];c++){var d=b.jw[c];if(!a||a!=d)d.rg()}}function qRa(b){wp(this,b)}
function TH(b,a){this.gPb=b;this.Sq=a[0];this.gk=a[1];this.Qy=a[2];this.Jl=!(a[3]&&h);this.kl=a[5];this.Zba=a[6];this.M1=this.cwb=a[7];this.f8b=a[8];this.rB=a[9];this.SCa=a[10];this.eQc=!!a[11];this.dJb=a[12];this.gda=a[13];this.A4=a[14];this.Mhc=a[15];this.dL=a[16];this.XGa=a[17];this.Jt=a[18];this.DQc=!!a[20];this.apd=a[21];this.nS=a[23];this.HY=a[24];this.TCa=a[25]||this.Qy;Bx(this)}var rRa='class="zF"',sRa='class="yP"';
function tRa(b){switch(b.utb){case 2:b.M1=b.cwb[mb](uRa,rRa);break;case 1:b.M1=b.cwb[mb](vRa,sRa);break}}function wRa(b,a){b=b.TCa;a=a.TCa;return b<a?-1:b>a?1:0}function xRa(b){this.Uk=b}function yRa(b){this.Mr=b}function UH(b,a){oH[z](this,b.B(),4);Bx(this);this.Z=Rz(b.B());this.Xi=b;this.Kd=a;this.xl=tE(this.B())}function zRa(){}function ARa(){}
function VH(b){bG[z](this);this.qn=b;this.ON=[];this.HD=[];this.PN=new Hf;this.Ved=new ARa;this.na=new kn(this);this.na.w(this.qn.mb.Ya(),FG,this.u7c);this.na.w(this.qn.mb.Ya(),ED,this.F0c)}function WH(b,a,c){za(this,b);yp(this,a);this.Ih=c}function BRa(b,a,c){this.PBc=b;this.Kcd=a;this.Xbd=c}var XH="Fa";function CRa(b,a){N[z](this,XH,b);this.dG=a}function DRa(b){if(b.oc){b.oc[wc]();b.oc=i}}function ERa(b){if(b.oc)return l.max(b.Eo,b.oc.Ay()+b.oc.MT());return b.Eo}
function FRa(b,a,c){c=a+c;return a>=b.Uz&&c<=b.Eo}function GRa(b,a,c,d){if(b.oc==a){if(!b.Vha)e(Error(".145"));if(c!=b.L8)e(Error(".144`"+c+qw+b.L8));if(c!=b.Eo)e(Error(".144`"+c+qw+b.Eo));b.ON[c]=d;b.PN.set(d.Je(),d);d.Iz();b.L8++;b.Eo++;if(!b.lVb){YH(b,new WH(1));b.lVb=h}}}function HRa(b){for(var a=b.Uz,c=b.Eo;c>=a;c--)if(b.J(c)!=i)return c+1;return a}function IRa(b){b=b.J(HRa(b)-1);if(!b)return i;return(b=b.J())?b.HY:i}function ZH(b){YH(b,new WH(7))}
function JRa(b){if(!b.Vha)e(Error(".145"));for(var a=b.Eo,c=b.Uz;c<a;c++){var d=b.ON[c];d&&nya(d)}}function YH(b,a){if(b.Vha)b.HD[p](a);else{a=new CRa(b,[a]);var c=[];for(b=b;b;b=b.rv())c[p](b);for(b=0;b<c[u];b++){sa(a,c[b]);jx(c[b],a[Zb],k,a)}}}function KRa(){}function aI(b){VH[z](this,b);Bx(this);this.Yla(wRa)}
function LRa(b){this.ug=b[1];this.nj=b[2];this.wna=Boolean(b[3]);this.y_a=b[4];this.ae=b[5];this.ZZa=b[6];this.Kmb=b[7];this.hEa=b[8];this.oO=b[9];this.dAb=b[10];this.j4a=b[11];this.Cgc=b[12];this.r9b=b[13]}function MRa(b,a){if(a!=b.nj){b.nj=a;b[r](oy)}}function NRa(b){this.Um=b}function ORa(b,a){Bx(this);SH[z](this,Qf(b.Dg()),a);this.Ea=b;this.gPb=Xy(this.Ea)}function PRa(b,a){if(!b.Pc){var c=a.Hc(),d=b.za(c,h);d||(d=new py(c,b,h,h));d.set(a);return d}}
function QRa(b,a){b=b.Uc().Oa();for(var c=0;c<b[u];c++){var d=b[c].za(a);if(d&&d.Fi())return d.J().vf()}}function bI(b,a){b=b.Uc().Oa();for(var c=0;c<b[u];c++){var d=b[c],f=d.za(a);f&&f.Fi()&&d.rg()}}function RRa(b,a,c){Ix(b);b=b.Uc().Oa();for(var d=0;d<b[u];d++){var f=b[d].za(a);f&&f.hc()&&!f.Ds()&&c(f.J())}}function cI(b,a){(b=b.za(Qf(a.Dg()),k))&&b.Fi()&&b.rg()}function SRa(b){b=b.Uc().Oa();for(var a=0;a<b[u];a++){var c=b[a],d=c.Bb();c.hc()&&gza(d)&&c.rg()}}
function TRa(b){b=b.Uc().Oa();for(var a=0;a<b[u];a++){var c=b[a];c.hc()&&c.rg()}}function URa(b,a){b=b.Uc().Oa();for(var c=0;c<b[u];c++){var d=b[c];d.za(a,h)&&d.rg()}}function dI(b){return new BCa(eI,b)}function VRa(){this.dHb={};this.Cf=0}
function WRa(b,a){this.Ea=b;this.Sq=a[1];this.gk=a[2];this.wf=a[8];this.u9a=a[9];this.w9a={};var c=a[10];for(b=0;b<c[u];b++){var d=c[b];this.w9a[d[0]]=d[1]}this.dL=a[6];this.Qy=a[7];this.GQa={};if(a[11]){c=a[11];for(b=0;b<c[u];b++){d=c[b];this.GQa[d[0]]=d[1]}}this.a1=a[12];this.UHb=a[13]}function XRa(b){var a=nf(b.wf);of(a,b.u9a);return a}
function YRa(b,a){var c=a.gf;if(ef(b.wf,c))b.v0&&jf(b.v0,c);else if(!ef(b.u9a,c))if(b.v0&&b.v0[u])if(b.v0[0]==c){b.wf[p](c);b.gk=c;b.v0[db]();b.K8[0]==c&&b.K8[db]();b[r](oy);ZRa(a,4)}}var aSa="draft",bSa="new";function cSa(b,a,c,d,f){if(!b.K8){b.K8=[];b.v0=[];if(!b.TQa)b.TQa=b.gk}if(b.TQa==a){b.TQa=c;if(!ef(b.wf,c)){f!=aSa&&b.v0[p](c);if(f==bSa){b.K8[p](c);b.CRc=d;b[r](oy)}}}}function fI(b){this.Um=b}function gI(b,a){oH[z](this,b.B(),a);this.IY=b}function dSa(b){this.Mr=b}
function hI(b){gI[z](this,b.ac(),1);Bx(this);this.Yda=b}function eSa(b,a){b.kX=a}
function fSa(b,a,c,d){this.Ea=b;this.Sq=a;this.gf=d[1];this.VVa=d[2]==I?i:d[2];this.eZ=d[3];this.fQb=d[4];this.dga=d[5];this.Nt=d[6];this.Od=new Date(d[7]);this.hZa=String(d[8]);this.vQ=d[9]||[];this.iOa=Boolean(d[10]);this.QXb=d[11];this.zba=d[12];this.lHa=c;this.vub=d[14];this.Tib=d[15];this.Gxb=d[16];this.Qbb=d[17];this.Zwa=Boolean(d[18]);this.rB=d[19];this.XGa=d[20];this.gda=d[21];this.hxa=d[22];this.LPb=d[23];this.llb=d[24];this.wXa=d[25];this.Zhd=!im(d[26])?d[26]:i;this.ewb=!im(d[27])?d[27]:
i;this.dwb=!im(d[28])?d[28]:i;this.mYb=d[29];this.JOb=d[30];this.yic=d[31];Bx(this);this.aa.wU(d[lb](26))}function gSa(b){return b.JOb||b.Nt}var hSa="^u";function iI(b){return b.Zh(hSa)}function iSa(b,a){a?b.TL(hSa):b.bS(hSa)}function ZRa(b,a){if(b.eZ!=a){b.eZ=a;b[r](oy)}}function jSa(b){this.wja=b}function kSa(b,a){this.yL=b;this.Vy=a}function lSa(b,a){b.hG=a;b.aY=b.hG==0||b.hG==1||b.hG==3||b.hG==4;b.QNa=b.hG==1||b.hG==2}var mSa="image/";
function nSa(b,a,c){this.P_b={};this.Fkc=I;for(var d=c[0],f=[],g=[],j=0;j<d[u];j++){var n=new kSa(b,a);n.fca(d[j]);this.P_b[n.z8]=n;if(Mf(n.lL,mSa))f[f[u]]=n;else g[g[u]]=n}c[u]>1&&oSa(this,c[1]);if(c[u]>2)this.Fkc=c[2];this.Sq=b;this.gf=a;this.mXc=f[u];this.sh=mf(f,g);this.odd=c}function oSa(b,a){b.vQc=a[0];b.znb=a[1];b.Gnb=a[2];b.T2b=a[3];b.U2b=a[4]}
function pSa(b,a,c){this.Ea=b;this.Sq=a;this.gf=c[0];this.p_a=c[1];this.rIa=c[2];this.wHa=c[3];this.tWa=c[4];this.zba=c[5];this.DB=c[6];this.sh=new nSa(this.Sq,this.gf,c[7]||[]);this.tac=Boolean(c[8]);this.QVa=c[9];this.pIb=c[11];this.UYa=c[12];this.fkc=c[13];this.Dec=Boolean(c[14]);this.Zdc=Boolean(c[15]);this.NHb=Boolean(c[16]);this.I_b=c[17];this.pfc=c[18];this.awa=c[19];this.uub=c[20];this.tub=c[21];this.FRa=c[22];if(c[23])Xw(O.S(),UF).hc()?this.Jcc(c[23]):Vw(O.S(),UF,G(this.Jcc,this,c[23]));
if(c[24][0]){this.Zwa=Boolean(c[24][0]);this.bkc=c[24][1];this.ckc=c[24][2];this.dkc=c[24][3];this.Zjc=c[24][4];this.akc=c[24][5]}this.rB=c[25];this.hxa=c[26];this.Rlb=c[27];this.Sec=Boolean(c[28]);if(c[29]&&c[29][0]){this.Rjb=Boolean(c[29][0]);this.xMb=Boolean(c[29][1]);this.Q2b=c[29][2];this.L2b=c[29][3];this.dZb=c[29][4]}else this.Rjb=k;this.ahb=Number(c[30]);this.Jt=c[31];this.xvb=c[32];this.k8b=c[33];this.Vkd=new OOa(c[34]);this.mec=Boolean(c[35]);this.sXb=Boolean(c[36]);this.Jvc=Boolean(c[37])}
function jI(b,a){if(a){if(!b.o4a)b.o4a=Exa(b.p_a);return b.o4a}else return b.p_a}function kI(b,a){if(a){if(!b.m4a)b.m4a=Exa(b.rIa);return b.m4a}else return b.rIa}function qSa(b,a){if(a){if(!b.l4a)b.l4a=Exa(b.wHa);return b.l4a}else return b.wHa}function rSa(b){return b.xvb&&b.xvb[u]>0?b.xvb[0]:I}function lI(b,a,c,d,f){hy[z](this,b,a);this.Ea=c;this.Sq=d;this.lHa=f;new py(eg,this,k,k);Bx(this)}function sSa(b,a){b.mb.Qf();try{var c=b.za(eg);mya(c,a);mya(b,a)}finally{b.mb.Mf()}}function tSa(){}
function uSa(b,a,c){hy[z](this,a,c,h);this.Ea=b;this.Utc=new VRa;Bx(this)}function mI(b,a,c){Ix(b);if(!b.hc())e(Error(".148"));for(var d=0;d<a[u];d++){var f=a[d];if(!b.za(f))e(Error(".149`"+f))}d=new hI(b);b=b.J().vf();d.kX=b;d.wf=a;d.q_b=void 0;d.Tjd=!!c;d[Mb]();return d}function vSa(b,a){var c=b.Bb();b.aGb=k;b.k0={};c=new WRa(c,a);b.set(c);a=new Hf;var d=XRa(c);for(c=0;c<d[u];c++)a.set(d[c],1);b=b.Uc();d=b.Sb();for(c=0;c<d[u];c++){var f=d[c],g=b.J(f);a.J(f)||sSa(g,h)}}

function wSa(b,a){var c=a[1],d=b.J();if(d){var f=a[9];if(f)d.GQa[c]=f;else{f=d.GQa[c];a[9]=f}}f=b.za(c);if(!f){f=a[6];f=new lI(c,b,b.Ea,b.Hc(),b.Utc.cta(f))}f.nM(a);if(b.k0)b.k0[c]=h;d&&YRa(d,f.J())}function xSa(b){b.aGb=h}var nI="csd";function ySa(b,a,c){if(a==nI){b.mb.Qf();try{var d=c[2];Ix(b);if(b.hc()){b.mb.Qf();try{var f=b.J(),g=d[1];if(ef(f.wf,g))e(Error(".147"));f.wf[p](g);f.TQa=g;f[r](oy);wSa(b,d)}finally{b.mb.Mf()}}}finally{b.mb.Mf()}}}
function zSa(b){if(!b.hc())e(Error(".150"));return b.GT()[bd](hSa)}var oI="^t";function ASa(b){if(b.hc())if(b.aGb){var a=b.J().wf;if(a[u]!=0){var c=pI(b);b.Txc(c);var d=b.Ea.Ga();if(BSa[bd](d))for(d=0;d<c[u];d++){var f=c[d];(f.Ea.Ga()==sz?f.Zh(oI):f.QXb)&&ZRa(f,4)}else zSa(b)?CSa(b,c,hSa):CSa(b,c,oI);d=b.J();for(f=0;f<c[u];f++){var g=c[f];d.w9a[g.gf]&&ZRa(g,4)}b=b.za(a[a[u]-1]).J();ZRa(b,4)}}}function CSa(b,a,c){for(b=0;b<a[u];b++){var d=a[b];d.Zh(c)&&ZRa(d,4)}}
function pI(b){var a=[],c=b.J();c=XRa(c);for(var d=i,f=0;f<c[u];f++){var g=b.za(c[f]);if(g&&g.hc()&&!g.Ds())a[p](g.J());else{d=d||[];d[p](c[f])}}return a}function DSa(b,a){b.Whd=a}function ESa(b,a,c){gI[z](this,b,3);this.gk=a;this.Obd=c}function FSa(b,a){gI[z](this,b,2);this.BV=a;this.AOb=new Hf;b=gy(b.B()).eQ;SBa(this);this.Hn=b}function GSa(b,a){hy[z](this,Qf(b.Dg()),a);this.Ea=b}function HSa(b,a){b=new FSa(b,a);b[Mb]();return b}function ISa(b,a,c){(b=b.za(a,h))&&b.Fi()&&b.J().dL<c&&b.rg()}
var qI="conversations";function JSa(b){hy[z](this,qI,b);b=gy(this.B());ih(b.ud,Fx(nI),this.P6c,k,this)}function rI(b,a,c){Ix(b);return b.za(Qf(a.Dg()),c)}function sI(b,a,c){b.mb.Qf();try{for(var d=b.Uc().Oa(),f=0;f<d[u];f++){var g=d[f].za(a,h);g&&c(g)}}finally{b.mb.Mf()}}function KSa(b,a){Ix(b);b.mb.Qf();try{for(var c=b.Uc().Oa(),d=0;d<c[u];d++)for(var f=c[d].Uc().Oa(),g=0;g<f[u];g++){var j=f[g];j&&j.Fi()&&a(j)&&j.rg()}}finally{b.mb.Mf()}}function LSa(b){KSa(b,E(h))}
function tI(b,a){sI(b,a,function(c){c.Fi()&&c.rg()})}function MSa(b,a){KSa(b,function(c){a:{c=c.Uc().Oa();for(var d=0;d<c[u];d++){var f=c[d].J();if(f&&gSa(f)[od]()==a[od]()){c=h;break a}}c=k}return c})}function NSa(b,a,c){Ix(b);var d=k;b=Xwa(b.Uc(),function(f){if((f=f.za(a,h))&&f.Fi()&&f.J().vf()==c){d=h;return Xwa(pI(f),function(g){return g.Uf()})}return k});return d?b:i}var OSa='<div class="J-J5-Ji ',uI='<img class="',vI=' id="',PSa=' title="',QSa='alt="',wI='" >';
function xI(b,a){var c=a||new U;c[R](b.Xe?OSa+b.Xe+W:I,uI,b.Hb,Vf,b.As?vI+b.As+Vf:I,MPa,b.je?b.je:XE,Vf,b[Pk]?PSa+b[Pk]+Vf:I,QSa,b.alt||b.alt==I?b.alt:b[Pk]?b[Pk]:I,wI,b.Xe?Z:I);if(!a)return c[t]()}var yI="J-K-I",RSa="L3",zI='" act="',SSa='tabindex="',TSa="J-K-I-Kv-H",USa="J-K-I-J6-H",VSa="J-K-I-KC",WSa="J-K-I-K9-KP",XSa='">&nbsp;</div><div class="',YSa="J-K-I-Jz",ZSa=' style="width: ',aTa='ex"',bTa="</div></div></div></div></div>";
function AI(b,a){var c=a||new U;c[R](nE,b.id,S,yI,J,Ao,J,b[uc]?b[uc]+J:I,RSa,zI,b[jr],Zd,b[Pk]?hE+V(b[Pk])+Vf:I,SSa,b.Ugc?b.Ugc:Ah,wl,Ao,J,TSa,wl,Ao,J,USa,wl,VSa,wl,WSa,XSa,YSa,Vf,b[ib]?ZSa+b[ib]+aTa:I,Uf,b.xh,bTa);if(!a)return c[t]()}function BI(b,a,c){Fn[z](this,b,a||Tn.S(),c)}function CI(){}var DI="Ia";function cTa(b,a){N[z](this,DI,b);this.Ti=a}function dTa(b,a){tB[z](this,b,17,a)}function EI(b,a,c){this.Mk=b;this.Ly=a;this.na=c;this.Li=G(this.ix,this)}
function eTa(b,a,c){hy[z](this,b,c);this.qr=c;this.nM(a)}function fTa(b){return b!=-1}function gTa(b,a,c){b=a;if(c)b=Di(a,fTa);b=b;c=[];for(var d=0;d<b[u];d++){for(var f={value:b[d]},g=c[u];g>0&&c[g-1][q]>f[q];)g--;f.aDd=c[g];c[g]=f;f.hcd=c[g-1]}b=[];for(c=wm(c);c;){b[p](c[q]);c=c.hcd}b[cq]();for(d=c=0;c<a[u];c++)if(a[c]!=b[d])a[c]=-1;else d++}
function hTa(b,a){var c=Qf(a);if(!b.za(c)){b.mb.Qf();try{for(var d=FI(b),f=d[u];f>0;){var g=d[f-1].J()[pq]();if(rx(a,g)>0)break;f--}var j,n=d[f-1],s=d[f];j=n&&s?(n.J().Nx+s.J().Nx)/2:n?n.J().Nx+1:s?s.J().Nx/2:1;var v=new py(c,b),C=nf(iTa);C[0]=a;var M=new bEa(C,j,b.B());v.set(M);my(b)}finally{b.mb.Mf()}}}function jTa(b,a){if(!b.hc())return i;if(a){a=FI(b);a=kTa(b,a)}else{a=[];b=b.Uc().Oa();for(var c=0;c<b[u];c++){var d=b[c];d.Ds()||a[p](d.J()[pq]())}}return a}
function FI(b){if(!b.hc())return i;var a=[];b=b.Uc().Oa();for(var c=0;c<b[u];c++){var d=b[c];d.Ds()||a[p](d)}a[el](lTa);return a}function kTa(b,a){b=[];for(var c=0;c<a[u];c++)b[p](a[c].J()[pq]());return b}function lTa(b,a){if(b&&a){b=b.J().Nx;a=a.J().Nx;if(b<a)return-1;if(b>a)return 1}return 0}function mTa(b,a){this.exa=b;this.KYb=a;this.MYb=[];this.Q=new kn(this);this.Q.w(this.exa.mb.Ya(),this.exa.pua(),this.upb)}var nTa='<span tabindex="0" ';
function oTa(b,a){var c=a||new U;c[R](nTa,b[Pk]?hE+b[Pk]+Zd:I,b.id?gE+b.id+Zd:I,iE,b[uc],W,b.yU,gB);if(!a)return c[t]()}var pTa="nX",qTa="<tr class=",rTa="Alfa2e",sTa=" id=",tTa="><td class=",uTa="nL",GI="</td><td>",vTa="</tbody></table>";function wTa(b,a){var c=a||new U;c[R](Fl,ul,J,pTa,mOa);b=b.Ti;for(var d=b[u],f=0;f<d;f++){var g=b[f];c[R](qTa,rTa,sTa,g.id,tTa,uTa,Uf);g.tXb&&xTa(g,c);c[R](GI);yTa(g,c);c[R](TG)}c[R](vTa);if(!a)return c[t]()}
var zTa="pM",ATa='" style="color: #',BTa='" tabindex="0" role="button" aria-haspopup="true"><div class="',CTa="p6",DTa=' style="background-color: #',ETa="p8",FTa='" style="visibility:hidden">&#x25bc;</div></div></div>';function xTa(b,a){var c=a||new U;c[R](X,zTa,ATa,b.tg,MCa,b[jq],BTa,CTa,Zd,b.bjb?GJa:I,DTa,b[jq],wl,ETa,FTa);if(!a)return c[t]()}var GTa="n2",HTa='"><div class=',ITa="nU",JTa="n0",HI='<a href="',KTa='" target="_top" ',II="</div></div>";
function yTa(b,a){var c=a||new U;c[R](X,GTa,J,b.ZKc,HTa,ITa,Uf);var d={className:JTa,title:b.dRc,href:b[Yc],yU:b.kkb},f=c||new U;f[R](HI,d[Yc],KTa,d[Pk]?hE+d[Pk]+Zd:I,d.id?gE+d.id+Zd:I,iE,d[uc],W,d.yU,hB);c||f[t]();b.YVb&&xI({Hb:b.YVb},c);c[R](II);if(!a)return c[t]()}function JI(b,a,c,d){this.DQa=b;this.VSc=a;this.AQa=c||i;this.Wlb=d||i;this.ejc=h;b.Ltb(this.fJc,this)}var LTa="n1";
function MTa(b,a,c){var d=c.Dp()!=I&&b.ejc?LTa:I;a.id=NTa(b,c.ea());a.kkb=OTa(b,c,h);a.dRc=OTa(b,c,h);a.ZKc=d;a.YVb=c.Fga();Mp(a,b.VSc+Lj+Wf(c.CSb()));a.bjb=k;a.tXb=c.P3();if(a.tXb){a.tg=c.PO();a.bgColor=c.lK()}}function OTa(b,a,c){var d=b.Nec?a.Dp():I;c=c?Wf(a.Gf()):a.Gf();d=d!=I?[c,xl,d,xh][kd](I):c;if(b.wzb){c=d[Sc](Md);return PTa(b,a)>0?d[nc](c+1):d}else return d}function NTa(b,a){return b.EJ.X(Hz+a)}function KI(b,a){return b.EJ.b(Hz+a)}function QTa(b,a){return b.hd.ie(T,GTa,a)[0]}
function PTa(b,a){var c=a.Gf();if(c[nc](c[u]-1)==Md)c=c[nc](0,c[u]-1);var d=c[Sc](Md);if(d==-1)return 0;a=jm(b.hp,a,b.DQa.sga());if(!a)return 0;b=b.hp[a-1].Gf();if(Mf(b,c[nc](0,d)))return c[Cc](Md)[u]-1;return 0}function LI(b,a,c,d){this.Qm=new mTa(c,d);var f=JB(b);JI[z](this,this.Qm,a,function(g){QF(this.Fh,RTa);f[bq]({view:wE,search:g.Bb(),style:g.wra})});this.Db=b;this.Z=Rz(b);this.Nec=!Jz(this.Z,539)}function MI(b,a,c,d){LI[z](this,b,a,c,d)}function STa(b){return!b.Rw()&&b.bo()}
function TTa(b){return!b.Rw()&&!b.bo()}function NI(b){this.AP=b}function UTa(b){this.AP=b}var VTa="qk",OI='"><span id="',WTa='" idlink ',XTa='tabindex="0" role="link"',YTa='<sup class="ql">',ZTa="</sup>";function aUa(b,a){var c=a||new U;c[R](X,VTa,OI,b.dwc,S,b[uc],WTa,b[uc]?XTa:I,Uf,b[eq],gB,b.CVa?YTa+b.CVa+ZTa:I,Z);if(!a)return c[t]()}
function PI(b,a,c,d,f,g){AD[z](this,bUa(this,b));this.oIa=d||i;b=cUa;b.content=a;b.dwc=this.X(dx);m(b,f||I);b.CVa=g||I;Q(this.ia.za().b(),aUa(b));c&&mx(this.b(),c)}var dUa="pX",eUa="pk";function fUa(b){var a=b.b(),c=b.YK?dUa:eUa;b=b.YK?eUa:dUa;var d=zg(a);if(Ye(c))jf(d,c);else Ve(c)&&dca(d,c);if(Ye(b)&&!ef(d,b))d[p](b);else Ve(b)&&cca(d,b);m(a,d[kd](J))}function bUa(b,a){b=new BF(a,b.yJa||5);b.U1(new Bm(2-b.gta().top,0,2-b.gta()[fl],0));b.so(new eE(a));return b}function QI(b){return b.b(dx)}
function RI(b){this.X_=b}function gUa(b){this.X_=b}var hUa=" pk";function iUa(b,a,c,d){b=a[Qb](T);Q(b,c);m(b,d+hUa);c=Gg(T,NJa,b)[0];return{element:b,Myc:c}}function SI(b,a,c,d,f){LI[z](this,b,a,c,d);this.rWb=!!f;Bx(this)}var TI="^i";function jUa(b){return b.ea()==TI||b.Rw()&&b.bo()}function kUa(b){return b.ea()!=TI&&b.Rw()&&!b.bo()}
var lUa="<div id=",UI=" class=",mUa="oo",nUa="><div class=",oUa="nM",pUa=' role="navigation"><div id=',qUa="n3",rUa="></div></div><div class=",sUa="n6",tUa="n8",uUa=">&nbsp;</div>",vUa="n4 toxOdd",wUa='<span class="CJ">',xUa='</span><span class="n5" ',yUa=">&#x25bc;</span>",zUa="</div></div><div id=",AUa="CI",BUa=' style="display: none;"><div class=',CUa="nW",DUa="nN",EUa="><div id=",FUa="></div></div></div></div>";
function GUa(b,a){var c=a||new U;c[R](lUa,b.FTc,UI,mUa,nUa,oUa,pUa,b.ETc,UI,qUa,rUa,sUa,nUa,tUa,uUa);oTa({id:b.rVc,className:vUa,yU:wUa+V(b.sVc)+xUa+(b.bjb?GJa:I)+yUa},c);c[R](zUa,b.Vlb,UI,AUa,BUa,CUa,nUa,DUa,EUa,b.xUc,UI,qUa,FUa);if(!a)return c[t]()}function VI(b,a){AD[z](this,new eE(b));this.bL=[[],[]];this.vHb=a;this.I8=JB(b);this.Cb=sC(this[uq]())}function HUa(b,a,c){var d=b.YT;c.YIb=b?G(d,b):d;b.Gz(a,c);b.Cc()&&a==1&&IUa(b)}var JUa="CK",KUa="CL";
function LUa(b,a,c,d,f,g){d=d?b.vHb+Lj+d:I;var j=b.W();c=j.ba(T,i,j.ba(Kd,{href:d,"class":JUa},c));m(c,KUa);b.Gz(a,new MUa(c,f,g))}function NUa(b,a){var c=0;b.cC(function(d){if(d instanceof JI)c+=d.hp?d.hp[u]:0},a);return c}function OUa(b,a,c){for(var d=0;d<b.bL[u];d++)if(d!=1||b.nm&&b.nm.Bv())for(var f,g=0;f=b.bL[d][g];g++)if(f.b()&&Zg(f.b(),a)){c(f);break}}function PUa(b,a){a&&!b.nm&&b.s7a();b.nm&&b.nm.ra(a)}var QUa="n7";function RUa(b,a){hm(b.b(Hz),QUa,a)}var SUa=" more",TUa="More";
function UUa(b){b=NUa(b,1);if(b>0)return b+SUa;return TUa}function IUa(b){var a=b.b(Hz),c=b.bL[1][u]>0;Wm(a,c);if(c){ah(a[Tb],UUa(b));if(!b.D1b){b.H().w(a,[Zi,fj],b.N3c);b.D1b=h}}}var VUa="CM";function WUa(b){for(var a,c,d,f=0;f<b.bL[u];f++){a=k,c=i;for(var g,j=0;g=b.bL[f][j];j++)if(g.b()[uc]==VUa){if(c)Ua(c[x],a&&d?I:xd);c=g.b();d=a;a=k}else a||(a=g instanceof JI?(g.hp?g.hp[u]:0)>0:h);if(c)Ua(c[x],a&&d?I:xd)}}function XUa(b,a){b.Rwb(b.G1,k);b.Rwb(a,h);b.G1=a}
function MUa(b,a,c){this.wa=b;this.na=a||i;this.Ela=c||i}function YUa(b,a,c){MUa[z](this,b,a,c)}function ZUa(b,a,c,d){dn[z](this,b,a);this.lFc=c;this.Ela=d||i}function WI(){}function aVa(b){oH[z](this,b.B(),5);this.W_=b}var XI="ld";function YI(b){hy[z](this,LC,b);b=gy(this.B());ih(b.ud,Gx(XI),this.x2c,k,this);Bx(this);this.Kka=new Hf}var ZI="custom";function bVa(b,a){(b=b.za(ZI))&&hTa(b,a)}var cVa="system/",dVa="custom/";
function gEa(b,a,c){var d=Qf(a);return Mf(a,Ty)?jy(b,cVa+d,c):jy(b,dVa+d,c)}function OC(b,a,c){if(!b.hc()||c&&!b.Fi())return i;return jTa(b.za(ZI),a)}function eVa(b,a){var c=a.J().SA;c!=0&&b.Kka.set(c,a)}var fVa="/labels",aJ="ml";
function bJ(b){VI[z](this,b,nD(b));Bx(this);this.Lh=TD(b);this.Aa=Dx(Cx(b));this.co=this.Aa.za(LC);this.Bd=rD(b);this.V_=new kn(this);if(this.co.Fi())this.p5b();else{b=this.Aa;this.V_.w(b.Ya(),b.Je()+fVa,this.p5b)}Vw(O.S(),aJ,this.Hpb,this,h);Vw(O.S(),XI,this.H2c,this,h)}var gVa="nV";function hVa(b){if(!(!b.Cc()||b.gVb))if(!(typeof PH=="undefined"||L&&!vg(Ij))){var a=b.W()[Qb](T);Q(a,PH({EN:gVa,content:I}));var c=b.b(Xx);c[o](a[Tb]);Gg(Do,gVa,c[Qc])[0][o](c[Tb][Tb]);c[Nc](c[Tb]);b.gVb=h}}
var cJ="system",iVa="Manage labels",jVa="settings/labels",kVa="Create new label";
function lVa(b,a){var c=b.co.za(cJ),d=b.co.za(ZI),f=b.aa.ceb()||STa,g=b.aa.Qcb()||TTa;mVa=b.aa.fQa();HUa(b,0,new SI(b.B(),a,c,jUa,h));b.rG(0);f=new MI(b.B(),a,d,f);f.wzb=b.aa.Vxb();HUa(b,0,f);HUa(b,1,new SI(b.B(),a,c,kUa));b.rG(1);HUa(b,1,new MI(b.B(),a,d,g));b.rG(1);b.zP&&b.cC(function(j){j.XXa&&j.XXa(this.zP)});LUa(b,1,iVa,jVa,function(){this.I8[bq]({view:dJ,fk:LC})},b);LUa(b,1,kVa,I,function(){this.Ks&&this.Ks.Pjd()},b)}var eJ="ta";function nVa(b){b.B().Ya()[r](new N(eJ,b))}
function oVa(b){this.d2b=b}function pVa(b){eaa(this,b)}var fJ="<div class=",qVa="py",rVa=' idlink tabindex="0" role="link">',sVa="&nbsp;<h2 class=",tVa="pw",uVa='></h2><div class="',vVa="qn";function wVa(b,a){var c=a||new U;c[R](fJ,qVa,rVa);xI(Kw(b,{Hb:de}),c);c[R](sVa,tVa,uVa,vVa,AF);if(!a)return c[t]()}function xVa(b,a){var c=a||new U;xI(b,c);if(!a)return c[t]()}var yVa="qm";
function zVa(b,a,c){pA[z](this,b);Bx(this);b=this.b();this.H().w(b,P,this.TZc);ik(this.b(),a);K(b,yVa);a={Hb:c,alt:a};this.aa.Nk(a);Q(b,xVa(a))}function gJ(b){AD[z](this,new gF(b));this.hea()}function AVa(b,a){b.lV=a}var hJ="Ja";function iJ(b,a,c){AD[z](this,new gF(a));Ba(this,b);this.Wq=c;this.Wq.lV||AVa(this.Wq,this);this.H().w(this.Wq,hJ,this.yka);this.ia.ha(this.Wq)}function BVa(){}function CVa(){DVa||(DVa=new BVa);return DVa}function jJ(b){Bx(this);gJ[z](this,b)}
function kJ(b,a,c){c=c||Mx().Gn(14,a,h);iJ[z](this,b,a,c);this.lb=yy(a);this.Wq.jB(EVa(this))}var FVa="bx_navbs_";function EVa(b){b=b.lb.db(FVa+b[ec]);return b!=i?!!Number(b):h}var lJ="labelslppnav";function GVa(b,a){kJ[z](this,lJ,b,a);this.cg=KC(b);this.LU=new bJ(b);this.ha(this.LU)}function HVa(){}function IVa(b){AD[z](this,new gF(b));this.Aj=[]}function JVa(b){return function(a,c){var d=b?a.aZ:a.a1,f=b?c.aZ:c.a1;return d<f?1:d>f?-1:a.DXa>c.DXa?1:-1}}function KVa(b,a,c){LVa(b,a,a[pq](),c)}
function LVa(b,a,c,d){var f=b.sRb(c);b.hGa(new MVa(a,c,mm(f)?f:d,f,b.DXa++))}function qH(b,a){for(var c,d=0;c=b.Aj[d];d++)if(c.q7==a)return d;return i}function MVa(b,a,c,d,f){this.Ra=b;this.q7=a;this.aZ=c;this.a1=c>100?c:d||c;this.DXa=f}function mJ(b){IVa[z](this,b);this.Aa=Dx(Cx(b));var a=fy(b).ud;this.lb=yy(b);a.Xsb?this.rKb():ln(this.H(),a,Fx(oy),this.rKb);Mx().Kh(1,this)}
function NVa(b,a,c){if(a!=c)if(!(b.Aj[a].aZ>=100))if(!(c<a&&b.Aj[c].aZ>=100)){var d=b.Aj[a];kf(b.Aj,a);km(b.Aj,d,c);yA++;d=b.ia;var f=d.rb(a);d.Vp(a);d.Jf(f,c);zA();OVa(b)}}function PVa(b,a){return b.q7==a.q7}function QVa(b,a){return a}
function RVa(b){var a=nf(b.Aj);a[el](JVa(h));a=Wva(a,b.Aj,PVa,QVa);for(var c=b.iVa.vc(),d=0;d<b.Aj[u];d++)c[Pb](b.Aj[d].q7);for(d=0;d<a[u];d++){var f=b.Aj[a[d]];f.lma(f.aZ)}var g=0,j;for(d=0;d<=a[u];d++){j=d<a[u]?a[d]:b.Aj[u];if(j>g){var n=j-g,s=NaN,v=NaN;if(d>0){var C=a[d-1];s=b.Aj[C].aZ}if(d<a[u])v=b.Aj[j].aZ;f=NaN;if(v==s){for(var M=C-1;M>=0;M--)if(b.Aj[M].B6()>s){f=M;break}if(ia(f)){s=NaN;f=-1}else s=b.Aj[f].B6();n++}s=ia(s)?100:l.min(s,100);s=SVa(v,s,n);if(!ia(f)){v=s.pop();for(M=f+1;M<=C;M++){f=
b.Aj[M];c.set(f.q7,v);f.lma(v)}n--}for(v=0;v<n;v++){M=s.pop();f=b.Aj[g+v];c.set(f.q7,M);f.lma(M)}}g=j+1}b.iVa=c;return Li(c.Sb()[el](),function(Y){return Y+xj+c.J(Y)})[kd](Bl)}var nJ="sx_no",oJ="bx_lq",pJ="chat";function OVa(b){var a=RVa(b),c=b[uq](),d=b.lb.db(nJ);if(a!=d){c=new lF(c);b.lb.Yc(nJ,a);c.Yc(nJ,a);b[uq]();a=b.lb.db(oJ);d=qH(b,pJ);d=qH(b,ZI)<d;if(a!=d){b.lb.Yc(oJ,d);c.Yc(oJ,d)}c.bh=h;c[Mb]()}}
function SVa(b,a,c){var d,f=0;if(ia(c))e(Error(".154`"+c));if(ia(b)&&ia(a))d=0;else if(ia(b))d=l[ob](a)-c-1;else if(ia(a))d=l[rb](b);else{if(b>=a)e(Error(".155"));var g=b>=0?1:-1,j=a>=0?1:-1;b=l.abs(b);a=l.abs(a);var n=l.max(String(l[rb](b))[u],String(l[rb](a))[u]);b=nx(b,n)[mb](/\./,I);var s=nx(a,n)[mb](/\./,I);for(var v=a=0;;){var C=a>=b[u]?0:Number(b[xb](a))*g;v=10*v+((a>=s[u]?0:Number(s[xb](a))*j)-C);a++;if(v>c){f=n-a;j=b[Zc](0,a);d=Number(j)*g;g=a-j[u];if(g>0)d*=l.pow(10,g);break}}}g=[];j=l.pow(10,
l.abs(f));for(n=1;n<=c;n++){b=d+n;if(f>0)b*=j;else if(f<0)b/=j;g[p](b)}return g}var TVa="pz pp Dv",UVa="p9";function qJ(b){Bx(this);PI[z](this,b,this.aa.un(),TVa,G(this.rSa,this),this.jmb(UVa));this.jb=JB(b)}function rJ(){}var sJ="tools";function VVa(b,a){Bx(this);kJ[z](this,sJ,b,a);this.c2b=new Hf;this.hea()}function WVa(b,a){return b.c2b.J(a)}function tJ(b,a){pB[z](this,b,a,2);this.wf=[];this.uj=h}function uJ(b,a){hf(b.wf,a)}function vJ(b){tJ[z](this,b,5);Bx(this)}function XVa(b){this.Lc=b}
function YVa(){}function wJ(b){return b.J(Rd)}function ZVa(b){var a=new YVa(b);b[kq](Rd,a);return a}function xJ(b,a){vH[z](this,a);this.V=b;this.EB=wJ(b);this.EB.zC==kD&&this.sf(1)}function yJ(){}function aWa(){var b=vA+bWa[t](16);bWa++;return b}function cWa(b){this.Jb=b}function dWa(b,a,c,d,f){this.zYb=b;this.YK=a;this.bF=c;this.H_a=d||0;this.XY=f||0}function zJ(b,a){this.Jb=XF;this.Iua=b;this.Ada=a}function eWa(){this.Wra=0}function AJ(b,a){AD[z](this,a);this.xa=b}
function BJ(b,a,c,d){tB[z](this,b,77,d);this.pkb=a;this.okb=c;this.uj=h}function CJ(b,a){b=[];for(var c,d=0;c=a[d];d++)b[p](Vf+(c+Vf));return Wf(b[kd](hg))}function fWa(b){tB[z](this,b,16,1)}function gWa(b,a){tB[z](this,b,46,a)}function hWa(b,a){tB[z](this,b,98,a);this.uj=h}function iWa(b,a){tB[z](this,b,45,a)}function jWa(b,a){var c=a||new U;c[R](aH);b=b.Zgd;for(var d=b[u],f=0;f<d;f++)c[R](b[f]);c[R](Z);if(!a)return c[t]()}var kWa='"><div act="',lWa="AP",mWa='" tabindex="0">',nWa="Refresh";
function oWa(b,a){var c=a||new U;c[R](X,Ao,kWa,V(b.Odd),S,lWa,mWa,nWa,II);if(!a)return c[t]()}function DJ(b){this.Bn=b}var pWa="Delete forever",qWa="<b>Archive</b>",rWa="Move to Inbox",sWa="Discard drafts",tWa="Not spam",uWa="Remove star",vWa="Report spam",EJ="Delete";
function FJ(b){VB[z](this,b);this.Cb=sC(b);this.om=Mx().Gn(19,b);this.Xk(this.om);Bx(this);this.Yf={};Bx(this);if(!GJ){b=GJ=new Hf;b.set(17,HJ(pWa,17));b.set(7,HJ(qWa,7));b.set(8,HJ(rWa,8));b.set(16,HJ(sWa,16));b.set(18,HJ(tWa,18));b.set(4,HJ(uWa,4));b.set(9,HJ(vWa,9));b.set(10,HJ(EJ,10));this.aa.Oca(GJ)}}function wWa(b){var a=Mx().Gn(16,b.B());a.b2=b.b2;a.gp(b.On);a.T1(b.Me);for(var c=b.ge.Sb(),d=0;d<c[u];d++){var f=c[d];a.ge.set(f,b.ge.J(f))}return a}var xWa="mam",yWa="Pl",IJ="%%",zWa='More actions<div class="AZ J-J5-Ji">&nbsp;</div>';
function AWa(){JJ.id=xWa;m(JJ,yI);var b;b=new U;b[R](X,yWa,J,Ao,W);AI({id:IJ+V(JJ.id)+IJ,xh:zWa},b);b[R](Z);b=b[t]();return b}var BWa="move",CWa="tag",DWa="J-K-I-Js-KK",EWa='Move to<div class="AZ J-J5-Ji">&nbsp;</div>',FWa="J-K-I-Js-Kc",GWa='Labels<div class="AZ J-J5-Ji">&nbsp;</div>';
function HWa(b){JJ.zVc=BWa;JJ.Cmd=CWa;m(JJ,yI);JJ.Rec=IWa(b);JJ.BVc=GJ.J(8);b=new U;b[R](X,yWa,J,Ao,W);JJ.Rec?AI({id:IJ+V(JJ.zVc)+IJ,className:V(DWa),xh:EWa},b):b[R](JJ.BVc);AI({id:IJ+V(JJ.Cmd)+IJ,className:JJ.Rec?V(FWa):I,xh:GWa},b);b[R](Z);b=b[t]();return b}function JWa(b){JJ.Odd=20;var a=new U;a[R](oWa(JJ));b=b.aa.XRb();Ff(b,function(c){a[R](c)});return a[t]()}var KWa="J-K-I-KE";
function LWa(b){KJ[0]=b.Ar(13)?MWa(b):I;for(var a=KJ[0]?0:1,c=1,d=GJ.Sb(),f=0;f<d[u];f++){var g=d[f];if(b.Ar(g))KJ[c++]=GJ.J(g)}for(b=c-1;c<KJ[u];)KJ[c++]=I;for(c=a;c<=b;c++)KJ[c]=KJ[c][mb](RSa,[c>a?FWa:I,c<b?DWa:I,c==a?KWa:I][kd](J));JJ.oS=KJ;a=new U;a[R](X,yWa,J,Ao,W);c=JJ.oS;b=c[u];for(d=0;d<b;d++)a[R](c[d]);a[R](Z);a=a[t]();return a}var NWa='Remove label "';function MWa(b){b=NWa+(Wf(b.Me)+Vf);return HJ(b,13)}
function OWa(b,a){b.Jy=a;b.Owa=h;Q(b.b(),a[mb](/%%([A-z0-9_]+)%%/g,function(c,d){return b.X(d)}));b.Cc()&&b.b2&&PWa(b)}function PWa(b){b.H().w(b.b(),[Xi,fj],b.p8,h,b)}function QWa(b,a){if(b.gvc!=a){b.p8();for(var c=[9,18,98],d,f=0;d=c[f];f++){b.Yf[d]&&b.Yf[d].Ac(!a);b.ge.set(d,!a)}b.gvc=a}}function IWa(b){if(!b.Ea)return k;switch(b.Ea.Ga()){case cz:case pz:case Jy:case az:case Oy:case ul:case nz:case iz:case sz:case fz:case jza:return k}return h}
function HJ(b,a,c){JJ.id=I;JJ.xh=b;Op(JJ,a);ik(JJ,c);return AI(JJ)}function LJ(){}function RWa(){this.Zpa=[]}function MJ(b,a,c,d){Qn[z](this,b,a,c,d||new RWa)}function SWa(b,a){b.Onb=a;NJ(b)}function NJ(b,a){if(b.Onb)b.Onb(b,a||I)}function OJ(b,a){Sn[z](this,a,b)}function TWa(b){b.Xm(h);Yva(b,b.gm);Fh&&b.gm[Wb](lNa,Gj);if(b.e0b)b.gm.maxLength=b.e0b}function UWa(b){if(b.Ve){nh(b.Ve,zm,b.kUb,k,b);nh(b.gm[A],P,b.H4b,k,b);b.Ve.D();b.Ve=undefined;b.nLa=undefined}}var VWa="(^|[- ,_/.:])",PJ="span";
function WWa(b,a){if(b.gEc!=a){if(b.cxa)Fa(b.cxa[x],a==I?ud:yd);if(b.HGa&&b.nLa){var c=a[Kb](/^(.+),[ ]*([^,]*)$/),d=c&&c[1]?c[1][Cc](wj):[];if(a[nc](a[u]-1,1)==wj||d[u]!=b.nLa[u]){var f=d[d[u]-1]||I;if(Kn(b)&&f!=I){var g=Kn(b).un();if(g[od]()[Db](f[od]())==0){d[d[u]-1]=g;pa(b.gm,d[kd](wj)+wj)}}b.nLa=d;b[r](mj);b.dp(-1)}if(c)a=c[u]>2?Pf(c[2]):I}c=new RegExp(VWa+ox(a),ii);for(f=b.eEc;d=b.bf[f];f++)if(d instanceof MJ)NJ(d,a);else if(!(b.z9&&b.z9[d.ea()]))if(g=d.un()){var j=g[Kb](c);if(a==I||j){d.ra(h);
(j=g[Db](j[0]))&&j++;a==I?d.xb(g):d.xb(b.W().ba(PJ,i,g[nc](0,j),b.W().ba(Ph,i,g[nc](j,a[u])),g[nc](j+a[u],g[u]-a[u]-j)))}else d.ra(k)}else d.ra(a==I);b.gEc=a}}function XWa(b,a){for(a=a;a;){var c=Yg(a),d=b.li().IMa(a);if(d){d.wa=a;b.ha(d);d.Pb(a)}a=c}}var YWa="AX",ZWa="AW",aXa="AR";
function QJ(b,a,c,d,f){var g=typeof PH!="undefined"&&!(L&&!vg(Ij));b=qC(b).W();b=f?new OJ(undefined,b):new Sn(b,g?LJ.S():undefined);b.ra(k);b.bY=k;b.Qk(f||k);if(g)d=PH({EN:YWa,content:d});Q(c,d);b.Pb(c);a.Zs(b);K(b.b(),g?ZWa:aXa);this.Ls=b}function bXa(b,a,c){ih(b.Ls,no,a,k,c)}var cXa="filterchange";function dXa(b,a,c,d,f,g){QJ[z](this,a,c,d,f,g);this.Qm=b;ih(this.Ls,cXa,this.l3c,k,this);ih(this.Ls.b(),ij,this.o3c,k,this)}function eXa(b,a,c){b.FFb=c?G(a,c):a}function fXa(b,a,c){b.aLb=c?G(a,c):a}
function gXa(b,a,c){b.M_b=c?G(a,c):a;SWa(b.Ls.rb(rn(b.Ls)-1),function(d,f){d.ra(f==I)})}function hXa(b,a,c){a=c?G(a,c):a;SWa(b.Ls.rb(rn(b.Ls)-2),a)}function iXa(b,a,c,d,f,g){dXa[z](this,b,a,c,d,f,g);this.Qm=b;this.Cb=sC(a);this.lq=c;ih(this.Ls,Wn,this.Vm,k,this);ih(this.Ls,mj,this.j3c,k,this);this.tGb=this.Ls.rb(rn(this.Ls)-3);this.tGb.ra(k)}
function jXa(b,a,c){for(var d,f=0;d=b.Ls.rb(f);f++)if(d instanceof RJ){var g=d.un();if(d.Dda!=(b.Qm.HT(g)||0))switch(d.Dda){case 0:c[p](g);break;case 2:a[p](g);break}}return a[u]+c[u]>0}function kXa(b,a){var c=rn(b.Ls),d=b.Ls.rb(c-2);c=b.Ls.rb(c-1);if(a){d.ra(k);c.ra(k)}else{var f=b.Ls.GE();NJ(d,f);NJ(c,f)}b.tGb.ra(a)}function SJ(){this.Zpa=[]}function RJ(b,a,c,d){Qn[z](this,b,a,c,d||new SJ);this.Maa(h)}function lXa(b,a){mXa(b,a);b.k3a=a==1}var nXa="-Ky-Jp",oXa="-JR-Jp";
function mXa(b,a){if(b[r](a!=0?Yia:Zia)){b.Oe(16,a!=0);b.Dda=a;a=b.li();a.kT(b,a.Qb()+nXa,b.Dda==1);a.kT(b,a.Qb()+oXa,b.Dda==2)}}function pXa(b){this.j0=b}var qXa="J-M-JJ",rXa='"><div></div><input type="text" maxlength="40" ignoreesc="true" /><div class="',sXa="A0",tXa="J-M-Jz",TJ='</div><div class="';
function uXa(b,a){var c=a||new U;c[R](X,qXa,rXa,sXa,xF,tXa,W);for(var d=b.Ti,f=d[u],g=0;g<f;g++)c[R](X,uo,zI,76,W,V(d[g]),Z);c[R](TJ,po,mE);d=b.Bz;f=d[u];for(g=0;g<f;g++){var j=d[g];c[R](X,uo,zI,j,W,vXa[j],Z)}c[R](X,po,mE);wXa(b,c);if(!a)return c[t]()}var xXa="J-LC",yXa="J-LC-Jz",zXa="J-LC-Jo",AXa="<hr>",UJ="J-JK",BXa='" style="display: none;">',CXa="Apply";
function DXa(b,a){var c=a||new U;c[R](X,qXa,rXa,sXa,xF,tXa,W);for(var d=b.Ti,f=d[u],g=0;g<f;g++)c[R](X,xXa,wl,yXa,wl,zXa,J,Ao,mE,V(d[g]),II);c[R](Z,b.rG?AXa:I,X,UJ,BXa,CXa,Z);wXa(b,c);if(!a)return c[t]()}function EXa(b,a){var c=a||new U;b=b.Bz;for(var d=b[u],f=0;f<d;f++)c[R](X,uo,W,DCa[b[f]],Z);if(!a)return c[t]()}var FXa="Create new";function wXa(b,a){b=a||new U;b[R](X,UJ,zI,14,W,FXa,TJ,UJ,zI,78,W,iVa,Z);if(!a)return b[t]()}
function GXa(b,a){this.V=b;this.kl=[];this.Jia={};if(a)for(b=0;b<a[u];b++){var c=new bEa([a[b]],b,this.V);this.Jia[c.ea()]=c;this.kl[p](c)}this.I1={}}var HXa="/custom/*";
function VJ(b){VB[z](this,b);Bx(this);this.Aa=Dx(Cx(b));this.Cb=sC(b);this.ge.set(76,h);this.ge.set(77,h);this.ge.set(14,h);var a=this.Aa,c=a.za(LC);if(c){this.H().w(a.Ya(),c.Je()+HXa,this.B2c);this.K2()}else this.Qm=new GXa(this.B(),[]);this.dMb=[];this.jb=JB(b);this.cg=KC(b);b=QB(8);b.NEa[p](fz,cz,Zy);b=QB(9);b.NEa[p](kz,sz,Py,ez);b=QB(10);b.NEa[p](kz,Py,ez);b=QB(4);b.NEa[p](sz);TB(this,78,h)}
function IXa(){for(var b=xf(vXa),a=[],c=0;c<RB[u];c++)a[p](RB[c][jr]);for(c=0;c<b[u];c++)jf(a,da(b[c],10));return a}function JXa(b,a,c,d,f,g){var j=new QH(i,i,CI.S(),b.W());j.CXb=Jz(Rz(b.B()),1033);j.Pb(a);j.OZb=c;j.Jfd=d;j.D7=g||k;Dn(j,64,h);ih(j,pn,f,k,b);return j}function KXa(b,a){if(a.vj())a.Hi(k);else{b=[b.U_,b.XM,b.hV,b.aa.Uga()];for(var c=0;c<b[u];c++){var d=b[c];d&&d.Hi(d==a)}}}function LXa(b,a){if(L)for(b=b;b;b=b[A])if(b[ed]&&mia(b)==ee)Ca(b[x],a||I)}
function MXa(b,a){if(CD())switch(a){case 64:case 42:case 95:return k}return h}var WJ="Please enter a new label name:",NXa="New Label";function OXa(b,a){QC(b.cg,WJ,I,NXa,G(b.s3,b,a),iA(b.B()))}
function PXa(b){if(b.iV){b.hV.Zs(i);b.iV.fe().D()}var a=[],c=b.Dd();Ff(b.Qm.Jo(),function(s){s=s.ea();s!=c&&a[p](s)});var d={Ti:a,Bz:xf(vXa)};b.iV=new QJ(b.B(),b.hV,b.Hmb,uXa(d),h);bXa(b.iV,b.aQ,b);hXa(b.iV,b.vSa,b);d=b.iV.fe();for(var f=0,g,j=0;g=d.rb(j);j++){var n=g.b();Number(n[Uc](fG)||n.act)==76&&awa(g,a[f++])}ih(b.iV.fe(),Wn,b.V3c,k,b)}
function QXa(b){if(b.DA){ph(b.DA.fe().b());b.U_.Zs(i);b.DA.fe().D()}b.zLa=[];for(var a=Li(b.Qm.Jo(),function(j){return j.ea()}),c=0;c<a[u];c++)b.zLa[p](JC(a[c]));c={Ti:a,rG:a[u]>0};b.DA=new iXa(b.Qm,b.B(),b.U_,b.jkb,DXa(c),h);bXa(b.DA,b.aQ,b);hXa(b.DA,b.vSa,b);eXa(b.DA,b.t3,b);fXa(b.DA,b.fUc,b);gXa(b.DA,b.j7b,b);var d=b.DA.fe(),f=0,g;for(c=0;g=d.rb(c);c++)g instanceof RJ&&awa(g,a[f++]);ih(b.DA.fe(),Wn,b.t2c,k,b)}
function RXa(b){var a=IXa(b),c={Bz:a};b.hn=new QJ(b.B(),b.XM,b.p2a,EXa(c));bXa(b.hn,b.aQ,b);var d;for(c=0;d=a[c];c++)b.hn.fe().rb(c).kb=d}function SXa(b,a,c){Ff(b.Qm.Jo(),function(d){d=d.ea();if(!Mf(d,Ty)){var f=a[d]==c?2:a[d]>0?1:0;this.Qm.HT(d)!=f&&this.Qm.hCa(d,f)}},b);b.Y6a=c;b.CGa=k}function TXa(b){b.CGa||Ff(b.Qm.Jo(),function(a){a=a.ea();Mf(a,Ty)||this.Qm.hCa(a,a==this.Me?2:1)},b);b.Y6a=0;b.CGa=h}
function UXa(b){return Xwa(b.ge,function(a,c){switch(Number(c)){case 12:case 13:case 14:case 76:case 77:case 78:return k;default:return a}})}function VXa(b){b.hn||RXa(b);return b.hn.fe()}var XJ='<tr class="',WXa="zfUHAf",YJ='"><td class="',ZJ="MZZu1b",XXa='"><input type="checkbox" style="visibility:hidden">&nbsp;</td><td class="',YXa='"></td></tr>';function ZXa(b,a){b=a||new U;b[R](XJ,WXa,YJ,ZJ,XXa,ZJ,OH,ZJ,YXa);if(!a)return b[t]()}
function aYa(b,a){b=a||new U;b[R](XJ,WXa,YJ,ZJ,OH,ZJ,OH,ZJ,YXa);if(!a)return b[t]()}var bYa='" colspan=3 style="text-align:center">';function cYa(b,a){var c=a||new U;c[R](XJ,WXa,YJ,ZJ,bYa,b.ke,TG);if(!a)return c[t]()}function dYa(b,a){b=a||new U;b[R](vTa);if(!a)return b[t]()}function eYa(){}function fYa(){}function gYa(){this.Cx={}}function hYa(b,a){for(var c=[],d=0;d<a[u];d++){var f=a[d];if(b.Vo(f)){delete b.Cx[f];c[p](f)}}b[r](new iYa(c))}function jYa(b){hYa(b,xf(b.Cx))}
function kYa(b,a){if(b.Cx[a])delete b.Cx[a];else b.Cx[a]=h;b[r](new iYa([a]))}var lYa="selection";function iYa(b){N[z](this,lYa);this.kh=b}function mYa(){this.Ovb=new Hf;this.gIb=Zx}function aK(b,a,c){Ba(this,b);this.ke=a;this.thd=c}
function bK(b,a,c){AD[z](this,new gF(b));this.Ll=a;this.Aa=this.Ll.mb;this.Og=c.Jw();this.E_=c.E_;this.az=c.Ut();this.LBa=c.LBa;this.cXa=c.cXa;this.Rf=this.az*this.Og;this.Fia=new Hf;this.qi=new Hf;this.Om=[];this.vl=c.a_b||new gYa;this.ynb=c.T2a;this.n8=c.n8;this.Gka=[];this.GUa={};this.PD=c.PD||nYa;this.fkb=c.fkb;this.na=new eYa;this.jU=[];this.Fbb=[]}function oYa(b){return b.Ll.J().xK()}function pYa(b,a,c){qYa(b,a,c);cK(b);rYa(b)}
function qYa(b,a,c){if(b.NS)return k;var d=!sYa(b);b.Bh&&a!=b.elb&&a==kD&&d&&b.vda();if(b.Bh)b=k;else if(d){b.Kd.rg();b.elb=a;d=b.na.UKb()||new zRa;d[Ok](b.Rf);d.Cf=b.Og+b.ynb;d.zja=b.Og-b.n8;d.lma(a);c&&d.axb(c);b.Bh=b.Kd[pb](d);a==Ph&&b.Bh.Se(I);b.Bh.Ie(b);b.Bh.lB(b);b.na.a7b(b.Bh);b.qca();b=h}else{a=b.Ll.J().xK();if(b.az>0&&a<=b.Rf){a=l.max(0,l[rb]((a-1)/b.Og));b.mha(a)}b=k}return b}
function tYa(b,a){a=a||new zRa;var c=IRa(b.Kd);if(c){a.wwb(c);c=b.Kd;var d=HRa(c);c.Eo=d;c.L8=d;a[Ok](d);a.Cf=b.Og;a.lma(kD);b.Bh=b.Kd[pb](a);b.Bh.Ie(b);b.Bh.lB(b);b.qca()}}function sYa(b,a){a=a?b.Og+a:b.Og;a-=b.n8;return FRa(b.Kd,b.Rf,a)&&b.Kd.Es()}function cK(b){if(b.Lj&&b.Ll.Fi()&&b.Kd.Es()){b.na.qpa();var a=b.E_?1E3:b.Og;if(!b.nR||b.EF<a)uYa(b)}}var vYa="1.9b",wYa="Ma";
function uYa(b){var a=b.Kd.J(b.Rf);a=a&&a.hc();var c=FRa(b.Kd,b.Rf,b.Og);if(a||c){xYa(b);yYa(b);if(b.EF==0){b.na.xHa();Ff(b.jU,function(n){n.xHa()})}b.Lj.AHa();c=0;for(var d=b.E_?1E3:b.Og,f=b.EF;f<d;f++)if((a=b.Kd.J(b.Rf+f))&&a.hc()){var g=a.J(),j=g.ea();b.Lj.QGa(g);b.Fia.set(j,a);a.Iz();b.qi.set(j,g);b.Om[p](g);c++}else break;if(c){b.Lj.PLa();b.EF+=c;rYa(b)}if(FRa(b.Kd,b.Rf,b.Og)){b.EGa=h;Ff(b.Fbb,B());b.sGa();rYa(b);if(b.elb==kD&&b.cXa)b.JQ();else b.Tl&&kfa.J()&&Fh&&!vg(vYa)&&b.Lj.MPb();b.NS=b.fkb}b.na.dN();
b[r](wYa)}}function rYa(b){if(b.nR||b.NS)if(b.EF&&b.ft==2){b.Mn(0);b.ft=1}else if(b.EGa&&b.ft==3){b.Mn(b.EF-1);b.ft=1}else if(b.EGa&&b.ft==4){b.Mn(zYa(b,b.Lfc,b.Om));b.ft=1;b.Lfc=i}else if(b.ft>=100)if(b.na.Rcc())b.ft=1}function zYa(b,a,c){var d=c[u];if(d==0)return-1;var f,g;for(f=0;f<d;f++){g=b.PD(a,c[f]);if(g<=0)break}if(g==0||f==0)return f;if(f>=d)return d-1;if(f==0)return d;return f}
function AYa(b){var a=b.Bh;b.Bh=i;var c=k;if(a.Vj())b.na.XTa(a);else if(a.h1()){c=qYa(b,b.elb);if(!c){b.na.b7b(a);cK(b);rYa(b)}}else b.na.XTa(a);b.qca();b.na.Z6b(a)}var BYa="Co";
function xYa(b){if(!b.nR){Ff(b.jU,function(d){d[kr]()});Ff(b.Fbb,function(d){d[kr]()});b.na.i6b();var a=b.kda.b();Q(a,I);b.p4a=0;L&&K(a,BYa);if(b.ft==1&&b.Th>=0&&b.Th<b.Om[u]){b.ft=4;b.Lfc=b.Om[b.Th]}b.Lj.Lub();b.EF=0;b.EGa=k;b.qi[bc]();a=b.Fia.Oa();for(var c=0;c<a[u];c++)a[c].bB();b.Fia[bc]();Ia(b.Om,0);b.Th=-1;Ia(b.Gka,0);b.GUa={};b.nR=h;b.eKa=k}}var dK="sb";function CYa(b){var a=b.vl.XG();if(a==GF)b.hPa=2;else if(a==dK)b.hPa=1}
function yYa(b){if(b.hPa==1){b.Qz(Zx);jYa(b.vl)}else b.hPa==2?b.Qz(Zx):b.Qz(b.vl.XG());b.hPa=0}function eK(b){b.Tl&&b.Lj.hB(b.Th)}function nYa(b,a){b=b.ea();a=a.ea();var c=b[u]-a[u];return c?c:b<a?-1:b>a?1:0}function DYa(b,a,c,d){this.V=b;this.Qdd=a;this.Mvc=c;this.na=d?d:i;this.Dz=this.V.J(XC);this.Hh=new hC(1E4,this.Dz)}function EYa(b){var a=Zf();b.DRc=a;b.xya=a+FYa(b,b.Dz.TZ(a));GYa(b,a)}function FYa(b,a){for(b=0;b<HYa[u];b+=2)if(a<HYa[b]||HYa[b]==-1)return HYa[b+1];return 12E4}var IYa=":23";
function GYa(b,a){if(b.ab){cA(b.ab);b.ab=i}if(b.Hh)if(a>=b.xya)if(b.Hh.My()&&b.Mvc[z](b.na))b.bWa();else b.ab=bA(IYa,b.ix,1E4,b);else b.ab=bA(IYa,b.ix,b.xya-a,b)}function JYa(b,a,c){this.vl=b;this.xa=a;this.Ea=c}function KYa(b,a){b=a||new U;b[R](vTa);if(!a)return b[t]()}function LYa(b,a){var c=a||new U;c[R](XJ,b.oaa,Gl,b.cM,W);if(!a)return c[t]()}var fK="</tr>";function MYa(b,a){b=a||new U;b[R](fK);if(!a)return b[t]()}
function gK(b,a){var c=new eE(b[uq]());AJ[z](this,b,c);this.hg=c;this.vl=b[Qk]();this.zC=a.zC;this.TD=a.TD;this.TD.Ig(this);this.ZJb=a.SZa;this.GDa=a.GDa;this.Cb=sC(this[uq]())}function NYa(b,a,c){b.GB=-1;b.FIa=i;var d=hK(b,a);if(d){var f=iK(b,d),g=b.xa[Vp](f);if(c){b.GB=a;b.FIa=f}a=jK(b,g,2,i);b.TD.uz(d,a)}}function OYa(b,a,c){var d=b.xa[Vp](iK(b,c));d=jK(b,d);b.TD.o2c(a,c,d)}function PYa(b,a){for(var c=b.hg.b();a&&a!=c;){var d;if(a.id&&(d=b.td(a.id))&&Mf(d,RE))return a;a=a[A]}return i}
function iK(b,a){if(a==i)return I;return b.td(a.id)[Zc](1)}function hK(b,a){b=b.hg.b();for(b=Wg(b);b&&a>=0;){var c=Wg(b);if(a>=c[kl][u])a-=c[kl][u];else return c[kl][Ab](a);b=Yg(b)}return i}function jK(b,a,c,d){var f=b.vl.Vo(a.g_());b=a.ea()==b.FIa;return new dWa(a,f,b,c,d)}function QYa(){}function RYa(){this.yJ=[]}function kK(b,a){this.Jb=b;this.ey=a}function lK(b){this.Jb=b}var mK="date";function nK(){this.Jb=mK}function oK(b){this.uB=b}var SYa="icons";function pK(){this.Jb=SYa;Bx(this)}
function qK(b){this.DOa=b}var rK="personal";function sK(b){this.Jb=rK;this.fu=b}var TYa="yW";function UYa(b,a){var c=a||new U;c[R](nE,b.Uhd,S,TYa,W,b.zuc,b.Vhd,Z);if(!a)return c[t]()}var VYa="senders";function tK(){Bx(this);this.Jb=VYa}function WYa(b,a){var c=new U;a.ppa&&Ff(a.ppa,function(d){c[R](d(a))});a.zuc=c[t]()}function XYa(b){this.vcc=b}var YYa="star";function ZYa(){this.Jb=YYa;Bx(this)}function aZa(b){this.qZa=b}function uK(b){this.mkb=b}function bZa(b,a){Bx(this);this.Ea=b;this.cg=a}
function cZa(b,a,c){a[p](qEa(b.cg,c))}var dZa="xS",eZa="xT",fZa='<div class="y6"><span id="',gZa='&lrm;<span class="y2">&nbsp;-&nbsp;';function hZa(b,a){var c=a||new U;c[R](X,dZa,wl,eZa,W);iZa(b,c);FQa({WVb:fZa+b.qgc+W+b.m2+gB+(b.xfc?gZa+b.xfc+gB:I)+Z},c);c[R](II);if(!a)return c[t]()}var jZa="yi";function iZa(b,a){var c=a||new U;if(b.dxa){c[R](X,jZa,Gl,b.nkb,W);kZa(b,c);c[R](Z)}if(!a)return c[t]()}var lZa='">&nbsp;</div>';function kZa(b,a){var c=a||new U;c[R](b.dxa,X,vl,lZa);if(!a)return c[t]()}
var vK="subject";function wK(b,a){this.Jb=vK;this.mkb=new bZa(b,a)}function mZa(b,a){b=I;if(a.GPa()&&a.dJb)b=J+a.dJb;return a.sH()+b}function nZa(){this.oq=[]}function xK(b,a){a.Ig(b);b.oq[p](a)}function oZa(b,a){for(var c=0;c<b.oq[u];c++)if(b.oq[c][pq]()==a)return b.oq[c];return i}function pZa(b,a,c,d){var f=a[Zb];if(f==P||f==ej)b.V8(a,c,d);else if(f==ij)b.BTa(a,c,d);else if(f==fj)nm(a,2)?b.h5b(a,c,d):b.g5b(a,c,d);else f==pj&&b.ATa(a,c,d)}var qZa="<table>";
function rZa(b,a,c){var d=new U;if(L){d[R](qZa);yK.oaa=b.e_(c);yK.cM=sZa(b,c);LYa(yK,d);tZa(b,c,d);MYa(i,d);d[R](VA);b=b.W()[Qb](T);Q(b,d);d=Wg(b)[kl](0);for(b=0;b<d[cl][u];b++){m(a[cl][b],d[cl][b][uc]);a[cl][b].id=d[cl][b].id;Q(a[cl][b],d[cl][b][wk])}}else{tZa(b,c,d);m(a,b.e_(c));Q(a,d)}}function tZa(b,a,c){for(var d=0;d<b.oq[u];d++)b.oq[d].sW(a,c)}function sZa(b,a){return a[Vp]()?b.Zj(RE,a.ea()):I}function zK(b){this.oq=[];this.ub=b[Wq];Bx(this);this.aa.wc()}function uZa(b){this.paa=b}
function AK(b){this.ub=b}function BK(b,a){this.ub=a[Wq];this.vl=a[uk];this.Ea=a[Pc];this.V=b;this.Ixb=h;Bx(this);gK[z](this,a.ZZb,vZa(this,a))}var wZa="nA",CK="xY",xZa=" zt";function vZa(b,a){for(var c=new QYa,d=b.iLb(a),f=b.aa.Acb(a)||[new zJ(wZa,CK),new ZYa,new tK,new sK(a.Gma),new wK(a[Pc],KC(b.V)),new pK,new nK],g=0,j;j=f[g];g++)xK(d,j);c.TD=d;d=b.i7a(a);c.SZa=d;c.GDa+=xZa;b.aa.Y_a(c,a);return c}function yZa(b,a,c,d){this.xa=a;this.pA=c;this.Ea=d}function zZa(b,a){this.xa=b;this.pA=a}
function AZa(b,a){this.jb=JB(b);this.Ea=a}function DK(b,a,c){bK[z](this,b,a,c);this.Xi=a}function EK(b){this.hg=b}function BZa(b,a,c,d,f,g){AD[z](this,new eE(b));Bx(this);this.Ea=a;this.eFb=d;this.xa=f;this.Du=g;this.jb=JB(b);this.Lb=Tz(b);Pw(this.H(),this.b(),aB,this.M1c)}function FK(b){if(b.xa.xwa()){var a;a=b.Du.XG();a=a==GF?CZa(b):a==dK?DZa(b):EZa(b);if(a==I){Q(b.ia.b(),I);b.qc(k)}else{Q(b.ia.b(),a);b.ia.qe(Wx);b.qc(h)}}else b.qc(k)}
var FZa="yb",GZa="All ",GK="</b>",HZa=" conversations on this page are selected.",HK='<span id="',IZa='" class="x8">Select all conversations that match this search</span>',JZa='" class="x8">',KZa="Select all ",LZa=" conversations in ";
function CZa(b){var a=b.xMa();switch(b.Ea.Ga()){case Jy:case Nd:case Oy:case ul:b=new U;b[R](X,fo,J,FZa,W,pE+(GZa+(ZG+(a.ag+(GK+(HZa+(gB+(J+(HK+a.Ij+IZa)))))))),Z);a=b[t]();return a;default:b=new U;a=pE+(GZa+(ZG+(a.NKb+(GK+(HZa+(gB+(J+(HK+a.Ij+JZa+(KZa+(ZG+(a.ZF+(GK+(LZa+(V(a.LQ)+gB))))))))))))));b[R](X,fo,J,FZa,W,a,Z);a=b[t]();return a}}var MZa="yc",NZa="All conversations in this search are selected.",OZa='" class="x8">Clear selection</span>',PZa=" are selected.";
function DZa(b){var a=b.xMa();switch(b.Ea.Ga()){case Jy:case Nd:case Oy:case ul:b=new U;b[R](X,fo,J,MZa,W,pE+(NZa+(gB+(J+(HK+a.Ij+OZa)))),Z);a=b[t]();return a;default:b=new U;a=pE+(GZa+(ZG+(a.ZF+(GK+(LZa+(V(a.LQ)+(PZa+(gB+(J+(HK+a.Ij+OZa))))))))));b[R](X,fo,J,MZa,W,a,Z);a=b[t]();return a}}
var QZa="You can change your chat history options in ",RZa='<span class="e" id="',IK="Settings",SZa="&nbsp; ",TZa='" target="_blank">Learn more</a>',UZa="<span id=",VZa=' class="x2">Delete all spam messages now</span> (messages that have been in Spam more than 30 days will be automatically deleted)',WZa="(messages that have been in Spam more than 30 days will be automatically deleted)",XZa=' class="x2">Empty Trash now</span> (messages that have been in Trash more than 30 days will be automatically deleted)',
YZa="(messages that have been in Trash more than 30 days will be automatically deleted)",ZZa="yd",a_a="Tip:",b_a=" Archive rather than delete in order to find old emails using search.",c_a='<a class="x9" target=_blank href="',JK="&nbsp;&nbsp;",d_a='" class="x8">Return to normal search</span>';
function EZa(b){var a=oYa(b.xa),c=b.Ea.Ga(),d=b.aa.Tdb(c);if(d)return d;switch(c){case fz:if(!bx()){a={};a.Z1=b.X(KK.kFa);a.tc=Yz(b.Lb,29290);b=new U;b[R](X,fo,W,QZa+(RZa+a.Z1+jE+(IK+(gB+(SZa+(CGa+a.tc+TZa))))),Z);b=b[t]();return b}break;case Yy:b={PAc:b.X(KK.nDb),xR:a};a=new U;a[R](X,fo,W);b.xR>0?a[R](UZa+b.PAc+VZa):a[R](WZa);a[R](Z);b=a[t]();return b;case Zy:b={GCc:b.X(KK.u1a),xR:a};a=new U;a[R](X,fo,W);b.xR>0?a[R](UZa+b.GCc+XZa):a[R](YZa);a[R](Z);b=a[t]();return b;case Jy:case Oy:if(b.Ea.Rc(Zya)){b=
{Fy:Yz(b.Lb,6576),UWc:b.X(KK.oEb)};a=new U;a[R](X,fo,J,ZZa,W,pE+(ZG+(a_a+(GK+(b_a+(gB+(J+(c_a+b.Fy+W+(eB+(hB+(JK+(HK+b.UWc+d_a))))))))))),Z);b=a[t]();return b}break}return I}function e_a(){}function LK(b){fF[z](this,b,vA)}function f_a(b,a){var c=a||new U;c[R](tGa,b.id?gE+b.id+Zd:I,b[Pk]?hE+b[Pk]+Zd:I,b.tA?uGa:I,iE,b[uc]?b[uc]:Rd,b.Xrc?J+b.Xrc:I,jE,b.Ab,gB);if(!a)return c[t]()}var g_a="Di";function h_a(b,a){b=a||new U;b[R](X,g_a,lZa);if(!a)return b[t]()}var MK="Dj",NK=" - ",i_a="</b> of <b>millions</b>";
function j_a(b,a){var c=a||new U;c[R](WG,MK,W,ZG+(b.Mt+(GK+(NK+(ZG+(b.Cv+i_a))))),gB);if(!a)return c[t]()}var k_a="</b> of <b>hundreds of thousands</b>";function l_a(b,a){var c=a||new U;c[R](WG,MK,W,ZG+(b.Mt+(GK+(NK+(ZG+(b.Cv+k_a))))),gB);if(!a)return c[t]()}var m_a="</b> of <b>tens of thousands</b>";function n_a(b,a){var c=a||new U;c[R](WG,MK,W,ZG+(b.Mt+(GK+(NK+(ZG+(b.Cv+m_a))))),gB);if(!a)return c[t]()}var o_a="</b> of <b>thousands</b>";
function p_a(b,a){var c=a||new U;c[R](WG,MK,W,ZG+(b.Mt+(GK+(NK+(ZG+(b.Cv+o_a))))),gB);if(!a)return c[t]()}var q_a="</b> of <b>hundreds</b>";function r_a(b,a){var c=a||new U;c[R](WG,MK,W,ZG+(b.Mt+(GK+(NK+(ZG+(b.Cv+q_a))))),gB);if(!a)return c[t]()}var s_a=" of about ";function t_a(b,a){var c=a||new U;c[R](WG,MK,W,ZG+(b.Mt+(GK+(NK+(ZG+(b.Cv+(GK+(s_a+(ZG+(b[Yq]+GK))))))))),gB);if(!a)return c[t]()}var OK=" of ";
function u_a(b,a){var c=a||new U;c[R](WG,MK,W,ZG+(b.Mt+(GK+(NK+(ZG+(b.Cv+(GK+(OK+(ZG+(b[Yq]+GK))))))))),gB);if(!a)return c[t]()}var v_a="</b> offline";function w_a(b,a){var c=a||new U;c[R](WG,MK,W,ZG+(b.Mt+(GK+(NK+(ZG+(b.Cv+(GK+(OK+(ZG+(b[Yq]+v_a))))))))),gB);if(!a)return c[t]()}function PK(b,a){AD[z](this,new eE(b));this.xa=a;this.Ll=a.Ll;this.zrb=this.ia.b()}function x_a(b,a){b.Xkb=a}
function y_a(b){var a=b.zrb,c=b.Ll,d=k;if(c.hc()){var f=c.J();c=f.xK();f=f.fN()?f.I_()?2:1:f.I_()&&f.uua()>f.xK()?2:0;var g=b.xa.Jw(),j=b.xa.Ut(),n=l[ob](c/g)-1;g=g*j;var s=b.xa.Dp();if(s>0){d={};d.jkd=j>=2;d.myb=j!=0;d.nyb=f==1||j!=n;d.nkd=f!=1&&n-j>=2;d.iRa=b.Xkb;d.HMc=b.X(ki);d.mhb=b.X(oy);d.nhb=b.X(Zx);d.KMc=b.X(Rd);d.Amd=b.keb(g,s,c,f);Q(a,b.Ybb(d));d=h}else Q(a,h_a());b.VFb(d)}else Q(a,h_a())}function z_a(b,a,c){var d={};d.Mt=b+1;d.Cv=b+a;d.total=c;return d}
function A_a(b,a){return b==2?w_a(a):b==1?a[Yq]>=2E6?j_a(a):a[Yq]>=2E5?l_a(a):a[Yq]>=2E4?n_a(a):a[Yq]>=2E3?p_a(a):a[Yq]>=200?r_a(a):t_a(a):u_a(a)}function QK(b,a,c){PK[z](this,b,c);this.pA=a}var B_a='<h2 class="',C_a="Conversations",D_a='</h2><div class="',E_a="yV",F_a='" role="navigation">',G_a="Select",H_a=': <span class="',I_a="yU",J_a='<span selector="',K_a='" role="link" tabindex="0">';
function L_a(b,a){var c=a||new U;c[R](B_a,qD,W,C_a,D_a,E_a,F_a,G_a,H_a,I_a,W);for(var d=b.pXa,f=d[u],g=0;g<f;g++){var j=d[g];c[R](J_a,j[ec],K_a,j.ke,gB,g!=f-1?b[Vq]+J:I)}c[R](II);if(!a)return c[t]()}function M_a(b){this.vl=b}function RK(b,a){Bx(this);BD[z](this,b,new eE(b));this.xa=a;this.JD()}var N_a="Fn",O_a='<span sort="',P_a='class="Fp"',Q_a='class="Fo"';
function R_a(b,a){var c=a||new U;c[R](X,N_a,W);for(var d=b.Gsc,f=d[u],g=0;g<f;g++){var j=d[g];j={Ku:j.Ga(),message:j.Yg(),rrc:j.Ga()==b.fAc};var n=c||new U;n[R](O_a,V(j.Ku),Vf,j.rrc?P_a:Q_a,Uf,V(j[Tq]),gB);c||n[t]();c[R](J)}c[R](Z);if(!a)return c[t]()}function S_a(b,a){this.Xd=b;this.SB=a}function T_a(){}function U_a(b){Bx(this);this.V=b}var SK="ka";function V_a(b){return b.J(SK)}function W_a(b,a){var c=[X_a];b=b.aa.feb(a);for(a=0;a<b[u];a++)b[a]&&c[p](b[a]);return c}var Y_a="sx_sds";
function Z_a(b,a){var c=yy(b.V).Oo(Y_a);b=W_a(b,a);for(a=0;a<b[u];a++)if(c==b[a].Ga())return c;return mK}var TK="sort";function a0a(b,a){BD[z](this,b,new eE(b));this.Ea=a;this.iZa=this.Ea.Rc(TK);if(!this.iZa)this.iZa=mK;this.jb=JB(b);this.Gbc=V_a(b);this.JD()}var b0a="D E";
function c0a(b,a,c,d,f,g,j){gF[z](this,b);this.gj=c;this.zoa=d;this.Lla=f;this.ald=j?new a0a(b,a):i;m(this.b(),[g,b0a][kd](J));d=new LK(b);b=new TA(b,c);b[Jq](vA);d.ha(b);if(this.zoa){!a.Rc(TK)||x_a(this.zoa,2);this.zoa[Jq](vA);d.ha(this.zoa)}if(j){this.ha(d);this.Lla&&this.ha(this.Lla);this.ha(this.ald)}else{this.Lla&&this.ha(this.Lla);this.ha(d)}}
function UK(b,a){this.V=b;this.Z=Rz(b);this.Ea=a[Pc];this.vl=a[uk];this.RYa=a.Gma;this.D0a=a.gCb;this.az=a.rUa;this.Og=a.o9;this.Aa=Dx(Cx(this.V));this.ynb=this.mdb()}function d0a(b,a,c){var d=new e_a;Gp(d,a);ep(d,b.vl);Ip(d,b.Ea);d.Gma=b.RYa;d.gCb=b.D0a;d.ZZb=c;return d}
function VK(b,a,c,d,f,g){this.V=b;this.Aa=Dx(Cx(this.V));this.Mb=jF(b);this.cnb=b.J(Cz);this.Z=Rz(b);this.Ea=a;this.phc=d;this.w2=c;this.Lvc=f;this.zvc=g?g:i;this.bTc=new Hf;this.rAa=[];this.Q=new kn(this);this.fzb=this.qa=0;if(Jz(this.Z,852))this.fzb=1;this.Hh=new hC(6E4,b.J(XC));this.Q.w(this.Hh,yi,this.R8)}var e0a="us:p",f0a=":24";
function g0a(b){if(!ega)return k;if(b.ab){cA(b.ab);b.ab=i}if(b.Pc)return k;var a=b.Z[hq](e0a);if(a){if(a!=b.Xzc){b.Xzc=a;a=a[Cc](xj);if(a[u]>0)b.Q8=Number(a[0]);if(a[u]>1){Ia(b.rAa,0);for(var c=a[1][Cc](wj),d=0;d<c[u];d+=2)b.rAa[p]([Number(c[d]),Number(c[d+1])])}if(a[u]>2)b.I8a=Number(a[2])}}else{b.qa=1;return h}if(b.Q8<=0||b.rAa[u]==0){b.qa=2;return h}c=Zf();if(h0a)if(c-h0a<3E5){b.qa=12;return h}b.nlb();if(b.Ska)return k;if(!b.Lvc[z](b.zvc)){b.qa=8;return h}if(!b.tD&&!b.Tl){b.qa=9;return h}a=b.Aa.za(qI);
if(a==i){b.qa=4;b.ab=bA(f0a,b.YU,2E3,b);return h}d=b.AZb+b.I8a;if(b.I8a>0&&b.AZb>0&&c<d){b.qa=13;b.ab=bA(f0a,b.YU,d-c,b);return h}if(b.Hh.My()){b.qa=3;return h}d=b.cnb.J3;var f=0;if(d)f=XJa(d);for(var g=c=0;g<b.rAa[u];g++){var j=b.rAa[g];if(f>j[0]){c=j[1];break}}if(!d||d.Zma.Nb()==0)c=5;if(0==c){b.qa=10;return h}if(fga){b.qa=11;return h}a=rI(a,b.Ea);c=c;f=i;if(b.tD)f=b.tD.Hc();for(g=d=0;g<b.w2[u];g++){j=b.w2[g].Hc();a.za(j).Fi()&&d++}if(d>=b.Q8){b.qa=5;c=[]}else{j=[];if(b.fzb==1){d=d;f=f;g=[];for(j=
1;j<=3;j++)for(var n=0;n<b.w2[u]&&g[u]<c&&d<b.Q8;n++){var s=b.w2[n];i0a(b,s)==j&&j0a(b,n,a,g,f,h,k)&&d++}for(n=0;n<b.w2[u]&&g[u]<c&&d<b.Q8;n++){s=b.w2[n];if(!s.Jl||i0a(b,s)>3)j0a(b,n,a,g,f,k,k)&&d++}j=g}else for(g=0;g<b.w2[u]&&j[u]<c&&d<b.Q8;g++)j0a(b,g,a,j,f)&&d++;c=j}if(b.qa==5)return h;if(c[u]){if(b.qa==0||b.qa==4)dE(b.V).cma(k0a,Zf()-b.V.Ev.Snd);b.qa=6;b.Ska=HSa(a,c);kF(b.Mb,b.Ska);b.Ska.Ie(b)}else b.qa=7;return h}
function j0a(b,a,c,d,f,g,j){a=b.w2[a];var n=a.Hc();if(!c.za(n).Fi()&&n!=f&&!(b.pna&&b.pna.Xb(n))&&(!j||!a.Jl)&&(!g||a.Jl)){d[p](n);return h}return k}function i0a(b,a){b=a.Jo();a=5;for(var c=0;c<b[u];c++)if(b[c][Kb](l0a)){var d=Number(b[c][Zc](3));if(d<a)a=d}return a}function m0a(){n0a||(n0a=new gYa);return n0a}
var o0a="xI",p0a="xG",q0a='">  &nbsp;</td><td class="',r0a="zz",s0a="A deleted message matches your search. ",t0a='" class="xH">',u0a="View it",v0a=" or go to ",w0a='" class="xH">Trash</span> to delete forever.',x0a="Deleted messages match your search. ",y0a="View them";
function z0a(b,a){var c=a||new U;c[R](XJ,o0a,YJ,p0a,q0a,p0a,W);xI(Kw(b,{Hb:r0a}),c);c[R](NG,p0a,W);b.yod==1?c[R](s0a+(HK+b.Ojc+t0a+(u0a+(gB+(v0a+(HK+b.bic+w0a)))))):c[R](x0a+(HK+b.Ojc+t0a+(y0a+(gB+(v0a+(HK+b.bic+w0a))))));c[R](TG);if(!a)return c[t]()}var A0a="No messages matched your search. You can ",B0a='" class="x0">broaden your search</span> to look in "Mail & Spam & Trash".';function C0a(b,a){var c=a||new U;c[R](A0a+(HK+b.Ij+B0a));if(!a)return c[t]()}
var D0a="yS",E0a="Search results for:",F0a='<span class="yT">';function G0a(b,a){var c=a||new U;c[R](X,D0a,W,E0a+(F0a+(b.Zgb+gB)),Z);if(!a)return c[t]()}var H0a="yR",I0a="Searched ",J0a=". Still searching...</span>";function K0a(b,a){var c=a||new U;c[R](X,H0a,W,pE+(I0a+(b.Rnd+J0a)),Z);if(!a)return c[t]()}var L0a="<span>Search interrupted.  To get all results, refresh the list.</span>";function M0a(b,a){b=a||new U;b[R](X,H0a,W,L0a,Z);if(!a)return b[t]()}var N0a="<span>Search complete.</span>";
function O0a(b,a){b=a||new U;b[R](X,H0a,W,N0a,Z);if(!a)return b[t]()}var WK="threadlists";function P0a(b,a,c,d){this.V=b;this.Sr=a;this.xa=c;this.Ea=d;this.Z=Rz(b);this.Aa=Dx(Cx(b));this.Xi=this.Aa.za(WK).Zn(d);this.jb=JB(b);this.Lh=TD(b);this.mw=aF(b)}var Q0a="tfu",R0a="tur",S0a="tfc",T0a="pfs",U0a="pfy";
function V0a(b,a,c){if(!(b.xa.Th<0)){var d=b.Sr.xa.Zsa(),f=d.Hc(),g=d.vf(),j;j=b.xa;j=j.Th<0?-1:j.Rf+j.Th;var n=b.Xi.J(),s=n.nj,v=n.fN(),C=n.I_(),M=n.uua(),Y=n.ZZa;if(a){IFa(b.Lh,b.Ea,f,Y,c);if(d.Jl&&!MD(b.Lh)){d.LRa();b.Cg=b.Aa.za(qI);b.Cg&&b.Cg.Yaa(f,d.vf(),h)}}else{QF(b.Sr,W0a);Y=XK(b.Sr);a=b.xa.Th;c=b.Sr.zdb();for(var ha=-1,tb=0,zc=k,qb=0;qb<Y[u];qb++){if(ha==-1&&Y[qb].Jl){ha=qb;zc=h}if(zc&&Y[qb].Jl)tb++;else Y[qb].Jl||(zc=k)}if(Jz(b.Z,717)){if(X0a){X0a=k;b.mw.Hz(Q0a,ha);b.mw.Hz(R0a,tb);b.mw.Hz(S0a,
a)}b.mw.Hz(T0a,c)}Jz(b.Z,697)&&b.mw.Hz(U0a,b.Sr.Bdb());a=[];c=[];for(ha=0;ha<Y[u];ha++){a[p](Y[ha].Hc());c[p](Y[ha].vf())}if(Y=b.Aa.za(qI)){Y=rI(Y,b.Ea);ha=d.Hc();(Y=Y.za(ha,h))&&Y.Fi()&&Y.J().dL>d.dL&&b.Xi.rg()}if(d.Jl){Y=d.Hc();ha=b.Aa.za(qI);(Y=(ha=rI(ha,b.Ea,h))&&ha.za(Y,h))&&DSa(Y,d.M1)}b.Sr.opa();b.jb[bq]({view:YK,search:b.Sr.YRb(),Zo:f,Am:g,zSa:a,ASa:c,zz:j,urc:b.xa.Th,xR:s,x_a:v,cga:C,A_a:M,Iba:n.ZZa,Lja:b.xa.mV})}}}function Y0a(b){this.Db=b}
var Z0a="advanced-search",a1a="create-filter",ZK="m_inbox",aL="vftt_inbox";function b1a(b,a){var c=i;switch(b){case Hl:case Py:c=Wya(c1a(a[db]()));break;case Fy:case Jy:c=Ly(c1a(a[db]()));break;case Z0a:case Oy:b=c1a(a[db]());c=new Sya(Oya(b,d1a));break;case a1a:case ul:b=c1a(a[db]());c=new Qy(Oya(b,e1a));break;case ce:b=c1a(a[db]());b=Oya(b,f1a);c=new uH(b.group);break;case kz:case sz:case cz:case iz:case fz:case pz:case jza:case Yy:case Zy:case ez:case ZK:case aL:c=Sy.QCa[b];break}return c}
function c1a(b){return b?Rf(b):I}var g1a="ix_nt";function h1a(b,a){return gza(a)?20:yy(b).Ep(g1a)}function i1a(b,a,c){b=h1a(b,a);return l[rb](c/b)}var bL="bx_sc",cL="bx_ns";
function dL(b,a,c,d,f){Bx(this);xJ[z](this,b,this.aa.vMa(b,a));f.tb(this);this.Aa=Dx(Cx(b));this.Mb=jF(b);this.xB=sC(b);this.EB=wJ(b);this.Z=Rz(b);this.lb=yy(b);this.xl=tE(b);this.fc=dC(b);this.Xi=this.Aa.za(WK).Zn(a);this.Ea=a;this.D0a=d;this.Og=this.Jw();this.az=c;this.Rf=this.az*this.Og;this.RYa=this.lb.nf(bL);this.z2b=this.lb.nf(cL);this.H3=new DYa(b,this.rZa,this.Dvc,this);ep(this,f.tNa()[Qk]());this.Nda=f;this.co=this.Aa.za(LC);this.jb=JB(b);this.Rh=tH(b);this.xa=this.Nda.xa;this.Du=this.Nda.tNa();
this.Dz=this.B().J(XC);this.Hh=new hC(12E5,this.Dz);this.Uq=new VK(b,a,XK(this),eL(this),this.DIb,this);this.Uq.dk(this);this.vya=f.vya;this.eUa=f.rdb();this.pA=f.Ocb();this.Jc();this.EB.zC==kD&&this.sf(1);this.eJ=new PB(b)}function eL(b){return b.xa.vy()}function XK(b){return b.xa.Om}function j1a(b){var a=b.Jw();if(b.Og!=a){b.Og=a;b.xa.Saa(a);return h}return k}function k1a(b){var a=b.lb.nf(cL);if(b.z2b!=a){b.z2b=a;return h}return k}
function l1a(b){var a=b.lb.nf(bL);if(b.RYa!=a){b.xa.qCa(a);b.RYa=a;return h}return k}var m1a="Invalid search query - returning all mail.";function n1a(b){b.Bb().nd()&&b.Rh.Ad(new Zz(m1a))}function o1a(b,a){b=[];for(var c=0;c<a[u];c++){var d=a[c];if(d)for(var f=0;f<d[u];f++)b[p](d[f])}return b}function p1a(b,a,c){b.Du.Kib(a.mg)?dCa(a,b.xa.hdb()):fL(b,function(d){if(this[uk].Vo(d.vf()))uB(a,d.Hc(),c?d.Qy:d.vf())});return h}function q1a(b){if(b.Ml){var a=b.Ml;b.Ml=i;a[wc]()}}
var r1a="This action will affect all conversations in this search. Are you sure you want to continue?",s1a="This action will affect the one conversation in ",t1a=". Are you sure you want to continue?",u1a="This action will affect both conversations in ",v1a="This action will affect all ";
function w1a(b,a){a=b.xMa(a);switch(b.Ea.Ga()){case Jy:case Nd:case Oy:case ul:b=new U;b[R](r1a);b=b[t]();return b;default:b=new U;if(a.ZF==1)b[R](s1a+(a.LQ+t1a));else a.ZF==2?b[R](u1a+(a.LQ+t1a)):b[R](v1a+(a.ZF+(LZa+(a.LQ+t1a))));b=b[t]();return b}}function x1a(b){b.aa.h4a();b[Sq]()}function gL(b,a){b=b.xa.FO(a);return b!=i?b.Hc():i}function y1a(b,a){b=b.xa.FO(a);return b!=i?b.vf():i}function z1a(b){b.xa.ola();b.skb=b.Ml;b.Ml=i;b.qca()}
function A1a(b,a,c,d){var f=a[c].Jl;if(f==a[d].Jl)return b.xa.mV==oy?c:d;return f?c:d}function B1a(b,a,c){return(b=a[u]-c[u])?b:a<c?-1:a>c?1:0}function fL(b,a){for(var c=eL(b).Oa(),d=0;d<c[u];d++)a[z](b,c[d])}function C1a(b,a,c,d){b.xa.Mn(a);b.xB.lf();V0a(b.eUa,c,d)}function D1a(){}function hL(){}var E1a="XMLHTTP TEXT (",F1a="): ";function iL(b,a,c,d){b[dr](E1a+a+F1a+G1a(b,c)+(d?J+d:I))}var H1a="Exception";function jL(b,a,c){b.TW((c||H1a)+a)}var I1a="y2f%",J1a="Exception parsing expected JS array - probably was not JS";
function G1a(b,a){if(!a||a==I1a)return a;try{for(var c=ix(a),d=0;d<c[u];d++)Ve(c[d])&&K1a(b,c[d]);return zh(c)}catch(f){b.Ef(J1a);return a}}var L1a="noop";function K1a(b,a){if(!(a[u]<2)){b=a[1];if(Ve(b))if(!(b[u]<1)){a=b[0];if(a!=dx&&a!=L1a&&a!=Id)for(a=1;a<b[u];a++)b[a]=I}}}var M1a="=redacted&";function N1a(b,a){if(!a)return i;b=I;a=a[Cc](Sf);for(var c=0;c<a[u];c++){var d=a[c][Cc](ei);if(d[u]>1){var f=d[0];d=d[1];var g=f[Cc](mg);b+=g[u]>=2&&g[1]==Wi?f+ei+d+Sf:f+M1a}}return b}var O1a="TestLoadImageWithRetries: ";
function P1a(b,a,c,d,f){(new hL).Ef(O1a+f);if(d==0)c(k);else{var g=f||0;d--;Q1a(b,a,function(j){j?c(h):Je[xc](function(){P1a(b,a,c,d,g)},g)})}}var R1a="TestLoadImage: loading ",S1a="TestLoadImage: loaded",T1a="TestLoadImage: error",U1a="TestLoadImage: abort",V1a="TestLoadImage: timeout";
function Q1a(b,a,c){var d=new hL;d.Ef(R1a+b);var f=new Image;cp(f,function $Ei(){try{d.Ef(S1a);W1a(f);c(h)}catch(j){jL(d,j)}});oa(f,function $Fi(){try{d.Ef(T1a);W1a(f);c(k)}catch(j){jL(d,j)}});oma(f,function $Gi(){try{d.Ef(U1a);W1a(f);c(k)}catch(j){jL(d,j)}});f.krb=function $Hi(){try{d.Ef(V1a);W1a(f);c(k)}catch(j){jL(d,j)}};Je[xc](function(){f.krb&&f.krb()},a);f.src=b}function W1a(b){cp(b,i);oa(b,i);oma(b,i);b.krb=i}
function kL(b,a,c,d,f){this.ec=b;this.cd=a;this.Lx=c;this.tI=d;this.uBa=f||1;this.wo=45E3;this.Q=new kn(this);this.XUa=new Bh;this.XUa[Dc](250)}var X1a="Non-200 return code (",Y1a="XMLHTTP failure (no data)",Z1a="HttpConnection timeout",a2a="Unknown error";function b2a(b,a){switch(b){case 0:return X1a+a+xh;case 1:return Y1a;case 2:return Z1a;default:return a2a}}function c2a(b,a,c,d){b.Xd=1;b.Qn=bi(a.vc());b.JL=i;b.A8a=c;if(d)b.fcc=k;d2a(b)}
var e2a="application/x-www-form-urlencoded",f2a="XMLHTTP REQ (",g2a=") [attempt ",h2a="]: ";function d2a(b){b.BF=b.Qn.vc();gx(b.BF,IB,b.uBa);b.hFa=0;b.Tx=new Gh;ih(b.Tx,Lh,b.Bkc,k,b);var a=b.rE?Zwa(b.rE):{};if(b.JL){b.Xna=Aj;a[Bj]=e2a;b.Tx[Mb](b.BF,b.Xna,b.JL,a)}else{b.Xna=zj;if(b.fcc&&!Jg)a.Connection=qn;b.Tx[Mb](b.BF,b.Xna,i,a)}b.AWa=Zf();a=b.cd;a[dr](f2a+b.tI+g2a+b.uBa+h2a+b.Xna+ch+b.BF+ch+N1a(a,b.JL));lL(b)}
var i2a="420+",j2a="No response text for uri ",k2a=" status ",l2a="XMLHTTP RESP (",m2a=") [ attempt ",n2a="Unknown SID";
function o2a(b){var a=b.Tx.ts();if(L||Jg&&!vg(i2a)){if(a<4)return}else if(a<3||a==3&&!Ng&&!b.Tx.dj())return;p2a(b);var c=b.Tx.hf();b.Tw=c;var d=b.Tx.dj();d||b.cd.Ef(j2a+b.BF+k2a+c);b.hR=c==200;b.cd[dr](l2a+b.tI+m2a+b.uBa+h2a+b.Xna+ch+b.BF+ch+a+J+c);if(b.hR){a==4&&b.tJ();if(b.A8a){q2a(b,a,d);Ng&&a==3&&r2a(b)}else{iL(b.cd,b.tI,d,i);s2a(b,d)}if(b.hR)if(!b.xda)if(a==4)b.ec.uL(b);else{b.hR=k;lL(b)}}else{if(c==400&&d[Db](n2a)>0){b.wk=3;mL(13)}else{b.wk=0;mL(14)}iL(b.cd,b.tI,d);b.tJ();t2a(b)}}
var u2a="[Incomplete Response]",v2a="[Invalid Chunk]",w2a="[Invalid Chunked Response]";function q2a(b,a,c){for(var d=h;!b.xda&&b.hFa<c[u];){var f=x2a(b,c);if(f==y2a){if(a==4){b.wk=4;mL(15);d=k}iL(b.cd,b.tI,i,u2a);break}else if(f==z2a){b.wk=4;mL(16);iL(b.cd,b.tI,c,v2a);d=k;break}else{iL(b.cd,b.tI,f,i);s2a(b,f)}}if(a==4&&c[u]==0){b.wk=1;mL(17);d=k}b.hR=b.hR&&d;if(!d){iL(b.cd,b.tI,c,w2a);b.tJ();t2a(b)}}function r2a(b){b.Q.w(b.XUa,yj,b.Dbd);b.XUa[Rc]()}
function x2a(b,a){var c=b.hFa,d=a[Db](ch,c);if(d==-1)return y2a;c=Number(a[Zc](c,d));if(ia(c))return z2a;d=d+1;if(d+c>a[u])return y2a;a=a[nc](d,c);b.hFa=d+c;return a}var A2a="htmlfile",B2a="<html>",C2a='<script>document.domain="',D2a='"<\/script>',E2a="</html>",F2a="DOMAIN",G2a='<iframe src="',H2a='"></iframe>',I2a="TRIDENT REQ (",J2a="]: GET\n";
function K2a(b,a,c){b.Xd=3;b.Qn=bi(a.vc());b.EM=new ActiveXObject(A2a);a=I;var d=B2a;if(c){a=ba[Ic][Gma];d+=C2a+a+D2a}d+=E2a;b.EM[bb]();b.EM[nq](d);b.EM[Xk]();b.EM[ac].m=G(b.G8c,b);b.EM[ac].d=G(b.L6b,b,h);b.EM[ac].rpcClose=G(b.L6b,b,k);c=b.EM[Qb](T);b.EM[o](c);b.BF=b.Qn.vc();b.BF.ka(F2a,a);b.BF.ka(IB,b.uBa);Q(c,G2a+b.BF+H2a);b.AWa=Zf();b.cd[dr](I2a+b.tI+m2a+b.uBa+J2a+b.BF);lL(b)}function lL(b){b.qCb=Zf()+b.wo;L2a(b,b.wo)}function L2a(b,a){if(b.koa!=i)e(Error(".163"));b.koa=nL(G(b.F9c,b),a)}
function p2a(b){if(b.koa){Je[gb](b.koa);b.koa=i}}function t2a(b){b.ec.G_()||b.xda||b.ec.uL(b)}var M2a="Error in httprequest callback";function s2a(b,a){try{b.ec.h6b(b,a)}catch(c){jL(b.cd,c,M2a)}}function N2a(b,a){this.ec=b;this.cd=a}var O2a="TestConnection: starting stage 2",P2a="TYPE",oL="html",Q2a="xmlhttp";
function R2a(b){b.cd.Ef(O2a);b.Lc=new kL(b,b.cd,void 0,void 0,void 0);b.Lc.R1(b.rE);var a=S2a(b.ec,b.o7,b.Vf);mL(5);if(L){gx(a,P2a,oL);K2a(b.Lc,a,Boolean(b.o7))}else{gx(a,P2a,Q2a);c2a(b.Lc,a,k)}}function T2a(b){this.vS=b;this.qa=1;this.fQ=[];this.Hka=[];this.cd=new hL}var U2a="statevent";function V2a(b,a){N[z](this,U2a,b);this.gDa=a}var W2a="timingevent";function X2a(b,a,c,d){N[z](this,W2a,b);jma(this,a);this.BBa=c;this.QDd=d}
function Y2a(b){if(b.j4){b.j4[wc]();b.j4=i}if(b.FD){b.FD.tf();b.FD=i}if(b.fY){Je[gb](b.fY);b.fY=i}if(b.Bw){b.Bw.tf();b.Bw=i}if(b.jK){Je[gb](b.jK);b.jK=i}}function Z2a(b){var a=0;b.FD&&a++;b.Bw&&a++;return a}function a3a(b){if(!b.Bw)if(!b.jK){b.jK=nL(G(b.v6b,b),0);b.K5=0}}var b3a="SID",c3a="RID",d3a="AID";
function e3a(b,a){var c,d;if(a){c=a.tI;d=a.JL}else{c=b.CSa++;d=f3a(b)}a=b.cMa.vc();a.ka(b3a,b.Lx);a.ka(c3a,c);a.ka(d3a,b.MQa);g3a(b,a);c=new kL(b,b.cd,b.Lx,c,b.K5+1);c.R1(b.rE);c[xc](l[kb](1E4)+l[kb](1E4*l[Tc]()));b.Bw=c;b=d;c.Xd=1;c.Qn=bi(a.vc());c.JL=b;c.A8a=h;d2a(c)}function g3a(b,a){if(b.na)(b=b.na.uQb(b))&&Ef(b,function(c,d){a.ka(d,c)})}var h3a="count=",i3a="req";
function f3a(b){for(var a=l.min(b.fQ[u],1E3),c=[h3a+a],d=0;d<a;d++){var f=b.fQ[d];Ef(f,function(g,j){c[p](i3a+d+mg+j+ei+aa(g))});b.Hka[p](f)}b.fQ[jd](0,a);return c[kd](Sf)}function j3a(b){if(!b.FD)if(!b.fY){b.kHb=1;b.fY=nL(G(b.u6b,b),0);b.pHa=0}}var k3a="Test Connection Finished",l3a="connectChannel_()";function m3a(b,a,c){b.cd.Ef(k3a);b.cjc=b.Dsc&&c;b.Tw=a.hH();b.cd.Ef(l3a);b.XCc(1,0);b.cMa=n3a(b,b.Vf);a3a(b)}var o3a="Test Connection Failed";function p3a(b,a){b.cd.Ef(o3a);b.Tw=a.hH();pL(b,2)}
var q3a="Error code ";function pL(b,a){b.cd[dr](q3a+a);if(a==2||a==9){var c=i;if(b.na)c=b.na.MRb(b);var d=G(b.Xmd,b);c=c;if(!c){c=new Sh("http://www.google.com/url");bi(c);gx(c,Ky,"http://www.google.com/images/cleardot.gif")}Q1a(c[t](),1E4,d)}else mL(2);b.J0(a)}var r3a="GetForwardChannelUri: ";function n3a(b,a){a=s3a(b,i,a);b.cd.Ef(r3a+a);return a}var t3a="GetBackChannelUri: ";function S2a(b,a,c){a=s3a(b,L?a:i,c);b.cd.Ef(t3a+a);return a}var u3a="VER";
function s3a(b,a,c,d){var f=ba[Ic],g=ci(f[er],i,a?a+He+f[Gma]:f[Gma],d||f.port,c);b.ssa&&Ef(b.ssa,function(j,n){g.ka(n,j)});g.ka(u3a,6);g3a(b,g);return g}function nL(b,a){if(!Ze(b))e(Error(".166"));return Je[xc](function(){b()},a)}function mL(b){qL[r](new V2a(qL,b))}function v3a(){}var w3a=":25";
function x3a(b,a,c,d,f){this.Ze=b;this.lS=a;this.qKb=d||i;this.Xza=new fC;this.NAa=new fC;this.XHb=f||i;this.cd=i;this.vS=c;this.qa=-1;this.wk=0;this.ec=this.cea(this.vS);this.Mw=new aA(w3a,1E3);ih(this.Mw,yj,this.aNb,h,this);this.Mw[Rc]();this.yla=5E3+l[Tc]()*2E4}var y3a="Qa";function z3a(b,a){if(b.qa!=a){var c=b.qa;b.qa=a;switch(b.qa){case 5:A3a(b);break;case 4:b.wk=0;b.usa=k;b.Hg(i);b.Ze[r](y3a);break}b.usa||b.Ze[r](new B3a(c,a,b.wk))}}function C3a(b){if(Ue(b.BSa)){cA(b.BSa);b.BSa=i}}
function D3a(b){if(Ue(b.Prb)){cA(b.Prb);b.Prb=i}}var E3a=":27";function A3a(b){if(!(b.wk==1||b.wk==4)){if(!b.UOa&&b.yla*2<24E4)b.yla*=2;if(b.UOa)b.yla=500;b.Sja=Zf()+b.yla;C3a(b);b.BSa=bA(E3a,b.Tac,b.yla,b)}}function F3a(b,a){var c=Zf(),d=b.OQa>0&&c-b.OQa>3E4;if(a)b.OQa=c;return d}function G3a(b,a,c,d){this.rDa=new Hf;this.av=new x3a(this,b,a,c,d)}function H3a(b,a){this.Xd=a;this.Ze=b}var rL="Oa";function I3a(b){N[z](this,rL);this.aM=b}var sL="Pa";
function B3a(b,a,c){N[z](this,sL);this.ika=b;this.tm=a;Xla(this,c)}var J3a="Ra";function K3a(b,a){N[z](this,J3a);this.HUa=b;this.J_a=a}function tL(b){return b.J(dx)}function L3a(b){var a=b.xc();(a==1||a==5||a==6)&&b.av.Tac()}function uL(b){this.ik=b}var vL="ub",wL="ua";function xL(b){this.na=void 0;this.V=b;this.lb=yy(b);this.Aa=Dx(Cx(this.V));this.Hn=fy(b).ud;this.UQa={};this.pUa=[];this.wKa=new Hf;Bx(this);b=Gx(vL);this.w(this.Hn,b,this.O_c);b=Fx(wL);this.w(this.Hn,b,this.N_c)}
function M3a(b){if(!b.Jg)b.Jg=b.Aa.za(WK,k);if(!b.Cg)b.Cg=b.Aa.za(qI,k);if(!b.co)b.co=b.Aa.za(LC,k)}function N3a(b,a,c,d,f,g,j){for(var n=0;n<d[u];n++){var s=d[n],v=s[0];s=s[1];yL(b,a,c,v,s,f,g);b.STa(v,s,j)}}function yL(b,a,c,d,f,g,j,n){if(g[u]&&b.co)for(var s=0;s<g[u];s++){var v=g[s];v[xb](0)!=Ty&&bVa(b.co,v)}a=b.lJ(a,c,d);g[u]&&b.SX(d,f,g,n);j[u]&&b.m1(d,f,j,n);a&&O3a(a)}function zL(b,a){for(var c=0;c<b.pUa[u];c++)b.pUa[c].AOb.set(a,1)}
function P3a(b,a,c,d,f){if(!f){if(b.Jg){cI(b.Jg,Q3a);cI(b.Jg,R3a);SRa(b.Jg);b.fXb();c&&URa(b.Jg,c)}if(b.Cg&&c){tI(b.Cg,c);zL(b,c)}}}var AL="^s",BL="^k",CL="^r";function S3a(b,a,c,d){this.ik=b;this.aX=a;this.Ea=c;this.Sq=d;this.on=this.Uk=i;b=this.ik.co;if(b.hc()){a=OC(b);a[p](TI);a[p](AL);a[p](BL);a[p](CL);b.AFb(a);b.aa.Hoa(a);b=a}else b=i;this.kl=b;this.aBb=T3a(this);this.AAb=T3a(this);this.NYb=h;Bx(this)}function T3a(b){for(var a={},c=0;c<b.kl[u];c++)a[b.kl[c]]=0;return a}
function O3a(b){b.K2(1);if(b.NYb)for(var a=0;a<b.kl[u];a++){var c=b.kl[a],d=b.aBb[c],f=b.AAb[c];if(d||f)U3a(b,c,d,f)}else b.ik.co.rg()}function V3a(b,a,c,d){for(b=0;b<c[u];b++)a[c[b]]+=d}function U3a(b,a,c,d){var f=gEa(b.ik.co,a,h);if(f&&f.hc()){f=f.J();if(f.rt>=0){var g=f.rt;if(!b.aa.xwb(g,c,f)){cEa(f,g+c);dEa(f,I)}}if(f.lD>=0){g=f.lD+d;if(f.lD!=g){f.lD=g;f.xj(4)}}}b.aa.z5a(a,c,d)}var W3a="prf",X3a="msgs",Y3a="lnm";
function Z3a(b,a){b=a.Rc(W3a);var c=a.Rc(X3a);a=a.Rc(Y3a);return!!(b==Hj||c&&!a)}function a4a(b,a){if(a){b=UC(RC(b.V));if(b=EH(b.B())){b=b.vz;a=new Hf(a,1);for(var c=0;c<b[u];c++){var d=b[c];if(d.md()==wE||d.md()==xE)d.Bb().lba(a)&&d.xa.xwa()&&d.xa.eXb()}}}}function b4a(b){b.Jg&&TRa(b.Jg);b.Cg&&LSa(b.Cg)}function DL(b){this.c5a=b}function c4a(b){this.Db=b}function d4a(b){this.Db=b}function e4a(b){this.jb=b}
function EL(b,a,c){YC[z](this,b,a);this.V=a;this.Jz=RC(a);this.xf=fy(a);this.Ma=yy(a);this.QOb=!!c;this.Ttb();this.QOb||vEa(this.Jz,this)}var FL="be";function f4a(b){lA(b.V,aE,Rd);lA(b.V,KH,FL)}function GL(b,a){if(a)loadTimes=[a,a,a,a,a,Zf()]}function HL(){}function IL(b){Bx(this);this.V=b;this.Jz=RC(b);this.Q=new kn(this);this.Q.w(this.Jz,eD,this.tYc);this.Q.w(this.Jz,TC,this.Gpb)}function g4a(b,a,c){(new IL(b)).tb();b=new EL(top,b);b.OK(a,c);return b}var h4a="DOMMouseScroll",i4a="mousewheel";
function j4a(b){this.wa=b;this.lRa=ih(this.wa,Fh?h4a:i4a,this)}function k4a(b,a,c,d){a&&this.wc(a,void 0);za(this,i4a);this.detail=b;this.Hea=c;this.Iea=d}
var Vua=i,dva=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,JL="#000000",l4a="#008000",m4a="#ffffff",eva={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:JL,blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",
cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",
firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:l4a,greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",
lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",
mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",
rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:m4a,whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},iva={thin:2,
medium:4,thick:6},tva=/<[^>]*>|&[^;]+;/g,xva=/[^\d]+$/,Vva=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,iwa=/\/a\/[^\/]+\/b\/[^\/]+\/u\/[^\/]+/,n4a=/\/b\/[^\/]+(?:\/u\/[^\/]+)?\/?/,hwa=/\/mail\/b\/[^\/]+\/u\/[^\/]+/,gwa=/\/a\/[^\/]+\/d\/[^\/]+/,fwa=/\/mail\/d\/[^\/]+/,zwa=/[?&]($|#)/;H(Iw,Jf);Iw[w].tb=B();H(Lw,ao);F=Lw[w];F.HSa=i;F.ota=D(dZa);F.Q1=function $Ki(a){this.xS=a;this.HSa=i;this.xb(this.h7a())};var KL="background-color";F.qH=function $Li(){var a=this.rH();if(a){a=zw(a,KL);return uva(a)}else return i};
F.RW=function $Mi(a){a=uva(a);if(!this.HSa)this.HSa=Li(this.xS,function(c){return uva(c)});this.Pl(a?ff(this.HSa,a):-1)};var o4a="-Jt",p4a="background-color:",q4a="RGB (";F.h7a=function $Ni(){return Li(this.xS,function(a){var c=this.W().ba(T,{"class":this.li().Qb()+o4a,style:p4a+a});ik(c,a[xb](0)==Lj?q4a+yw(a)[kd](hg)+xh:a);return c},this)};H(Nw,Hn);F=Swa[w];F.wya=0;F.add=function $Oi(a){this.lY[this.wya]=a;this.wya=(this.wya+1)%this.Elb};F.J=function $Pi(a){a=Mva(this,a);return this.lY[a]};
F.set=function $Qi(a,c){a=Mva(this,a);this.lY[a]=c};F.Nb=function $Ri(){return this.lY[u]};F.nd=function $Si(){return this.lY[u]==0};Aa(F,function $Ti(){Ia(this.lY,0);this.wya=0});F.Oa=function $Ui(){return Nva(this,this.Nb())};F.Sb=function $Vi(){for(var a=[],c=this.Nb(),d=0;d<c;d++)a[d]=d;return a};F.Xb=function $Wi(a){return a<this.Nb()};F.BS=function $Xi(a){for(var c=this.Nb(),d=0;d<c;d++)if(this.J(d)==a)return h;return k};
F.Hta=function $Yi(){if(this.Nb()==0)return i;return this.J(this.Nb()-1)};var r4a=i;Bi(O.S(),Kd);_B_prog(44)}catch(e){_B_err(e)}

try{xx[w].tn=function $Zi(a){if(this.SJ)for(var c=0;c<this.SJ[u];++c)if(this.SJ[c]instanceof a)return this.SJ[c];return i};H(lxa,Jf);lxa[w].L=function $_i(){if(this.Aa){this.Aa.D();this.Aa=i}};Ha(mxa[w],function $0i(){return this.O[t]()});mxa[w].kc=D(ae);H(Ex,N);H(Hx,Jf);F=Hx[w];F.DL=i;F.L=function $2i(){if(this.Q){this.Q.D();this.Q=i}};F.Kk=function $3i(){Ix(this);if(!this.Q)this.Q=new kn(this);return this.Q};var LL="Jb";F.vn=D(LL);F.Je=D("KG");F.ac=D(Jaa);F.Ig=function $7i(a){if(this.DL!=i&&a!=i)e(Error(".49"));if(a&&a.mb!=this.mb)e(Error(".50"));this.t9a=this.Jyb=i;if(a!=i){Ix(this);this.KG=a.Je()+Md+this.Jb}else this.KG=i;this.DL=a};F.pua=function $8i(){if(!this.Jyb)this.Jyb=this.KG+Kaa;return this.Jyb};
F.SQb=function $9i(){if(!this.t9a)this.t9a=this.KG+Laa;return this.t9a};F.WRb=function $$i(a){return this.Je()+xj+a};F.hC=E(4);H(Jx,Hf);F=Jx[w];Aa(F,function $bj(){pxa(this,h)});F.D=function $cj(){pxa(this,k)};wa(F,function $dj(a){qxa(this,a);var c=Jx.C[Pb][z](this,a);c&&this.FKa(a);return c});F.set=function $ej(a,c){if(this.J(a)!==c){qxa(this,a);Jx.C.set[z](this,a,c);if(c&&c instanceof uh){c=ih(c,oy,G(this.FKa,this,a));if(!this.msa)this.msa=new Hf;this.msa.set(a,c)}this.FKa(a)}};F.Vl=function $fj(a){var c=this.Um.mb;c.Qf();try{Jx.C.Vl[z](this,a)}finally{c.Mf()}};F.FKa=function $gj(a){this.Um.mb.c9a(this.Um,a)};H(Kx,Hx);F=Kx[w];F.J=D(fRa);F.L=function $ij(){Kx.C.L[z](this);this.lI.D()};F.hC=function $jj(){var a=hy.C.hC[z](this);a|=16;return a};F.Ca=function $kj(a){return this.lI.J(a)};F.Fa=function $lj(a,c){this.lI.set(a,c)};H(sxa,Kx);var s4a="hg",ML="ia",NL="al",OL="cs",PL="af",QL="pd",RL="it",t4a="chh",u4a="cfh",v4a="chu",w4a="chih",x4a="cfu",y4a="sbu",SL="ow",TL="sl",UL="hb",z4a="hv",A4a="hh",VL="vl",WL="pl",B4a="bl",XL="lu",YL="ip",C4a="rh",D4a="cad",ZL="asd",E4a="aid",F4a="ihru",G4a="edw",H4a="spg",I4a="ulm",J4a="tlt",K4a="ppl",L4a="bjl",M4a="tal";
sxa[w].k0c=function $mj(a){a=new mxa(a[dq]);this.mb.Qf();try{this.Fa(s4a,a.O[1]);this.Fa(ML,a.O[3]);this.Fa(NL,a.O[4]);this.Fa(OL,a.O[5]);this.Fa(PL,a.O[6]);this.Fa(QL,a.O[7]);this.Fa(RL,a.O[8]);this.Fa(t4a,a.O[9]);this.Fa(u4a,a.O[10]);this.Fa(v4a,a.O[25]);this.Fa(w4a,a.O[29]);this.Fa(x4a,a.O[26]);this.Fa(y4a,a.O[27]);this.Fa(RD,a.O[11]);this.Fa(qD,a.O[24]);this.Fa(SL,a.O[12]);this.Fa(TL,a.O[13]);this.Fa(UL,a.O[14]);this.Fa(z4a,a.O[15]);this.Fa(A4a,a.O[16]);this.Fa(DE,a.O[17]);this.Fa(VL,a.O[18]);
this.Fa(WL,a.O[19]);this.Fa(EE,a.O[20]);this.Fa(PG,a.O[28]);for(var c=[],d=a.O[21],f=0;f<d[u];f++)c[p](new RegExp(d[f],ii));this.Fa(mH,c);this.Fa(FL,a.O[22]);this.Fa(B4a,a.O[23]);d={};var g=a.O[2];for(f=0;f<g[u];f+=2)d[g[f]]=g[f+1];this.Fa(Uz,d);this.Fa(XL,a.O[31]);this.Fa(YL,a.O[32]);this.Fa(C4a,a.O[33]);this.Fa(D4a,a.O[34]);this.Fa(ZL,a.O[35]);this.Fa(E4a,a.O[36]);this.Fa(F4a,a.O[37]);this.Fa(fe,a.O[38]);this.Fa(hAa,a.O[39]);this.Fa(G4a,a.O[40]);this.Fa(H4a,a.O[41]);this.Fa(I4a,a.O[42]);this.Fa(J4a,
a.O[43]);this.Fa(K4a,a.O[44]);this.Fa(L4a,a.O[45]);this.Fa(M4a,a.O[46])}finally{this.mb.Mf()}};H(txa,Jf);F=txa[w];F.Js=1;F.FVa=0;F.Ug=function $nj(a,c,d){var f=this.CM[a];f||(f=this.CM[a]=[]);var g=this.Js;this.MI[g]=a;this.MI[g+1]=c;this.MI[g+2]=d;this.Js=g+3;f[p](g);return g};F.oz=function $oj(a,c,d){var f=this.Ug(a,function(){c[cd](d,arguments);this.O_a(f)},this);return f};F.vX=function $pj(a,c,d){if(a=this.CM[a]){var f=this.MI;if(a=vm(a,function(g){return f[g+1]==c&&f[g+2]==d}))return this.O_a(a)}return k};
F.O_a=function $qj(a){if(this.FVa!=0){if(!this.Zza)this.Zza=[];this.Zza[p](a);return k}var c=this.MI[a];if(c){var d=this.CM[c];d&&jf(d,a);delete this.MI[a];delete this.MI[a+1];delete this.MI[a+2]}return!!c};F.Kh=function $rj(a){var c=this.CM[a];if(c){this.FVa++;for(var d=qf(arguments,1),f=0,g=c[u];f<g;f++){var j=c[f];this.MI[j+1][cd](this.MI[j+2],d)}this.FVa--;if(this.Zza&&this.FVa==0)for(;c=this.Zza.pop();)this.O_a(c);return f!=0}return k};
Aa(F,function $sj(a){if(a){var c=this.CM[a];if(c){Ff(c,this.O_a,this);delete this.CM[a]}}else{Ia(this.MI,0);this.CM={}}});F.Nb=function $tj(a){if(a){var c=this.CM[a];return c?c[u]:0}a=0;for(c in this.CM)a+=this.Nb(c);return a};F.L=function $uj(){txa.C.L[z](this);delete this.MI;delete this.CM;delete this.Zza};var vxa;H(uxa,Jf);F=uxa[w];F.Ug=function $vj(a,c){this.Yka.Ug(String(a),c)};F.oz=function $wj(a,c){this.Yka.oz(String(a),c)};F.vX=function $xj(a,c){return this.Yka.vX(String(a),c)};F.Kh=function $yj(a){var c=qf(arguments,1);c[ld](String(a));return this.Yka.Kh[cd](this.Yka,c)};F.D=function $zj(){if(!this.Pc){uxa.C.D[z](this);this.Yka.D();this.yu[bc]();vxa=this.yu=i}};F.Gn=function $Aj(a){for(var c=qf(arguments,1),d=this.yu.J(a),f=0;d&&f<d[u];f++){var g=d[f].Tfa[cd](i,c);if(Ue(g))return g}return i};
F.Ued=function $Bj(a){for(var c=qf(arguments,1),d=this.yu.J(a),f=[],g=0;d&&g<d[u];g++){var j=d[g].Tfa[cd](i,c);if(Ue(j))f[f[u]]=j}return f};Ha(wxa[w],function $Cj(){return this.O[t]()});wxa[w].kc=D(ae);F=yxa[w];F.ea=function $Ej(){return this.O[0]};F.Yh=function $Fj(){return this.O[1]};F.Fl=function $Gj(){return this.O[2]};F.yua=function $Hj(){return this.O[3]};F.zua=function $Ij(){return this.O[4]};Ha(F,function $Jj(){return this.O[t]()});F.kc=D(ae);zxa[w].ea=function $Lj(){return this.O[0]};Ha(zxa[w],function $Mj(){return this.O[t]()});zxa[w].kc=D(ae);xxa[w].ea=function $Oj(){return this.O[0]};Ha(xxa[w],function $Pj(){return this.O[t]()});
xxa[w].kc=D(ae);var Rxa,Oxa=/\./g;Ha(Sxa[w],function $Rj(){return this.O[t]()});Sxa[w].kc=D(ae);Txa[w].ea=function $Tj(){return this.O[1]};Ha(Txa[w],function $Uj(){return this.O[t]()});Txa[w].kc=D(ae);var N4a="PT0S",aM="Y",bM="T";
ay[w].bEa=function $Wj(a){var c=l.min(this.cJ,this.RH,this.hs,this.zs,this.Zw,this.zx),d=l.max(this.cJ,this.RH,this.hs,this.zs,this.Zw,this.zx);if(c<0&&d>0)return i;if(!a&&c==0&&d==0)return N4a;d=[];c<0&&d[p](Qd);d[p](Xd);if(this.cJ||a)d[p](l.abs(this.cJ)+aM);if(this.RH||a)d[p](l.abs(this.RH)+XD);if(this.hs||a)d[p](l.abs(this.hs)+TC);if(this.zs||this.Zw||this.zx||a){d[p](bM);if(this.zs||a)d[p](l.abs(this.zs)+aD);if(this.Zw||a)d[p](l.abs(this.Zw)+XD);if(this.zx||a)d[p](l.abs(this.zx)+YD)}return d[kd](I)};
ay[w].Qc=function $Xj(a){return a.cJ==this.cJ&&a.RH==this.RH&&a.hs==this.hs&&a.zs==this.zs&&a.Zw==this.Zw&&a.zx==this.zx};ay[w].vc=function $Yj(){return new ay(this.cJ,this.RH,this.hs,this.zs,this.Zw,this.zx)};ay[w].add=function $Zj(a){this.cJ+=a.cJ;this.RH+=a.RH;this.hs+=a.hs;this.zs+=a.zs;this.Zw+=a.Zw;this.zx+=a.zx};F=by[w];F.SG=0;F.Sfa=3;F.vc=function $_j(){var a=new by(this.Od);a.SG=this.SG;a.Sfa=this.Sfa;return a};F.getFullYear=function $0j(){return this.Od[fr]()};F.getYear=function $1j(){return this[fr]()};
kaa(F,function $2j(){return this.Od[Cq]()});jp(F,function $3j(){return this.Od[iq]()});fma(F,function $4j(){return this.Od[hc]()});F.getDay=function $5j(){return this.Od[Gq]()};F.getUTCFullYear=function $6j(){return this.Od.getUTCFullYear()};F.getUTCMonth=function $7j(){return this.Od.getUTCMonth()};F.getUTCDate=function $8j(){return this.Od[Ema]()};F.getUTCHours=function $9j(){return this.Od[Qma]()};F.getUTCMinutes=function $$j(){return this.Od.getUTCMinutes()};F.getTimezoneOffset=function $ak(){return this.Od[sr]()};
F.set=function $bk(a){this.Od=new Date(a[fr](),a[Cq](),a[iq]())};F.setFullYear=function $ck(a){this.Od[sq](a)};F.setYear=function $dk(a){this[sq](a)};F.setMonth=function $ek(a){this.Od[qq](a)};hma(F,function $fk(a){this.Od[zq](a)});F.setTime=function $gk(a){this.Od[gr](a)};F.setUTCFullYear=function $hk(a){this.Od.setUTCFullYear(a)};F.setUTCMonth=function $ik(a){this.Od.setUTCMonth(a)};F.setUTCDate=function $jk(a){this.Od.setUTCDate(a)};
F.add=function $kk(a){if(a.cJ||a.RH){var c=this[Cq]()+a.RH+a.cJ*12,d=this[ar]()+l[rb](c/12);c%=12;if(c<0)c+=12;var f=l.min(Uxa(d,c),this[iq]());this[zq](1);this[sq](d);this[qq](c);this[zq](f)}if(a.hs){c=new Date(this[ar](),this[Cq](),this[iq](),12);a=new Date(c[hc]()+a.hs*864E5);this[zq](1);this[sq](a[fr]());this[qq](a[Cq]());this[zq](a[iq]());Yxa(this,a[iq]())}};F.bEa=function $lk(a,c){return[this[fr](),nx(this[Cq]()+1,2),nx(this[iq](),2)][kd](a?Qd:I)+(c?Zxa(this):I)};
F.Qc=function $mk(a){return this[ar]()==a[ar]()&&this[Cq]()==a[Cq]()&&this[iq]()==a[iq]()};Ha(F,function $nk(){return this.bEa()});F.valueOf=function $ok(){return this.Od[sma]()};H(dy,by);F=dy[w];F.getHours=function $pk(){return this.Od[xq]()};F.getMinutes=function $qk(){return this.Od[nr]()};F.getSeconds=function $rk(){return this.Od[Oq]()};F.getMilliseconds=function $sk(){return this.Od.getMilliseconds()};F.getUTCHours=function $tk(){return this.Od[Qma]()};F.getUTCMinutes=function $uk(){return this.Od.getUTCMinutes()};
F.setHours=function $vk(a){this.Od[Pma](a)};F.setMinutes=function $wk(a){this.Od[Ama](a)};F.setSeconds=function $xk(a){this.Od[Jma](a)};F.setMilliseconds=function $yk(a){this.Od.setMilliseconds(a)};F.setUTCHours=function $zk(a){this.Od.setUTCHours(a)};F.add=function $Ak(a){by[w].add[z](this,a);a.zs&&this[Pma](this.Od[xq]()+a.zs);a.Zw&&this[Ama](this.Od[nr]()+a.Zw);a.zx&&this[Jma](this.Od[Oq]()+a.zx)};
F.bEa=function $Bk(a,c){var d=by[w].bEa[z](this,a);if(a)return d+J+nx(this[xq](),2)+xj+nx(this[nr](),2)+xj+nx(this[Oq](),2)+(c?Zxa(this):I);return d+bM+nx(this[xq](),2)+nx(this[nr](),2)+nx(this[Oq](),2)+(c?Zxa(this):I)};F.Qc=function $Ck(a){return this[hc]()==a[hc]()};Ha(F,function $Dk(){return this.bEa()});F.vc=function $Ek(){var a=new dy(this.Od);a.SG=this.SG;a.Sfa=this.Sfa;return a};_B_prog(45)}catch(e){_B_err(e)}

try{var cM={};cM.bx_show0=h;cM.bx_show1=h;cM.bx_show2=h;cM.ix_nt=iea;cM.bx_hs=k;cM.bx_sc=k;cM.bx_ns=k;var dM="\n\r";cM.sx_dn=dM;cM.sx_rt=dM;cM.sx_sg=dM;cM.sx_sf="http://www.brainyquote.com/link/quotefu.rss";cM.bx_ve=k;cM.sx_vs=dM;cM.sx_vm=dM;cM.bx_vc=k;cM.lx_vst=(new by)[hc]();cM.lx_vend=dM;cM.bx_cm=h;cM.bx_en=k;cM.sx_dl=Vz;cM.bx_rf=k;cM.ix_ca=k;cM.ix_dotr=k;cM.bx_asd=h;cM.ix_at=k;cM.ix_ql=10;cM.bx_lq=k;cM.bx_sn=h;cM.sx_em=dM;cM.sx_at=I;cM.bx_pe=k;cM.ix_pd=k;cM.bx_ie=k;cM.sx_pu=dM;cM.ix_pp=k;
cM.bx_pd=k;cM.bx_sp=k;cM.bx_qlfo=h;cM.ix_llsp=60;var O4a="classic";cM.sx_eisp=O4a;cM.bx_eie=h;cM.sx_emsk=dM;cM.bx_emao=k;cM.bx_dsp=h;cM.bx_vesp=h;cM.sx_clcp=I;cM.ix_clcip=-2;cM.sx_ltl="is:starred is:drafts";cM.sx_ltt=I;cM.sx_ltp=wB;cM.ix_ltps=9;cM.bx_sme=k;cM.bx_tm=h;cM.ix_gdc=0;cM.ix_lsas=104857600;cM.bx_too=h;cM.ix_scp=10;cM.bx_aec=1;cM.sx_dtsp=I;cM.sx_skcs=dM;cM.sx_sd=dM;cM.sx_sklctn=dM;cM.ix_lscd=0;cM.bx_iae=h;cM.ix_ieb=0;cM.ix_uwptl=5;cM.ix_usptl=2;cM.bx_ud=k;cM.bx_usf=h;cM.bx_ibcop=h;
cM.bx_ibcac=h;cM.bx_ibcar=h;cM.sx_sds=I;cM.bx_ioof=h;var P4a="COMPOSE",Q4a="SEARCH",eM="BACK",fM="PREV",gM="NEXT",hM="STAR",R4a="REMOVE",iM="IGNORE",jM="SPAM",kM="TRASH",lM="OPEN",S4a="PREVMSG",T4a="NEXTMSG",mM="REPLY",nM="REPLY_NEW_WINDOW",oM="REPLYALL",pM="REPLYALL_NEW_WINDOW",qM="FORWARD",rM="FORWARD_NEW_WINDOW",U4a="QUICKCONTACTS",V4a="GO_INBOX",W4a="GO_STARRED",X4a="GO_SENT",Y4a="GO_DRAFTS",Z4a="GO_ALL",a5a="GO_CONTACTS",b5a="SELECT_ALL",c5a="SELECT_NONE",d5a="SELECT_READ",e5a="SELECT_UNREAD",f5a="SELECT_STARRED",g5a="SELECT_UNSTARRED",h5a="LAST_IM_MOLE",
i5a="UPDATE_CONVERSATION",j5a="REMOVE_LABEL_AND_PREV",k5a="REMOVE_LABEL_AND_NEXT",sM="UNDO",tM="MORE_ACTIONS",l5a="MARK_AS_READ",m5a="MARK_AS_UNREAD",n5a="SHORTCUT_HELP",o5a="ARCHIVE",p5a="MOVE_TO",q5a="LABEL_AS",r5a={Zsd:P4a,qEb:Q4a,osd:eM,Cwd:fM,Lwd:gM,tpc:KG,Nyd:hM,Bxd:R4a,unc:iM,Oxd:jM,mwd:kM,OPEN:lM,fxd:S4a,Hwd:T4a,Fxd:mM,Lxd:nM,Gxd:oM,Hxd:pM,pud:qM,tud:rM,oxd:U4a,Bud:V4a,Dud:W4a,Cud:X4a,Aud:Y4a,yud:Z4a,zud:a5a,fyd:b5a,gyd:c5a,hyd:d5a,jyd:e5a,iyd:f5a,kyd:g5a,Ivd:h5a,Jzd:i5a,Dxd:j5a,Cxd:k5a,xqc:sM,
ewd:tM,Svd:l5a,Tvd:m5a,ryd:n5a,gsd:o5a,lwd:p5a,Dvd:q5a},s5a,YG={};YG.COMPOSE="Compose";var uM="Search";YG.SEARCH=uM;var t5a="Back to threadlist";YG.BACK=t5a;YG.PREV="Newer conversation";YG.NEXT="Older conversation";YG.SELECT="Select conversation";YG.STAR="Star conversation";var u5a="Remove label";YG.REMOVE=u5a;YG.IGNORE="Ignore conversation";YG.SPAM="Report as spam";YG.TRASH="Move to trash";var v5a="Open conversation";YG.OPEN=v5a;YG.PREVMSG="Previous message";YG.NEXTMSG="Next message";var vM="Reply";
YG.REPLY=vM;YG.REPLY_NEW_WINDOW="Reply in a new window";YG.REPLYALL="Reply all";YG.REPLYALL_NEW_WINDOW="Reply all in a new window";var w5a="Forward";YG.FORWARD=w5a;YG.FORWARD_NEW_WINDOW="Forward in a new window";YG.QUICKCONTACTS="Focus chat contact search";YG.GO_INBOX="Go to Inbox";YG.GO_STARRED="Go to Starred conversations";YG.GO_SENT="Go to Sent messages";YG.GO_DRAFTS="Go to Drafts";YG.GO_ALL="Go to All mail";YG.GO_CONTACTS="Go to Contacts";YG.SELECT_ALL="Select all conversations";
YG.SELECT_NONE="Deselect all conversations";YG.SELECT_READ="Select read conversations";YG.SELECT_UNREAD="Select unread conversations";YG.SELECT_STARRED="Select starred conversations";YG.SELECT_UNSTARRED="Select unstarred conversations";YG.LAST_IM_MOLE="Focus last chat mole";YG.UPDATE_CONVERSATION="Update conversation";YG.REMOVE_LABEL_AND_PREV="Remove label and go to previous conversation";YG.REMOVE_LABEL_AND_NEXT="Remove label and go To next conversation";YG.UNDO="Undo last action";
YG.MORE_ACTIONS="Open more actions menu";var wM="Mark as read";YG.MARK_AS_READ=wM;var x5a="Mark as unread";YG.MARK_AS_UNREAD=x5a;YG.SHORTCUT_HELP="Open shortcut help";var y5a="Archive";YG.ARCHIVE=y5a;YG.MOVE_TO="Open move to menu";YG.LABEL_AS="Open label as menu";var OF=new uh;
OF.ri={c:P4a,"/":Q4a,u:eM,k:fM,j:gM,x:KG,s:hM,y:R4a,m:iM,"!":jM,"#":kM,o:lM,p:S4a,n:T4a,r:mM,R:nM,a:oM,A:pM,f:qM,F:rM,q:U4a,gi:V4a,gs:W4a,gt:X4a,gd:Y4a,ga:Z4a,gc:a5a,"*a":b5a,"*n":c5a,"*r":d5a,"*u":e5a,"*s":f5a,"*t":g5a,"\u001b":h5a,N:i5a,"]":j5a,"[":k5a,z:sM,".":tM,I:l5a,U:m5a,"?":n5a,e:o5a,v:p5a,l:q5a};OF.Gi=function $Fk(a,c,d){for(var f=a;f[u]>0;f=f[lb](0,-1))if(OF.ri[f])e(Error(".52`"+a+qw+f));OF.ri[a]=c;YG[c]=d;OF[r](Ky)};OF.J=function $Gk(){return OF.ri};_B_prog(46)}catch(e){_B_err(e)}

try{H(aya,Jf);aya[w].L=function $Hk(){Kf(this.ud);Kf(this.eQ);Kf(this.s8a)};Ha(bya[w],function $Ik(){return this.O[t]()});bya[w].kc=D(ae);F=cya[w];F.zO=function $Kk(){return this.O[1]};va(F,function $Lk(){return this.O[2]});F.qta=function $Mk(){return this.O[8]};Ha(F,function $Nk(){return this.O[t]()});F.kc=D(ae);H(eya,Kx);H(hya,eya);var xM="ic",z5a="cru",A5a="fru",B5a="evw",C5a="oid";hya[w].b9c=function $Pk(a){a=new cya(a[dq]);this.mb.Qf();try{this.Fa(Rd,a.zO());this.Fa(Zx,a[pq]());this.Fa(Pd,a.O[3]);this.Fa(ML,a.O[4]);this.Fa(xM,a.O[5]);this.Fa(z5a,a.O[6]);this.Fa(LF,a.O[7]);this.Fa(dx,a.qta());this.Fa(A5a,a.O[9]);this.Fa(ge,a.O[11]);this.Fa(B5a,a.O[12]);this.Fa(C5a,a.O[13])}finally{this.mb.Mf()}};var yM="gn";hya[w].E1c=function $Qk(a){this.Fa(yM,(new bya(a[dq])).O[1])};hya[w].f_c=function $Rk(){this.Fa(gya,h)};var D5a="ix_cps",Iya={bxd:By,Lvd:D5a};H(hy,Hx);var E5a=new Hf;F=hy[w];var F5a="NOT LOADED";F.Dv=F5a;F.Lz=ly;F.YAa=0;F.Hkb=0;F.hC=function $Sk(){var a=hy.C.hC[z](this);a|=26;if(this.dQa)a|=1;return a};F.J=function $Tk(){Ix(this);return this.QN};F.Uc=function $Uk(){Ix(this);return this.bf?this.bf:E5a};F.qj=function $Vk(){Ix(this);return this.bf?this.bf.Nb():0};F.za=function $Wk(a){return iy(this,a)};F.cNa=function $Xk(){Ix(this);return this.Dv};F.zMa=function $Yk(){Ix(this);return this.Lz};F.Ds=function $Zk(){Ix(this);return!!this.Vwa};
F.hc=function $_k(){Ix(this);return this.cNa()==ky};F.Es=function $0k(){Ix(this);return this.zMa()==ly};F.Fi=function $1k(){Ix(this);return this.cNa()==ky&&this.zMa()==ly};F.B=function $2k(){return this.mb.B()};F.L=function $3k(){hy.C.L[z](this);if(this.bf){for(var a=this.bf.Oa(),c=0;c<a[u];c++)a[c].D();this.bf[bc]()}a=this.ac();c=this.mb;xLa(c.g1,this);jya(this,i);a&&a[Nc](this);c&&c.M5b(this,a)};
F.ha=function $4k(a){var c=a.vn();if(!this.bf)this.bf=new Hf;if(this.bf.Xb(c))e(Error(".53`"+this.Je()+qw+c));if(a.ac())e(Error(".54`"+a.Je()));a.Ig(this);this.bf.set(c,a)};lk(F,function $5k(a){var c=a.vn();if(!this.bf||!this.bf.Xb(c))e(Error(".55`"+this.Je()+qw+c));a.Ig(i);this.bf[Pb](c)});F.set=function $6k(a){Ix(this);this.Dv=ky;this.Lz=ly;this.Vwa=k;jya(this,a);ny(this)};F.DJb=function $7k(){Ix(this);this.Dv=F5a;this.Lz=ly;this.Vwa=k;jya(this,i);ny(this)};F.QK=function $8k(){this.Lz=yLa;this.mb.N5b(this)};
F.bva=function $9k(a){ny(this,a.aJ)};F.Iz=function $$k(){if(this.dQa){var a=this.mb.g1;this.YAa==0&&xLa(a,this);this.YAa++;this.mb.Ypb(this)}};F.bB=function $al(){if(this.dQa)if(this.YAa!=0){this.YAa--;this.mb.Ypb(this);var a=this.mb.g1;if(this.YAa==0){this.Hkb=a.CLb;a.ela.set(this.Je(),this)}}};H(py,hy);py[w].PK=function $bl(){this.QK()};py[w].hC=function $cl(){var a=py.C.hC[z](this);if(this.qBc)a|=32;return a};H(qy,uh);va(qy[w],D(LL));qy[w].Ca=D(Ad);Ha(qy[w],function $fl(){return String(this.jf)});H(ry,hy);ry[w].nM=function $gl(a){this.mb.Qf();try{var c;if(a[u]==1||a[1][u]==0)c=[];c=Ve(a[1][0])?a[1]:qf(a,1);for(a=0;a<c[u];a++){var d=c[a][0],f=c[a][1],g=this.za(Qf(d));g||(g=new py(Qf(d),this));g.set(new qy(d,f))}my(this)}finally{this.mb.Mf()}};ry[w].za=function $hl(a,c){Ix(this);var d=iy(this,a);if(d||c)return d;return new py(a,this)};H(pya,xx);F=pya[w];F.CJa=B();F.CJa.Rn=h;F.KMa=B();F.KMa.Rn=h;F.Hwa=B();F.Hwa.ic=h;H(rya,hy);yx(pya,rya);F=rya[w];F.za=function $ll(a,c){Ix(this);var d=iy(this,a);if(d||c)return d;return(a=this.aa.CJa(a))?a:i};F.rg=function $ml(){Ix(this);if(this.Fi()){this.mb.Qf();try{this.QK();for(var a=this.Uc().Oa(),c=0;c<a[u];c++)a[c].PK()}finally{this.mb.Mf()}}};F.db=function $nl(a){Ix(this);if(this.aa.Hwa(a)){Ix(this);return this.RZb[a]}var c=sya(this,a).J();if(c==i){c=this.aa.KMa(a);if(c!=i){this.Yc(a,c);return c}else return i}return c.Ca()};
F.Yc=function $ol(a,c){Ix(this);if(this.aa.Hwa(a)){Ix(this);this.RZb[a]=typeof c==ig?c?Hj:Ah:typeof c==Qe?String(c):c}else{var d=sya(this,a);a=a[Cc](Md);c=new qy(a.pop(),c);d.set(c)}};F.Oo=function $pl(a){return String(this.db(a))};F.nf=function $ql(a){return!!Number(this.db(a))};F.Ep=function $rl(a){return Number(this.db(a))};F.Yn=function $sl(a){return sya(this,a).Je()};H(sy,uh);var zM="Xa";sy[w].ea=D(zM);sy[w].Qe=D(ge);var AM="Me";sy[w].Dd=D(AM);sy[w].Vc=D("Rj");var uya=new cg;uya.Vl([5,6,7,8,9,11,13,14]);H(uy,hy);uy[w].nM=function $xl(a){for(var c=new Hf,d=1;d<a[u];d++)c.set(Qf(a[d][0]),a[d]);this.mb.Qf();try{var f=this.Uc(),g=f.Sb();for(d=0;d<g[u];d++){var j=g[d],n=f.J(j),s=c.J(j);if(s){var v=new sy(s);n.set(v);c[Pb](j)}else mya(n,h)}f=this;var C=c.Sb();for(d=0;d<C[u];d++){j=C[d];var M=c.J(j),Y=new py(Qf(j),f),ha=new sy(M);Y.set(ha)}this.dbb=[];for(d=1;d<a[u];d++)this.dbb[p](this.za(Qf(a[d][0])).J());my(this)}finally{this.mb.Mf()}};
uy[w].za=function $yl(a,c){Ix(this);var d=iy(this,a);if(d||c)return d;return new py(a,this)};uy[w].DT=D("dbb");zx(wya,pya);var BM="filters";wya[w].CJa=function $Al(a){switch(a){case Hya:return new ry(Hya,this.sAa);case BM:return new uy(BM,this.sAa)}return i};wya[w].KMa=function $Bl(a){return(a=Mf(a,this.hVa)?a[lb](this.hVa[u]):i)?cM[a]:i};var CM="sx_cks_";wya[w].Hwa=function $Cl(a){return(Mf(a,this.hVa)?a[lb](this.hVa[u]):i)==CM};H(wy,Jf);var G5a={},DM="enabled";G5a[0]=DM;G5a[1]="customize";var H5a="popular";G5a[2]=H5a;wy[w].L=function $Dl(){wy.C.L[z](this);this.Mk.D()};wy[w].Xqb=function $El(){this.J9=h;Ff(this.Trb,function(a){a.ad(this.rl)},this);Ia(this.Trb,0)};
var EM="bx_hs",I5a="bx_cm",J5a="bx_pd",K5a="ix_fv",L5a="bx_tkup",M5a="bx_tksp",N5a="bx_tkmn",O5a="sx_tkli",P5a="ix_tklv",FM="sx_dl",GM="sx_trl",HM="bx_tm",Q5a="sx_trh",R5a="sx_trlo",S5a="sx_rt",T5a="bx_en",U5a="bx_rf",IM="sx_em",JM="sx_at",KM="bx_ve",LM="sx_vs",MM="sx_vm",V5a="bx_vc",W5a="lx_vst",NM="lx_vend",OM="ix_ss",PM="sx_sg",QM="bx_se",X5a="sx_sa",Y5a="sx_sf",Z5a="bx_lis",a6a="bx_xs",RM="sx_xs",b6a="ix_ca",c6a="ix_dotr",SM="ix_ql",d6a="bx_aa",TM="bx_sn",UM="bx_pe",e6a="ix_pd",VM="bx_ie",f6a=
"bx_yjsc",g6a="bx_yjotr",WM="sx_yjpls",h6a="sx_yjgps",i6a="bx_yjgpc",j6a="sx_pu",k6a="ix_pp",XM="bx_qlfo",l6a="sx_yjcaps",m6a="bx_yjcapc",n6a="sx_yjaps",o6a="bx_yjapc",p6a="bx_yjabs",q6a="ix_as",r6a="sx_eisp",YM="bx_eie",s6a="sx_emsk",ZM="bx_emao",t6a="sx_bkmk_",aN="sx_bkmk_c",bN="ix_udf",cN="ix_utf",u6a="sx_ussl",v6a="sx_mgp",w6a="sx_clcp",x6a="ix_clcip",y6a="sx_wsh",dN="bx_bau",z6a="bx_dsp",A6a="bx_vesp",B6a="bx_vctn",C6a="sx_ts",eN="sx_tl",fN="bx_te",D6a="bx_ta",E6a="sx_st",F6a="sx_oshs",gN="sx_skcs",
G6a="sx_sd",hN="sx_sklctn",iN="bx_iae",jN="ix_ieb",kN="ix_ifm",H6a="sx_dtsp",I6a="sx_ltl",J6a="sx_ltt",lN="sx_ltp",mN="ix_ltps",nN="bx_sme",K6a="ix_scp",L6a="sx_ugp",oN="bx_asd",M6a="ix_gdc",pN="ix_lsas",N6a="sx_yjvps",O6a="bx_yjvpc",qN="bx_too",P6a="sx_finb",Q6a="bx_aec",R6a="lppn_ldt",rN="ix_lscd",S6a="ix_uwptl",T6a="ix_usptl",U6a="bx_upd",sN="bx_ud",V6a="bx_usf",W6a="bx_ibcop",X6a="bx_ibcac",Y6a="bx_ibcar",tN="sx_iods",Z6a="ix_iothe",a7a="bx_iopd",b7a="sx_iogps",c7a="sx_iogpp",d7a="bx_ioao",e7a=
"bx_ioof",f7a="sx_iocs",g7a="bx_smsp",Cya=new Hf({wvd:EM,uyd:"bx_show0",tyd:"bx_show1",vyd:"bx_show2",yyd:"bx_show3",Mud:"bx_hidetp",Pud:I5a,Rwd:J5a,Uyd:"bx_sv",Ssd:K5a,Jwd:g1a,syd:bL,YDb:cL,Psd:"sx_ca",bzd:L5a,czd:M5a,azd:N5a,Yyd:O5a,Zyd:P5a,ztd:FM,vmc:qAa,jzd:GM,hzd:HM,izd:Q5a,kzd:R5a,Mxd:S5a,Vtd:T5a,Kxd:U5a,sud:IM,rud:JM,Szd:KM,Wzd:LM,Uzd:MM,Rzd:V5a,Vzd:W5a,Tzd:NM,qxd:OM,Gpc:PM,Ayd:QM,zyd:X5a,AEb:Y5a,Mvd:Z5a,Qzd:a6a,Xtd:RM,Jyd:"bx_sp",dwd:"ix_mm",cwd:"sx_si",awd:"ix_rc",bwd:"sx_rw",csd:"ix_at",
Qsd:b6a,std:c6a,Ixd:"ix_yjrbc",nxd:SM,Cvd:oJ,vwd:nJ,jsd:d6a,Gyd:TM,Xwd:UM,Wwd:e6a,Rud:VM,kxd:"sx_pf",Rsd:"bx_disableyj",Kud:f6a,Jud:g6a,Xxd:WM,pvd:h6a,ovd:i6a,Koc:j6a,Swd:k6a,Jvd:"sx_tz",mxd:XM,isd:l6a,hsd:m6a,bsd:n6a,asd:o6a,Zrd:p6a,gAd:g6a,ptd:"sx_dbglp",Fvd:"ix_llsp",esd:q6a,Ttd:r6a,Std:YM,Qtd:s6a,Ptd:ZM,wwd:FVa,ktd:CM,Nsd:t6a,Msd:aN,Kzd:bN,Pzd:cN,Ozd:u6a,Rvd:v6a,itd:w6a,jtd:x6a,eAd:y6a,QCb:dN,bAd:"bx_yjvsc",ytd:z6a,Yzd:A6a,Isd:JH,Xzd:B6a,nzd:C6a,ozd:eN,lzd:fN,mzd:D6a,pzd:E6a,Mwd:F6a,Xsd:gN,Cyd:G6a,
Byd:hN,Qud:iN,Sud:jN,Tud:kN,ttd:H6a,Yud:I6a,Zud:J6a,Xud:lN,Wud:mN,Lzd:nN,lyd:K6a,Bzd:L6a,ksd:oN,xud:M6a,Pvd:pN,aAd:N6a,Zzd:O6a,Xyd:qN,uud:P6a,dsd:Q6a,Ovd:R6a,Qvd:rN,Izd:S6a,Hzd:T6a,Fzd:U6a,Azd:sN,Gzd:V6a,Ezd:W6a,Dzd:X6a,Czd:Y6a,evd:tN,kvd:Z6a,jvd:a7a,fvd:b7a,gvd:c7a,cvd:d7a,hvd:e7a,dvd:f7a,ayd:Y_a,Eyd:g7a});F=wy[w];F.DT=function $Fl(){zy(this,this.rl);return this.rl.za(BM).DT()};F.GE=function $Gl(a){zy(this,this.rl);return(a=Eya(this,a,h))?a.J():i};F.Fi=function $Hl(){return this.rl.Fi()};F.rg=function $Il(){this.rl.rg()};
F.db=function $Jl(a){return this.rl.db(Cy(this,a))};F.Yc=function $Kl(a,c){this.rl.Yc(Cy(this,a),c)};F.Oo=function $Ll(a){return this.rl.Oo(Cy(this,a))};F.nf=function $Ml(a){return this.rl.nf(Cy(this,a))};F.Ep=function $Nl(a){return this.rl.Ep(Cy(this,a))};F.Yn=function $Ol(a){return this.rl.Yn(Cy(this,a))};F.oza=function $Pl(a){if(!a.Pg||a.Pg.H()!=this)this.rk(a.Pg,a.QLb,a[dq])};
F.rk=function $Ql(a,c,d){if(!this.Pc)switch(c){case oy:(a=this.rl.za(Hya))||(a=new ry(Hya,this.rl));a.nM(d);break;case vy:(a=this.rl.za(BM))||(a=new uy(BM,this.rl));a.nM(d);break;case xya:d=Ve(d[1])?d[1]:qf(d,1);for(a=0;a<d[u];a++){var f=Gya+G5a[a];(c=this.rl.za(f))||(c=new py(f,this.rl));c.set(new qy(f,!!Number(d[a])))}break;case yya:(a=this.rl.za(By))||(a=new ry(By,this.rl));a.nM(d);break;case wo:for(f in r5a){a=CM+r5a[f];this.Yc(a[od](),dM)}d=(new Sxa(d)).HHb;for(f=0;f<d[u];f++){c=d[f];a=CM+c.ea();
this.Yc(a[od](),c.O[0])}break}};_B_prog(47)}catch(e){_B_err(e)}

try{var uN=Dy(k),vN=Dy(h);var Hy={};Kya[w].Aqb=function $Rl(a){var c=a.Dg();this.Pd[c]||(this.Pd[c]=a)};Kya[w].f_=function $Sl(a){return this.Pd[a]};Hy.rfc=new Kya;Hy.Aqb=function $Tl(a){Hy.rfc.Aqb(a)};Hy.f_=function $Ul(a){return Hy.rfc.f_(a)};var _GM_getMailSearch=Hy;F=Gy[w];F.Ga=D(Gd);F.Qc=function $Wl(a){return!!(a&&this.Dg()==a.Dg())};F.Dg=D("Js");F.Xs=function $Yl(){e(Error(".56`"+this.Xd))};F.Rc=function $Zl(a){return this.Fn.J(a)};F.ZZ=D(N_a);F.nd=E(k);Ha(F,function $1l(){return this.Dg()});F.lba=uN;H(Rya,Gy);F=Rya[w];F.Qe=D(ge);var h7a="search/";F.Xs=function $3l(){return h7a+Lya(this.ae)};F.nd=function $4l(){return!this.ae};F.FL=E(h);F.Qb=E(rC);var i7a="Search results";va(F,E(i7a));H(Sya,Gy);var j7a="as_from",k7a="as_to",l7a="as_subj",m7a="as_has",n7a="as_hasnot",o7a="as_attach",p7a="as_within",q7a="as_date",cza={WM:j7a,RR:k7a,QR:l7a,Ryd:Tya,mnc:m7a,nnc:n7a,clc:o7a,fAd:p7a,p1a:q7a,xyd:Zya},d1a=new Hf({from:j7a,to:k7a,subject:l7a,subset:Tya,has:m7a,hasnot:n7a,attach:o7a,within:p7a,date:q7a}),bza=new Hf(cza);F=Sya[w];var r7a="advanced-search/";F.Xs=function $8l(){return r7a+Nya(this.ZZ(),d1a)};
F.nd=function $9l(){var a=this.ZZ();return!(a.J(j7a)||a.J(k7a)||a.J(l7a)||a.J(Tya)!=cz||a.J(m7a)||a.J(n7a)||a.J(o7a)||a.J(q7a))};F.FL=E(h);F.Qb=E(rC);va(F,E(i7a));F.uy=function $cm(){return this.Rc(j7a)||I};F.kC=function $dm(){return this.Rc(k7a)||I};F.mi=function $em(){return this.Rc(l7a)||I};F.Bta=function $fm(){return this.Rc(m7a)||I};F.Dta=function $gm(){return this.Rc(n7a)||I};F.Cta=function $hm(){return!!this.Rc(o7a)};jp(F,function $im(){return this.Rc(q7a)||I});H(Vya,Gy);F=Vya[w];var s7a="nn";F.Pt=D(s7a);var t7a="%2E",u7a="label/";F.Xs=function $km(){var a=Lya(this.nn);if(a==He)a=t7a;return u7a+a};F.FL=E(h);F.Qb=E(rC);va(F,function $nm(){return Vf+this.Pt()+Vf});F.Dd=function $om(){return this.Pt()};F.Iga=function $pm(){return this.Pt()};F.pv=E(1);F.lba=function $rm(a){return a.Xb(this.Dd())};H(Yya,Gy);var v7a="CN";Yya[w].tga=D(v7a);Yya[w].FL=E(k);var wN="Contacts";va(Yya[w],E(wN));H(Qy,Gy);var xN="cf1_from",yN="cf1_to",zN="cf1_subj",AN="cf1_has",BN="cf1_hasnot",CN="cf1_attach",eza={WM:xN,RR:yN,QR:zN,mnc:AN,nnc:BN,clc:CN},e1a=new Hf({from:xN,to:yN,subject:zN,has:AN,hasnot:BN,attach:CN}),dza=new Hf(eza);F=Qy[w];var w7a="create-filter/";F.Xs=function $vm(){return w7a+Nya(this.ZZ(),e1a)};F.FL=E(k);F.Qb=E(kC);va(F,E(i7a));F.uy=function $zm(){return this.Rc(xN)||I};F.kC=function $Am(){return this.Rc(yN)||I};F.mi=function $Bm(){return this.Rc(zN)||I};
F.Bta=function $Cm(){return this.Rc(AN)||I};F.Dta=function $Dm(){return this.Rc(BN)||I};F.Cta=function $Em(){return!!this.Rc(CN)};var Sy=new function(){this.Ezb={};this.QCa={}},BSa=new cg([sz,pz,Jy,az,iz,Oy,ul]);H(bz,Gy);F=bz[w];F.Xs=function $Fm(){return this.Ga()};F.FL=E(h);F.Qb=E(ey);F.lba=function $Im(a){return a.Xb(this.Dd())};F.Iga=function $Jm(){return this[pq]()};H(dz,bz);var x7a="All Mail";va(dz[w],E(x7a));var DN="^all";dz[w].Dd=E(DN);dz[w].pv=E(0);Ne(dz);Ry(DN,dz.S());Wy(dz.S());H(iza,Gy);va(iza[w],E(I));Ne(iza);Wy(iza.S());H(gz,bz);var y7a="Chats";va(gz[w],E(y7a));var EN="^b";gz[w].Dd=E(EN);gz[w].pv=E(0);Ne(gz);Ry(EN,gz.S());Wy(gz.S());H(hz,bz);var z7a="Delivered";va(hz[w],E(z7a));var A7a="^d";hz[w].Dd=E(A7a);hz[w].pv=E(0);Ne(hz);Ry(A7a,hz.S());Wy(hz.S());H(jz,bz);var B7a="Drafts";va(jz[w],E(B7a));jz[w].Dd=E(CL);jz[w].pv=E(2);Ne(jz);Ry(CL,jz.S());Wy(jz.S());H(lz,bz);var FN="Inbox";va(lz[w],E(FN));lz[w].Dd=E(TI);lz[w].pv=E(1);Ne(lz);Ry(TI,lz.S());Wy(lz.S());H(mz,bz);var C7a="Muted";va(mz[w],E(C7a));var GN="^g";mz[w].Dd=E(GN);mz[w].pv=E(0);Ne(mz);Ry(GN,mz.S());Wy(mz.S());H(oz,bz);var D7a="Outbox";va(oz[w],E(D7a));var HN="^ob";oz[w].Dd=E(HN);oz[w].pv=E(2);Ne(oz);Ry(HN,oz.S());Wy(oz.S());H(qz,bz);var E7a="Sent Mail";va(qz[w],E(E7a));var IN="^f";qz[w].Dd=E(IN);qz[w].pv=E(0);Ne(qz);Ry(IN,qz.S());Wy(qz.S());H(rz,bz);var JN="Spam";va(rz[w],E(JN));rz[w].Dd=E(AL);rz[w].pv=E(1);rz[w].Qb=E(IF);Ne(rz);Ry(AL,rz.S());Wy(rz.S());H(tz,bz);var KN="Starred";va(tz[w],E(KN));tz[w].Dd=E(oI);tz[w].pv=E(0);Ne(tz);Ry(oI,tz.S());Wy(tz.S());H(uz,bz);var LN="Trash";va(uz[w],E(LN));uz[w].Dd=E(BL);uz[w].pv=E(0);uz[w].Qb=E(IF);Ne(uz);Ry(BL,uz.S());Wy(uz.S());var F7a=dz.S();iza.S();gz.S();hz.S();var R3a=jz.S(),G7a=lz.S();mz.S();var H7a=oz.S(),Q3a=qz.S();rz.S();var I7a=tz.S(),J7a=uz.S();_B_prog(48)}catch(e){_B_err(e)}

try{lza[w].Eb=function $in(a){return!!this.trc[a]};mza[w].Dq=D("yZ");Ha(nza[w],function $kn(){return this.O[t]()});nza[w].kc=D(ae);oza[w].Cp=function $mn(){return this.O[2]};Ha(oza[w],function $nn(){return this.O[t]()});oza[w].kc=D(ae);jp(pza[w],function $pn(){return this.O[1]});Ha(pza[w],function $qn(){return this.O[t]()});pza[w].kc=D(ae);Ha(qza[w],function $sn(){return this.O[t]()});qza[w].kc=D(ae);Ha(rza[w],function $un(){return this.O[t]()});rza[w].kc=D(ae);H(wza,Kx);F=wza[w];var MN="np";F.B3c=function $wn(a){a=a[dq];for(var c=1;c<a[u];++c){var d=a[c];if(Ve(d))switch(d[0]){case 0:this.Fa(ex,d[1]);break;case 1:this.Fa(MN,d[1]);break;default:}}};F.d9c=function $xn(a){this.Fa(ii,(new rza(a[dq])).O[1])};F.v1c=function $yn(a){this.Fa(IB,(new nza(a[dq])).O[1])};F.Q6c=function $zn(a){a=new qza(a[dq]);this.Fa(ki,Zf()/1E3-a.O[1])};F.g5c=function $An(a){this.Fa(Pd,(new pza(a[dq]))[iq]())};F.s2c=function $Bn(a){this.Fa(wo,a[dq][1])};
F.B4c=function $Cn(a){this.Fa(vza,new oza(a[dq]))};F.E2c=function $Dn(a){this.Fa(xz,a[dq][1])};Ha(yza[w],function $En(){return this.O[t]()});yza[w].kc=D(ae);F=zza[w];va(F,function $Gn(){return this.O[0]});F.Sj=function $Hn(){return this.O[1]};F.wga=function $In(){return this.O[2]};F.PT=function $Jn(){return this.O[3]};Ha(F,function $Kn(){return this.O[t]()});F.kc=D(ae);H(Cza,Kx);Cza[w].H_c=function $Mn(a){a=new yza(a[dq]);this.mb.Qf();try{this.Fa(Bz,Dza(this,a.Ajc));this.Fa(Cz,Dza(this,a.zic))}finally{this.mb.Mf()}};H(Fza,Kx);var NN="dc";Fza[w].y0c=function $Nn(a){a=new wxa(a[dq]);this.mb.Qf();try{this.Fa(zz,a);this.Fa(NN,h)}finally{this.mb.Mf()}};H(Hza,Kx);Hza[w].y1c=function $On(a){this.mb.Qf();try{this.Fa(Bz,vx(a[dq][1]));this.Fa(Cz,vx(a[dq][2]));a[dq][u]>3&&this.Fa(Kd,vx(a[dq][3]));a[dq][u]>4&&this.Fa(Rd,Boolean(a[dq][4]))}finally{this.mb.Mf()}};var K7a=new Hf({"197":772,"743":744,"745":746,"764":765,"766":767,"804":805,"806":807,"947":948,"983":984,"991":992,"1041":1042,"1170":1171,"714":715,"455":733,"942":943,"496":497,"427":480,"431":491,"428":481,"424":477,"453":492,"434":483,"425":478,"435":484,"747":748,"437":486,"436":485,"429":482,"534":535,"387":476,"438":487,"439":488,"539":540,"553":554,"551":555,"548":549,"574":575,"590":591,"586":587,"577":578,"580":581,"582":583,"599":600,"619":620,"874":875,"621":622,"631":632,"654":655,"645":646,
"513":556,"678":679,"693":694,"648":695,"1136":1137,"719":720,"721":722,"724":725,"734":735,"739":740,"628":751,"784":785,"799":800,"790":791,"794":795,"1093":1094,"801":802,"1002":1003,"692":825,"771":831,"815":816,"898":899,"248":904,"1031":1032,"872":935,"812":813,"945":946,"1011":1012,"1027":1028,"1063":1064,"981":1081,"1090":1091,"1168":1169,"1096":1097,"1117":1118,"1005":1120,"1132":1133,"1134":1135,"1138":1139,"1157":1158,"1152":1153,"593":594,"595":596,"700":701,"1045":1046,"1154":1155,"633":634});Iza[w].Xj=function $Pn(a){var c=a[2];this.id=a[0];this.og=a[1];this.ZYb=c[1];this.fka=c[3];this.wPc=!!c[6];this.fLc=!!c[8];this.Yib=!!c[7];this.Knb=c[5]-this.fka;this.JI=c[0];this.CZb=c[2];this.Cec=this.JI!=0&&this.JI!=1&&this.JI!=11};H(Lza,Kx);var L7a="ri",ON="ma";Lza[w].e5c=function $Qn(a){a=a[dq];this.mb.Qf();try{this.Fa(L7a,a[1]*1E3);this.Fa(ON,a[2]);for(var c=3,d=[];a[c];){d[p](new Iza(a[c]));c++}this.Fa(Kd,d)}finally{this.mb.Mf()}};Ha(Mza[w],function $Rn(){return this.O[t]()});Mza[w].kc=D(ae);H(Oza,Kx);var M7a="psu",N7a="msu",O7a="tou",PN="gm",P7a="bppu";Oza[w].r5c=function $Tn(a){a=new Mza(a[dq]);this.mb.Qf();try{this.Fa(Zx,a.O[1]);this.Fa(RE,a.O[2]);this.Fa(ii,a.O[3]);this.Fa(Yx,a.O[4]);this.Fa(Hz,a.O[5]);this.Fa(Kd,a.O[6]);this.Fa(dx,a.O[7]);this.Fa(Rd,a.O[8]);this.Fa(Pd,a.O[9]);this.Fa(oy,a.O[10]);this.Fa(M7a,a.O[11]);this.Fa(N7a,a.O[12]);this.Fa(O7a,a.O[13]);this.Fa(PN,a.O[14]);this.Fa(GF,a.O[15]);this.Fa(P7a,a.O[16])}finally{this.mb.Mf()}};Pza[w].Aq=function $Un(){return this.O[4]};Ha(Pza[w],function $Vn(){return this.O[t]()});Pza[w].kc=D(ae);H(Sza,Kx);var QN="up",RN="ug",Q7a="tg",R7a="nq",S7a="aq",T7a="um";Sza[w].e9c=function $Xn(a){a=new Pza(a[dq]);this.mb.Qf();try{this.Fa(QN,a.O[3]);this.Fa(IB,a.O[2]);this.Fa(dx,a.Aq());this.Fa(RN,a.O[8]);this.Fa(Q7a,a.O[9]);this.Fa(QE,a.O[7]);this.Fa(R7a,a.O[5]);this.Fa(S7a,a.O[6]);this.Fa(T7a,a.O[1])}finally{this.mb.Mf()}};Ha(Tza[w],function $Yn(){return this.O[t]()});Tza[w].kc=D(ae);F=Ez[w];F.J=function $_n(a,c){if(a=this.yd.J(a)){if(this.Pd){a[Pb]();Wza(this,a)}return a[q]}return c};F.set=function $0n(a,c){var d=this.yd.J(a);if(d){pa(d,c);if(this.Pd){d[Pb]();Wza(this,d)}}else{d=new Uza(a,c);this.yd.set(a,d);Wza(this,d)}};F.hQ=function $1n(){return this.ni[Rk][q]};F.shift=function $2n(){return Xza(this,this.ni[Rk])};F.pop=function $3n(){return Xza(this,this.ni.SC)};wa(F,function $4n(a){var c=this.yd.J(a);if(c){c[Pb]();this.yd[Pb](a);return h}return k});F.Nb=function $5n(){return this.yd.Nb()};
F.nd=function $6n(){return this.yd.nd()};F.Sb=function $7n(){return this.map(function(a,c){return c})};F.Oa=function $8n(){return this.map(Ee())};Sa(F,function $9n(a){return this[Aaa](function(c){return c==a})});F.Xb=function $$n(a){return this.yd.Xb(a)};Aa(F,function $ao(){this.yd[bc]();Ma(this.ni,this.ni.SC=this.ni)});F.forEach=function $bo(a,c){for(var d=this.ni[Rk];d!=this.ni;d=d[Rk])a[z](c,d[q],d.key,this)};
F.map=function $co(a,c){for(var d=[],f=this.ni[Rk];f!=this.ni;f=f[Rk])d[p](a[z](c,f[q],f.key,this));return d};F.some=function $do(a,c){for(var d=this.ni[Rk];d!=this.ni;d=d[Rk])if(a[z](c,d[q],d.key,this))return h;return k};F.every=function $eo(a,c){for(var d=this.ni[Rk];d!=this.ni;d=d[Rk])if(!a[z](c,d[q],d.key,this))return k;return h};wa(Uza[w],function $fo(){Ma(this.SC,this[Rk]);this[Rk].SC=this.SC;this.SC=Ma(this,i)});H(Zza,Kx);Zza[w].C8c=function $go(a){this.mb.Qf();try{var c=new Tza(a[dq]),d=new cg(c.O[1]),f=new cg(c.O[2]);this.Fa(ki,d);this.Fa(IB,f);var g=new Ez,j=c.O[3];for(a=0;a<j[u];a+=2)g.set(j[a+1],j[a]);this.Fa(Pd,g)}finally{this.mb.Mf()}};Ha(aAa[w],function $ho(){return this.O[t]()});aAa[w].kc=D(ae);H(dAa,Kx);dAa[w].P8c=function $jo(a){a=a[dq];this.mb.Qf();try{this.Fa(rd,a[1]);var c=a[2];for(a=0;a<c[u];a++){var d=c[a];this.Fa(d[0],d[1])}}finally{this.mb.Mf()}};var U7a="usus";dAa[w].arb=function $ko(a){(new aAa(a[dq])).O[3]!=this.Ca(rd)&&oIa(this.Hn,U7a,Hj)};H(Gz,xx);Gz[w].mib=B();Gz[w].mib.Ka=h;Gz[w].bH=B();Gz[w].bH.Rn=h;H(Iz,uh);yx(Gz,Iz);
var V7a="us:n",W7a="us:m",X7a="us:u",Y7a="us:h",Z7a="us:at",SN="ui:d",a8a="ui:c",b8a="ui:cru",c8a="ui:ga",d8a="ui:sk",e8a="ui:ae",f8a="pi:n",g8a="pi:i",h8a="pi:l",i8a="pi:a",TN="pi:e",j8a="pi:p",k8a="pi:tou",l8a="pi:gm",m8a="pi:sa",n8a="qu:um",o8a="qu:up",p8a="qu:t",q8a="qu:ug",r8a="qu:tg",s8a="qu:c",t8a="qu:ps",u8a="qu:nq",v8a="qu:aq",w8a="pi:psu",x8a="pi:msu",y8a="pi:bppu",z8a="adc:hg",A8a="adc:al",B8a="adc:af",C8a="adc:pd",D8a="adc:id",E8a="adc:chh",F8a="adc:chu",G8a="adc:chih",H8a="adc:sbu",I8a=
"adc:sl",J8a="adc:hb",K8a="adc:sm",L8a="adc:fe",M8a="adc:wd",N8a="adc:lu",O8a="adc:rh",P8a="adc:cad",Q8a="adc:aid",R8a="adc:ihru",S8a="em:dc",T8a="ama:ri",UN="ama:a",U8a="tl:d",V8a="tl:s",W8a="tl:t",X8a="ai:rp",Y8a="ai:np",VN="ai:i",Z8a="ai:t",WN="ui:udc",a9a="ai:d",b9a="ai:s",c9a="ai:og",d9a="ai:ll",XN="ui:oid",e9a=["us:ver","us:l",V7a,W7a,X7a,e0a,Y7a,Z7a,Lz,kAa,SN,a8a,Mz,Nz,b8a,tD,c8a,d8a,e8a,pAa,f8a,"pi:r",g8a,"pi:h",h8a,i8a,"pi:c",TN,"pi:d",j8a,k8a,l8a,m8a,n8a,o8a,p8a,q8a,r8a,s8a,t8a,u8a,v8a,
w8a,x8a,y8a,z8a,mAa,"adc:ia",A8a,"adc:cs",B8a,C8a,D8a,"adc:it",E8a,"adc:cfh",F8a,G8a,"adc:cfu",H8a,"adc:cw","adc:ce","adc:ow",I8a,J8a,"adc:hv","adc:hh","adc:tl","adc:vl","adc:pl",K8a,L8a,lAa,"adc:bl",M8a,N8a,"adc:ip",O8a,P8a,"adc:asd",Q8a,R8a,jAa,"em:ds",S8a,Kz,Oz,T8a,"ama:ma",UN,U8a,V8a,W8a,X8a,Y8a,VN,Z8a,WN,Pz,a9a,b9a,c9a,d9a,nAa,XN],YN={};YN["$root/user"]=Oj;YN["$root/domainInfo"]=rxa;YN["$root/quota"]=Rza;YN["$root/emoji"]=zz;YN["$root/productInfo"]=Dz;YN["$root/updatableStrings"]=cAa;
YN["$root/customFrom"]=Bza;var f9a="$root/mailFetch";YN[f9a]=Kza;YN["$root/translatableLanguages"]=DE;var ZN="ai";YN["$root/appInfo"]=ZN;var aO={};aO.ui=0;aO.adc=1;aO.qu=2;aO.em=3;aO.pi=4;aO.us=5;aO.cfs=6;aO.ama=7;aO.tl=8;aO.ai=9;var g9a={},bO={};bO.ui={};bO.adc={};bO.qu={};bO.em={};bO.pi={};bO.us={};bO.cfs={};bO.ama={};bO.tl={};bO.ai={};
for(var h9a=0;h9a<e9a[u];h9a++){var i9a=e9a[h9a],j9a=i9a[Cc](xj);if(j9a[u]==2){var k9a=j9a[0],l9a=j9a[1],m9a=aO[k9a];if(Ke(m9a)){g9a[i9a]=[m9a,l9a];bO[k9a][l9a]=i9a}}}F=Iz[w];F.v5c=function $no(a){for(var c=0;c<a.dG[u];c++){var d=a.dG[c][Cc](xj);if(d[u]==2){var f=d[1],g=YN[d[0]];if(g){d=bO[g][f];f=this.FAa[aO[g]].Ca(f);this[r](new fAa(d,f))}}}};F.B=D(JF);ip(F,function $po(a){var c=g9a[a];return c?this.FAa[c[0]].Ca(c[1]):this.Na[a]});F.Cq=function $qo(a){return eAa+a};F.hasFeature=function $ro(a){return this.qyc.Eb(a)};
F.TSa=function $so(){for(var a=0,c=K7a.Sb(),d=0;d<c[u];d++)Jz(this,Number(c[d]))&&a++;return a};H(fAa,N);Iz[w].Sj=function $to(){return Hi};Iz[w].DK=function $uo(a){return rx(a,Hi)==0||gAa(this,a)};Iz[w].Gf=function $vo(){var a=yy(this.V);a=Pf(a.Oo(qAa));return im(a)||a==cM.sx_dn?this[hq](pAa):a};Iz[w].bH=function $wo(){var a=this.aa.bH();if(a!=undefined)return a;return G7a};_B_prog(49)}catch(e){_B_err(e)}

try{var cO="bn",dO="eu",eO="gu",fO="hi",gO="is",hO="kn",iO="mr",jO="te",kO="ur",zAa=[cO,dO,eO,fO,gO,hO,aJ,iO,lE,VG,eJ,jO,DE,kO];H(Zz,uh);F=Zz[w];F.MVb=h;F.Wd=D("KUc");F.vH=D("wpd");F.QE=D("drd");F.Ga=D(Gd);F.qk=B();var n9a=L;var BAa;H(aA,Bh);aA[w].e9a=function $Co(){aA.C.e9a[z](this)};H(fA,uh);fA[w].L=function $Do(){fA.C.L[z](this);nh(this.Lac,sj,this.a7,k,this);this.Lac=i;if(!Fh||vg(Im))Sg(this.ZQ);delete this.ZQ};fA[w].a7=function $Eo(){var a=this.ZQ[xk];if(this.LZb!=a){this.LZb=a;this[r](UAa)}};H(gA,Jf);F=gA[w];F.kma=Ge("RA");F.J=function $Go(a){var c=jA(this,a);if(!c&&!this.nBd)e(new GAa(a));return c};F.D3c=function $Ho(a,c){var d=jA(this,a);if(!d)e(new QAa(a,c,"Module loaded but service or factory not registered with app contexts."));return d};F.jGc=function $Io(a,c,d){return d instanceof wi?d:new MAa(a,c,d)};Yla(F,function $Jo(a,c,d){if(this.Ys[a])e(Error(".57`"+a));this.Ys[a]=[c,!d];delete this.Pia[a]});
F.L=function $Ko(){for(var a in this.Ys){var c=this.Ys[a];c[1]&&typeof c[0].D!="undefined"&&c[0].D()}this.Ys=i;this.mjd&&this.Fh.D();this.Fh=i;Kf(this.aI);this.aI=i};var lO="Fh";F.Ya=D(lO);H(GAa,Rh);H(MAa,Rh);H(QAa,Rh);H(nA,Lf);F=nA[w];F.jhb=nka;laa(F,function $Mo(){return this.jhb.jH()});F.Iw=function $No(){var a=nA.C.Iw[z](this);this.YOa[a]=h;return a};F.ez=function $Oo(a){if(!this.YOa[a])e(Error(".61"));nA.C.ez[z](this,a);delete this.YOa[a]};F.ZS=B();F.D=function $Qo(){nA.C.D[z](this);this.YOa=i};var o9a=new nA(1E3,2800);H(pA,uh);F=pA[w];cma(F,D("Kf"));F.ea=function $So(){if(!this.Xa)this.Xa=o9a.Iw();return this.Xa};F.W=D(fo);F.X=function $Uo(a){if(this.Pc)e(Error(".62"));if(!this.MK){this.MK=p9a.Iw();this.Qsa=p9a.Iw()}a=String(a);var c=this.Qsa.J(a);if(!c){c=o9a.Iw();this.Qsa.set(a,c);this.MK.set(c,a)}return c};F.td=function $Vo(a){return this.MK?this.MK.J(a):i};F.ve=function $Wo(a){return this.MK?this.ya.b(this.X(a)):i};F.Ga=function $Xo(){return fg(this[Sk])};Ha(F,function $Yo(){return this.Ga()});F.zcb=E(I);
F.ac=D(oka);F.rv=function $0o(){return this.ac()};F.dk=function $1o(){e(Error(".63"))};F.qj=function $2o(){return this.bf?this.bf[u]:0};F.rb=function $3o(a){return this.bf?this.bf[a]:i};F.Uc=function $4o(){return this.bf?this.bf:[]};F.JQb=function $5o(a){if(!a||this.Xa==a)return this;for(var c=this.qj(),d=0;d<c;d++){var f=this.rb(d).JQb(a);if(f)return f}return i};F.b=function $6o(a){rA(this);return a?this.ve(String(a)):this.wa};F.Cc=D("pia");F.Vh=function $8o(){this.wa=this.ya[Qb](T)};
F.Ig=function $9o(a){if(this.mh)e(Error(".64"));this.mh=a};F.Xk=function $$o(a){RAa(this,a,this.qj())};F.DJb=function $ap(){for(;tA(this,0););};F.ma=function $bp(){this.pia=h;if(this.JP)for(var a=this.JP,c=a[u],d=0;d<c;d++)a[d].ma()};F.Ba=function $cp(){this.pia=k;if(this.JP)for(var a=this.JP,c=a[u],d=0;d<c;d++)a[d].Ba()};
F.L=function $dp(){if(this.pia){this.Ba();Sg(this.wa)}this.wa=i;for(var a=nf(this.Uc()),c=0;c<a[u];c++)a[c].D();this.Xa&&o9a.ez(this.Xa);if(this.MK){a=this.MK.Sb();for(c=0;c<a[u];c++){var d=a[c],f=this.MK.J(d);this.MK[Pb](d);this.Qsa[Pb](f);o9a.ez(d)}p9a.ez(this.MK);p9a.ez(this.Qsa);this.Qsa=this.MK=i}this.Sab.D();this.Sab=i;pA.C.L[z](this)};F.H=D("Sab");H(SAa,Lf);laa(SAa[w],function $fp(){return new Hf});var p9a=new SAa;H(uA,pA);uA[w].LR=h;uA[w].MR=h;uA[w].xv=function $gp(a){if(!a)return this.LR||this.MR;switch(a){case vA:return this.LR;case Wx:return this.MR;default:e(Error(".65"))}};uA[w].Ui=function $hp(a){if(!a&&this.LR&&this.MR||a==vA&&this.LR||a==Wx&&this.MR)return k;if(a)switch(a){case vA:this.LR=h;break;case Wx:this.MR=h;break;default:e(Error(".66"))}else this.LR=this.MR=h;return h};H(xA,uA);F=xA[w];F.Sia=0;F.B_a=I;F.Cbb=i;F.za=function $ip(){return this.rb(0)};F.so=function $jp(a){if(!this.za()){yA++;try{this.W()[o](this.b(),a.b());a.RQ(this);this.Xk(a);this.Ui()}finally{zA()}}};lk(F,function $kp(){var a=this.za(),c=tA(this,0);if(c){a.RQ(i);this.W()[ad](a.b());this.Ui()}return c});F.L=function $lp(){VAa[Pb](this.ea());nh(this.FZ,UAa,this.XNa,k,this);if(VAa.nd()&&DA){DA.D();DA=i}nh(this.aR,wA,this.M5a,k,this);this.aR.D();this.aR=i;xA.C.L[z](this)};
F.M5a=function $mp(){this.bIa=i;this.Ui()};F.Ui=function $np(a){if(this.Sia==3&&(a==2||!a))e(Error(".68"));a=xA.C.Ui[z](this,a);WAa(this);return a};var q9a="lp_start",mO="lp_end";F.Yj=function $op(){if(!jfa.J()){this.Sia=1;this[r](q9a);if(!this.bIa)this.bIa=this.aR.Ke(this);this.za();lfa.J()&&nBa(this.za());this.Sia=2;this.xv(vA)&&XAa(this,vA,this.bIa[ib]);TAa(this,vA);this.Sia=3;this.xv(Wx)&&XAa(this,Wx,this.bIa[id]);TAa(this,Wx);this.Sia=0;this[r](mO)}};var r9a=":0";
F.XNa=function $pp(){if(!this.Cbb)this.Cbb=bA(r9a,this.MIc,50,this)};F.MIc=function $qp(){yA++;for(var a=this.Bbb,c=0;c<a[u];c++)a[c]();this.M5a();zA();this.Cbb=i};var DA=i,yA=0,VAa=new Hf;H(aBa,uh);aBa[w].Ke=function $rp(){return new yg(0,0)};H(EA,aBa);F=EA[w];var s9a=":1";F.x8b=function $sp(){var a=new yg(this.Sra[vc],this.Sra[Wc]);if(!this.xCb||a[ib]!=this.xCb[ib]||a[id]!=this.xCb[id]){this.hgb();this.xCb=a}this.v8b=bA(s9a,this.x8b,500,this)};F.We=i;F.hOa=i;
F.vjb=function $tp(){return Jg&&Ri||Ng&&this.dg[yma]!=this.dg.top};F.Ke=function $up(){if(!this.We)this.We=new yg(this.Sra[vc],this.Sra[Wc]);return this.We};F.a7=function $vp(){if(L){this.hOa&&cA(this.hOa);this.hOa=bA(r9a,this.hgb,500,this)}else this.hgb()};F.hgb=function $wp(){this.We=this.hOa=i;this[r](wA)};F.L=function $xp(){this.Mub.D();this.Sra=this.dg=i;this.v8b&&cA(this.v8b);EA.C.L[z](this)};_B_prog(50)}catch(e){_B_err(e)}

try{bBa[w].mM=Ge(eo);
var t9a="paddingTop",u9a="paddingBottom",v9a="marginLeft",w9a="marginRight",x9a="marginTop",y9a="marginBottom",pBa=[ria,sia,tia,Cva,"borderLeftStyle","borderRightStyle","borderTopStyle","borderBottomStyle",RGa,SGa,t9a,u9a,v9a,w9a,x9a,y9a],oBa={borderLeftWidth:HA,borderRightWidth:HA,borderTopWidth:HA,borderBottomWidth:HA,borderLeftStyle:xd,borderRightStyle:xd,borderTopStyle:xd,borderBottomStyle:xd,paddingLeft:HA,paddingRight:HA,paddingTop:HA,paddingBottom:HA,marginLeft:HA,marginRight:HA,marginTop:HA,
marginBottom:HA};H(IA,uA);var qBa=!(L&&!vg(aj)),OA=new bBa;F=IA[w];F.v8=0;F.GC=0;F.o8=Infinity;F.TU=Infinity;F.tCb=1;F.Hgb=-1;F.L4=h;F.Kg=0;F.Hf=0;F.ZHa=h;F.W4a=-1;F.O3=-1;F.Epa=0;F.Fpa=0;F.U4a=0;F.V4a=0;F.KT=function $zp(a){switch(a){case vA:return this.v8;case Wx:return this.GC;default:e(Error(".69"))}};F.hGc=function $Ap(){return this.KT(vA)};F.gGc=function $Bp(){return this.KT(Wx)};F.WZ=function $Cp(a){switch(a){case vA:return this.o8;case Wx:return this.TU;default:e(Error(".70"))}};F.edb=function $Dp(){return this.WZ(Wx)};
F.Sda=function $Ep(a,c){switch(a){case vA:return l.min(l.max(c,this.v8),this.o8);case Wx:return l.min(l.max(c,this.GC),this.TU);default:e(Error(".71"))}};F.rK=function $Fp(a){switch(a){case vA:return this.tCb;case Wx:return this.Hgb;default:e(Error(".72"))}};F.Twa=function $Gp(a){return this.rK(a)==-1};var z9a="L4";F.Fj=D(z9a);F.ps=D("ZHa");F.Ke=function $Jp(a){switch(a){case vA:return this.ps()?this.Kg:0;case Wx:return this.ps()?this.Hf:0;default:e(Error(".73"))}};F.Yh=function $Kp(){return this.Ke(vA)};
F.Fl=function $Lp(){return this.Ke(Wx)};F.L=function $Mp(){IA.C.L[z](this);var a=this.ea(),c=BA;delete c.x[a];delete c.y[a]};var A9a="nH";F.Vh=function $Np(){IA.C.Vh[z](this);K(this.wa,A9a)};F.RQ=Ge("Yj");F.ARb=D("Yj");F.jCa=function $Qp(a){this.AI(a,undefined,undefined,undefined)};F.Hx=function $Rp(a){this.AI(undefined,a,undefined,undefined)};F.idc=function $Sp(a,c){switch(a){case vA:this.AI(c,undefined,undefined,undefined);break;case Wx:this.AI(undefined,c,undefined,undefined);break;default:e(Error(".77"))}};
F.fdc=function $Tp(a){this.AI(undefined,undefined,a,undefined)};F.SQ=function $Up(a){this.AI(undefined,undefined,undefined,a)};F.Gid=function $Vp(a,c){switch(a){case vA:this.AI(undefined,undefined,c,undefined);break;case Wx:this.AI(undefined,undefined,undefined,c);break;default:e(Error(".78"))}};
F.AI=function $Wp(a,c,d,f){var g=this.v8,j=this.GC,n=this.o8,s=this.TU;a=Ke(a)?a:g;c=Ke(c)?c:j;d=Ke(d)?d:n;f=Ke(f)?f:s;if(!(a==g&&c==j&&d==n&&f==s)){var v=h;if(a<0)v=k;if(c<0)v=k;if(a>d)v=k;if(c>f)v=k;if(!v)e(Error(".79"));this.v8=a;this.GC=c;this.o8=d;this.TU=f;if(a==g&&d==n)this.Ui(Wx);else c==j&&f==s?this.Ui(vA):this.Ui()}};F.Qr=function $Xp(a){this.S1(a,undefined)};F.sf=function $Yp(a){this.S1(undefined,a)};
F.zid=function $Zp(a,c){switch(a){case vA:this.S1(c,undefined);break;case Wx:this.S1(undefined,c);break;default:e(Error(".80"))}};F.S1=function $_p(a,c){var d=this.tCb,f=this.Hgb;a=Ke(a)?a:d;c=Ke(c)?c:f;if(!(a==d&&c==f)){var g=h;if(a<0&&a!=-1)g=k;if(c<0&&c!=-1)g=k;if(!g)e(Error(".81"));this.tCb=a;this.Hgb=c;if(a==d)this.Ui(Wx);else c==f?this.Ui(vA):this.Ui()}};
F.sizeToContent=function $0p(a){switch(a){case vA:this.S1(-1,undefined);this.AI(0,undefined,Infinity,undefined);break;case Wx:this.S1(undefined,-1);this.AI(undefined,0,undefined,Infinity);break;default:e(Error(".82"))}};F.Ql=function $1p(a){this.zdc(vA,a)};F.Kx=function $2p(a){this.zdc(Wx,a)};F.zdc=function $3p(a,c){yA++;this.idc(a,0);this.Gid(a,c);this.idc(a,c);this.zid(a,0);zA()};F.qc=function $4p(a){if(a!=this.L4){this.L4=a;hBa(this)}};
F.Ui=function $5p(a){if(!IA.C.Ui[z](this,a))return k;if(!a||a==vA){this.X4a=this.Y4a=i;this.Yjb=k}if(!a||a==Wx){this.Z4a=this.a5a=i;this.Zjb=k}var c=this.ac();c&&this.Fj()&&c.Ui(a);return h};F.oF=E(0);F.Q3=E(k);F.VV=function $8p(a){MA(this,a,-1)};F.Yb=function $9p(){this.NXa(k)};F.NXa=function $$p(a){if(this.ZHa!=a){this.ZHa=a;Ua(KA(this),a?I:xd);return h}return k};
F.ip=function $aq(a,c,d){this.i4a(a);this.b();var f=this.Fj();d=!!d;lBa(this,a);if(f)if(!(!this.xv()&&c==this.Ke(a)&&d==mBa(this,a))){if(this.rK(a)!=-1&&c==-1)e(Error(".88"));f=0;if(c!=-1)switch(a){case vA:f=this.Epa+this.U4a;break;case Wx:f=this.Fpa+this.V4a;break}this.di(a,c-f,d)}TAa(this,a);this.yGa(a)};F.i4a=B();F.yGa=B();F.di=function $dq(a,c,d){this.b();gBa(this,a,c);c=c==-1||d?-1:c;MA(this,a,c)};var BA={};BA.x={};BA.y={};var AA=[],PA=[],tBa=[],QA=[],uBa=[],RA=[];H(SA,IA);SA[w].qe=function $eq(a){if(a)this.Twa(a)&&this.Ui(a);else{a=this.Twa(vA);var c=this.Twa(Wx);if(a&&c)this.Ui();else if(a)this.Ui(vA);else c&&this.Ui(Wx)}};SA[w].ma=function $fq(){SA.C.ma[z](this);if(this.Yj){this.sIa=G(this.XNa,this);this.Yj.Bbb[p](this.sIa)}};SA[w].Ba=function $gq(){SA.C.Ba[z](this);if(this.Yj){jf(this.Yj.Bbb,this.sIa);this.sIa=i}};SA[w].XNa=function $hq(){this.qe()};H(TA,SA);F=TA[w];F.n4=function $iq(a){a=a.Wu;if(!a)return 0;var c=a.b();a=c[x];var d=a[yaa],f=a[ib];Ja(a,sd);ka(a,I);c=c[xk];Ja(a,d);a.mDd=f;return c};F.Vh=function $jq(){TA.C.Vh[z](this);var a=this.Wu;rA(a);var c=a.b();this.VFa=c;this.Kca=c[x];this.W()[o](this.wa,c);this.Xk(a)};F.L=function $kq(){!this.wa&&this.Wu&&this.Wu.D();this.Kca=this.VFa=this.Wu=this.n4=i;TA.C.L[z](this)};ek(F,function $lq(){if(this.Wu){tA(this,0);this.WHa=this.XHa=this.Kca=this.VFa=this.Wu=i;this.qe();return h}return k});
F.Q3=function $mq(a){return a==Wx};F.VV=function $nq(a){MA(this,a,-1);xBa(this,a)};F.oF=function $oq(a){var c=this.b();if(!c)return 0;if(a==vA)return this.n4(this);else{xBa(this,a);return c[Wc]}};F.di=function $pq(a,c,d){if(a==vA){c==-1&&!d?TA.C.di[z](this,a,LA(this,a),k):TA.C.di[z](this,a,c,d);this.qe(Wx)}else TA.C.di[z](this,a,-1,d);if(this.VFa)if(a==vA){if(this.XHa!=-1){this.XHa=-1;ka(this.Kca,NA(-1))}}else{a=c==-1?-1:c;if(this.WHa!=a){this.WHa=a;Wa(this.Kca,NA(a))}}};H(WA,pA);WA[w].Jc=function $qq(a){var c=this.b();DBa(this,a);Q(c,BBa())};var aB=new EBa,B9a=[P,Zi];EBa[w].w=function $rq(a,c,d,f,g){function j(n){if(n[Zb]==P&&nm(n,0)||n[Zb]==Zi&&(n[Sb]==13||n[Sb]==3))c[z](f,n)}j.Mk=c;j.Ela=f;g?g.w(a,B9a,j):ih(a,B9a,j)};EBa[w].hb=function $sq(a,c,d,f,g){for(var j=0;d=B9a[j];j++)for(var n=Ica(a,d,k)||[],s,v=0;s=n[v];v++)if(s.GA.Mk==c&&s.GA.Ela==f){g?g.hb(a,d,s.GA):nh(a,d,s.GA);break}};H(ZA,WA);F=ZA[w];F.Ym=function $tq(a){if(this.Djd==0)Ua(this.b()[x],a?I:xd);else Fa(this.b()[x],a?I:yd);var c=YA(this,h);c&&c.qe();this.yg=a};var C9a="param";F.lh=function $uq(a){a=a[y];for(var c=this.b();a&&a!=c;){var d=a.id;if(Mf(d,bB)){c=d[nc](5);this.gr&&this.gr.qk&&this.gr.qk(c,a[Uc](C9a));this.gr&&this.gr.MVb&&this.IK();break}a=a[A]}};var nO="cb",D9a="b9";
F.Ad=function $vq(a,c){c=c||a.Wd();var d=XA(this);Q(d,c);switch(a.Ga()){case 0:DBa(this,FBa);break;case 1:DBa(this,he);break;case 2:DBa(this,Yd);break}GBa(this,d,Bo,nO);GBa(this,d,PJ,UF);GBa(this,d,Kd,D9a);this.gr=a;this.Ym(h)};F.IK=function $wq(){this.Ym(k);Q(XA(this),I);this.gr=undefined};F.ZK=D("yg");_B_prog(51)}catch(e){_B_err(e)}

try{H(jB,uh);F=jB[w];var E9a="f1";F.ts=D(E9a);F.d9a=function $zq(){this[r](ki)};F.zn=function $Aq(){return this.f1==4};F.Ig=function $Bq(a){this.mh=a;this.dk(a)};F.Nf=D("Sm");F.Se=Ge("Sm");F.kua=D("Iaa");F.D=function $Fq(){jB.C.D[z](this);this.mh=i};H(OBa,Jf);var oO="oT";nB[w].hm=D(oO);Ha(nB[w],function $Hq(){return String(this.oT)});H(oB,jB);var YIa={Rxd:IB,Qxd:Cz,Pxd:Bz};F=oB[w];F.s9b=0;F.qa=RBa;F.B=D(JF);var F9a="Lc";F.P5=D(F9a);F.xc=D(Yj);var G9a="QUEUED";ua(F,function $Lq(){if(this.qa!=RBa)e(Error(".93"));this.s9b=Zf();this.qa=G9a;this.nKa[Mb](this)});La(F,function $Mq(){this.nKa[wc](this)});F.Vj=function $Nq(){return!!this.MDc};F.zga=D("jDc");F.Ie=Ge("Wm");F.Ja=function $Qq(a){a.oM(this);a.EOc(this.s9b)};F.Eg=E(h);F.lB=Ge("Sma");F.d9a=function $Tq(){oB.C.d9a[z](this);this.Sma&&this.Sma[r](ki)};
F.Z6=function $Uq(a){if(!this.zn())if(a==this.Lc){a.oha()&&UBa(this,a.zga());aCa(this)}};F.rza=B();F.vL=B();var qB={},pO="rd";qB[1]=pO;qB[2]=kO;qB[3]=wz;qB[4]="xst";qB[5]=wz;qB[6]="xst";var qO="sp";qB[9]=qO;qB[120]="unsub";qB[10]=Zn;var H9a="dm";qB[11]=H9a;var rO="dr";qB[15]=rO;var sO="dd";qB[16]=sO;var tO="dl";qB[17]=tO;qB[45]=tO;qB[46]=tO;qB[18]=cAa;var I9a="uq";qB[98]=I9a;qB[30]=ex;qB[31]=MN;qB[12]="ac_";qB[13]="rc_";var uO="ib";qB[8]=uO;var vO="ig";qB[21]=vO;qB[22]=EE;var wO="sd";qB[23]=wO;qB[27]=ul;var xO="ii";qB[35]=xO;qB[36]=qya;qB[37]="ivd";qB[29]="astc";qB[38]="urt";qB[39]="rap";qB[40]="mcf_";
qB[41]="dcf_";qB[42]="cce";qB[43]="cma_";qB[44]="dma_";var yO="dt";qB[47]=yO;qB[48]="rtr";qB[49]="aser";qB[50]="her";var J9a="ere";qB[51]=J9a;qB[52]="cc_";qB[53]="dc_";qB[54]="nc_";var zO="df";qB[56]=zO;qB[57]=SE;qB[58]="crte";var K9a="ae_";qB[62]=K9a;var L9a="de_";qB[63]=L9a;qB[61]="co_";qB[64]="cffm";qB[65]="ch_";qB[66]=PL;var AO="fl";qB[67]=AO;qB[69]="tua";qB[95]="tae";qB[117]="tha";var M9a="sh";qB[70]=M9a;var N9a="uu";qB[85]=N9a;qB[121]=XL;var BO="rr";qB[135]=BO;var CO="mu";qB[167]=CO;
var O9a="umu";qB[168]=O9a;qB[163]="spa";var DO="su";qB[133]=DO;var P9a="du";qB[71]=P9a;var EO="pc";qB[72]=EO;var FO="uc";qB[107]=FO;qB[96]=NN;var GO="hu";qB[115]=GO;var HO="ru";qB[106]=HO;qB[124]="upq";qB[76]=uE;qB[77]="arl";qB[82]="gaa";qB[83]="gar";qB[84]="gas";var IO="crs";qB[86]=IO;var Q9a="crd";qB[87]=Q9a;qB[89]="ihl_";var R9a="miv";qB[90]=R9a;var S9a="mis";qB[91]=S9a;qB[92]=ie;var T9a="mib";qB[93]=T9a;qB[97]=kO;var JO="mtd";qB[101]=JO;qB[102]=OL;qB[103]="mddel_";qB[104]="mdsig_";var U9a="lpd";
qB[105]=U9a;qB[108]="lnd";var V9a="sfl";qB[109]=V9a;qB[110]=lE;qB[111]=KD;qB[112]="sstl";qB[113]="mai";qB[114]="mani";var KO="fa";qB[116]=KO;qB[118]="bpoo";qB[119]="bpoi";qB[123]="par";qB[125]="mfas";qB[126]="muc";qB[128]="afw";qB[129]="vfw";qB[130]="rfw";qB[131]="sfw";qB[132]="cts";qB[162]=TE;var LO="tot";qB[165]=LO;qB[173]="fsu";H(pB,oB);pB[w].YQ=h;var cCa=/style=color:#\w+\ /;F=pB[w];F.pQb=D(WE);F.ws=D("aX");F.f5a=function $Zq(){return!!this.g5a};var W9a="o5";F.Ne=Ge(W9a);var MO="GMAIL_AT";F.Ja=function $0q(a){pB.C.Ja[z](this,a);a.Ua(ZB,mi(MO,I));a.Ua(pd,QN);a.Ua(fG,this.UR);a.Se(this.Zg());a.wl(!!this.uj);this.o5&&a.Ne(this.o5)};F.Zg=E("Server action");F.Eg=E(k);F.Wd=E(i);F.QE=E(-1);F.vH=E(I);F.rk=function $6q(a,c,d){if(c==Kd){this.NVa=h;this.eg=d[1];this.Kv=d[2];this.gq=d[3];this.gFb&&this.gFb(this)}};
F.tf=function $7q(){this.HPa=h};H(tB,pB);F=tB[w];var NO="Ea";F.Bb=D(NO);F.Ii=Ge(NO);F.peb=function $$q(){return this.hia?Infinity:this.BV[u]};F.Mg=function $ar(){for(var a=[],c=0;c<this.BV[u];c++)a[p]([this.BV[c],this.RDa[c]]);return a};F.Lp=function $br(){return!!this.hia};F.Cr=function $cr(){return this.BV[u]==1};F.Eg=E(k);F.Wd=function $er(){return this.Eg()?this.Kv:this.yp()};F.yp=E(I);var X9a="msq";F.Ja=function $gr(a){tB.C.Ja[z](this,a);if(this.hia){a.Be(KF,1);a.Be(X9a,this.FVc)}else a.Be(IB,this.RDa);a.Ii(this.Ea)};H(vB,tB);var Y9a="All conversations have been starred.",Z9a="The conversation has been starred.",aab=" conversations have been starred.";vB[w].yp=function $hr(){var a,c=this.peb();(a=this.aa.gcb(c))||(a=c==Infinity?Y9a:c==1?Z9a:c+aab);return sB(this,a,5904)};vB[w].Ja=function $ir(a){vB.C.Ja[z](this,a);this.aa.Ja(a)};yx(eCa,vB);eCa[w].Ja=B();eCa[w].gcb=B();eCa[w].gcb.ic=h;jCa[w].B=D(JF);var bab="Grrr! A popup blocker may be preventing ",cab=" from opening the page. If you have a popup blocker, try disabling it to open the window.";jCa[w].Q0=function $mr(a,c,d){if(this.aa.Tka(a))return i;var f=bab+(Ii+cab),g=dC(this.V);g=eC(g);var j=g.top[oc];a=iCa(a,c,g.js&&g.js._GM_main||!j||j[Rq]?g.top:j);if((!a||a[Rq]||!a[Ek])&&d)g[Wp](f);return a};jCa[w].Yo=function $nr(a,c,d){c=c||{};c.noreferrer=h;if(a=kCa(this,a,c,d))a.opener=i;return a};yx(mCa,jCa);mCa[w].Tka=B();
mCa[w].Tka.ic=h;H(nCa,tB);nCa[w].Eg=E(h);nCa[w].vL=function $qr(){if(this.eg){var a=this.gq;if(this.p2b)try{this.p2b[yc][Ic][mb](a[0]);return}catch(c){}var d=xB(this.B());yB(d,a[0],{width:800,height:600})}};var pCa,OO;pCa={};OO=i;oCa[w].Nga=D(LL);oCa[w].lC=function $sr(a){var c;c=this.Jb;OO||(OO={});var d=OO[c];if(Ke(d))c=d;else c=OO[c]=c;if(!c)return a;return c+xj+a};var dab=new oCa("lib");var EB=new oCa(Xz);BB[w].Xs=function $tr(){return this[t]()};BB[w].lC=function $ur(){if(!this.vkc)this.vkc=this.S1b.lC(this.Xd);return this.vkc};Ha(BB[w],function $vr(){if(!this.Ghc)this.Ghc=this.S1b.Nga()+xj+this.Xd;return this.Ghc});H(CB,BB);var wE=DB(DE),YK=DB(OD),PO="co",QO=DB(PO),RO="ct",SO=DB(RO),eab=DB(ki),TO="pu",dJ=DB(TO),UO=DB(je),fab=DB(IB),VO="chs",gab=DB(VO);H(rCa,N);H(sCa,jB);var WO="Ic";sCa[w].Tga=D(WO);H(HB,uh);fp(HB[w],function $xr(a){this[r](new rCa(a));if(this.na)return this.na[bq](a);else{a=new sCa;GB(a,3);return a}});HB[w].SH=function $yr(a){return this.na?this.na.SH(a):k};HB[w].gH=function $zr(a){if(this.na)return this.na.gH(a);else e(Error(".98"))};HB[w].zc=function $Ar(){if(this.na)return this.na.zc();else e(Error(".99"))};H(tCa,tB);tCa[w].Ja=function $Br(a){tCa.C.Ja[z](this,a);a.Be(IB,this.BV);a.Ii(this.Ea)};tCa[w].vL=function $Cr(){if(this.eg){var a=this.gq,c=a[0],d=a[2],f=a[3],g={};g.cf1_from=a[1];g.cf1_to=c;g.cf1_subj=f;g.cf1_has=d;g.cfl_origin=this.jb.gH();QF(this.zf,XO);this.jb[bq]({view:wE,search:new Qy(g)})}};H(uCa,tB);var hab="All conversations have been muted.",iab="The conversation has been muted.",jab=" conversations have been muted.";uCa[w].yp=function $Dr(){var a;a=this.Lp()?hab:this.Cr()?iab:this.Mg()[u]+jab;return sB(this,a,i,h)};H(KB,tB);KB[w].Ujc=k;var kab="vrd";KB[w].Ja=function $Er(a){KB.C.Ja[z](this,a);this.Ujc&&a.Ua(kab,Hj)};var lab="All conversations have been marked as read.",mab="The conversation has been marked as read.",nab=" conversations have been marked as read.";KB[w].yp=function $Fr(){var a;a=this.Lp()?lab:this.Cr()?mab:this.Mg()[u]+nab;return sB(this,a,i,h)};H(vCa,tB);var oab="All conversations have been marked as unread.",pab="The conversation has been marked as unread.",qab=" conversations have been marked as unread.";vCa[w].yp=function $Gr(){var a;a=this.Lp()?oab:this.Cr()?pab:this.Mg()[u]+qab;return sB(this,a,i,h)};_B_prog(52)}catch(e){_B_err(e)}

try{H(wCa,tB);var rab="All conversations have been moved to the Inbox.",sab="The conversation has been moved to the Inbox.",tab=" conversations have been moved to the Inbox.";wCa[w].yp=function $Hr(){var a;a=this.Lp()?rab:this.Cr()?sab:this.Mg()[u]+tab;return sB(this,a,18522,h)};H(xCa,tB);var uab="All conversations have been unmarked as spam and moved to the Inbox.",vab="The conversation has been unmarked as spam and moved to the Inbox.",wab=" conversations have been unmarked as spam and moved to the Inbox.";xCa[w].yp=function $Ir(){var a;a=this.Lp()?uab:this.Cr()?vab:this.Mg()[u]+wab;return sB(this,a,6602,h)};H(LB,tB);LB[w].Ja=function $Jr(a){LB.C.Ja[z](this,a);a.Ua(fG,this.UR+this.iR)};H(MB,LB);var xab="All conversations have been archived.",yab="The conversation has been archived.",zab=" conversations have been archived.",YO='The label "',Aab='" has been removed from all conversations.',Bab='" has been removed from the conversation.',Cab='" has been removed from ',Dab=" conversations.";
MB[w].yp=function $Kr(){var a,c;if(this.Dd()==TI){c=6576;a=this.Lp()?xab:this.Cr()?yab:this.Mg()[u]+zab}else if(this.Lp())a=YO+(Wf(this.Dd())+Aab);else if(this.Cr()){c=6560;a=YO+(Wf(this.Dd())+Bab)}else a=YO+(Wf(this.Dd())+(Cab+(this.Mg()[u]+Dab)));return sB(this,a,c,h)};var Eab="iR";MB[w].Dd=D(Eab);H(yCa,tB);var Fab="All conversations have been unstarred.",Gab="The conversation has been unstarred.",Hab=" conversations have been unstarred.";yCa[w].yp=function $Mr(){var a;a=this.Lp()?Fab:this.Cr()?Gab:this.Mg()[u]+Hab;return sB(this,a,5904)};H(zCa,tB);var Iab="The conversation has been marked as spam. We'll attempt to unsubscribe you from these emails.",Jab=" conversations have been marked as spam. We'll attempt to unsubscribe you from these emails.",Kab="The conversation has been marked as spam.",Lab=" conversations have been marked as spam.";zCa[w].yp=function $Nr(){var a,c;if(this.iNb){c=80405;a=this.Cr()?Iab:this.Mg()[u]+Jab}else{c=6602;a=this.Cr()?Kab:this.Mg()[u]+Lab}return sB(this,a,c,h)};var Mab="dun";
zCa[w].Ja=function $Or(a){zCa.C.Ja[z](this,a);this.iNb&&a.Ua(Mab,Hj)};H(ACa,tB);var Nab="All conversations have been moved to the Trash..",Oab="The conversation has been moved to the Trash.",Pab=" conversations have been moved to the Trash.";ACa[w].yp=function $Pr(){var a;a=this.Lp()?Nab:this.Cr()?Oab:this.Mg()[u]+Pab;return sB(this,a,7401,h)};H(NB,xx);F=NB[w];F.eca=B();F.eca.Ka=h;F.dca=B();F.dca.Ka=h;F.D=B();F.D.Ka=h;H(BCa,BB);var Qab=OB(ii),Rab=OB(IB),ZO=OB(dx),Sab=OB("cpt"),Tab=OB(RE),Uab=OB("rpt"),Vab=OB(Kd),Wab=OB("apt"),Xab=OB(kD),Yab=OB("fpt"),Zab=OB(vz),abb=OB("ftpt"),bbb=OB(Zn),cbb=OB(eJ),dbb=OB(Nj),ebb=OB(FE),fbb=OB("astc"),gbb=OB(oA),hbb=OB(cD),ibb=OB(Cz),jbb=OB(vA),kbb=OB("mar"),lbb=OB("mau"),mbb=OB(ZB),nbb=OB("tml"),obb=OB("tsl"),pbb=OB(vl),qbb=OB(VE),rbb=OB(Xx),sbb=OB(YB),tbb=OB("mti"),ubb=OB(NL),vbb=OB(Wx),wbb=OB(aJ),xbb=OB("arl"),ybb=OB(FHa),aP="ns",zbb=OB(aP),Abb=OB(ex),Bbb=OB(UE),Cbb=OB(Lj),bP="tm",Dbb=
OB(bP),Ebb=OB(zO),Fbb=OB("anl"),Gbb=OB(qD),Hbb=OB(EO),cP="re",Ibb=OB(cP),Jbb=OB("dad"),Kbb=OB(MN),dP="pp",Lbb=OB(dP),RTa=OB(MF),W0a=OB(dg),eP="se",XO=OB(eP),Mbb=OB(wO),Nbb=OB(NE),fP="un",Obb=OB(fP),gP="et",Pbb=OB(gP),Qbb=OB("das"),Rbb=OB("dtm"),Sbb=OB(ke),hP="rl",Tbb=OB(hP),Ubb=OB("rcl"),Vbb=OB(tO),Wbb=OB(AO),Xbb=OB(KO),Ybb=OB("ihl"),Zbb=OB(ul),iP="ef",acb=OB(iP),bcb=OB("dfi"),ccb=OB(PO),dcb=OB(PL),ecb=OB(SE),fcb=OB(RO),jP=OB(ki),gcb=OB(oF),hcb=OB("mxg");OB("mng");
var icb=OB(YHa),jcb="uh",kcb=OB(jcb),lcb=OB(M9a),mcb=OB("trm");OB(IO);OB(Q9a);var kP="ws",ncb=OB(kP),ocb=OB(R9a),pcb=OB(S9a),qcb=OB(ie),rcb=OB(T9a),scb=OB(JO),tcb=OB(TO),ucb=OB("puc"),vcb=OB(dO),wcb=OB(XL),xcb=OB(P9a),ycb=OB("duc"),zcb=OB("muc");OB(GO);var Acb=OB("hus"),lP="ec",Bcb=OB(lP),mP="ou",Ccb=OB(mP),Dcb=OB("lmu"),Ecb=OB(DO),Fcb=OB("ump"),Gcb=OB(vy),nP="ea",Hcb=OB(nP),oP="ex",Icb=OB(oP),Jcb=OB("sadi"),Kcb=OB("sstl"),Lcb=OB("mai"),Mcb=OB("mani"),Ncb=OB("unsub"),Ocb=OB(I9a),Pcb=OB("mufh");OB(HO);
var Qcb=OB(BO),Rcb=OB(CO),Scb=OB(TE),Tcb=OB(SL),Ucb=OB("spa"),Vcb=OB("iosg"),Wcb=OB(LO);H(PB,Jf);yx(NB,PB);var RB=[],CCa={},DCa={};PB[w].eca=function $Tr(a,c,d){var f=d.i_a,g={};if(d.Lp){g[1]=h;g[2]=h;g[3]=h;g[4]=h;g[7]=h;g[8]=h;g[10]=h}else for(var j=0;j<f[u];j++){var n=f[j];g[n.Jl?1:2]=h;g[n.Uf()?4:3]=h;g[n.Zh(TI)?7:8]=h;g[n.Oy()?18:9]=h;g[64]=h;g[10]||(g[10]=!n.Zh(BL));g[21]||n.Zh(GN)||(g[21]=h)}this.aa.eca(g,d);ICa(this,a,c,g)};
PB[w].dca=function $Ur(a,c,d){var f=d.Ti,g=d.zPc,j={};j[1]=k;j[2]=h;j[10]=h;j[42]=this.Z[hq](Nz);var n=f[bd](TI);j[7]=n;j[8]=!n;n=f[bd](AL);j[18]=n;j[9]=!n;n=f[bd](oI);j[4]=n&&!g;j[3]=!n&&!g;j[64]=c!=ul&&c!=fz;j[21]=!f[bd](GN);this.aa.dca(j,d);ICa(this,a,c,j)};PB[w].nk=function $Vr(a,c,d,f){var g=new KCa;a=QB(a);QF(c,a.eqd);if(exa(a.a2))g.a2=a.a2;else if(Ze(a.a2))g.a2=a.a2[z](a,f);if(a.N_a){g.N_a=h;g.PX=a.PX;return g}g.BWa=a.BWa;Op(g,a.PYb?new a.PX(this.V,a.PYb,d):new a.PX(this.V,d));return g};
PB[w].D=function $Wr(){PB.C.D[z](this);this.aa.D()};var Xcb="Add star",pP="f_inbox",Ycb="Move to inbox",Zcb="Create event",adb="Filter messages like these",bdb="Mute";
(function(){SB(1,wM,kbb,KB,h);SB(2,x5a,lbb,vCa,h);HCa(3,Xcb,pbb,vB,k,[Oy,cz,az,ez,Py,fz,Nd,ul,iz,kz,ZK,pP,aL,ce,Jy,pz,Yy]);HCa(4,uWa,qbb,yCa,function(b){return b==sz},[Oy,cz,az,ez,Py,fz,Nd,ul,iz,kz,ZK,pP,aL,ce,Jy,pz,Yy]);FCa(7,y5a,sbb,MB,function(b){return b==kz||b==ZK||b==aL||b==ce},TI,[Oy,cz,az,Py,fz,Nd,ul,Jy,sz]);SB(8,Ycb,tbb,wCa,function(b){return b==Zy},[Oy,az,Py,Nd,ul,iz,Jy,pz,sz]);GCa(9,vWa,ybb,zCa,h,[Oy,az,Nd,ul,Jy,Zy]);SB(18,tWa,zbb,xCa,h,[Oy,az,ul,Jy]);SB(10,EJ,Cbb,ACa,h,[fz,Nd,ul,pz,sz]);
SB(42,Zcb,Gbb,nCa,k);SB(64,adb,Zbb,tCa,k,[Oy,cz,az,ez,Py,Nd,iz,kz,ZK,pP,aL,ce,Jy,pz,Yy,sz,Zy]);SB(21,bdb,rbb,uCa,h,[Oy,az,ez,Nd,ul,kz,ZK,pP,aL,ce,Jy,pz,sz])})();H(UB,pA);UB[w].B=D(JF);H(VB,UB);VB[w].Ar=function $Yr(a){return!!this.ge.J(a)};VB[w].Fs=E(h);VB[w].rO=function $_r(){return this.ge.Sb()};Qp(VB[w],function $0r(){this.Cl=k});H(XB,N);H(LCa,uh);LCa[w].Zta=D("iAa");var cdb="dg";VCa[w].Ec=D(cdb);VCa[w].alert=function $3r(a){this.dg.Ec()[Wp](a)};VCa[w].confirm=function $4r(a){return this.dg.Ec()[Zp](a)};Ap(VCa[w],function $5r(a,c){return this.dg.Ec()[Nq](a,c)});F=fC[w];F.ni=0;F.r2=0;F.MG=function $6r(a){this.ee[this.r2++]=a};F.ly=function $7r(){if(this.ni!=this.r2){var a=this.ee[this.ni];delete this.ee[this.ni];this.ni++;return a}};F.hQ=function $8r(){if(this.ni!=this.r2)return this.ee[this.ni]};F.Nb=function $9r(){return this.r2-this.ni};F.nd=function $$r(){return this.r2-this.ni==0};Aa(F,function $as(){Ia(this.ee,0);this.r2=this.ni=0});Sa(F,function $bs(a){return ef(this.ee,a)});
wa(F,function $cs(a){a=ff(this.ee,a);if(a<0)return k;if(a==this.ni)this.ly();else{kf(this.ee,a);this.r2--}return h});F.Oa=function $ds(){return this.ee[lb](this.ni,this.r2)};H(gC,uh);gC[w].fZb=I;gC[w].R0b=0;var YCa=[P,ej,fj,gj,hj],XCa=[ij,jj];gC[w].L=function $es(){gC.C.L[z](this);this.Q.D();this.Q=i;delete this.eE};gC[w].XO=function $fs(a){var c=k;switch(a[Zb]){case hj:if(typeof this.wZb==Qe&&this.wZb!=a[kc]||typeof this.xZb==Qe&&this.xZb!=a[lc])c=h;this.wZb=a[kc];this.xZb=a[lc];break;default:c=h}c&&aDa(this,Zf(),a[Zb])};gC[w].TZ=function $gs(a){return(a||Zf())-this.xkb};_B_prog(53)}catch(e){_B_err(e)}

try{H(hC,uh);hC[w].mgb=k;hC[w].Oya=i;hC[w].rP=k;var iC=i,dDa=new cg;hC[w].UXc=function $hs(){this.Oya=i;cDa(this)};hC[w].t3b=function $is(){this.rP=k;eDa(this);this[r](yi);cDa(this)};hC[w].L=function $js(){eDa(this);if(this.Oya!=i){Je[gb](this.Oya);this.Oya=i}dDa[Pb](this);if(iC!=i&&dDa.nd()){iC.D();iC=i}hC.C.L[z](this)};var qP="rP";hC[w].My=D(qP);H(jC,Jf);jC[w].ab=i;jC[w].D=function $ls(){jC.C.D[z](this);if(this.ab){cA(this.ab);this.ab=i}this.UGa[bc]();for(var a=this.i1.Oa(),c=0;c<a[u];c++)a[c].D();this.i1[bc]();if(this.Hh){this.Hh.D();this.Hh=i}};var ddb=";2";jC[w].wYc=function $ms(){for(this.ab=i;!this.UGa.nd();)try{var a=this.UGa.ly();a[0][z](a[1])}catch(c){rg(tg,ddb,c)}};H(nC,Jf);var jDa=1;nC[w].D=function $ns(){nC.C.D[z](this);this.Cu&&iDa(this.Cu,this)};nC[w].ix=function $os(){this.ab=i;lDa(this,Zf())};jC[w].qia=D("uWb");
jC[w].kvb=function $qs(){for(var a=Zf(),c=this.i1.Oa(),d=0;d<c[u];d++)lDa(c[d],a)};jC[w].R8=function $rs(){for(var a=this.i1.Oa(),c=0;c<a[u];c++){var d=a[c];if(d.C5&2&&d.xKa){mC(this,this.kvb,this);break}}};jC[w].S8=function $ss(){for(var a=this.i1.Oa(),c=0;c<a[u];c++){var d=a[c];if(d.C5&4&&d.xKa){mC(this,this.kvb,this);break}}};H(oC,uh);F=oC[w];F.OU=i;F.dg=i;F.We=i;F.R0a=i;F.vjb=function $ts(){return Jg&&Ri||Ng&&this.dg[yma]!=this.dg.top};F.Ke=function $us(){return this.We?this.We.vc():i};F.L=function $vs(){oC.C.L[z](this);if(this.OU){oh(this.OU);this.OU=i}if(this.R0a){ba[Oma](this.R0a);this.R0a=i}this.We=this.dg=i};F.a7=function $ws(){this.lJb()};F.lJb=function $xs(){var a=Mg(this.dg);if(!Yha(a,this.We)){this.We=a;this[r](sj)}};H(pC,Jf);pC[w].Fp=D("wrb");pC[w].W=D(aM);pC[w].UO=function $As(){return this.eoa.Ke()};pC[w].L=function $Bs(){this.Y=this.wrb=i;if(this.eoa){this.eoa.D();this.eoa=i}};H(qDa,uh);F=qDa[w];F.HF=0;F.L=function $Cs(){qDa.C.L[z](this);this.KQ=this.Nr=i;this.Q.D();this.Q=i};var edb="-50px";F.lf=function $Ds(){this[r](rC);try{var a=this.Jsa.cb()[Lc];if(L)a[Ek]();else if(Jg||Fh&&vg(vYa)||Ng){if(!this.sKa){var c=this.Jsa[Qb](zm),d=c[x];Ja(d,sd);Wa(d,ka(d,hG));ck(d,edb);a[o](c);this.sKa=c}this.sKa[x].top=uDa(this)+Jm;this.sKa[Ek]();this.sKa[yk]();Ng&&a[Mc][dc][Ek]()}else Ze(a[yk])&&a[yk]()}catch(f){}};
qp(F,function $Es(a,c,d,f){var g=this.HF,j=this.Nr[ql],n=g+j,s=Sw(a);a=s+a[ql];f=f||0;if(d||s<g||a>n){d=0;d+=c==0?a-j+5:c==1?(s+a-j)/2:s-5;c=l.max(0,d-f)}else c=-1;j=this.Nr;if(c>=0)if(!(Fh&&!vg(vDa)&&j[vc]==0&&j[Wc]==0)){up(j,c);this.HF=c}});F.Xfd=function $Fs(a){if(a[y]==this.KQ||L&&!a[y])this.HF=this.Nr[Nk]};F.mgd=function $Gs(a){var c=a[y];if(a[Sb]==32&&(!c||this.vrd[bd](c[ed]))){c=this.Nr;var d=this.HF,f=c[ql]*0.9;if(a[dd]){if(a[dd]&&d>0)up(c,d-f)}else if(d+f<c[Rb])up(c,d+f)}};H(wC,uh);var fdb=L||Fh&&vg("1.9.3");F=wC[w];faa(F,0);gaa(F,0);F.Tfc=0;F.Ufc=0;F.Hea=0;F.Iea=0;F.Lf=h;F.mZ=k;F.bhb=0;F.vVc=0;F.dWb=k;F.H=D(aE);F.oCa=Ge("KQ");F.Ac=Ge(so);F.L=function $Ks(){wC.C.L[z](this);nh(this[Fma],fj,this.sM,k,this);this.Q.D();delete this[y];delete this[Fma];delete this.Q};
F.sM=function $Ls(a){if(this.Lf&&!this.mZ&&(a[Zb]!=fj||nm(a,0))){if(this.bhb==0){ADa(this,a);if(this.mZ)a[zb]();else return}else a[zb]();this.Exb();faa(this,this.Tfc=a[Ib]);gaa(this,this.Ufc=a[Jb]);this.Hea=this[y][Vk];this.Iea=this[y][ol];this.Oza=gm(Cg(this.ki));this.vVc=Zf()}};
F.Exb=function $Ms(){var a=this.ki,c=a[mc],d=!fdb;this.Q.w(a,hj,this.F1b,d);this.Q.w(a,gj,this.ww,d);if(fdb){c.setCapture(k);this.Q.w(c,Yea,this.ww)}else this.Q.w(pm(a),kj,this.ww);L&&this.dWb&&this.Q.w(a,qj,zDa);this.KQ&&this.Q.w(this.KQ,tj,this.y6c,d)};F.ww=function $Ns(a,c){this.Q.wb();fdb&&this.ki.releaseCapture();if(this.mZ){this.mZ=k;var d=DDa(this,this.Hea),f=EDa(this,this.Iea);this[r](new BDa(Jd,this,a[kc],a[lc],a,d,f,c))}};F.cOb=function $Os(a){this.ww(a,h)};var gdb="beforedrag";
F.F1b=function $Ps(a){if(this.Lf){var c=a[Ib]-this[Ib],d=a[Jb]-this[Jb];faa(this,a[Ib]);gaa(this,a[Jb]);if(!this.mZ){var f=this.Tfc-this[Ib],g=this.Ufc-this[Jb];if(f*f+g*g>this.bhb){ADa(this,a);if(!this.mZ){this.ww(a);return}}}d=CDa(this,c,d);c=d.x;d=d.y;if(this.mZ)if(this[r](new BDa(gdb,this,a[kc],a[lc],a,c,d))!==k){this.GKa(a,c,d,k);a[zb]()}}};F.y6c=function $Qs(a){var c=CDa(this,0,0);Da(a,this.Oza.x-this[Ib]);Ea(a,this.Oza.x-this[Jb]);this.GKa(a,c.x,c.y,h)};var rP="drag";
F.GKa=function $Rs(a,c,d){ck(this[y][x],c+Jm);this[y][x].top=d+Jm;this[r](new BDa(rP,this,a[kc],a[lc],a,c,d))};H(BDa,N);H(yC,nn);F=yC[w];F.LBb=k;F.Yxa=h;F.dfa=h;F.Z3a=0.3;F.ug=I;F.Bg=I;F.Yf=i;F.ih=i;F.yg=k;F.M4=k;F.Em=i;F.jq=i;F.iD=i;F.uR=i;F.iAb=i;F.y2=i;F.QD=i;F.bw=i;F.Fc=function $Ss(a){this.ug=a;this.uR&&ah(this.uR,a)};F.Le=D(RN);F.xb=function $Us(a){this.Bg=a;if(this.QD)Q(this.QD,a)};F.Ee=D(lo);F.Cd=function $Ws(){this.QD||this.eb();return this.QD};F.uH=function $Xs(){this.Cc()||this.eb();return this.iD};F.Ot=function $Ys(){this.Cc()||this.eb();return this.bw};F.TQb=D("dfa");
var hdb="-K7",idb="-K7-K0",jdb="-K7-Jq",kdb="-Jl",ldb="dialog",mdb="labelledby";
F.ba=function $_s(){JDa(this);var a=this.W();this.wa=a.ba(T,{className:this.Al,tabIndex:0},this.iD=a.ba(T,{className:this.Al+hdb,id:this.ea()},this.uR=a.ba(PJ,this.Al+idb,this.ug),this.y2=a.ba(PJ,this.Al+jdb)),this.QD=a.ba(T,this.Al+Nn),this.bw=a.ba(T,this.Al+kdb),this.Sgc=a.ba(PJ,{tabIndex:0}));this.iAb=this.iD.id;fn(this.b(),ldb);gn(this.b(),mdb,this.iAb||I);if(this.Bg)Q(this.QD,this.Bg);Wm(this.b(),k);this.Yf&&PDa(this.Yf,this.bw)};
F.eb=function $0s(a){if(this.Cc())e(Error(An));this.b()||this.ba();a=a||this.W().cb()[Lc];ODa(this,a);yC.C.eb[z](this,a)};F.ji=function $1s(a){return a&&a[ed]&&a[ed]==Cd&&yC.C.ji[z](this,a)};
F.Ff=function $2s(a){yC.C.Ff[z](this,a);K(this.b(),this.Al);a=this.Al+Nn;if(this.QD=Gg(i,a,this.b())[0])this.Bg=this.QD[wk];else{this.QD=this.W().ba(T,a);if(this.Bg)Q(this.QD,this.Bg);this.b()[o](this.QD)}a=this.Al+hdb;var c=this.Al+idb,d=this.Al+jdb;if(this.iD=Gg(i,a,this.b())[0]){this.uR=Gg(i,c,this.iD)[0];this.y2=Gg(i,d,this.iD)[0]}else{this.iD=this.W().ba(T,a);this.b()[Bb](this.iD,this.QD)}if(this.uR)this.ug=dh(this.uR);else{this.uR=this.W().ba(PJ,c,this.ug);this.iD[o](this.uR)}gn(this.b(),mdb,
this.iAb||I);if(!this.y2){this.y2=this.W().ba(PJ,d);this.iD[o](this.y2)}a=this.Al+kdb;if(this.bw=Gg(i,a,this.b())[0]){this.Yf=new DC(this.W());this.Yf.Pb(this.bw)}else{this.bw=this.W().ba(T,a);this.b()[o](this.bw);this.Yf&&PDa(this.Yf,this.bw)}JDa(this);ODa(this,Eg(this.b())[Lc]);Wm(this.b(),k)};F.ma=function $3s(){yC.C.ma[z](this);if(this.dfa&&!this.ih)this.ih=MDa(this);this.H().w(this.y2,P,this.v8c).w(this.xq,cj,this.dx);fn(this.b(),ldb);this.uR.id!==I&&gn(this.b(),mdb,this.uR.id)};
F.Ba=function $4s(){this.Ib()&&this.ra(k);if(this.ih){this.ih.D();this.ih=i}yC.C.Ba[z](this)};var ndb="position:fixed;width:0;height:0",sP="afterhide";
F.ra=function $5s(a){if(a!=this.yg){var c=this.W().cb(),d=pm(c)||ba;this.Cc()||this.eb(c[Lc]);if(a){this.DWa();this.If();this.H().w(this.b(),ij,this.yk,h).w(d,sj,this.XH,h)}else this.H().hb(this.b(),ij,this.yk,h).hb(d,sj,this.XH,h);this.jq&&Wm(this.jq,a);this.Em&&Wm(this.Em,a);Wm(this.b(),a);if(a){Fh&&this.b()[Ek]();if(this.jA())if(d=this.jA().wga())for(var f=this.bw[ic](jo),g=0,j;j=f[g];g++)if(j[ec]==d){try{if(Jg||Ng){var n=c[Qb](zm);iaa(n[x],ndb);this.b()[o](n);n[Ek]();this.b()[Nc](n)}j[Ek]()}catch(s){}break}}if(this.yg=
a)this.H().w(this.bw,P,this.L3b);else{this.H().hb(this.bw,P,this.L3b);this[r](sP);this.M4&&this.D()}}};F.Ib=D("yg");F.DWa=function $7s(){this.jq&&Wm(this.jq,k);this.Em&&Wm(this.Em,k);var a=this.W().cb(),c=Mg(pm(a)||ba),d=a[Lc][bl];a=l.max(a[Lc][Rb],c[id]);if(this.jq){Wm(this.jq,h);Rm(this.jq,d,a)}if(this.Em){Wm(this.Em,h);Rm(this.Em,d,a)}if(this.dfa){c=Tm(this.b());this.ih.txa=new Cm(0,0,d-c[ib],a-c[id])}};
F.If=function $8s(){var a=this.W().cb(),c=pm(a)||ba;if(mia(this.b())==oia)var d=a=0;else{d=gm(this.W());a=d.x;d=d.y}var f=Tm(this.b());c=Mg(c);a=l.max(a+c[ib]/2-f[ib]/2,0);d=l.max(d+c[id]/2-f[id]/2,0);f=this.b();if(this.wP()){qk(f[x],l[kb](a)+Jm);f[x].top=l[kb](d)+Jm}else Km(f,a,d)};F.v8c=function $9s(){var a=this.jA(),c=a&&a.o5a;if(c){a=a.J(c);this[r](new CC(c,a))&&this.ra(k)}else this.ra(k)};
F.L=function $$s(){yC.C.L[z](this);if(this.xq){this.xq.D();this.xq=i}if(this.Em){Sg(this.Em);this.Em=i}if(this.jq){Sg(this.jq);this.jq=i}this.Sgc=this.bw=this.y2=i};F.oh=function $at(a){this.Yf=a;if(this.bw)if(this.Yf)PDa(this.Yf,this.bw);else Q(this.bw,I)};F.jA=D("Yf");F.L3b=function $ct(a){a:{for(a=a[y];a!=i&&a!=this.bw;){if(a[ed]==Fka){a=a;break a}a=a[A]}a=i}if(a&&!a[Uk]){a=a[ec];var c=this.jA().J(a);this[r](new CC(a,c))&&this.ra(k)}};
F.yk=function $dt(a){var c=k,d=k,f=this.jA(),g=a[y];if(a[Sb]==27){var j=f&&f.o5a;g=g[ed]==KG&&!g[Uk];if(j&&!g){d=h;c=f.J(j);c=this[r](new CC(j,c))}else g||(c=h)}else if(a[Sb]==13){if(g[ed]==Fka)j=g[ec];else if(f){var n=f.wga(),s=n&&f.yMa(n);g=(g[ed]==ym||g[ed]==KG)&&!g[Uk];if(s&&!s[Uk]&&!g)j=n}if(j){d=h;c=this[r](new CC(j,String(f.J(j))))}}else if(a[Sb]==9&&a[dd]&&g==this.b())d=h;if(c||d){a[Ec]();a[zb]()}c&&this.ra(k)};F.XH=function $et(){this.DWa()};
F.dx=function $ft(a){this.Sgc==a[y]&&Dh(this.zEc,0,this)};F.zEc=function $gt(){L&&this.W().cb()[Lc][Ek]();this.b()[Ek]()};H(CC,N);var GDa,GC,odb;H(DC,Hf);F=DC[w];F.Al="J-ldDVFe";F.D8a=i;F.wa=i;F.o5a=i;F.set=function $ht(a,c,d,f){Hf[w].set[z](this,a,c);if(d)this.D8a=a;if(f)this.o5a=a;return this};var pdb="-zTETae";F.eb=function $it(){if(this.wa){Q(this.wa,I);var a=Cg(this.wa);Ef(this,function(c,d){c=a.ba(jo,{name:d},c);if(d==this.D8a)m(c,this.Al+pdb);this.wa[o](c)},this)}};var tP="cancel";
F.Pb=function $jt(a){if(!(!a||a[nb]!=1)){this.wa=a;a=this.wa[ic](jo);for(var c=0,d,f,g;d=a[c];c++){f=d[ec]||d.id;g=dh(d)||d[q];if(f){var j=c==0;this.set(f,g,j,d[ec]==tP);j&&K(d,this.Al+pdb)}}}};F.wga=D("D8a");F.yMa=function $lt(a){for(var c=this.wa[ic](Fka),d=0,f;f=c[d];d++)if(f[ec]==a||f.id==a)return f;return i};var uP="ok";GC=(new DC).set(uP,FF,h,h);var vP="Cancel";GDa=(new DC).set(uP,FF,h).set(tP,vP,k,h);var wP="yes",xP="Yes",yP="no",zP="No";odb=(new DC).set(wP,xP,h).set(yP,zP,k,h);
(new DC).set(wP,xP).set(yP,zP,h).set(tP,vP,k,h);var AP="continue",qdb="Continue",BP="save",CP="Save";(new DC).set(AP,qdb).set(BP,CP).set(tP,vP,h,h);_B_prog(54)}catch(e){_B_err(e)}

try{H(EC,yC);EC[w].DVa=k;EC[w].ra=function $mt(a){if(this.Ib()!=a&&!this.DVa){var c=this.b(),d=IDa(this),f=[ij,Zi];if(a){ih(c,f,this.PA,k,this);ih(d,P,this.G3b,k,this)}else{nh(c,f,this.PA,k,this);nh(d,P,this.G3b,k,this)}}EC.C.ra[z](this,a)};EC[w].G3b=function $nt(){this.b()[Ek]()};EC[w].PA=function $ot(a){this.DVa||a[Ec]()};H(HC,EC);HC[w].MC=function $pt(a){if(a.key!=uP)this.ra(k);else{var c=Pf(this.xF[q]),d=this.Wna?this.Wna(c,this.IAc):i;if(d){a[zb]();Q(this.P9,d);this.xF[Ek]()}else{this.n2a(c);this.ra(k)}}};HC[w].ra=function $qt(a){HC.C.ra[z](this,a);a?this.xF[Ek]():this.Cb.lf()};H(IC,EC);IC[w].MC=function $rt(a){a.key==uP&&this.n2a()};IC[w].ra=function $st(a){IC.C.ra[z](this,a);a||this.Cb.lf()};var WDa=/[\uFF01-\uFF5E]/g,XDa=/([\uFF73\uFF76-\uFF84\uFF8A-\uFF8E]\uFF9E)|([\uFF8A-\uFF8E]\uFF9F)|([\uFF61-\uFF9F])/g;var YDa=/[ \/(){}&|\"\000]/g;var rdb="#cc0000",DP=[{bgColor:"#f1f5ec",tg:"#006633"},{bgColor:"#dee5f2",tg:"#5a6986"},{bgColor:"#e0ecff",tg:"#206cff"},{bgColor:"#dfe2ff",tg:"#0000cc"},{bgColor:"#e0d5f9",tg:"#5229a3"},{bgColor:"#fde9f4",tg:"#854f61"},{bgColor:"#ffe3e3",tg:rdb},{bgColor:"#fff0e1",tg:"#ec7000"},{bgColor:"#fadcb3",tg:"#b36d00"},{bgColor:"#f3e7b3",tg:"#ab8b00"},{bgColor:"#ffffd4",tg:"#636330"},{bgColor:"#f9ffef",tg:"#64992c"},{bgColor:"#f1f5ec",tg:"#006633"},{bgColor:"#5a6986",tg:"#dee5f2"},{bgColor:"#206cff",tg:"#e0ecff"},
{bgColor:"#0000cc",tg:"#dfe2ff"},{bgColor:"#5229a3",tg:"#e0d5f9"},{bgColor:"#854f61",tg:"#fde9f4"},{bgColor:rdb,tg:"#ffe3e3"},{bgColor:"#ec7000",tg:"#fff0e1"},{bgColor:"#b36d00",tg:"#fadcb3"},{bgColor:"#ab8b00",tg:"#f3e7b3"},{bgColor:"#636330",tg:"#ffffd4"},{bgColor:"#64992c",tg:"#f9ffef"},{bgColor:"#006633",tg:"#f1f5ec"}];F=ZDa[w];var sdb="#222222";F.PO=function $tt(a){if(a<0)return sdb;else if(a>=DP[u])return DP[0].tg;return DP[a].tg};var EP="#eeeeee";
F.lK=function $ut(a){if(a<0)return EP;else if(a>=DP[u])return DP[0][jq];return DP[a][jq]};F.X5=function $vt(a){var c=I,d=I;d=a.rga();if(a.Rw()||d<0){c=EP;d=sdb}else if(d>=DP[u]){c=DP[0][jq];d=DP[0].tg}else{c=DP[d][jq];d=DP[d].tg}return{tg:d[Zc](1),bgColor:c[Zc](1)}};F.qcb=function $wt(){return DP};F.icb=function $xt(){return Li(DP,function(a){return a[jq]})};F.JMa=function $yt(){var a=DP[0];return{tg:a.tg[Zc](1),bgColor:a[jq][Zc](1)}};H(aEa,xx);aEa[w].Fga=B();aEa[w].Fga.ic=h;yx(aEa,bEa);F=bEa[w];F.fca=function $At(a,c){var d=0;if(this.rt!=a[1]){this.rt=a[1];d|=2}if(this.lD!=a[2]){this.lD=a[2];d|=4}if(this.mqa!=a[3]){this.mqa=a[3];d|=8;this.esb=i}if(this.EU!=a[4]){this.EU=a[4];d|=16}if(this.Bwa!=a[5]){this.Bwa=a[5];d|=64}if(this.wra!=a[6]){this.wra=a[6];d|=128}var f=a[7]||I;if(this.Yna!=f){this.Yna=f;d|=256}if(this.CDa!=a[8]){this.CDa=a[8];d|=512}a=a[9]||0;if(this.SA!=a){this.SA=a;d|=1024}if(this.Nx!=c){this.Nx=c;d|=32}d&&this.xj(d);return d!=0};va(F,D(LL));F.ea=function $Ct(){return this[pq]()};
F.Gf=D("Sm");var FP="EU";F.bo=D(FP);F.cjb=D("Bwa");F.Dp=function $Gt(){var a=this.Yna?this.Yna:this.peb();return typeof a==Qe?a>0?String(a):I:a||I};F.CSb=function $Ht(){return this.Bb().Xs()};F.P3=function $It(){return!this.Rw()};F.PO=function $Jt(){return KC(this.V).kr.PO(this.mqa)[Zc](1)};F.lK=function $Kt(){return KC(this.V).kr.lK(this.mqa)[Zc](1)};F.peb=function $Lt(){var a=this.Bb();switch(a&&a.pv?a.pv():0){case 1:return l.max(0,this.rt);case 2:return l.max(0,this.lD);case 0:default:return i}};
F.rga=D("mqa");F.Nf=D("Sm");var tdb="pV",udb="pW";F.Fga=function $Ot(){switch(this.Bb().Ga()){case fz:return tdb;case sz:return udb;default:return this.aa.Fga(this.Bb().Ga())||i}};F.Bb=function $Pt(){return Uy(this.Jb)};var vdb=" total=",wdb=" unread=";Ha(F,function $Qt(){var a=[this.Nf()];this.lD>=0&&a[p](vdb+this.lD);this.rt>=0&&a[p](wdb+this.rt);return a[kd](I)});F.Rw=function $Rt(){return Mf(this.Jb,Ty)};F.Raa=function $St(a){this.bI=a;this.xj(1)};
F.xj=function $Tt(a){this.bI&&kya(this.bI,this,a)};H(eEa,uh);var jEa="inbox, star, starred, chat, chats, draft, drafts, sent, sentmail, sent-mail, sent mail, all, allmail, all-mail, all mail, anywhere, archive, spam, bin, read, unread, voicemail, voicemails, mute, muted, important, outbox, buzz"[Cc](/\s*[,\u3001]\s*/),iEa=/^[^^]+$/;eEa[w].Rw=function $Ut(a){return Mf(a,Ty)};var xdb=" Please try another name:";eEa[w].wqd=function $Vt(a,c){return(a=PC(this,a,c))?a+xdb:i};_B_prog(55)}catch(e){_B_err(e)}

try{H(rEa,uh);F=rEa[w];F.qa=0;F.L=function $Wt(){rEa.C.L[z](this);this.Dh=i;this.Q.D();this.poa=this.Q=i};F.xc=D(Yj);F.Oe=Ge(Yj);F.uha=function $Zt(a){a=a[y];jf(this.poa,a);this.Q.hb(a,SC,this.uha);if(a==this.iL&&!(this.qa==1||this.qa==2)){this.qa=1;this[r](eD);this.qa=2;this.iL=i}};H(xEa,uh);xEa[w].sK=function $_t(){var a=[],c=this.yu.Oa();Ff(c,function(d){of(a,d.sK())});return a};H(yEa,N);H(zEa,Jf);zEa[w].L=function $0t(){this.Q.D()};var GP="cut",ydb="copy";zEa[w].XFa=function $1t(a){if(L){this.Q.w(a,GP,this.lUb);this.Q.w(a,ydb,this.lUb)}};var HP="Text";zEa[w].lUb=function $2t(a){var c=Eg(a[y]),d=pm(c);if((c=c[uk]?c[uk][Bk]():i)&&d.clipboardData[Aq](HP,c[jb])){a[zb]();if(a[Zb]==GP)la(c,I)}};H(YC,uh);F=YC[w];F.uha=function $3t(){this.Gk.wb();Ff(this.dRa,function(a){a.D()});Ia(this.dRa,0);this[r](SC);this.D()};F.Teb=function $4t(a){if(!this.OIa){var c=[],d=new BEa(this,c);try{this[r](d)}catch(f){}if(!d.PPb&&c[u])paa(a.pj,c[kd](ch));else!L&&!(Fh&&vg(Im))&&this.uha();if(Jg)if(c[u])return c[kd](ch)}};F.o6a=function $5t(){this.OIa=h;this.uha();this.sC[Xk]()};var zdb="sC";F.Ec=D(zdb);F.B=D(JF);F.L=function $8t(){YC.C.L[z](this);Kf(this.Gk);this.Gk=i};H(BEa,N);F=CEa[w];F.ea=Dy(I);F.Rb=D("Pf");F.Vc=D("Pf");va(F,function $au(){return this.Gf()});F.wi=Ge(LL);F.Gf=D(LL);F.Uo=D("UPa");F.pP=uN;F.SK=uN;F.Jjb=uN;F.I7=uN;F.Lec=Dy(0);F.WPa=uN;F.iXb=uN;F.PRb=Dy(I);F.UMa=Dy(I);F.N_=uN;F.l5a=uN;F.m5a=uN;F.ijc=uN;F.udb=Dy(0);F.JO=Dy(0);F.mXb=uN;F.rSb=Dy(I);F.tSb=Dy(0);F.Kcb=Dy(I);F.HO=Dy([]);F.Yta=E(I);F.tdb=function $fu(){return this.Yta(h)};F.f6=E(i);F=DEa[w];F.Rrb=[];F.tH=function $hu(a){return this.na?this.na.tH(a):EEa(this,a)};F.pBa=function $iu(a,c){if(!this.na)e(Error(".106"));this.na.pBa(a,c)};F.KE=function $ju(a){return this.na.KE(a)};F.Hv=function $ku(a){this.TI.Hv(a)};H(bD,Jf);bD[w].L=function $lu(){bD.C.L[z](this);Ff(this.Kab,function(a){a.D()})};bD[w].tb=function $mu(){if(!this.TWb){Ff(this.Kab,function(a){a.tb(this)},this);this.TWb=h}};bD[w].qo=function $nu(a){this.TWb&&a.tb(this);this.Kab[p](a)};FEa[w].mW=function $ou(a,c,d){Ff(d,function(f){if(c[f])e(Error(".108`"+f));else c[f]=a})};H(lD,gA);F=lD[w];F.hL=h;F.Gpb=function $pu(){this.Q.w(UC(RC(this)),aD,this.Teb)};var Adb="There is currently a request to the server pending. You may lose recent changes by navigating away.",Bdb="There are requests to the server pending. You may lose recent changes by navigating away.";F.Teb=function $qu(a){if(this.OEc)a.PPb=h;else{var c=fy(this).ud;a=a.hj;c.Cuc=h;var d=nIa(c);if(d)if(RLa(c))a[p](d==1?Adb:Bdb)}};
F.D=function $ru(){if(!this.Pc){var a=this.Ev==this,c=this.Ya();c[r](KH);if(a){c.D();this.va&&!this.E5a&&this.va.D();if(a=this.Wpa)for(;a[u];)a[0].D();Mx().D()}else{a=this.Ev.Wpa;for(c=0;c<a[u];c++)if(a[c]==this){a[jd](c,1);break}}if(this.cEa){this.cEa.D();this.cEa=i}if(this.Q){this.Q.D();this.Q=i}lD.C.D[z](this)}};F.wT=function $su(a){return this.aa.wT(a)};F.eN=function $tu(){return yy(this).nf(EM)};F.NH=function $uu(){return hA(this).hL};yx(REa,lD);
REa[w].wT=function $vu(a){var c=Ii;im(a)||(c+=NK+a+NK+Rz(this.Db).Sj());return c};REa[w].wT.Vd=h;Ha(SEa[w],function $wu(){return this.O[t]()});SEa[w].kc=D(ae);xD[w].Le=function $yu(){return this.O[0]};xD[w].dha=function $zu(){return this.O[5]};Ha(xD[w],function $Au(){return this.O[t]()});xD[w].kc=D(ae);Ha(TEa[w],function $Cu(){return this.O[t]()});TEa[w].kc=D(ae);UEa[w].l_=function $Eu(){return this.O[2]};UEa[w].vf=function $Fu(){return this.O[4]};Ha(UEa[w],function $Gu(){return this.O[t]()});UEa[w].kc=D(ae);Ha(VEa[w],function $Iu(){return this.O[t]()});VEa[w].kc=D(ae);WEa[w].vf=function $Ku(){return this.O[1]};Ha(WEa[w],function $Lu(){return this.O[t]()});WEa[w].kc=D(ae);Ha(XEa[w],function $Nu(){return this.O[t]()});XEa[w].kc=D(ae);F=ZEa[w];F.Aeb=function $Pu(){return this.O[0]};F.Dd=function $Qu(){return this.O[1]};F.Le=function $Ru(){return this.O[3]};F.Yg=function $Su(){return this.O[5]};fma(F,function $Tu(){return this.O[6]});F.dha=function $Uu(){return this.O[8]};Ha(F,function $Vu(){return this.O[t]()});F.kc=D(ae);F=YEa[w];F.EQb=function $Xu(){return this.O[0]};F.Dd=function $Yu(){return this.O[1]};var IP="aS";F.nMa=D(IP);Ha(F,function $_u(){return this.O[t]()});
F.kc=D(ae);F=aFa[w];F.Wga=function $1u(){return this.O[1]};F.aeb=function $2u(){return this.O[2]};F.lua=function $3u(){return this.O[3]};Ha(F,function $4u(){return this.O[t]()});F.kc=D(ae);var Cdb=new bFa;bFa[w].vNa=D("ycc");bFa[w].aeb=D("Ccc");bFa[w].lua=D("FXa");F=cFa[w];F.gia=h;F.Sm=I;var JP="RETRY";F.o5=JP;F.Mba=-1;F.Mu=-1;F.Esa=-1;F.NQa=-1;F.wWa=Cdb;F.Gsa=-1;F.Mda=-1;F.C0=0;F.Ne=function $9u(a){yD(this);this.o5=a};F.OW=function $$u(a){yD(this);this.K8b=a};F.wl=function $av(a){yD(this);if(a&&this.QC)e(Error(".110"));this.gia=a};F.bD=function $bv(a){yD(this);this.Lib=a};F.sCa=function $cv(a){yD(this);this.Mba=a};F.c9=function $dv(){this.o5=mB;this.Hn[wc](this,101)};F.vNa=function $ev(){return this.wWa.vNa()};F.Se=function $fv(a){yD(this);this.Sm=a};
F.Nf=D("Sm");var Ddb=":3";ua(F,function $hv(){if(this.uba)e(Error(".111"));this.Mu=Zf();this.Hn[Mb](this);this.uba=h;if(this.Mba>=0)this.QI=bA(Ddb,this.c9,this.Mba,this)});La(F,function $iv(){if(!this.uba)e(Error(".112"));if(!this[Iq]){this.o5=mB;this.Hn[wc](this)}});F.Aia=function $jv(){return!!this.uba};F.jm=function $kv(){return!!this[Iq]};F.oha=function $lv(){return!!this.uOb};F.zga=D("tOb");var KP="na";F.oM=Ge(KP);F.H=D(KP);ip(F,function $pv(a){return this.Na?this.Na[a]:i});
F.vPa=function $qv(a,c){this.na&&this.na.rk&&this.na.rk(this,a,c)};F.wPa=function $rv(a){this.na&&this.na.r_&&this.na.r_(this,a)};F.hwa=function $sv(a){this.uOb=h;this.tOb=a;this.Y8()};F.xPa=function $tv(){this.uOb=k;this.tOb=i;this.Mba=-1;this.jHb=k;this.Y8()};F.Y8=function $uv(){ima(this,h);this.Mda=Zf();if(this.QI){cA(this.QI);this.QI=i}this.na&&this.na.Z6&&this.na.Z6(this)};F.oib=function $vv(){return new Sh};F.hYa=function $wv(a){yD(this);if(this.gia)e(Error(".113"));this.QC=a};
F.QO=function $xv(){var a=this.Bf.vc();this.Ea&&Iy(this.Ea,a);return a};F.uc=function $yv(){return String(this.QO())};F.Ua=function $zv(a,c){gx(this.Bf,a,c)};F.Rc=function $Av(a){return Zh(this.Bf,a)};F.gYa=function $Bv(a){eFa(this,a,k)};F.Be=function $Cv(a,c){if(!this.RC)this.RC=new Wh;Ve(c)||(c=[String(c)]);Hva(this.RC,a,c)};H(fFa,BB);H(zD,cFa);var Edb=new fFa(EB,"CsRequest");F=zD[w];F.rwa=h;F.oib=function $Dv(){return new Sh(Rj)};F.EOc=Ge("rAc");F.Ga=function $Fv(){return Edb};F.zcb=D("wWa");F.vgb=function $Hv(){return this.oha()};F.Ii=function $Iv(a){yD(this);this.Ea=a};F.Bb=D(NO);F.O1=Ge("rwa");F.yIb=function $Lv(){return this.rwa&&!this.xG&&!this.yHb&&!this.QC&&this.Rc(pd)==QN};F.BIb=function $Mv(a){var c=this.Rc(pd);return this.rwa&&!this.xG&&!this.yHb&&!!c&&c!=QN&&Qya(this.Bb(),a.Bb())};
F.rid=function $Nv(a){if(!a.yIb()||!this.BIb(a))e(Error(".114"));var c=a.Bf.Of();c[Pb](pd);for(var d=c.Sb(),f=0;f<d[u];f++){var g=d[f];this.Ua(g,c.Oa(g))}if(c=a.RC){d=c.Sb();for(f=0;f<d[u];f++){g=d[f];this.Be(g,c.Oa(g))}}this.xG=a;a.yHb=this};F.vPa=function $Ov(a,c){zD.C.vPa[z](this,a,c);this.xG&&this.xG.vPa(a,c)};F.wPa=function $Pv(a){zD.C.wPa[z](this,a);this.xG&&this.xG.wPa(a)};F.hwa=function $Qv(a){zD.C.hwa[z](this,a);this.xG&&this.xG.hwa(a)};F.xPa=function $Rv(){zD.C.xPa[z](this);this.xG&&this.xG.xPa()};_B_prog(56)}catch(e){_B_err(e)}

try{H(AD,IA);F=AD[w];F.rK=function $Sv(a){return this.ia.rK(a)};F.KT=function $Tv(a){return this.ia.KT(a)};F.WZ=function $Uv(a){return this.ia.WZ(a)};F.Sda=function $Vv(a,c){return this.ia.Sda(a,c)};F.Vh=function $Wv(){AD.C.Vh[z](this);var a=this.ia;rA(a);this.W()[o](this.b(),a.b());this.Xk(a)};F.L=function $Xv(){this.wa||this.ia.D();AD.C.L[z](this)};F.RQ=function $Yv(a){AD.C.RQ[z](this,a);this.ia.RQ(a)};F.AI=function $Zv(a,c,d,f){this.ia.AI(a,c,d,f)};F.S1=function $_v(a,c){this.ia.S1(a,c)};
F.oF=function $0v(a){return LA(this.ia,a)};F.Q3=function $1v(a){return jBa(this.ia,a)};F.VV=function $2v(a){AD.C.VV[z](this,a);kBa(this.ia,a)};F.di=function $3v(a,c,d){var f=!!d,g=this.ia;if(a==vA)if(c==-1&&!d){d=LA(g,a);AD.C.di[z](this,a,d,k)}else{AD.C.di[z](this,a,c,d);f=h}else AD.C.di[z](this,a,-1,d);g.ip(a,c,f)};H(BD,AD);BD[w].B=D(JF);var gFa=i;H(hFa,uh);F=hFa[w];F.P0=i;F.hc=D("UK");F.Gw=D(le);F.L=function $7v(){delete this.xe;jFa(this);oh(this.P0);hFa.C.L[z](this)};F.Rua=function $8v(){if(iFa(this)){jFa(this);oh(this.P0);this.P0=i;this.UK=h;this[r](kFa)}};ya(lFa[w],function $9v(a){a=a[y];for(var c=0;c<this.JV[u];c++)if(this.JV[c]==a){this.JV[jd](c,1);break}a.D();this.JV[u]||this.Li()});var Fdb=":4";Qa(mFa[w],function $$v(a){if(a)this.hD=bA(Fdb,this.wo,a,this);this.PVc=new lFa(this.MOa,G(this.YMc,this),h)});mFa[w].YMc=function $aw(){this.hD&&cA(this.hD);nFa(this,k)};mFa[w].wo=function $bw(){for(var a=this.PVc,c=0;c<a.JV[u];c++)a.JV[c].D();Ia(a.JV,0);nFa(this,h)};var LP="to",MP="bcc",EFa=new Hf({to:LP,cc:Yd,bcc:MP,subject:DO,body:Ym});F=sFa[w];F.fcb=function $cw(a){var c=FD(this).lna[a];delete FD(this).lna[a];return c};F.VNc=function $dw(a){var c=a.IX;ik(c[yc],Ii);var d=mD(hA(this.V));(new Gdb(c,d,h)).tb(a.cq)};F.UNc=function $ew(a){var c=a.IX;ik(c[yc],Ii);var d=mD(hA(this.V));(new Hdb(c,d,h)).tb(a.cq)};F.XNc=function $fw(a){var c=a.IX;ik(c[yc],Ii);var d=mD(hA(this.V));(new Idb(c,d,h)).tb(a.cq)};
F.Hv=function $gw(a){var c;c=MD(this)?ID(this):JFa(this);Uh(c,a);a=xB(this.V);c=zB(a,c,{width:425,height:480});MD(this)&&ND(this,c,i,this.UNc);return c};F.cUa=function $hw(a,c){if(MD(this))a=ID(this);var d=xB(this.V);a=zB(d,a,{width:430,height:395});MD(this)&&ND(this,a,kP,c);return a};var NP="mailto:",Jdb="$1//$2";
F.WP=function $iw(a){var c=a[y][Yc];if(a[y][ed]==kC&&c){c=Pf(c);var d=k;if(Mf(c,NP)){c=c[mb](/^(mailto:)([^\/])/,Jdb);c=new Sh(c);var f=c.Of();if(c.DX&&c.u_()){var g=f.Oa(LP);g[ld](c.DX+vh+c.Jk());f.set(LP,g[kd](wj))}AFa(this,k,f)}else{f=KFa(this);if(Awa(c)==f){c=(c=Bwa(c))&&ga(c)||I;(c=qC(this.V).Fp().getElementsByName(c)[Ab](0))&&this.Cb[wq](c,2)}else{f=c;g=KFa(this);if(Bwa(f)&&vwa(f,g)){c=Bwa(c)||I;JB(this.V).SH(c)}else if(Fh&&(a[Bc]||a[dd]))d=h;else xB(this.V).Yo(c,{target:AB},h)}}if(!d){a[zb]();
a[Ec]()}}};var Kdb="canvas_frame";F.ODc=function $jw(a){var c=vFa(FD(this),a),d=this;pFa(a[yc],[Kdb],function(){if(c.rhb.wE>=0){if(!c.x1b||c.x1b.wE>=0)c.wc[z](d,c)}else c.rhb.ad(c)})};yx(UD,sFa);UD[w].LGa=B();UD[w].LGa.Ka=h;UD[w].B2a=E(k);UD[w].B2a.ic=h;var _GM_ftcb;var Ldb="AD",OP="N",Mdb="February",Ndb="September",Odb="November",Pdb="December",Qdb="Wednesday",Rdb="Thursday",Sdb="Saturday",Tdb="PM",bE={xDb:["BC",Ldb],Lmc:["Before Christ","Anno Domini"],ooc:[KH,cC,XD,kC,XD,KH,KH,kC,YD,ae,OP,TC],Spc:[KH,cC,XD,kC,XD,KH,KH,kC,YD,ae,OP,TC],xca:["January",Mdb,"March","April","May","June","July","August",Ndb,"October",Odb,Pdb],Rpc:["January",Mdb,"March","April","May","June","July","August",Ndb,"October",Odb,Pdb],wEb:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug",
"Sep","Oct","Nov","Dec"],Upc:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c2a:["Sunday","Monday","Tuesday",Qdb,Rdb,"Friday",Sdb],Wpc:["Sunday","Monday","Tuesday",Qdb,Rdb,"Friday",Sdb],U1a:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Vpc:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],poc:[YD,XD,bM,RF,bM,cC,YD],Tpc:[YD,XD,bM,RF,bM,cC,YD],xEb:["Q1","Q2","Q3","Q4"],dEb:["1st quarter","2nd quarter","3rd quarter","4th quarter"],MCb:["AM",Tdb],soa:["EEEE, MMMM d, y","MMMM d, y",
"MMM d, y","M/d/yy"],CFa:["h:mm:ss a zzzz","h:mm:ss a z","h:mm:ss a","h:mm a"],PCb:{Md:"M/d",MMMMd:"MMMM d",MMMd:"MMM d"},Xmc:6,REb:[5,6],Ymc:2};MFa[w].Nga=function $mw(a){return this.SAb[TFa(this,a)>0?3:1]};MFa[w].wNa=function $nw(a){return this.SAb[TFa(this,a)>0?2:0]};var Udb=[/^\'(?:[^\']|\'\')*\'/,/^(?:G+|y+|M+|k+|S+|E+|a+|h+|K+|H+|c+|L+|Q+|d+|m+|s+|v+|z+|Z+)/,/^[^\'GyMkSEahKHcLQdmsvzZ]+/],Vdb="''";VD[w].bpa=function $ow(a){for(;a;)for(var c=0;c<Udb[u];++c){var d=a[Kb](Udb[c]);if(d){d=d[0];a=a[Zc](d[u]);if(c==0)if(d==Vdb)d=Ox;else{d=d[Zc](1,d[u]-1);d=d[mb](/\'\'/,Ox)}this.ap[p]({text:d,type:c});break}}};VD[w].RGa=function $pw(a){if(a<4)a=bE.soa[a];else if(a<8)a=bE.CFa[a-4];else if(a<12)a=bE.soa[a-8]+J+bE.CFa[a-8];else{this.RGa(10);return}this.bpa(a)};
VD[w].Hbb=function $qw(a,c){c=c[Gq]();return a>=4?bE.c2a[c]:bE.U1a[c]};var WFa=new VD(7),YFa=new VD(3);new VD(2);var Wdb=new VD(1);new VD(9);new VD(0);var Xdb="EEEE",Ydb=new VD(Xdb),XFa=new VD("MMM d"),Zdb=new VD("EEE, MMM d, yyyy 'at' h:mm a");var PP="ud",xE=new CB(EB,PP);H(eE,SA);F=eE[w];F.L=function $rw(){this.n4=i;eE.C.L[z](this)};F.Q3=function $sw(a){return a==Wx};F.VV=function $tw(a){MA(this,a,-1)};F.oF=function $uw(a){if(a==vA)return this.n4(this);MA(this,a,-1);return this.b()[ql]};F.di=function $vw(a,c,d){if(a==vA){c==-1&&!d?eE.C.di[z](this,a,LA(this,a),k):eE.C.di[z](this,a,c,d);this.qe(Wx)}else eE.C.di[z](this,a,c,d)};F.xb=function $ww(a){this[bc]();Q(this.b(),a);this.qe()};F.ha=function $xw(a){this.Xk(a)};F.Jf=function $yw(a,c){RAa(this,a,c)};
lk(F,function $zw(a){return sA(this,a)});F.Vp=function $Aw(a){return tA(this,a)};Aa(F,function $Bw(){this.DJb()});var dGa,bGa;H(sE,BD);sE[w].wN=[];sE[w].MJ=-1;sE[w].Nm=h;var QGa=0,aeb=/<span cliptip=1>(.*)<\/span>/i;F=sE[w];var beb="mq";F.Jc=function $Cw(){var a=this.ia;K(a.b(),beb);var c={pMc:this.X(Kd),phb:this.X(Ph),PMc:this.X(dx),IMc:this.X(Pd)};Q(a.b(),AGa(c));a.qe(Wx)};
F.ma=function $Dw(){sE.C.ma[z](this);this.M9a=this.b(Kd);this.Y4=this.b(Ph);this.bsa=this.b(dx);this.aLa=this.b(Pd);this.H().w(this.bsa,Xi,this.aOa);this.H().w(this.aLa,Xi,this.aOa);this.H().w(this.bsa,Yi,this.aOa);this.H().w(this.aLa,Yi,this.aOa);this.H().w(this.b(),P,this.He)};F.Ba=function $Ew(){sE.C.Ba[z](this);this.H().wb()};F.D=function $Fw(){this.aLa=this.bsa=this.Y4=this.M9a=i;sE.C.D[z](this)};F.wL=function $Gw(a){this.QFa=a;QGa++};
var ceb="fn",QP='<a class="',deb="About these ads",eeb='</a>&nbsp;<span class="',feb="B9kNyc",geb="updated",RP=' dir="',heb=' <span dir="',SP="ltr",ieb='">- <a dir="ltr" class="mr" href="',jeb="</a> -</span> ",keb="<span",leb=" &bull; ";
F.C1c=function $Hw(a){var c=a.Pg&&a.Pg[hq](ceb),d=k,f=this.xl.Y2a;Ia(this.wN,this.MJ+1);a=new XEa(a[dq]);var g=a.jQb;if(g){d=AHa(this.xl);var j=g.Dd();if(f.pMa()){j={url:f.pMa()};f=new U;f[R](QP,Rd,qE,j.url,W,deb,eeb,feb,W,geb,gB);j=f[t]()}g=g.nMa();if(f=g.O[6])var n=!!(f&1),s=!!(f&2),v=!!(f&4);n={title:g.Le(),FA:g.O[1],Vw:g.O[2],WAa:g.O[3],sca:g.O[4],ZDa:n,a0:s,b0:v};s=new U;s[R](QP,Rd,qE,n.WAa,Vf,n.ZDa?RP+V(Zm)+Zd:I,Uf,n[Pk],hB,n.sca?heb+V(SP)+ieb+n.WAa+W+n.sca+jeb:I,n.FA?keb+(n.a0?RP+V(Zm)+Vf:
I)+Uf+n.FA+gB+(n.Vw?(n.a0!=n.b0?leb:MH)+keb+(n.b0?RP+V(Zm)+Vf:I)+Uf+n.Vw+gB:I):I);n=s[t]();d=new VGa(IE,j,n,i,g.dha(),d);this.wN[p](d);d=h}a=a.lkc;for(s=0;s<a[u];s++){d=a[s];v=d.Aeb();n=IGa({source:d.O[2],title:d.Le(),PH:d.O[4],description:d.Yg(),Ob:d[hc]()?UGa(this,d[hc]()):I,Utb:d.O[7]});if(v==Fz)if(n[Kb](aeb))n=n[mb](aeb,JGa({id:this.X(Rd),ke:xwa}));d=new VGa(v,d.Dd(),n,i,i,i);this.wN[p](d);d=h}if(this.wN[u]>50){a=this.wN[u]-50;this.wN[jd](0,a);this.MJ-=a}if(c&&this.xec){c=this.MJ+(d?1:0);KGa(this,
c)}else if(!c){c=this.MJ+1;KGa(this,c);dE(this.B()).jj(meb,this.wN[c].mic)}};F.di=function $Iw(a,c,d){sE.C.di[z](this,a,c,d);a==vA&&this.MJ>=0&&NGa(this)};F.aOa=function $Jw(a){var c=a[y];if(!Bg(c,uE))switch(a[Zb]){case Xi:m(c,CO);break;case Yi:m(c,lE);break}};var neb="webclips";
F.He=function $Kw(a){if(a[y].id==this.X(Rd)){dE(this.B()).pb(oeb);this.jb[bq]({view:dJ,fk:neb})}else if(a[y]==this.bsa){this.MJ>0&&KGa(this,this.MJ-1);dE(this.B()).pb(peb)}else if(a[y]==this.aLa){KGa(this,this.MJ+1,h);dE(this.B()).pb(qeb)}else if(a[y][Yc]){var c=this.wN[this.MJ];dE(this.B()).jj(reb,c.mic);this.Lh.WP(a);if(c.yo){a=zg(a[y]);var d;if(a[u]>0)if(a[0]==Rd)d=IB;else if(a[0]==iO)d=Cz;uHa(c.yo,kD,0,d,Zf()-c.TDa)}}};_B_prog(57)}catch(e){_B_err(e)}

try{var YGa={};F=WGa[w];F.Bea=function $Lw(a){return a[Xc](0)==32?a[nc](1):a};F.add=function $Mw(a){this.ee[XGa(this,a)]=i};Aa(F,function $Nw(){this.ee={}});F.vc=function $Ow(){var a=new WGa;for(var c in this.ee)if(this.ee[Kc](c))a.ee[c]=i;return a};Sa(F,function $Pw(a){return this.ee[Kc](XGa(this,a))});F.Qc=function $Qw(a){return this.mQa(a)&&a.mQa(this)};F.forEach=function $Rw(a,c){for(var d in this.ee)this.ee[Kc](d)&&a[z](c,this.Bea(d),undefined,this)};
F.Nb=function $Sw(){var a=0;for(var c in this.ee)this.ee[Kc](c)&&a++;return a};F.Oa=function $Tw(){var a=[];for(var c in this.ee)this.ee[Kc](c)&&a[p](this.Bea(c));return a};F.nd=function $Uw(){for(var a in this.ee)if(this.ee[Kc](a))return k;return h};F.mQa=function $Vw(a){for(var c in this.ee)if(!a.ee[Kc](c)&&this.ee[Kc](c))return k;return h};wa(F,function $Ww(a){a=XGa(this,a);if(this.ee[Kc](a)){delete this.ee[a];return h}return k});F.mG=function $Xw(){return em(this.Oa())};F=ZGa[w];F.Odb=function $Yw(){return this.O[1]};F.Ndb=function $Zw(){return this.O[2]};F.Pdb=function $_w(){return this.O[3]};F.pMa=function $0w(){return this.O[4]};Ha(F,function $1w(){return this.O[t]()});F.kc=D(ae);H(cHa,Kx);F=cHa[w];var seb="rtis",teb="rtes",ueb="rus",veb="alpl";F.eYc=function $3w(a){a=new ZGa(a[dq]);this.Fa(seb,a.Odb());this.Fa(teb,a.Ndb());this.Fa(ueb,a.Pdb());this.Fa(veb,a.pMa())};F.Odb=function $4w(){return this.Ca(seb)};F.Ndb=function $5w(){return this.Ca(teb)};F.Pdb=function $6w(){return this.Ca(ueb)};F.pMa=function $7w(){return this.Ca(veb)};H(zE,BB);dHa[w].fjb=h;var web=AE(oy),DHa=AE(Hz),nHa=AE(kD),mHa=AE(IB),xeb=AE(UE),yeb=AE(TE),rHa=AE(Bz),TP="nr",pHa=AE(TP),sHa=AE(aP),qHa=AE(rO),UP="ds",tHa=AE(UP),vHa=AE(RO),wHa=AE(Uz);H(CE,xx);CE[w].tb=B();CE[w].tb.Ka=h;CE[w].e4a=B();CE[w].e4a.Ka=h;H(HE,kn);yx(CE,HE);HE[w].gYc=function $$w(a){a=new UEa(a[dq]);var c=i,d=a.l_(),f=a.O[3],g=a.vf();f=xHa(d,g,f);if(d==OD)c=JE(this,f);if(c==i||c.mKa!=i)c=GHa(this,f,d);c.Z2a=a.O[1];c.qhc=Zf();CHa(this,c)};HE[w].scc=function $ax(a){a.X0a=G(this.igb,this,a);this.w(this.ob,Hh,a.X0a);this.ob[Mb](String(a.uri),zj)};
var zeb="Parsed response empty",Aeb="Xhr parse error(",Beb="):",Ceb="ads",Deb="ati",Eeb="aor",VP="ch",WP="ci",XP="rv",Feb="ats",Geb="XHR response was not an array",Heb="Xhr connection error:",Ieb=":6";
HE[w].igb=function $bx(a){this.hb(this.ob,Hh,a.X0a);a.X0a=i;if(this.ob.ye()){var c=this.ob.dj(),d;if(sx(c))a.ZX=zeb;else{var f=c[Zc](c[Db](ch));try{d=ix(f)}catch(g){a.ZX=Aeb+g+Beb+c}}if(d)if(Ve(d)){c=d[0];for(var j,n,s=0;s<c[u];s++){d=c[s];f=d[0];if(f==rE)j=new XEa(d);else if(f==Ceb)n=new SEa(d)}var v=0,C=0;d=f=0;if(j)if(j=j.jQb)if(j.nMa().dha())C++;else v++;if(n){n=n.aS;for(s=0;s<n[u];s++)if(n[s].dha())d++;else f++}n=v;j=C;f=f;d=d;if(a.uA!=1)e(Error(".118`"+a.uA));a.uA=3;BE(a.Xv,n+j+f+d>0?yeb:xeb,
GE(a));oHa(a,kD,n,j);oHa(a,RE,f,d);for(n=0;n<c[u];n++){j=c[n];d=j[0];f=i;if(d==Deb){a.Nzb=new WEa(j);if(a.ER==DE||a.ER==EE)a.Am=a.Nzb.vf()}else if(d==rE){a.jFc=new XEa(j);f=new Ex(i,d,j)}else if(d==Eeb){a.rac=new VEa(j);f=new Ex(i,d,j)}else if(d==VP)f=new Ex(i,d,j);else if(d==Ceb)a.vGa=new SEa(j);else if(d==WP){a.QJb=j;f=new Ex(i,d,j)}else if(d==JD){a.Nxc=j;f=new Ex(i,d,j)}else if(d==XP)f=new Ex(i,d,j);else if(d==Feb)f=new Ex(i,d,j);f&&this.xf.ud[r](f)}}else{a.ZX=Geb;lHa(a,this.ob.eo==8)}else lHa(a,
this.ob.eo==8)}else{a.ZX=Heb+this.ob.Kga();lHa(a,this.ob.eo==8)}if(!this.ob.Eb()){a.p8a&&a.mKa==i&&this.TTb(a);(a=JE(this,this.UFa.pop()))&&bA(Ieb,G(this.scc,this,a),0)}};HE[w].TTb=function $cx(a){a.p8a(a);a.mKa=h};H(HHa,Jf);var YP="name",PHa=["description","fileName","lineNumber",eg,YP,"stack"],Jeb=Qj+"&view=jr&type=p&jsid="+Ufa;F=HHa[w];F.pwb=Ge(JF);F.tRb=function $ex(){return ti};var Keb="log-message";F.Wva=function $fx(a,c,d,f){a.r=c;a.email=Hi;a.ua=bp[Fc];a.build=Ei;a.jsver=d;a.jsm=Wla;a.t=String(new Date);if(f)a[Keb]=f};F.X0b=B();F.yI=function $hx(a,c){if(a!=this.ERc){this.Ihd(OHa(this,a,c));this.ERc=a}};
F.Ihd=function $ix(a){try{if(this.Lya>0)a.unsent=this.Lya;var c=Zf();if(c-this.mxa<6E4||this.ob.Eb()?h:k){this.Lya++;return k}this.mxa=c;if(a.jsver==ti)oaa(a,Gba(arguments[Hc][Jc]));var d=new U;Ef(a,function(j,n){try{d[R](Qf(n),ei,Qf(j),Sf)}catch(s){}});var f=d[t]();this.s1b()&&this.q1b(f);if(!bp[uma])return this.lmb();this.ob[Mb](Jeb,Aj,f);this.Lya=0;return h}catch(g){return k}};F.ZRa=B();F.s1b=E(k);F.q1b=B();F.lmb=E(k);F.L=function $nx(){HHa.C.L[z](this);if(this.Q){this.Q.D();this.Q=i}};
var ME=new HHa;tg.Qla=ME;(function(b){if(b.Dla){Ff(b.Dla,function(a){this.Qla.yI(a[1],a[0])},b);b.Dla=i}})(tg);var SHa={};Pp(QHa[w],function $ox(){Ia(this.eO,0);Ia(this.hDa,0)});LE[w].pjc=0;var Leb={};F=LE[w];F.pQb=D(WE);F.Ujb=function $qx(){return this.xqa.Ujb(this,NBa(this.C3a.sK()))};F.Yg=function $rx(){return Leb[this.mg]||this.mg.lC()};F.Sid=Ge("Gld");Qa(F,function $tx(){var a=this.xqa.qQb();a&&this.Sid(a)});F.wid=Ge("WCc");F.NFc=D("pDc");F.MGc=D("gAb");F.VX=function $xx(a){this.pjc+=a};F.lua=D("FXa");F.Hz=function $zx(a,c){if(WHa(this,a,8)){if(!this.Uxa)this.Uxa=new Hf;this.Uxa.set(a,c)}};
F.ZOa=function $Ax(a,c){if(this.Uxa){var d=this.Uxa.J(a)||0;this.Hz(a,d+c)}else this.Hz(a,c)};F.Foa=function $Bx(a,c){if(WHa(this,a,8))if(WHa(this,c,30)){if(!this.amb)this.amb=new Hf;this.amb.set(a,c)}};dIa[w].PG=0;dIa[w].JA=0;dIa[w].jz=0;F=eIa[w];F.xfa=0;F.PG=0;F.JA=0;F.jz=0;F.qHa=0;F.add=function $Cx(a){this.Xyb[p](a);this.xfa+=a.rh==0;this.PG+=a.PG;this.JA+=a.JA;this.jz+=a.jz;if(a.qHa>0)this.qHa+=a.qHa};F=fIa[w];F.Mba=1E4;F.yx=k;F.vfd=0;F.J3a=0;F.T7b=0;F.QI=i;F.U0=i;naa(F,Ge("Mba"));var ZP="Bf";F.QO=D(ZP);F.sYa=Ge(ZP);var Meb="yx";F.Rwa=D(Meb);Qa(F,function $Hx(){if(this.yx)e(Error(".124"));this.yx=h;this.J3a=0;hIa(this)});Ga(F,function $Ix(){iIa(this);this.yx=k});F.zTa=function $Jx(){this.tza(h)};F.XP=function $Kx(){this.tza(k)};F.d2c=function $Lx(){this.tza(k)};F.e2c=function $Mx(){this.tza(k)};
F.tza=function $Nx(a){iIa(this);if(a){this.yx=k;this.Li[z](this.na,h)}else if(this.J3a<=this.vfd)if(this.T7b)this.U0=Dh(this.Q4c,this.T7b,this);else hIa(this);else{this.yx=k;this.Li[z](this.na,k)}};F.Q4c=function $Ox(){this.U0=i;hIa(this)};_B_prog(58)}catch(e){_B_err(e)}

try{H(jIa,uh);jIa[w].zZb=0;jIa[w].u0=h;jIa[w].Wpb=function $Px(a){this.zZb=Zf();this.u0=a;this[r](ZD)};H(YE,uh);YE[w].Ggb=3E4;YE[w].Gwc=6E4;YE[w].Mw=i;YE[w].qG=0;var Neb=/var gmail_error\s*=\s*(\d+)/m,Oeb=/var rc\s*=\s*(\d+)/m;F=YE[w];F.QSa=-1;F.N8=0;var Peb="READY";F.qa=Peb;F.Sja=0;F.yya=0;F.D=function $Qx(){if(!this.Pc){YE.C.D[z](this);this.zu[bc]();xIa(this)}for(var a=0;a<this.pEa[u];a++)this.pEa[a].D();this.Q.D()};ua(F,function $Rx(a){this.zu.MG(a);this.Plb(h)});F.xc=D(Yj);F.P5=D(XI);F.w6=D("Sja");F.f2a=function $Vx(){this.YR&&this.YR[wc](this.qG)};La(F,function $Wx(a,c){this.i3(a,c)});
F.i3=function $Xx(a,c){a.uc();c=Ke(c)?c:100;if(a==this.ld){this.qG=c;this.f2a()}else this.zu[Pb](a)&&a.hwa(new nB(a,c))};F.jNa=function $Yx(){var a=this.zu.Oa();this.ld&&a[ld](this.ld);return a};F.MUb=E(h);F.NRb=Ee();F.D2a=function $0x(){if(!this.Loa.nd())for(var a=this.Loa.Sb(),c=0;c<a[u];c++){var d=a[c],f=this.Loa.J(d);this.ld.Ua(d,f);this.Loa[Pb](d)}};var Qeb=":7";
F.GAb=function $1x(){try{this.ld.uc();this.qG=0;for(var a,c=0,d=i,f=0;f<this.pEa[u];f++){var g=this.pEa[f],j=g.wma(this.ld);if(j>=c){c=j;d=g}}a=d;if(!a)e(Error(".125`"+this.ld));this.YR=a;this.Vka=i;this.YR.yna(this.ld);if(!this.Mw)this.Mw=bA(Qeb,this.V4b,this.Ggb,this)}catch(n){e(n)}};var Reb="WAITING_FOR_READY",Seb="WAITING_FOR_RETRY";
F.EG=function $2x(a){switch(a){case Peb:case Reb:if(this.ld)e(Error(".126`"+a));break;case ZE:case Seb:case vIa:if(!this.ld)e(Error(".127`"+a));break}if(a!=this.qa){this.qa=a;this[r](XD);this.xOb&&JKa(this.xOb)}};F.Plb=function $3x(a){if(this.qa==Peb){var c=this.zu.hQ();if(c)if(this.MUb(a,c)){this.zu.ly();this.ld=this.NRb(c);pIa(this)}}};var aQ="di";
F.cIc=function $4x(a){for(var c=0;c<a[u];c++){var d=a[c];this.N8++;var f=d[0];if(!this.kmb(f,d)){this.MAa[p](d);this.N8==1&&rIa(this,d);if(f==aQ)tIa(this,d);else if(f==Rd){this.UNa(d);this.uVa()}}}};F.qfb=function $5x(a){this.N8++;var c=a[0];if(this.ala){cA(this.ala);this.ala=0}if(!this.kmb(c,a)){this.MAa[p](a);this.N8==1&&rIa(this,a);if(c==aQ)tIa(this,a);else if(c==Rd){this.UNa(a);this.uVa()}else this.ala=bA(Qeb,this.uVa,50,this)}};F.kmb=E(k);F.UNa=function $7x(a){this.QSa=a[1]};
F.uVa=function $8x(){if(this.ala){cA(this.ala);this.ala=0}if(this.MAa[u]){var a=this.ld,c=this.MAa;this.MAa=[];this.b1(a,c)}};var Teb=";6";F.b1=function $9x(a,c){if(!this.Vka)try{for(var d=0;d<c[u];d++){var f=c[d],g=f[0];this[r](new Ex(a,g,f,h))}a&&a.wPa(c);for(d=0;d<c[u];d++){f=c[d];g=f[0];a&&a.vPa(g,f);this[r](new Ex(a,g,f))}}catch(j){rg(tg,Teb,j);this.Vka=j}};F.ZFb=function $$x(){return this.N8==this.QSa};var Ueb="N8";F.rGc=D(Ueb);F.qGc=D("QSa");
F.WH=function $cy(){if(this.Vka||!this.ZFb()){var a;if(this.Vka)a=new nB(this.ld,12,h);else{var c=this.ld;a=new nB(c,103,k,c.C0);c.Ua(ava,1);this.NCc&&BIa(this)}this.OTa(a);return k}if(this.qa!=ZE)e(Error(".128"));this.ld.uc();this.ld.xPa();this.KS=this.ld=i;lIa(this,1E3);this.EG(Reb);return h};F.eec=function $dy(a){return!a.vW};
F.OTa=function $ey(a){a.hm();if(this.qa!=ZE)e(Error(".129"));this.ld.uc();var c=this.ld;c.Gsa=-1;c.wWa=Cdb;if(this.eec(a)){c=this.ld;this.ld=this.KS=i;c.hwa(a);a=Reb}else{this.KS=a;a=Seb}this.EG(a)};F.Hod=function $fy(){xIa(this);switch(this.qa){case Reb:this.EG(Peb);this.Plb(k);break;case Seb:this.Sja=Zf()+this.yya;this.EG(vIa);this.Lv=bA(Qeb,this.xqb,this.yya,this);lIa(this,2*this.yya);break;default:e(Error(".130`"+this.qa))}};F.xqb=function $gy(){this.Lv=0;this.qa==vIa&&pIa(this)};
F.V4b=function $hy(){this.Mw=bA(Qeb,this.V4b,this.Ggb,this);this.CIa()};F.CIa=function $iy(){if(!(!this.ld||this.ld.Ayb))if(this.Fv){var a=Zf(),c=this.ld.NQa;if(c>-1&&a-c>this.Gwc)kIa(this.Fv)||this.Fv.u0||this.i3(this.ld,1)}};H(CIa,N);H(DIa,uh);F=DIa[w];F.D=function $jy(){DIa.C.D[z](this);this.Q.D();EIa(this)};F.Ox=function $ky(a,c,d,f,g){var j=this.Tn;EIa(this);mDa(lC(d),h);Mea[Rc]();j=this.Tn=new LE(a,c,d,f);this.hFb=i;UHa(j.TR,xC,g);FIa(this);j[Rc]();a.b3a(j);this[r](new CIa(OP,j));return j};F.s5a=function $ly(){var a=this.Tn;if(a){UHa(this.Tn.TR,tP);Mea[qc]();this.ukb=this.hFb=this.Tn=undefined;EIa(this);this[r](new CIa(Xd,a))}};var Veb=":8";F.pEc=function $my(){if(!this.Csa)this.Csa=bA(Veb,this.m1c,20,this)};var Web="FAILED";
F.m1c=function $ny(){this.Csa=i;var a=this.Tn;if(a){a.xqa.BHb(a);if(!this.rPb){this.rPb=h;a.IPc=h}var c=a.xqa.qQb();c&&a.wid(c);UHa(a.TR,Jd);Mea[qc]();c=a.TR.eO;if(c[u]<2)c=k;else{var d=a.TR.hDa;a.gAb=i;a.hDa=d;a.Mu=c[0].sR;a.d5=c[c[u]-1].sR;a.BAb=a.d5-a.Mu-a.pjc;c=a.fFb;d=a.eid=[];for(var f=a.FXa=[],g=a.jDa=new eIa,j=a.kDa=new eIa,n=0;n<c[u];n++){var s=c[n];if(s.Gsa!=-1?s.Gsa>a.Mu&&s.Mda<=a.d5:s.Mda!=-1&&s.Mda>a.Mu&&s.Mda<=a.d5){var v=new dIa(s,a.Mu);s.rAc<a.Mu?g.add(v):j.add(v);if(s.vgb()){d[p](Web);
f[p](Web)}else{s=s.zcb();d[p](s.aeb()||me);f[p](s.lua()||me)}}}a.xod=g.PG+g.JA+g.jz+j.PG+j.JA+j.jz;c=a.bod=h}c&&this.OUa[p](bIa(a));this.CP=a;this.ukb=this.hFb=this.Tn=undefined;mDa(lC(this.V),k);Mx().Kh(151,a);this[r](new CIa(ae,a))}};F.gqb=function $oy(){this.Tn&&this.Tn.Ujb()&&this.pEc()};F.qia=function $py(){return!!this.Tn};F.Hz=function $qy(a,c){this.Tn&&this.Tn.Hz(a,c)};F.ZOa=function $ry(a,c){this.Tn&&this.Tn.ZOa(a,c)};F.Foa=function $sy(a,c){this.Tn&&this.Tn.Foa(a,c)};
F.VX=function $ty(a){this.Tn&&this.Tn.VX(a)};F.VJc=function $uy(){FIa(this)};F.Bdd=function $vy(a){if(this.Tn){this.Tn.fFb[p](a);return h}return k};H(IIa,Jf);IIa[w].L=function $wy(){this.zCa[bc]()};H(bF,uh);var Xeb={3:13,8:10,13:13,27:27,46:127};bF[w].pZb=0;bF[w].L=function $xy(){this.Q.D();Ff(this.JU,function(a){a.D()})};bF[w].XFa=function $yy(a){a=new hn(a);this.Q.w(a,jn,this.KC);this.JU[p](a)};
bF[w].KC=function $zy(a){var c;a:{var d=a[Sb];if(a[Bc]||a[Eb]||a[rc]&&!a[dd]||d==16||d==18)c=k;else{try{for(var f=a[y];f;f=f[A]){var g;var j=f,n=j[Gb],s=d==13||Jg&&d==3,v=s?Bf(zg(j)):undefined;g=d==27?k:s&&(n==kC||v[yI]||v[xo]||v.toxOdd)||n==oo&&(j[Zb]!=XF||d==32)||n==ym||n==Fka||n==KG;if(g){c=k;break a}}}catch(C){}c=h}}if(c){Fh&&this.eBa.Hxb[String[rq](a[Ob])]&&a[zb]();c=Zf();if(c-this.pZb>1E3)this.cL=I;this.pZb=c;if(c=a[Ob]>0?a[Ob]:Xeb[a[Sb]]){c=String[rq](c);this.cL+=a[dd]?c[pl]():c[od]();for(d=
0;d<this.cL[u];d++){f=this.cL[nc](d);(c=this.eBa.zCa.J(f)||i)||(c=this.eBa.zCa.J(f[od]())||i);if(c&&(!a.repeat||c.Ied)){d=new N(aE,this);d.jna=c.jna;d.ZH=a;this[r](d);a[zb]();this.cL=I;break}}}}};H(KIa,Jf);F=KIa[w];F.Y8c=function $Ay(a){a=a.f0a;if(a==this.Tn){this.CP=a;this.Tn=i}};F.X8c=function $By(a){if(a.f0a==this.Tn)this.Tn=i};F.ZG=D("Tn");var Yeb="CP";F.Ita=D(Yeb);F.L=function $Ey(){this.na.D()};H(cF,IA);H(dF,IA);F=dF[w];F.RQ=function $Fy(a){dF.C.RQ[z](this,a);for(var c=this.Uc(),d=0;d<c[u];d++)c[d].RQ(a)};F.ha=function $Gy(a){this.Jf(a,this.qj())};F.Jf=function $Hy(a,c){this.Lca([a],c)};F.Lca=function $Iy(a,c){var d=this.qj();if(a[u]&&c>=0&&c<=d){rA(this);yA++;try{var f=wBa(this);for(d=0;d<a[u];d++){var g=c+d,j=a[d];rA(j);(f||!j.Fj())&&j.Yb();this.bia(j,g);j.RQ(this.Yj);RAa(this,j,g)}j.Fj()&&this.Ui()}finally{zA()}}};
F.bia=function $Jy(a,c){if(c==this.qj())this.W()[o](this.b(),a.b());else{var d=this.b();d[Bb](a.b(),d[cc][c])}};F.Vp=function $Ky(a){var c=this.rb(a),d=tA(this,a);if(d){var f=c.Fj();c.RQ(i);this.jBa(c,a);f&&this.Ui()}return d};lk(F,function $Ly(a){if(!this.bf)return k;yA++;try{return this.Vp(ff(this.bf,a))}finally{zA()}});Aa(F,function $My(){yA++;try{for(;this.Vp(0););}finally{zA()}});F.jBa=function $Ny(a){Sg(a.b())};_B_prog(59)}catch(e){_B_err(e)}

try{H(fF,dF);F=fF[w];F.oF=function $Oy(a){for(var c=this.qj(),d=0,f=0;f<c;f++){var g=this.rb(f),j=g.KT(a),n=g.WZ(a),s=g.rK(a),v=JA(g,a);switch(s){case 0:d+=j;break;case -1:g=LA(g,a);if(!v){g=l.max(g,j);g=l.min(g,n)}d+=g;break;default:d+=j;break}}return d};F.Q3=function $Py(a){if(a==vA)return k;else{for(var c=this.qj(),d=0;d<c;d++){var f=this.rb(d);if(!JA(f,a)||!jBa(f,a))return k}return h}};F.VV=function $Qy(a){for(var c=this.qj(),d=0;d<c;d++)kBa(this.rb(d),a);MA(this,a,-1)};
F.di=function $Ry(a,c,d){this.wX(a,c,d);this.Hpa(a,c);this.J2(a,c,BA[a])};F.wX=function $Sy(a,c,d){a==vA&&c==-1?fF.C.di[z](this,a,LA(this,a),k):fF.C.di[z](this,a,c,d)};F.Hpa=function $Ty(a,c){this.qj()&&rBa(a,c,this.Uc(),a==this.yjc)};F.J2=function $Uy(a,c,d){var f=this.qj();if(f)for(var g=0;g<f;g++){var j=this.rb(g),n=d[j.ea()];j.ip(a,n,this.hjc(a,c,j,n))}};F.hjc=function $Vy(a,c,d,f){return this.yjc==Wx&&a==vA&&f==c};H(gF,fF);F=gF[w];F.LEa=wB;F.jAc=wB;F.Vh=function $Wy(){gF.C.Vh[z](this);var a=this.wa;if(this.Igc){this.rq=this.W()[Qb](T);m(this.rq,Ldb);this.vN=this.rq[x];this.W()[o](a,this.rq)}else{this.rq=a;this.vN=this.cLa}};F.L=function $Xy(){this.vN=this.rq=i;gF.C.L[z](this)};F.wX=function $Yy(a,c,d){gF.C.wX[z](this,a,c,d);if(this.jAc!=this.LEa){Ja(this.cLa,this.LEa==wB?I:ee);Ja(this.vN,this.LEa==wB?I:sd)}};var Zeb="I8";
F.bia=function $Zy(a,c){var d=a.b();if(mfa.J()){d=this.W()[Qb](T);m(d,Zeb);Q(d,MH);if(c==this.qj()){this.rq[o](d);this.rq[o](a.b())}else{c=this.rq[cc][c*2];this.rq[Bb](d,c);this.rq[Bb](a.b(),c)}}else c==this.qj()?this.rq[o](d):this.rq[Bb](d,this.rq[cc][c])};F.jBa=function $_y(a){mfa.J()&&Sg(a.b()[pc]);Sg(a.b())};H(NIa,uh);H(WIa,uh);H(XIa,N);WIa[w].lka=function $0y(a){a[Zb]==Bz&&ZIa(this,a[y]);this[r](new XIa(a[Zb],a[y]))};WIa[w].L=function $1y(){Kf(this.Q);this.Q=i};H(lF,pB);F=lF[w];F.Zg=E("Save settings");F.Eg=E(h);F.Yc=function $4y(a,c){this.XA.set(a,c)};F.Wd=D("Kv");var afb="p_",bfb="dp";F.Ja=function $6y(a){for(var c=new Hf,d=this.XA.Sb(),f=[],g=0;g<d[u];g++){var j=d[g],n=this.XA.J(j);n==dM&&Ye(n)?f[p](j):c.set(afb+j,n);j==gN&&this.Z[hq](d8a)&&a.Ua(LD,Fi)}f[u]>0&&c.set(bfb,f);lF.C.Ja[z](this,a);dFa(a,c);a.Ne(mB);a.wl(!!this.bh)};H(mF,uh);Nx(Mx(),48,function(b){return new mF(b)},0);F=mF[w];F.rR=i;var cfb="reload";F.YLa=function $7y(){this.pQ=cfb;bJa(this)};F.N7c=function $8y(){this[r](YD);this.pQ=this.dX.x4};F.il=function $9y(){return this.dX.il()};F.Xld=function $$y(a){a=a[dq][1];nh(this.xf.ud,Gx(NE),i,k,this);if(a!=this.pQ){this.pQ=a;bJa(this)}};F.wh=B();F.txb=Ge("QDa");F.D=function $cz(){this.dX.D();if(this.rR){this.rR[Rq]||this.rR[Xk]();this.rR=i}mF.C.D[z](this)};H(pF,Jf);pF[w].L=function $dz(){this.wg&&Sg(this.wg);this.dE=this.wg=i};pF[w].gp=function $ez(a){var c=qF(this);if(uca in c)c.textContent=a;else{for(;c[nha]();)c[Nc](c[Tb]);c[o](this.dE[yb](a))}};H(rF,fF);rF[w].PNa=sw;rF[w].nIb=-1;rF[w].mIb=I;var dfb=L||Fh&&!vg(vDa);F=rF[w];F.Vh=function $fz(){rF.C.Vh[z](this);var a=this.wa;this.rq=this.W().ba(T,{className:yP});this.vN=this.rq[x];this.D5=this.W()[Qb](T);m(this.D5,zF);this.W()[o](a,this.rq);this.W()[o](a,this.D5)};F.L=function $gz(){this.D5=this.vN=this.rq=i;rF.C.L[z](this)};F.wX=function $hz(a,c,d){rF.C.wX[z](this,a,c,d&&(!dfb||this.PNa==sw));a=this.PNa==sw?I:yE;if(this.mIb!=a){this.mIb=a;if(L)this.vN.styleFloat=a;else this.vN.cssFloat=a}};
F.J2=function $iz(a,c,d){var f=this.qj();if(f){if(a==vA){for(var g=0,j=0;j<f;j++)g+=d[this.rb(j).ea()];f=g<=c?-1:g;if(this.nIb!=f){this.nIb=f;ka(this.vN,NA(f))}}rF.C.J2[z](this,a,c,d)}};F.bia=function $jz(a,c){var d=a.b();K(d,s7a);c==this.qj()?this.rq[o](a.b()):this.rq[Bb](d,this.rq[cc][c])};F.jBa=function $kz(a){a=a.b();Ag(a,s7a);this.W()[ad](a)};H(sF,gF);F=sF[w];F.AG=0;F.zG=0;F.Zu=0;F.yG=0;F.CL=0;F.gQ=0;F.AL=0;F.BL=0;F.YHa=-1;F.gta=function $lz(){return new Bm(this.AG,this.zG,this.Zu,this.yG)};F.mK=function $mz(a){return a==vA?this.yG+this.zG+this.BL+this.gQ:this.AG+this.Zu+this.CL+this.AL};
F.Vh=function $nz(){sF.C.Vh[z](this);Q(this.wa,this.qAa?this.qAa:SJa(this.AG,this.zG,this.Zu,this.yG,this.CL,this.gQ,this.AL,this.BL));this.W8b=this.AG;this.V8b=this.zG;this.T8b=this.Zu;this.U8b=this.yG;this.e9b=this.CL;this.d9b=this.gQ;this.b9b=this.AL;this.c9b=this.BL;this.JHa=k};
F.Mcc=function $oz(a){var c=a[Daa],d=a.padding;this.qAa=i;var f=c||new Bm(this.AG,this.zG,this.Zu,this.yG);if(f.top<0||f[rl]<0||f[fl]<0||f[Ck]<0)e(Error(".133`"+f.top+qw+f[Ck]+qw+f[rl]+qw+f[fl]));var g=d||new Bm(this.CL,this.gQ,this.AL,this.BL);if(f.top+g.top<0||f[rl]+g[rl]<0||f[fl]+g[fl]<0||f[Ck]+g[Ck]<0)e(Error(".134"));if(c)TJa(this,c.top||0,c[rl]||0,c[fl]||0,c[Ck]||0);if(d)UJa(this,d.top||0,d[rl]||0,d[fl]||0,d[Ck]||0);if(!this.wa)this.qAa=a.yn};
F.JXa=function $pz(a,c,d,f){this.qAa=i;var g=this.AG,j=this.zG,n=this.Zu,s=this.yG;if(Ke(a)&&!mm(a)){g=Ke(a.top)?a.top:g;j=Ke(a[rl])?a[rl]:j;n=Ke(a[fl])?a[fl]:n;s=Ke(a[Ck])?a[Ck]:s}else{g=Ke(a)?a:g;j=Ke(c)?c:j;n=Ke(d)?d:n;s=Ke(f)?f:s}if(g<0||j<0||n<0||s<0)e(Error(".133`"+g+qw+s+qw+j+qw+n));if(g+this.CL<0||j+this.gQ<0||n+this.AL<0||s+this.BL<0)e(Error(".134"));TJa(this,g,j,n,s)};
F.U1=function $qz(a,c,d,f){this.qAa=i;var g=this.CL,j=this.gQ,n=this.AL,s=this.BL;if(Ke(a)&&!mm(a)){g=Ke(a.top)?a.top:g;j=Ke(a[rl])?a[rl]:j;n=Ke(a[fl])?a[fl]:n;s=Ke(a[Ck])?a[Ck]:s}else{g=Ke(a)?a:g;j=Ke(c)?c:j;n=Ke(d)?d:n;s=Ke(f)?f:s}if(g+this.AG<0||j+this.zG<0||n+this.Zu<0||s+this.yG<0)e(Error(".134"));UJa(this,g,j,n,s)};
F.L=function $rz(){this.Q6a=this.T6a=this.avb=this.C4a=this.zAb=this.x4a=this.A4a=this.vAb=this.xAb=this.R6a=this.U6a=this.Okb=this.w4a=this.bvb=this.uAb=this.y4a=this.B4a=this.wAb=this.yAb=i;sF.C.L[z](this)};F.oF=function $sz(a){return this.mK(a)+sF.C.oF[z](this,a)};F.VV=function $tz(a){sF.C.VV[z](this,a);VJa(this)};F.bia=function $uz(a,c){if(c==this.qj())this.W()[o](sJa(this),a.b());else{var d=sJa(this);d[Bb](a.b(),d[cc][c])}};
F.di=function $vz(a,c,d){VJa(this);sF.C.di[z](this,a,c,d);if(a==Wx){a=this.mK(a);c=c==-1?-1:l.max(c-a,0);if(this.YHa!=c){this.YHa=c;if(!this.Q6a)this.Q6a=sJa(this)[x];Wa(this.Q6a,NA(c))}}};F.wX=function $wz(a,c,d){if(a==vA||c==-1||c<this.mK(Wx))sF.C.wX[z](this,a,c,d);else{gBa(this,Wx,c);if(this.O3!=-1){this.O3=-1;Wa(KA(this),NA(-1))}}};F.Hpa=function $xz(a,c){if(c!=-1)c=l.max(c-this.mK(a),0);sF.C.Hpa[z](this,a,c)};F.J2=function $yz(a,c,d){if(c!=-1)c=l.max(c-this.mK(a),0);sF.C.J2[z](this,a,c,d)};_B_prog(60)}catch(e){_B_err(e)}

try{H(BF,AD);var CF=new Bm(4,4,4,4);F=BF[w];F.za=function $zz(){return this.ia.rb(0)};F.LXa=function $Az(a){DF(this,this.gta(),a)};F.gta=function $Bz(){return this.ia.gta()};F.JXa=function $Cz(a){DF(this,a,this.yJa)};F.U1=function $Dz(a){this.ia.U1(a)};F.so=function $Ez(a){var c=this.ia;yA++;try{this[Nc]();c.ha(a)}finally{zA()}};lk(F,function $Fz(){return this.ia.Vp(0)});H(IKa,BD);var efb={103:106836};F=IKa[w];F.qa=FF;F.FSa=0;F.hca=i;F.u0=h;F.Iaa=i;F.xc=D(Yj);F.gqb=function $Hz(){var a=OKa(this)==i?0:500;LKa(this,a,Zf())};F.R6b=function $Iz(){this.hca=i;this.FSa=0;this.Pa()};var ffb="ERROR";F.Pa=function $Jz(){var a=Zf(),c;if(c=this.xf.ud.KS){this.Fv&&kIa(this.Fv,a)||!(c.hm()==103&&c.C0&&c.C0==1)&&this.EG(ffb,a);c=h}else c=k;c||NKa(this,a)||QKa(this,a)||this.EG(FF,a)};var bQ="tn";
F.EG=function $Kz(a){var c=this.qa!=a;this.qa=a;a=this.qa!=FF;switch(this.qa){case ffb:var d=this.xf.ud,f=d.KS,g=d.xc();f=f.hm();var j=-1;if(g==vIa)j=d.w6();var n;if(j>0){d=Zf();n=this.a7a(j-d);LKa(this,1E3,d)}d=efb[f];n={NG:nx(f,3),xla:n,hic:this.X(bQ),io:d?Yz(this.Lb,d):i};f=this.u0?mKa(n):xKa(n);Q(this.EP.b(),f);n=this.u0?CKa(n):EKa(n);Q(this.v1.b(),n);break;case MKa:c&&SKa(this);break;case PKa:c&&RKa(this);break;case FF:default:break}this.qc(a);if(c&&a){this.EP.qe();this.v1.qe()}};
F.NXa=function $Lz(a){IKa.C.NXa[z](this,a)&&this[r](JF)};F.nUc=function $Mz(a){if(this.qa==ffb){a=(this.u0?a==this.EP?aKa:cKa:a==this.EP?pKa:rKa)();a=fJa(a,this.Y,HKa);a+=20;return a}else return ZFa(a)};F.Wpb=function $Nz(){this.u0=this.Fv.u0;this.Pa()};var gfb="1s";F.a7a=function $Oz(a){a=l[rb](a/1E3);if(a<=1)return gfb;else if(a<90)return a+ki;else{var c=l[rb](a/60);a%=60;return c+(xj+nx(a,2))}};F.He=function $Pz(a){OKa(this)[r](new yEa(a));a[y].id==this.X(bQ)&&wIa(this.xf.ud)};
F.D=function $Qz(){this.hca&&cA(this.hca);IKa.C.D[z](this)};H(UKa,kn);F=UKa[w];F.Rva=-1;F.z0=0;F.Fc=function $Rz(a){this.AAa=a;this.Rva==-1&&WKa(this,a)};F.ZM=function $Sz(a){var c=this.z0++;this.Sh[p](new VKa(c,a));this.ab[Rc]();return c};F.rW=function $Tz(a){for(var c=0;c<this.Sh[u];c++)if(this.Sh[c].id==a){kf(this.Sh,c);if(this.Rva==c){WKa(this,this.AAa);this.Rva=-1}return h}return k};F.MWc=function $Uz(){var a=this.Rva+1;if(a>=this.Sh[u])a=-1;if(a==-1){WKa(this,this.AAa);this.Sh[u]==0&&this.ab[qc]()}else WKa(this,this.Sh[a].ke);this.Rva=a};H(HF,xx);HF[w].wT=function $Vz(a){var c=Ii,d=Rz(this.Bc.B());im(a)||(c+=NK+a+NK+d.Sj());return c};HF[w].wT.Vd=h;H(NF,BD);yx(HF,NF);var hfb=[];F=NF[w];F.L=function $Wz(){NF.C.L[z](this);this.C_a.D();this.zcc=i};F.JD=function $Xz(){yA++;try{this.i7();var a=this.ia;lea&&a.ha(cLa(this))}finally{zA()}};F.Pic=function $Yz(){hm(this.zcc,R7a,!this.did.ps())};F.i7=B();F.ma=function $_z(){NF.C.ma[z](this);if(qga&&L&&!vg(Ij)){var a=this.Yj;this.H().w(a,mO,this.egd)}};F.egd=function $0z(){if(!this.pVb)if(!(!L||vg(Ij))){var a=lC(this.B());mC(a,this.UMc,this);this.pVb=h}};
F.UMc=function $1z(){var a=this.ia.b();m(a,a[uc]);this.pVb=k};F.UH=function $2z(){wD(this.B());this.atc=h;var a=this.B();this.Wdc();if(this.B().eN()){a=a.J(oy);a.XFa(this.jNb.Fp());this.H().w(a,aE,this.spb)}a=this.H();this.B();if(L){var c=this.jNb.Fp();a.w(c,Tea,this.Vob);a.w(c,Uea,this.gob)}else{c=sD(this.Bd);a.w(c,lj,this.Vob,h);a.w(c,kj,this.gob,h);c=sD(this.qUa);a.w(c,lj,this.Vob,h);a.w(c,kj,this.gob,h)}a=bi(fx(Je[Ic][Yc],"//www.google.com/setgmail"));(new Image).src=a[t]();this.B().Ya()[r](GF)};
F.Wdc=function $3z(){if(!this.Xdc){this.Xdc=h;this.H().w(OF,Ky,this.bXb)}this.bXb()};var ifb="\r";F.bXb=function $4z(){var a;a=this.B().J(Ky);var c=dLa(this.B());for(var d in c)for(var f=c[d][Cc](BOa),g=0;g<f[u];g++){var j=f[g];a.zCa.set(j,new JIa(d,j,h));a.Hxb[j[nc](0,1)]=1}a.zCa.set(ifb,new JIa(lM,ifb,void 0));a.Hxb["\r"[nc](0,1)]=1};F.spb=B();F.Vob=function $6z(){var a=this.xB;if(h!=a.Yca){a.Yca=h;a[r](IF)}};F.gob=function $7z(){var a=this.xB;if(k!=a.Yca){a.Yca=k;a[r](IF)}};F.zc=E(i);
F.qQb=function $9z(){var a=this.zc();return a?a.md():i};F.Ox=function $$z(a,c){a=this.mw.Ox(this,this.wQb(),this.B(),a,c);return this.C_a.Tn=a};F.ZG=function $aA(){return this.C_a.ZG()};F.Ita=function $bA(){return this.C_a.Ita()};F.b3a=function $cA(){this.zc()&&fHa(this.xl.Xv)};F.BHb=B();F.fqb=B();F.Ujb=function $fA(a,c){a=this.Xta();return c==4||this.Zha&&a&&a.md()==YK&&c==3};F.Bob=function $gA(a){a=a.Pg;a.iaa==Wn&&this.Qs(a)};F.CP=i;F.Qs=Ge(Yeb);F.Epb=B();F.FTa=B();
F.uka=function $kA(a){CD()||QBa(PBa(this.B())).tka(a.yL,a.m3b,a.o2b,a.dQb,a.F2b);this.i1b(a)};F.i1b=B();F.qTa=function $mA(){oD(this.B()).dk(this);pD(this.B()).dk(this)};F.JYc=function $nA(){this.xB.lf()};var jfb="manual";F.s0c=function $oA(){var a=this.B().J(XC);aDa(a,Zf(),jfb)};F.fcb=function $pA(a){return TD(this.B()).fcb(a)};F.YFc=function $qA(){return this.Aa.za(LC)};F.iZ=B();F.oRb=function $sA(){return Qab};
F.Via=function $tA(a){var c=this.B();vMa(dE(c));a=this.Ox(this.oRb(),a||fea).TR;KE(a,kfb,loadTimes[0]);KE(a,lfb,loadTimes[1]);KE(a,mfb,loadTimes[2]);KE(a,nfb,loadTimes[3]);KE(a,ofb,loadTimes[4]);KE(a,pfb,loadTimes[5]);var d=0;delete hfb;var f=hA(c);if(hfb){var g=G(function(){if(d==hfb[u]){this.iZ();Mx().Kh(6)}else hfb[d++](f,g)},this);g()}else{this.iZ();Mx().Kh(6)}};H(SF,N);H(TF,N);H(fLa,N);H(function(b,a){N[z](this,nP,b);la(this,a)},N);H(YF,Jf);F=YF[w];F.H=D(KP);F.oM=Ge(KP);F.wma=E(0);F.yna=function $xA(a){this.FAb(a)};F.FAb=function $yA(a){this.na.uFb();this.ld=a};F.P5=D(XI);La(F,function $AA(){e(Error(".0"))});F.gec=function $BA(){return!!this.ld};F.wRb=E(i);H(ZF,YF);ZF[w].D=function $DA(){nh(this.ob,Hh,this.cva,k,this);nh(this.ob,Ih,this.YUb,k,this);this.ob.D();this.ob=i;ZF.C.D[z](this)};YF[w].wma=function $wA(a){var c=a.QC;if(c)if(oLa(c))return 0;if(a.gia&&!a.K8b)return 0.9;return 0.5};F=ZF[w];var cQ="rt";F.yna=function $EA(a){this.FAb(a);a.Ua(cQ,oA);this.lec(a)?this.ob[Mb](a.uc()):this.ob[Mb](a.uc(),Aj,sLa(this,a))};La(F,function $FA(a){this.qG=a;this.ob[wc](7)});
F.cva=function $GA(a){var c=a[y];if(c.ye()){if(c.dj()[u]>0){a:{a=c.dj();a=a[Zc](a[Db](ch));var d;try{d=ix(a)}catch(f){d=new nB(this.P5(),10);this.H().bQ(d);break a}Ve(d)&&this.H().cfb(d[0]);this.H().WH()}return}this.qG=104}var g=this.qG;this.qG=0;d=c.hf();a=c.eo;var j;if(g)j=g;else if(a==6){j=c.dj();if(c=j[Kb](Neb))j=700+da(c[1],10);else j=(c=j[Kb](Oeb))?Tj+c[1]:i}j||(j=rLa(a,NaN,d));d=new nB(this.P5(),j);this.H().bQ(d)};F.YUb=function $HA(){this.H().Uba()};F.lec=function $IA(a){return a.Lib&&!a.RC};H(tLa,uh);F=tLa[w];F.uRa=0;F.dcd=function $JA(a){var c=this.xt;try{this.xt=a;a.Lc=i;a.Eg()||XBa(a);aCa(a)}finally{this.xt=c}};ua(F,function $KA(a){this.iQ.MG(a);this[r](vLa);wLa(this)});F.WH=function $LA(a){if(a==this.xt)if(!this.xt.Eg()){this.wVa.MG(this.xt);this.xt=i;this[r](vLa)}};F.tqb=function $MA(a){if(a.Eg()){if(a==this.xt){this.xt=i;this[r](vLa)}}else for(a=this.wVa.hQ();a&&a.xc()==YBa;){this.wVa.ly();a=this.wVa.hQ()}};
La(F,function $NA(a){if(a==this.xt){a=this.xt.P5();a.xG||a[wc]()}else a.h2a=h});F.w_b=function $OA(){this.uRa++};F.vic=function $PA(){this.uRa--;this.uRa==0&&wLa(this)};F.Ya=function $QA(){return this};H(aG,Jf);var BLa=ifa.J()?3E4:12E4,ALa=ifa.J()?1E4:2E4;aG[w].L=function $RA(){if(this.MVa){this.MVa.D();this.MVa=i}if(this.Mw){this.Mw.D();this.Mw=i}aG.C.L[z](this)};aG[w].U4b=function $SA(){this.CLb=Zf()};aG[w].E5c=function $TA(){zLa(this,k)};_B_prog(61)}catch(e){_B_err(e)}

try{H(bG,uh);bG[w].a9a=function $UA(a,c){var d=a.Je();this.bFa[d]|=Ke(c)?c:65535;CLa(this,a,d);this.HD<=0&&delete this.bFa[d]};bG[w].c9a=function $VA(a,c){c=a.Je()+xj+c;DLa(this,c,c);CLa(this,a,c)};bG[w].Qf=function $WA(){this.HD++;this.HD==1&&bG.C[r][z](this,FG)};var qfb=";7";
bG[w].Mf=function $XA(){this.HD--;if(this.HD==0){for(var a=this.GEa.Sb(),c=0;c<a[u];c++){var d=a[c],f=this.GEa.J(d);f=new FLa(d,f,this.bFa);this.GEa[Pb](d);try{jx(this,d,k,f)}catch(g){rg(tg,qfb,g)}}this.bFa={};bG.C[r][z](this,ED)}else if(this.HD==-1){this.HD=0;e(Error(".135"))}};H(FLa,N);H(KLa,hy);F=KLa[w];F.L=function $YA(){this.Fh.D();KLa.C.L[z](this);if(this.g1){this.g1.D();this.g1=i}};F.tQc=h;F.cj=function $ZA(a,c){Ve(a)||(a=iya(a));if(a[u]==0||a[0]!=this.vn())return i;if(a[u]==1)return this;return jy(this,a[lb](1),c)};F.Ya=D(lO);F.Qf=function $0A(){this.Fh.Qf()};F.Mf=function $1A(){this.Fh.Mf()};F.rg=function $2A(){for(var a=this.Uc().Oa(),c=i;c=a.pop();){c.QK&&c.QK();if(c.hC()&8){c=c.Uc().Oa();for(var d=0;d<c[u];d++)a[p](c[d])}}};F.B=D(JF);F.pwb=Ge(JF);
F.a9a=function $5A(a,c){this.Fh.a9a(a,c)};F.c9a=function $6A(a,c){this.Fh.c9a(a,c)};F.M5b=function $7A(a,c){for(var d=0;d<this.YY[u];d++)try{this.YY[d].M5b(a,c)}catch(f){}};F.N5b=function $8A(a){for(var c=0;c<this.YY[u];c++)try{this.YY[c].N5b(a)}catch(d){}};F.O5b=function $9A(a){for(var c=0;c<this.YY[u];c++)try{this.YY[c].O5b(a)}catch(d){}};F.Ypb=function $$A(a){for(var c=0;c<this.YY[u];c++)try{this.YY[c].Ypb(a)}catch(d){}};H(LLa,uh);hk(LLa[w],function $aB(a){a=typeof a==Xe?this.E9.jAa[a]:a;a!=this.XR?this.jb[bq](OLa(this,a).ARc||a.iMb):this.jb[bq](a.iMb)});LLa[w].BEa=function $bB(a){var c=this.E9.n8b[a[Wq]];if(c&&c!=this.XR){var d=this.XR;if(this.XR){var f=OLa(this,this.XR).EJ;f&&this.H8&&this.H8.daa(f)}this.XR=c;(f=OLa(this,c).EJ)&&this.H8&&KVa(this.H8,f,99);this[r](new NLa(this,d,c))}if(c)OLa(this,c).ARc=a};
LLa[w].cCa=function $cB(a,c){var d=OLa(this,a),f=d.EJ;d.EJ=c;if(a==this.XR&&this.H8){f&&this.H8.daa(f);c&&KVa(this.H8,c,99)}};H(PLa,xx);F=PLa[w];F.D=B();F.D.Ka=h;F.ojb=B();F.ojb.ic=h;F.bQ=B();F.bQ.ic=h;F.vqb=B();F.vqb.ic=h;F.e2a=B();F.e2a.ic=h;F.J5a=B();F.J5a.ic=h;F.iX=B();F.iX.ic=h;F.dBa=B();F.dBa.ic=h;F.Eoa=B();F.Eoa.ic=h;F.bfb=B();F.bfb.ic=h;H(eG,YE);yx(PLa,eG);F=eG[w];F.ywa=h;F.D=function $nB(){if(!this.Pc){eG.C.D[z](this);this.aa.D();this.mw=i}};F.f2a=function $oB(){this.aa.e2a()||eG.C.f2a[z](this)};F.kmb=function $pB(a,c){return this.aa.bfb(a,c)};var rfb="nsc",sfb="seid";F.D2a=function $qB(){eG.C.D2a[z](this);this.aQa&&this.mw?HIa(this.mw):this.ld.Ua(rfb,1);this.vv&&tMa(this.vv);this.aQa&&this.Nhd&&!this.ld.Lib&&this.ld.Ua(sfb,Vfa)};F.zfd=function $rB(){pIa(this)};var tfb=":13",dQ="init";
F.GAb=function $sB(){if(this.aa.ojb())bA(tfb,this.zfd,200,this);else{this.ywa&&this.ld.Rc(pd)&&this.ld.rwa&&this.ld.Rc(dQ)!=Hj&&this.aQa&&!this.Xsb&&this.ld.Ua(dQ,Hj);eG.C.GAb[z](this);this.Cuc=k}};F.WH=function $tB(){if(this.qa!=ZE)e(Error(".128"));var a=this.ld,c=eG.C.WH[z](this);if(c){if(this.ywa&&a.Rc(pd)&&a.rwa)this.ywa=k;this.aa.vqb()}return c};var eQ="err";
F.OTa=function $uB(a){this.mw&&this.mw.Hz(eQ+a.hm(),this.ld.C0);if(this.qa!=ZE)e(Error(".129"));this.ywa&&this.ld.Rc(dQ)==Hj&&this.ld.Ua(dQ,Ah);this.aa.bQ(a)||eG.C.OTa[z](this,a)};F.NRb=function $vB(a){if(!a.yIb())return a;var c=this.zu.hQ();if(!c||!c.BIb(a))return a;if(c.Rc(W3a)||c.Rc(GA))return a;c=this.zu.ly();c.rid(a);return c};F.MUb=function $wB(a,c){if(a&&c.Rc(pd)==QN&&c.Rc(fG)!=EE){bA(tfb,G(this.Plb,this,k),50);return k}return h};
F.UNa=function $xB(a){eG.C.UNa[z](this,a);if(this.YR.gec()&&this.ld&&this.J3){a=a[4];var c=Zf()-this.ld.NQa-this.ld.vNa();this.J3.Zma.add(a/c*8E3)}};F.b1=function $yB(a,c){eG.C.b1[z](this,a,c)};F.eec=function $zB(a){return!a.vW||DD()};F.CIa=function $AB(){if(this.ld)this.aa.J5a()||eG.C.CIa[z](this)};F.iX=function $BB(){this.aa.iX()};F.Eoa=function $CB(a){this.aa.Eoa(a)};F.dBa=function $DB(a){this.aa.dBa(a)};top._A=_A;H(SLa,YF);F=SLa[w];F.vOb=k;F.wma=function $EB(a){if(this.Shc||this.vOb)return 0;else if(this.xDc!=a.Rc(pd)){this.vOb=h;return 0}return 1};var ufb=":14";F.yna=function $FB(a){SLa.C.yna[z](this,a);this.Shc=Zf();this.nna=dA(ufb,this.Wmd,20,this)};La(F,function $GB(){this.ld=i});F.gec=E(k);
F.Wmd=function $IB(){var a,c=k;if(top.VIEW_DATA){this.na.cfb(top.VIEW_DATA);this.ld=i;this.na.WH();this.na.Uba();top.VIEW_DATA=i;a=vfb;c=h}else if(top.VIEW_DATA_SE!=undefined&&top.VIEW_DATA_SE!=i){this.na.bQ(new nB(this.ld,700+top.VIEW_DATA_SE));this.ld=i;this.na.Uba();top.VIEW_DATA_SE=i;a=wfb;c=h}else if(Zf()-this.Shc>6E4){this.na.bQ(new nB(this.ld,101));this.ld=i;this.na.Uba();a=xfb;c=h}if(c){a&&this.vv.pb(a);if(this.nna){eA(this.nna);this.nna=i}}};
F.D=function $JB(){if(this.nna){eA(this.nna);this.nna=i}SLa.C.D[z](this)};var jG;H(gG,uh);var VLa={},ULa=0;F=gG[w];F.Nh=i;F.xe=i;F.A_=i;F.IWc=0;F.ng=k;F.gy=k;F.Nv=k;F.c8=i;F.QQa=i;F.eo=0;F.lX=0;F.hD=i;F.nPb=i;F.y_=i;var yfb="form",zfb="utf-8";ua(F,function $KB(a,c,d,f){if(this.ng)e(Error(".136"));this.c8=a=new Sh(a);c=c?c[pl]():zj;d&&bi(a);if(!jG){jG=Aw(yfb);jG.acceptCharset=zfb;d=jG[x];Ja(d,sd);Fa(d,yd);d.top=ck(d,bMa);ka(d,Wa(d,hG));rp(d,yd);ea[Lc][o](jG)}this.Nh=jG;c==zj&&YLa(this.Nh,a.Of());f&&YLa(this.Nh,f);Op(this.Nh,a[t]());this.Nh.method=c;aMa(this)});
La(F,function $LB(a){if(this.ng){ph(jMa(this));this.Nv=this.ng=this.gy=k;this.eo=a||7;this[r](Dj);fMa(this)}});F.L=function $MB(){this.ng&&this[wc]();gG.C.L[z](this);this.xe&&gMa(this);hMa(this);delete this.rab;this.c8=this.cZb=this.QQa=this.aZb=this.Nh=i;this.eo=0;delete VLa[this.Jb]};F.jm=D("gy");var Afb="Nv";F.ye=D(Afb);F.Eb=D(Ej);F.dj=D("QQa");F.Mdb=function $RB(){return yh(this.QQa)};var Bfb="c8";F.zRb=D(Bfb);F.Kga=function $TB(){return Owa(this.eo)};F.X1=function $UB(a){this.lX=l.max(0,a)};
ra(F,function $VB(a){this.xe&&bda(Nh,this.xe);try{gG.C[r][z](this,a)}finally{this.xe&&cda(Nh)}});var Cfb="about:blank";F.kpb=function $WB(){if(this.xe[Nb]==Hh){nh(this.xe,Lh,this.kpb,k,this);var a;try{a=om(this.xe);if(L&&a[Ic]==Cfb&&!bp[uma]){this.Po(9);return}}catch(c){this.Po(1);return}this.Rua(a)}};F.hza=function $XB(){if(!(Ng&&iMa(this)[Ic]==Cfb)){nh(jMa(this),rj,this.hza,k,this);this.Rua(iMa(this))}};
F.Rua=function $YB(a){this.gy=h;this.ng=k;var c;try{var d=a[Lc];this.QQa=d.textContent||d[waa];this.aZb=d[wk]}catch(f){c=1}var g;if(!c&&typeof this.rab==Se)if(g=this.rab(a))c=4;if(c)this.Po(c,g);else{this.Nv=h;this.eo=0;this[r](Hh);this[r](Mh);fMa(this)}};F.Po=function $ZB(a,c){if(!this.wab){this.ng=this.Nv=k;this.gy=h;this.eo=a;if(a==4)this.cZb=c;this[r](Hh);this[r](Kh);fMa(this);this.wab=h}};F.qfb=function $_B(a){this[r](new lMa(a))};
F.l9a=function $0B(){if(this.y_){Eh(this.y_);this.y_=i}for(var a=0;a<this.Kva[u];){var c=this.Kva[a];if(Nh.Lf?!Nh.GY[Ye(c)?c:af(c)?bf(c):I]:h){kf(this.Kva,a);Sg(c)}else a++}if(this.Kva[u]!=0)this.y_=Dh(this.l9a,2E3,this)};F.ehc=function $1B(){if(this.ng){iMa(this);this.nPb=Dh(this.ehc,250,this)}};H(lMa,N);H(mMa,YF);F=mMa[w];F.D=function $2B(){nh(this.tv,Hh,this.mUb,k,this);nh(this.tv,Ih,this.oUb,k,this);nh(this.tv,kMa,this.nUb,k,this);this.tv.D();this.tv=i;mMa.C.D[z](this)};F.wma=function $3B(a){if(a.jHb)return 0.1;if(!a.gia)return 0.9;return 0.5};F.Zua=function $4B(){this.ld.jHb=h;this[wc](101)};F.fqa=function $5B(){if(this.QI){cA(this.QI);this.QI=i}};var Dfb=":15";
F.yna=function $6B(a){mMa.C.yna[z](this,a);a.Ua(cQ,Yx);var c=a.Rc(fG);if(c!=wO&&c!=EE)this.QI=bA(Dfb,this.Zua,6E4,this);if(a.QC!=i)ZLa(this.tv,a.QC,a.uc(),h);else if(a.RC==i&&!a.Rc(fG))this.tv[Mb](a.uc(),zj,a.Lib);else{c=i;if(a.RC)c=a.RC;this.tv[Mb](a.uc(),Aj,h,c)}};La(F,function $7B(a){this.fqa();this.qG=a;this.tv[wc](7)});F.mUb=B();
F.oUb=function $9B(){this.fqa();this.na.Acd();var a=this.na.osc();a&&!this.tv.ye();if(a||this.tv.ye())this.na.WH();else{if(this.qG){a=this.qG;this.qG=0}else a=rLa(this.tv.eo,this.tv.cZb,undefined);this.na.bQ(new nB(this.ld,a))}this.na.Uba()};F.nUb=function $$B(a){this.na.UIc(a[dq])};F.wRb=function $aC(){return this.tv.aZb};_B_prog(62)}catch(e){_B_err(e)}

try{var mG,oMa,Efb="Shockwave Flash",Ffb="Shockwave Flash 2.0",Gfb="2.0.0.11",Hfb="application/x-shockwave-flash",Ifb="ShockwaveFlash.ShockwaveFlash.7",Jfb="$version",Kfb="ShockwaveFlash.ShockwaveFlash.6",Lfb="6.0.21",Mfb="ShockwaveFlash.ShockwaveFlash";
(function(){function b(n){n=n[Kb](/[\d]+/g);Ia(n,3);return n[kd](He)}var a=k,c=I;if(bp[Eq]&&bp[Eq][u]){var d=bp[Eq][Efb];if(d){a=h;if(d[qr])c=b(d[qr])}if(bp[Eq][Ffb]){a=h;c=Gfb}}else if(bp[vb]&&bp[vb][u]){if(a=(d=bp[vb][Hfb])&&d[Bma])c=b(d[Bma][qr])}else try{d=new ActiveXObject(Ifb);a=h;c=b(d.GetVariable(Jfb))}catch(f){try{d=new ActiveXObject(Kfb);a=h;c=Lfb}catch(g){try{d=new ActiveXObject(Mfb);a=h;c=b(d.GetVariable(Jfb))}catch(j){}}}mG=a;oMa=c})();F=pMa[w];F.pb=function $bC(a){this.hW(a.lC())};F.jj=function $cC(a,c){this.hW(a.lC()+Qd+c)};F.zF=function $dC(a,c){this.hW(a.lC()+Qd+c)};F.hW=function $eC(a){rMa(this,a)&&this.NUa[p](a)};F.u7=function $fC(a){qMa(this,a.lC())};F.ENc=function $gC(a,c){qMa(this,a.lC()+c)};F.cma=function $hC(a,c){a=a.lC();rMa(this,a)&&this.u9.set(a,c)};Aa(F,function $iC(){Ia(this.NUa,0);this.u9[bc]()});
var yMa=oG(Pd),wMa=nG("bf-i"),xMa=nG("bf-n"),Nfb=nG("tl-v"),Ofb=nG("tl-r"),Pfb=oG("tl-s"),Qfb=nG("tl-f"),Rfb=oG("tl-si"),Sfb=nG("cv-v"),Tfb=nG("cv-p"),Ufb=oG("cv-pfn"),Vfb=nG("cv-b"),Wfb=nG("cv-t"),Xfb=nG("cv-pa");nG("cv-fa");nG("cv-ac");
var Yfb=oG("cd-da"),Zfb=nG("cd-ei"),agb=nG("cd-i"),bgb=nG("cd-ia"),cgb=pG("cd-tm"),dgb=nG("cd-r"),egb=nG("cd-ra"),fgb=nG("cd-f"),ggb=nG("cd-rbc"),hgb=nG("cd-ic"),igb=nG("cd-c"),jgb=nG("cd-e"),kgb=nG("co-rt"),lgb=nG("co-o"),mgb=nG("co-ra"),ngb=nG("co-f"),ogb=nG("co-p"),pgb=nG("co-d"),qgb=nG("co-so");nG("co-tm");var rgb=nG("co-mu"),k0a=pG("pf-s"),sgb=oG("pf-np"),tgb=oG("pf-nup"),ugb=oG("pf-cl"),vgb=nG("pf-r"),wgb=nG("pf-u"),xgb=nG("ma-tl-o");oG("ma-tl-s");var ygb=nG("ma-cv-o");oG("ma-cv-s");
var zgb=nG("mt-tl-o"),Agb=nG("mt-tl-s-"),Bgb=nG("mt-cv-o"),Cgb=nG("mt-cv-s-"),Dgb=nG("la-tl-o"),Egb=nG("la-tl-s-"),Fgb=nG("la-cv-o"),Ggb=nG("la-cv-s-"),Hgb=new zE(EB,"dd-tl",h,h),Igb=pG("dd-t"),Jgb=pG("dd-c"),Kgb=nG("k-tl-en"),Lgb=nG("k-y"),Mgb=nG("k-yn"),Ngb=nG("k-yp"),Ogb=nG("k-t"),Pgb=nG("k-e"),Qgb=nG("k-cv-u"),Rgb=nG("k-tl-o"),Sgb=nG("k-c"),Tgb=nG("k-rs"),Ugb=nG("k-de"),Vgb=nG("k-cv-j"),Wgb=nG("k-cv-k"),Xgb=nG("k-cv-r"),Ygb=nG("k-cv-r-n"),Zgb=nG("k-cv-ra"),ahb=nG("k-cv-ra-n"),bhb=nG("k-cv-f"),
chb=nG("k-cv-f-n"),dhb=nG("mh-s"),ehb=nG("mh-sw"),fhb=nG("mh-swl"),ghb=nG("mh-as"),hhb=nG("mh-cf"),ihb=nG("cm-d"),jhb=nG("cm-ud"),khb=nG("cm-cc"),lhb=nG("cm-bcc"),mhb=nG("cm-att"),nhb=nG("cm-ev"),ohb=nG("cm-ratt"),phb=nG("cm-rev"),qhb=nG("cm-ioa");nG("cm-rec");var rhb=oG("cm-fafp"),shb=nG("cm-dat"),thb=nG("mc-ht"),uhb=nG("mc-pt"),vhb=nG("mc-sw-pt"),whb=nG("mc-sw-ht");pG("bc-u-q");pG("bc-u-s");pG("bc-u-r");
var xhb=pG("bc-c"),yhb=pG("bc-ce"),zhb=pG("bc-ne"),Ahb=pG("bc-oe"),Bhb=pG("bc-ee"),Chb=oG("bc-se"),Dhb=oG("bc-sce"),Ehb=oG("bc-pm"),Fhb=oG("bc-um"),Ghb=pG("y-me"),Hhb=pG("y-mr"),Ihb=pG("y-ms"),Jhb=nG("qc-e"),Khb=nG("qc-c"),Lhb=oG(ex),Mhb=nG("cm-ipc"),Nhb=nG("cr-ch"),Ohb=nG("cr-ml"),Phb=nG("cr-ss"),Qhb=oG("cr-sz"),Rhb=oG("cr-scl"),Shb=nG("cr-sc");nG("cr-vs");
var Thb=nG("cml-mi"),Uhb=nG("cml-ma"),Vhb=nG("cml-pi"),Whb=nG("cml-po"),Xhb=nG("cml-off"),Yhb=nG("cml-noff"),Zhb=nG("cml-ivc"),aib=nG("cml-svc"),bib=nG("cml-sac"),cib=nG("cml-nvc"),dib=oG("cml-im"),eib=nG("cml-vrv"),fib=nG("cml-vrc"),gib=nG("cml-vnav"),hib=nG("cml-vnac"),iib=nG("cml-vuls"),jib=nG("cml-vulc"),kib=nG("cml-vulf"),lib=nG("cml-verf"),mib=nG("cml-lncc"),nib=nG("cml-lnvc"),oib=nG("cml-lsc"),pib=nG("cml-lsvc"),qib=nG("vml-lip"),rib=nG("cml-qrv"),sib=nG("cml-qrc"),tib=nG("cml-qrf"),uib=nG("cml-qsv"),
vib=nG("cml-qsc"),wib=nG("cml-qsf"),xib=nG("cml-epc"),yib=oG("cml-esc"),zib=nG("ctb-svt"),Aib=nG("ctb-sat"),Bib=nG("ctb-ivt"),Cib=nG("ctb-ev"),Dib=nG("ctb-ea"),Eib=nG("ctb-eic"),Fib=nG("ctb-emu"),Gib=nG("ctb-eof"),Hib=nG("ctb-eun"),Iib=nG("ctb-ip");nG("crd-sv");var Jib=nG("cl-irl"),Kib=pG("cl-rld"),Lib=pG("cml-o"),Mib=pG("cml-c");nG("ce-rf");nG("ce-rfd");
var Nib=nG("cds-vw"),Oib=nG("cds-ce"),Pib=nG("cds-econ"),Qib=nG("cds-ecof"),Rib=nG("cds-vy"),Sib=nG("cds-pysd"),Tib=nG("cds-tt"),Uib=nG("cds-invo"),Vib=nG("cds-se"),Wib=nG("cds-cl"),Xib=nG("cbp-bd"),Yib=nG("cbp-ok"),Zib=oG("cbp-e0"),ajb=oG("cbp-e1"),bjb=oG("cbp-e2"),ejb=oG("cbp-e3"),fjb=oG("cbp-e4"),gjb=oG("cbp-to");nG("l-eb");nG("l-cb");
var hjb=oG("l-nv"),reb=oG("fn-cl"),oeb=nG("fn-c"),qeb=nG("fn-n"),peb=nG("fn-p"),meb=oG("fn-v"),ijb=nG("pc-ca"),jjb=nG("pc-c"),kjb=nG("pc-i"),ljb=nG("pc-m"),mjb=nG("pc-cn"),njb=nG("pc-cp"),ojb=nG("pc-mm"),pjb=nG("pc-r"),qjb=nG("pc-ss"),rjb=nG("pc-vp"),sjb=nG("pc-vh"),tjb=nG("pc-vb"),ujb=nG("pc-va"),vjb=nG("pc-sv"),wjb=nG("pc-nv"),xjb=nG("pc-iv"),yjb=oG("pc-im"),zjb=nG("pc-vrv"),Ajb=nG("pc-vrc"),Bjb=nG("pc-vnav"),Cjb=nG("pc-vnac"),Djb=oG("gd-r"),Ejb=oG("gd-i"),Fjb=oG("gd-d"),Gjb=oG("gd-t"),Hjb=oG("gd-s"),
ANa=nG("ifto");nG("jsle");var Ijb=nG("qs-ns"),Jjb=nG("qs-tc"),Kjb=oG("qs-bc"),Ljb=oG("qs-b"),Mjb=nG("qs-t"),Njb=nG("qr-ns"),Ojb=nG("qr-bc"),Pjb=nG("qr-bs"),Qjb=oG("ws-as"),Rjb=oG("ws-rs"),Sjb=nG("ws-m"),Tjb=oG(kP),Ujb=nG("ws-tbe"),Vjb=nG("ws-tb"),Wjb=nG("gb-ov");oG(lP);
var Xjb=nG("cca"),Yjb=nG("ccf"),Zjb=nG("ccbp"),akb=oG("cccf"),bkb=nG("sol-ncc"),ckb=oG("sol-ss"),dkb=nG("jsc"),ekb=nG("jsnc"),fkb=oG("r-cs"),gkb=oG("BME"),hkb=oG("BMD"),ikb=oG("BMC"),jkb=oG("BMO"),kkb=nG("rv-d"),lkb=nG("rv-c"),mkb=nG("rv-to"),nkb=nG("rv-f-r"),okb=nG("rv-f-n"),pkb=nG("rv-f-i"),qkb=nG("md-s"),rkb=nG("s-lt"),skb=oG("ed-s"),vfb=nG("ed-su"),wfb=nG("ed-e"),xfb=nG("ed-t"),tkb=nG("ed-ex"),ukb=nG("ed-ne"),vkb=nG("up-oum"),wkb=nG("up-oop"),xkb=nG("up-oapd"),ykb=nG("up-ofd"),zkb=oG("aqf-s"),
Akb=oG("aqf-m"),Bkb=oG("aqf-n"),Ckb=oG("aqf-o"),Dkb=oG("aqf-b");H(zMa,Jf);F=zMa[w];var Ekb="jsm",fQ="script",Fkb="text/javascript";F.ySc=function $jC(a,c,d,f,g,j){c=!!j;d=(new Sh).ka(Oj,Pj).ka(pd,Ekb).ka(YP,a[kd](wj)).ka(rd,ti).ka(LD,Fi);c&&d.ka(ai,Yf());c=d[t]();if(kga){a=lx(fQ);a.src=c;za(a,Fkb);ea[Lc][o](a)}else{d=new Gh;this.Q.w(d,Mh,G(this.zka,this,d,a,f),k,i);this.Q.w(d,Kh,G(this.J0,this,d,a,f),k,i);this.Q.w(d,Cj,G(this.c9,this,a,g),k,i);this.Q.w(d,Ih,d.D,k,d);d.X1(3E4);d[Mb](c)}};var Gkb="JavaScript",Hkb="var _et_ = 1;";
F.zka=function $kC(a,c,d){a=a.dj();if(Nf(a,"Google Inc.\n"))try{if(Je[Eaa])Je[Eaa](a,Gkb);else if(Je.eval){if(r4a==i){Je.eval(Hkb);if(typeof Je._et_!="undefined"){delete Je._et_;r4a=h}else r4a=k}if(r4a)Je.eval(a);else{var f=Je[yc],g=f[Qb](fQ);za(g,Fkb);g.defer=k;g[o](f[yb](a));f[Lc][o](g);f[Lc][Nc](g)}}else e(Error(".1"))}catch(j){d(8001)}else d(8001)};F.J0=function $lC(a,c,d){d(a.hf())};F.c9=function $mC(a,c){c()};F.D=function $nC(){zMa.C.D[z](this);this.Q.D()};_B_prog(63)}catch(e){_B_err(e)}

try{var BMa,gQ;H(AMa,xi);Xw(O.S(),Kd).ym(AMa);var Ikb="GG_iframeFn",Jkb="root",Kkb=":11",Lkb=":12";
AMa[w].tb=function $oC(){var a=new lD;gQ=this.V=a;O.S().Zxa=a;var c=O.S();c.uHa=h;this.jVc=new zMa;c.Bxa=this.jVc;a[kq](Wx,new NIa(a));c=new IIa(a);a[kq](Ky,c);c=new YJa(a);a[kq](Cz,c);var d=c.J3;c=CMa(this,d,c.Fv,h,Ikb);c.aQa=h;d=CMa(this,d,i,k);a[kq](ey,new aya(c,d,new tLa(a)));d=Uh(new Sh(Mj),I)[t]();a.Ev.tod=d;d=new jC(2E4);a[kq](kC,d);d=new aG(d);var f=new KLa(Jkb,d),g=Cx(a);if(g.Aa)e(Error(".48"));g.Aa=f;f.pwb(a);new rya(f);f=this.V;g=new mza(sea);f[kq](Hz,g);f=new Iz(a);a[kq](Qz,f);g=new wy(a);
a[kq](xy,g);Jz(f,866)&&yIa(c);Jz(f,718)&&QLa(c,h);f=new pMa;a[kq](dg,f);g=new sAa(a);a[kq](Sz,g);if(!d.MVa){g=new nC(Kkb,1,6E4,d.E5c,d);gDa(d.Cu,g);d.MVa=g;d.Mw=new aA(Lkb,2E4);ih(d.Mw,yj,d.U4b,k,d);d.Mw[Rc]();d.U4b()}c.vv=f;ME.pwb(a)};AMa[w].Y0b=B();var hQ="12",Mkb=new sG([Tj,hQ],Hj),Nkb="1d",iQ="4",Okb=new sG([Pj,Nkb,Tj,"1c",hQ,"16","13","14"],iQ,[Mkb]),jQ="3";new sG([Tj,hQ,"16","17","18","1a"],jQ,[Mkb]);var Pkb=new sG([Pj,iQ,Tj,Ph,"1c",hQ,"13","14","16","17","19",Pd,"1e","1b"],Pj,[Mkb,Okb]);Ha(sG[w],function $qC(){return this.Jb?ag+this.Jb:this.uE[kd](wj)});
Sa(sG[w],function $rC(a){if(this.BKb[bd](a))return h;if(!this.s9a)this.s9a=new cg;if(this.s9a[bd](a))return k;var c=FMa(this),d=FMa(a);if(oba(d,c[bd],c)){this.BKb.add(a);return h}else{this.s9a.add(a);return k}});H(uG,uh);F=uG[w];F.oja=10;F.mHa=h;F.GGa=k;F.Iod=k;F.li=D(ko);ya(F,function $tC(a){if(a[y]==this.Kc)switch(a[Zb]){case GMa:this.mU(a.Kn);break;case nj:this.vI();break;case HMa:LMa(this);break;case tG:KMa(this);break}});F.Zaa=function $uC(a,c){if(this.pz!=a){this.pz=a;this.wj.ula(this.pz,this.oja,G(this.zlb,this),c);LMa(this)}};F.vj=function $vC(){return this.Kc.Ib()};F.mU=function $wC(a){this.Hy=a;this.Kc.mU(a);return vG(this,a)!=-1};var kQ="update";
F.vI=function $xC(){var a=vG(this,this.Hy);if(a!=-1){a=this.Rg[a];var c=this.JF.yaa(a);this.nw();if(!c){this[r]({type:kQ,Kn:a});this.Iod&&this.JF[mr](h)}return h}else{this.nw();this[r]({type:kQ,Kn:i});return k}};F.nw=function $yC(){this.Hy=-1;this.pz=i;this.aC+=this.Rg[u];this.Rg=[];ba[gb](this.ZD);this.ZD=i;this.Kc.nw()};F.L=function $zC(){uG.C.L[z](this);this.Kc.D();this.JF.D();this.wj=i};
F.zlb=function $AC(a,c,d){if(this.pz==a){a=d?vG(this,this.Hy):i;this.aC+=this.Rg[u];this.Rg=c;d=[];for(var f=0;f<c[u];++f)d[p]({id:this.aC+f,data:c[f]});this.Kc.kub(d,this.pz,this.zf);if(this.mHa&&d[u]!=0)this.mU(a!=i?this.aC+a:this.aC);else this.Hy=-1}};F.Wr=function $BC(){var a=this.JF;a.Wr[cd](a,arguments)};F.lw=function $CC(){var a=this.JF;a.lw[cd](a,arguments)};H(BG,Jf);F=BG[w];F.L0a=h;F.Zbb=h;F.Uic=k;F.xcc=h;F.gwb=h;F.Ul=i;F.eL=I;F.b3=k;F.MWa=k;F.mpd=h;var Qkb="kd";F.zT=D(Qkb);F.Ca=function $EC(){return this.Ul[q]};F.Fa=function $FC(a){pa(this.Ul,a)};F.QZ=function $GC(){return yG(this.Ul)};F.Iu=function $HC(a){wG(this.Ul,a);zG(this.Ul,a)};F.Wr=function $IC(){for(var a=0;a<arguments[u];a++){var c=arguments[a];gn(c,yo,h);this.tw.w(c,lj,this.dx);this.tw.w(c,kj,this.Xo);this.Ul||this.Aoa.w(c,ij,this.k5b)}};
F.lw=function $JC(){for(var a=0;a<arguments[u];a++){var c=arguments[a];c==this.Ul&&this.Xo();this.tw.hb(c,lj,this.dx);this.tw.hb(c,kj,this.Xo);this.Ul||this.Aoa.hb(c,ij,this.k5b)}};
F.yaa=function $KC(a,c){if(Ke(c)?c:this.Jja){c=cNa(this,this.Ca(),this.QZ());var d=dNa(this,this.Ca());a=a[t]();this.bid[cb](a)||(a=aia(a)+this.HAc);if(this.L0a){if(c!=0&&!im(d[c-1]))a=J+a;if(c<d[u]&&!im(d[c+1]))a+=J}if(a!=d[c]){d[c]=a;this.Fa(d[kd](I));for(var f=a=0;f<=c;f++)a+=d[f][u];this.Ul[Ek]();this.Iu(a)}}else this.Fa(a[t]());this.MWa=h;return k};F.L=function $LC(){BG.C.L[z](this);this.tw.D();delete this.tw;this.Aoa.D();this.Aoa=i};
F.Qo=function $MC(a){switch(a[Sb]){case 40:if(this.kd.vj()){this.Emb();a[zb]();return h}else if(!this.Jja){this[mr](h);a[zb]();return h}break;case 38:if(this.kd.vj()){this.Imb();a[zb]();return h}break;case 9:this[mr]();if(this.kd.vI()&&this.jcd){a[zb]();return h}break;case 13:this[mr]();if(this.kd.vI()){a[zb]();return h}break;case 27:if(this.kd.vj()){this.kd.nw();return h}break;case 229:if(!this.b3){if(!this.b3){this.tw.w(this.Ul,jj,this.qka);this.tw.w(this.Ul,Zi,this.ql);this.b3=h}return h}break;
default:if(this.ab&&!this.mpd){this.ab[qc]();this.ab[Rc]()}}return aNa(this,a)};F.wfb=E(k);F.dx=function $OC(a){this.Aoa.wb();this.kd&&LMa(this.kd);if(a[y]!=this.Ul){this.Ul=a[y]||i;if(this.ab){this.ab[Rc]();this.tw.w(this.ab,yj,this.cQ)}this.eL=this.Ca();this.sc.Pe(this.Ul);this.tw.w(this.sc,jn,this.KC);L&&this.tw.w(this.Ul,Zi,this.b5b)}};
F.Xo=function $PC(){if(this.Ul){this.tw.hb(this.sc,jn,this.KC);this.sc[Ik]();this.tw.hb(this.Ul,jj,this.wfb);L&&this.tw.hb(this.Ul,Zi,this.b5b);this.b3&&bNa(this);this.Ul=i;if(this.ab){this.ab[qc]();this.tw.hb(this.ab,yj,this.cQ)}this.kd&&KMa(this.kd)}};F.cQ=function $QC(){this[mr]()};F.k5b=function $RC(a){this.dx(a)};F.KC=function $SC(a){this.Kia=a[Sb];this.kd&&this.Qo(a)};F.ql=function $TC(){this.b3&&this.Kia!=229&&bNa(this)};F.qka=function $UC(a){if(this.b3&&(a[Sb]==13||a[Sb]==77&&a[Bc]))bNa(this)};
F.b5b=function $VC(a){aNa(this,a)};Qp(F,function $WC(a){if(a||this.Ul&&this.Ca()!=this.eL){if(a||!this.MWa){a=this.L7b();if(this.kd){this.kd.zf=this.Ul;this.kd.Zaa(a,this.Ca())}}this.eL=this.Ca()}this.MWa=k});F.L7b=function $XC(){var a=this.QZ(),c=this.Ca();a=dNa(this,c)[cNa(this,c,a)];return this.gic?String(a)[mb](this.gic,I):a};F.Imb=function $YC(){return this.Uic?IMa(this.kd):JMa(this.kd)};F.Emb=function $ZC(){return this.Uic?JMa(this.kd):IMa(this.kd)};H(CG,uh);var oNa=0;F=CG[w];F.b=D(eo);F.kub=function $0C(a,c,d){this.pz=c;this.Rg=a;this.KK=0;this.uZa=Zf();this.zf=d;this.xx=[];this.cp()};F.nw=function $1C(){this.zf&&bwa(this.zf,i);if(this.yg){this.yg=k;Wm(this.wa,k)}};F.Nc=function $2C(){if(!this.yg){this.yg=h;Wm(this.wa,h)}};F.Ib=D("yg");
F.Sgb=function $4C(a){this.KK>=0&&Ag(this.xx[this.KK],this.JFa,this.PZb);this.KK=a;if(a>=0&&a<this.wa[cc][u]){a=this.xx[a];K(a,this.JFa,this.PZb);this.zf&&bwa(this.zf,a);var c=this.wa,d=Nm(a),f=Nm(c),g=Dva(c),j=d.x-f.x-g[Ck];d=d.y-f.y-g.top;f=c[Wc]-a[ql];c.scrollLeft+=l.min(j,l.max(j-(c[vc]-a[xk]),0));c.scrollTop+=l.min(d,l.max(d-f,0))}};F.mU=function $5C(a){if(a==-1)this.Sgb(-1);else for(var c=0;c<this.Rg[u];c++)if(this.Rg[c].id==a){this.Sgb(c);return}};F.gdc=function $6C(a){K(a,this[uc])};
var lQ="option";
F.cp=function $7C(){nNa(this);if(this.v_a)Fa(this.wa[x],yd);Ia(this.xx,0);this.ya.ZA(this.wa);if(this.xea&&this.xea.eb)this.xea.eb(this,this.wa,this.Rg,this.pz);else{var a=i;um(this.Rg,function(c){c=c;var d=this.pz,f=this.ya.ba(T,{className:this.yBa,id:"goog-acri-"+oNa++});fn(f,lQ);this.xea&&this.xea.WL?this.xea.WL(c,d,f):this.qWa(c,d,f);d&&this.cqd&&rNa(this,f,d);K(f,this.yBa);this.xx[p](f);c=f;this.v_a?this.wa[Bb](c,a):this.ya[o](this.wa,c);a=c},this)}if(this.Rg[u]==0)this.nw();else{this.Nc();this.S8b(this.wa);
this.If();an(this.wa,h)}};var Rkb="LEFT",Skb="RIGHT";F.If=function $8C(){if(this.zf&&this.XL){var a=Nm(this.zf),c=Tm(this.zf),d=Tm(Lm(this.zf)),f=Tm(this.wa);a.y=this.v_a?a.y-f[id]:a.y+c[id];if((this.Hfd||a.x+f[ib]>d[ib])&&this.ekb!=Rkb){a.x=a.x+c[ib]-f[ib];this.ekb=Skb}else this.ekb=Rkb;Qm(this.wa,a);if(this.v_a)Fa(this.wa[x],ud)}};
F.L=function $9C(){CG.C.L[z](this);if(this.wa){nh(this.wa,P,this.sj,k,this);nh(this.wa,fj,this.CH,k,this);nh(this.ya.cb(),P,this.fUb,k,this);nh(this.wa,Xi,this.BK,k,this);this.ya[ad](this.wa);this.wa=i;this.yg=k}delete this.mh};F.S8b=function $$C(a){if(Fh&&Qi){ka(a[x],I);rp(a[x],ud);ka(a[x],a[xk]);rp(a[x],GA)}};F.qWa=function $aD(a,c,d){Q(d,Wf(a[dq][t]()))};F.sj=function $bD(a){var c=sNa(this,a[y]);c>=0&&this[r]({type:nj,Kn:this.Rg[c].id});a[Ec]()};F.CH=function $cD(a){this[r](HMa);a[Ec]();a[zb]()};
F.fUb=function $dD(){this[r](tG)};F.BK=function $eD(a){a=sNa(this,a[y]);if(a>=0)Zf()-this.uZa<300||this[r]({type:GMa,Kn:this.Rg[a].id})};_B_prog(64)}catch(e){_B_err(e)}

try{H(tNa,xx);tNa[w].Ofb=B();tNa[w].Ofb.Ka=h;H(EG,uG);yx(tNa,EG);EG[w].oja=15;var mQ="email",Tkb=[mQ];F=EG[w];F.ula=function $gD(a,c,d){this.zWa({ce:a,pm:c,uC:h,YE:h,Alb:1,ZOb:Tkb,fS:this.XX,filter:this.Nfa,eia:h},G(this.Reb,this,d))};F.Reb=function $hD(a,c,d,f,g){a(g.ce,c)};F.zWa=function $iD(a,c){if(!this.l4){this.l4=qG(this.V);if(!this.l4){c(nQ,oQ,i,a,4);return}}if(this.PB){this.PB.tf();this.PB=i}this.PB=this.l4.Lq(a,c)};var pQ="ah";
F.PJa=function $kD(){var a=new CG(this.Bd.Zf,this);a.XL=h;m(a,pQ);a.Nc=function $jD(){CG[w].Nc[z](a);uNa[z](a)};return a};F.Iqa=function $lD(){return new BG(UMa,Vf)};F.Wr=function $mD(){this.Ve.Wr[cd](this.Ve,arguments)};F.lw=function $nD(){this.Ve.lw[cd](this.Ve,arguments)};var Ukb="an",Vkb=" ap",Wkb='<div class="ai"><div class="aj"></div></div>',qQ="ao";
F.WL=function $oD(a,c,d){c=oD(this.V);var f=a[dq][jb],g=!!(a[dq].vPb&1),j=I;if(c){a=a[dq].Rb();j=I;var n=k;if(a){j=c.KE(a);n=c.sa.SK(a)}c={F_:n,Kja:n?Ukb:LD,Hb:j,Te:f,qya:g};f=new U;f[R](X,S7a,c.qya?Vkb:I,W,c.F_?Wkb:I,X,NL,wl,yHa,J,c.Hb,xF,c.Kja,W,V(c.Te),II);j=f[t]()}else{c={Te:f,qya:g};f=new U;f[R](X,qQ,c.qya?Vkb:I,W,V(c.Te),Z);j=f[t]()}Q(d,j)};F.vI=function $pD(){var a=vG(this,this.Hy);if(a!=-1){this.aa.Ofb(a,this.Rg);a=this.Rg[a];if(a.Uma){a.Uma();return h}}return EG.C.vI[z](this)};H(wNa,BB);var kfb=HG(Xx),lfb=HG(RE),mfb=HG(oA),nfb=HG("jl"),ofb=HG(ki),pfb=HG(ii);var Xkb="hist_frame",Ykb="sound_frame";Ie("_B_init",function(b){b=df(pFa,b[yc],[Xkb,Ykb,Kdb],df(zNa,b),1E4);if(Xj.ob)Xj.qS=b;else b()},void 0);F=BNa[w];F.Bb=D(NO);F.Ay=D("Rf");F.MT=D("eka");var Zkb="HY";F.wwb=Ge(Zkb);var alb="num",blb="cont";F.Ja=function $uD(a){a.Ii(this.Ea);a.Ua(xC,this.Rf);a.Ua(alb,this.eka);this.HY&&a.Ua(blb,this.HY)};var clb=" start=",dlb=" num=";Ha(F,function $vD(){return this.Ea[t]()+clb+this.Rf+dlb+this.eka});var elb="h4",ENa=[elb,ON,"vem",TP,"gmail_nodisplay"],flb="h5",glb="im",DNa=mf(ENa,flb,glb),RNa=/^(DIV|TR|LI|FORM|HR)$/,PNa=/^(P|UL|OL|BLOCKQUOTE|H\d|PRE|XMP)$/,VNa=/[ \t\f\r\n\u200B]+/g,WNa=/^[ \t\f\r\n\u200B]+|[ \t\f\r\n\u200B]+$/gm,SNa=/\u200B+/g,TNa=/\r\n/g,UNa=/\r+/g;CNa[w].jh=function $wD(){return this.ngc[kd](I)};H(LG,bo);LG[w].dD=function $xD(a){this.mAa=a;this.Ib()&&this.If()};LG[w].Kj=function $yD(a){this.Jv=a||undefined;this.Ib()&&this.If()};LG[w].If=function $zD(){if(this.Jv){var a=!this.Ib()&&this.Ga()!=ela,c=this.b();if(a){Fa(c[x],yd);Wm(c,h)}this.Jv.If(c,this.mAa,this.jja);a&&Wm(c,k)}};H(UG,nn);var EOa=[zOa,tl];F=UG[w];F.D=function $AD(){if(!this.Pc){UG.C.D[z](this);this.na.D();this.na=i;this.Ha.D();this.Ha=i}};F.Nc=function $BD(){var a=this.Y,c=this.X(Kd),d=this.X(Ph);Q(this.Ha.b(),wOa({ijd:Yz(this.Lb,6594),Imd:c,p6a:d,uq:LOa(this)}));var f=a.cb();this.na.w(f,ij,this.i5c,h);this.na.w(f,fj,this.mka);this.na.w(a.b(c),P,this.Yb);this.na.w(a.b(d),P,this.Yb);this.Ha.ra(h);this.Ha.b()[Ek]()};F.Yb=function $CD(){this.na.wb();this.Cb.lf();this.Ha.ra(k)};F.i5c=function $DD(){this.Yb()};
F.mka=function $ED(a){Zg(this.Ha.b(),a[y])||this.Yb()};
var MOa=String[rq](17)+"+s",hlb={title:"Jumping",bq:[V4a,W4a,X4a,Y4a,Z4a,a5a]},ilb={title:"Navigation",bq:[eM,["PREV/NEXT","Newer/older conversation"],["OPEN|Enter","Open conversation; collapse/expand conversation"],["PREVMSG/NEXTMSG","Read previous/next message"]]},jlb={title:"Application",bq:[P4a,Q4a,U4a,n5a]},klb="Actions",rQ={title:klb,bq:[KG,hM,R4a,o5a,iM,jM,kM,mM,nM,oM,pM,qM,rM,i5a,["Tab>Enter","Send mail"],h5a,["REMOVE_LABEL_AND_PREV/REMOVE_LABEL_AND_NEXT","Remove conversation from current view and go previous/next"],
sM,tM,l5a,m5a,[FOa,"Save draft"]]},NOa=[[hlb,{title:"Threadlist selection",bq:[b5a,c5a,d5a,e5a,f5a,g5a]},ilb,jlb],[rQ]];OOa[w].kc=function $FD(){var a=[];a[p](QOa(this.CQc));a[p](QOa(this.wQc));a[p](QOa(this.kPc));a[p](QOa(this.lPc));a[p](QOa(this.jPc));return a};var llb='px;" quality="high" pluginspage="http://www.macromedia.com/go/getflashplayer" type="application/x-shockwave-flash"></embed>',mlb='<embed id="%s" src="%s" style="position:absolute;top:'+(Si?Hj:Ah)+"px;left:"+(Si?Hj:Ah)+"px;height:"+(Si?Hj:"100")+"px;width:"+(Si?Hj:"100")+llb;H(cPa,EC);var nlb="Unsubscribe and report spam",olb="Unsubscribe from ",plb="Unsubscribe from these lists?";cPa[w].Jc=function $GD(){this.oh((new DC).set(Cz,nlb,h).set(VE,vWa).set(dx,vP,k,h));var a=Yz(this.Lb,80405);if(this.qGa[u]==1){this.Fc(olb+(this.qGa[0]+Kj));this.xb(VOa({name:this.qGa[0],tc:a}))}else{this.Fc(plb);this.xb(bPa({YX:this.qGa,tc:a}))}};var qlb={};qlb.ix_cps=250;zx(dPa,pya);dPa[w].CJa=function $HD(a){if(a==By)return new ry(By,this.sAa);return i};var rlb="cm2/";dPa[w].KMa=function $ID(a){return(a=Mf(a,rlb)?a[lb](4):i)?qlb[a]:i};dPa[w].Hwa=E(k);var ePa=i;gH.vC(N);H(iH,uh);iH[w].ah=k;iH[w].nI=k;iH[w].kec=k;H(hPa,N);F=iH[w];var slb="onunload",tlb="embed",ulb="plugin";F.tb=function $KD(){if(L)try{ba[vaa](slb,G(this.Mra,this));this.ec=new ActiveXObject("GoogleTalk.Plugin")}catch(a){this.ec=i}else if(Je[gd])if(bp[vb]["application/googletalk"]){var c=this.ya.cb()[Qb](tlb);c.id=ulb;Ba(c,ulb);ka(c,1);Wa(c,1);za(c,"application/googletalk");this.ya.cb()[mc][o](c);this.ec=c}else this.ec=i;else this.ec=i;this.ec&&this.Bsa();return!!this.ec};
F.Bsa=function $LD(){if(!this.ah)if(this.Zva<2E4){Dh(this.Bsa,2E3,this);this.Zva+=2E3;try{this.ec.onmessage=G(this.bIc,this)}catch(a){}}else iPa(this)};var vlb="of-msg";ua(F,function $MD(a){if(this.ah){try{this.ec[Mb](a)}catch(c){return}this[r](new gH(vlb,a))}});var wlb="f-connect",xlb="f-ready",ylb="f-dead",zlb="jmidata";
F.bIc=function $ND(a){if(!this.ah)this.ah=h;a=new gH(jH,a);if(a.ck==wlb){if(!this.F6a)this.F6a=Dh(this.gcc,1E4,this);this.G6a[p](hH(a).pop())}else{if(a.ck==xlb){this.nI=h;Eh(this.F6a);this.F6a=i;this.G6a[p]({iDd:h});this.gcc();zf(this.Vxa,{jid:this.Zv,domain:ea[mq],useragent:ug(),pluginversion:this.ec[Za],renderer:this.gz.U5()});var c=fH(this.gz);Ue(c)&&c.GU()&&zf(this.Vxa,{o3dVersion:c.Cy()});this[Mb](zh([kH,2,this.Vxa]))}else if(a.ck==ylb){this.nI=k;iPa(this)}else if(!this.kec&&a.ck==zlb)return;
this[r](a)}};F.hsa=Ge("kec");F.Kl=D(pQ);F.Mra=function $QD(){this.ec=i};F.D=function $RD(){if(!this.xga()){this.Mra();iH.C.D[z](this)}};F.gcc=function $SD(){this[r](new hPa(this.G6a))};_B_prog(65)}catch(e){_B_err(e)}

try{H(lH,uh);H(jPa,N);lH[w].CZ=0;kPa.vC(N);lPa.vC(N);F=lH[w];F.tb=function $TD(){if(!this.z7){this.HL=new iH(this.Zv,this.gz,i,this.Vxa);this.CZ=0;if(this.HL.tb()){Dh(this.Dwc,25E3,this);if(!this.z7){this.HL.dk(this);this.Q.w(this.HL,jH,this.Sua);this.z7=h}}else{this.Mra();oPa(this)}}};F.Mra=function $UD(){if(this.HL){this.HL.D();this.HL=i}};F.Dwc=function $VD(){this.CZ==0&&oPa(this)};F.vk=function $WD(){return this.z7&&this.CZ==1};F.GU=function $XD(){return!!this.HL};
F.c7=function $YD(){var a=this.lA();a=a?a[4]:vPa(this);if(a.caps)return!!(a.caps&8);return k};F.qY=function $ZD(){return!!(mPa(this)&2)};F.Mpa=function $_D(){return!!(mPa(this)&1)};var sQ="nf",Alb="termall";
F.Sua=function $0D(a){if(a.ck==kH){a=hH(a);if(!a[1]||a[1][Db](sQ)<0){this.ZI=a;this.ZI[4]||(this.ZI[4]=vPa(this));this.ZI[4].clientver=1;Ke(this.ZI[4].renderer)||(this.ZI[4].renderer=1);this.ZI[4].browserRenderer=this.gz.U5();if(mG)this.ZI[4].flashVersion=oMa;if(Ue(fH(this.gz)))this.ZI[4].o3dVersion=fH(this.gz).Cy()}oPa(this)}else if(a.ck==mH)this[r](new lPa(hH(a)));else if(a.ck==Alb)this[r](Jd);else if(a.ck==ylb)this.iDa=this.ZI=i;else if(a.ck==KD){this.iDa=hH(a)[1];this[r](new jPa(wPa(this)))}};
var Blb="0.0.0";F.lA=function $1D(a){var c;if(!this.ZI||this.ZI[1]==I)c=[kH,nPa,Blb,1,vPa(this)];else{c=this.ZI[lb]();if(!(this.gz.U5()&mPa(this,c))){c[1]=nPa;c[2]=Blb;c[4].os=uPa(this)}}return a?zh(c):c};F.wy=function $2D(){if(!this.iDa)return 0;switch(this.iDa.callType){case Bz:return 3;case Kd:return 1;default:return 0}};F.hsa=function $3D(a){this.HL&&this.HL.hsa(a)};F.D=function $4D(){if(!this.xga()){this.Q.D();this.Q=i;this.HL&&this.Mra();lH.C.D[z](this)}};H(oH,oB);oH[w].HNa=D("Wqd");H(xPa,xx);F=xPa[w];F.Vr=B();F.Vr.ic=h;F.Rca=B();F.Rca.ic=h;F.D=B();F.D.Ka=h;H(yPa,Jf);yx(xPa,yPa);F=yPa[w];F.Vr=function $9D(a,c,d){this.aa.Vr(a,c,d)||KVa(pH(this,d),a,c)};F.Rca=function $$D(a,c,d,f){this.aa.Rca(a,c,d,f)||LVa(pH(this,f),a,c,d)};F.BQ=function $aE(a,c){pH(this,c).daa(a)};F.Hp=function $bE(a){var c=zPa(this,a);return c?c.wH(a):i};F.L=function $cE(){this.s0=i;this.aa.D()};H(BPa,uh);F=BPa[w];F.cCa=Ge("Xda");F.Ad=function $eE(a){if(a.Wd()){this.gr&&this.gr.D();this.gr=a;DPa(this)}else this.IK()};F.IK=function $fE(){if(this.gr){this.IB();EPa(this);this.gr&&this.gr.D();this.gr=i}DPa(this,h)};F.Mna=function $gE(){var a=this.gr;a&&this.Xda&&this.Xda.Ad(a,a.vH());EPa(this)};F.ZK=function $hE(){return!!this.v_};F.Ox=function $iE(){if(this.qa==2)this.qa=3};F.Nxa=function $jE(){if(this.qa==1)this.Ad(this.Vrb[jd](0,1)[0]);else this.qa==3&&this.IK()};
F.IB=function $kE(){this.v_&&cA(this.v_);this.v_=i};F.L=function $lE(){BPa.C.L[z](this);this.IB();EPa(this);this.gr&&this.gr.D()};H(uH,Gy);var GPa={},f1a=new Hf({group:ce});va(uH[w],E("Group"));var Clb="/group=";uH[w].Xs=function $nE(){return this.Ga()+Clb+this.yr};uH[w].FL=vN;uH[w].Qb=E(ey);H(vH,AD);F=vH[w];F.md=Me;F.TO=Me;F.ej=Me;F.sK=function $pE(){var a=[];this.ej(a);return a};F.Bo=E(k);F.ln=E(k);F.gY=E(k);F.Df=Me;F.Wb=Me;F.X_a=function $tE(){vC(this.Cb,0)};F.EIb=E(h);F.Jpa=E(h);F.Qh=Me;Bp(F,Me);var Dlb=" type:";Ha(F,function $wE(){return vj+fg(this[Sk])+Dlb+this.md()+wh});H(wH,dF);F=wH[w];F.Lca=function $xE(a,c){for(var d=0;d<a[u];d++)a[d].qc(k);wH.C.Lca[z](this,a,c)};F.Vp=function $yE(a){var c=this.rb(a);yA++;try{var d=wH.C.Vp[z](this,a);if(d&&c==this.Wx)this.Wx=i}finally{zA()}return d};F.Q3=function $zE(a){if(a==vA)return k;var c=this.Wx;if(c)if(!JA(c,a)||!jBa(c,a))return k;return h};F.oF=function $AE(a){var c=this.Wx;if(!c)return 0;var d=c.KT(a),f=c.WZ(a),g=c.rK(a);if(JA(c,a))return LA(c,a);if(g==-1)return l.min(l.max(LA(c,a),d),f);return d};
F.VV=function $BE(a){var c=this.Wx;c&&kBa(c,a);MA(this,a,-1)};F.di=function $CE(a,c,d){wH.C.di[z](this,a,c,d);d=this.Wx;var f=this.qj();if(d){AA[p](d);YAa(a,c,AA);Ia(AA,0);var g=BA[a][d.ea()];d.ip(a,g,a==vA&&c!=-1&&g==c)}for(c=0;c<f;c++){g=this.rb(c);g!=d&&g.ip(a,0,h)}};H(yH,uh);yH[w].Lf=k;yH[w].BRa=k;yH[w].Ry=i;var zH=L&&ea.documentMode>=8||Fh&&vg("1.9.2")||Jg&&vg("532.1");F=yH[w];F.dja=i;F.L=function $DE(){yH.C.L[z](this);this.Q.D();this.Ac(k)};var Elb="pageshow";
F.Ac=function $EE(a){if(a!=this.Lf)if(L&&!zH&&!this.KKa)this.dec=a;else if(a){if(Ng)this.Q.w(this.dg[yc],Flb,this.W9c);else Fh&&this.Q.w(this.dg,Elb,this.hx);if(zH&&this.lca){this.Q.w(this.dg,Xea,this.L1c);this.Lf=h;this[r](new RPa(AH(this)))}else if(!L||this.KKa){this.Q.w(this.ab,yj,this.rJ);this.Lf=h;if(!L)this.Ry=AH(this);this.ab[Rc]();this[r](new RPa(AH(this)))}}else{this.Lf=k;this.Q.wb();this.ab[qc]()}};F.j4b=function $FE(){this.KKa=h;this.tva[q]&&BH(this,this.tva[q],h);this.Ac(this.dec)};
F.hx=function $GE(a){if(a.pj.persisted){this.Ac(k);this.Ac(h)}};F.L1c=function $HE(){var a=this.Mga(this.dg);a!=this.Ry&&this.Pa(a)};F.Zaa=function $IE(a,c){QPa(this,a,k,c)};F.Mga=function $JE(a){a=a[Ic][Yc];var c=a[Db](Lj);return c<0?I:a[Zc](c+1)};F.gma=function $KE(a,c){a=this.GD+(a||I);var d=this.dg[Ic];if(a!=d[Yc])if(c)d[mb](a);else Mp(d,a)};
F.rJ=function $LE(){if(this.lca){var a=this.Mga(this.dg);a!=this.Ry&&this.Pa(a)}if(!this.lca||L&&!zH){a=PPa(this)||I;if(this.dja==i||a==this.dja){this.dja=i;a!=this.Ry&&this.Pa(a)}}};F.Pa=function $ME(a){this.Ry=pa(this.tva,a);if(this.lca){L&&!zH&&BH(this,a);this.gma(a)}else BH(this,a);this[r](new RPa(AH(this)))};F.WXa=function $NE(a){if(this.BRa!=a)this.ab[Dc](a?1E4:150);this.BRa=a};F.W9c=function $OE(){this.ab[qc]();this.ab[Rc]()};var Flb=[fj,ij,hj],OPa=0;H(RPa,N);H(WPa,uh);F=WPa[w];F.Ry=I;F.D=function $PE(){if(!this.Pc){WPa.C.D[z](this);this.eP.D();this.eP=i}};F.gH=function $QE(a){return a?this.Haa(a):AH(this.eP)};F.dpb=function $RE(a){if((a.ce||I)==this.Ry)a[Ec]()};F.Haa=function $SE(a){return this.rca.Rjc[a[Wq]].Gaa(a)[kd](Md)[mb](/\/$/,I)};var Glb=new wNa(dab,Pd),Hlb=new wNa(dab,dx),Ilb=new wNa(dab,kD);H(cQa,N);var dQa=15,eQa=new Bm(4,4,4,4),fQa=new Bm(0,0,0,0);CH[w].jCa=function $TE(a){qma(this,a);return this};H(DH,AD);var iQa=ifa.J()?3:4;F=DH[w];F.e2b=k;F.D=function $UE(){DH.C.D[z](this);this.Ck.yu[Pb](this);this.nU.D()};F.zc=function $VE(){return this.kYb?this.vz[0]:i};F.oWa=function $WE(a){return jQa(this,a)};var Jlb="Starting navigate";
fp(F,function $XE(a){mQa(this,Jlb);lQa(this);var c=a[Wq],d=this.V,f=this.rca.VEa[c]||i;if(f){c=this.Zia=new sCa;var g=jA(d,f);if(g)this.nV(a,c,g);else{nQa(this,Glb);this.glb=f;this.y1b.set(f,a);this.GW=new jB;this.GW.Se(iB);WC(this.Ck);d=this.xra=kA(d,f);Zw(d,G(this.R6c,this,a,c));Yw(d,G(this.FTa,this,a,c));Yw(d,sg)}return c}else e(new Rh("ERROR : No view service registered for "+c))});F.SH=function $YE(a){var c=k;if(a=ZPa(this.nU,a)){this.jb[bq](a);c=h}return c};F.gH=function $ZE(a){return this.nU.gH(a)};
Bp(F,function $_E(){var a=this.zc();if(a){a[Sq]();this[r](vA)}});var tQ="Da";F.Jc=function $0E(){this.H().w(this,[ki,NO],this.A5c);this.H().w(this,tQ,this.iob)};F.R6c=function $1E(a,c,d){nQa(this,Hlb);var f=this.GW;this.GW.D();this.xra=this.GW=i;this.nV(a,c,d);if(f){lB(f,4);f.D();WC(this.Ck)}};var Klb="View Created";
F.nV=function $2E(a,c,d){this.lya=new jB;var f=this.zc();if(f)a.Ica=f;var g=d.pga(this.V,this,a);if(g&&g==f){yA++;try{this.zc()[Sq]();GB(c,1);this[r](vA)}finally{zA()}oQa(this);WC(this.Ck);XPa(this.nU,a||{view:g.md()})}else if(f&&f.Bo(h)){this.mw.s5a();GB(c,2);oQa(this)}else{if(!g){g=d.JJ(this.V,this,a);gQa(this,g)}mQa(this,Klb);yA++;try{c=g;if(!this.Z2[bd](c))e(Error(".143"));if(c.ln(a)){oQa(this);this.oWa(c);c.D()}else{this.gL=c;this.Cxa=a;oQa(this);sQa(this)}WC(this.Ck)}catch(j){e(j)}finally{zA()}this[r](new cQa(ey,
this.Cxa,f,g))}};F.dpb=function $3E(){this.cGb&&this.SH()};F.X9b=function $4E(a){if(this.Z2[bd](a))e(Error(".142"));this.ia[Nc](a);a.D()};F.di=function $5E(a,c,d){DH.C.di[z](this,a,c,d);if(this.f2b){this.f2b=k;(a=this.zc())&&a.X_a()}};F.yGa=function $6E(a){DH.C.yGa[z](this,a);if(this.e2b&&!this.xv()){this.b()[ql];this.e2b=k}};var Llb="gL";F.cGc=D(Llb);F.Xta=function $8E(){return this.gL||this.zc()};
F.sK=function $9E(){var a=this.Xta(),c=[];a&&a.ej(c);this.GW&&c[p](this.GW);this.lya&&c[p](this.lya);return c};F.Ina=B();F.A5c=function $aF(a){a:{for(a=a[y];a&&a!=this;){if(a instanceof vH){a=a;break a}a=a.rv()}a=i}if(a==this.gL||a==this.zc()){sQa(this);WC(this.Ck)}};F.iob=function $bF(a){this.Ina(a[y])};F.Qh=function $cF(a,c){var d=this.zc();d&&d.Qh(a,c)};
F.FTa=function $dF(a,c,d){if(d instanceof wi)return i;a=this.rca.VEa[a[Wq]]||i;if(this.glb&&this.glb==a){nQa(this,Ilb);GB(c,3);oQa(this);if(this.GW){this.GW.D();this.GW=i}this.xra=this.glb=i;WC(this.Ck)}return d};_B_prog(66)}catch(e){_B_err(e)}

try{uQa[w].ula=function $eF(a,c,d){var f=wQa(this,a,c);if(f[u]==0&&this.bqd)f=xQa(this,a,c);d(a,f)};var zQa={};var eI=new oCa(K4a);H(HH,uh);HH[w].Gi=function $fF(a,c,d,f){this.ab[Vc]||this.ab[Rc]();this.ee.set(c,a);this.wYa[c]=d;this.gMa[c]=f};HH[w].cG=function $gF(a){this.ee[Pb](a);delete this.wYa[a];delete this.gMa[a];this.ee.nd()&&this.ab[qc]()};HH[w].Pa=function $hF(){for(var a=qC(this.V).W(),c=this.ee.Sb(),d=0;d<c[u];d++){var f=c[d],g=gGa(this.ee.J(f),this.wYa[f],this.gMa[f]),j=a.b(f);if(j)Q(j,g);else this.cG(f)}};HH[w].D=function $iF(){if(!this.Pc){this.gMa=this.wYa=this.ee=i;this.ab[qc]();this.ab.D();this.ab=i;HH.C.D[z](this)}};var LQa=/\r\n/g,MQa=/\r/g;var oRa;H(nRa,Iw);nRa[w].tb=function $jF(){var a=fD(this.Db);hD(a,this,[SO]);iD(a,this,[oRa]);gD(a,SO,XD);lA(this.Db,XD,RO)};nRa[w].Gaa=function $kF(){return[oRa]};nRa[w].aca=function $lF(){return{view:SO}};H(QH,Vn);QH[w].Hi=function $mF(a){this.FXb=h;QH.C.Hi[z](this,a)};var Mlb="200px",Nlb=":20";
QH[w].oAa=function $nF(){var a=this.fe(),c=a.b(),d=a.Cd();qma(c[x],I);Wa(d[x],I);if(!a.Ib()){c[x].brd=yd;if(Ng)dha(c[x],Ah);Wm(c,h)}if(this.FXb){var f=Nm(this.OZb||this.b()),g=Um(this.Jfd||this.b());a instanceof OJ&&a.gCa(I);f=g[Ck]+g[ib]-f.x-8;if(L&&!vg(aj)&&a instanceof OJ){ka(d[x],l.max((a.gm||i)[xk]+4,f)+Jm);if(!vg(Ij)){Wa(d[x],d[Rb]>200?Mlb:GA);bA(Nlb,this.hdc,100,this)}}else qma(d[x],f+Jm);this.FXb=k;up(d,0)}f=this.Nsc||(this.Qoa?5:7);d=this.sja||(this.Qoa?4:6);f=new en(this.OZb||this.b(),f,
!L);g=new Bm(Fh&&!this.CXb?0:-2,0,0,0);if(d==6)qk(g,-3);else if(d==4)ck(g,-4);f.If(c,d,g);if(!a.Ib()){Wm(c,k);c[x].brd=ud;if(Ng)dha(c[x],I)}};QH[w].hdc=function $oF(){if(this.fe().Ib()){var a=this.fe().Cd();Wa(a[x],a[Rb]>200?Mlb:GA);bA(Nlb,this.hdc,100,this)}};RH[w].JJ=E(i);RH[w].TJa=E(i);RH[w].pga=E(i);H(SH,hy);SH[w].wr=function $sF(){Ix(this);var a=this.jea();this.jw[p](a);return a};H(qRa,xx);qRa[w].K2a=B();qRa[w].K2a.Ka=h;F=TH[w];F.utb=0;F.ea=D("Sq");F.Hc=D("Sq");var uQ="gk";F.g_=D(uQ);F.vf=D(uQ);F.Uf=function $yF(){return this.Zh(oI)};F.GPa=function $zF(){return this.Zh(EN)};var Olb="^vm";F.Gs=function $AF(){return this.Zh(Olb)};F.Dd=function $BF(a){return this.kl[a]};F.Zh=function $CF(a){return this.kl?ef(this.kl,a):k};var Plb="kl";F.Jo=D(Plb);F.wua=function $EF(){return this.Oy()?this.Jl?[AL]:[]:this.Mm()?this.Jl?[BL]:[]:this.Zba};F.Oy=function $FF(){return this.Zh(AL)};F.Mm=function $GF(){return this.Zh(BL)};
var Qlb="rB";F.sH=D(Qlb);F.qjb=D("eQc");var Rlb=/_/;TH[w].Ojb=D("DQc");TH[w].LRa=function $KF(){if(this.Jl){this.Jl=k;this.Zba=[];this.utb=1;this.A4=this.hWa(this.A4);this.rB=this.hWa(this.rB);tRa(this);this.bI&&kya(this.bI,this,2)}};TH[w].hWa=function $LF(a){return a[mb](/<b>/gi,I)[mb](/<\/b>/gi,I)};var vRa=new RegExp(rRa,ag),uRa=new RegExp(sRa,ag);F=TH[w];F.mB=function $MF(a){this.bI.mb.Qf();try{a.Uf?this.bS(oI,1):this.TL(oI,1);this.aa.mB(a)}finally{this.bI.mb.Mf()}};
F.bS=function $NF(a,c){return this.dV(a,i,c)};F.TL=function $OF(a,c){return this.dV(i,a,c)};F.dV=function $PF(a,c,d){var f=k,g,j;if(Ye(c)){if(jf(this.kl,c)){jf(this.Zba,c);f=h}}else if(Ve(c))for(g=0;g<c[u];++g){j=c[g];if(jf(this.kl,j)){jf(this.Zba,j);f=h}}if(Ye(a)){if(!ef(this.kl,a)){this.kl[p](a);this.Jl&&this.Zba[p](a);f=h}}else if(Ve(a))for(g=0;g<a[u];++g){j=a[g];if(!ef(this.kl,j)){this.kl[p](j);this.Jl&&this.Zba[p](j);f=h}}if(f)this.bI&&kya(this.bI,this,d||4);return f};var Slb=" unread",Tlb=" labels=";
Ha(F,function $QF(){var a=[];a[p](this.gk);this.Jl&&a[p](Slb);a[p](Tlb+this.kl[kd](wj));this.rB&&a[p](J+this.rB);this.gda&&a[p](J+this.gda);return a[kd](I)});var Ulb="bI";F.Raa=Ge(Ulb);yx(xRa,TH);xRa[w].mB=B();H(yRa,xx);F=yRa[w];F.Lua=B();F.Lua.ic=h;F.h1=B();F.h1.ic=h;F.p3=B();F.p3.Ka=h;H(UH,oH);yx(yRa,UH);F=UH[w];F.Rja=-1;F.evb=0;F.Ay=function $WF(){return this.Ixa.Ay()};F.MT=function $XF(){return this.Ixa.MT()};F.axb=Ge("Rja");F.Fwb=Ge("Cab");var Vlb="Loading threadlist",Wlb="ari";F.Ja=function $_F(a){UH.C.Ja[z](this,a);a.Se(Vlb);a.Ua(pd,DE);this.Ixa.Ja(a);this.aa.p3(a);if(this.Gib){a.wl(h);a.Ne(mB);a.OW(k);a.Ua(GA,Hj);a.Ua(rd,ti);a.Ua(LD,Fi);this.Rja!=-1&&a.Ua(Wlb,this.Rja);a.sCa(3E4)}else{if(this.xl&&zHa(this.xl)||this.Cab)a.Ua(vl,Ah);a.wl(k);a.Ne(JP);a.OW(h)}};
var Xlb="ti",vQ="tb",Ylb="tlm",Zlb="tsp",amb="iu",bmb="tnt";
F.r_=function $0F(a,c){for(a=0;a<c[u];){var d=c[a],f=d[0];switch(f){case Xlb:f=this.Kd;f.oc==this&&f.YL(this.Ay(),this.MT());this.Kd.RU();f=this.Xi;f.Pc||f.set(new LRa(d));kB(this,2);a++;break;case vQ:a=this.Xfb(c,a);break;case Ylb:this.Kd.RU();ZH(this.Kd);this.Xi.RU();a++;break;case Zlb:this.QPc=h;f=d[1];this.Kd.PTa(f[0],f[1],f[2]);f=this.Xi;if(!f.Pc){f=f.J();MRa(f,d[2]);var g=d[3];if(g!=f.wna){f.wna=g;f[r](oy)}g=d[4];if(g!=f.y_a){f.y_a=g;f[r](oy)}d=d[5];if(d!=f.hEa){f.hEa=d;f[r](oy)}}kB(this,3);
a++;break;case jO:this.gla=h;this.Kd.uL(this);a++;break;case amb:this.Kd.RU();this.Xi.RU();this.pUb(d);a++;break;default:this.aa.Lua(f,d);a++;break}}if(this.aa.h1())this.gla=h;if(this.evb){kB(this,3);Jz(this.Z,793)&&aF(this.B()).Hz(bmb,this.evb)}};F.rza=function $1F(){this.gla||this.Kd.uL(this)};F.h1=D("gla");
F.Xfb=function $3F(a,c){var d=this.Xi.mb,f=d.za(qI),g;if(f)g=rI(f,this.Xi.Bb(),h);d.Qf();try{this.Xi.J();for(var j=c;j<a[u];){var n=a[j];if(n[0]!=vQ)break;var s=n[1],v=n[2];for(c=0;c<v;c++){var C;var M=this.Xi;if(M.Pc)C=void 0;else{var Y=new TH(M.gPb,n[c+3]);C=PRa(M,Y)}if(g){var ha=C.J();ISa(g,ha.Hc(),ha.dL)}GRa(this.Kd,this,s+c,C);this.evb++}j++}}finally{d.Mf()}return j};var wQ="Kd";F.wr=D(wQ);F.Zn=D("Xi");F.pUb=B();_B_prog(67)}catch(e){_B_err(e)}

try{F=zRa[w];F.Rf=0;F.Cf=50;F.zja=50;F.a1=kD;F.Ay=D("Rf");F.setStart=Ge("Rf");F.Nb=D(uea);F.wwb=Ge(Zkb);var cmb="a1";F.B6=D(cmb);F.lma=Ge(cmb);F.axb=Ge("Rja");ARa[w].Ola=function $dG(a){a[Mb]()};H(VH,bG);F=VH[w];F.Og=70;F.Lz=yLa;F.Uz=-1;F.Eo=-1;F.L8=-1;F.D=function $eG(){VH.C.D[z](this);this.L8=this.Eo=this.Uz=-1;Ia(this.ON,0);for(var a=this.PN.Oa(),c=0;c<a[u];c++)a[c].bB();this.PN[bc]();this.na.D();jf(this.qn.jw,this)};var dmb="PD";F.Yla=Ge(dmb);BRa[w].kia=D("PBc");H(CRa,N);F=VH[w];var xQ="Og";F.Jw=D(xQ);F.NO=function $iG(){if(this.oc)return l.min(this.Uz,this.oc.Ay());return this.Uz};F.jNa=function $jG(){return this.oc?[this.oc]:[]};F.hc=function $kG(a){return a>=this.Uz&&a<this.Eo};
F.J=function $lG(a){if(this.hc(a))return(a=this.ON[a])?a:i};na(F,function $mG(a){DRa(this);pRa(this.qn,this);this.oc=this.x7a(a);this.Ved.Ola(this.oc);return this.oc});F.uL=function $nG(a){if(this.oc==a){if(a.h1())this.Eo=a.Ay()+a.MT();this.oc=i}};qaa(F,function $oG(a){for(var c=this.Eo,d=this.Uz;d<c;d++)if(this.ON[d]==a){kf(this.ON,d);this.Eo--;YH(this,new WH(3,d));break}if(this.PN.J(a.Je())){a.bB();this.PN[Pb](a.Je())}});
cha(F,function $pG(a){var c=a.J();if(!(this.Uz>=this.Eo)){this.PN.J(a.Je())&&this[ad](a);var d=this.Uz,f=this.Eo,g=HRa(this),j=-1,n=this.ON[d];if(n)if(this.PD(n.J(),c)>0||d==0)for(d=d;d<f;d++){n=this.ON[d];if(!n)break;if(this.PD(n.J(),c)<1){j=d;break}}else return;if(j<0&&g!=f)j=g;if(j>=0){km(this.ON,a,j);this.PN.set(a.Je(),a);a.Iz();this.Eo++;this.L8++;YH(this,new WH(2,j,a))}}});F.PTa=function $qG(a,c,d){var f=new WH(6);f.Hcd=new BRa(a,c,d);YH(this,f)};
F.yib=function $rG(a){if(this.oc==a){DRa(this);this.Eo=a.Ay()+a.MT()}};var emb="Lz";F.zMa=D(emb);F.Es=function $tG(){return this.Lz==ly};F.RU=function $uG(){this.Lz=ly};F.rg=function $vG(){this.Lz=yLa;YH(this,new WH(5))};F.containsNode=function $wG(a){return this.PN.Xb(a.Je())};F.YL=function $xG(a,c){this.Lz=yLa;this.L8=this.Eo=this.Uz=a;this.Og=c;Ia(this.ON,0);a=this.PN.Oa();for(c=0;c<a[u];c++)a[c].bB();this.PN[bc]()};F.u7c=function $yG(){if(!this.Vha)this.Vha=h};
F.F0c=function $zG(){if(this.Vha){this.lVb=this.Vha=k;if(this.HD[u]){var a=new CRa(this,this.HD);this.HD=[];for(var c=[],d=this;d;d=d.rv())c[p](d);for(d=0;d<c[u];d++){sa(a,c[d]);jx(c[d],a[Zb],k,a)}}}};H(KRa,zRa);KRa[w].Fwb=Ge("Cab");H(aI,VH);yx(qRa,aI);aI[w].kPa=function $BG(a,c){var d=new BNa(this.qn.Bb(),c.Ay(),c.Nb());d.wwb(c.HY);a.Ixa=d;this.aa.K2a(a,c);d=c.B6();if(d==kD)a.Gib=k;else if(d==Ph)a.Gib=h;else e(Error(".146"));if(c.Rja)(d=c.Rja)&&a.axb(d);a.Fwb(!!c.Cab)};aI[w].x7a=function $CG(a){var c=new UH(this.qn,this);this.kPa(c,a);return c};H(LRa,uh);F=LRa[w];
F.fca=function $DG(a){var c=k;if(a[1]!=this.ug){this.ug=a[1];c=h}if(a[2]!=this.nj){this.nj=a[2];c=h}if(a[3]!=this.y_a){this.y_a=a[3];c=h}if(Boolean(a[3])!=this.wna){this.wna=Boolean(a[3]);c=h}if(a[5]!=this.ae){this.ae=a[5];c=h}if(a[6]!=this.ZZa){this.ZZa=a[6];c=h}if(a[7]!=this.Kmb){this.Kmb=a[7];c=h}if(a[8]!=this.hEa){this.hEa=a[8];c=h}if(a[9]!=this.oO){this.oO=a[9];c=h}if(a[10]!=this.dAb){this.dAb=a[10];c=h}if(a[11]!=this.j4a)this.j4a=a[11];if(a[5]!=this.ae){this.Cgc=a[12];this.r9b=a[13];c=h}c&&
this[r](oy)};F.Le=D(RN);var fmb="nj";F.xK=D(fmb);F.fN=D("wna");F.Qe=D(ge);F.xeb=D("hEa");var gmb="oO";F.I_=D(gmb);F.uua=D("dAb");F.DPa=D("j4a");F.Fc=function $MG(a){if(a!=this.ug){this.ug=a;this[r](oy)}};F.hdb=D("Kmb");var hmb=" total_threads=",imb=" estimates",jmb=" query=";Ha(F,function $OG(){var a=[];a[p](this.ug);a[p](hmb+this.nj);this.wna&&a[p](imb);a[p](jmb+this.ae);return a[kd](I)});H(NRa,xx);NRa[w].jea=B();NRa[w].jea.Rn=h;H(ORa,SH);yx(NRa,ORa);F=ORa[w];F.Bb=D(NO);F.rg=function $RG(){Ix(this);this.QK()};F.QK=function $SG(){ORa.C.QK[z](this);pRa(this);this.mb.Qf();try{for(var a=this.Uc().Oa(),c=0;c<a[u];c++)a[c].PK()}finally{this.mb.Mf()}};F.RU=function $TG(){Ix(this);lya(this)};F.jea=function $UG(){var a=this.aa.jea();a||(a=new aI(this));return a};var kmb=dI(MF),lmb=dI(EO),mmb=dI(oA),yQ="sc",nmb=dI(yQ),omb=dI(Ph),pmb=dI(ki),qmb=dI(QL),rmb="asc",smb=dI(rmb),tmb=dI(WE),zQ="nc",umb=dI(zQ),vmb=dI(Ej);var wmb=["#00681c","#790619","#5b1094","#c88900","#cc0060","#008391","#009486","#b90038","#846600","#330099"];VRa[w].cta=function $VG(a){var c=this.dHb[a];if(!c){c=wmb[this.Cf%wmb[u]];this.dHb[a]=c;this.Cf++}return c};H(WRa,uh);F=WRa[w];F.Hc=D("Sq");F.vf=D(uQ);F.Bb=D(NO);F.GT=function $ZG(){for(var a=new cg,c=XRa(this),d=0;d<c[u];d++){var f=this.GQa[c[d]];f&&a.Vl(f)}return a};F.Jo=function $_G(){return this.GT().Oa()};var xmb="threadid=",ymb=" msgids=";Ha(F,function $0G(){return xmb+this.gk+ymb+this.wf[kd](wj)});H(fI,xx);fI[w].nB=B();fI[w].nB.ic=h;fI[w].D=B();fI[w].D.Ka=h;H(gI,oH);F=gI[w];F.nj=-1;F.Jv=-1;F.Bya=k;var zmb="qX";F.fN=D(zmb);F.Ja=function $4G(a){gI.C.Ja[z](this,a);a.Ua(pd,OD);a.Ii(this.IY.Bb())};H(dSa,xx);dSa[w].p3=B();dSa[w].p3.ic=h;H(hI,gI);yx(dSa,hI);hI[w].tYa=Ge("IKb");var Amb="ser",Bmb="Loading message data",Cmb="Loading conversation";hI[w].Ja=function $7G(a){hI.C.Ja[z](this,a);a.bD(k);a.wl(k);a.Ua(PD,this.kX||this.Yda.vn());this.IKb&&a.Ua(RD,this.IKb);if(this.wf){a.Ne(JP);a.OW(k);a.Ua(X3a,this.wf[kd](wj));this.Tjd&&a.Ua(Amb,Hj);this.q_b&&a.Ua(Y3a,Hj);a.Se(Bmb)}else{a.Ne(JP);a.OW(h);a.Se(Cmb)}this.aa.p3(a)};var Dmb="cnf";
hI[w].r_=function $8G(a,c){a=k;this.Yda.mb.Qf();try{for(var d=0;d<c[u];d++){var f=c[d];switch(f[0]){case OL:vSa(this.Yda,f);kB(this,2);break;case lE:wSa(this.Yda,f);a=h;break;case Dmb:this.Bya=h;break;case qD:xSa(this.Yda);break}}}finally{this.Yda.mb.Mf()}if(a){kB(this,3);this.Wm&&this.Wm.rha&&this.Wm.rha()}};H(fSa,uh);F=fSa[w];F.Us=function $9G(){var a=[this.Ea.Dg(),this.Sq,this.lHa,lE,this.gf,this.VVa,this.eZ,this.fQb,this.dga,this.Nt,this.Od[hc](),this.hZa,this.vQ,this.iOa,this.QXb,this.zba,i,this.vub,this.Tib,this.Gxb,this.Qbb,this.Zwa,this.rB,this.XGa,this.gda,this.hxa,this.LPb,this.llb,this.wXa,this.Zhd,this.ewb,this.dwb,this.mYb,this.JOb,this.yic];this.aa.Us(a);return a};F.Bb=D(NO);F.Hc=D("Sq");F.OPa=D("Tib");F.ps=D("eZ");F.uy=D("fQb");var Emb="Od";jp(F,D(Emb));F.mi=D("zba");
F.sH=function $gH(){return this.rB?this.rB:this.zba};F.Zh=function $hH(a){return ef(this.vQ,a)};F.wua=function $iH(){return this.Oy()?iI(this)?[AL]:[]:this.Mm()?iI(this)?[BL]:[]:iI(this)?this.vQ:[]};F.Uf=function $jH(){return this.Zh(oI)};var Fmb="^bc";F.Mp=function $kH(){return this.Zh(Fmb)};F.Oy=function $lH(){return this.Zh(AL)};F.Mm=function $mH(){return this.Zh(BL)};var Gmb="^p";F.L7=function $nH(){return this.Zh(Gmb)};F.Ny=function $oH(){return this.eZ==1};F.wha=D("iOa");
F.Jga=function $qH(){return this.hxa||[]};F.Gs=D("Zwa");F.cta=D("lHa");F.H6=function $tH(){return this.aa.H6()};F.Vga=function $uH(){return this.aa.Vga()};F.Ijb=D("mYb");var Hmb="search=",Imb=" origthreadid=",Jmb=" msgid=",Kmb=" draft",Lmb=" snippet=";Ha(F,function $wH(){return Hmb+this.Ea+Imb+this.Sq+Jmb+this.gf+(this.Tib?Kmb:I)+Lmb+this.hZa+Tlb+this.hZa});F.bS=function $xH(a){return this.dV(a,i)};F.TL=function $yH(a){return this.dV(i,a)};
F.dV=function $zH(a,c){var d=k,f,g;if(Ye(c)){if(jf(this.vQ,c))d=h}else if(Ve(c))for(f=0;f<c[u];++f){g=c[f];if(jf(this.vQ,g))d=h}if(Ye(a)){if(!this.Zh(a)){this.vQ[p](a);d=h}}else if(Ve(a))for(f=0;f<a[u];++f){g=a[f];if(!this.Zh(g)){this.vQ[p](g);d=h}}d&&this[r](oy);return d};F.mB=function $AH(a){var c=[],d=[];this.aa.mB(a,c,d);a.Uf?c[ld](oI):d[ld](oI);this.dV(c,d)};bk(F,function $BH(){if(this.eZ!=2&&this.eZ!=1){this.eZ=3;this[r](oy)}});yx(jSa,fSa);F=jSa[w];F.Us=B();F.Us.Ka=h;F.wU=B();F.wU.Ka=h;
F.mB=B();F.mB.Ka=h;F.H6=B();F.H6.Ka=k;F.H6.Vd=h;F.Vga=B();F.Vga.Ka=k;F.Vga.Vd=h;_B_prog(68)}catch(e){_B_err(e)}

try{F=kSa[w];F.oGb=Qj;var Mmb="&view=att&th=",Nmb="&attid=",Omb="&disp=attd";F.fca=function $HH(a){this.z8=a[0];this.fileName=a[1];this.lL=a[2];this.wsa=a[3];this.QG=l[rb]((this.wsa+1023)/1024);lSa(this,a[4]);this.iJ=a[5];this.Ro=a[6];this.Lab=a[7];this.yM=a[8];this.cT=a[9];this.TM=a[10];this.QEa=a[11];this.REa=a[12];this.Fza=a[13];this.Gza=a[14];this.Pka=a[15];this.PEa=a[16];this.d9=a[17];this.X2=a[18];this.Kfa=a[19];this.Dwa=Boolean(a[20]);this.GBa=a[21];this.eda=Qj+Mmb+this.Vy+Nmb+this.z8+Omb};
F.Us=function $IH(){return[this.yL,this.Vy,this.z8,this[or],this.lL,this.wsa,this.hG,this.iJ,this.Ro,this.Lab,this.yM,this.cT,this.TM,this.QEa,this.REa,this.Fza,this.Gza,this.Pka,this.PEa,this.d9,this.X2,this.Kfa,this.Dwa,this.GBa]};
F.vc=function $JH(){var a=new kSa(this.yL,this.Vy);a.z8=this.z8;a.fileName=this[or];a.lL=this.lL;a.wsa=this.wsa;a.QG=this.QG;a.hG=this.hG;a.iJ=this.iJ;a.Ro=this.Ro;a.Lab=this.Lab;a.yM=this.yM;a.cT=this.cT;a.TM=this.TM;a.QEa=this.QEa;a.REa=this.REa;a.Fza=this.Fza;a.Gza=this.Gza;a.d9=this.d9;a.Pka=this.Pka;a.aY=this.aY;a.QNa=this.QNa;a.eda=this.eda;a.PEa=this.PEa;a.d9=this.d9;a.X2=this.X2;a.Kfa=this.Kfa;a.Dwa=this.Dwa;a.GBa=this.GBa;return a};
F.ET=function $KH(){return this.yL+mg+this.Vy+mg+this.z8+mg+this.hG};F=nSa[w];F.znb=0;F.Gnb=0;F.T2b=0;F.U2b=0;F.Hc=D("Sq");F.Nb=function $MH(){return this.sh[u]};F.XK=function $NH(){return!!this.vQc};H(pSa,uh);F=pSa[w];F.Jcc=function $OH(a){this.oIb=Ve(a)?Pmb(a):a};F.lAb=i;F.w5a=i;F.d4a=i;F.yub=i;F.o4a=i;F.m4a=i;F.l4a=i;F.n4a=i;
F.Us=function $PH(){return[this.Ea.Dg(),this.Sq,this.gf,this.p_a,this.rIa,this.wHa,this.tWa,this.zba,this.DB,this.sh.odd,this.tac,this.QVa,,this.pIb,this.UYa,this.fkc,this.Dec,this.Zdc,this.NHb,this.I_b,this.pfc,this.awa,this.uub,this.tub,this.FRa,this.oIb,[this.Zwa,this.bkc,this.ckc,this.dkc,this.Zjc,this.akc],this.rB,this.hxa,this.Rlb,this.Sec,[this.Rjb,this.xMb,this.Q2b,this.L2b,this.dZb],this.ahb,this.Jt,[rSa(this)],this.k8b,this.Vkd.kc(),this.mec,this.sXb,this.lIa]};F.Bb=D(NO);F.Hc=D("Sq");
F.PT=function $SH(a){if(a){if(!this.n4a)this.n4a=Exa(this.tWa);return this.n4a}else return this.tWa};F.mi=D("zba");F.sH=function $UH(){return this.rB?this.rB:this.zba};var Qmb="DB";F.Ew=D(Qmb);F.JYa=D("Dec");F.Kxb=D("Zdc");F.QYa=D("Sec");F.Wwa=D("Rjb");F.zKa=D("xMb");F.Hnb=D("Q2b");F.Zja=D("L2b");F.RQa=D("dZb");F.Idb=function $3H(){return this.QVa[1]};F.Gs=D("Zwa");F.Jga=D("hxa");F.Dia=function $6H(){return!!this.Jt&&this.Jt[0]==QN};F.Rxb=D("mec");F.lIa=D("Jvc");
F.kIa=function $9H(){if(typeof this.CIb=="undefined")this.CIb=!(Fh&&this.ahb>160||Ng&&this.ahb>460);return this.CIb};var Rmb="msgid=",Smb=" subject=";Ha(F,function $$H(){return Rmb+this.gf+Smb+this.sH()});H(lI,hy);lI[w].nM=function $aI(a){var c=new fSa(this.Ea,this.Sq,this.lHa,a);if(a[13][u]){a=new pSa(this.Ea,this.Sq,a[13]);this.za(eg).set(a)}this.set(c)};lI[w].PK=function $bI(){if(this.Fi()){this.mb.Qf();try{this.za(eg).PK();this.QK()}finally{this.mb.Mf()}}};lI[w].L=function $cI(){this.aa.D();lI.C.L[z](this)};yx(tSa,lI);tSa[w].D=B();tSa[w].D.Ka=h;H(uSa,hy);yx(fI,uSa);F=uSa[w];F.bVb=k;F.Bb=D(NO);F.Hc=function $fI(){return this.vn()};na(F,function $gI(a,c){Ix(this);var d=new hI(this);c&&d.tYa(c);a&&eSa(d,a);d[Mb]();return d});F.dlb=function $hI(){Ix(this);if(!this.hc())e(Error(".148"));for(var a=this.J().v0,c=[],d=0;d<a[u];d++)c[p](a[d]);a=new hI(this);d=this.J().vf();a.kX=d;a.wf=c;a.q_b=h;a[Mb]();return a};F.rg=function $iI(){Ix(this);if(this.Fi()){this.mb.Qf();try{for(var a=this.Uc().Oa(),c=0;c<a[u];c++)a[c].PK();this.QK()}finally{this.mb.Mf()}}};
F.GT=function $jI(){if(!this.hc())e(Error(".150"));return this.J().GT()};F.Jo=function $kI(){return this.GT().Oa()};F.wua=function $lI(){if(!this.hc())e(Error(".150"));for(var a=new cg,c=pI(this),d=0;d<c[u];d++){var f=c[d].wua();a.Vl(f)}return a.Oa()};F.nB=function $mI(a,c){if(this.hc()){Ix(this);for(var d=pI(this),f=0;f<d[u];f++){var g=d[f],j=g.gf;if(!this.aa.nB(g,j,a,c))if(c.Uf)j==a&&g.mB(c);else j<=a&&g.mB(c)}ASa(this)}};
F.YXa=function $nI(a,c){if(this.hc()){Ix(this);(a=this.za(a))&&a.hc()&&!a.Ds()&&a.J().mB(c);ASa(this)}};F.Yaa=function $oI(a,c){if(this.hc()){Ix(this);for(var d=pI(this),f=0;f<d[u];f++){var g=d[f];g.gf<=a&&iSa(g,c)}ASa(this)}};F.Xwb=function $pI(a,c){if(this.hc()){Ix(this);for(var d=0;d<a[u];d++){var f=this.za(a[d]);if(f&&f.hc()&&!f.Ds()){f=f.J();iSa(f,c)}}ASa(this)}};F.Wwb=function $qI(a){if(this.hc()){Ix(this);(a=this.za(a))&&a.hc()&&!a.Ds()&&a.J().TL(BL);ASa(this)}};
F.EFb=function $rI(a,c,d,f){if(this.hc()){Ix(this);a=!Ke(f);for(var g=pI(this),j=0;j<g[u];j++){var n=g[j];if(a||n.gf==f)for(var s=0;s<d[u];s++){var v=d[s];c?n.bS(v):n.TL(v)}}}};F.E4=function $sI(a,c){if(this.hc()){Ix(this);for(var d=pI(this),f=0;f<d[u];f++){var g=d[f],j=g.TL(a);c&&j&&g.bS(c)}}};F.Txc=function $tI(a){for(var c=0;c<a[u];c++){var d=a[c];d.OPa()||d[tk]()}};F.tka=function $uI(a,c,d,f){var g=this.J();ef(g.wf,c)||cSa(g,a,c,d,f)};F.Ydb=D("Whd");F.L=function $wI(){this.aa.D();uSa.C.L[z](this)};H(ESa,gI);var Tmb="cnp";ESa[w].r_=function $xI(a,c){a=k;this.IY.mb.Qf();try{for(var d=0;d<c[u];d++){var f=c[d];switch(f[0]){case Tmb:this.Fmd=f[1];this.KWc=f[2];this.nj=f[3];this.qX=f[4];this.Jv=f[5];this.LA=f[6];this.Wm&&this.Wm.zUb&&this.Wm.zUb();break;case OL:var g=this.IY.za(f[1]);vSa(g,f);this.on=g;kB(this,2);break;case lE:if(this.on){wSa(this.on,f);a=h}break;case Dmb:this.Bya=h;break;case qD:this.on&&xSa(this.on);break}}}finally{this.IY.mb.Mf()}if(a){kB(this,3);this.Wm&&this.Wm.rha&&this.Wm.rha()}};
var Umb="prev",AQ="next",Vmb="nextprev";ESa[w].Ja=function $yI(a){ESa.C.Ja[z](this,a);a.bD(k);a.wl(k);a.Ne(JP);a.OW(h);a.Ua(PD,this.gk);var c=this.Obd;if(c==oy)a.Ua(Umb,1);else if(c==Zx)a.Ua(AQ,1);else if(c==ki)a.Ua(Vmb,1);else e(Error(".151"))};H(FSa,gI);F=FSa[w];F.R2b=0;F.S2b=0;F.Eg=E(k);F.r_=function $AI(a,c){this.IY.mb.Qf();try{for(a=0;a<c[u];a++){var d=c[a];switch(d[0]){case OL:var f=d[1];if(!this.AOb.Xb(f)){var g=this.IY.za(f);vSa(g,d);this.mea=g}break;case lE:this.mea&&wSa(this.mea,d);break;case qD:if(this.mea){xSa(this.mea);this.R2b++;zSa(this.mea)&&this.S2b++;this.mea=i}break;case QL:this.Zbd=h;break;case Dmb:this.Wm&&this.Wm.bUb&&this.Wm.bUb(this,d[1]);break}}}finally{this.IY.mb.Mf()}};
F.Ja=function $BI(a){FSa.C.Ja[z](this,a);a.bD(k);a.wl(h);a.Ne(mB);a.OW(k);a.sCa(1E4);a.Ii(this.IY.Bb());a.Ua(pd,OD);a.Ua(PD,this.BV);a.Ua(W3a,Hj)};H(GSa,hy);GSa[w].Bb=D(NO);GSa[w].za=function $DI(a,c){Ix(this);var d=iy(this,a);if(d||c)return d;return new uSa(this.Ea,a,this)};GSa[w].rg=function $EI(){Ix(this);this.mb.Qf();try{for(var a=this.Uc().Oa(),c=0;c<a[u];c++)a[c].rg()}finally{this.mb.Mf()}};H(JSa,hy);F=JSa[w];F.P6c=function $FI(a){var c=a[dq],d=a.Pg.Bb();if(d!=i){a=c[0];(d=this.zp(d,c[1],k))&&ySa(d,a,c)}};F.za=function $GI(a,c){Ix(this);var d=iy(this,a);if(d||c)return d;if(a=Hy.f_(Rf(a)))return new GSa(a,this)};F.zp=function $HI(a,c,d){Ix(this);a=Qf(a.Dg())+Md+c;return jy(this,a,d)};F.nB=function $II(a,c,d){sI(this,a,function(f){f.nB(c,d)})};F.YXa=function $JI(a,c,d){sI(this,a,function(f){f.YXa(c,d)})};F.Yaa=function $KI(a,c,d){sI(this,a,function(f){f.Yaa(c,d)})};
F.Xwb=function $LI(a,c,d){sI(this,a,function(f){f.Xwb(c,d)})};F.Wwb=function $MI(a,c,d){sI(this,a,function(f){f.Wwb(c,d)})};F.SX=function $NI(a,c,d,f){this.t3(a,c,h,d,f)};F.m1=function $OI(a,c,d,f){this.t3(a,c,k,d,f)};F.t3=function $PI(a,c,d,f,g){sI(this,a,function(j){j.EFb(c,d,f,g)})};F.E4=function $QI(a,c){this.mb.Qf();try{for(var d=this.Uc().Oa(),f=0;f<d[u];f++)for(var g=d[f].Uc().Oa(),j=0;j<g[u];j++){var n=g[j];n&&n.E4(a,c)}}finally{this.mb.Mf()}};
F.tka=function $RI(a,c,d,f,g){Ix(this);this.mb.Qf();try{for(var j=this.Uc().Oa(),n=0;n<j[u];n++){var s=j[n].za(a);s&&s.hc()&&s.tka(c,d,f,g)}}finally{this.mb.Mf()}};F.Ydb=function $SI(a){for(var c=this.Uc().Oa(),d=0;d<c[u];d++){var f=c[d].za(a,h);if(f&&f.hc())if(f=f.Ydb())return f}return i};_B_prog(69)}catch(e){_B_err(e)}

try{Uw(O.S(),function(b){b=Dx(Cx(b));new JSa(b)});H(BI,Fn);wn("J-C7uZwb-I",function(){return new BI(i)});H(CI,Tn);Ne(CI);F=CI[w];F.ba=CI.C.ba;F.Cd=function $TI(a){return a&&a[Tb]&&a[Tb][Tb]&&a[Tb][Tb][Tb][Qc]};var Wmb="-KC",Xmb="-K9-KP";F.Cqa=function $UI(a,c){var d=this.Qb();return c.ba(T,zo+(d+Qka),c.ba(T,zo+(d+Rka),c.ba(T,d+Wmb,c.ba(T,d+Xmb,Ed),c.ba(T,d+Nn,a))))};
F.cVb=function $VI(a,c){if((c=a.W().Bp(c))&&c[uc][Db](this.Qb()+Qka)!=-1)if((c=a.W().Bp(c))&&c[uc][Db](this.Qb()+Rka)!=-1)if((c=a.W().Bp(c))&&c[uc][Db](this.Qb()+Wmb)!=-1)if((c=a.W().Bp(c))&&c[uc][Db](this.Qb()+Xmb)!=-1)if((a=a.W().LT(c))&&a[uc][Db](this.Qb()+Nn)!=-1)return h;return k};F.Qb=E(yI);wn(yI,function(){return new Fn(i,CI.S())});wn("J-K-ornU0b-I",function(){var b=new Fn(i,CI.S());Bn(b,16,h);return b});H(cTa,N);H(dTa,tB);var Ymb="The conversation has been deleted.",Zmb=" conversations have been deleted.";dTa[w].yp=function $XI(){var a;a=this.Cr()?Ymb:this.Mg()[u]+Zmb;return sB(this,a,7401)};H(EI,Jf);F=EI[w];F.vma=k;F.Tza=0;F.ab=i;F.Pfa=function $YI(){if(!this.ab&&!this.Tza)this.UN();else this.vma=h};Ga(F,function $ZI(){if(this.ab){Eh(this.ab);this.ab=i;this.vma=k}});F.pause=function $_I(){this.Tza++};F.sI=function $0I(){this.Tza--;if(!this.Tza&&this.vma&&!this.ab){this.vma=k;this.UN()}};F.L=function $1I(){EI.C.L[z](this);this[qc]()};F.ix=function $2I(){this.ab=i;if(this.vma&&!this.Tza){this.vma=k;this.UN()}};F.UN=function $3I(){this.ab=Dh(this.Li,this.Ly);this.Mk[z](this.na)};H(eTa,hy);var iTa=[I,0,0,0,h,k];
eTa[w].nM=function $4I(a){this.mb.Qf();try{for(var c=[],d=0;d<a[u];d++)c[d]=Qf(a[d][0]);var f;if(this.qj()==0){f=[];for(d=0;d<a[u];d++)f[d]=d+1}else{for(var g={},j=0;j<c[u];j++)g[c[j]]=h;var n=this.Uc(),s=n.Sb();for(j=0;j<s[u];j++){var v=s[j];if(!g[v]){var C=n.J(v);if(!C.Ds()){this.qr.Kka[Pb](C.J().SA);mya(C,h)}}}g=[];var M=this.Uc();n=j=k;s=-1;for(v=0;v<c[u];v++){var Y=M.J(c[v]);if(!Y||Y.Ds()){g[p](-1);n=h}else{var ha=Y.J().Nx;j=j||ha<s;s=ha;g[p](ha)}}j&&gTa(this,g,n);if(n||j){M=0;Y=1;for(j=ha=0;ha<
g[u];ha++){var tb=g[ha];if(tb==-1){if(j<=ha){for(j=ha+1;j<g[u];j++)if(g[j]!=-1)break;Y=((g[j]||M+j-ha+1)-M)/(j-ha+1)}tb=M+Y;g[ha]=tb}M=tb}}f=g}var zc=this.Uc();for(d=0;d<a[u];d++){var qb=a[d],nd=c[d],Fe=zc.J(nd),Pe=f[d];if(!Fe||Fe.Ds()){Fe||(Fe=new py(nd,this));var qg=new bEa(qb,Pe,this.B());Fe.set(qg);eVa(this.qr,Fe)}else{var te=Fe.J(),Zk=te.SA;if(te.fca(qb,Pe))if(te.SA!=Zk){this.qr.Kka[Pb](Zk);eVa(this.qr,Fe)}lya(Fe)}}my(this)}finally{this.mb.Mf()}};
eTa[w].PK=function $5I(){if(this.Fi()){this.mb.Qf();try{this.QK();for(var a=this.Uc().Oa(),c=0;c<a[u];c++)a[c].PK()}finally{this.mb.Mf()}}};F=mTa[w];F.Jo=function $6I(){for(var a=[],c=FI(this.exa),d=0;d<c[u];d++){var f=c[d].J();this.KYb(f)&&a[p](f)}return a};F.q6=function $7I(a){return(a=(a=this.exa.za(Qf(a)))&&a.J())&&this.KYb(a)?a:i};F.sga=function $8I(){return function(a,c){a=a.Nx;c=c.Nx;return a<c?-1:a>c?1:0}};F.Ltb=function $9I(a,c){this.MYb[p]({Tfa:a,scope:c})};F.D=function $$I(){this.Q.D()};
F.upb=function $aJ(a){for(var c=[],d=this.exa.mb,f=0,g;g=a.dG[f];f++)if((g=d.cj(g))&&g.hc()){g=Rf(g.vn());c[p](g)}a=new cTa(this,c);for(f=0;c=this.MYb[f];f++)c.Tfa[z](c[Pq],a)};var mVa=h,BQ={Ti:[]};F=JI[w];F.Nec=h;F.wzb=k;var anb="gGMWSc",bnb="margin-left";F.eb=function $bJ(a,c){this.hd=Cg(c);this.EJ=a;ok(this,this.hd[Qb](T));c[o](this[ll]);this.hp=nf(this.DQa.Jo());Q(this[ll],wTa(this.A7a()));if(this.wzb){var d;for(a=0;d=this.hp[a];a++){c=KI(this,d.ea());d=PTa(this,d);if(d>0){d=d*0.75;var f=QTa(this,c);K(c,anb);Dm(f,bnb,String(d)+zz)}}}};F.Cc=function $cJ(){return!!this.EJ};F.b=function $dJ(){return this[ll]||i};F.XXa=Ge("Wlb");
F.qA=function $fJ(a){for(var c,d=0;c=this.hp[d];d++){var f=KI(this,c.ea());if(f&&Zg(f,a[y])){if(c.P3())Fa(this.hd.ie(T,ETa,f)[0][x],I);K(f,bla);break}}};F.q_=function $gJ(a){for(var c,d=0;c=this.hp[d];d++){var f=KI(this,c.ea());if(!a[eb]||!Zg(f,a[eb])){if(c.P3())Fa(this.hd.ie(T,ETa,f)[0][x],yd);Ag(f,bla)}}};
F.qk=function $hJ(a){if(this.AQa)for(var c,d=0;c=this.hp[d];d++){var f=KI(this,c.ea());if(Zg(f,a[y])){var g=c.P3()&&this.Wlb?this.hd.ie(T,zTa,f)[0]:i;if(g&&Zg(g,a[y])){this.Wlb.pB(c,g);return k}f=QTa(this,f)[Tb][Tb];if(mVa||Zg(f,a[y])){this.AQa[z](this,c);return h}}}return k};F.D=B();F.UZ=function $jJ(a){if(this.hp)for(var c,d=0;c=this.hp[d];d++){c=c.ea();var f=KI(this,c);f&&a[p]({label:c,element:f})}return a};
F.EMa=function $kJ(a){if(this.hp)for(var c,d=0;c=this.hp[d];d++){c=c.ea();var f=KI(this,c);if(f){f=QTa(this,f);a[p]({label:c,anchor:f[Tb][Tb]})}}return a};var cnb="nZ";F.QQ=function $lJ(a,c){(a=this.Zh(a.ea())?KI(this,a.ea()):i)&&hm(a,cnb,c)};F.A7a=function $mJ(){var a=this.hp[u];Ia(BQ.Ti,a);for(var c=0;c<a;c++){BQ.Ti[c]=BQ.Ti[c]||{};MTa(this,BQ.Ti[c],this.hp[c])}return BQ};
F.fJc=function $nJ(a){if(this.Cc()){for(var c=k,d,f=0;d=a.Ti[f];f++){var g=this.Zh(d),j=this.DQa.q6(d);if(g&&!j){c=d;for(d=0;d<this.hp[u];d++)if(c==this.hp[d].ea()){c=d;d=this[ll][Tb][vma][0];d[nha]()&&d[Nc](d[cc][c]);kf(this.hp,c);break}c=h}else if(!g&&j){this.eGa(j);c=h}else j&&this.S_a(j)}this.YIb&&this.YIb(c)}};
F.eGa=function $oJ(a){var c=this[ll][Tb][vma][0],d=-(jm(this.hp,a,this.DQa.sga())+1),f=BQ.Ti[0]=BQ.Ti[0]||{};MTa(this,f,a);var g=this.hd[Qb](Zn);g.id=f.id;m(g,rTa);var j=this.hd[Qb](Do);m(j,uTa);if(a.P3())Q(j,xTa(f));g[o](j);j=this.hd[Qb](Do);Q(j,yTa(f));g[o](j);!c[nha]()||d==this.hp[u]?c[o](g):c[Bb](g,c[cc][d]);km(this.hp,a,d)};
F.S_a=function $pJ(a){var c=KI(this,a.ea()),d=QTa(this,c),f=a.Dp()!=I;hm(d,LTa,f);d=d[Tb][Tb];f=OTa(this,a);ah(d,f);ik(d,f);if(a.P3()){c=this.hd.ie(T,zTa,c)[0];d=Lj+a.lK();kp(c[x],Lj+a.PO());gma(c[x],d);ta(c[Tb][x],d)}};F.Zh=function $qJ(a){if(this.hp)for(var c,d=0;c=this.hp[d];d++)if(a==c.ea())return h;return k};H(LI,JI);LI[w].eb=function $rJ(a,c){LI.C.eb[z](this,a,c);this.Fh=a};LI[w].D=function $sJ(){LI.C.D[z](this);this.Qm.D()};H(MI,LI);var dnb="zw";MI[w].eb=function $tJ(a,c){MI.C.eb[z](this,a,c);K(this[ll],dnb)};H(NI,xx);F=NI[w];F.Ykb=B();F.Ykb.Ka=h;F.W5=B();F.W5.Vd=h;F.ceb=B();F.ceb.Rn=h;F.Qcb=B();F.Qcb.Rn=h;F.fQa=B();F.fQa.Rn=h;F.Vxb=B();F.Vxb.ic=h;_B_prog(70)}catch(e){_B_err(e)}

try{Ax(UTa,NI,0);UTa[w].W5=E("G9");UTa[w].fQa=E(k);H(PI,AD);var cUa={};F=PI[w];F.YK=k;F.ma=function $CJ(){PI.C.ma[z](this);fUa(this);this.oIa&&Pw(this.H(),QI(this),aB,this.oIa)};F.Ba=function $DJ(){this.oIa&&Ow(this.H(),QI(this),aB,this.oIa);PI.C.Ba[z](this)};F.zm=function $EJ(a){if(a!=this.YK){this.YK=a;fUa(this)}};F.LXa=Ge("yJa");F.Vo=D("YK");H(RI,xx);RI[w].zHa=B();RI[w].zHa.ic=h;RI[w].QQ=B();RI[w].QQ.Rn=h;zx(gUa,RI,0);var enb="qj",fnb="qi";gUa[w].zHa=function $JJ(a,c){if(this.X_.rWb){var d=CF,f=new Bm(2-d.top,0,2-d[fl],0);a=d.top;var g=d[rl],j=d[fl];d=d[Ck];var n=f.top,s=f[rl],v=f[fl];f=f[Ck];var C=SJa(a,g,j,d,n,s,v,f);a=(new gJa(new Bm(a,g,j,d),new Bm(n,s,v,f),C)).yn;g=Cg(c);this.lMb=iUa(this,g,a,enb);this.Cfc=iUa(this,g,a,fnb);c[o](this.lMb[ll]);c[o](this.Cfc[ll])}return h};var gnb="ol";
gUa[w].QQ=function $KJ(a,c){var d=KI(this.X_,a.ea());if(d){var f=fza(a.Bb());if(this.X_.rWb){var g=f?this.Cfc:this.lMb;if(c){bn(d,4,g[ll],4,new xg(-4,0));Wa(g.Myc[x],d[ql]-4+Jm)}Fa(g[ll][x],c?ud:yd)}if(this.X_.Zh(a.ea())){a=f?gnb:cnb;hm(d,a,c)}}return h};H(SI,LI);yx(RI,SI);var hnb="LrBjie";SI[w].eb=function $LJ(a,c){this.aa.zHa(a,c);SI.C.eb[z](this,a,c);K(this[ll],hnb)};SI[w].QQ=function $MJ(a,c){this.aa.QQ(a,c)||SI.C.QQ[z](this,a,c)};H(VI,AD);F=VI[w];var inb="z0";F.hq=function $NJ(a,c,d,f){var g=this.W()[Qb](T);Q(g,AI({id:I,xh:c}));m(g,inb);this.Gz(a,new YUa(g,d,f))};F.rG=function $OJ(a){var c=this.W()[Qb](T);m(c,VUa);this.Gz(a,new MUa(c))};F.Gz=function $PJ(a,c){this.bL[a][p](c);if(this.Cc()){c.eb(this,this.xKb[a]);WUa(this)}};F.cC=function $QJ(a,c){for(var d=0;d<this.bL[u];d++)if(c==undefined||d==c)for(var f,g=0;f=this.bL[d][g];g++)a(f,d)};F.W5=E(i);F.L=function $SJ(){VI.C.L[z](this);this.cC(function(a){a.D()})};
F.A7a=function $TJ(){return{FTc:this.X(RE),ETc:this.X(Kd),Vlb:this.X(Xx),xUc:this.X(Rd),rVc:this.X(Hz),sVc:UUa(this),bjb:k,tRa:this.vHb}};F.Vh=function $UJ(){VI.C.Vh[z](this);var a=this.ia.b();Q(a,GUa(this.A7a()));var c=this.W5();c&&K(a,c);an(a,h,h)};F.ma=function $VJ(){VI.C.ma[z](this);var a=this.xKb=[this.b(Kd),this.b(Rd)],c=this;this.cC(function(f,g){f.eb(c,a[g])});var d=this.b();Pw(this.H().w(d,[Xi,Yi],this.Spb),d,aB,this.mTa);IUa(this);WUa(this)};
F.Ba=function $WJ(){if(!this.Pc){Pg(this.b(Kd));Pg(this.b(Rd))}if(this.nm){this.nm.D();this.nm=undefined}this.D1b=k;this.H().wb();VI.C.Ba[z](this)};F.L=function $SJ(){this.cC(function(a){a.D()});VI.C.L[z](this)};F.Spb=function $XJ(a){OUa(this,a[y],function(c){a[Zb]==Xi?c.qA(a):c.q_(a)})};F.mTa=function $YJ(a){this.Cb.lf();var c;OUa(this,a[y],function(d){if(!(a[Zb]==P&&(a[Bc]||a[dd]))){c=d.qk(a);a[zb]();a[Ec]()}});c&&PUa(this,k)};
F.N3c=function $ZJ(a){if(a[Zb]==fj&&nm(a,0)||a[Zb]==Zi&&a[Sb]==13)PUa(this,!!!(this.nm&&this.nm.Bv()))};F.s7a=function $_J(){var a=new ZUa(this.b(),5,this.ifd,this),c=this.b(Xx);a=this.nm=new LG(c,a);cka(a);a.FVb=h;MG(this.nm,0,0,0,-5);a=G(this.H().w,this.H(),this.nm);a(mo,this.zpb);a(no,this.ypb);a(Go,this.xpb)};F.ifd=function $0J(a){var c=this.wdb();a=a[xk];var d=c[xk],f=this.b()[xk];if(a<f)ka(c[x],f-(a-d)+Jm)};F.zpb=function $1J(){RUa(this,h)};F.xpb=B();
F.ypb=function $3J(){ka(this.wdb()[x],I);RUa(this,k)};F.wdb=function $4J(){return this.nm.b()};F.YT=function $5J(a){if(a){IUa(this);WUa(this);this.nm&&this.nm.Ib()&&this.nm.If()}};F.Rwb=function $6J(a,c){if(a){var d=a.ea();this.cC(function(f){f.Zh&&f.Zh(d)&&f.QQ(a,c)})}};F=MUa[w];F.eb=function $7J(a,c){c[o](this.wa)};F.Cc=function $8J(){return this.wa[A]!=i};F.b=D(eo);F.UZ=Ee();F.qA=B();F.q_=B();F.qk=function $cK(){if(this.na){this.na[z](this.Ela);return h}return k};F.D=B();H(YUa,MUa);
YUa[w].eb=function $eK(a,c){this.lq=new BI(i,CI.S());this.lq.Pb(this.wa[Tb]);this.na&&ih(this.lq,Wn,this.na,k,this.Ela);c[o](this.wa)};YUa[w].qk=B();YUa[w].D=function $gK(){if(this.lq){this.lq.D();this.lq=i}};H(ZUa,dn);ZUa[w].If=function $hK(a,c,d){this.lFc[z](this.Ela,a);ZUa.C.If[z](this,a,c,d)};H(WI,xx);WI[w].Hoa=B();WI[w].Hoa.Ka=h;WI[w].iGa=B();WI[w].iGa.Ka=h;H(aVa,oH);var jnb="Loading labels";aVa[w].Ja=function $kK(a){aVa.C.Ja[z](this,a);a.Ua(pd,MN);a.Se(jnb)};H(YI,hy);yx(WI,YI);F=YI[w];F.L=function $lK(){this.Kka=i;YI.C.L[z](this)};na(F,function $mK(){Ix(this);if(this.oc)return this.oc;this.oc=new aVa(this);this.oc.Ie(this);this.oc[Mb]();return this.oc});F.rg=function $nK(){Ix(this);if(this.Fi()){this.mb.Qf();try{this.QK();for(var a=this.Uc().Oa(),c=0;c<a[u];c++)a[c].PK()}finally{this.mb.Mf()}}};
F.x2c=function $oK(a){a=a[dq];this.mb.Qf();try{var c=a[1],d=a[2];this.CFb(c);var f=this.za(cJ);if(f)f.nM(c);else new eTa(cJ,c,this);var g=this.za(ZI);if(g)g.nM(d);else new eTa(ZI,d,this);my(this)}finally{this.mb.Mf()}};F.wh=function $pK(a){if(this.oc==a)this.oc=i};F.CFb=B();F.BFb=B();F.AFb=B();H(bJ,VI);yx(NI,bJ);F=bJ[w];F.W5=function $tK(){return this.aa.W5()};F.ma=function $uK(){bJ.C.ma[z](this);hVa(this)};F.L=function $vK(){bJ.C.L[z](this);this.V_&&this.V_.D();this.zP&&this.zP.D();this.nm&&this.nm.D()};F.UZ=function $wK(a,c,d){this.cC(function(f){c==f instanceof SI&&f.UZ(a)},d);return a};F.EMa=function $xK(a,c,d){this.cC(function(f){c==f instanceof SI&&f.EMa(a)},d);return a};var knb="Compose Mail";
F.p5b=function $yK(){if(this.co.Fi()){this.V_.wb();Jz(Rz(this.B()),1033)&&this.hq(0,knb,this.i_c,this);lVa(this,nD(this.B()));nVa(this)}};F.i_c=function $zK(a){a[dd]||a[Bc]?AFa(this.Lh,a[Bc]):this.Zmb()};F.Zmb=function $AK(){QF(this,ZO);this.I8[bq]({view:QO})};F.Hpb=function $BK(){this.Ks=new lnb(this.B(),this,16);var a=this.zP=new CQ(this.B(),this.b(),this.Ks);this.cC(function(c){c.XXa&&c.XXa(a)})};F.H2c=function $CK(){hVa(this)};F.wdb=function $DK(){return Gg(T,DUa,this.nm.b())[0]||this.nm.b()};
F.s7a=function $EK(){bJ.C.s7a[z](this);this.nm.Laa(this.Bd.Zf);this.nm.RNb=k;this.aa.Ykb(this.H(),this.nm)};F.zpb=function $FK(a){bJ.C.zpb[z](this,a);nVa(this)};F.xpb=function $GK(a){bJ.C.xpb[z](this,a);var c=a[y];c&&this.zP&&this.zP.yUc(c)&&a[zb]()};F.ypb=function $HK(a){bJ.C.ypb[z](this,a);nVa(this)};F.dRb=function $IK(){return this.bL[0][2]};F.Spb=function $JK(a){if(!this.sNb||a[Zb]==Yi)bJ.C.Spb[z](this,a)};F.YT=function $KK(a){bJ.C.YT[z](this,a);XUa(this,this.G1);a&&nVa(this)};
F.Rwb=function $LK(a,c){if(a){var d=a.ea();this.cC(function(f){f.QQ&&f.QQ(a,c&&f.Zh(d))})}};F.B=function $MK(){return this[uq]()};H(oVa,xx);oVa[w].Nk=B();oVa[w].Nk.Ka=h;H(pVa,xx);pVa[w].Nk=B();pVa[w].Nk.Ka=h;H(zVa,pA);yx(pVa,zVa);zVa[w].TZc=function $PK(a){this[r](P);a[Ec]()};H(gJ,AD);F=gJ[w];F.ey=I;F.ug=I;F.lV=i;F.ha=function $QK(a){this.ia.ha(a)};F.Jf=function $RK(a,c){this.ia.Jf(a,c)};lk(F,function $SK(a){this.ia[Nc](a)});F.hq=B();F.Uc=function $UK(){return this.ia.Uc()};F.Fc=Ge(RN);F.Le=D(RN);F.aha=E(i);F.jB=B();F.AA=E(h);F.P1=function $_K(a){if(this.ey!=I){var c=this.ey[Cc](J);for(var d in c)Ag(this.b(),c[d])}a!=I&&K(this.b(),a);this.ey=a};F.hea=B();var DVa;H(iJ,AD);F=BVa[w];F.iod=3;F.hod=new Bm(CF.top,CF[rl],0,CF[Ck]);F.jod=new Bm(-2,0,0,0);F.Lyc=0;F.Kyc=new Bm(0,1,1,1);F.Nyc=new Bm(0,0,0,0);F=iJ[w];F.L=function $1K(){iJ.C.L[z](this);this.Wq.D();this.lV=i};F.ha=function $2K(a){this.Wq.ha(a)};F.Jf=function $3K(a,c){this.Wq.Jf(a,c)};lk(F,function $4K(a){this.Wq[Nc](a)});F.hq=function $5K(a){this.Wq.hq(a)};F.Uc=function $6K(){return this.Wq.Uc()};va(F,D(YP));F.P1=function $8K(a){this.Wq.P1(a)};F.Fc=function $9K(a){this.Wq.Fc(a)};F.Le=function $$K(){return this.Wq.Le()};
F.aha=function $aL(){return this.Wq.aha()};F.jB=function $bL(a){this.Wq.jB(a)};F.AA=function $cL(){return this.Wq.AA()};F.TE=function $dL(a){for(var c=this.Uc(),d=0;d<c[u];d++){var f=c[d];f.TE&&f.TE(a)}};var mnb="Ka";F.qc=function $eL(a){iJ.C.qc[z](this,a);this[r](mnb)};F.li=D("Wq");F.yka=B();_B_prog(71)}catch(e){_B_err(e)}

try{H(jJ,gJ);yx(oVa,jJ);F=jJ[w];F.zhc=k;F.ha=function $hL(a){this.hy.ha(a)};F.Jf=function $iL(a,c){this.hy.Jf(a,c)};lk(F,function $jL(a){this.hy[Nc](a)});F.hq=function $kL(a){this.W().ie(T,vVa,this.eq.b())[0][o](a.b());if(!this.Yf)this.Yf=[];this.Yf[p](a)};F.Uc=function $lL(){return this.hy.Uc()};F.Fc=function $mL(a){jJ.C.Fc[z](this,a);this.xo()};F.Cdc=function $nL(a){this.zhc=a;this.xo()};var DQ="pr",EQ="pv",nnb="alt",onb="Collapse",pnb="Expand";
F.jB=function $oL(a){if(this.FOb!=a){this.FOb=a;var c=this.eq.b(),d=this.W().ie(ne,de,c)[0];if(a){qm(c,DQ,EQ);d[Wb](nnb,onb)}else{qm(c,EQ,DQ);d[Wb](nnb,pnb)}this.hy.qc(a)}};F.AA=function $pL(){return!!this.FOb};var qnb="pS";F.hea=function $qL(){var a=this.ia;a.ha(this.lLb());a.ha(this.TKb());this.P1(qnb)};F.ma=function $rL(){jJ.C.ma[z](this);this.xo();this.H().w(this.eq.b(),[P,ij],this.Ynb);K(this.lV.b(),QE)};
F.Ba=function $sL(){jJ.C.Ba[z](this);this.H().wb();if(this.Yf){for(;this.Yf[u]>0;)this.Yf.pop().D();this.Yf=i}};F.lLb=function $tL(){if(this.XF)e(Error(".152"));var a=this[uq]();this.eq=new eE(a);var c={alt:onb};this.aa.Nk(c);this.eq.xb(wVa(c));c=this.W().ie(ne,de,this.eq.b())[0];fn(c,jo);K(this.eq.b(),EQ);this.XF=new BF(a);this.XF.so(this.eq);a=CVa();this.XF.U1(a.jod);DF(this.XF,a.hod,a.iod);a=this.XF.b();K(a,RE);return this.XF};F.aha=D("XF");
F.TKb=function $vL(){if(this.hy)e(Error(".153"));var a=this[uq]();this.hy=new gF(a);this.cw=new BF(a);this.cw.so(this.hy);K(this.cw.b(),TO);K(this.hy.b(),oe);a=CVa();this.cw.U1(a.Nyc);DF(this.cw,a.Kyc,a.Lyc);return this.cw};var rnb="h2",snb=" &raquo;";F.xo=function $wL(){if(this.Cc()){var a=Gg(rnb,tVa,this.eq.b())[0],c=this.Le();if(this.zhc){K(a,Jm);c+=snb}else Ag(a,Jm);Q(a,c);this.eq.qe()}};var FQ="La";
F.Ynb=function $xL(a){if(!(a[Zb]==ij&&(a[Ob]||a[Sb])!=13)){if(Bg(a[y],Jm))this[r](FQ);else{this.jB(!this.AA());this[r](hJ)}a[Ec]()}};H(kJ,iJ);kJ[w].Qh=function $yL(a,c){for(var d=this.Uc(),f=0;f<d[u];f++){var g=d[f];g.Qh&&g.Qh(a,c)}};kJ[w].TE=function $zL(a){kJ.C.TE[z](this,a);this.Wq.jB(EVa(this))};kJ[w].yka=function $AL(){var a=this.Wq.AA();if(a!=EVa(this)){var c=this[uq](),d=FVa+this[ec];a=a?1:0;this.lb.Yc(d,a);c=new lF(c);c.Yc(d,a);c.bh=h;c[Mb]()}};kJ[w].B=function $BL(){return this[uq]()};Nx(Mx(),14,function(b,a){return a?new jJ(b):new gJ(b)});H(GVa,kJ);Mx().Ug(2,function(b){b=b.B();var a=new GVa(b,Mx().Gn(14,b,k)),c=QIa(hF(b),Xz);dG(b).cCa(c,a)});GVa[w].GO=D("LU");GVa[w].TE=function $DL(a){var c=a.md();a=c==wE||c==YK||c==xE?a.Bb():i;a=Xy(a);XUa(this.LU,NC(this.cg,a))};H(HVa,xx);HVa[w].un=E(wN);HVa[w].un.Vd=h;H(IVa,AD);var tnb=155;F=IVa[w];F.DXa=0;F.Yh=function $FL(){return tnb};F.hGa=function $GL(a){var c;c=jm(this.Aj,a,JVa(k));c=c<0?-(c+1):c;km(this.Aj,a,c);K(a.Ra.b(),dP);this.ia.Jf(a.Ra,c)};F.sRb=E(i);F.daa=function $IL(a){for(var c=this.ia,d=c.Uc(),f=d[u]-1;f>=0;f--)if(d[f]==a){c.Vp(f);for(f=0;f<this.Aj[u];f++)if(this.Aj[f].Ra==a){this.Aj[jd](f,1);return h}break}return k};F.wH=function $JL(a){return(a=this.Aj[qH(this,a)])?a.Ra:i};F.FO=function $KL(a){return this.Aj[a]};
F.TE=function $LL(a){for(var c=0;c<this.Aj[u];c++){var d=this.Aj[c].Ra;d.TE&&d.TE(a)}};MVa[w].Hp=D(J3a);MVa[w].B6=D(cmb);MVa[w].lma=Ge(cmb);H(mJ,IVa);F=mJ[w];F.rKb=function $PL(){this[uq]();var a=this.lb.db(nJ),c=new Hf;if(Ue(a)){a=a[Cc](Bl);for(var d=0;d<a[u];d++){var f=a[d][Cc](xj);f!=I&&c.set(f[0],Number(f[1]))}}else{a=this.lb.nf(oJ);c.set(pJ,a?75:85)}this.iVa=c;this.iJa=h;yA++;try{this.ia.Ql(this.Yh());var g=this.Aj;if(g[u]>0){this.Aj=[];c=0;for(var j=g[u];c<j;c++)this.hGa(g[c])}}finally{zA()}this[uq]();this.H().w(this.Aa.Ya(),this.lb.Yn(oJ),this.Bic);this.Bic();Mx().Kh(240)};F.iJa=k;F.Yh=function $QL(){return sga||mJ.C.Yh[z](this)};
F.daa=function $RL(a){if(mJ.C.daa[z](this,a)){OVa(this);return h}return k};F.sRb=function $SL(a){if(!this.iJa)return i;return this.iVa.J(a)};F.Qh=function $TL(a,c){for(var d=0;d<this.Aj[u];d++){var f=this.Aj[d].Ra;f.Qh&&f.Qh(a,c)}};F.hGa=function $UL(a){this.iJa?mJ.C.hGa[z](this,a):this.Aj[p](a)};F.daa=function $RL(a){if(!this.iJa)return jf(this.Aj,a);mJ.C.daa[z](this,a)};
F.Bic=function $VL(){this[uq]();var a=qH(this,pJ),c=qH(this,ZI),d=this.lb.nf(oJ);if(a==i||c==i)this.lb.db(nJ)||this.iVa.set(pJ,d?75:85);else d!=c<a&&NVa(this,a,c)};H(qJ,PI);yx(HVa,qJ);qJ[w].TE=function $WL(a){this.zm(a.md()==SO)};qJ[w].rSa=function $XL(){if(DD())vE(this[uq]());else{QF(this,fcb);this.jb[bq]({view:SO})}};qJ[w].jmb=Ee();H(rJ,xx);rJ[w].AYa=B();rJ[w].AYa.ic=h;rJ[w].Pca=B();H(VVa,kJ);yx(rJ,VVa);Mx().Ug(2,function(b){b=b.B();var a=new VVa(b,Mx().Gn(14,b,k));a.aa.AYa()?sH(b).Rca(a,sJ,95):a.D()});VVa[w].hea=function $0L(){var a=this.B();if(!bx()||Rz(a)[Bq](5058))this.aa.Pca(this,a)};VVa[w].Pca=function $1L(a,c){this.c2b.set(a,c);this.ha(c)};H(tJ,pB);F=tJ[w];F.Bb=D(NO);F.Ii=Ge(NO);F.Hc=D("Sq");F.cD=Ge("Sq");F.Cr=function $6L(){return this.wf[u]==1};F.Ja=function $7L(a){tJ.C.Ja[z](this,a);a.Be(Xx,this.wf);a.Ii(this.Ea)};H(vJ,tJ);vJ[w].Wd=E(i);vJ[w].Zg=E("Starring message");vJ[w].Ja=function $$L(a){vJ.C.Ja[z](this,a);this.aa.Ja(a)};yx(XVa,vJ);XVa[w].Ja=B();YVa[w].zC=ki;YVa[w].UXa=Ge("zC");H(xJ,vH);xJ[w].D=function $cM(){xJ.C.D[z](this)};xJ[w].yK=Me;xJ[w].Bb=Me;xJ[w].B=D(JF);var bWa=1,unb="parent";yJ[w].Ig=Ge(unb);yJ[w].Zj=function $fM(a,c){return this[Oc].Zj(a,c)};yJ[w].vs=function $gM(a,c){return this[Oc].vs(a,c)};yJ[w].W=function $hM(){return this[Oc].W()};H(cWa,yJ);F=cWa[w];va(F,D(LL));F.I2=Me;F.fZc=function $jM(a,c,d){var f=a[Zb];return f==P||f==ej?this.Vya(a,c,d):f==ij?this.mob(a,c,d):f==Xi?this.R3b(a,c,d):f==fj?nm(a,2)?void 0:this.Wya(a,c,d):f==pj?void 0:k};F.R3b=Me;F.Vya=Me;F.mob=Me;F.Wya=Me;dWa[w].ea=function $kM(){return this.zYb.ea()};dWa[w].getItem=D("zYb");dWa[w].Vo=D("YK");var vnb="bF";dWa[w].Eb=D(vnb);H(zJ,cWa);var wnb=aWa(),xnb=aWa(),GQ={};F=zJ[w];F.Wla=Ge("Ada");var HQ='<td id="',ynb="-x3",znb="-jd",IQ='<input id="',Anb="-jc",Bnb='" type="checkbox" aria-labelledby="',JQ=' checked="true"',Cnb=" /></td>";
F.sW=function $pM(a,c){var d=a[Vp]().ea();GQ.Mwc=this.Zj(xnb,d);GQ.qq=this.Zj(wnb,d);GQ.fRc=this.eRc?this.Zj(this.eRc,d):I;GQ.LH=a.Vo();lma(GQ,I);GQ.Oeb=this.Iua;GQ.jwc=this.Ada?J+this.Ada:I;a=c||new U;a[R](HQ,GQ.Mwc,S,GQ.Oeb+ynb,GQ.jwc,yF,V(GQ[x]),W);xI({Hb:GQ.Oeb+znb},a);a[R](IQ,GQ.qq,S,GQ.Oeb+Anb,Bnb,GQ.fRc,Vf,GQ.LH?JQ:I,Cnb);c||a[t]()};
F.I2=function $qM(a,c){var d=c.ea(),f=c.H_a;if(f&2){var g=this.vs(xnb,d);if(g){var j=c.Eb();g=Wg(g);if(L)if(j){a=Sw(a);j=Sw(g[mha]);g[x].top=a-j+5+Jm}else g[x].top=I;else Fa(g[x],j?ud:I)}}if(f&1)if(d=this.vs(wnb,d))zp(d,c.Vo())};F.Wya=function $rM(a,c,d){c=d[Vp]();c=this.Zj(xnb,c.ea());a[y].id==c&&a[zb]();return h};F.Vya=function $sM(a){a.gNb=h;a[y][Ek]();return h};F.mob=function $tM(a){return a[Sb]==13};_B_prog(72)}catch(e){_B_err(e)}

try{eWa[w].sM=function $uM(){this.Wra++};eWa[w].ww=function $vM(){this.Wra!=0&&this.Wra--};H(AJ,AD);F=AJ[w];F.uz=Me;F.cub=Me;F.insertRow=Me;F.hB=Me;F.Oic=Me;F.AHa=Me;F.PLa=Me;F.QGa=Me;F.eM=Me;F.Rdb=Me;F.eua=Me;F.Lub=Me;F.MPb=Me;H(BJ,tB);var Dnb="All conversations have been added to ",Enb="All conversations have been removed from ",Fnb=" and added to ",Gnb="The conversation has been added to ",Hnb="The conversation has been removed from ",Inb=" conversations have been added to ",Jnb=" conversations have been removed from ";
BJ[w].yp=function $wM(){var a;a=this.okb;var c=this.pkb;a=this.Lp()?c[u]==0?Dnb+(CJ(this,a)+He):a[u]==0?Enb+(CJ(this,c)+He):Enb+(CJ(this,c)+(Fnb+(CJ(this,a)+He))):this.Cr()?c[u]==0?Gnb+(CJ(this,a)+He):a[u]==0?Hnb+(CJ(this,c)+He):Hnb+(CJ(this,c)+(Fnb+(CJ(this,a)+He))):c[u]==0?this.Mg()[u]+(Inb+(CJ(this,a)+He)):a[u]==0?this.Mg()[u]+(Jnb+(CJ(this,c)+He)):this.Mg()[u]+(Jnb+(CJ(this,c)+(Fnb+(CJ(this,a)+He))));return sB(this,a,6560,h)};var Knb="acn",Lnb="rcn";
BJ[w].Ja=function $xM(a){BJ.C.Ja[z](this,a);a.Ua(fG,this.UR);a.Ua(Knb,this.okb);a.Ua(Lnb,this.pkb)};H(fWa,tB);var Mnb="Drafts have been deleted from all conversations.",Nnb="Drafts have been deleted from the conversation.",Onb="Drafts have been deleted from ";fWa[w].yp=function $yM(){var a;a=this.Lp()?Mnb:this.Cr()?Nnb:Onb+(this.Mg()[u]+Dab);return sB(this,a,i,k)};H(gWa,tB);gWa[w].Ja=function $zM(a){if(!this.hia)e(Error(".156"));if(this.Ea.Ga()!=Yy)e(Error(".157"));gWa.C.Ja[z](this,a)};var Pnb="All messages marked spam have been deleted forever.";gWa[w].yp=function $AM(){return sB(this,Pnb,i,k)};H(hWa,tB);var Qnb="All conversations have been delivered.",Rnb="The conversation has been delivered.",Snb=" conversations have been delivered.";hWa[w].yp=function $BM(){var a;a=this.Lp()?Qnb:this.Cr()?Rnb:this.Mg()[u]+Snb;return sB(this,a,6602,k)};H(iWa,tB);iWa[w].Ja=function $CM(a){if(!this.hia)e(Error(".158"));if(this.Ea.Ga()!=Zy)e(Error(".159"));iWa.C.Ja[z](this,a)};var Tnb="All messages in the Trash have been deleted forever.";iWa[w].yp=function $DM(){return sB(this,Tnb,i,k)};H(DJ,xx);F=DJ[w];F.Oca=B();F.Oca.Ka=h;F.Fs=B();F.Fs.ic=h;F.KW=B();F.KW.Ka=h;F.XRb=B();F.qqb=B();F.qqb.Ka=h;F.D=B();F.D.Ka=h;F.qja=B();F.qja.Vd=h;F.Udb=E(I);F.Udb.Vd=h;var GJ;H(FJ,VB);yx(DJ,FJ);Nx(Mx(),16,function(b){return new FJ(b)});var JJ={},KJ=[];F=FJ[w];F.Me=I;F.b2=h;F.oyb=h;F.Jy=I;F.On=I;F.oga=D("Yf");F.T1=function $NM(a){this.om.T1(a);this.Me=a};var KQ="On";F.gp=Ge(KQ);F.jh=D(KQ);F.vc=function $QM(){var a=wWa(this);OWa(a,this.Jy);return a};var Unb='<div act="',Vnb='" class="AO" tabindex="0">',Wnb='<div class="AQ">';
F.wc=function $RM(){if(this.Owa)e(Error(".160"));la(JJ,this.jh());JJ.EYa=this.Ar(19);JJ.iuc=19;var a;a=new U;a[R](JJ.EYa?Unb+JJ.iuc+Vnb+JJ[jb]+Z:JJ[jb]?Wnb+JJ[jb]+Z:I);a=a[t]();this.Hvb=[a,this.oyb?this.aa.Udb():I,LWa(this),this.b2?HWa(this):I,this.b2?AWa(this):I];this.Ar(20)&&km(this.Hvb,JWa(this),this.Hvb[u]);Mx().Kh(90,this);JJ.Zgd=this.Hvb;OWa(this,jWa(JJ))};F.D=function $SM(){FJ.C.D[z](this);this.aa.D()};F.ma=function $TM(){FJ.C.ma[z](this);this.Owa&&this.b2&&PWa(this)};
F.D=function $SM(){ph(this.b());FJ.C.D[z](this);this.om.D();for(var a in this.Yf){ph(this.Yf[a]);this.Yf[a].D()}this.Yf=i};F.qja=function $UM(a){this.oyb&&this.aa.qja(a)};
F.p8=function $VM(){if(!this.Wyc){ph(this.b());var a=this.b(BWa),c=this.b(CWa);if(a){this.om.ZLb(a,c);this.om.B8a(c,a)}else this.om.B8a(c,c);a=this.X(xWa);var d;c=this.b()[ic](T);for(var f,g=0;f=c[g];g++){d=i;var j=Number(f[Uc](fG)||f.act);if(f.id==a){d=this.om;f=f;d.XM=JXa(d,f,f,f,d.RXc);d.p2a=d.W().ba(T,{"class":xo,style:DG});f[A][A][o](d.p2a);d=d.XM}else if(j==19||j==20)this.H().w(f,[fj,P,ij],this.M0c);else if(j&&f[uc][Db](yI)!=-1){d=new BI(i,CI.S());d.Pb(f);d.kb=j;this.Yf[j]=d}d&&ih(d,Wn,this.lh,
k,this)}this.Wyc=h}};F.lh=function $WM(a){a[y].b();var c=a[y].kb;uC(this.Cb);if(!ia(c)&&c>0){var d=c==13?this.Me:a[y].un();this[r](new XB(c,d));a[Ec]();this.Cb.lf()}};F.r_a=function $XM(){this.p8();this.om.r_a()};F.s_a=function $YM(){this.p8();this.om.s_a()};F.q_a=function $ZM(){this.p8();this.om.q_a()};F.Fs=function $_M(a){switch(a){case 13:case 7:case 9:case 10:case 8:case 4:case 17:case 15:case 16:case 18:case 20:case 19:return h}return this.aa.Fs(a)};var Xnb=":21";
F.M0c=function $0M(a){var c=a[Zb],d=a[y],f=k,g=d[A],j=I;g=Number(d[Uc](fG)||d.act||g&&d[A][Uc](fG));if(ia(g)||!this.Ar(g))g=0;if(c==fj&&a[Cb]==(L?1:0)&&g==19){f=this.nMb=h;uC(this.Cb);if(L)bA(Xnb,this.Cb.lf,0,this.Cb);else{this.Cb.lf();a[zb]()}}else if(c==P&&g==19&&this.nMb)this.nMb=k;else if(g&&(c==P||c==ij&&(a[Sb]==13||Jg&&a[Sb]==3))){f=h;uC(this.Cb);this.Cb.lf();g==20&&this.aa.qqb();a[Ec]()}if(f&&g>0){j=g==13?this.Me:d[Tb][md];this[r](new XB(g,j))}};
F.KW=function $1M(a,c){switch(a.Ga()){case iz:c==wE&&TB(this,16,h);break;case Yy:TB(this,17,h);TB(this,18,h);break;case Zy:TB(this,17,h);TB(this,9,h);break;case Py:TB(this,13,h);TB(this,9,h);TB(this,10,h);break;default:TB(this,7,h);TB(this,9,h);TB(this,10,h)}a.Ga()==Py&&this.T1(a.Pt());this.oyb=c!=YK;this.aa.KW(a,c);this.Ea=a};H(LJ,Rn);Ne(LJ);LJ[w].Pb=function $2M(a,c){c=LJ.C.Pb[z](this,a,c);this.rKa(a,Gg(Do,YWa,c)[0]);return c};H(RWa,Mn);Ne(RWa);RWa[w].Qb=E(UJ);H(MJ,Qn);MJ[w].Onb=i;MJ[w].ma=function $4M(){MJ.C.ma[z](this);NJ(this)};wn(UJ,function(){return new MJ(i)});H(OJ,Sn);F=OJ[w];F.e0b=0;F.Me=I;F.HGa=k;F.eEc=0;var Ynb="-JJ";F.ba=function $5M(){OJ.C.ba[z](this);var a=this.W(),c=a.ba(T,this.li().Qb()+Ynb,this.cxa=a.ba(T,i,this.Me),this.gm=a.ba(zm,{type:Il})),d=this.b();a[o](d,c);this.vqa=a.ba(T,this.li().Qb()+Nn);a[o](d,this.vqa);TWa(this)};
F.ra=function $6M(a,c){if((c=OJ.C.ra[z](this,a,c))&&a&&this.Cc()){this.gCa(I);if(!this.Ve&&this.gm){this.Ve=new Am(this.gm);an(this.gm,k);ih(this.Ve,zm,this.kUb,k,this);ih(this.gm[A],P,this.H4b,k,this);if(this.HGa)this.nLa=[]}}else c&&!a&&UWa(this);return c};F.L=function $7M(){UWa(this);this.cxa=this.gm=undefined;OJ.C.L[z](this)};F.gCa=function $8M(a){if(this.gm){pa(this.gm,a);WWa(this,a)}};F.GE=function $9M(){return this.gm&&Ye(this.gm[q])?this.gm[q]:I};
F.kUb=function $$M(){WWa(this,this.gm[q]);var a=Kn(this);if(!a||!a.Ib())Ln(this);this[r](cXa)};F.Qo=function $aN(a){if(a[dd]||a[Bc]||a[rc]||a[Sb]==36||a[Sb]==35)return k;if(a[Sb]==27){this[r](kj);return h}return OJ.C.Qo[z](this,a)};F.dp=function $bN(a){OJ.C.dp[z](this,a);a=this.Cd();var c=Kn(this)?Kn(this).b():i;if(c&&Zg(a,c)){var d=L?0:a[ol],f=c[ol]+c[ql]-d-(a[Wc]+a[Nk]);a.scrollTop+=l.max(f,0);f=a[Nk]-(c[ol]-d);a.scrollTop-=l.max(f,0)}};F.H4b=function $cN(){this.gm[Ek]()};
F.Cd=function $dN(){return this.vqa||this.b()};F.Ff=function $eN(a){this.wa=a;a=this.W().ie(T,this.li().Qb()+Ynb,a)[0];this.cxa=Wg(a);this.gm=Yg(this.cxa);(this.vqa=(a=Yg(a))&&Bg(a,this.li().Qb()+Nn)?a:i)&&XWa(this,Wg(this.vqa));XWa(this,Yg(a));TWa(this)};H(QJ,Jf);QJ[w].fe=D("Ls");QJ[w].L=function $gN(){QJ.C.L[z](this);this.Ls.D();this.Ls=i};H(dXa,QJ);dXa[w].l3c=function $hN(a){a=a[y];if(Kn(a)){var c=Kn(a).b();Number(c[Uc](fG)||c.act)==14&&a.dp(-1)}};dXa[w].o3c=function $iN(a){if(a[Sb]==9){this.lq.vj()&&kXa(this,h);a[zb]()}};_B_prog(73)}catch(e){_B_err(e)}

try{H(iXa,dXa);iXa[w].j3c=function $jN(a){if(a[y]instanceof RJ){a=[];kXa(this,jXa(this,a,a))}};iXa[w].Vm=function $kN(a){a=a[y].b();a=Number(a[Uc](fG)||a.act);this.lq.Hi(k);uC(this.Cb);if(a==78)this.M_b&&this.M_b();else if(a==14){a=this.Ls.GE();this.aLb&&this.aLb(a)}else{a=[];var c=[];jXa(this,a,c)&&this.FFb&&this.FFb(a,c)}};H(SJ,Mn);Ne(SJ);SJ[w].Pb=function $lN(a,c){c=SJ.C.Pb[z](this,a,c);this.Uaa(a,c,h);if(Bg(c,this.Qb()+oXa))lXa(a,2);else Bg(c,this.Qb()+nXa)?lXa(a,1):lXa(a,0);return c};SJ[w].Qb=E(xXa);H(RJ,Qn);RJ[w].Dda=0;RJ[w].k3a=k;RJ[w].ox=function $nN(a){switch(this.Dda){case 0:mXa(this,this.k3a?1:2);break;case 1:mXa(this,2);break;case 2:mXa(this,0);break}var c=this.li().Qb()+Fja;return this[r](a[y]&&Bg(a[y],c)||this.k3a?mj:Wn)};wn(xXa,function(){return new RJ(i)});H(pXa,xx);F=pXa[w];F.tra=E(i);F.tra.Vd=h;F.pCa=B();F.pCa.Vd=h;F.Uga=E(i);F.Uga.Vd=h;F=GXa[w];F.Jo=D(Plb);F.q6=function $sN(a){return this.Jia[a]};F.sga=function $tN(){var a=this;return function(c,d){var f=a.HT(c.kb),g=a.HT(d.kb);return g>f?1:g<f?-1:fm(a.q6(c.kb).Nx,a.q6(d.kb).Nx)}};F.Ltb=B();F.D=B();F.HT=function $wN(a){return this.I1[a]||0};F.hCa=function $xN(a,c){this.I1[a]=c};F.AJb=function $yN(){this.I1={}};H(VJ,VB);yx(pXa,VJ);Nx(Mx(),19,function(b){return new VJ(b)},1);VJ[w].Me=I;VJ[w].Fmb=h;VJ[w].ikb=h;VJ[w].B2c=function $zN(){this.K2()};var vXa={},Znb=vXa;Znb[8]=FN;Znb[9]=JN;Znb[10]=LN;F=VJ[w];F.T1=Ge(AM);F.Dd=D(AM);F.ZLb=function $CN(a,c){this.hV=JXa(this,a,a,c,this.W3c,h);this.Hmb=this.W().ba(T,{"class":xo,style:DG});a[A][A][o](this.Hmb);return this.hV};F.B8a=function $DN(a,c){this.U_=JXa(this,a,c,a,this.u2c,h);this.jkb=this.W().ba(T,{"class":xo,style:DG});a[A][A][o](this.jkb);return this.U_};
F.tra=function $EN(a){return this.aa.tra(a)};F.pCa=function $FN(a){this.aa.pCa(a)};F.s_a=function $GN(){this.hV&&KXa(this,this.hV)};F.q_a=function $HN(){KXa(this,this.U_)};F.r_a=function $IN(){KXa(this,this.XM)};F.Yb=function $JN(){for(var a=[this.U_,this.XM,this.hV,this.aa.Uga()],c=0;c<a[u];c++){var d=a[c];d&&d.Hi(k)}};F.aQ=function $KN(a){if(a[y]instanceof Sn||a[y]instanceof OJ){this.Cb.lf();LXa(a[y].b())}};var LQ="mam_before_show",aob=":22";
F.W3c=function $LN(){this[r](LQ);if(this.Fmb){PXa(this);this.Fmb=k;if(Jg||L)bA(aob,G(this.APb,this,this.iV.fe()),100)}for(var a=this.iV.fe(),c,d,f=0;d=a.rb(f);f++){var g=d.b();g=Number(g[Uc](fG)||g.act);if(g==76)d.ra(d.kb!=this.Dd());else if(g){d.ra(this.Ar(g));g=d;var j=!d.Ib();if(!a.z9)a.z9={};a.z9[g.ea()]=j;if(d.Ib())c=d}else if(d instanceof Hn){d.ra(!(c instanceof Hn));c=d;g=!d.Ib();if(!a.z9)a.z9={};a.z9[c.ea()]=g;c=d}}dE(this.B()).pb(this.kp==wE?zgb:Bgb);NJ(a.rb(rn(a)-2));LXa(this.Hmb,10)};
F.u2c=function $MN(){this[r](LQ);if(this.ikb){QXa(this);this.ikb=k;if(Jg||L)bA(aob,G(this.APb,this,this.DA.fe()),100)}for(var a=this.DA.fe(),c=[],d,f=0;d=a.rb(f);f++)if(d instanceof RJ){lXa(d,this.Qm.HT(d.kb)||0);c[p](d)}c[el](this.Qm.sga());a.Cd();for(f=0;d=c[f];f++)a.Jf(d,f);dE(this.B()).pb(this.kp==wE?Dgb:Fgb);LXa(this.jkb,10);kXa(this.DA,k)};
F.RXc=function $NN(){this[r](LQ);this.hn||RXa(this);var a=this.hn.fe(),c=IXa(this),d,f,g=this.ac().oga();if(UXa(this))for(d=0;f=c[d];d++){a.rb(d).ra(!g[f]&&this.Ar(f));a.rb(d).Ac(MXa(this,f))}else for(d=0;f=c[d];d++){a.rb(d).ra(!g[f]&&ef(this.dMb,f));a.rb(d).Ac(k)}this.XM.b()[Ek]();dE(this.B()).pb(this.kp==wE?xgb:ygb);LXa(this.p2a,10)};F.APb=function $ON(a){if(a.gm){pa(a.gm||i,I);(a.gm||i)[Ek]()}};
F.V3c=function $PN(a){var c=a[y].b();c=Number(c[Uc](fG)||c.act);uC(this.Cb);if(!ia(c)&&c>0)if(c==78)this.j7b();else if(c==14)(a=Pf(this.iV.fe().GE()))&&hEa(this.cg,a,this.zLa)?this.s3(76,a):OXa(this,76);else this[r](new XB(c,a[y].kb));dE(this.B()).pb(this.kp==wE?Agb:Cgb)};F.t2c=function $QN(){dE(this.B()).pb(this.kp==wE?Egb:Ggb)};F.fUc=function $RN(a){a&&hEa(this.cg,a,this.zLa)?this.s3(14,a):OXa(this,14)};F.t3=function $SN(a,c){this[r](new XB(77,[c,a]))};
F.DWa=function $TN(){Wm(VJ.Em,k);var a=this.W().cb(),c=Mg(pm(a)||ba);Rm(VJ.Em,a[Lc][bl],l.max(this.Cb.Nr[Rb],c[id]));Wm(VJ.Em,h)};F.j7b=function $UN(){this.jb[bq]({view:dJ,fk:LC})};F.s3=function $VN(a,c){this[r](new XB(a,c))};var bob='" (create new)';F.vSa=function $WN(a,c){if(!this.Y6a&&!this.CGa)a.ra(k);else{c=Pf(c);if(c==I){a.ra(h);a.lM(FXa)}else{var d=hEa(this.cg,c,this.zLa);a.ra(d);var f=this.W();d&&a.xb(f.ba(PJ,i,Vf,f.ba(Ph,i,c),bob))}}};
F.K2=function $XN(){var a=OC(this.Aa.za(LC),h);this.Qm=new GXa(this.B(),a);this.Fmb=this.ikb=h};F.Fs=function $YN(a){switch(a){case 76:case 77:case 78:return h}return VJ.C.Fs[z](this,a)};F.L=function $ZN(){VJ.C.L[z](this);this.hV&&this.hV.D();this.DA&&ph(this.DA.fe().b());this.U_&&this.U_.D();this.XM&&this.XM.D();this.aa.Uga()&&this.aa.Uga().D();this.d1b()};F.ZRa=B();F.d1b=B();F=eYa[w];F.qpa=Me;F.xHa=Me;F.dN=Me;F.Rcc=uN;F.eta=E(-1);F.m6b=Me;F.J3b=Me;F.PTa=Me;F.i6b=Me;F.brb=Me;F.b7b=Me;F.XTa=Me;F.Z6b=Me;F.a7b=Me;F.TFb=Me;F.mC=Me;F.UKb=Dy(i);F.idb=Dy(0);F.gub=Dy(I);F.kac=Dy(I);F=fYa[w];F.Og=20;F.Nza=0;F.T2a=0;F.n8=0;F.LBa=h;F.cXa=h;F.E_=k;F.Jw=D(xQ);F.Saa=Ge(xQ);F.Ut=D("Nza");F.nxb=Ge("LBa");F.Yla=Ge(dmb);H(gYa,uh);F=gYa[w];F.hIb=Zx;F.zm=function $7N(a){for(var c=[],d=a.Sb(),f=0;f<d[u];f++){var g=d[f],j=a.J(g);if(j!=this.Vo(g)){if(j)this.Cx[g]=h;else delete this.Cx[g];c[p](g)}}this[r](new iYa(c))};F.E6=function $8N(){return new Hf(this.Cx)};F.Vo=function $9N(a){return!!this.Cx[a]};F.XG=D("hIb");H(iYa,N);dk(aK[w],function $aO(a){return this.thd(a)});var MQ="All",NQ=new aK(cz,MQ,E(h)),OQ="None",cob=new aK(xd,OQ,E(k));H(bK,AD);F=bK[w];F.nR=h;F.EF=0;F.Th=-1;F.ft=2;F.mV=Zx;F.p4a=0;F.wc=function $bO(){var a=this.ia;Ff(this.jU,function(c){a.ha(c)});a.ha(this.Lj);this.kda=new eE(this[uq]());a.ha(this.kda);Ff(this.Fbb,function(c){a.ha(c)});this.H().w(this.vl,lYa,this.YJc);this.Uva()};F.cdc=Ge(KP);F.oma=Ge(vz);F.wr=D(wQ);F.Ut=D("az");F.Jw=D(xQ);F.Saa=Ge(xQ);F.nxb=Ge("LBa");F.vy=D(fnb);F.getItem=function $kO(a){return this.qi.J(a)};F.Dp=function $lO(){return this.Om[u]};
F.FO=function $mO(a){if(a<0||a>=this.Om[u])return i;return this.Om[a]};F.Zsa=function $nO(){return this.Om[this.Th]};F.Mn=function $oO(a){this.Th=a;eK(this)};var dob="mV";F.ndc=Ge(dob);F.getSelection=D(VL);F.xwa=function $rO(){return this.Ll.hc()};F.eXb=function $sO(){this.Ll.rg()};F.Ydd=function $tO(a,c){a.w(this.Aa.Ya(),this.Ll.Je(),c)};var eob="NS";F.cja=Ge(eob);F.hSb=function $vO(){for(var a=0,c=this.Om,d=0;d<c[u];d++)this.vl.Vo(c[d].g_())&&a++;return a};
F.Wb=function $wO(){this.Tl=h;CYa(this);yYa(this)};F.Df=function $xO(){this.Tl=k;eK(this)};F.Wvc=function $yO(){this.vda()};F.ola=function $zO(){pYa(this,kD)};Bp(F,function $AO(){this.vda();this.NS=k;this.Ll.rg();pYa(this,kD);CYa(this)});F.ZVa=function $BO(a){pYa(this,a)};F.luc=function $CO(a){var c=this.NS;this.cja(k);this.Ll.rg();pYa(this,Ph,a);!this.Bh&&c&&this.cja(h)};F.cp=function $DO(){this.nR=k;cK(this)};F.uW=function $EO(){this.ft=2;this.Th=-1;eK(this);this.SWa=i;this.NS=k};
F.JQ=function $FO(){this.Tl&&this.LBa&&this.Lj.eM(this.Th)};F.cC=function $GO(a){for(var c=this.qi.Oa(),d=0;d<c[u];d++)a[z](this,c[d])};F.hB=function $HO(){return eK(this)};F.Uva=function $IO(){this.H().w(this.Aa.Ya(),this.Ll.Je(),this.efb);this.H().w(this.Aa.Ya(),this.Ll.pua(),this.dIc);this.Kd=this.Ll.wr();this.Kd.Yla(this.PD);this.H().w(this.Kd,XH,this.aIc)};F.vda=function $JO(){if(this.Bh){var a=this.Bh;this.Bh=i;a[wc]()}};F.CFc=function $KO(){return this.kda?this.kda.b():i};
var fob="HmCP1d",gob='" role="main"><col class="',hob="Cm",PQ='"><col class="',iob="oj0HKf",job='"><col><tbody>';F.sGa=function $LO(){var a=this.Dp(),c=this.na.idb(),d=l.max(0,c-a),f=this.na.kac();if(!(d==this.p4a&&!f)){var g;g=new U;g[R](Fl,ul,J,fob,gob,hob,PQ,iob,job);g=g[t]();g=[g];g[p](f);Jg&&d==1&&a==0&&g[p](aYa(i));var j=-1;a||(j=l[rb](c/2));for(a=0;a<d;a++)a==j?g[p](cYa({ke:this.na.gub()})):g[p](ZXa(i));this.p4a=d;g[p](dYa(i));a=this.kda.b();Q(a,g[kd](I));if(L)if(d||f)Ag(a,BYa);this.kda.qe(Wx)}};
F.uz=function $MO(a,c){var d=k,f;a:{for(f=0;f<this.Om[u];f++)if(this.Om[f].ea()==a){f=f;break a}f=-1}if(f!=-1){var g=this.Ll.za(a);if(g.hc()&&!g.Ds()){d=g.J();this.qi.set(a,d);this.Om[f]=d;this.Lj.uz(f,d,c);d=h}}return d};
F.oBa=function $NO(a){var c=-1;if(a==this.Th){c=this.na.eta(a);if(c<0||c>=this.EF)c=a}else c=this.Th;this.EF--;var d=this.Lj.cub(a);this.qi[Pb](d);var f=this.Fia.J(d);if(f){f.bB();this.Fia[Pb](d)}c>=0&&a<c&&c--;kf(this.Om,a);if(c<0)this.Mn(-1);else this.Th>=this.EF?this.Mn(this.EF-1):this.Mn(c)};F.efb=function $OO(){this.Ll.hc()};
F.dIc=function $PO(a){if(!this.nR&&this.Bh)this.eKa=h;else{for(var c=a.dG,d=c[u],f=0;f<d;f++){var g=c[f],j=this.Aa.cj(g);if(j.ac()==this.Ll){j=j.vn();if(this.qi.Xb(j)){this.Gka[p](j);this.GUa[j]|=a.aJ[g]}}}this.Gka[u]&&this.Ui(vA)}};
F.aIc=function $QO(a){yA++;try{for(var c=k,d=0;d<a.dG[u];d++){var f=a.dG[d];if(f[Zb]==1)c=h;else if(f[Zb]==2){if(c){cK(this);c=k}if(this.nR){var g=f[Lq]-this.Rf;if(g>=0&&(g<this.Og||this.E_)){var j=g,n=f.Ih,s=n.J();this.Fia.set(s.ea(),n);this.qi.set(s.ea(),s);n.Iz();this.Om[u]==this.Og&&!this.E_&&this.oBa(this.Og-1);km(this.Om,s,j);this.Th>=j&&this.Th<this.Og-1&&this.Th++;this.EF++;this.Lj[oq](j,s);eK(this)}}else this.eKa=h}else if(f[Zb]==3){if(c){cK(this);c=k}if(this.nR){g=f[Lq]-this.Rf;if(g>=0&&
(g<this.Og||this.E_))this.oBa(g)}else this.eKa=h}else if(f[Zb]==5)c=this.nR=k;else if(f[Zb]==7){if(this.eKa){cK(this);c=k}this.nR=h}else if(f[Zb]==6){xYa(this);this.na.PTa(f.Hcd)}}c&&cK(this)}finally{zA()}this.na.TFb()};F.AH=function $RO(a){a==this.Bh&&AYa(this)};F.wh=B();F.uPc=function $TO(){return this.Kd.Es()};F.yib=function $UO(a){this.Kd.yib(a)};F.Ya=function $VO(){return this};F.mha=function $WO(a){this.na.mC(a)};F.qca=function $XO(){this.na.brb()};
F.di=function $YO(a,c,d){bK.C.di[z](this,a,c,d);if(this.Gka[u]){a=this.Gka;c=this.GUa;d=k;for(var f=0;f<a[u];f++){var g=a[f];d|=this.uz(g,c[g])}d&&eK(this);Ia(this.Gka,0);this.GUa={}}};var QQ="Na";F.YJc=function $ZO(a){var c={};this.cC(function(g){c[g.g_()]=g});for(var d=0;d<a.kh[u];d++){var f=c[a.kh[d]];f&&this.qi.Xb(f.ea())&&this.Lj.Oic(f)}this[r](QQ)};
F.zD=function $_O(a){var c=this.Ll.J().xK();a==NQ&&c>this.Og?this.Qz(GF):this.Qz(Zx);var d=new Hf;this.cC(function(f){var g=f.g_();d.set(g,a[Fk](f))});this.vl.zm(d);this.na.m6b(a)};F.Qz=function $0O(a){if(this.vl.XG()!=a){this.vl.hIb=a;this.na.J3b(a)}};F.uNa=function $1O(){var a=new mYa;a.Ovb=this.vl.E6();a.gIb=this.vl.XG();return a};F.DI=function $2O(a){var c=a.Ovb;a=a.gIb;jYa(this.vl);this.vl.zm(c);this.Qz(a)};F.nnb=function $3O(){if(this.Th<this.EF-1){this.mV=Zx;this.Mn(this.Th+1);this.JQ();return h}return k};
F.Q8b=function $4O(){if(this.Th>0){this.mV=oy;this.Mn(this.Th-1);this.JQ()}return k};_B_prog(74)}catch(e){_B_err(e)}

try{var HYa=[3E5,12E4,6E5,18E4,36E5,3E5,-1,6E5];F=DYa[w];F.DRc=0;F.xya=0;F.D=function $5O(){if(this.ab){cA(this.ab);this.ab=i}if(this.Hh){this.Hh.D();this.Hh=i}};F.ix=function $6O(){this.ab=i;GYa(this,Zf())};F.bWa=function $7O(){this.Qdd[z](this.na)};F=JYa[w];F.getSelection=D(VL);F.zD=function $9O(a){this.xa.zD(a)};F.Jib=function $$O(){return this.vl.XG()==dK};F.Kib=function $aP(a){return this.Jib()||a==45||a==46};F.hua=function $bP(a){return this.Kib(a)?oYa(this.xa):this.xa.hSb()};F.XG=function $cP(){return this.vl.XG()};F.Qz=function $dP(a){this.xa.Qz(a)};H(gK,AJ);gK[w].GB=-1;var kob=[Xi,fj,P,ij,pj];L&&kob[p](ej);F=gK[w];var lob="Cp";F.wc=function $eP(){this.zC==kD&&this.hg.sf(1);L&&K(this.hg.b(),BYa);var a=this.hg.b();K(a,lob);this.H().w(a,kob,this.W7c);this.HDa=new xm(a);this.H().w(this.HDa,cj,this.X7c);this.H().w(this.HDa,dj,this.Y7c)};F.L=function $fP(){gK.C.L[z](this);if(this.HDa){this.HDa.D();this.HDa=i}};
F.insertRow=function $gP(a,c){this.GB>=a&&this.GB<this.xa.Jw()-1&&this.GB++;var d=this.hg.b()[ic](Wd)[0];if(d){a=d[oq](a);c=jK(this,c);this.TD.zWc(a,c)}else{this.AHa();this.QGa(c);this.PLa()}};F.uz=function $hP(a,c,d){a==this.Rdb()&&this.Cb.lf();a=hK(this,a);c=jK(this,c,i,d);this.TD.uz(a,c)};
F.cub=function $iP(a){var c=this.hg.b(),d=Wg(c);for(c=a;d;){var f=Wg(d);if(c>=f[kl][u])c-=f[kl][u];else{d=f[kl][Ab](c);var g=iK(this,d);d==this.Izb&&this.Cb.lf();f.deleteRow(c);this.hg.qe(Wx);if(a<this.GB)this.GB--;else if(a==this.GB){this.GB=-1;this.FIa=i}return g}d=Yg(d)}return i};F.hB=function $jP(a){var c=this.eN();if(!c&&this.GB>=0)NYa(this,this.GB,k);else{this.GB>=0&&NYa(this,this.GB,k);c&&a>=0&&NYa(this,a,h)}};F.Oic=function $kP(a){var c=this.b(RE+a.ea());a=jK(this,a,1,i);this.TD.uz(c,a)};
var mob='<table cellpadding="0" id="',nob="<tbody>";F.AHa=function $lP(){this.Fba=new U;var a={Hzb:this.X(J4a),zmd:this.GDa};var c=this.Fba,d=c||new U;d[R](mob,a.Hzb,S,a.zmd,W);c||d[t]();this.ZJb&&this.ZJb.xed(this.Fba);c=(a=this.Fba)||new U;c[R](nob);a||c[t]()};F.PLa=function $mP(){this.Fba[R](KYa());var a=this.W()[Qb](T);Q(a,this.Fba[t]());this.hg.b()[o](a);this.Fba[bc]();L&&Ag(this.hg.b(),BYa);this.hg.qe(Wx)};F.QGa=function $nP(a){this.TD.WL(jK(this,a),this.Fba)};
F.eM=function $oP(a){(a=hK(this,a))&&this.Cb[wq](a,1)};F.Lub=function $pP(){var a=this.hg.b();Q(a,I);L&&K(a,BYa);this.GB=-1;this.FIa=i;this.Rdb()!=-1&&this.Cb.lf()};F.MPb=function $qP(){this.hg.b()[ql]};F.Rdb=function $rP(){return this.eua(this.Izb)};F.eN=E(h);
F.W7c=function $tP(a){var c=a[Zb];if(!(c==fj&&!nm(a,0)&&!nm(a,2)))if(!((c==P||c==ej)&&!nm(a,0))){a.gNb=k;var d=PYa(this,a[y]);if(d)if(c==P||c==ej)this.V8(a,d);else if(c==ij)this.BTa(a,d);else if(c==Xi)OYa(this,a,d);else if(c==fj)OYa(this,a,d);else c==pj&&this.ATa(a,d);else c==fj&&a[zb]();if(a.gNb){c=this.xa[Vp](iK(this,d));var f=a[dd];this.xa.Qz(Zx);a=c.g_();if(f&&this.FZb){a:{c=this.FZb;f=this.xa.Om;for(var g=0;g<f[u];g++)if(f[g].g_()==c){c=g;break a}c=-1}f=this.eua(d);if(c==-1)c=f;d=l.min(c,f);
c=l.max(c,f);f=!this.vl.Vo(a);g=new Hf;var j=this.xa.Om;for(d=d;d<=c;d++)g.set(j[d].g_(),f);this.vl.zm(g)}else kYa(this.vl,a);this.FZb=a}}};F.BTa=function $uP(a,c){OYa(this,a,c)};F.V8=function $vP(a,c){OYa(this,a,c)};F.ATa=function $wP(a,c){OYa(this,a,c)};F.X7c=function $xP(a){this.Izb=PYa(this,a[y])};F.Y7c=function $yP(){this.Izb=i};F.eua=function $zP(a){var c=this.hg.b();c=Wg(c);for(var d=0;c;){for(var f=Wg(c)[kl],g=f[u],j=0;j<g;j++){if(f[Ab](j)==a)return d;d++}c=Yg(c)}return-1};
F.Zj=function $AP(a,c){return this.X(a+c)};F.vs=function $BP(a,c){return this.b(a+c)};QYa[w].zC=ki;QYa[w].GDa="F cf";QYa[w].UXa=function $CP(a){return this.zC=a};var oob='<COL class="';RYa[w].xed=function $DP(a){for(var c=0;c<this.yJ[u];c++){var d=this.yJ[c];a[R](oob);a[R](d.ey);a[R](W)}};H(lK,cWa);lK[w].ao=function $EP(){return this[Oc][Oc].ao()};lK[w].B=function $FP(){return this[Oc].B()};H(nK,lK);var pob={},qob="xW",rob='"><span title="',sob="</span></td>";nK[w].sW=function $GP(a,c){this.hI(a,pob);a=c||new U;a[R](QG,qob,J,CK,rob,pob.sod,Gl,pob.wAc,W,pob.Hnd,sob);c||a[t]()};nK[w].hI=function $HP(a,c){a=a[Vp]();var d=a.ea();c.Hnd=a.A4;c.sod=a.Mhc[mb](Rlb,J);c.wAc=this.Zj(UP,d)};nK[w].I2=function $IP(a,c){if(c.XY&2){a=c[Vp]();if(c=this.vs(UP,a.ea())){Q(c,a.A4);ik(c,a.Mhc[mb](Rlb,J))}}};_B_prog(75)}catch(e){_B_err(e)}

try{H(oK,xx);F=oK[w];F.Y_a=B();F.Y_a.ic=h;F.qeb=Me;F.qeb.Vd=h;F.Acb=B();F.Acb.Vd=h;H(pK,lK);var RQ={},tob="yf",uob="Ab",vob="Voicemail",wob="xL",xob="Calendar event",yob="yE",zob="Attachment",Aob="xM",Bob="Chat log",SQ="</td>";
pK[w].sW=function $LP(a,c){this.hI(a,RQ);RQ.tMb=this.aa.pWa(RQ);a=c||new U;a[R](QG,tob,J,CK,W);if(RQ.tMb)a[R](RQ.tMb);else if(RQ.Gs)xI({Hb:uob,title:vob,je:RQ.kCb,Xe:RQ.lCb},a);else if(RQ.fda)RQ.Jtc==0?xI({Hb:wob,title:RQ.fda,alt:xob,je:RQ.rIb,Xe:RQ.d5a},a):xI({Hb:yob,title:RQ.fda,alt:zob,je:RQ.Brb,Xe:RQ.Crb},a);else RQ.GPa?xI({Hb:Aob,alt:Bob,je:RQ.S3,Xe:RQ.U3},a):a[R](MH);a[R](SQ);c||a[t]()};pK[w].hI=function $MP(a,c){var d=a[Vp]();c.GPa=d.GPa();c.fda=d.gda;c.Gs=d.Gs();c.Jtc=d.XGa;this.aa.Jj(a,c)};
yx(qK,pK);qK[w].Jj=B();qK[w].Jj.Ka=h;qK[w].pWa=B();qK[w].pWa.Rn=h;H(sK,lK);var TQ="fu";sK[w].Mc=D(TQ);sK[w].Ac=Ge(TQ);var Cob={};sK[w].sW=function $RP(a,c){this.hI(a,Cob);a=c||new U;a[R](QG,CK,W,Cob.Zad,SQ);c||a[t]()};sK[w].hI=function $SP(a,c){a=a[Vp]();c.Zad=this.fu?a.f8b:I};H(tK,lK);var UQ={ppa:[]},Dob="yX";tK[w].sW=function $TP(a,c){this.hI(a,UQ);WYa(this,UQ);a=c||new U;a[R](QG,Dob,J,CK,W);UYa(UQ,a);a[R](SQ);c||a[t]()};tK[w].I2=function $UP(a,c){if(c.XY&2)if(this.vs(wO,c.ea())){this.hI(c,UQ);WYa(this,UQ);Q(a,UYa(UQ))}};tK[w].hI=function $VP(a,c){a=a[Vp]();var d=a.ea();c.Vhd=a.M1;c.Uhd=this.Zj(wO,d);Ia(c.ppa,0);this.aa.Jj(c,a)};yx(XYa,tK);XYa[w].Jj=B();XYa[w].Jj.Ka=h;H(ZYa,lK);var VQ={};F=ZYa[w];var Eob="zy",Fob="y4";F.sW=function $XP(a,c){this.hI(a,VQ);a=c||new U;if(VQ.Mm){a[R](QG,Eob,J,CK,W);xI(Kw(VQ,{Hb:r0a,alt:LN}),a)}else{a[R](QG,Fob,J,CK,W);xI(Kw(VQ,{Hb:VQ.nld,As:VQ.old}),a)}a[R](SQ);c||a[t]()};var WQ="si";F.hI=function $YP(a,c){var d=a[Vp](),f=d.ea();c.old=this.Zj(WQ,f);c.Mm=d.Mm();c.nld=this.aa.rqa(d);c.alt=this.aa.eKb(d);this.aa.O2a(a,c)};F.I2=function $ZP(a,c){if(c.XY&1){a=c[Vp]();if(c=this.vs(WQ,a.ea()))m(c,this.aa.rqa(a))}};
F.Wya=function $_P(a,c,d){this.ao().aP(d.ea());sC(this.B()).lf();a[zb]();return h};F.Vya=E(h);F.mob=function $1P(a){return a[Sb]==13};yx(aZa,ZYa);F=aZa[w];var Gob="y3",Hob="zG";F.rqa=function $2P(a){return a.Uf()?Gob:Hob};F.rqa.Vd=h;F.eKb=function $3P(a){return a.Uf()?KN:I};F.eKb.Vd=h;F.O2a=B();F.O2a.Ka=h;H(uK,xx);uK[w].zYa=E(k);uK[w].zYa.ic=h;yx(uK,bZa);var Iob=[],Job=[],Kob=[],Lob=[TI,AL,BL,GN],XQ=[TI,oI,DN,IN,AL,BL,EN,CL];bZa[w].Wsa=function $6P(a){var c=a.Jo();Ia(Iob,0);Ia(Job,0);for(a=0;a<c[u];a++){var d=c[a];Mf(d,Ty)?Iob[p](d):Job[p](d)}Ia(Kob,0);(c=Xy(this.Ea))&&!ef(XQ,c)&&cZa(this,Kob,c);for(a=0;a<Iob[u];a++){d=Iob[a];ef(Lob,d)&&d!=c&&!this.aa.zYa(d,this.Ea)&&cZa(this,Kob,d)}for(a=0;a<Job[u];a++){d=Job[a];d!=c&&cZa(this,Kob,d)}return Kob[kd](J)};H(wK,lK);var Mob={},Nob='" tabindex="0" role="link" class="';wK[w].sW=function $7P(a,c){this.hI(a,Mob);a=c||new U;a[R](HQ,Mob.iRc,Nob,CK,W);hZa(Mob,a);a[R](SQ);c||a[t]()};var Oob="lssc";wK[w].hI=function $8P(a,c){a=a[Vp]();var d=a.ea();c.dxa=this.mkb.Wsa(a);c.m2=mZa(this,a);c.xfc=a.SCa;c.qjb=a.qjb();c.iRc=this.Zj(Oob,d);c.nkb=this.Zj(qd,d);c.qgc=this.Zj(oF,d)};
wK[w].I2=function $9P(a,c){a=c[Vp]();var d=a.ea();c=c.XY;if(c&4){var f=this.mkb.Wsa(a),g=this.vs(qd,d);if(g)if(f)Q(g,kZa({dxa:f}));else Sg(g);else if(f){var j;if(j=(j=this.vs(oF,d))&&j[A]){f=iZa({dxa:f,nkb:this.Zj(qd,d)});g=kx(this.W(),f);Qg(g,j)}}}if(c&2)if(d=this.vs(oF,d))Q(d,mZa(this,a))};H(nZa,yJ);F=nZa[w];F.hUa=5;F.GAc=I;F.hC=D("hUa");F.insertCell=function $aQ(a,c){a.Ig(this);for(var d=0;d<this.oq[u];d++)if(this.oq[d][pq]()==c){km(this.oq,a,d);return}this.oq[p](a)};F.WL=function $bQ(a,c){yK.oaa=this.e_(a);yK.cM=sZa(this,a);LYa(yK,c);tZa(this,a,c);MYa(i,c)};var Pob="zoom",YQ="1.0";F.zWc=function $cQ(a,c){var d=this.e_(c);m(a,d);a.id=sZa(this,c);if(L){d=this.oq[u];for(var f=0;f<d;f++)a[yq](f);Dm(a,Pob,YQ)}rZa(this,a,c)};
F.uz=function $dQ(a,c){this.Fac(c)&&mx(a,this.e_(c));var d=this.Dac(c);if(d==1)for(d=0;d<this.oq[u];d++)this.oq[d].I2(a[cl][d],c);else d==2&&rZa(this,a,c)};F.Fac=function $eQ(a){var c=a.H_a;a=a.XY;var d=k;if(c){d|=this.hUa&1&&c&1;d|=this.hUa&2&&c&2}if(a)d|=this.hUa&4&&a;return d};F.Dac=E(1);
F.o2c=function $gQ(a,c,d){var f;a:{for(f=a[y];f!=i&&f!=c;){if(f[ed]==Fd){f=f;break a}f=f[A]}f=i}var g=k;if(f){var j;a:{for(j=0;j<this.oq[u];j++)if(c[cl][j]==f){j=this.oq[j];break a}j=i}if(j)g=j.fZc(a,f,d)}g||pZa(this,a,c,d)};F.V8=Me;F.BTa=Me;F.g5b=function $hQ(a){a[zb]()};F.h5b=function $iQ(a){a[zb]()};F.ATa=Me;var yK={};nZa[w].e_=D("GAc");H(zK,nZa);F=zK[w];F.B=function $kQ(){return this.ub.B()};F.ao=D(vL);F.uz=function $mQ(a,c){this.aa.uz(a,c)||zK.C.uz[z](this,a,c)};F.WL=function $nQ(a,c){this.aa.WL(a,c)||zK.C.WL[z](this,a,c)};F.e_=function $oQ(a){var c=a[Vp]();a=(c.Jl?2:0)|(a.Vo()?1:0)|(c.qjb()?4:0);return Qob[a]};F.Fac=function $pQ(a){var c=a.XY;if(c&2)return h;if(c==65535)return h;if(a.H_a&1)return h};F.Dac=function $qQ(a){var c=a.H_a;a=a.XY;if(a==65535)return 2;else if(a||c)return 1};
F.g5b=function $rQ(a,c,d){if(!this.aa.wpb(a,c,d)){d=this[Oc];var f=a[dd]||a[Bc],g=a[Bc];C1a(d.ub,d.eua(c),f,g);a[zb]()}};F.h5b=function $sQ(a,c,d){this.aa.yqb(a,c,d)||a[zb]()};F.V8=function $tQ(a,c,d){this.aa.TH(a,c,d)};F.BTa=function $uQ(a,c){if(a[Sb]==13){a[Ec]();a[zb]();var d=this.xa;a=a[dd];C1a(d.ub,d.eua(c),a,void 0)}};F.ATa=function $vQ(a,c,d){this.aa.vob(a,c,d)};var Qob=["zA yO","zA yO x7","zA zE","zA zE x7","zA yO zB","zA yO x7 zB","zA zE zB","zA zE x7 zB"];yx(uZa,zK);F=uZa[w];F.wc=B();
F.wc.Ka=h;F.uz=B();F.uz.ic=h;F.WL=B();F.WL.ic=h;F.wpb=B();F.wpb.ic=h;F.yqb=B();F.yqb.ic=h;F.TH=B();F.TH.ic=h;F.vob=B();F.vob.ic=h;H(AK,xx);F=AK[w];F.vMa=function $DQ(a){return new gF(a)};F.vMa.Vd=h;F.A5a=B();F.A5a.Ka=h;F.Wb=B();F.Wb.Ka=h;F.Df=B();F.Df.Ka=h;F.C0a=B();F.C0a.Ka=h;F.uW=B();F.uW.Ka=h;F.h4a=B();F.h4a.Ka=h;Bp(F,B());F[Sq].Ka=h;F.opa=B();F.opa.Ka=h;F.qma=B();F.qma.Ka=h;F.aP=B();F.aP.Vd=h;F.Qh=B();F.Qh.ic=h;F.Qqa=B();F.Qqa.ic=h;F.YNa=B();F.YNa.Ka=h;F.CKc=B();F.CKc.Ka=h;F.agb=B();F.agb.Ka=h;F.pQa=B();F.pQa.ic=h;F.Pjb=B();F.Pjb.ic=h;F.D=B();F.D.Ka=h;F.zD=B();F.Osb=B();F.Osb.ic=h;F.jdb=B();F.jdb.Rn=h;F.dNa=B();
F.dNa.Rn=h;F.DO=B();F.i6=B();F.Wmb=B();F.Wmb.Ka=h;F.Qvb=B();F.Qvb.Vd=h;F.MY=function $3Q(a,c,d,f){return a.MY(c,d,f)};F.MY.Vd=h;H(BK,gK);yx(oK,BK);var Rob=new kK(XF,hob),Sob=new kK(YYa,"y5"),Tob=new kK(VYa,"yY"),Uob=new kK(rK,"yF"),Vob=new kK(vK,i),Wob=new kK(SYa,"yg"),Xob=new kK(mK,"xX");F=BK[w];F.i7a=function $4Q(){for(var a=new RYa,c=this.aa.qeb()||[Rob,Sob,Tob,Uob,Vob,Wob,Xob],d=0,f;f=c[d];d++)a.yJ[p](f);return a};F.iLb=function $5Q(a){return new zK(a)};F.B=D(JF);F.ao=D(vL);F.qCa=function $8Q(a){oZa(this.TD,rK).Ac(a)};F.eN=function $9Q(){return this.V.eN()&&this.Ixb};_B_prog(76)}catch(e){_B_err(e)}

try{yZa[w].ZIc=function $$Q(a){a=a.Mg()[u];var c=this.xa;sYa(c,a)||c.Kd.rg();var d=c.Ll.J().xK()-a;if(c.az>0&&d<=c.Rf){d=l.max(0,l[rb]((d-1)/c.Og));c.mha(d)}c=this.xa.Jw();d=this.xa.Ut();var f=d*c;a=this.xa.Ll.J().nj-a;d>0&&a<=f&&this.pA.mC(l.max(0,l[rb]((a-1)/c)),2)};yZa[w].WPc=function $aR(a){return Uy(a).Qc(this.Ea)};zZa[w].Tja=function $bR(a){if(this.xa.Th<this.xa.Dp()-1)this.xa.nnb();else{var c=oYa(this.xa);c=l[ob](c/this.xa.Jw())-1;if(this.xa.Ut()<c&&!this.xa.Bh){a&&QF(this.xa,Kbb);this.pA.mC(this.xa.Ut()+1,2)}else this.xa.JQ()}};zZa[w].yAa=function $cR(a){if(this.xa.Th>0)this.xa.Q8b();else if(this.xa.Ut()>0&&!this.xa.Bh){a&&QF(this.xa,Lbb);this.pA.mC(this.xa.Ut()-1,3)}else this.xa.JQ()};hk(AZa[w],Ge(Ej));AZa[w].mC=function $eR(a,c){if(this.ng)this.jb[bq]({view:wE,search:this.Ea,tZa:c||2,page:a})};H(DK,bK);DK[w].qCa=function $fR(a){var c=this.Lj;c.qCa&&c.qCa(a)};DK[w].PGc=function $gR(){return this.Xi.J().Qe()};DK[w].hdb=function $hR(){return this.Xi.J().hdb()};DK[w].xeb=function $iR(){return this.Xi.J().xeb()};H(EK,xx);EK[w].Tdb=B();EK[w].Tdb.Rn=h;EK[w].cpb=B();EK[w].cpb.ic=h;H(BZa,AD);yx(EK,BZa);BZa[w].xMa=function $lR(){return{ag:this.xa.Jw(),NKb:this.xa.Om[u],ZF:oYa(this.xa),LQ:this.Ea[pq](),Ij:this.X(KK.jFa)}};
BZa[w].M1c=function $mR(a){var c=a[y],d=c.id;c=c[A]?c[A].id:I;var f=KK;if(!this.aa.cpb(a)){a=this.X(f.jFa);if(d==a||c==a){d=this.Du.XG();if(d==GF)this.Du.Qz(dK);else if(d==dK){this.Du.Qz(Zx);this.Du.zD(Yob)}}else if(d==this.X(f.u1a))this.eFb.nk(45,i);else if(d==this.X(f.nDb))this.eFb.nk(46,i);else if(d==this.X(f.oEb)){d=new Sh;Iy(this.Ea,d);d.ka(Zya,0);d=aza(Sy,d.Of());this.jb[bq]({view:wE,search:d})}else d==this.X(f.kFa)&&this.jb[bq]({view:dJ,fk:pJ})}};H(LK,fF);LK[w].Vh=function $nR(){LK.C.Vh[z](this);this.D5=this.W()[Qb](T);m(this.D5,zF);this.W()[o](this.wa,this.D5)};var Zob="Cq",apb="Cr";LK[w].bia=function $oR(a,c){if(this.qj()>1||c>1)e(Error(".161"));var d=this.D5;if(this.qj()==1&&c==0){d=this.rb(0).b();Ag(d,Zob);K(d,apb);d=d}a=a.b();c==0?K(a,Zob):K(a,apb);this.W().yA(a,d)};LK[w].jBa=function $pR(a,c){a=a.b();c==0?Ag(a,Zob):Ag(a,apb);this.W()[ad](a);if(c==0&&this.qj()==1){c=this.rb(0).b();Ag(c,apb);K(c,Zob)}};
LK[w].hjc=function $qR(a,c,d,f){return a==vA&&f==-1};H(PK,AD);F=PK[w];F.rQa=0;F.Xkb=1;F.ma=function $rR(){PK.C.ma[z](this);this.H().w(this.Ll.mb.Ya(),this.Ll.Je(),this.lka);this.H().w(this.xa,wYa,this.Znb);Pw(this.H(),this.zrb,aB,this.N4c);this.H().w(this.zrb,P,this.M4c);y_a(this)};F.Ba=function $sR(){PK.C.Ba[z](this);this.H().wb()};F.VFb=Me;var bpb="&laquo; ",cpb="First",dpb="Newest",epb="&lsaquo; ",fpb="Prev",gpb="Newer",hpb="Next",ipb="Older",jpb=" &rsaquo;",kpb="Last",lpb="Oldest";
F.Ybb=function $tR(a){var c=new U;c[R](WG,g_a,W);if(a.jkd){var d=new U(bpb);a.iRa==2?d[R](cpb):d[R](dpb);f_a({id:a.HMc,Ab:d[t]()},c);c[R](JK)}if(a.myb){d=new U(epb);a.iRa==2?d[R](fpb):d[R](gpb);f_a({id:a.mhb,Ab:d[t]()},c)}c[R](MH,a.Amd,MH);if(a.nyb){d=new U;a.iRa==2?d[R](hpb):d[R](ipb);d[R](jpb);f_a({id:a.nhb,Ab:d[t]()},c)}if(a.nkd){c[R](JK);d=new U;a.iRa==2?d[R](kpb):d[R](lpb);d[R](snb);f_a({id:a.KMc,Ab:d[t]()},c)}c[R](gB);a=c[t]();return a};
F.keb=function $uR(a,c,d,f){a=z_a(a,c,d);return A_a(f,a)};F.lka=function $vR(){this.Ll.hc()&&y_a(this)};F.Znb=function $wR(){var a=this.xa.Dp();if(a!=this.rQa){this.rQa=a;y_a(this)}};F.N4c=function $xR(a){var c=this.xa.Ut(),d=-1;a=a[y].id;switch(a?this.td(a):i){case ki:d=0;break;case oy:d=c-1;break;case Zx:d=c+1;break;case Rd:c=this.Ll.J().xK();d=this.xa.Jw();d=l[ob](c/d)-1;break;case Xx:tYa(this.xa);return}d>=0&&this.LTa(d)};F.M4c=function $yR(a){a[zb]()};F.LTa=B();H(QK,PK);QK[w].LTa=function $AR(a){QF(this,Hbb);this.pA.mC(a)};QK[w].Ybb=function $BR(a){return QK.C.Ybb[z](this,a)};H(M_a,xx);M_a[w].Xid=B();M_a[w].Xid.Ka=h;var Yob=cob,mpb=new aK("read","Read",function(b){return!b.Jl}),npb="unread",opb=new aK(npb,"Unread",function(b){return b.Jl}),ppb=new aK(sz,KN,function(b){return b.Uf()}),qpb="Unstarred",rpb=new aK("unstarred",qpb,function(b){return!b.Uf()}),ZQ=[NQ,Yob,mpb,opb,ppb,rpb];H(RK,BD);yx(M_a,RK);RK[w].JD=function $DR(){var a={pXa:ZQ,separator:wj};Q(this.ia.b(),L_a(a));Pw(this.H(),this.b(),aB,this.lh);this.ia.qe(Wx)};var spb="selector";RK[w].lh=function $ER(a){a=a[y][Uc](spb);for(var c=0;c<ZQ[u];c++){var d=ZQ[c];if(a==d[ec]){this.xa.zD(d);dE(this.B()).jj(Pfb,d[ec]);break}}};S_a[w].Ga=D(Gd);S_a[w].Yg=D("SB");H(T_a,xx);T_a[w].feb=B();H(U_a,Jf);yx(T_a,U_a);var X_a=new S_a(mK,"Sort by date");H(a0a,BD);a0a[w].JD=function $IR(){var a;if(this.Gbc)a=W_a(this.Gbc,this.Ea.Ga());var c=this.ia.b();if(!a||a[u]<2)Wm(c,k);else{Q(c,R_a({fAc:this.iZa,Gsc:a}));Pw(this.H(),this.b(),aB,this.lh);this.ia.qe(Wx)}};a0a[w].lh=function $JR(a){if((a=a[y][Uc](TK))&&a!=this.iZa){var c=this.Ea,d=new Hf(c.ZZ());!a||a==mK?d[Pb](TK):d.set(TK,a);a=hza(c,d);this.jb[bq]({view:wE,search:a})}};H(c0a,gF);Qp(c0a[w],function $KR(a,c){if(!this.tW){if(c!=I)switch(a.Ga()){case Jy:case az:case ul:case Oy:this.gj.gp(G0a({Zgb:xw(Wf(c))}))}this.gj.wc();this.tW=h}});F=UK[w];F.tb=function $LR(a){var c=this.Aa.za(WK).Zn(this.Ea),d=this.Jta();c=new DK(this.V,c,d);d=this.Qqa(d0a(this,a,c));d.wc();c.Lj=d;c.wc();this.xa=c;this.pA=new AZa(this.V,this.Ea);this.vya=new zZa(this.xa,this.pA);this.eUa=new P0a(this.V,a,this.xa,this.Ea);this.LOc=new yZa(this.V,this.xa,this.pA,this.Ea);this.Du=new JYa(this.vl,this.xa,this.Ea)};F.B=D(JF);
F.Jta=function $NR(){var a=new fYa;a.Saa(this.Og);a.Nza=this.az;a.T2a=this.ynb;a.n8=5;a.a_b=this.vl;a.Yla(wRa);var c=gza(this.Ea);a.fkb=c;return a};F.MY=function $OR(a,c,d,f){var g=new QK(this.V,this.pA,this.xa);f=f===k?i:new RK(this.V,this.xa);return new c0a(this.V,this.Ea,a,g,f,c,d)};F.Ocb=D("pA");F.rdb=D("eUa");F.Qqa=function $RR(a){return new BK(this.V,a)};var tpb="Du";F.tNa=D(tpb);F.p7a=function $TR(a,c){return new BZa(this.V,this.Ea,a,c,this.xa,this.Du)};var aR="default";
F.mdb=function $UR(){var a=this.Ea,c=this.Z[hq](Z7a),d=a.Ga(),f=k,g;if(c){c=c[Cc](wj);for(var j=0;j+1<c[u];j+=2){var n=c[j],s=Number(c[j+1]);if(n==d||n==aR&&!f){g=s;f=h}}}f||(g=gza(a)?5:20);return g};F.Wcb=D("LOc");H(VK,uh);var h0a=0;VK[w].Q8=0;VK[w].I8a=0;var l0a=new RegExp(Ty+"^ib"[mb](Ty,"\\^"));F=VK[w];F.D=function $WR(){VK.C.D[z](this);this.Q.D();this.Hh.D();this.nlb()};hk(F,function $XR(a){(this.Tl=a)||bA(f0a,this.nlb,0,this)});F.R8=function $YR(){this.YU()};F.YU=function $ZR(){g0a(this)&&this[r](TE)};F.bUb=function $_R(a,c){if(this.Ska==a){if(!this.pna)this.pna=new Hf;this.pna.set(c,1)}};
F.wh=function $0R(a){if(this.Ska==a){if(Jz(this.Z,717)){dE(this.V).zF(sgb,a.R2b);dE(this.V).zF(tgb,a.S2b)}this.AZb=Zf();this.Ska=i;var c=k;if(!a.Vj())if(a.Zbd)h0a=Zf();else c=h;this.qa=0;c&&this.YU();this[r](TE)}};F.nlb=function $1R(){for(var a=this.Pc||!this.tD&&!this.Tl,c=this.bTc,d=c.Sb(),f=0;f<d[u];f++){var g=d[f],j=c.J(g);if(a||!this.phc.Xb(g)){c[Pb](g);j.bB()}}if(!a)if(d=this.Aa.za(qI)){a=rI(d,this.Ea);d=this.phc.Sb();for(f=0;f<d[u];f++){g=d[f];if(!c.Xb(g)){j=a.za(g);j.Iz();c.set(g,j)}}}};
F.Adb=function $2R(){return[this.Q8,this.qa]};F.zdb=D(Yj);F.Bdb=D("fzb");_B_prog(77)}catch(e){_B_err(e)}

try{var n0a;var X0a=h;H(Y0a,Iw);var bR="compose",upb="Mail";Y0a[w].tb=function $5R(){jA(this.Db,TE)||lA(this.Db,TE,IB);jA(this.Db,OP)||lA(this.Db,OP,OD);jA(this.Db,ZD)||lA(this.Db,ZD,JD);var a=fD(this.Db);gD(a,wE,TE);gD(a,YK,OP);gD(a,QO,ZD);hD(a,this,[wE,YK,QO]);iD(a,this,[Hl,Py,Fy,Jy,Z0a,Oy,a1a,ul,bR,ce,kz,sz,cz,iz,fz,pz,jza,Yy,Zy,ez,ZK,aL]);a=hF(this.Db);PIa(a,new MIa(Xz,upb,{view:wE,search:G7a},[wE,YK,QO,SO,eab,dJ,xE],i))};
Y0a[w].Gaa=function $6R(a){var c=[];switch(a[Wq]){case wE:c[p](a[Pc].Xs());a[Xp]>0&&c[p](oy+(a[Xp]+1));break;case YK:var d=a.Zo;c[p](a[Pc].Xs());c[p](d);break;case QO:c[p](bR);break}return c};Y0a[w].aca=function $7R(a,c){var d={};if(a==bR){Gp(d,QO);return d}Ip(d,b1a(a,c));if(d[Pc]==i)return i;if(c[u]==0)Gp(d,wE);else{a=c[db]();if(a[xb](0)==oy){Gp(d,wE);bha(d,da(a[nc](1),10)-1)}else{Gp(d,YK);d.Zo=a}}return d};H(dL,xJ);yx(AK,dL);F=dL[w];F.Toa=h;F.L=function $8R(){dL.C.L[z](this);q1a(this);this.H3.D();this.Hh.D();this.Uq.D();this.aa.D();this.eJ.D()};F.Bb=D(NO);F.Ut=D("az");F.Jw=D(xQ);F.Zn=D("Xi");F.Jw=function $aS(){return h1a(this.B(),this.Ea)};
F.Jc=function $cS(){this.wC();this.xa.Ydd(this.H(),this.wKc);var a=new eYa;a.qpa=G(this.qpa,this);a.xHa=G(this.f4a,this);a.idb=G(this.dNa,this);a.gub=G(this.ldb,this);a.kac=G(this.Ded,this);a.dN=G(this.dN,this);a.Rcc=G(this.vid,this);a.eta=G(this.eta,this);a.m6b=G(this.M6c,this);a.J3b=G(this.TYc,this);a.PTa=G(this.E6c,this);a.i6b=G(this.c6c,this);a.brb=G(this.crb,this);a.b7b=G(this.y9c,this);a.XTa=G(this.drb,this);a.Z6b=G(this.w9c,this);a.a7b=G(this.x9c,this);a.TFb=G(this.isc,this);a.mC=G(this.mC,
this);a.UKb=G(this.ozc,this);this.xa.cdc(a);this.Z0b();(a=this.xa.CFc())&&Pw(this.H(),a,aB,this.I3b);var c=Xy(this.Ea);a=this.Aa;if(c){var d=Mf(c,Ty)?cJ:ZI;c=this.co.Je()+Md+d+Md+Qf(c);this.H().w(a.Ya(),c,this.tpb)}c=this.co.Je()+HXa;this.H().w(a.Ya(),c,this.I_c);this.Kk().w(FH(this.B()),ey,this.jYc)};F.Z0b=B();F.I_c=function $eS(a){for(var c=0;c<a.dG[u];c++){var d=a.dG[c];if(a.aJ[d]&8){var f=(d=this.Aa.cj(d))?d.J():i;f&&fL(this,function(g){g.Zh(f[pq]())&&this.xa.uz(g.Hc(),4)})}}};
F.Bo=function $fS(){this.xa.Wvc();q1a(this)};F.ln=function $gS(a){var c=dE(this.B()),d=Xy(this.Ea);d?c.jj(hjb,d[mb](/\//g,Qd)):c.pb(Nfb);c=Rz(this.B());if(Jz(c,1105)){if(a=a?a.Ica:i)this.eCb=a;a&&a.md()==QO||this.xa.ola()}else this.xa.ola();this.xa.Bh||dE(this.B()).pb(Qfb)};
F.Wb=function $hS(){this.Tl=h;this.pA[Lk](h);var a=k,c=k;c|=l1a(this);a|=j1a(this);a|=k1a(this);var d=Rz(this.B());if(a)x1a(this);else if(c)this.xa.cp();else Jz(d,1105)&&this.eCb&&this.eCb.md()==QO||this.xa.ola();this.xa.Wb();this.Uq[Lk](h);this.Uq.YU();n1a(this);this.eCb=i;this.aa.Wb()};F.jYc=function $iS(a){var c=Rz(this.B());Jz(c,1105)&&a.rnb==this&&Je[xc](G(this.xa.ZVa,this.xa,Ph),0)};F.X_a=function $jS(){if(this.SWa){vC(this.xB,this.SWa);this.SWa=i}else vC(this.xB,0);this.xa.hB()};
F.Df=function $kS(){this.Tl=k;this.pA[Lk](k);this.SWa=uDa(this.xB);this.xa.Df();this.Uq[Lk](k);this.Ch&&this.Ch.gj.om.Yb();this.Co&&this.Co.gj.om.Yb();this.aa.Df()};F.uW=function $lS(){this.xa.uW();this.aa.uW()};
F.wC=function $mS(){var a=this.B(),c=[];this.IRa(a);this.Ch&&c[p](this.Ch);this.k1b(c,a);this.Eha=this.Nda.p7a(this,this);this.Eha.qc(k);c[p](this.Eha);for(var d=this.DO(),f=0;f<d[u];f++)c[p](d[f]);this.B1=new eE(a);this.B1.qc(k);c[p](this.B1);c[p](this.xa);d=this.i6();for(f=0;f<d[u];f++)c[p](d[f]);this.tlb(a);this.Co&&c[p](this.Co);this.H().w(this,LQ,this.eob);this.aa.A5a(a,this.Ea,c);eF(this.ia,c)};F.DO=function $nS(){return o1a(this,this.aa.DO())};F.i6=function $oS(){return o1a(this,this.aa.i6())};
var vpb="A1";F.IRa=function $pS(a){this.Ch=this.aa.MY(this.Nda,this.HRa(),vpb,h);this.Ch.gj.om.kp=wE;this.aa.agb(a,this.Ch)};var wpb="AY";F.tlb=function $qS(){this.Co=this.aa.MY(this.Nda,this.HRa(),wpb,k);this.Co.gj.om.kp=wE};F.Kk=function $rS(){return this.H()};F.k1b=B();F.Dvc=function $tS(){if(!this.Tl&&!this.tD)return k;if(this.xa.Bh)return k;if(this.xa.NS&&this.Dz.TZ(Zf())<6E4)return k;if(this.aa.Pjb())return k;return h};F.rZa=function $uS(){this.xa.luc(FYa(this.H3,this.H3.Dz.TZ(Zf()+2E3))/1E3)};
F.HRa=function $vS(){var a=Mx().Gn(16,this.B()),c=this.Ea;if(c.Ga()==ul)a.b2=k;else{a.KW(c,wE);TB(a,20,h)}this.aa.YNa(a);this.H().w(a,WB,this.Vm);return a};F.eob=function $wS(a){this.qBb(a[y])};
F.qBb=function $xS(a){if(!((!this.Ch||a!=this.Ch.gj.om)&&(!this.Co||a!=this.Co.gj.om))){var c=this.Du.Jib(),d=[];fL(this,function(n){this[uk].Vo(n.vf())&&d[p](n)});var f=new D1a;f.i_a=d;f.Lp=c;this.eJ.eca(a,this.Ea.Ga(),f);if(c)TXa(a);else{var g={},j=0;fL(this,function(n){if(this[uk].Vo(n.vf())){n=n.Jo();for(var s=0;s<n[u];s++)g[n[s]]=(g[n[s]]||0)+1;j++}});SXa(a,g,j)}QWa(a.ac(),c)}};F.DRb=function $yS(){var a=[];this.Ch&&a[p](this.Ch.gj);this.Co&&a[p](this.Co.gj);return a};F.ASb=D("Ch");
F.Vm=function $AS(a){this.nk(a[jr],a[jb])};
var xpb="No conversations selected.",ypb="^unsub",zpb="Only the first 25 conversations of your ",Apb=" selected conversations will be used in filter creation.  Would you like to continue?",Bpb="You are about to move the entire conversation to the Trash. Are you sure you want to trash the entire conversation containing your sent message?",Cpb="You are about to move ",Dpb=" entire conversations to the trash. Are you sure you want to trash the entire conversations containing your sent messages?",Epb=
"Moving conversations from All Mail to the Trash will remove them from all views, including labels and search results. This is because in ",Fpb=", a conversation can be displayed in a variety of views, but there is only one copy. Are you sure you want to move the only copy to the Trash?";
F.nk=function $BS(a,c){q1a(this);if(a==134)this.aa.Qvb(c);else{var d=this.Du.hua(a);if(a!=20&&a!=122&&d==0)this.Rh.Ad(new Zz(xpb));else{var f=this.B(),g,j=k,n;if(JCa(this.eJ,a)){n=this.eJ.nk(a,this,1,this.Ea.Ga());g=n[jr];if(n.N_a){var s=k,v=[];if(Jz(this.Z,811)){fL(this,function(M){if(this[uk].Vo(M.vf()))if(M.Zh(ypb)){of(v,M.apd||[]);s=h}});rf(v)}if(s){a=new cPa(this.B(),v);this.H().w(a,BC,G(this.Sqb,this,a,Zf(),n));a.ra(h);return}else g=new n.PX(f,k,1)}a==95&&fL(this,function(M){g.Bdc(M.sH(),M.vf())})}else switch(a){case 98:QF(this,
Ocb);g=new hWa(f,1);break;case 12:QF(this,ubb);g=new cR(f,c,1);break;case 13:QF(this,vbb);g=new MB(f,c,1);break;case 20:QF(this,Ibb);this.xa.cja(k);j=h;this.xa.eXb();dE(f).pb(Ofb);break;case 122:this.rZa();break;case 16:QF(this,Jbb);g=new fWa(f);break;case 17:QF(this,Ebb);g=new dTa(f,1);break;case 45:QF(this,Pbb);g=new iWa(f,1);break;case 46:QF(this,Qbb);g=new gWa(f,1);break;case 14:var C=KC(f);if(c&&!PC(C,c)){c=Pf(c);QF(this,Fbb);g=new cR(f,c,1)}else QC(C,WJ,I,NXa,G(this.s3,this),iA(this.B()));break;
case 76:QF(this,wbb);g=(C=Xy(this.Bb()))?new dR(f,C,c,1):new cR(f,c,1);break;case 77:QF(this,xbb);g=new BJ(f,c[0],c[1],1);break;default:g=this.aa.jdb(f,a,c)}if(g&&a==64&&d>25)this.TJ(zpb+(d+Apb))||(g=i);else{c=this.Du.Kib(a);if(g&&c)this.TJ(w1a(this,a))||(g=i)}if(g&&a==10){if(this.Ea.Ga()==pz&&!this.TJ(d==1?Bpb:Cpb+(d+Dpb)))g=i;if(this.Ea.Ga()==cz&&!this.TJ(Epb+(Ii+Fpb)))g=i}this.OLa(g,j,n)}}};
F.OLa=function $CS(a,c,d){var f=this.xa.NS;this.xa.cja(k);d=d&&d.BWa;if(a){a.Ii(this.Ea);a.lB(this);p1a(this,a,d);a:if(a.Lp())a.IFa=h;else{var g=a.mg,j=this.Ea.Ga();d=this.Nda.Wcb();if(g==13){g=a.Dd();if(!d.WPc(g))break a}else if(!(g==4&&j==sz))if(!(g==8&&j==Zy))if(g!=9&&g!=18&&g!=98&&g!=10&&g!=21&&g!=17&&g!=76&&g!=77&&g!=110&&g!=111)break a;d.ZIc(a)}a.Ie(this);a.lB(this);this.Ml=a;kF(this.Mb,a);a[Mb]()}c&&this.xa.ZVa(kD);!this.xa.NS&&f&&this.xa.cja(h);this.qca()};
F.Sqb=function $DS(a,c,d,f){this.H().hb(a,BC);aF(this.B()).VX(Zf()-c);if(f.key==dx)(d=PF(this))&&eLa(d);else{a=f.key==Cz;this.OLa(new d.PX(this.B(),a,1),k,d)}};F.hua=function $ES(a){return this.Du.hua(a)};F.xMa=function $FS(a){return{ag:this.Og,NKb:XK(this)[u],ZF:this.Du.hua(a),LQ:this.Ea[pq](),Ij:this.X(KK.jFa)}};F.qpa=function $GS(){var a=this.xa.PGc();this.Ch&&this.Ch[mr](this.Ea,a);this.Co&&this.Co[mr](this.Ea,I)};
F.f4a=function $HS(){l1a(this);k1a(this);if(this.Xi.J()){var a=this.Xi.J().nj,c=dE(this.B()),d=this.Ea.Ga();c.jj(Rfb,d+Qd+a)}};F.dN=function $IS(){this.Uq.YU()};F.vid=function $JS(){if(!this.xa.EGa)return k;var a=this.xa.ft;if(a==101){this.xa.Mn(this.CNa(this.vZa,h));return h}else if(a==102){(a=this.xa.vy().J(this.Ald))?this.xa.Mn(ff(this.xa.Om,a)):this.xa.Mn(this.CNa(this.vZa,h));return h}return k};F.eta=function $KS(a){return this.CNa(XK(this)[a].TCa,k)};F.M6c=function $LS(a){this.aa.zD(a)};
F.TYc=function $MS(){FK(this.Eha);for(var a=this.Du.Jib(),c=this.DRb(),d=0;d<c[u];d++)QWa(c[d],a)};F.E6c=function $NS(a){Q(this.B1.b(),a.Xbd?M0a():a.kia()?O0a():K0a({Rnd:a.Kcd}));this.B1.qc(h);this.B1.qe(Wx);this.oEd=h};F.y9c=function $OS(a){EYa(this.H3);this.aa.C0a(a)};F.drb=function $PS(){var a=this.H3,c=Zf();a.xya=c+FYa(a,a.Dz.TZ(c));GYa(a,c)};F.w9c=function $QS(){this.Uq.YU();this.Ch&&this.Ch.gj.qja(this.xa.Ya());this.Co&&this.Co.gj.qja(this.xa.Ya())};
F.x9c=function $RS(a){var c=this.xl.Xv;if(Ay(this.lb,DM)&&!fza(this.Ea)&&!a.Gib)BE(c,web,c.fjb?jHa:kHa)};F.isc=function $SS(){this[r](TE);this.Uq.YU()};F.ozc=function $TS(){var a=new KRa;if(Jz(this.Z,1130)||Jz(this.Z,1037))a.Fwb(!!this.tD);return a};F.crb=function $US(){this.qca()};F.c6c=function $VS(){var a=this.xa.Th;if(this.xa.ft==1&&a>=0&&a<XK(this)[u]){this.xa.oma(101);this.vZa=this.xa.Zsa().TCa}a=this.Uq;a.pna&&a.pna[bc]();this.LAb=k;this.B1.qc(k)};F.dNa=E(9);
F.Ded=function $XS(){var a=this.xa.xeb(),c=a>0,d=this.o1b();if((this.LAb||!c)&&!d)return I;var f=[];if(c&&!this.LAb){a={yod:a,Ojc:this.X(KK.QEb),bic:this.X(KK.CDb)};this.aa.Wmb(a);f[p](z0a(a));this.LAb=h}d&&this.W0b(f);return f[kd](I)};F.o1b=E(k);F.W0b=B();
var Gpb="No new mail! There's always ",Hpb="No starred messages. Stars let you give messages a special status to make them easier to find. To star a message, click on the light blue star beside any message or conversation.",Ipb="No chat messages.",Jpb="Your chat history will appear here if you choose to save your chats. You can change this in ",Kpb='" class="x0">Settings</span>.',Lpb="No sent messages! ",Mpb='" class="x0">Send</span> one now!',Npb="You don't have any saved drafts.<br>Saving a draft allows you to keep a message you aren't ready to send yet.",
Opb="You don't have any mail! Our servers are feeling unloved.",Ppb="Hooray, no spam here!",Qpb="No conversations in the Trash. Who needs to delete when you have over 7000 MB of storage?!",Rpb="There are no conversations with this label.",Spb="in:anywhere",Tpb="No messages matched your search. Try using ",Upb='" class="x0">search options</span> to define a new query.',Vpb="ast",Wpb="No messages matched your search.",Xpb="No existing messages match your criteria.";
F.ldb=function $_S(){var a=this.p1b();if(a)return a;switch(this.Ea.Ga()){case kz:case ZK:case aL:if(this.Z[hq](z8a))return I;a=this.Z[hq](TN);a={tkd:a==Vz,gF:a};var c=new U;a.tkd?c[R]('No new mail! Want to read updates from your favorite sites? Try <a class="xZ" target="_blank" href="http://www.google.com/reader/?source=gmailnonewmail">Google Reader</a>'):c[R](Gpb+('<a class="xZ" target="_blank" href="http://news.google.com/?hl='+a.gF+"\">Google News</a> if you're looking for something to read."));
a=c[t]();return a;case sz:a=new U;a[R](Hpb);a=a[t]();return a;case fz:a={Ij:this.X(KK.kFa),aQc:bx()};a=a;c=new U;a.aQc?c[R](Ipb):c[R](Jpb+(HK+a.Ij+Kpb));a=c[t]();return a;case pz:a={Ij:this.X(KK.sEb)};a=a;c=new U;c[R](Lpb+(HK+a.Ij+Mpb));a=c[t]();return a;case iz:a=new U;a[R](Npb);a=a[t]();return a;case cz:a=new U;a[R](Opb);a=a[t]();return a;case Yy:a=new U;a[R](Ppb);a=a[t]();return a;case Zy:a=new U;a[R](Qpb);a=a[t]();return a;case Py:a=new U;a[R](Rpb);a=a[t]();return a;case Jy:a=this.Ea.Qe();if(Xf(a,
Spb)){a={Ij:this.X(KK.rEb)};a=a;c=new U;c[R](Tpb+(HK+a.Ij+Upb));a=c[t]();return a}else{a={Ij:this.X(KK.j1a)};return C0a(a)}case Oy:if(Uya(this.Ea)!=Vpb){a={Ij:this.X(KK.j1a)};return C0a(a)}else{a=new U;a[R](Wpb);a=a[t]();return a}case ul:a=new U;a[R](Xpb);a=a[t]();return a;default:return I}};F.p1b=E(i);F.md=function $1S(){return wE};F.ej=function $2S(a){if(this.Ml)a[p](this.Ml);else this.xa.Bh&&a[p](this.xa.Bh)};
F.qca=function $3S(){this[r](NO);if(this.skb&&!(this.Ml||this.xa.Bh)){var a=this.skb;this.skb=i;if(a.Lp())jYa(this[uk]);else{a=a.RDa;for(var c={},d=0;d<a[u];d++)c[a[d]]=1;fL(this,function(f){delete c[f.vf()]});a=xf(c);hYa(this[uk],a)}this.Qz(Zx)}};F.TO=function $4S(){var a=this.Ea[pq](),c=Xy(this.Ea);if(c){var d=KC(this.B());if((c=NC(d,c))&&c.rt>0)a+=xl+c.rt+xh}return a};F.yK=function $5S(){var a=this.Ea;return new CH(a.FL(),a.Qb())};F.tpb=function $6S(){this[r](new TF(this,tQ,this))};F.EIb=function $7S(){return!this.tD};
Bp(F,function $8S(){q1a(this);this.xa[Sq]();n1a(this);this.aa[Sq]()});
F.Qh=function $9S(a,c){if(!(!this.B().eN()||this.aa.Qh(a,c)||this.aa.pQa())){var d=i,f=i,g,j=i;switch(a){case R4a:f=this.Ea.Ga();if(f==kz){f=13;g=TI}else if(f==sz)f=4;else if(f==Py){f=13;g=this.Ea.Pt()}else f=7;j=Lgb;break;case o5a:f=7;j=Pgb;break;case s5a:f=95;j=Ogb;break;case hM:(a=gL(this,this.xa.Th))&&this.aP(a);break;case fM:this.yAa(h);break;case gM:this.Tja(h);break;case KG:this.Qz(Zx);a=y1a(this,this.xa.Th);kYa(this[uk],a);break;case lM:V0a(this.eUa,c[dd],void 0);j=c[Sb]==13?Kgb:Rgb;break;
case iM:if(this.Du.XG()!=dK&&JCa(this.eJ,21,this.Ea.Ga()))f=21;break;case jM:f=9;j=Tgb;break;case kM:f=10;j=Ugb;break;case eM:f=20;break;case b5a:d=NQ;break;case c5a:d=Yob;break;case d5a:d=mpb;break;case e5a:d=opb;break;case f5a:d=ppb;break;case g5a:d=rpb;break;case p5a:this.Ch&&this.Ch.gj.s_a();break;case q5a:this.Ch&&this.Ch.gj.q_a();break;case tM:this.Ch&&this.Ch.gj.r_a();break;case l5a:f=1;break;case m5a:f=2;break}f&&this.nk(f,g);d&&this.Du.zD(d);j&&dE(this.B()).pb(j)}};
F.mC=function $$S(a,c){this.pA.mC(a,c)};F.lPa=function $aT(a,c,d,f){if(a)this.xa.oma(a);else if(c){this.xa.oma(102);this.Ald=c;this.vZa=d;f&&this.xa.ndc(f)}else if(d){this.xa.oma(101);this.vZa=d;f&&this.xa.ndc(f)}else this.xa.oma(2)};F.qma=function $bT(a){this.aa.qma(a)};F.kJ=function $cT(){this.jb[bq]({view:wE,search:this.Ea,gkb:h,page:this.Ut()})};F.Tja=function $dT(a){this.vya.Tja(a)};F.yAa=function $eT(a){this.vya.yAa(a)};F.wKc=function $fT(){if(this.xa.xwa()){this.t1b();FK(this.Eha)}};
F.t1b=B();F.AH=function $hT(a){a==this.Ml&&z1a(this)};F.CNa=function $iT(a,c){var d=this.xa.Om,f=d[u];if(f==0)return-1;if(!Ue(a))return 0;var g,j;for(g=0;g<f;g++){j=B1a(this,d[g].TCa,a);if(j<=0)break}if(j==0&&c||g==0)return g;if(g>=f)return f-1;return A1a(this,d,g-1,g)};
F.I3b=function $jT(a){a=a[y].id;var c=KK;if(a==this.X(c.j1a))this[r](new TF(this,cy));else if(a==this.X(c.rEb))this[r](new TF(this,Od));else if(a==this.X(c.kFa))this.jb[bq]({view:dJ,fk:pJ});else if(a==this.X(c.sEb))this.jb[bq]({view:QO});else if(a==this.X(c.QEb)){a=new Sh;Iy(this.Ea,a);a.ka(Zya,1);a=aza(Sy,a.Of());this.jb[bq]({view:wE,search:a})}else a==this.X(c.CDb)&&this.jb[bq]({view:wE,search:J7a})};F.s3=function $kT(a){this.nk(14,a)};
F.aP=function $lT(a){var c=eL(this).J(a);if(!c)e(Error(".162`"+a));if(!c.Mm())if(!this.aa.aP(a,c)){var d=this.B();if(c.Uf()){d=new yCa(d,1);c=c.vf()}else{d=new vB(d,1);c=c.Qy}d.Ii(this.Ea);uB(d,a,c);d.bh=h;d[Mb]()}};F.opa=function $mT(){this.aa.opa();var a=this.xa.Bh;if(a&&a.QPc){this.xa.yib(a);Q(this.B1.b(),M0a())}};F.YRb=D(NO);F.DIb=function $oT(){if(this.xa.Bh)return k;if(this.Ml)return k;if(this.aa.Osb())return k;return h};
F.Adb=function $pT(){var a=this.Aa.za(qI),c=0;if(a){a=rI(a,this.Ea);for(var d=eL(this).Sb(),f=0;f<d[u];f++)a.za(d[f]).Fi()&&c++}var g=f=d=a=0;if(this.xa instanceof bK){g=this.xa.wr();a=g.Uz;d=g.Eo;f=g.NO();g=ERa(g)}var j=this.Uq.Adb();return{eBd:a,dBd:d,f2:f,zBd:g,hXc:c,QCd:j[0],DDd:j[1]}};F.zdb=function $qT(){return this.Uq.zdb()};F.Bdb=function $rT(){return this.Uq.Bdb()};F.zD=function $sT(a){this.xa.zD(a)};F.Qz=function $tT(a){this.Du.Qz(a)};F.uNa=function $uT(){return this.xa.uNa()};F.DI=function $vT(a){this.xa.DI(a)};
F.TJ=function $wT(a){var c=Zf();a=this.fc[Zp](a);aF(this.B()).VX(Zf()-c);return a};var KK={ezd:J4a,jFa:B4a,u1a:"etl",nDb:"ets",j1a:"bsl",fEb:"qst",eEb:"qsb-",rEb:"sol",kFa:"csetl",sEb:"sendl",QEb:"vttl",CDb:DE,oEb:"rtnsl",Tsd:"chv"};_B_prog(79)}catch(e){_B_err(e)}

try{hL[w].Ef=function $xT(a){this[dr](a)};hL[w].info=B();hL[w].K0a=B();hL[w].TW=B();F=kL[w];F.rE=i;F.hR=k;F.koa=i;F.qCb=i;F.AWa=i;F.Xd=i;F.Qn=i;F.BF=i;F.JL=i;F.Tx=i;F.hFa=0;F.EM=i;F.Xna=i;F.wk=i;F.Tw=-1;F.fcc=h;F.xda=k;var z2a={},y2a={};F=kL[w];F.R1=Ge("rE");naa(F,Ge("wo"));var Ypb="Called back with an unexpected xmlhttp",Zpb="Failed call to OnXmlHttpReadyStateChanged_",aqb="ResponseText: ",bqb="No response text";F.Bkc=function $DT(a){a=a[y];try{a==this.Tx?o2a(this):this.cd.K0a(Ypb)}catch(c){this.cd.Ef(Zpb);this.Tx&&this.Tx.dj()?jL(this.cd,c,aqb+this.Tx.dj()):jL(this.cd,c,bqb)}finally{}};
F.Dbd=function $ET(){var a=this.Tx.ts(),c=this.Tx.dj();if(this.hFa<c[u]){p2a(this);q2a(this,a,c);this.hR&&a!=4&&lL(this)}};F.czb=function $FT(){this.XUa[qc]();this.Q.wb()};F.G8c=function $GT(a){nL(G(this.F8c,this,a),0)};var cqb="TRIDENT TEXT (";F.F8c=function $HT(a){if(!this.xda){var c=this.cd;c[dr](cqb+this.tI+F1a+G1a(c,a));p2a(this);s2a(this,a);lL(this)}};F.L6b=function $IT(a){nL(G(this.E8c,this,a),0)};var dqb="failure";
F.E8c=function $JT(a){if(!this.xda){this.cd[dr](cqb+this.tI+F1a+a?Mh:dqb);p2a(this);this.tJ();this.hR=a;this.ec.uL(this)}};F.tf=function $KT(){this.xda=h;p2a(this);this.tJ()};var eqb="WatchDog timer called too early";F.F9c=function $LT(){this.koa=i;var a=Zf();if(a-this.qCb>=0)this.Zua();else{this.cd.K0a(eqb);L2a(this,this.qCb-a)}};var fqb="Received watchdog timeout even though request loaded successfully",gqb="TIMEOUT: ";
F.Zua=function $MT(){this.hR&&this.cd.TW(fqb);this.cd[dr](gqb+this.BF);this.tJ();this.wk=2;mL(18);t2a(this)};F.tJ=function $NT(){this.czb();if(this.Tx){var a=this.Tx;this.Tx=i;nh(a,Lh,this.Bkc,k,this);a[wc]()}if(this.EM)this.EM=i};var hqb="hR";F.rua=D(hqb);F.Kga=D(aOa);F.hH=D("Tw");F.Kw=D("Lx");F=N2a[w];F.rE=i;F.Lc=i;F.OVa=k;F.pbb=i;F.Mia=i;F.Vf=i;F.qa=i;F.Tw=-1;F.o7=i;F.r4a=i;F.R1=Ge("rE");var iqb="MODE";F.bs=function $TT(a){this.Vf=a;a=n3a(this.ec,this.Vf);mL(3);gx(a,iqb,dQ);this.Lc=new kL(this,this.cd,void 0,void 0,void 0);this.Lc.R1(this.rE);c2a(this.Lc,a,k,h);this.qa=0};var jqb="Test Connection Blocked";F.Cwc=function $UT(a){if(a){this.qa=2;R2a(this)}else{mL(4);a=this.ec;a.cd.Ef(jqb);a.Tw=a.j4.hH();pL(a,9)}};La(F,function $VT(){if(this.Lc){this.Lc.tf();this.Lc=i}this.Tw=-1});F.G_=E(k);
var kqb="TestConnection: Got data for stage 1",lqb="TestConnection: Null responseText",mqb="11111";F.h6b=function $XT(a,c){this.Tw=a.hH();if(this.qa==0){this.cd.Ef(kqb);if(c){try{var d=ix(c)}catch(f){jL(this.cd,f);p3a(this.ec,this,4);return}this.o7=this.ec.dGb?d[0]:i;this.r4a=d[1]}else{this.cd.Ef(lqb);p3a(this.ec,this,4)}}else if(this.qa==2)if(this.OVa){mL(7);this.Mia=Zf()}else if(c==mqb){mL(6);this.OVa=h;this.pbb=Zf()}else{mL(8);this.pbb=this.Mia=Zf();this.OVa=k}};
var nqb="TestConnection: request complete for initial check",oqb="/mail/images/cleardot.gif",pqb="TestConnection: request complete for stage 2",qqb="Test connection succeeded; using streaming connection",rqb="Test connection failed; not using streaming",sqb="TestConnection: request failed, in state ";
F.uL=function $YT(){this.Tw=this.Lc.hH();if(this.Lc.rua())if(this.qa==0){this.cd.Ef(nqb);if(this.r4a){this.qa=1;var a=s3a(this.ec,this.r4a,oqb);bi(a);P1a(a[t](),5E3,G(this.Cwc,this),3,2E3)}else{this.qa=2;R2a(this)}}else{if(this.qa==2){this.cd.Ef(pqb);a=k;if(a=L?this.Mia-this.pbb<200?k:h:this.OVa){this.cd.Ef(qqb);mL(12);m3a(this.ec,this,h)}else{this.cd.Ef(rqb);mL(11);m3a(this.ec,this,k)}}}else{this.cd.Ef(sqb+this.qa);if(this.qa==0)mL(9);else this.qa==2&&mL(10);p3a(this.ec,this,this.Lc.Kga())}};
F.hH=D("Tw");F.Eb=function $_T(){return this.ec.Eb()};F=T2a[w];F.rE=i;F.ssa=i;F.Bw=i;F.FD=i;F.Vf=i;F.cMa=i;F.lHb=i;F.o7=i;F.dGb=h;F.CSa=0;F.ELa=k;F.na=i;F.jK=i;F.fY=i;F.j4=i;F.cjc=i;F.Dsc=h;F.MQa=-1;F.Tw=-1;var qL=new uh;H(V2a,N);H(X2a,N);F=T2a[w];F.PQ=Ge(he);var tqb="connect()",uqb="connectTest_()";F.bs=function $1T(a,c,d,f,g){this.cd.Ef(tqb);mL(0);this.Vf=c;this.ssa=d||{};if(f&&Ke(g)){this.ssa.OSID=f;this.ssa.OAID=g}this.cd.Ef(uqb);this.j4=new N2a(this,this.cd);this.j4.R1(this.rE);this.j4.bs(a)};var vqb="disconnect()",wqb="terminate";
F.Qea=function $2T(){this.cd.Ef(vqb);Y2a(this);if(this.qa==3){var a=this.CSa++,c=this.cMa.vc();c.ka(b3a,this.Lx);c.ka(c3a,a);c.ka(P2a,wqb);g3a(this,c);a=new kL(this,this.cd,this.Lx,a,void 0);a.Xd=2;a.Qn=bi(c.vc());(new Image).src=a.Qn;a.AWa=Zf();lL(a);this.sTa()}};F.Kw=D("Lx");F.R1=Ge("rE");F.H=D(KP);F.oM=Ge(KP);var xqb="Already have 1000 queued maps upon queueing ";F.Hg=function $7T(a){if(this.qa==0)e(Error(".164"));this.fQ[u]==1E3&&this.cd.TW(xqb+zh(a));this.fQ[p](a);if(this.qa==2||this.qa==3)a3a(this)};
var yqb="setFailFast: ",zqb="Retry count ",Aqb=" > new maxRetries ",Bqb=". Fail immediately!";F.Gwb=function $8T(a){this.ELa=a;this.cd[dr](yqb+a);if((this.Bw||this.jK)&&this.K5>(this.ELa?0:2)){this.cd[dr](zqb+this.K5+Aqb+(this.ELa?0:2)+Bqb);if(this.Bw){this.Bw.tf();this.uL(this.Bw)}else{Je[gb](this.jK);this.jK=i;pL(this,2)}}};F.G_=function $9T(){return this.qa==0};F.xc=D(Yj);F.hH=D("Tw");
var Cqb="startForwardChannel_",Dqb="Not supposed to retry the open",Eqb="startForwardChannel_ returned: nothing to send",Fqb="startForwardChannel_ returned: connection already in progress",Gqb="startForwardChannel_ finished, sent request";F.v6b=function $bU(a){this.jK=i;this.cd.Ef(Cqb);if(this.qa==1)if(a)this.cd.TW(Dqb);else{this.R0();this.qa=2}else if(this.qa==3)if(a)e3a(this,a);else if(this.fQ[u]==0)this.cd.Ef(Eqb);else if(this.Bw)this.cd.Ef(Fqb);else{e3a(this);this.cd.Ef(Gqb)}};
var Hqb="open_()",Iqb="CVER";F.R0=function $cU(){this.cd.Ef(Hqb);this.CSa=l[rb](l[Tc]()*1E5);var a=this.CSa++,c=new kL(this,this.cd,I,a,void 0);c.R1(this.rE);var d=f3a(this),f=this.cMa.vc();f.ka(c3a,a);this.vS&&f.ka(Iqb,this.vS);g3a(this,f);c.Xd=1;c.Qn=bi(f.vc());c.JL=d;c.A8a=h;d2a(c);this.Bw=c};var Jqb="Creating new HttpRequest",Kqb="rpc",Lqb="New Request created";
F.u6b=function $dU(){this.fY=i;this.cd.Ef(Jqb);this.FD=new kL(this,this.cd,this.Lx,Kqb,this.kHb);this.FD.R1(this.rE);var a=this.lHb.vc();a.ka(c3a,Kqb);a.ka(b3a,this.Lx);a.ka(AUa,this.cjc?Ah:Hj);a.ka(d3a,this.MQa);g3a(this,a);if(L){a.ka(P2a,oL);K2a(this.FD,a,Boolean(this.o7))}else{a.ka(P2a,Q2a);c2a(this.FD,a,h)}this.cd.Ef(Lqb)};
F.h6b=function $eU(a,c){if(!(this.qa==0||this.FD!=a&&this.Bw!=a)){this.Tw=a.hH();if(this.Bw==a&&this.qa==3){if(c!=I1a){this.cd.Ef("Bad data returned - missing/invald magic cookie");pL(this,11)}}else im(c)||this.mpb(ix(c))}};var Mqb="Request complete",Nqb="Not retrying due to error type",Oqb="Maybe retrying, last error: ",Pqb="Request already in progress",Qqb="Going to retry POST",Rqb="Going to retry GET",Sqb="Exceeded max number of retries",Tqb="Error: HTTP request failed";
F.uL=function $fU(a){this.cd.Ef(Mqb);var c;if(this.FD==a){this.FD=i;c=2}else if(this.Bw==a){this.Bw=i;c=1}else return;this.Tw=a.hH();if(this.qa!=0)if(a.rua())if(c==1){var d=Zf()-a.AWa;qL[r](new X2a(qL,a.JL?a.JL[u]:0,d,this.K5));a3a(this);Ia(this.Hka,0)}else j3a(this);else{d=a.Kga();if(d==3||d==0&&this.Tw>0)this.cd.Ef(Nqb);else{this.cd.Ef(Oqb+b2a(d,this.Tw));if(c==1){if(this.Bw||this.jK){this.cd.TW(Pqb);a=k}else if(this.qa==1||this.K5>=(this.ELa?0:2))a=k;else{this.cd.Ef(Qqb);this.jK=nL(G(this.v6b,
this,a),this.rNa(this.K5));this.K5++;a=h}if(a)return}if(c==2){if(this.FD||this.fY){this.cd.TW(Pqb);a=k}else if(this.pHa>=3)a=k;else{this.cd.Ef(Rqb);this.kHb++;this.fY=nL(G(this.u6b,this),this.rNa(this.pHa));this.pHa++;a=h}if(a)return}this.cd.Ef(Sqb)}this.cd.Ef(Tqb);switch(d){case 1:pL(this,5);break;case 4:pL(this,10);break;case 3:pL(this,6);break;default:pL(this,2);break}}};var Uqb="Inactive channel";F.rNa=function $gU(a){var c=5E3+l[rb](l[Tc]()*1E4);if(!this.Eb()){this.cd.Ef(Uqb);c*=2}c*=a;return c};
F.mpb=function $hU(a){for(var c=this.na&&this.na.uIa?[]:i,d=0;d<a[u];d++){var f=a[d];this.MQa=f[0];f=f[1];if(this.qa==2)if(f[0]==dx){this.Lx=f[1];this.o7=this.dGb?f[2]:i;this.qa=3;this.na&&this.na.bJb(this);this.lHb=S2a(this,this.o7,this.Vf);j3a(this)}else f[0]==Id&&pL(this,7);else if(this.qa==3){if(f[0]==Id){if(c&&c[u]){this.na.uIa(this,c);Ia(c,0)}pL(this,7)}else f[0]!=L1a&&c&&c[p](f);this.pHa=0}}c&&c[u]&&this.na.uIa(this,c)};F.XCc=function $iU(){if(!ef(arguments,this.qa))e(Error(".165`"+this.qa))};
F.Xmd=function $jU(a){if(a){this.cd[dr]("Successfully pinged google.com");mL(2)}else{this.cd[dr]("Failed to ping google.com");mL(1)}};var Vqb="HttpChannel: error - ";F.J0=function $kU(a){this.cd.Ef(Vqb+a);this.qa=0;this.na&&this.na.C5a(this,a);this.sTa();Y2a(this)};var Wqb="Number of undelivered maps, pending: ",Xqb=", outgoing: ";
F.sTa=function $lU(){this.qa=0;this.Tw=-1;if(this.na)if(this.Hka[u]==0&&this.fQ[u]==0)this.na.B5a(this);else{this.cd.Ef(Wqb+this.Hka[u]+Xqb+this.fQ[u]);var a=nf(this.Hka),c=nf(this.fQ);Ia(this.Hka,0);Ia(this.fQ,0);this.na.B5a(this,a,c)}};F.Eb=function $mU(){return this.na.Eb(this)};F=v3a[w];F.uIa=i;F.bJb=B();F.C5a=B();F.B5a=B();F.uQb=function $qU(){return{}};F.MRb=E(i);F.Eb=E(h);_B_prog(80)}catch(e){_B_err(e)}

try{H(x3a,v3a);F=x3a[w];F.Sja=i;F.OQa=0;F.UOa=k;F.vUa=[];F.D=function $tU(){nh(this.Mw,yj,this.aNb,h,this);this.qa!=-1&&this.ec.Qea();this.qa=1;this.Xza[bc]();C3a(this);D3a(this);this.Mw.D()};F.xc=function $uU(){if(this.usa)return 4;return this.qa};F.Xn=D(aOa);F.w6=D("Sja");F.uIa=function $xU(a,c){if(a==this.ec){for(a=0;a<c[u];a++)this.Xza.MG(c[a]);this.b1()}};var Yqb=":26";
F.b1=function $yU(){D3a(this);for(var a=Zf(),c=[];!this.Xza.nd();){var d=this.Xza.ly(),f=Zf(),g=d[0];if(!(d[u]<=0))if(this.qa==3&&d[0]==Ph)z3a(this,4);else if(this.qa==4)try{var j=this.Ze.rDa.J(d[0]);if(j&&Ve(d[1])){var n=d[1];j[r](new I3a(n));g+=Qd+n[0]}}catch(s){}d=g;g=Zf();c[p]([d+xj+(g-f)]);if(g-a>500)break}if(!this.Xza.nd())this.Prb=bA(Yqb,this.b1,0,this)};F.bJb=function $zU(a){if(a==this.ec){this.yla=5E3+l[Tc]()*2E4;z3a(this,3)}};
F.C5a=function $AU(a,c){if(a==this.ec){this.usa=k;if(c==4)this.wk=1;else if(c==2)this.wk=2;else if(c==6){if(this.qa==4)if(!F3a(this,h))this.usa=h;this.wk=0;this.UOa=h}else if(c==8)this.wk=3;else if(c==7)this.wk=2;else if(c==9)this.wk=4;F3a(this,h);z3a(this,5)}};F.B5a=function $BU(a,c,d){if(a==this.ec)if(this.qa!=5&&this.qa!=6){this.usa=k;z3a(this,1);if(c||d)this.Ze[r](new K3a(c||i,d||i))}};F.uQb=function $CU(a){if(a!=this.ec)return{};a={};for(var c=0;c<this.vUa[u];c++)a=this.vUa[c].YFa(a);return a};
F.MRb=function $DU(a){if(a!=this.ec)return i;if(this.qKb){a=new Sh(this.qKb);bi(a);return a}return i};F.Eb=E(h);var Zqb="test",arb="bind";F.fJa=function $FU(){C3a(this);if(!this.lS)e(Error(".167"));var a=this.lS+Zqb,c=this.lS+arb;if(this.qa!=-1){this.ec.xc()==3||Z2a(this.ec)!=0;var d=this.ec.Kw(),f=this.ec.MQa;this.ec=this.cea(this.vS);this.ec.bs(a,c,{},d,f)}else this.ec.bs(a,c,{});z3a(this,2)};F.mq=function $GU(){switch(this.xc()){case -1:case 2:case 3:case 4:return h;default:return Ue(this.BSa)}};
F.Hg=function $HU(a,c){if(!this.mq())e(Error(".168`"+a[Zb]));c=c||1;if(Ue(a)){this.NAa.MG(a);this.NAa.Nb()>=5E3&&this.NAa.ly()}if(this.qa==4&&c==1)for(;!this.NAa.nd();)this.ec.Hg(this.NAa.ly())};F.cea=function $IU(a){a=this.XHb?this.XHb(a):new T2a(a);this.cd&&this.PQ(this.cd);a.oM(this);return a};F.Tac=function $JU(){this.Sja=i;if(this.qa==1||this.qa==5||this.qa==6){this.UOa=k;this.ec&&Z2a(this.ec)==0?this.fJa():A3a(this)}};F.aNb=function $KU(){if(!F3a(this,k))this.OQa=Zf()};
F.mGa=function $LU(a){hf(this.vUa,a)};F.lWa=function $MU(a){jf(this.vUa,a)};F.PQ=function $NU(a){this.cd=a;if(this.ec)a?this.ec.PQ(a):this.ec.PQ(new hL)};H(G3a,uh);H(H3a,uh);H(I3a,N);H3a[w].Ga=D(Gd);H3a[w].mq=function $PU(){return this.Ze.mq()};H3a[w].Hg=function $QU(a,c){this.Ze.Hg(this,a,c)};H(B3a,N);H(K3a,N);F=G3a[w];F.L=function $RU(){G3a.C.L[z](this);this.av.D();for(var a=this.rDa.Oa(),c=0;c<a[u];c++)a[c].D();this.rDa[bc]()};F.By=function $SU(a){var c=this.rDa.J(a);if(!c){c=new H3a(this,a);this.rDa.set(a,c)}return c};F.mGa=function $TU(a){this.av.mGa(a)};F.lWa=function $UU(a){this.av.lWa(a)};F.bs=function $VU(){this.xc()==-1&&this.av.fJa()};
F.Qea=function $WU(){this.av.ec.Qea()};F.Kw=function $XU(){return this.av.ec.Kw()};F.mq=function $YU(){return this.av.mq()};var brb="_sc";F.Hg=function $ZU(a,c,d){if(brb in c)e(Error(".169"));c._sc=a.Ga();this.av.Hg(c,d)};F.xc=function $_U(){return this.av.xc()};F.Xn=function $0U(){return this.av.Xn()};F.w6=function $1U(){return this.av.w6()};F.PQ=function $2U(a){this.av.PQ(a)};F.Gwb=function $3U(a){this.av.ec.Gwb(a)};F.hH=function $4U(){return this.av.ec.hH()};var crb=new CB(eI,PO),eR=new CB(eI,ke),fR=new CB(eI,he),gR=new CB(eI,glb);H(uL,xx);F=uL[w];F.Qs=E(k);F.Qs.ic=h;F.Tsb=B();F.Tsb.Ka=h;F.lJ=B();F.lJ.Ka=h;H(xL,kn);yx(uL,xL);F=xL[w];F.hZb=0;F.B=D(JF);F.a6c=function $9U(a){a.iaa==Wn&&a.IFa&&this.Aa.rg()};var hR="^iim",iR="^ig";
F.WH=function $$U(a){if(!this.Pc)if(a.iaa==Wn){M3a(this);yA++;try{this.Aa.Qf();try{if(!this.aa.Qs(a)&&!a.IFa){var c=a.ws(),d=a.Bb?a.Bb():i;switch(a.mg){case 1:case 2:for(var f=0,g=a.Mg();f<g[u];f++){var j=g[f][0],n=g[f][1],s=a.mg==1,v=this.lJ(c,d,j);this.Jg&&this.Jg.Yaa(j,n,s);if(this.Cg){this.Cg.Yaa(j,n,s);zL(this,j)}v&&O3a(v)}break;case 97:var C=a.Hc(),M=a.wf,Y=this.lJ(a.ws(),a.Bb(),C),ha=this.Cg,tb;if(ha){ha.Xwb(C,M,k);zL(this,C);tb=ha.Ydb(C)}var zc=this.Jg;if(zc)tb?zc.Yaa(C,C,k,tb):bI(zc,C);Y&&
O3a(Y);break;case 3:case 4:var qb=a.mg!=4;f=0;for(g=a.Mg();f<g[u];f++)this.STa(g[f][0],g[f][1],qb);break;case 110:var nd=d?Xy(d):i,Fe=[],Pe=nd?[nd]:[];qb=h;N3a(this,c,d,a.Mg(),Fe,Pe,qb);break;case 111:Fe=(nd=a.Dd())?[nd]:[];Pe=[];qb=k;N3a(this,c,d,a.Mg(),Fe,Pe,qb);break;case 5:case 6:qb=a.mg!=6;var qg=a.Hc();f=0;for(g=a.wf;f<g[u];f++)this.Iqb(qg,g[f],qb);break;case 11:qg=a.Hc();f=0;for(g=a.wf;f<g[u];f++){var te=qg;if(this.Cg){tI(this.Cg,te);zL(this,te)}this.Jg&&TRa(this.Jg)}break;case 48:qg=a.Hc();
f=0;for(g=a.wf;f<g[u];f++){te=qg;if(this.Cg){this.Cg.Wwb(te,g[f],k);zL(this,te)}this.Jg&&TRa(this.Jg)}break;case 12:case 13:case 76:case 77:Pe=[];Fe=[];switch(a.mg){case 12:Fe=[a.Dd()];break;case 13:Pe=[a.Dd()];break;case 76:Pe=[a.IXc];Fe=[a.Dd()];break;case 77:Pe=a.pkb;Fe=a.okb;break}this.aa.lJ(a,Fe,Pe);te=a.Mg();for(f=0;f<te[u];f++){g=te[f];qg=g[0];var Zk=g[1];yL(this,c,d,qg,Zk,Fe,Pe)}break;case 53:f=nd=a.Dd();this.Jg&&this.Jg.E4(f,void 0);this.Cg&&this.Cg.E4(f,void 0);break;case 54:var My=a.KU,
Ny=a.sWc;this.Jg&&this.Jg.E4(My,Ny);this.Cg&&this.Cg.E4(My,Ny);break;case 67:case 116:a.wac();break;case 8:te=a.Mg();for(f=0;f<te[u];f++){g=te[f];qg=g[0];Zk=g[1];var Ut=qg;yL(this,c,d,Ut,Zk,[TI],[AL,BL,GN]);if(this.Cg){tI(this.Cg,Ut);zL(this,Ut)}}break;case 16:te=a.Mg();for(f=0;f<te[u];f++)this.Aa.rg();break;case 10:te=a.Mg();for(f=0;f<te[u];f++){g=te[f];qg=g[0];Zk=g[1];Ut=qg;var Kr=Zk,Tp=[BL];a=[AL,TI,GN];this.aa.lJ(i,Tp,a);yL(this,c,d,Ut,Kr,Tp,a)}break;case 9:te=a.Mg();for(f=0;f<te[u];f++){g=te[f];
qg=g[0];Zk=g[1];yL(this,c,d,qg,Zk,[AL],[TI,BL,GN,hR,iR])}break;case 18:te=a.Mg();for(f=0;f<te[u];f++){g=te[f];qg=g[0];Zk=g[1];yL(this,c,d,qg,Zk,[TI],[AL,BL,GN])}break;case 98:te=a.Mg();for(f=0;f<te[u];f++){g=te[f];qg=g[0];Zk=g[1];yL(this,c,d,qg,Zk,[A7a],[AL,BL,GN])}break;case 30:var GD=a.Hc(),vo=a.wf[0],b9=this.lJ(c,d,GD);this.SX(GD,i,[Gmb],vo);this.SX(GD,i,[AL]);this.m1(GD,i,[TI,BL,GN]);b9&&O3a(b9);break;case 31:var Loa=a.Hc();yL(this,c,d,Loa,i,[],[Gmb],a.wf[0]);break;case 17:te=a.Mg();for(f=0;f<
te[u];f++){g=te[f];qg=g[0];Zk=g[1];a=qg;j=Zk;Kr=this.co;if(Kr.hc()){Tp=OC(Kr);Tp[p](TI);Tp[p](AL);Tp[p](BL);Tp[p](CL);Tp[p](oI);Tp[p](EN);Tp[p](DN);Kr.BFb(Tp);Kr.aa.iGa(Tp);Ut=Tp}else Ut=i;yL(this,c,d,a,j,[],Ut)}break;case 47:te=a.Mg();for(f=0;f<te[u];f++){g=te[f];c=qg=g[0];if(this.Jg){SRa(this.Jg);cI(this.Jg,J7a)}if(this.Cg){tI(this.Cg,c);zL(this,c)}}break;case 21:Fe=[GN];Pe=[AL,BL,TI];this.aa.lJ(a,Fe,Pe);te=a.Mg();for(f=0;f<te[u];f++){g=te[f];qg=g[0];Zk=g[1];yL(this,c,d,qg,Zk,Fe,Pe)}break;case 22:var eH=
a.Hc(),c9=a.c_();if(a.eg||!a.Eg()){a.WQ&&!a.Eg()&&this.m1(eH,eH,[TI]);P3a(this,d,eH,c9,a.OM())}else P3a(this,d,eH,c9);break;case 23:eH=a.Hc();c9=a.c_();P3a(this,d,eH,c9);break;case 15:qg=a.Hc();var cjb=a.wf;for(f=0;f<cjb[u];f++)P3a(this,d,qg,i);break;case 49:case 50:this.Cg&&MSa(this.Cg,a.Qla);break;case 58:var GLa=a.uGc();if(this.Cg){tI(this.Cg,GLa);zL(this,GLa)}break;case 36:var HLa=a.XA,ILa=HLa.Sb();for(f=0;f<ILa[u];f++){var JLa=ILa[f];this.lb.Yc(JLa,HLa.J(JLa))}break;case 61:var Moa=this.lb,djb=
a.NQc();zy(Moa,Moa.rl);Fya(Moa,DM).set(new qy(DM,djb));break;case 27:case 57:a.FPc()&&b4a(this);break;default:this.aa.Tsb(a)}}}finally{this.Aa.Mf()}}finally{zA()}}else a.iaa==pd&&a.HNa()==2&&this.pUa[p](a)};F.tqb=function $aV(a){!this.Pc&&a.iaa==pd&&a.HNa()==2&&jf(this.pUa,a)};F.STa=function $bV(a,c,d){d={Uf:d};this.Jg&&this.Jg.nB(a,c,d);if(this.Cg){this.Cg.nB(a,c,d);zL(this,a)}};
F.Iqb=function $cV(a,c,d){d={Uf:d};if(this.Cg){this.Cg.YXa(a,c,d);zL(this,a)}if(this.Jg)if(c=QRa(this.Jg,a))if(d.Uf)this.Jg.nB(a,c,d);else{var f=NSa(this.Cg,a,c);if(wx(f)){bI(this.Jg,a);cI(this.Jg,I7a)}else f||this.Jg.nB(a,c,d)}else cI(this.Jg,I7a)};F.lJ=function $dV(a,c,d){var f;if(this.co){a=f=new S3a(this,a,c,d);if(a.aX==2&&a.ik.Cg){if((c=a.ik.Cg.zp(a.Ea,a.Sq,h))&&c.hc())a.on=c}else if(a.aX==1&&a.ik.Jg)if(c=(c=a.ik.Jg.Zga(a.Ea,a.Sq))&&c.hc()?c.J():i)a.Uk=c;a.K2(-1)}return f};
F.SX=function $eV(a,c,d,f){this.Jg&&this.Jg.SX(a,c,d);if(this.Cg){this.Cg.SX(a,c,d,f);zL(this,a)}};F.m1=function $fV(a,c,d,f){this.Jg&&this.Jg.m1(a,c,d);if(this.Cg){this.Cg.m1(a,c,d,f);zL(this,a)}};F.fXb=B();S3a[w].K2=function $hV(a){if(this.on){var c=this.on.wua(),d=this.on.Jo();V3a(this,this.aBb,c,a);V3a(this,this.AAb,d,a)}else if(this.Uk){c=this.Uk.wua();d=this.Uk.Jo();V3a(this,this.aBb,c,a);V3a(this,this.AAb,d,a)}else this.NYb=k};
xL[w].O_c=function $iV(a){M3a(this);var c=a[dq],d=c[1];a=a.Pg;var f=a.Rc(pd);a=f==QN?a.Rc(fG)==qB[22]?k:h:f==OD&&Z3a(this,a);if(!a&&this.wKa.Nb()){var g=this.wKa.Sb();for(f=0;f<g[u];f++){var j=g[f];a4a(this,j)}this.wKa[bc]()}for(f=0;f<d[u];f++){g=d[f];j=g[0];if(this.UQa[j]!=g[1])a?this.wKa.set(j,1):a4a(this,j)}if(c[u]>2)if(this.hZb!=c[2]){this.lb.rg();this.co&&this.co.rg()}};
xL[w].N_c=function $jV(a){M3a(this);var c=a[dq],d=c[1];a=a.Pg.Rc(fG)==qB[22]?h:k;var f=this.UQa;this.UQa={};for(var g=0;g<d[u];g++){var j=d[g],n=j[0];j=j[1];var s=f[n];this.UQa[n]=j;a&&s!=j&&a4a(this,n)}if(c[u]>2)this.hZb=c[2]};xL[w].tka=function $kV(a,c,d,f,g){M3a(this);this.Cg&&this.Cg.tka(a,c,d,f,g)};yx(DL,S3a);DL[w].z5a=B();DL[w].z5a.Ka=h;DL[w].xwb=B();DL[w].xwb.ic=h;_B_prog(81)}catch(e){_B_err(e)}

try{H(c4a,Iw);var drb="gv",erb="U",jR="gp";c4a[w].tb=function $nV(){var a=fD(this.Db);hD(a,this,[UO]);iD(a,this,[je]);gD(a,UO,RF);lA(this.Db,RF,drb);lA(this.Db,erb,jR);a=RC(this.Db);uEa(a,function(c){c=c.B();lA(c,JF,LF);lA(c,bM,yM)})};c4a[w].Gaa=function $oV(a){return[je,a.ega]};c4a[w].aca=function $pV(a,c){a={};if(c[0]){Gp(a,UO);a.ega=c[0]}return a};H(d4a,Iw);var frb="settings";d4a[w].tb=function $qV(){var a=fD(this.Db);iD(a,this,[frb]);hD(a,this,[dJ]);gD(a,dJ,ML);lA(this.Db,ML,ki)};d4a[w].Gaa=function $rV(a){var c=[frb];a.fk&&c[p](a.fk);return c};d4a[w].aca=function $sV(a,c){a={view:dJ};if(c[0])a.fk=c[0];return a};e4a[w].e9=function $tV(a){this.jb[bq]({view:QO,nt:a})};H(EL,YC);F=EL[w];F.Ttb=function $uV(){var a=this.V;pDa(a);rDa(a);WCa(a,this);var c=new HB(a);a[kq](IB,c);var d=new LLa(a);a[kq](vA,d);a[kq](Bz,new BPa(a));a[kq](eo,new WIa(a));d=new HH(a);a[kq](IH,d);d=new jCa(a);a[kq](fo,d);d=new UKa(a);a[kq](GF,d);a[kq](RE,new e4a(c))};F.B=D(JF);var grb="cO",hrb="cQ",irb="cP";
F.OK=function $wV(a,c){if(jA(this.V,Pd))e(Error(".170"));var d=this.sC[yc];ewa(Wj,d);var f=d[ub](Kdb);if(a){Sg(f);a=d}else{a=om(f);ewa(Wj,a);if(Jg){d=Cg(a);var g=d.ba(T);Ja(g[x],oia);Wa(g[x],Ah);ka(g[x],Ah);d[o](a[Lc],g)}K(f,grb);K(a[mc],hrb);K(a[Lc],irb);a=a;this.Gk.w(f[gc],uj,this.SIc)}c=c&&L?this.sC[yc][ub](c):this.sC[yc][Lc];this.Thb(a,c);L&&this.V.J(Zx).XFa(a[Lc]);ZVa(this.V).UXa(ki)};
F.Thb=function $xV(a,c){var d=this.V;oDa(qC(d),a);rFa(d,a[Lc]);var f=sC(d);tDa(f,a);if(f.Ppa)e(Error(".105"));f.Ppa=Cg(this.sC[yc]);if(f.Jsa)e(Error(".105"));f.Jsa=Cg(a);this.Gk.w(f,rC,this.EHc);a=Cg(this.sC);f=mD(d);pDa(f);oDa(qC(f),Eg(c));d.aI=f;rFa(f,c);c=qC(d).W();c=new gC([c,a]);if(jA(hA(d),XC))d[kq](XC,c);else{hA(d)[kq](XC,c);nDa(lC(d),c)}};F.EHc=function $yV(){var a=iA(this.V);if(Ng&&a){a=qC(a).Fp()[rk];a[ed]==ym&&a[yk]()}};
F.SIc=function $zV(){if(!Ng&&!(Fh&&vg(Im)))this.Jz.qa==1||this.Jz.qa==2||top[Ic][Sq](h)};F.L=function $AV(){if(this.QOb){iA(this.V).D();this.V.D()}EL.C.L[z](this)};H(HL,xx);HL[w].qo=B();HL[w].qo.Ka=h;H(IL,Jf);yx(HL,IL);F=IL[w];var kR="aa",lR="lb",jrb="GMAIL_LOGIN";F.tb=function $CV(){var a=this.V,c=dD(a);c.qo(new Y0a(a));c.qo(new nRa(a));c.qo(new d4a(a));c.qo(new c4a(a));this.aa.qo(a,c);c.tb();c=this.V;var d=new DIa(c);c[kq](ii,d);fy(this.V).ud.mw=d;c=new xL(a);a[kq](Yx,new OBa(c));OO=Af(EB.Nga(),I,dab.Nga(),kD,eI.Nga(),oy);lA(this.V,OIa,JD);lA(this.V,kR,lR);a=this.V;c=new U_a(a);a[kq](SK,c);ni(jrb,Md,".google.com");a=this.V;c=new HE(a,void 0);a[kq](aD,c)};F.L=function $DV(){IL.C.L[z](this);this.Q.D()};
F.Gpb=function $EV(){this.Q.w(this.Jz.iL,aD,this.LYc)};var krb="All windows that have been popped out will be closed.";F.LYc=function $FV(a){this.Jz.poa[u]>1&&a.hj[p](krb)};F.tYc=function $GV(){try{var a=this.V,c=this.Jz.iL,d=nf(this.Jz.poa);Ff(d,function(n){n!=c&&n.o6a()});var f=jA(a,Xx);f&&f.Ac(k);GEa(a);a.D();ME.D();this.Y9a&&this.Y9a.D();var g=O.S();g.Bxa.D();Cwa();this.Q.D();g.D();this.p9a()}catch(j){}finally{}this.D()};F.p9a=function $HV(){vf(kh)&&ph()};H(j4a,uh);var lrb="532.0";ya(j4a[w],function $IV(a){var c=0,d=0,f=0;a=a.pj;if(a[Zb]==i4a){d=1;if(L||Jg&&(Ri||vg(lrb)))d=40;f=-a.wheelDelta/d;if(Ke(a.wheelDeltaX)){c=-a.wheelDeltaX/d;d=-a.wheelDeltaY/d}else d=f}else{f=a.detail;if(f>100)f=3;else if(f<-100)f=-3;if(Ke(a.axis)&&a.axis===a.HORIZONTAL_AXIS)c=f;else d=f}c=new k4a(f,a,c,d);try{this[r](c)}finally{c.D()}});j4a[w].L=function $JV(){j4a.C.L[z](this);oh(this.lRa);delete this.lRa};H(k4a,hh);function yrb(b){this.V=b;this.Ma=yy(b);this.cg=KC(b);this.Dea=new ZDa}function zrb(b){b.kw=new Hf;var a=b.Ma.db(w6a);a=a||cM.sx_clcp;if(!sx(a)){for(var c=new cg,d=OC(MC(b.cg)),f=0;f<d[u];f++){var g=NC(b.cg,d[f]).rga();g<-1&&c.add(g)}d=[];a=a[Cc](wj);var j=k;for(f=0;f<a[u];f++){var n=a[f][Cc](xj);g=da(n[0],10);if(c[bd](g)){b.kw.set(g,{tg:n[1],bgColor:n[2]});d[p](n[kd](xj))}else j=h}if(j){b=new lF(b.V);b.bh=h;b.Yc(w6a,d[kd](wj));b[Mb]()}}}function nR(b){b.kw||zrb(b);return b.kw};F=yrb[w];F.PO=function $ZV(a){if(a<-1)return(a=nR(this).J(a))?a.tg:sdb;return this.Dea.PO(a)};F.lK=function $_V(a){if(a<-1)return(a=nR(this).J(a))?a[jq]:EP;return this.Dea.lK(a)};F.X5=function $0V(a){var c=a.rga();if(c<-1){c=(a=nR(this).J(c))?a[jq]:EP;return{tg:(a?a.tg:sdb)[Zc](1),bgColor:c[Zc](1)}}return this.Dea.X5(a)};F.qcb=function $1V(){return this.Dea.qcb()};F.icb=function $2V(){return this.Dea.icb()};F.JMa=function $3V(){return this.Dea.JMa()};
F.rga=function $4V(a,c){for(var d=nR(this).Sb(),f=nR(this).Oa(),g=0;g<f[u];g++)if(a==f[g].tg&&c==f[g][jq])return da(d[g],10);d=(d=this.Ma.db(x6a))?da(d,10):cM.ix_clcip;f=(f=this.Ma.db(w6a))?f:cM.sx_clcp;f+=(f!=I?wj:I)+d+xj+a+xj+c;if(f[u]>2E3)return i;g=new lF(this.V);g.bh=h;g.Yc(x6a,d-1);g[Mb]();g=new lF(this.V);g.bh=h;g.Yc(w6a,f);g[Mb]();nR(this).set(d,{tg:a,bgColor:c});return d};_B_prog(82)}catch(e){_B_err(e)}

try{Xw(O.S(),Kd).Lr(function(b){var a=new yrb(b);KC(b).kr=a});var Brb="0.3.6";function oR(b,a,c){this.fF=c||Io()[tc](Ho,YQ);this.Jb=sla(b);this.Gub=a?String(a):i;this.xzb=bg(Io()[Za],Brb)>=0}var Crb="progress";function Drb(b,a,c){if(b.HLa!=a||b.BZ!=c){b.HLa=a;b.BZ=c;b[r](Crb)}}function pR(b){if(!b.qy())e(Error(".171"))}function Erb(b){if(!b.xzb&&b.RI!=i){b.ab[Oma](b.RI);b.RI=i;b.ab=i}}function Frb(b,a){N[z](this,b);if(a)this.sLa=a}function qR(b){this.tab=new Hf;this.Qwa=b}function Grb(b,a){b=500*l.pow(2,a);return b+b*l[Tc]()/2}
function rR(){qR[z](this,h);this.ZL=[];this.na=new kn(this)}function sR(b){qR[z](this,h);this.Dc=b;this.na=new kn(this);this.na.w(b,Mh,this);this.na.w(b,Kh,this);this.na.w(b,Crb,this)}H(oR,uh);F=oR[w];F.RI=i;F.ab=i;F.ng=k;F.HLa=0;F.BZ=0;F.Eb=D(Ej);F.jm=function $7V(){return this.HLa==this.BZ};F.ye=function $8V(){return this.hf()==0};F.Kga=function $9V(){return this.Wn?this.Wn.lastErrorMessage:I};F.qy=function $$V(){if(!this.Wn)this.Wn=this.fF.openManagedStore(this.Jb,this.Gub);return!!this.Wn};
Ka(F,function $aW(a){if(!this.qy()){this.Wn=this.fF.createManagedStore(this.Jb,this.Gub);pR(this)}if(a)this.Wn.manifestUrl=String(a)});var Hrb="beta.timer";Qp(F,function $bW(){if(!this.ng){pR(this);if(this.xzb){kma(this.Wn,G(this.NJc,this));this.Wn.oncomplete=G(this.ZT,this);oa(this.Wn,G(this.Po,this))}else{this.ab=Io()[tc](Hrb,YQ);this.RI=this.ab[Dc](G(this.Lwc,this),500);Drb(this,0,1)}this.Wn[Kma]();this.ng=h}});F.BRb=function $cW(){pR(this);return this.Wn.manifestUrl};
F.iCa=function $dW(a){pR(this);this.Wn.manifestUrl=String(a)};F.Cy=function $eW(){return this.qy()?this.Wn.currentVersion:i};F.hf=function $fW(){pR(this);return this.Wn.updateStatus};F.Mc=function $gW(){pR(this);return this.Wn[Vc]};F.Ac=function $hW(a){pR(this);Ra(this.Wn,!!a)};wa(F,function $iW(){pR(this);this.fF.removeManagedStore(this.Jb,this.Gub);this.Wn=i;if(this.qy())e(Error(".172"))});
F.Lwc=function $jW(){var a;if(this.Wn.updateStatus==3){a=new Frb(Kh,this.Wn.lastErrorMessage);Drb(this,0,1)}else if(this.Wn.updateStatus==0){a=new Frb(Mh);Drb(this,1,1)}if(a){Erb(this);this[r](a);this[r](Hh);this.ng=k}};F.NJc=function $kW(a){Drb(this,a.filesComplete,a.filesTotal)};F.ZT=function $lW(){this[r](Mh);this[r](Hh);this.ng=k};F.Po=function $mW(a){this[r](new Frb(Kh,a[Tq]));this[r](Hh);this.ng=k};
F.L=function $nW(){oR.C.L[z](this);if(this.xzb&&this.Wn){kma(this.Wn,i);this.Wn.oncomplete=i;oa(this.Wn,i)}Erb(this);this.Wn=this.fF=i};H(Frb,N);Frb[w].sLa=i;H(qR,uh);F=qR[w];F.Lv=i;var Irb=":28";F.TRa=function $oW(a){var c=this.tab.J(a)||0;this.tab.set(a,++c);if(c>5||this.tab.Nb()>50)return k;if(!this.Lv)this.Lv=bA(Irb,this.vW,Grb(this,c),this);return h};F.vW=function $pW(){if(!this.Eb())e(Error(".173"));this.eqa();this.Wma()};F.eqa=function $qW(){if(this.Lv){cA(this.Lv);this.Lv=i}};F.L=function $rW(){qR.C.L[z](this);this.eqa()};H(rR,qR);F=rR[w];F.XIa=k;F.H=D(KP);F.j_=function $tW(){return dxa(this.ZL,function(a,c){return a+c.j_()},0)};F.Z5=function $uW(){return dxa(this.ZL,function(a,c){return a+c.Z5()},0)};F.Eb=function $vW(){return Mi(this.ZL,function(a){return a.Eb()})};F.jm=function $wW(){return!this.ye()||Gf(this.ZL,function(a){return a.jm()||!a.Qwa})};F.ye=function $xW(){return Gf(this.ZL,function(a){return a.ye()||!a.Qwa})};
F.Xn=function $yW(){var a=Li(Di(this.ZL,function(c){return!c.ye()}),function(c){return c.Xn()});return a[u]>0?a[kd](ch):i};Qa(F,function $zW(){if(!this.Eb()){this.XIa=k;Ff(this.ZL,function(a){a[Rc]()})}});F.add=function $AW(a){if(this.Eb())e(Error(".174"));this.ZL[p](a);this.na.w(a,tr,this);this.na.w(a,fo,this)};ya(F,function $BW(a){switch(a[Zb]){case tr:this.XIa||this[r](tr);break;case fo:if(!this.XIa&&this.jm()){this.XIa=h;this[r](fo)}break}});
F.L=function $CW(){rR.C.L[z](this);this.na.D();this.na=i;for(var a=0;a<this.ZL[u];a++)this.ZL[a].D();this.ZL=i};H(sR,qR);F=sR[w];F.ng=k;F.gy=k;F.Nv=h;F.wq=i;F.j_=function $DW(){return this.BZ=this.BZ||this.Dc.BZ};F.Z5=function $EW(){return this.Dc.HLa+this.j_()-this.Dc.BZ};F.Eb=D(Ej);F.jm=D("gy");F.ye=D(Afb);F.Xn=D("wq");Qa(F,function $JW(){if(this.ng)e(Error(".175"));this.Dc.qy()||this.Dc[tc]();this.Wma()});F.Wma=function $KW(){this.Nv=this.ng=h;this.gy=k;this.wq=i;this.Dc[mr]()};var Jrb="Error capturing resource";
ya(F,function $LW(a){if(a[Zb]==Crb)this[r](tr);else{this.Nv=a[Zb]==Mh;if(!this.Nv){this.wq=a.sLa||I;if(!DD()){a=Jrb+(this.Dc.qy()?xl+this.Dc.BRb()+xh:I)+xj+a.sLa;ME.yI(Error(a),Sma)}if(this.TRa(this.wq))return}this.ng=k;this.gy=h;this.Nv&&this.eqa();this[r](fo)}});F.L=function $MW(){sR.C.L[z](this);this.na.D();this.Dc=this.na=i};_B_prog(83)}catch(e){_B_err(e)}

try{var Mrb="$root/cob-matches/thread/",Nrb="$root/earlydata";function Orb(b){this.on=this.Um=b;this.xJ=i;b.mb.za(ur)?this.Ioa():ih(b.mb.Ya(),Mrb+b.Hc(),this.F0,k,this)}var Prb="$root/cob-matches/message/";function Qrb(b){this.IZa=b;this.xJ=i;b.mb.za(ur)?this.Ioa():ih(b.mb.Ya(),Prb+b.vn(),this.F0,k,this)}if(172>tnb)tnb=172;zx(Orb,fI);Orb[w].F0=function $RW(){this.nBa();this.Ioa()};Orb[w].Ioa=function $SW(){this.xJ=this.on.mb.za(ur).Zga().za(this.on.Hc());this.xJ.Iz()};Orb[w].nBa=function $TW(){nh(this.on.mb.Ya(),Mrb+this.on.Hc(),this.F0,k,this)};Orb[w].D=function $UW(){this.nBa();if(this.xJ){this.xJ.bB();this.xJ=i}};zx(Qrb,tSa);Qrb[w].F0=function $VW(){this.nBa();this.Ioa()};Qrb[w].Ioa=function $WW(){this.xJ=this.IZa.mb.za(ur).PP.za(this.IZa.vn());this.xJ.Iz()};Qrb[w].nBa=function $XW(){nh(this.IZa.mb.Ya(),Prb+this.IZa.vn(),this.F0,k,this)};Qrb[w].D=function $YW(){this.nBa();if(this.xJ){this.xJ.bB();this.xJ=i}};function Urb(b,a){tB[z](this,b,95,a);this.uj=h;this.nhc={};this.Q=new kn(this);this.sg=sH(b)}var Vrb="Waiting for task list to load.";function Wrb(b,a){b.Jra(Vrb,5E3);mh(a.Vi,Uma,G(b.C2a,b))}function Xrb(b,a){b.Q.w(a,pn,b.k0b);WVa(b.sg.Hp(sJ),vr).dUa(k)}function Yrb(b){this.o2a=b};H(Urb,tB);F=Urb[w];F.Ja=function $2W(a){Urb.C.Ja[z](this,a);this.C2a()};F.C2a=function $3W(){var a=kA(this.B(),UF);Zw(a,this.Crc,this)};var Zrb="tasks:default",asb="Your conversation has been added to the task list",bsb="Your conversations have been added to the task list";F.Crc=function $4W(a){var c=a.Dq();(a=c.Gl(Zrb))&&this.Q.hb(c,pn,this.k0b);if(a&&a.uta()){a.nF();c=this.RDa;a.Urc(c,this.nhc);this.Jra(c[u]==1?asb:bsb,6E4)}else a?Wrb(this,a):Xrb(this,c)};var csb="Opening Tasks...";
F.k0b=function $5W(a){if(a.bya==vr){this.C2a();this.Jra(csb,3E3)}};F.Bdc=function $6W(a,c){this.nhc[c]=a};F.Jra=function $7W(a,c){a=new Zz(a,undefined,c);tH(this.B()).Ad(a)};F.L=function $8W(){Urb.C.L[z](this);this.Q.D()};Ax(Yrb,NB);Yrb[w].eca=function $9W(a,c){if(c.Lp||c.i_a[u]!=0)a[95]=h};Yrb[w].dca=function $$W(a){a[95]=h};Mx().Ug(170,function(b,a){a.ka(Wfa,Hj)});function psb(b){this.O=b}var qsb="lastActivity";function rsb(b,a){Kx[z](this,qsb,b);this.Kk().w(a,Fx(xr),this.G2c)}function ssb(b){this.Db=b;this.Aa=Dx(Cx(b));this.xf=fy(b)}psb[w].Fq=function $xX(){return this.O[8]};psb[w].Kdb=function $yX(){return this.O[10]};Ha(psb[w],function $zX(){return this.O[t]()});psb[w].kc=D(ae);H(rsb,Kx);rsb[w].UYb=0;rsb[w].G2c=function $BX(a){a=new psb(a[dq]);var c=a.Fq();if(!(c<=this.UYb)){this.tPc=h;this.mb.Qf();try{this.Fa(Pd,a.O[1]);this.Fa(xr,a.O[5]);this.Fa(YHa,a.O[7]);this.Fa(uw,a.O[9]);this.Fa(Hz,a.O[3]);this.Fa(KP,a.O[4]);this.Fa(yP,a.O[6]);this.Fa(yr,a.O[2]);this.Fa(IB,c);this.Fa(Kd,a.Kdb());this.UYb=c}finally{this.mb.Mf()}}};H(ssb,Iw);ssb[w].tb=function $CX(){var a=this.Aa,c=new rsb(a,this.xf.ud);a.ha(c)};Xw(O.S(),Kd).Lr(function(b){dD(b).qo(new ssb(b))});var usb="UeNMbe",vsb="ZCbBHb",wsb="</div><div class=",xsb="></div></div>";function ysb(b,a){var c=a||new U;c[R](fJ,usb,nUa,vsb,Uf,b.ke,wsb,VUa,xsb);if(!a)return c[t]()}function zsb(b){this.AP=b;this.lb=yy(b.B())};zx(zsb,NI);F=zsb[w];F.yyb=0;var Asb='Tip: Drag labels in and out of this menu or customize which labels show under <a href="',Bsb='#settings/labels">Settings</a>.';F.Ykb=function $DX(a,c){if(!(this.yyb>0)){this.Ecc=this.lb.Ep(R6a);if(this.Ecc!=0){var d=Asb+(nD(this.AP.B())+Bsb),f=this.AP.W()[Qb](T);Q(f,ysb({ke:d}));this.rna=f;d=this.AP.b(Rd);Qg(this.rna,d);this.Q=a;this.d_b=c;a.w(c,mo,this.Mic,k,this);a.w(c,no,this.w0b,k,this);c=this.rna[ic](kC)[0];Pw(a,c,aB,this.lh)}}};
F.Mic=function $EX(){var a=new lF(this.AP.B());a.bh=h;a.Yc(R6a,this.Ecc-1);a[Mb]();this.Q.hb(this.d_b,mo,this.Mic,k,this)};F.lh=function $FX(a){JB(this.AP.B())[bq]({view:dJ,fk:LC});a[zb]();a[Ec]()};F.w0b=function $GX(){this.yyb++;if(this.rna&&this.yyb>=4){var a=this.rna[ic](kC)[0];this.Q.hb(this.d_b,no,this.w0b,k,this);Ow(this.Q,a,aB,this.lh);Sg(this.rna);this.rna=i}};function wR(b,a){return b.isCaptured=a}var xR="isValidRow",Csb="createWorkerFromUrl",yR="abortCapture",zR="isCaptured",Dsb="EXPIRED",Esb="Disable ",AR="stable",BR="uphill",Fsb="-b",Gsb="History",Hsb="PendingHistory";function Isb(b){li(b,Dsb,0,pi)}var Jsb="exp/197/html/en/help.html";function Ksb(){return Jsb}function Lsb(b){this.tkc=b}function Msb(b,a){tB[z](this,b,101,a);this.uj=h}function Nsb(b){this.o2a=b}function CR(b){if(b=jA(b,KF))return b.QGc();return i}function vE(b){CR(b).HCa()}var Osb="Offline Mail";
function DR(){return Osb}var Psb="525.17";function Qsb(){return L&&vg(Tj)||Fh&&vg(HQa)||Jg&&vg(Psb)&&Qi&&No&&!Rsb()||rla()}var Ssb="10.6.0";function Rsb(){if(Qi&&No){var b=/Mac OS X ([0-9_]+);/[hb](ug());if(b&&b[u]==2)if(b=b[1]){b=b[Cc](mg)[kd](He);if(bg(b,Ssb)>=0)return h}}return k}function Tsb(){}function Usb(b){this.Jmd=b}function Vsb(b,a){this.JR=b;a!=i&&this.wc(a)}function Wsb(b,a){N[z](this,b);Oa(this,a[Lc]);this.Pm=this[Tq];this.O0b=a}
function Xsb(){this.fFa={};var b=Le("google.gears.workerPool");this.JR=b?b:this.SFc();this.JR.onmessage=G(this.Sua,this)}function Ysb(b,a,c){N[z](this,b);this.eEd=a;Oa(this,c[Lc]);this.O0b=c}function Zsb(b,a){qR[z](this,a);this.eFa=String(b);this.jda=new Sh;this.jda.Pr(b.ul);this.jda.iB(b.Jk());Th(this.jda,b.UA);this.na=new kn(this)}function atb(b){this.kf=b}var btb="INSERT OR REPLACE INTO StoreVersionInfo (StoreName, Version) VALUES(?,?)";function ctb(b,a){b.kf[hd](btb,b[ec],a)}
var dtb="CREATE TRIGGER ",etb=" ON ",ftb=" WHEN ",gtb=" BEGIN ",htb="; END";function ER(b,a,c,d){return dtb+d+c[ec]+J+a+etb+c.TZa+(c.trd?ftb+c.trd:I)+gtb+c.Bz[kd](Yma)+htb}var itb="IF NOT EXISTS ",jtb="CREATE TABLE ",ktb=" (\n",ltb=",\n  ",mtb="CREATE VIRTUAL TABLE ",ntb=" USING FTS2 (\n",otb="CREATE",ptb=" UNIQUE",qtb=" INDEX ",rtb="BEFORE INSERT",stb="AFTER INSERT",ttb="BEFORE UPDATE",utb="AFTER UPDATE",vtb="BEFORE DELETE",wtb="AFTER DELETE";
function xtb(b,a,c){c=c?itb:I;switch(a[Zb]){case 1:return jtb+c+a[ec]+ktb+a.uq[kd](ltb)+xh;case 2:return mtb+c+a[ec]+ntb+a.uq[kd](ltb)+xh;case 3:return otb+(a.Tjb?ptb:I)+qtb+c+a[ec]+etb+a.TZa+ktb+a.uq[kd](ltb)+xh;case 4:return ER(b,rtb,a,c);case 5:return ER(b,stb,a,c);case 6:return ER(b,ttb,a,c);case 7:return ER(b,utb,a,c);case 8:return ER(b,vtb,a,c);case 9:return ER(b,wtb,a,c)}return I}var ytb="DROP TABLE IF EXISTS ",ztb="DROP INDEX IF EXISTS ",Atb="DROP TRIGGER IF EXISTS ";
function Btb(b,a){switch(a[Zb]){case 1:case 2:return ytb+a[ec];case 3:return ztb+a[ec];case 4:case 5:case 6:case 7:case 8:case 9:return Atb+a[ec]}return I}var Ctb="SELECT 1 FROM SQLITE_MASTER WHERE TYPE=? AND NAME=?";function Dtb(b,a,c){return b.kf.Kr(Ctb,a,c)!=i}var Etb="beta.database";function FR(b,a){var c=Io();try{this.kf=c[tc](Etb,YQ)}catch(d){e(Error(".183`"+d[Tq]))}if(this.kf!=i){this.hbc=b=sla(b+Qd+a);this.kf[bb](b)}else e(Error(".184"))}function Ftb(b){N[z](this,b)}
function Gtb(b){var a=[];if(b)for(var c=b.fieldCount();b[xR]();){for(var d=new Array(c),f=0;f<c;f++)d[f]=b[aq](f);a[p](d);b[Rk]()}return a}function Htb(b){var a=[];if(b)for(;b[xR]();){a[p](b[aq](0));b[Rk]()}return a}function Itb(b){return b&&b[xR]()?b[aq](0):i}function Jtb(b){if(b&&b[xR]()){for(var a={},c=b.fieldCount(),d=0;d<c;d++)a[b.fieldName(d)]=b[aq](d);return a}else return i}
function Ktb(b,a,c,d){if(c[u]==0||d>=c[u])return b[hd](a);else{if(Ve(c[d]))return b[hd](a,c[d]);c=Array[w][lb][z](c,d);return b[hd](a,c)}}function Ltb(b,a,c,d,f){b=Ktb(b,a,d,f);try{return c(b)}finally{b&&b[Xk]()}}var Mtb="ROLLBACK",Ntb="COMMIT",Otb="beforerollback",Ptb="beforecommit",Qtb="rollback",Rtb="commit";function Stb(b,a){var c,d;c=a?Mtb:Ntb;d=a?Otb:Ptb;var f=b[r](new Ftb(d));if(f){b.kf[hd](c);b.xL=0;d=a?Qtb:Rtb;b[r](new Ftb(d))}return f}
function GR(b){if(b.QBb){if(b.xL<=0)e(Error(".187"));if(b.xL==1){var a=Stb(b,b.pya);return!b.pya&&a}else b.xL--}return k}function HR(b,a){FR[z](this,b,a);this.Dc=new atb(this);this.na=new kn(this);this.na.w(this,Gaa,this.Rbd);this.na.w(this,Qtb,this.Wbd);this.na.w(this,Rtb,this.Tbd);this.pqa=[];this.wBa=[]}var Ttb="-u";function Utb(b,a){return new HR(b,a+Ttb)}function IR(b,a){this.yb=b;this.SF=a}function JR(b){IR[z](this,b,this)}
function KR(b,a,c){b.yb.mn();try{b.yb[hd](btb,a,c);GR(b.yb)}catch(d){b.yb.xm(d);e(d)}}var Vtb="WebCache-";function Wtb(b,a,c,d,f,g,j){this.id=d;dp(this,f);wR(this,g);this.fF=b;a=sla(Vtb+d+Qd+a+Qd+c);this.Tr=new cg;this.NM=new cg;this.Dc=b.openStore(a);if(!this.Dc)this.Dc=b.createStore(a);for(b=0;b<j[u];b++){a=j[b];this.Tr.add(a);!this[zR]&&!this.Dc[zR](a)&&this.NM.add(a)}wR(this,this.NM.nd());this.T2=this.NM.Oa()}
function Xtb(b,a,c,d,f){IR[z](this,d,f);this.fF=b;this.AR=a;this.nGb=c;this.zK=[];this.Fh=new uh}function Ytb(b){Ia(b.zK,0);b.YSa=0;b.ZSa=0;b.Cgb=k;b.VSa=0;for(var a=b.RE.Oa(),c=0;c<a[u];c++){var d=a[c];d[kr]();d[zR]||b.zK[p](d);b.YSa+=d.T2[u];b.ZSa+=d.Tr.Nb()}}var Ztb="SELECT GroupId, Version, Captured, UrlProtoStr FROM UrlGroups";function aub(b){b.RE=new Hf;b.yb.MEc(Ztb,b.nzc,b)}var bub="Ta";
function cub(b){if(b.zK[u]){var a=b.zK[0];b=G(b.jbb,b);a.pIa=b;a.R3=a.T2[0];a.sN=a.Dc[Fb]([a.R3],G(a.jbb,a));a.eCd=k;a.hD=Dh(a.fMc,1E4,a)}else{b.yx=k;b.Fh[r](bub)}}function dub(b,a){qR[z](this,h);this.Hn=b;this.Dc=a;this.na=new kn(this);this.na.w(a.Ya(),zr,this);this.na.w(a.Ya(),bub,this)}var eub="=;NONE;",fub="lsm",gub="lslm",hub="lsrm";
function LR(b,a,c,d,f,g,j,n,s,v){rR[z](this);this.kla=s;s=MR(g,j,Mj.Vf);var C=g+eub;g=g+ei+j;this.iF=new oR(c,s,a);this.jF=new oR(d,C,a);if(this.kla)this.hF=new oR(f,g,a);d=this.IBb=Utb(j,v);f=new JR(d);f.cA();this.eG=new Xtb(a,j,c,d,f);if(!this.iF.qy()){this.iF[tc]();this.iTc=this.iF.Cy()}if(!this.jF.qy()){this.jF[tc]();this.kTc=this.jF.Cy()}if(this.kla&&!this.hF.qy()){this.hF[tc]();this.jTc=this.hF.Cy()}this.eG.cA();this.iF.iCa(iub(fub,this.iF.Cy()||I,Gi));this.jF.iCa(iub(gub,this.jF.Cy()||I,Gi));
if(this.kla)this.hF.iCa(iub(hub,this.hF.Cy()||I,Gi));for(a=0;a<n[u];a++){c=new Sh(n[a].eFa);L&&c.ul==xH&&c.Jk()[Db](Ux)!=-1||this.add(new Zsb(c,n[a].Qwa))}this.add(new sR(this.iF));this.add(new sR(this.jF));this.kla&&this.add(new sR(this.hF));this.add(new dub(b,this.eG))}function iub(b,a,c,d){return(new Sh(d)).ka(pd,b).ka(Zma,a).ka(Yfa,c)[t]()}function MR(b,a,c){if(!c[Kb](jub))return b+ei+a;return i}function kub(){this.Jsc=[];this.pE=[];Tla=this.K3;Wo=i}function lub(b){b=b.Yt();return!!b&&b.Lf}
function mub(b){this.Xp=b}function NR(){this.Ana=++nub;this.uac=new cg}function oub(b,a){switch(a.Rc(pd)){case DE:case OD:return a.Bb().Ga()==nz}return k}function pub(b,a){b=/^0000.*/;var c=a.Rc(PD)||(a.RC?a.RC.J(PD):i);a=a.Rc(Ar)||(a.RC?a.RC.J(Ar):i);return!!c&&b[cb](c)||!!a&&b[cb](a)}
function qub(b,a){var c=a.Rc(pd);if(oub(b,a))return h;a:{switch(a.Rc(pd)){case DE:case OD:b=a.Bb().Ga()==ul;break a}b=k}if(b)return k;a:switch(a.Rc(pd)){case DE:b=Uo(a.Bb());break a;default:b=k;break a}if(b)return k;switch(c){case bC:case OD:case Br:case MN:case DE:case TO:case ana:case zz:return h;case QN:a:{a=a.Rc(fG);if(!OR[a]){c=a[Db](mg);if(c==-1||!OR[a[nc](0,c+1)]){a=k;break a}}a=h}if(a)return h}return k}function rub(b,a){a=a.Rc(pd);b.uac[bd](a)||b.uac.add(a)}
function sub(b,a){if(a.Rc(pd)==QN){b=a.Rc(fG);return b==EE||b==wO}return k}var tub,uub;_B_prog(84)}catch(e){_B_err(e)}

try{Ax(Lsb,mCa);Lsb[w].Tka=function $HX(a){var c=CR(this.tkc.B());return!!c&&c.Tka(a)};H(Msb,tB);var vub="All conversations have been moved to Drafts.",wub="The conversation has been moved to Drafts.",xub=" conversations have been moved to Drafts.";Msb[w].yp=function $IX(){var a;a=this.Lp()?vub:this.Cr()?wub:this.Mg()[u]+xub;return sB(this,a,i,k)};Ax(Nsb,NB);Nsb[w].eca=function $JX(a,c){c=c.i_a;for(var d=0;d<c[u];d++)if(c[d].fQc()){a[101]=h;return}};Nsb[w].dca=function $KX(a,c){if(c.Ti[bd](HN))a[101]=h};SB(101,"Move to drafts",scb,Msb,function(b){return b==nz},function(){return Vo()});zD[w].Mod=k;Tsb[w].yYa=function $LX(){var a=uub;if(a&&a.Yt())return a.Yt().Lf;return k};Tsb[w].oi=function $MX(){var a=uub;if(a)return!a.vk();return k};gFa=new Tsb;Ax(Usb,UD);var yub="lsst",zub="lssecwin";Usb[w].LGa=function $NX(a){if(Vo()){a.set(yub,lub(PR)?1:0);a.set(zub,1)}};Usb[w].B2a=function $OX(a,c,d,f){if(Vo()){Pya(a,f);f.set(PD,c);d&&d[u]!=0&&f.set(QD,HFa(d));return h}else return k};var Aub={};F=HHa[w];F.ZRa=function $jx(){this.Q.w(this.ob,Hh,this.cVc,k,this)};F.q1b=Ge("cKa");F.Twb=Ge(bna);F.yeb=function $QX(){if(!this.mD){var a=this.yh||i;if(!a)return i;this.mD=a.yeb()}return this.mD};F.cVc=function $RX(){if(this.ob.ye())this.cKa=i;else this.lmb()};F.lmb=function $mx(){var a=this.yh||i;if((a=a&&a.Yt())&&this.cKa){a.Yvb(this.cKa);this.cKa=i;return h}return k};F.s1b=E(h);
var Bub="TraceId",Cub="EndId",Dub="ParentId",Eub="Command",Fub="MessageId",Gub="OrigConversationId",Hub="ContactId",Iub="ChangeId",Jub="StartTime",Kub="TotalTime",Lub="TotalDbTime",Mub="Complete",Nub="AuxData",Oub="ConversationCount",Pub="MessageCount",Qub="ChangeCount",Rub="Value",Sub="---\n",Tub="ls-info";
F.X0b=function $gx(a){if(this.yeb()){for(var c=[[Bub,Cub,Dub,Eub,Fub,Gub,Hub,Iub,cna,Jub,Kub,Lub,Mub,Nub],[Bub,Oub,Pub,Qub],[Bub,dna,Rub]],d=this.mD.OGc(50),f=new U,g=0;g<3;g++){var j=d[g];if(j[u]>0){f[R](c[g][kd](wj)+ch);for(var n=0;n<j[u];n++)f[R](j[n][kd](wj)+ch);f[R](Sub)}}a[Tub]=f[t]()}};F.tRb=function $ex(a){if(!Ye(a)&&a.Hrd){a=a.Hrd;if(a in Aub)return Aub[a]}return ti};NF[w].i1b=function $lA(a){if(!this.wd){var c=jA(this.B(),Od);if(c)this.wd=c.OO();if(!this.wd)return}CD()?this.wd.otc(a.yL,a.m3b,a.o2b,a.dQb,a.F2b):this.wd.BDa()};var Uub=Ki[1],QR=Ki[2],Vub=Ki[3],RR=Ki[4],Wub=Ki[5],Xub=Ki[6],Yub=Ki[9],Zub=Ki[10],avb=Ki[11],bvb=Ki[12],cvb=Ki[13],dvb=Ki[14],SR=Ki[15];H(Vsb,uh);F=Vsb[w];F.p_=function $SX(a){this[r](new Wsb(eg,a))&&Ve(a[Lc])&&a[Lc][u]==2&&mm(a[Lc][0])&&this[r](new Wsb(Cr,a))};F.Xa=i;F.wc=function $TX(a){if(this.Xa!=i)e(Error(".176"));this.Xa=a;this.JR.fFa[this.ea()]=this};nma(F,function $UX(a){this.JR[Xq](a,this)});F.ea=function $VX(){if(this.Xa==i)e(Error(".177"));return this.Xa};F.L=function $WX(){Vsb.C.L[z](this);delete this.JR.fFa[this.ea()];this.JR=i};H(Wsb,N);H(Xsb,uh);F=Xsb[w];F.JR=i;var evb="beta.workerpool";F.SFc=function $XX(){return Io()[tc](evb)};F.createWorkerFromUrl=function $YX(a){a=this.JR[Csb](a);a=new Vsb(this,a);return this.fFa[a.ea()]=a};nma(F,function $ZX(a,c){this.JR[Xq](a,c.ea())});var fvb="uknown_worker";F.Sua=function $_X(a,c,d){if(!this.Pc){a=this.fFa;a[c]||this[r](new Ysb(fvb,c,d));(c=a[c])&&c.p_(d)}};F.L=function $0X(){Xsb.C.L[z](this);this.JR=i;delete this.fFa};H(Ysb,N);H(Zsb,qR);F=Zsb[w];F.ng=k;F.gy=k;F.Nv=h;F.wq=i;F.j_=E(1);F.Z5=function $2X(){return Number(this.jm())};F.Eb=D(Ej);F.jm=D("gy");F.ye=D(Afb);F.Xn=D("wq");Qa(F,function $7X(){if(this.ng)e(Error(".175"));this.Wma()});var gvb="iscaptured";F.Wma=function $8X(){if(!this.KR){this.KR=(new Xsb)[Csb](this.eFa);this.na.w(this.KR,eg,this)}this.ng=h;this.gy=k;this.Nv=h;this.wq=i;this.KR[Xq](gvb)};var hvb=":443",ivb="iscaptured-no",jvb="capture",kvb="capture-fail-",lvb="iscaptured-yes",mvb="capture-ok",nvb=".179`";
ya(F,function $9X(a){var c=a.O0b||{},d=a[Tq];a[zb]();a=c.origin;if(a!=this.jda)if(!(/^https\:/[cb](a)&&!/\:\d+$/[cb](a)&&a+hvb==this.jda))e(Error(".178`"+a+qw+this.jda));if(d==ivb)this.KR[Xq](jvb);else{a=Mf(d,kvb);if(d==lvb||d==mvb||a){if(this.wq=(this.Nv=!a)?i:d[nc](13)){ME.yI(Error(nvb+this.eFa+qw+this.wq),Sma);if(this.TRa(this.wq))return}this.ng=k;this.gy=h;this.Nv&&this.eqa();this[r](tr);this[r](fo)}}});
F.L=function $$X(){Zsb.C.L[z](this);this.na.D();this.na=i;if(this.KR){this.KR.D();this.KR=i}};_B_prog(85)}catch(e){_B_err(e)}

try{H(atb,Jf);F=atb[w];Ba(F,"Base");dp(F,1);F.GF=[];F.R2=B();F.HP=B();F.kta=B();F.dPa=B();var ovb="unknown exception",pvb="StoreVersionInfo",qvb="StoreName TEXT NOT NULL PRIMARY KEY",rvb="Version INTEGER NOT NULL";
F.cA=function $eY(){var a=this.ANa();if(a){if(a!=this[Za]){this.kf.mn();try{this.R2(a);ctb(this,this[Za]);GR(this.kf)}catch(c){this.kf.xm(c);e(Error(".180`"+this[ec]+qw+a+qw+this[Za]+qw+(c[Tq]||ovb)))}}}else{this.kf.mn();try{this.Xra(this.GF);this.Oqa(this.GF);this.Oqa([{type:1,name:pvb,uq:[qvb,rvb]}],h);this.HP();ctb(this,this[Za]);GR(this.kf)}catch(d){this.kf.xm(d);e(Error(".181`"+this[ec]+qw+(d[Tq]||ovb)))}}this.kta();this.dPa()};
F.removeStore=function $fY(){this.kf.mn();try{this.nWa();this.Xra(this.GF);GR(this.kf)}catch(a){this.kf.xm(a);e(Error(".182`"+this[ec]+qw+(a[Tq]||ovb)))}};va(F,D(YP));var svb="SELECT Version FROM StoreVersionInfo WHERE StoreName=?";F.ANa=function $hY(){try{return this.kf.Kr(svb,this[ec])||0}catch(a){return 0}};var tvb="DELETE FROM StoreVersionInfo WHERE StoreName=?";F.nWa=function $iY(){try{this.kf[hd](tvb,this[ec])}catch(a){}};
F.Oqa=function $jY(a,c){this.kf.mn();try{for(var d=0;d<a[u];++d)this.kf[hd](xtb(this,a[d],c));GR(this.kf)}catch(f){this.kf.xm(f)}};F.Xra=function $kY(a){this.kf.mn();try{for(var c=a[u]-1;c>=0;--c)this.kf[hd](Btb(this,a[c]));GR(this.kf)}catch(d){this.kf.xm(d)}};F.ova=function $lY(a){return Dtb(this,Bo,a)};F.xha=function $mY(a){return Dtb(this,Dr,a)};F.L=function $nY(){atb.C.L[z](this);this.kf=i};H(FR,uh);H(Ftb,N);FR[w].QBb=h;FR[w].xL=0;FR[w].pya=k;FR[w].BAc="IMMEDIATE";var uvb={DEFERRED:0,IMMEDIATE:1,EXCLUSIVE:2};F=FR[w];F.uLb=uvb.DEFERRED;Va(F,function $oY(a){a=String(a);var c;try{if(arguments[u]==1)return this.kf[hd](a);c=arguments[u]==2&&Ve(arguments[1])?arguments[1]:qf(arguments,1);return this.kf[hd](a,c)}catch(d){if(c)a+=Jl+zh(c);e(Fba(d,a))}});F.KAa=function $pY(a){return Ltb(this,a,Gtb,arguments,1)};F.Zka=function $qY(a){return Ltb(this,a,Htb,arguments,1)};
F.Kr=function $rY(a){return Ltb(this,a,Itb,arguments,1)};F.Xcd=function $sY(a){return Ltb(this,a,Jtb,arguments,1)};F.MEc=function $tY(a,c,d){var f=Ktb(this,a,arguments,3);try{for(var g=0,j=f.fieldCount(),n=[],s=0;s<j;s++)n[p](f.fieldName(s));for(var v;f[xR]();){v=[];for(s=0;s<j;s++)v[p](f[aq](s));if(!c[z](d,v,g,n))break;f[Rk]();g++}}finally{f[Xk]()}};var vvb="beforebegin",wvb="BEGIN ";
F.mn=function $uY(){var a;a:{a=this.BAc;if(this.QBb)if(this.xL==0){this.pya=k;this[r](new Ftb(vvb));this.kf[hd](wvb+a);this.uLb=uvb[a];this.xL=1;try{this[r](new Ftb(Gaa))}catch(c){this.kf[hd](Mtb);this.xL=0;e(c)}a=h;break a}else if(this.pya)e(Error(".185"));else if(uvb[a]>this.uLb)e(Error(".186"));else this.xL++;a=k}return a};F.xm=function $vY(a){var c=h;if(this.QBb){if(this.xL<=0)e(Error(".187"));if(this.xL==1)c=Stb(this,h);else{this.xL--;this.pya=h;if(a)e(a);return k}}return c};
F.open=function $wY(){if(this.kf&&this.hbc)this.kf[bb](this.hbc);else e(Error(".188"))};Fp(F,function $xY(){this.kf&&this.kf[Xk]()});F.L=function $yY(){FR.C.L[z](this);this.kf=i};wa(F,function $zY(){this.kf[Pb]()});H(HR,FR);var TR={Ux:1,dAd:2,C1a:3,Gsd:4,Xrd:5,Hsd:6,Yrd:7,Fsd:8,Wrd:9};F=HR[w];F.Wbd=function $AY(){if(this.mD&&this.wk){this.mD.Qed(this.wk);this.wk=i}for(var a=0;a<this.wBa[u];a++)this.wBa[a]();Ia(this.wBa,0);Ia(this.pqa,0)};F.Tbd=function $BY(){for(var a=0;a<this.pqa[u];a++)this.pqa[a]();Ia(this.wBa,0);Ia(this.pqa,0)};F.ova=function $CY(a){return this.Dc.ova(a)};F.xha=function $DY(a){return this.Dc.xha(a)};F.Oqa=function $EY(a,c){this.Dc.Oqa(a,c)};F.Xra=function $FY(a){this.Dc.Xra(a)};F.wk=i;
F.Rbd=function $GY(){this.mD&&this.mD.Add()};F.xm=function $HY(a){this.wk=a||i;return HR.C.xm[z](this,a)};F.L=function $IY(){HR.C.L[z](this);Ia(this.wBa,0);Ia(this.pqa,0);this.na.D();this.na=i;this.Dc.D();this.mD=this.Dc=i};H(IR,Jf);F=IR[w];Ba(F,"Base");dp(F,Hj);F.GF=[];F.ycb=D(FZa);F.R2=B();F.HP=B();F.kta=B();F.dPa=B();F.cA=function $OY(){var a=this.SF.ANa(this[ec]);if(a){if(bg(a,this[Za])!=0){this.yb.mn();try{this.R2(a);GR(this.yb)}catch(c){this.yb.xm(c)}}}else{this.yb.mn();try{this.yb.Oqa(this.GF);this.HP();var d=this.SF.ycb();d.mn();try{KR(this.SF,this[ec],this[Za]);GR(d)}catch(f){d.xm(f);e(f)}GR(this.yb)}catch(g){this.yb.xm();e(Error(".189`"+this[ec]+qw+g[Tq]))}}this.kta();this.dPa()};
F.removeStore=function $PY(){this.yb.mn();try{this.SF.nWa(this[ec]);this.yb.Xra(this.GF);GR(this.yb)}catch(a){this.yb.xm(a);e(Error(".190`"+this[ec]))}};F.L=function $QY(){IR.C.L[z](this);this.SF=this.yb=i};H(JR,IR);F=JR[w];Ba(F,"StateStore");var xvb="2.2";dp(F,xvb);F.GF=[{type:TR.Ux,name:"StateInfo",uq:["ClientId INTEGER NOT NULL","MappedIdCounter INTEGER NOT NULL","FirstLoad INTEGER DEFAULT 1","ServerMode TEXT"]},{type:TR.Ux,name:pvb,uq:[qvb,"Version TEXT NOT NULL"]}];var yvb="2.1",zvb="ALTER TABLE StateInfo ADD COLUMN FirstLoad INTEGER DEFAULT 1",Avb="ALTER TABLE StateInfo ADD COLUMN ServerMode TEXT",Bvb="UPDATE StateInfo SET ServerMode=?",Cvb="SELECT ServerMode FROM StateInfo LIMIT 1";
F.R2=function $RY(a){if(bg(a,yvb)<0){this.yb.mn();try{this.yb[hd](zvb);KR(this,this[ec],yvb);GR(this.yb)}catch(c){this.yb.xm(c);e(Error(".191`"+this[ec]))}}if(bg(a,xvb)<0){this.yb.mn();try{this.yb[hd](Avb);this.yb[hd](Bvb,GA);KR(this,this[ec],xvb);GR(this.yb)}catch(d){try{this.yb.Kr(Cvb);this.yb[hd](Bvb,GA);KR(this,this[ec],xvb);GR(this.yb)}catch(f){this.yb.xm(d);e(Error(".192`"+this[ec]))}}}};var Dvb="INSERT INTO StateInfo (ClientId,MappedIdCounter,FirstLoad,ServerMode) VALUES(0,0,1,?)",Evb="INSERT INTO StoreVersionInfo (StoreName, Version) VALUES(?,?)";
F.HP=function $SY(){this.yb[hd](Dvb,GA);this.yb[hd](Evb,this[ec],this[Za])};var Fvb="SELECT FirstLoad FROM StateInfo";F.EXb=function $TY(){return!!this.yb.Kr(Fvb)};F.ANa=function $UY(a){try{return this.yb.Kr(svb,a)||i}catch(c){return i}};F.nWa=function $VY(a){try{this.yb[hd](tvb,a)}catch(c){}};var Gvb="SELECT ClientId FROM StateInfo";F.vO=function $WY(){return this.yb.Kr(Gvb)};_B_prog(86)}catch(e){_B_err(e)}

try{H(Wtb,Jf);F=Wtb[w];F.sN=-1;F.L=function $XY(){Wtb.C.L[z](this);this.ob&&nh(this.ob,Hh,this.cva,k,this);this.sN!=-1&&this.Dc[yR](this.sN)};Qp(F,function $YY(a,c){Ia(this.T2,0);for(var d=this.Tr.vc(),f=0;f<c[u];f++){var g=c[f];if(this.Tr[bd](g))d[Pb](g);else{this.Tr.add(g);this.NM.add(g)}}c=d.Oa();for(f=0;f<c[u];f++){g=c[f];this.Dc[Pb](g);this.Tr[Pb](g);this.NM[Pb](g);this.R3==g&&this.Dc[yR](this.sN)}dp(this,a);wR(this,this.NM.Nb()==0);this.T2=this.NM.Oa()});Pp(F,function $ZY(){this.T2=this.NM.Oa()});
F.jbb=function $_Y(a,c){Eh(this.hD);this.hD=0;this.sN=-1;if(c){this.R3=i;this.T2[jd](0,1);this.NM[Pb](a);wR(this,this.NM.Nb()==0);this.pIa&&this.pIa(this,h,h)}else{if(!this.ob){this.ob=new Gh;ih(this.ob,Hh,this.cva,k,this)}this.ob[Mb](this.R3,ena)}};F.fMc=function $0Y(){this.Dc[yR](this.sN);this.sN=-1;this.Po(h)};F.Po=function $1Y(a){this.R3=i;a||this.T2[jd](0,1);this.pIa&&this.pIa(this,k,!a)};
F.cva=function $2Y(a){a=a[y];if(a.ye())this.Po(k);else{var c=a.hf();if(a.eo!=Dj)this.Po(c!=404&&(c<=300||c>=400))}};wa(F,function $3Y(){this[yR]();this.fF.removeStore(this.Dc[ec])});F.abortCapture=function $4Y(){if(this.sN!=-1){this.Dc[yR](this.sN);this.sN=-1}else this.R3&&this.ob[wc]();this.R3=i};H(Xtb,IR);F=Xtb[w];Ba(F,"UrlStore");dp(F,YQ);F.ZSa=0;F.YSa=0;F.VSa=0;F.yx=k;F.Cgb=k;F.rLa=k;F.L=function $5Y(){if(this.RE){for(var a=this.RE.Oa(),c=0;c<a[u];c++)a[c].D();this.RE=i}this.Fh.D();Xtb.C.L[z](this)};F.GF=[{type:TR.Ux,name:"UrlGroups",uq:["GroupId TEXT PRIMARY KEY NOT NULL","Version  TEXT NOT NULL","Captured INTEGER DEFAULT 0 CHECK (Captured IN (0, 1))","UrlProtoStr TEXT NOT NULL"]}];F.Ya=D(lO);F.kta=function $7Y(){aub(this);Ytb(this)};var Hvb="UPDATE UrlGroups SET Captured=? WHERE GroupId=?";
F.nzc=function $8Y(a){var c=a[0],d=a[1],f=a[2];a=eval(a[3]);d=new Wtb(this.fF,this.AR,this.nGb,c,d,f,a);f!=d[zR]&&this.yb[hd](Hvb,Number(d[zR]),c);d[zR]||this.zK[p](d);this.RE.set(c,d);return h};Qa(F,function $9Y(){if(!this.yx){Ytb(this);this.Cgb=this.yx=h;cub(this)}});Ga(F,function $$Y(){this.yx&&this.zK[u]&&this.zK[0][yR]();this.yx=k});var Ivb="DELETE FROM UrlGroups";wa(F,function $aZ(){this[qc]();aub(this);for(var a=this.RE.Oa(),c=0;c<a[u];c++){var d=a[c];d[Pb]();d.D()}this.RE[bc]();this.yb[hd](Ivb)});
var Jvb="UPDATE UrlGroups SET Captured=1 WHERE GroupId=?";F.jbb=function $bZ(a,c,d){if(d){this.YSa--;c||this.VSa++;if(this.zK[0].T2[u]==0){a[zR]&&this.yb[hd](Jvb,a.id);this.zK[jd](0,1)}this.Fh[r](zr);cub(this)}else{this.yx=k;this.rLa=h;this.Fh[r](bub)}};F.j_=D("ZSa");F.Z5=function $dZ(){return this.ZSa-this.YSa};F.jm=function $eZ(){return this.Cgb&&!this.yx};F.Eb=D(Meb);F.ye=function $gZ(){return this.VSa==0&&!this.rLa};
var Kvb="Could not successfully contact the server",Lvb="Could not fetch the following urls:",Mvb="\n    ";F.Xn=function $hZ(){if(this.rLa)return Kvb;else if(this.VSa>0){for(var a=[Lvb],c=this.RE.Oa(),d=0;d<c[u];d++)of(a,c[d].NM.Oa());return a[kd](Mvb)}else return i};H(dub,qR);F=dub[w];F.tla=i;F.ld=i;F.yac=k;F.yWa=k;F.ng=k;F.j_=function $iZ(){return this.Dc.j_()};F.Z5=function $jZ(){return this.Dc.Z5()};F.jm=function $kZ(){return this.yWa||this.Dc.jm()};F.ye=function $lZ(){return!this.yWa&&!this.Dc.rLa};F.Xn=function $mZ(){return this.tla||this.Dc.Xn()};Qa(F,function $nZ(){this.ng=h;this.yWa=k;this.Wma()});var Nvb="startInternal after complete success";
F.Wma=function $oZ(){if(!(this.ld||this.Dc.Eb()))if(!this.yac||this.tla)this.Ex();else!this.Dc.jm()||!this.Dc.ye()?this.Dc[Rc]():ME.yI(Fba(Nvb))};F.Eb=D(Ej);var Ovb="Sending UrlStore request";F.Ex=function $qZ(){var a=new zD(this.Hn,this);a.bD(k);a.wl(h);a.Ne(mB);a.Ua(pd,fna);a.Ua(ZB,mi(MO,I));for(var c=[],d=[],f=this.Dc.RE.Oa(),g=0;g<f[u];g++){var j=f[g],n=[];n[1]=j.id;n[2]=j[Za];n[3]=[];c[p](n)}d[1]=c;a.Be(RE,zh(d));a.Se(Ovb);this.ld=a;this.tla=i;a[Mb]()};
var Pvb="UPDATE UrlGroups SET Version=?, Captured=?, UrlProtoStr=? WHERE GroupId=?",Qvb="INSERT INTO UrlGroups (GroupId, Version, Captured, UrlProtoStr) VALUES (?, ?, ?, ?)",Rvb="DELETE FROM UrlGroups WHERE GroupId=?";
F.rk=function $rZ(a,c,d){if(c==fna){a=this.Dc;d=d[1];a.yx&&a.zK[0][yR]();var f=d[1],g=a.RE.vc();if(f&&f[u]!=0)for(d=0;d<f[u];d++){var j=f[d];c=j[1];var n=j[3],s=j[2];if(j=a.RE.J(c)){g[Pb](c);if(s!=j[Za]){j[mr](s,n);a.yb[hd](Pvb,j[Za],Number(j[zR]),zh(n),c)}}else{j=new Wtb(a.fF,a.AR,a.nGb,c,s,n[u]==0,n);a.RE.set(c,j);a.yb[hd](Qvb,c,j[Za],Number(j[zR]),zh(n))}j[zR]||a.zK[p](j)}f=g.Oa();for(d=0;d<f[u];d++){j=f[d];c=j.id;j[Pb]();j.D();a.RE[Pb](c);a.yb[hd](Rvb,c)}Ytb(a);a.yx&&cub(a);this.Dc[Rc]()}};
var Svb="UrlStore request error: ";F.Z6=function $sZ(a){this.ld=i;if(a.oha()){this.tla=Svb+a.zga();ME.yI(Error(this.tla));if(!this.TRa(this.tla)){this.yWa=h;this.gy()}}};var Tvb="Failed to capture URLs";ya(F,function $tZ(a){if(a[Zb]==zr)this[r](tr);else if(a[Zb]==bub){if(!this.Dc.ye()){a=this.Dc.Xn()||I;ME.yI(Error(a),Tvb);if(this.TRa(a))return}this.gy()}});F.gy=function $uZ(){this.yac=this.ng=k;this.eqa();this[r](fo)};F.L=function $vZ(){dub.C.L[z](this);this.na.D();this.Dc=this.na=i};H(LR,rR);LR[w].iTc=i;LR[w].kTc=i;LR[w].jTc=i;var jub=/\/b\/[^/]+/;LR[w].L=function $wZ(){LR.C.L[z](this);if(this.iF){this.iF.D();this.iF=i}if(this.jF){this.jF.D();this.jF=i}if(this.hF){this.hF.D();this.hF=i}if(this.eG){this.eG.D();this.eG=i}if(this.IBb){this.IBb.D();this.IBb=i}};LR[w].Ac=function $xZ(a){this.iF.qy()||this.iF[tc]();this.iF.Ac(a);if(this.kla){this.hF.qy()||this.hF[tc]();this.hF.Ac(a)}if(a){this.jF.qy()||this.jF[tc]();this.jF.Ac(a)}};
wa(LR[w],function $yZ(){this.iF[Pb]();this.jF[Pb]();this.kla&&this.hF[Pb]();this.eG[Pb]()});H(kub,Jf);F=kub[w];F.K3=Mj[t]()[Kb](/[^\?#]+/)[0];F.kWc=i;F.rFa=QR;F.LX=Hi;F.VDb=SR;F.woa=RR;F.Db=i;F.U4=-1;var Uvb="lsDur",Vvb="lsIn",Wvb="lsDurEx";
F.wc=function $zZ(a,c){this.Db=a;a=new Sh(Mj);var d=a.td();if(d){d=new Wh(Rf(d));var f=d.J(Uvb),g;if(f&&!ia(g=Number(f))){this.U4=g;this.Jsc=d.Oa(Vvb);this.pE=d.Oa(Wvb)}}g=[];if(Xub){d=Xub[Cc](Er);for(var j=0;j<d[u];j++)if(!(d[j][u]<1)){f=d[j][Cc](wj,2);f[u]==2&&g[p]([f[0],f[1]])}}this.kWc=g;g=O.S();g.bk.lu.Lr(this.lJc,this);if(Vo()){g.uHa=k;this[pb](c)}else{a.td()==gna&&Mx().oz(6,G(PR.Syc,this));c()}};F.Syc=function $AZ(){var a=RC(this.Db);a=kA(a.iL.B(),KF);Zw(a,function(c){c.gLa()})};
na(F,function $BZ(a){Vw(O.S(),XL,G(this.TNc,this,a))});F.lJc=function $CZ(){O.S().bk.lu.HC.jC().iVc()};F.TNc=function $DZ(a){O.S().bk.lu.HC.jC().wc(a)};F.Yt=function $EZ(){var a=jA(this.Db,Od);return a&&a.Yt()||i};var PR=new kub;hfb[p](G(PR.wc,PR));_B_prog(87)}catch(e){_B_err(e)}

try{zx(mub,PLa);F=mub[w];F.E_b=10;F.Y8a=k;F.Oxa=function $FZ(){var a=this.NP();if(a=a&&a.Yt())this.Xp.Ggb=2E4;return a};F.NP=function $GZ(){if(!this.yh){var a=PR.Db;this.yh=a&&jA(a,Od)}return this.yh};F.ojb=function $HZ(){if(!Vo())return k;var a=this.NP()?this.yh.B0b():h,c=this.Oxa(),d=this.fDa&&this.fDa.Rwa();return a&&!c&&this.E_b-- >0||!!d};var UR="connected";F.vqb=function $IZ(){if(this.Dxa!=this.Xp.YR){this.NP()&&this.yh.bCa(UR);return h}};
F.bQ=function $JZ(a){if(!Vo())return k;if(a.hm()==100&&this.Xp.qG!=11)return k;if(this.Xp.YR==this.Dxa)return k;if(!qub(this.Dxa,this.Xp.ld))return k;this.Y8a=h;this.NP()&&this.yh.bCa(Fr);this.Y8a=k;if((a=this.Oxa())&&a.Lf){lIa(this.Xp,2,h);this.Xp.KS=i;this.Xp.EG(Seb);return h}if(--this.E_b>0){lIa(this.Xp,mub.Sxd,h);this.Xp.KS=i;this.Xp.EG(Seb);return h}return k};F.D=function $KZ(){if(this.qlb){nh(this.qlb,SK,this.Pgc,k,this);this.qlb=i}};
F.iX=function $LZ(){this.fDa=new fIa(this.w7c,this);var a=new Sh(XE);bi(a);this.fDa.sYa(a);this.fDa[xc](4E3);this.fDa[Rc]();return h};F.ncc=function $MZ(){this.NP().Hid(this.lWc)};F.w7c=function $NZ(a){this.lWc=a;this.NP()?this.ncc():Mx().oz(100,G(this.ncc,this))};F.Eoa=function $OZ(a){ih(a,SK,this.Pgc,k,this);this.qlb=a};F.Pgc=function $PZ(){this.NP()&&!this.yh.vk()&&this.Xp.xc()==ZE&&this.Xp.YR!=this.Dxa&&!this.Y8a&&this.Xp[wc](this.Xp.ld,11)};F.e2a=function $QZ(){return this.Xp.YR==this.Dxa};
F.J5a=function $RZ(){if(this.Oxa()){if(this.Xp.ld.Ayb)return k;this.Xp.i3(this.Xp.ld,1);return h}return k};F.dBa=function $SZ(a){mIa(this.Xp,a);this.Dxa=a};F.bfb=function $TZ(a,c){if(Vo()&&(a==vL||a==oy)){this.Xp.b1(this.Xp.ld,[c]);return h}return k};nG("oc_d");nG("oc_h");var Xvb=nG("oc_ea"),Yvb=nG("oc_es"),Zvb=nG("oc_sn"),awb=nG("oc_ln"),bwb=nG("oc_cn"),cwb=nG("oc_os"),dwb=nG("oc_ps"),ewb=nG("oc_rs"),fwb=nG("oc_do"),gwb=nG("oc_rn");H(NR,YF);NR[w].bF=k;var nub=0;NR[w].Ana=0;var hwb="response";NR[w].D=function $UZ(){NR.C.D[z](this);if(this.Xw){nh(this.Xw,hwb+this.Ana,this.M0,k,this);nh(this.Xw,Kh+this.Ana,this.J0,k,this);this.Xw=i}};NR[w].NP=function $VZ(){if(!this.yh){var a=gQ;this.yh=a&&jA(a,Od)}return this.yh};NR[w].Oxa=function $WZ(){if(!this.Xw){var a=this.NP();if(this.Xw=a&&a.Yt()){ih(this.Xw,hwb+this.Ana,this.M0,k,this);ih(this.Xw,Kh+this.Ana,this.J0,k,this)}}return this.Xw};var OR={};OR.rd=h;OR.ur=h;OR.arl=h;OR.st=h;
OR.xst=h;OR.sp=h;OR.tr=h;OR.dm=h;OR.dr=h;OR.dd=h;OR.dl=h;OR.dl=h;OR.dl=h;OR.us=h;OR.rp=k;OR.np=k;OR.ac_=h;OR.rc_=h;OR.ib=h;OR.mt=h;OR.ig=h;OR.sm=h;OR.sd=h;OR.cf=k;OR.ii=k;OR.prefs=h;OR.ivd=k;OR.astc=k;OR.urt=h;OR.rap=k;OR.mcf_=k;OR.dcf_=k;OR.cce=k;OR.cma_=k;OR.dma_=k;OR.dt=h;OR.rtr=h;OR.aser=k;OR.her=k;OR.ere=k;OR.cc_=h;OR.dc_=h;OR.nc_=h;OR.df=k;OR.rf=k;OR.crte=k;OR.ae_=k;OR.de_=k;OR.co_=k;OR.cffm=k;OR.ch_=h;OR.fl=h;OR.mtd=h;OR.ms=h;OR.fs=h;OR.cs=h;F=NR[w];var iwb="lss",jwb="aup";
F.wma=function $XZ(a){if(!Vo())return 0;var c=this.Oxa(),d=Rz(gQ);if(c&&(oub(this,a)||a.Rc(pd)==QN&&a.Rc(fG)==JO||a.Rc(pd)==QN&&a.Rc(fG)==AO&&a.Rc(hna)==HN||pub(this,a)))return 1;if(c&&Jz(d,850)&&(sub(this,a)||a.Rc(pd)==QN&&a.Rc(fG)==rO||a.Rc(pd)==QN&&a.Rc(fG)==OL))return 1;if(!c||!c.Lf)return 0;if(a.Rc(pd)==iwb||a.Rc(pd)==jwb||a.Rc(Amb)==Hj&&a.Rc(pd)==OD)return 0;c=this.NP();if(qub(this,a)||!a.Mod&&!c.vk())return 0.9;rub(this,a);return 0};
F.Po=function $YZ(a,c){a=new nB(this.P5(),a,c);c=this.H();c.bQ(a);c.Uba();this.bF=k;this.FRc=h};F.NEc=function $ZZ(){this.Po(13,k)};F.FAb=function $_Z(a){this.ld=a;if(qub(this,a)){this.H().uFb();var c=mi(lG,void 0);c&&this.Xw.Ghd(c);(c=Uj&&mi(Uj,void 0))&&this.Xw.Ohd(c);this.Xw.Ola(a,this.Ana);this.bF=h;this.FRc=k}else{rub(this,a);Dh(this.NEc,1,this)}};F.M0=function $0Z(a){var c=this.H();c.cfb(a[dq]);Isb(lG);Uj&&Isb(Uj);c.WH();c.Uba();this.bF=k};F.J0=function $1Z(a){this.Po(14,!!a[dq][0])};La(F,function $2Z(){e(Error(".0"))});AMa[w].Y0b=function $pC(a){this.LSc=new NR;a.dBa(this.LSc)};YI[w].BFb=function $rK(a){Vo()&&cxa(a,HN,AL)};YI[w].AFb=function $sK(a){Vo()&&a[p](HN)};YI[w].CFb=function $qK(a){if(Vo()){var c=jA(this.B(),Od);c=c&&c.OO();for(var d,f=0;f<a[u];f++)switch(a[f][0]){case HN:c&&c.sdc(a[f]);return;case CL:d=f;break}var g;if(c)g=c.y7b;if(!g||g[u]==0){if(!tub){g=nf(iTa);g[0]=HN;tub=g}g=tub}km(a,g,d)}};qJ[w].jmb=function $YL(a){return a+ina};var uwb="New messages will be forwarded as they arrive.";function vwb(b){this.O=b;this.O[1]=this.O[1]||[];this.u8=[];for(b=0;b<this.O[1][u];b++)this.u8[b]=new VR(this.O[1][b])}function wwb(b){this.O=b}function VR(b){this.O=b;this.O[2]=this.O[2]||[];this.O[3]=this.O[3]||[];this.Cac=[];for(b=0;b<this.O[3][u];b++)this.Cac[b]=new wwb(this.O[3][b])}
function WR(b){if(b){this.Rj=b.O[0];this.Fd=b.EQb();var a=b.O[2];this.yw=[];for(var c=0;c<a[u];c++)this.yw[a[c]]=h;a=b.Cac;this.q1=[];for(c=0;c<a[u];c++)this.q1[a[c].Ga()]=a[c].Ca();this.Me=b.Dd()}}var xwb="migData";function ywb(b,a){Kx[z](this,xwb,b);this.Kk().w(a,Gx(Gr),this.A3c)}function zwb(b){this.Z=b}Ha(vwb[w],function $b_(){return this.O[t]()});vwb[w].kc=D(ae);wwb[w].Ga=function $d_(){return this.O[0]};wwb[w].Ca=function $e_(){return this.O[1]};Ha(wwb[w],function $f_(){return this.O[t]()});
wwb[w].kc=D(ae);VR[w].EQb=function $h_(){return this.O[1]};VR[w].Dd=function $i_(){return this.O[4]};Ha(VR[w],function $j_(){return this.O[t]()});VR[w].kc=D(ae);F=WR[w];F.Vc=D("Rj");F.fCa=Ge("Rj");F.hf=D(Hr);F.hasFeature=function $o_(a){return!!this.yw[a]};F.Dd=D(AM);H(ywb,Kx);ywb[w].A3c=function $q_(a){var c=[];a=(new vwb(a[dq])).u8;for(var d=0;d<a[u];d++){var f=new WR(a[d]);c[p](f)}this.Fa(Gr,c)};zx(zwb,Gz);zwb[w].mib=function $r_(a,c){c=new ywb(a,c);a.ha(c)};function Iwb(b){this.Db=b}H(Iwb,Iw);var Jwb="OMNIBOX_LABEL_NAV_SHORTCUT_TASK";Iwb[w].tb=function $A_(){OF.Gi(jna,Jwb,kna);hlb.bq[p](Jwb)};Xw(O.S(),Kd).Lr(function(b){dD(b).qo(new Iwb(b))});function lxb(b){mF[z](this,b);this.Q=new kn(this);this.Hh=new hC(3E5,this.Db.J(XC));this.Q.w(this.Hh,zi,this.S8);this.Q.w(this.Hh,yi,this.R8)}var mxb=":29";function nxb(b){if(b.ab){cA(b.ab);b.ab=0}if(b.dX.x4!=b.pQ&&!CD()){bJa(b);b[r](bM)}b.ab=bA(mxb,b.ix,3E5,b)}H(lxb,mF);Nx(Mx(),48,function(b){return new lxb(b)},10);F=lxb[w];F.ab=0;F.S8=function $U_(){nxb(this)};F.R8=function $V_(){cA(this.ab);this.ab=0};F.ix=function $W_(){nxb(this)};
F.D=function $X_(){if(this.Hh){this.Hh.D();this.Hh=undefined}if(this.ab){cA(this.ab);this.ab=0}lxb.C.D[z](this)};function Txb(b){this.na=void 0;this.cAb=new cg;this.ZWa=new Yo;this.gEa=[];this.w_a=[];this.w(fy(b).ud,Fx(Feb),this.n8c)}function Uxb(b){this.hsc=b}function Vxb(b,a){var c=b.bAb.gEa[u],d=l.min(c,5);if(c>0){c=qf(b.bAb.gEa,0,d);b=qf(b.bAb.w_a,0,d);d={};d.tart=c[kd](wj);d.tars=b[kd](wj);if(a instanceof Sh)for(var f in d)a.ka(f,d[f]);else a.gYa(d)}}function Wxb(b){this.Mr=b;this.xl=tE(b.B())}H(Txb,kn);
Txb[w].n8c=function $40(a){a=a[dq];for(var c=1;c<a[u];c++){var d=a[c][0],f=a[c][1];if(!this.cAb[bd](d)){this.cAb.add(d);Vla(this.ZWa,f,d);this.ZWa.Nb()>20&&this.cAb[Pb](this.ZWa[Pb]())}}this.gEa=[];this.w_a=[];for(a=this.ZWa.vc();a.Nb()>0;){this.gEa[p](a.hQ());this.w_a[p](a.MA[0]&&a.MA[0].Dg());a[Pb]()}this.gEa[cq]();this.w_a[cq]()};_B_prog(88)}catch(e){_B_err(e)}

try{zx(Uxb,CE);Uxb[w].tb=function $50(a){this.bAb=new Txb(a)};Uxb[w].e4a=function $60(a){a.ER==OD&&a.Am&&Vxb(this,a.uri)};zx(Wxb,dSa);Wxb[w].p3=function $70(a){if(!this.Mr.wf){var c=this.xl.tn(Uxb);Vxb(c,a)}};function nyb(b){var a=Dx(Cx(b));Kx[z](this,zna,a);b=fy(b).ud;this.Kk().w(b,Fx(DE),this.L_c)}function oyb(b){this.Db=b;this.Aa=Dx(Cx(b))}cM.sx_tl=fO;cM.bx_te=k;cM.bx_ta=h;H(nyb,Kx);nyb[w].L_c=function $b1(a){this.Fa(Hz,qf(a[dq],1))};nyb[w].tMa=function $c1(){return this.Ca(Hz)||"ar,bn,gu,hi,kn,ml,mr,ne,pa,ta,te,ur,fa"[Cc](wj)};H(oyb,Iw);oyb[w].tb=function $d1(){this.Aa.ha(new nyb(this.Db))};Uw(O.S(),function(b){dD(b).qo(new oyb(b))});function fS(b,a){this.yH=b;this.Fua=a}var pyb="Chat contacts",qyb="Family",ryb="Coworkers";function syb(b){Kx[z](this,"updates",b);this.Fa(Ah,new fS(Ah,Ana));this.Fa(Pj,new fS(Pj,pyb));this.Fa(Pd,new fS(Pd,Wma));this.Fa(Rd,new fS(Rd,qyb));this.Fa(kD,new fS(kD,ryb));this.IW(Rr,0);this.IW(Sr,0)}function tyb(b,a){for(var c in uyb)jf(a,uyb[c])}var vyb="act_oid";function gS(b){Gy[z](this,"updates_search",b);this.bTa=this.Rc(vyb)||I}function hS(b,a){this.Y=b;this.N0a=a}
function wyb(b,a){b=a[Qb](PJ);fk(b,0);return b}function xyb(b,a){var c=om(a),d=wyb(b,Cg(c));function f(){Dh(function(){L&&c[Lc][Ek]();c[Lc][Bb](d,c[Lc][cc][0]);d[Ek]()},0)}b.bSa=new xm(b.Y.cb());ih(b.bSa,cj,f);f()}function yyb(b){var a;a=gm(b.Y);var c=b.Y.UO();a=new zyb(a.x,a.y,c[ib],c[id]);Km(b.LJ,a[Ck],a.top);Rm(b.LJ,a[ib],a[id])}function Ayb(b){var a=b.Y.cb()[Lc][A];b.urb=h;b.k3b=zw(a,td);Dm(a,td,yd)}function iS(b,a,c){c&&b.ka(a,c)}
function zyb(b,a,c,d){ck(this,b);this.top=a;ka(this,c);Wa(this,d)}H(fS,uh);F=fS[w];F.Ieb=0;F.ea=D(Bna);va(F,D("Fua"));F.wi=function $j1(a){if(a!=this.Fua){this.Fua=a;this[r](oy)}};F.Ke=D("Ieb");F.jg=function $l1(a){if(a!=this.Ieb){this.Ieb=a;this[r](oy)}};H(syb,Kx);var uyb={Hvd:Rr,exd:Sr,ixd:TO,vmc:Cna,Koc:GO};F=syb[w];F.Rt=function $m1(a,c){var d=this.Ca(a);if(d)c&&d.wi(c);else{d=new fS(a,c||I);this.Fa(a,d)}return d};F.FT=function $n1(a){return this.Ca(a)?this.Rt(a).Ke():I};F.nNa=function $o1(){return this.Ca(TO)||"http://www.google.com/profiles/me"};F.Ddb=function $p1(){var a=this.J().Sb();tyb(this,a);jf(a,OL);jf(a,Tr);jf(a,Ah);jf(a,hQ);jf(a,Pj);return Li(a,G(function(c){return this.Rt(c)},this))};F.IW=function $q1(a,c){this.Fa(a,c)};
F.V_a=function $r1(){this.IW(Sr,this.ncb(Rr))};F.ncb=function $s1(a){return this.Ca(a)};F.Naa=function $t1(a){this.Fa(Cna,a)};F.Gf=function $u1(){return this.Ca(Cna)};F.udc=function $v1(a){this.Fa(GO,a)};F.Vt=function $w1(){return this.Ca(GO)};H(gS,Gy);new Hf({obfuscatedId:vyb});new Hf({Kwd:vyb});F=gS[w];F.Xs=function $x1(){return"buzz/"+this.Rc(vyb)||I};va(F,E("Buzz"));F.XZ=D("bTa");F.iQa=function $A1(a){if(Ke(this.Uvb))return this.Uvb;return this.Uvb=this.bTa==Rz(a)[hq](XN)};F.FL=E(h);F.Qb=E(ey);var Byb={};hS[w].urb=k;var Cyb="-container-div",Dyb="position: absolute; z-index: 10",Eyb="-done-",Fyb="-bg",Gyb="position: absolute; background-color: #666;filter:alpha(opacity=50); opacity:0.5;width: 100%; height: 100%;",Hyb="display: none; position: absolute; border: 0;width: 100%; height: 100%;",Iyb="doneFunc",Jyb="posx",Kyb="posy",Lyb="posw",Myb="posh",Nyb="&gwt.hosted=";
hS[w].fo=function $D1(a,c,d){var f=this.N0a+Cyb;if(this.Y.Qa(f))return k;this.LJ=this.Y.ba(T,{id:f,style:Dyb});this.Y.cb()[Lc][o](this.LJ);this.S7a=this.N0a+Eyb+Yf();this.Y.Ec()[this.S7a]=G(this.yrd,this,d);Ayb(this);this.LJ[o](this.Y.ba(T,{id:this.N0a+Fyb,style:Gyb}));this.LJ[o](wyb(this,this.Y));this.ZJa=new oC(this.Y.Ec());ih(this.ZJa,sj,G(this.KKc,this));var g=this.Y.ba(Td,{id:this.N0a+Dna,style:Hyb,scrolling:yP,tabIndex:Ur,allowTransparency:jg});this.LJ[o](g);this.LJ[o](wyb(this,this.Y));var j=
L&&!vg(Ij);j||Dm(g,Vr,yd);mh(g,rj,G(function(){j||Dm(g,Vr,ud);xyb(this,g)},this));Dm(g,wd,pe);yyb(this);d=new Sh(a);d.ka(Iyb,this.S7a);if(c){iS(d,Jyb,c[Ck]);iS(d,Kyb,c.top);iS(d,Lyb,c[ib]);iS(d,Myb,c[id])}if(a=Zh(a,Wr)){d.bub(Wr);a=d[t]()+Nyb+a}else a=d[t]();g.src=a;return h};hS[w].KKc=function $E1(){Ua(this.LJ[x],xd);yyb(this);Ua(this.LJ[x],pe)};
hS[w].yrd=function $F1(a,c){if(this.ZJa){this.ZJa.D();this.ZJa=i}if(this.bSa){this.bSa.D();this.bSa=i}this.Y[ad](this.LJ);this.LJ=i;if(this.urb){var d=this.Y.cb()[Lc][A];Dm(d,td,this.k3b)}this.urb=k;this.k3b=I;this.Y.Ec()[this.S7a]=i;this.ECd=k;a&&a(c)};Ie("goog.DialogWidgetLauncher.PseudoRect",zyb,void 0);O.S().gb(Kd);Ci(O.S(),Kd);var uLb="Tasks";function vLb(b,a,c,d){this.Ck=VC(b);this.Ck.yu.add(this);b=JB(b).zc();QF(b,a);this.Zb=new jB;this.CEd=i;mh(c,d,G(this.jEc,this))}function wLb(b){this.ap=[];typeof b==Qe?this.RGa(b):this.bpa(b)}
function xLb(b,a,c,d,f){for(var g=new yLb,j=[d],n=-1,s=0,v=0,C=0;C<b.ap[u];C++)if(b.ap[C].ag>0){if(n<0&&b.ap[C].Aca){n=C;s=d;v=0}if(n>=0){var M=b.ap[C].ag;if(C==n){M-=v;v++;if(M==0)return 0}if(!zLb(b,a,j,b.ap[C],M,g)){C=n-1;j[0]=s}}else{n=-1;if(!zLb(b,a,j,b.ap[C],0,g))return 0}}else{n=-1;if(b.ap[C][jb][xb](0)==J){M=j[0];ALb(b,a,j);if(j[0]>M)continue}else if(a[Db](b.ap[C][jb],j[0])==j[0]){j[0]+=b.ap[C][jb][u];continue}return 0}a:{if(g.lOb!=undefined&&g.pe!=undefined&&g.lOb==0&&g.pe>0)g.pe=-(g.pe-1);
g.pe!=undefined&&c[sq](g.pe);b=c[iq]();c[zq](1);g.Ge!=undefined&&c[qq](g.Ge);g.zea!=undefined?c[zq](g.zea):c[zq](b);if(g.zs==undefined)g.zs=c[xq]();if(g.iGb!=undefined&&g.iGb>0)if(g.zs<12)g.zs+=12;c[Pma](g.zs);g.Zw!=undefined&&c[Ama](g.Zw);g.zx!=undefined&&c[Jma](g.zx);g.fmb!=undefined&&c.setMilliseconds(g.fmb);if(f&&(g.pe!=undefined&&g.pe!=c[fr]()||g.Ge!=undefined&&g.Ge!=c[Cq]()||g.zea!=undefined&&g.zea!=c[iq]()||g.zs>=24||g.Zw>=60||g.zx>=60||g.fmb>=1E3))c=k;else{if(g.TAb!=undefined){f=c[sr]();c[gr](c[hc]()+
(g.TAb-f)*60*1E3)}if(g.Msc){f=new Date;f[sq](f[fr]()-80);c[hc]()<f[hc]()&&c[sq](f[fr]()+100)}if(g.Aea!=undefined)if(g.zea==undefined){g=(7+g.Aea-c[Gq]())%7;if(g>3)g-=7;f=c[Cq]();c[zq](c[iq]()+g);if(c[Cq]()!=f)c[zq](c[iq]()+(g>0?-7:7))}else if(g.Aea!=c[Gq]()){c=k;break a}c=h}}return c?j[0]-d:0}function BLb(b,a){if(a.ag<=0)return k;b="MydhHmsSDkK"[Db](a[jb][xb](0));return b>0||b==0&&a.ag<3}function ALb(b,a,c){if(b=a[Zc](c[0])[Kb](/^\s+/))c[0]+=b[0][u]}
function zLb(b,a,c,d,f,g){ALb(b,a,c);var j=c[0],n=d[jb][xb](0),s=-1;if(BLb(b,d))if(f>0){if(j+f>a[u])return k;s=CLb(b,a[Zc](0,j+f),c)}else s=CLb(b,a,c);switch(n){case XC:g.lOb=bV(b,a,c,bE.xDb);return h;case XD:a:{d=s;if(d<0){d=bV(b,a,c,bE.xca);if(d<0)d=bV(b,a,c,bE.wEb);if(d<0){g=k;break a}g.Ge=d}else g.Ge=d-1;g=h}return g;case eD:d=bV(b,a,c,bE.c2a);if(d<0)d=bV(b,a,c,bE.U1a);if(d<0)g=k;else{g.Aea=d;g=h}return g;case Kd:g.iGb=bV(b,a,c,bE.MCb);return h;case Wx:a:{s=s;var v;if(s<0){v=a[xb](c[0]);if(v!=
tl&&v!=Qd){g=k;break a}c[0]++;s=CLb(b,a,c);if(s<0){g=k;break a}if(v==Qd)s=-s}if(!v&&c[0]-j==2&&d.ag==2){b=s;a=(new Date)[fr]()-80;c=a%100;g.Msc=b==c;b+=l[rb](a/100)*100+(b<c?100:0);g.pe=b}else g.pe=s;g=h}return g;case aE:d=s;if(d<0){d=bV(b,a,c,bE.dEb);if(d<0)d=bV(b,a,c,bE.xEb);if(d<0)g=k;else{g.Ge=d*3;g.zea=1;g=h}}else g=k;return g;case Pd:g.zea=s;return h;case YD:b=c[0]-j;g.fmb=b<3?s*l.pow(10,3-b):l[kb](s/l.pow(10,b-3));return h;case Yx:if(s==12)s=0;case jD:case aD:case cD:g.zs=s;return h;case Xx:g.Zw=
s;return h;case ki:g.zx=s;return h;case ey:case cy:case Bz:if(a[Db](QFa,c[0])==c[0])c[0]+=3;b:if(c[0]>=a[u]){g.TAb=0;g=h}else{d=1;switch(a[xb](c[0])){case Qd:d=-1;case tl:c[0]++}j=c[0];s=CLb(b,a,c);if(s==0&&c[0]==j)g=k;else{if(c[0]<a[u]&&a[xb](c[0])==xj){v=s*60;c[0]++;j=c[0];s=CLb(b,a,c);if(s==0&&c[0]==j){g=k;break b}v+=s}else{v=s;if(v<24&&c[0]-j<=2)v*=60;else v=v%100+v/100*60}v*=d;g.TAb=-v;g=h}}return g;default:return k}}
function CLb(b,a,c){b=a[Zc](c[0])[Kb](/^\d+/);if(!b)return-1;c[0]+=b[0][u];return da(b[0],10)}function bV(b,a,c,d){b=0;var f=-1;a=a[Zc](c[0])[od]();for(var g=0;g<d[u];g++){var j=d[g][u];if(j>b&&a[Db](d[g][od]())==0){f=g;b=j}}if(f>=0)c[0]+=b;return f}function yLb(){}Bi(O.S(),"sy151");_B_prog(89)}catch(e){_B_err(e)}

try{vLb[w].sK=function $Kla(){if(this.Zb)return[this.Zb];return[]};vLb[w].jEc=function $Lla(){this.Zb=i;WC(this.Ck);this.Ck.yu[Pb](this)};wLb[w].bpa=function $Mla(a){for(var c=k,d=I,f=0;f<a[u];f++){var g=a[xb](f);if(g==J){if(d[u]>0){this.ap[p]({text:d,ag:0,Aca:k});d=I}for(this.ap[p]({text:J,ag:0,Aca:k});f<a[u]-1&&a[xb](f+1)==J;)f++}else if(c)if(g==Ox)if(f+1<a[u]&&a[xb](f+1)==Ox){d+=Ox;f++}else c=k;else d+=g;else if("GyMdkHmsSEDahKzZvQ"[Db](g)>=0){if(d[u]>0){this.ap[p]({text:d,ag:0,Aca:k});d=I}var j;j=a[xb](f);for(var n=f+1;n<a[u]&&a[xb](n)==j;)n++;j=n-f;this.ap[p]({text:g,ag:j,Aca:k});f+=j-1}else if(g==Ox)if(f+1<a[u]&&a[xb](f+1)==Ox){d+=
Ox;f++}else c=h;else d+=g}d[u]>0&&this.ap[p]({text:d,ag:0,Aca:k});a=k;for(c=0;c<this.ap[u];c++)if(BLb(this,this.ap[c])){if(!a&&c+1<this.ap[u]&&BLb(this,this.ap[c+1])){a=h;this.ap[c].Aca=h}}else a=k};wLb[w].RGa=function $Nla(a){if(a>11)a=10;this.bpa(a<4?bE.soa[a]:a<8?bE.CFa[a-4]:bE.soa[a-8]+J+bE.CFa[a-8])};wLb[w].parse=function $Ola(a,c,d){return xLb(this,a,c,d||0,k)};O.S().gb("sy151");Ci(O.S(),"sy151");Bi(O.S(),"sy150");function pY(b){this.Qzb=b}H(pY,xx);F=pY[w];F.QRa=B();F.QRa.Vd=h;F.PRa=B();F.PRa.Vd=h;F.BJa=B();F.BJa.Vd=h;O.S().gb("sy150");Ci(O.S(),"sy150");var OAc='" type="text" autocomplete="off" ignoreesc="true" title="',PAc='" label="';function kY(b,a){nn[z](this,a);this.Me=b||I}function QAc(b){if(!b.QEc&&b.Q&&b.b()[sk]){b.Q.w(b.b()[sk],oj,b.NIc);b.QEc=h}}function lY(b){return b.b()[q]!=I&&b.b()[q]!=b.Me}function RAc(b){if(b[xb](0)==tl)return b;b=b[mb](/\D/g,I);b=b[xb](0)==Hj?tl+b:Iha+b;if(b[u]==12)return b;return i}Bi(O.S(),"sy148");H(kY,nn);F=kY[w];F.hO=i;F.ba=function $qNa(){this.wa=this.W().ba(zm,{type:Il})};F.Ff=function $rNa(a){kY.C.Ff[z](this,a);if(!this.Me)this.Me=a[Uc](Hl)||I};F.ma=function $sNa(){kY.C.ma[z](this);this.E3a();this.rJ();this.b().jl=this};F.Ba=function $tNa(){kY.C.Ba[z](this);this.Fra();this.b().jl=i};F.E3a=function $uNa(){var a=new kn(this);a.w(this.b(),lj,this.WNa);a.w(this.b(),kj,this.o_);Fh&&a.w(this.b(),[Zi,ij,jj],this.DIc);var c=Eg(this.b());a.w(pm(c),rj,this.MKc);this.Q=a;QAc(this)};
F.Fra=function $vNa(){if(this.Q){this.Q.D();this.Q=i}};F.L=function $wNa(){kY.C.L[z](this);this.Fra()};F.voa="label-input-label";F.WNa=function $yNa(){this.ef=h;Ag(this.b(),this.voa);if(!lY(this)&&!this.tNc){var a=this,c=function $xNa(){pa(a.b(),I)};L?Dh(c,10):c()}};F.o_=function $zNa(){this.hO=i;this.ef=k;this.rJ()};F.DIc=function $ANa(a){if(a[Sb]==27){if(a[Zb]==ij)this.hO=this.b()[q];else if(a[Zb]==Zi)pa(this.b(),this.hO);else if(a[Zb]==jj)this.hO=i;a[zb]()}};
F.NIc=function $BNa(){if(!lY(this)){pa(this.b(),I);Dh(this.zHc,10,this)}};F.zHc=function $CNa(){if(!lY(this))pa(this.b(),this.Me)};F.MKc=function $DNa(){this.rJ()};Aa(F,function $ENa(){pa(this.b(),I);if(this.hO!=i)this.hO=I});F.Fa=function $FNa(a){if(this.hO!=i)this.hO=a;pa(this.b(),a);this.rJ()};F.Ca=function $GNa(){if(this.hO!=i)return this.hO;return lY(this)?this.b()[q]:I};
F.rJ=function $HNa(){QAc(this);if(lY(this))Ag(this.b(),this.voa);else{!this.tNc&&!this.ef&&K(this.b(),this.voa);Dh(this.mfd,10,this)}};F.mfd=function $INa(){if(this.b()&&!lY(this)&&!this.ef)pa(this.b(),this.Me)};var fBc="Your attachment(s) were not restored.  You can only attach items while online.";function gBc(b){this.ik=b}zx(gBc,uL);gBc[w].Qs=function $VNa(a){if(a.mg==101){var c=a.ws(),d=a.Bb(),f=this.ik,g=f.Cg;a=a.Mg();for(var j=0;j<a[u];j++){var n=a[j],s=n[0];n=n[1];var v=f.lJ(c,d,s);f.SX(s,n,[CL]);f.m1(s,n,[HN]);v&&O3a(v);if(g){tI(g,s);zL(f,s)}}return h}return k};xL[w].fXb=function $gV(){this.Jg.KOc()};O.S().gb("sy148");Ci(O.S(),"sy148");Bi(O.S(),"sy157");O.S().gb("sy157");Ci(O.S(),"sy157");Bi(O.S(),"sy159");function nCc(b,a){var c=a||new U;c[R](b[ec],b.xM?xl+b.xM+xh:I);if(!a)return c[t]()};O.S().gb("sy159");Ci(O.S(),"sy159");Bi(O.S(),"sy160");function oCc(b,a,c,d){this.x1=b;this.hvb=a;this.ABa=c;this.dbc=d}function pCc(b,a,c,d,f,g){d=Ke(d)?d:b[0];if(c){g||(b[0]=Qd+b[0]);d=Qd+d}return new oCc(b,d,a,f)}var qCc="^(?:";function rCc(b,a){this.tKb=b;this.Dyc=new RegExp(qCc+a[kd](Bl)+Beb)}function sCc(b){this.fUa=b}function tCc(b){this.O=b;this.O[1]=this.O[1]||[];this.QYb=[];for(b=0;b<this.O[1][u];b++)this.QYb[b]=new uCc(this.O[1][b])}function uCc(b){this.O=b}function vCc(b,a){oH[z](this,b,33);this.wj=a}
function wCc(b){this.V=b;this.cg=KC(b);this.sg=sH(b);this.Hza=new sCc(xCc);Mx().oz(11,G(this.wSc,this))}var yCc="quick link";
function zCc(b,a,c){var d=[],f=MC(b.cg),g=jTa(f.za(cJ));of(g,OC(f));b.FQa&&Hw(g,function(v,C){v=b.FQa[v];C=b.FQa[C];return v>C?-1:v<C?1:0});for(f=0;d[u]<c&&f<g[u];f++){var j=g[f],n=b.cg.Rw(j)?Vy(j):undefined;if((n||j)[Kb](a))d[p](ACc(b,j,n))}if(g=b.sg.Hp(bra)){g=g.XA;var s;for(f=0;d[u]<c&&(s=g[f]);f++){n=s[Cc](Md);j=Rf(String(n[0]));n=Rf(String(n[1]));if(n[Kb](a)||j[Kb](a))d[p](b.HJ([j,yCc],Ph,I,n,h))}}return d}
function ACc(b,a,c){var d=NC(b.cg,a);d=nCc({name:c||a,xM:d.rt>0?d.rt:0});var f=JC(a);return b.HJ([d,Hl],b.AU?ki:Hz,cra+(c||f),a,h)}function BCc(b,a,c,d){BG[z](this,b,a,c,d)}var CCc='<span class="HxZ6qc">&nbsp;-&nbsp;';function DCc(b,a){var c=a||new U;c[R](I,pE,V(b.ce),gB,b.n7b?CCc+V(b.n7b)+gB:I,I);if(!a)return c[t]()}function ECc(b,a,c,d){CG[z](this,b,a,c,d)}var FCc="ah j3STDe";
function GCc(b,a,c,d){b=new ECc(c,i,k,h);m(b,FCc);b.yBa=S7a;b.XL=h;c=new BCc(J,dra,h,150);c.L0a=k;c.Zbb=k;c.kd=this;c.Wr(a);c.gwb=k;uG[z](this,d,b,c);this.oja=7;this.GGa=this.mHa=h;this.zf=a}function HCc(b){N[z](this,era);this.IRc=b}Ha(oCc[w],D("hvb"));rCc[w].Vta=function $nOa(a,c,d,f){if(!a[Kb](this.Dyc))return[];var g=a[Cc](xj),j=[];j[u]<d&&String(g[0]+fra)[Kb](c)&&j[p](pCc([g[0]+fra],dx,f));c=this.tKb.Oga(g[1],d,h);for(var n=0;n<c[u]&&j[u]<d;n++)j[p](this.Z6a(c[n],f,g[0]));j[0]&&j[0].x1[0]!=a&&j[ld](pCc([a],dx,f));return j};rCc[w].Ko=function $oOa(a,c,d,f){c=[];a=this.tKb.Oga(a,d);for(var g=0;g<a[u]&&c[u]<d;g++)c[p](this.Z6a(a[g],f));return c};
rCc[w].Z6a=function $pOa(a,c,d){var f=Pf(a[pq]());a=Pf(a.Vc());var g=d?d+xj:I,j=[I];if(f&&a)j=[g+f,a];else if(f)j=[g+f];else if(a)j=[g+a];return pCc(j,dx,c,(d?d+xj:I)+a)};sCc[w].Vta=function $qOa(a,c,d,f){d=[];for(var g=this.fUa,j=0;j<g[u];j++){var n=g[j][0];if(a[Kb](Ty+n+xj)){g=g[j][1];for(j=0;j<g[u];j++){var s=n+xj+g[j];s[Kb](c)&&d[p](this.HJ(s,f))}d[0]&&d[0].x1[0]!=a&&d[ld](this.HJ(a,f));return d}}return[]};var ICc="operator";sCc[w].Ko=function $rOa(a,c,d,f){a=[];for(d=0;d<this.fUa[u];d++)this.fUa[d][0][Kb](c)&&a[p](this.HJ(this.fUa[d][0]+xj,f,ICc));return a};sCc[w].HJ=function $sOa(a,c,d){return pCc(Ke(d)?[a,d]:[a],dg,c)};_B_prog(90)}catch(e){_B_err(e)}

try{Ha(tCc[w],function $tOa(){return this.O[t]()});tCc[w].kc=D(ae);uCc[w].Iga=function $vOa(){return this.O[0]};Ha(uCc[w],function $wOa(){return this.O[t]()});uCc[w].kc=D(ae);H(vCc,oH);var JCc="omni";vCc[w].Ja=function $yOa(a){vCc.C.Ja[z](this,a);a.Ua(pd,JCc);a.Ne(mB)};vCc[w].rk=function $zOa(a,c,d){if(c==JCc){a=this.wj;d=(new tCc(d)).QYb;a.FQa={};c=0;for(var f;f=d[c];c++)a.FQa[f.Iga()]=f.O[1]}};wCc[w].AU=k;var xCc=[[gO,[sz,"read",npb,kza,pJ]],["has",["attachment"]],["filename",["jpg","pdf","doc","ppt","xls"]],[ss,[kz,Zy,Yy,"anywhere"]],[Hl,[]],[vK,[]],[mNa,[]]],KCc=[Xt,LP,Yd,MP,"deliveredto"],LCc=[["and &&","AND","AND"],["or ||",zu,zu],[gra,"has photos",hra],[ira,"has documents","filename:(pdf OR doc OR xls OR ppt) OR docs.google.com OR spreadsheets.google.com"],[jra,"has videos",kra],[lra,mra,"filename:ics"],[nra,nra,ora],[pra,pra,qra],[Pu,Pu,rra]];F=wCc[w];
F.wSc=function $AOa(){(new vCc(this.V,this))[Mb]()};F.ula=function $BOa(a,c,d,f){var g;if(!this.AJ&&(g=rG(this.V)))this.AJ=new rCc(g,KCc);c=this.t6(a,c,f);d(a,c,k)};var MCc="^label:",NCc="search mail";
F.t6=function $COa(a,c,d){this.AU=a[xb](0)==Qd;var f=Pf(a[mb](/[\(\)\{\}\"\']|(?:^-)/g,I));if(f==I)return[];var g=f[od]();f=new RegExp(sra+ox(f),ii);if(this.AJ){var j=this.AJ.Vta(g,f,c,this.AU);if(j[u]>0)return j}if(g[Kb](MCc)){j=g[Cc](xj,2)[1];j=new RegExp(vQa+ox(j),ii);j=zCc(this,j,c)}else j=[];if(j[u]>0)return j;j=this.Hza.Vta(g,f,c,this.AU);if(j[u]>0)return j;j=this.Hza.Ko(g,f,c,this.AU);var n=this.pzb(f,c),s=zCc(this,f,c),v=s[u]+j[u]+n[u];v=v>=c-3-1?3:c-1-v;g=this.AJ?this.AJ.Ko(g,f,v,this.AU):
[];a=this.AU?a[nc](1):a;d=[this.HJ([d?d:a,NCc],ki,a,undefined,!!d)];of(d,g,s,j,n);return d[lb](0,c)};F.pzb=function $DOa(a,c){for(var d=[],f=0;f<LCc[u]&&d[u]<c;f++)LCc[f][0][Kb](a)&&d[p](this.HJ([LCc[f][1]],RE,LCc[f][2]));return d};F.Z6a=function $EOa(a,c){var d=Pf(a[pq]());a=Pf(a.Vc());var f=c?c+xj:I,g=[I];if(d&&a)g=[f+d,a];else if(d)g=[f+d];else if(a)g=[f+a];return this.HJ(g,dx,(c?c+xj:I)+a)};
F.HJ=function $FOa(a,c,d,f,g){d=Ke(d)?d:a[0];if(this.AU){g||(a[0]=Qd+a[0]);d=Qd+d}return new oCc(a,d,c,f)};H(BCc,BG);BCc[w].Qo=function $GOa(a){BCc.C.Qo[z](this,a);switch(a[Sb]){case 13:this.kd.Dsa();this.kd.nw();break;case 39:this.kd.vI()&&a[zb]()}};H(ECc,CG);ECc[w].qWa=function $HOa(a,c,d){a=a[dq];Q(d,DCc({ce:a.x1[0],n7b:a.x1[1]}))};H(GCc,uG);GCc[w].vI=function $IOa(){var a=vG(this,this.Hy);if(a!=-1){var c=Ke(this.Rg[a].iQb);this.JRc=a=this.Rg[a];if(c)a+=J;this.JF.yaa(a,!c);this.nw();this[r](kQ);return h}return k};GCc[w].Dsa=function $JOa(){sh(this,new HCc(this.JRc))};H(HCc,N);O.S().gb("sy160");Ci(O.S(),"sy160");Bi(O.S(),"sy161");O.S().gb("sy161");Ci(O.S(),"sy161");var RCc='" token="',SCc="token",TCc="Report ",UCc=" bug",VCc="New!",WCc="Take our survey",XCc="xu",YCc="z4",ZCc=' <a class="',aDc="xr",bDc="Pn",cDc="60:ls",dDc="/b/",eDc="You can ",fDc="wl",gDc="<option ",hDc="mon";function iDc(b){var a=Zf();b.xya=a;GYa(b,a)}function jDc(b,a){b.bmd=a;b.Li[z](b.na)}function kDc(b,a,c){var d=b[a.id]||0;b=b[c.id]||0;return d>b?-1:d<b?1:a[Dq]>c[Dq]?1:-1}
function lDc(b,a){b.tD=a;b.tD&&!b.xa.uPc()&&b.xa.ZVa(Ph);if(!b.Tl)if(b.tD){b.tD.vLc&&b.xa.cja(k);b.xa.ZVa(Ph)}var c=b.Uq;c.tD=a;if(a!=i)c.ACd=a.Hc();b.Uq.YU()}function mDc(b){b.Hh.My()||iDc(b.H3)}function qY(b,a){b.jMb=a;b.gr||DPa(b,h)}function nDc(b,a){this.Li=b;this.na=a;b=new Sh;b.ka(pd,UF);b.ka(VF,Pj);this.Wic=String(b);b.ka(VF,Hj);this.Vic=String(bi(b))}function oDc(b,a){b.pQ=a}function pDc(b){return Cf(b.jAa)[el](df(kDc,b.m8b))}
function qDc(b){if(!b.ul)b.ul=(new Sh(b.PIb[Ic][Yc])).ul;return b.ul==xH}function rDc(b){b.OEc=h}function sDc(b,a){var c=a||new U;c[R](Qu,b.id,qE,b[Yc],tra,Rd,W,b.yU,hB);if(!a)return c[t]()}function tDc(b){var a=(new Sh(kea)).ka(Sd,Vz);Mx().Kh(170,b,a);return a}var uDc="?logout&hl=en";function vDc(b){var a=I;if(b[hq](Mz)){b=new Sh(Mj);if(b.Jk()=="mail.google.com"){b.Of()[bc]();b.Pr(xH);Uh(b,I);a=b[t]()}}return a+uDc}var wDc="mail/whatsnew.html",xDc="about_whatsnew.html";
function yDc(b){var a;if((a=b[hq](V7a))&&da(a,10)){a=b[hq](X7a);if(!(new Sh(a)).Jk()){if(b[hq](Mz)){b=b[hq](i8a);a=a||wDc}else{b=b[hq](h8a);a=a||xDc}a=Ue(b)?b+a:a}}else a=i;return a}function zDc(b){var a=i,c=b[hq](V7a);if(c&&da(c,10)){a=b[hq](W7a);a=Ke(a)?String(a):i}return a}function rY(b,a){yH[z](this,k,undefined,b,a);this.OXb=k}function ADc(b){b.OXb=h;b.gma(b.ZLc,b.Jed);L&&!zH&&!b.KKa&&b.j4b()}function BDc(){return Xw(O.S(),PN).hc()}
var CDc="[gmonkey.get] Invalid version number: ",DDc='[gmonkey.get] Version "',EDc='" not loaded, use:\ngmonkey.load("',FDc='", function(api) { ... })';function GDc(b){if(BDc(b))switch(Number(b)){case 1:return HDc;default:Zo(CDc+b)}else Zo(DDc+b+EDc+b+FDc);return i}function IDc(){top.gmonkey=self.gmonkey;nh(top,rj,IDc)}function JDc(b){this.O=b}function KDc(b,a){pB[z](this,b,37,6);this.quc=a}function LDc(b){pB[z](this,b,38,7)}function sY(b){this.Rd=b}function MDc(b){this.link=b;this.Hm=[1]}
function NDc(b,a){b.Hm[jd](b.Hm[u]-1,0,a)}function tY(b,a,c){this.yn=b;this.KL=a;za(this,c?c:1)}function ODc(b){this.O=b}var PDc="jobsetinfo";function QDc(b,a){Kx[z](this,PDc,b);this.Kk().w(a,Fx(ura),this.p2c)}function RDc(b){this.Db=b;this.Aa=Dx(Cx(b));this.xf=fy(b)}var SDc='" role="banner">',TDc=' Logo</h1><div id="',UDc="a9",VDc='" idlink role="link" title="';function WDc(b,a){var c=a||new U;c[R](vra,qD,SDc,b.si,TDc,b.id,S,UDc,VDc,b.si+" by Google",mE);if(!a)return c[t]()}
var XDc='<b><a target=_blank class="bE" href="',YDc="</a></b> | ";function ZDc(b,a){var c=a||new U;c[R](b.fnb&&b.enb?XDc+b.enb+W+b.fnb+YDc:I);if(!a)return c[t]()}var aEc="&nbsp;| ",bEc="><span id=",cEc="><a class=",dEc="bB",eEc=' href="#"><u>',fEc="Report issues",gEc="</u> <small>&#9660;</small></a></span><div id=",hEc=" for=",iEc="</div></span> | ";
function jEc(b,a){var c=a||new U;if(b.vWa[u]==1)c[R](b.vWa[0].yn,aEc);else if(b.vWa[u]>1){c[R](wra,xra,bEc,b.vac,cEc,dEc,eEc,fEc,gEc,b.Red,hEc,b.vac,Ru,xo,W);b=b.vWa;for(var d=b[u],f=0;f<d;f++)c[R](X,uo,W,b[f].yn,Z);c[R](iEc)}if(!a)return c[t]()}var kEc="a8",lEc="<span class=bA><span id=",mEc='><a class=bB href="#"><u><b>',nEc="</b></u> <small>&#9660;</small></a></span><div id=",oEc=' class="J-M"></div></span> | ',pEc="</b> | ",qEc="  | ";
function rEc(b,a){var c=a||new U;c[R](nE,b.rHc,S,kEc,yra);b.BYb&&sEc(b,c);b.IXb&&jEc(b,c);var d=c||new U;d[R](b.tjd?lEc+b.aFb+mEc+V(b.kjc)+nEc+b.crc+hEc+b.aFb+oEc:ZG+V(b.kjc)+pEc);c||d[t]();c[R](UZa,b.ptc,Uf);b.fpa&&tEc(b,c);c[R](ns,b.oWc,W);ZDc(b,c);c[R](ns,b.DXc,au);d=c||new U;for(var f=b.gVc,g=f[u],j=0;j<g;j++)d[R](f[j],aEc);c||d[t]();uEc(b,c);c[R](Su);if(b.njb&&b.mkd){d=c||new U;sDc({id:b.ebb,href:b.fbb,yU:zra},d);c||d[t]();c[R](Su)}vEc(b,c);c[R](qEc);b.IXb||jEc(b,c);wEc(b,c);c[R](Ara);if(!a)return c[t]()}
var xEc="a7",yEc='" target="_blank" href="',zEc="Manage this domain";function AEc(b,a){var c=a||new U;b.fpa&&c[R](QP,Rd,J,xEc,yEc,b.fpa,W,zEc,hB);if(!a)return c[t]()}function tEc(b,a){var c=a||new U;AEc(b,c);c[R](Su);if(!a)return c[t]()}var BEc="#settings";function uEc(b,a){var c=a||new U;sDc({id:b.Z1,href:b.tRa+BEc,yU:IK},c);if(!a)return c[t]()}var CEc='<span><a target=_blank class="';function vEc(b,a){var c=a||new U;c[R](CEc,Rd,J,xEc,qE,b.zVb,Gl,b.yVb,W,Bra,Zt);if(!a)return c[t]()}var DEc='" target="_top">';
function wEc(b,a){var c=a||new U;c[R](QP,Rd,J,xEc,J,mP,Gl,b.lfc,qE,b.B_b,DEc,b.mfc,hB);if(!a)return c[t]()}var EEc="aH",FEc="bU",GEc="End now",HEc='</a>&nbsp;&nbsp;&nbsp;<a class="',IEc="Vacation Settings",JEc='</a></div><span id="',KEc="&nbsp;</span></div>";function LEc(b,a){var c=a||new U;c[R](X,EEc,Gl,V(b.mqd),wl,FEc,Cra,Rd,J,xEc,Gl,V(b.TCc),W,GEc,HEc,Rd,J,xEc,Gl,V(b.Z1),W,IEc,JEc,V(b.oqd),W,V(b.nqd),KEc);if(!a)return c[t]()}var MEc='" scrolling="no" ></iframe>';
function NEc(b,a){var c=a||new U;c[R](Iqa,b.id,Ps,b.j8a,S,VP,MEc);if(!a)return c[t]()}var OEc="Devel jobset: ",PEc="Ozk3xc",QEc="</a> | ";function sEc(b,a){var c=a||new U,d=OEc+V(b.BYb);c[R](QP,PEc,yEc,b.TQc,W,d,QEc);if(!a)return c[t]()}function uY(b){UB[z](this,b);Bx(this);this.Z=Rz(b);this.Lb=Tz(b);this.H().w(fy(b).ud,Fx(WN),this.a9c);this.jb=JB(b);this.Aa=Dx(Cx(b))}function REc(b,a){return Li(a,function(c){return c.yn})}
function SEc(b,a){b=TEc(b,b.aa.HE());if(a)b=Di(b,function(c){return(c[Zb]&a)!=0});return b}function TEc(b,a){return Di(sf(a),function(c){return c!=i})}var UEc="guser",VEc="Sign out",WEc="aml";
function XEc(b,a,c){var d=b.B(),f=REc(b,a[1]),g;g=b.Aa.za(PDc);g={vM:g.Ca(Tu),url:g.Ca(Dra)};var j=!Jz(b.Z,1067)&&!Jz(b.Z,1164);return{rHc:UEc,kjc:Hi,Z1:b.X(ki),tRa:nD(d),lfc:b.X(xs),zVb:tDc(b.Lb),ebb:b.X(Uu),fbb:Era,oWc:b.X(sQ),enb:yDc(b.Z),fnb:zDc(b.Z),yVb:b.X(GO),B_b:vDc(b.Z),mfc:VEc,gVc:f,ptc:b.X(NL),fpa:b.Z[hq](A8a),vWa:a[3],Red:b.X(FE),vac:b.X(hP),tjd:c,crc:b.X(LD),aFb:b.X(WEc),IXb:Jz(b.Z,55),njb:!bx(),mkd:j,DXc:b.X(SL),BYb:g.vM,TQc:g.url}}function vY(b){this.bi=b}
function wY(b,a){BD[z](this,b,new eE(b));this.Z=Rz(b);this.iga=a;this.Bd=rD(b)}var YEc="qq",ZEc="navigation";function aFc(b,a){var c=b.ia,d=c.b();if(a.O[1]){var f=sD(b.Bd);ba.GBAR_doc=f[yc];Q(d,a.Cp());Li(d[ic](Kd),function(g){K(g,YEc)});K(d,Bqa);fn(d,ZEc);f.eval&&a.O[3]&&f.eval(a.O[3]);Vj(a.O[4],d)}else Q(d,I);d[o](b.iga.b());c.Xk(b.iga);d[o](b.W().ba(T,{className:Vu}))}function xY(b){this.kj=b}function bFc(b,a,c,d){this.id=b;Sp(this,a);this.Si=c;this.scope=d||Je;Ra(this,h)}var cFc="stlp";
function dFc(b){bFc[z](this,cFc,I,this.XJc,this);this.ci=b;this.Ud=this.fM=this.VUa=this.waa=i}function eFc(b){this.kj=b}
function yY(b){eE[z](this,b.B());this.xk=b;this.Cb=sC(b.B());this.CW=[];this.jb=JB(b.B());this.ctb={};this.Ud=i;Mx().Ug(110,G(this.Cza,this));b=dG(b.B());this.H().w(b,cG,this.iqb);Bx(this);b=this.aa.sNa();b[p](new bFc(EE,this.koc,this.D6c,this));b[p](new bFc(Wu,this.loc,this.G6c,this));this.ura=i;for(var a=0;a<b[u];a++){var c=b[a];if(c){this.CW[p](c);this.ctb[c.id]=c;if(!this.ura&&c[Vc])this.ura=c.id}}}
function zY(b,a,c){if(a=b.ctb[a]){Ra(a,c);a.Dna.ra(a[Vc]);b.ura=i;for(c=0;c<b.CW[u];c++){a=b.CW[c];if(a[Vc]){b.ura=a.id;break}}}}function fFc(b,a,c){var d=a.id==Xz,f=b.aa.jjb();f=d&&!f;zY(b,EE,f);f=f?I:xd;Ua(b.b(xs)[x],f);Ua(b.b(kD)[x],f);d&&gFc(b,b.aa.zT(a,c))}function gFc(b,a){var c=b.ny;b.Ud&&b.Ud.lw(c);a&&a.Wr(c);b.Ud=a}
var hFc='" role="search"><tr><td class=',iFc="bN",jFc="><input type=text id=",kFc=' onsubmit="return false" class="',lFc="bQ",mFc='" maxlength=2048 size=40 tabindex=0></td><td class="',nFc="bM",oFc="bR",pFc='"><span id=',qFc=' tabindex=0 role=link class="',rFc="</span><br><span id=";
function sFc(b,a){b=new U;b[R](Fl,ul,J,Pd,hFc,iFc,jFc,a.fXa,kFc,lFc,J,TP,mFc,iFc,J,nFc,W);for(var c=a.oS,d=c[u],f=0;f<d;f++){var g=c[f];AI({id:g.id,xh:g[jb]},b)}b[R](NG,iFc,J,oFc,pFc,a.Kgd,qFc,Xu,W,a.Lgd,rFc,a.rzc,qFc,Xu,W,a.szc,Fra);a=b[t]();return a}function tFc(b){for(var a=[],c=0;c<b.CW[u];c++){var d=b.CW[c];a[p]({id:b.X(d.id),text:d[qr]})}return{fXa:b.X(Bpa),Kgd:b.X(xs),rzc:b.X(kD),oS:a,Lgd:b.moc,szc:b.Ync}}function uFc(b){(b=b.ctb[b.ura])&&b.Si[z](b[Pq])}
function vFc(b,a,c,d){if(a=b.b(a)){var f=new BI(i,CI.S());f.Pb(a);b.H().w(f,Wn,c,k,d);return f}else return i}var wFc="aC";
function AY(b,a){BD[z](this,b,new gF(b));Bx(this);this.Y=qC(b).W();this.Aa=Dx(Cx(b));this.Z=Rz(b);this.Lb=Tz(b);this.kg=nF(b);this.Ma=yy(b);this.Mb=jF(b);this.Jc(a);a=this.H();a.w(this.Z,this.Z.Cq(WN),this.p0b);a.w(this.Z,this.Z.Cq(WN),this.q0b);a.w(this.Aa.Ya(),this.Ma.Yn(KM),this.OP);a.w(this.Aa.Ya(),this.Ma.Yn(W5a),this.OP);a.w(this.Aa.Ya(),this.Ma.Yn(NM),this.OP);a.w(this.Aa.Ya(),this.Ma.Yn(LM),this.OP);this.aa.Goa(b);this.jb=JB(b);this.Ck=VC(b);this.Ck.yu.add(this);this.Cb=sC(b);m(this.b(),wFc)}
function xFc(b){yA++;try{yFc(b,k);b.EX[Jq](Wx);b.EX.Hx(0);b.EX.SQ(Infinity);b.ci.qc(h);b.Oq&&b.Oq.Yb()}finally{zA()}}function zFc(b){yA++;try{yFc(b,h);b.EX.Kx(70);b.Oq.Nc();b.ci.qc(k)}finally{zA()}}function yFc(b,a){var c=YA(b.Xja);if(a){b.EX[Nc](c);b.ia.ha(c)}else{b.ia[Nc](c);b.EX.ha(c)}}var AFc="Mail Settings",BFc="Mail Help";
function CFc(b,a){yA++;try{var c=b.Z[hq](F8a),d=b.Z[hq](E8a);if(c){var f=new eE(a);Q(f.b(),NEc({id:b.X(Gra),j8a:c}));b.ada.ha(f);Wa(b.b(Gra),b.Z[hq](G8a));b.KLb=Zf();var g=fy(a);b.H().w(g.ud,Fx(VP),b.kUc)}if(d){f=new eE(a);Q(f.b(),DFc(b,d,b.Z));b.ada.ha(f)}if(b.ada.qj()>0){b.jyb=b.Z[hq](I8a);b.jyb||EFc(b);var j=new cF(a);j.Kx(9);b.ada.ha(j);b.ada.qc(h);b.gTa.qc(!d);var n=b.b(eP);n&&b.H().w(n,P,b.V6c)}if(b.Cc())if(b.Z[hq](K8a)){var s=b.b(eP),v=b.b(GO);if(s&&v){Q(s,AFc);Q(v,BFc)}}}finally{zA()}}
function EFc(b){b=b.b(Hz);var a=b[x];if(zia in a)aha(a,I);else pma(a,xd);wp(b[x],aR)}var FFc="ven",GFc="vsub";function HFc(b){b.B();return{mqd:b.X(Nt),nqd:b.Ma.db(LM),TCc:b.X(FFc),Z1:b.X(ft),oqd:b.X(GFc)}}function IFc(b,a){var c={};c.q=a;b.JM(a,c);b[Pc](new Rya(c));b.Cb.lf();dE(b.B()).pb(dhb)}
function JFc(b,a){if(b.Oq)a();else{b.U8a=new jB;WC(b.Ck);var c=O.S();Vw(c,Br,function(){b.U8a=i;WC(b.Ck);if(!b.Oq){b.Oq=new KFc(b.B(),b);b.EX.ha(b.Oq.NGc());b.H().w(b.Oq,Yu,b.b3c);var d=b.IH.ac(),f=ff(d.Uc(),b.IH);d.Jf(b.Oq,f+1)}a()})}}
function DFc(b,a){var c={Z1:b.X(eP),lfc:b.X(xs),zVb:tDc(b.Lb),yVb:b.X(GO),B_b:vDc(b.Z),mfc:VEc,tRa:nD(b.B())};b=AEc({fpa:b.Z[hq](A8a)});return a[mb](/\{\{userEmail\}\}/g,Hi)[mb](/\{\{manageDomainLink\}\}/g,b)[mb](/\{\{settingsLink\}\}/g,uEc(c))[mb](/\{\{helpLink\}\}/g,vEc(c))[mb](/\{\{signOutLink\}\}/g,wEc(c))}function LFc(b,a){return Di(sf(a),function(c){return c!=i})}var MFc="pz pA";
function NFc(b){PI[z](this,b,knb,MFc,G(this.lh,this),UVa);this.Lh=TD(b);this.jb=JB(b);if(this.slb=QIa(hF(b),Xz)){b=dG(b);this.qc(b.XR==this.slb);this.H().w(b,cG,this.iqb,k,this)}}function OFc(b){kJ[z](this,pJ,b);this.Fc(Zu);this.P1(ki)}function PFc(b){this.V=b;this.zi=FH(b);this.rca=fD(b);ih(this.zi,kC,this.F3b,k,this)}function QFc(b,a,c){b=b.zi.vz;for(var d=[],f=0;f<b[u];f++){var g=b[f];if(g.md()==wE)if((!a||Qya(a,g.Bb()))&&(!Ke(c)||c==g.Ut()))d[p](g)}return d}
function RFc(b,a){var c=b.rca.VEa[a[Wq]]||i;if(c)if(c=jA(b.V,c)){(a=c.JJ(b.V,b,a))&&gQa(b.zi,a);return a}return i}function SFc(b){this.HTc=b}var TFc=" q0CeU";
function BY(b){Bx(this);BD[z](this,b,(this.Ag